const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ.js","assets/progress-DswiN-jt-CRkTvpyk.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx.js","assets/download-k8BXtbsE-hJBy54oi.js","assets/Home-B1e5oU6L-BnLx-1kh.js","assets/flame-Z4NDYWf0-CPLPmaZ3.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v.js","assets/zap-BUGd4PS--D5Rx8Je6.js","assets/external-link-B3vh6vLr-IAJFuuQW.js","assets/trending-up-DOxCo9I6-CjyZKRpy.js","assets/target-1p2ICMDN-CvDzxGjB.js","assets/book-open-CsZLkRie-CnloTbZU.js","assets/plus-CzE6Y-vE-CTS6AMhf.js","assets/minus-CxnUEU8f-CdSPzO8E.js","assets/lock-DVJmOJtR-CPCpectf.js","assets/circle-alert-D0KxAb-N-CBSI-qzf.js","assets/palette-C1tdbQoO-D9zv_SnR.js","assets/Game-BSxN8OV2-DCbKaoIo.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N.js","assets/trending-down-CtEqn-BB-zOpygq96.js","assets/triangle-alert-BF04o9wv-5R0uES8i.js","assets/QuestionGenerator-z-c728t7-CSzYVewV.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH.js","assets/arrow-left-8gFWt4dJ-CSNboBK9.js","assets/Progress-CJyc2nxx-CCph28do.js","assets/LineChart-Boznw0oC-BjVvaeYB.js","assets/gift-gU3fLUyU-xa62twJ2.js","assets/Avatar-DWsPiGGF-BsRh6I0m.js","assets/label-ClTmKTiT-BGzEp_4m.js","assets/tabs-BCUfDdd3-DRpA79_-.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T.js","assets/index-DytiPzxp-BK84tApl.js","assets/save-WpcaPzdX-CJl6cnmk.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE.js","assets/medal-iK-ypg-g-C4SGU5mg.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm.js","assets/textarea-CqrSSpqj-CdkJNOEe.js","assets/select-CEEjSQMd-D2Q8_Gex.js","assets/index-K24GeIQO-pPWQlksM.js","assets/trash-2-jwsEREBw-DdJfLY0z.js","assets/info-BwmiXNr9-k9-UA3eH.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh.js","assets/Shop-CVZgRxJn-CVz_4LS0.js","assets/Leaderboards-Bm79OtXC-B_odZ22w.js","assets/user-plus-DvDth6Co-mjoHpJFL.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz.js","assets/GenerateIcons-irEsrbiy-D96HRozy.js","assets/loader-circle-BANzzYJc-B3uLjLZr.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD.js","assets/Messages-BRMZI1jn-BJW4UB3P.js","assets/ColorByNumbers-JzUc735X-263wB9fx.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo.js","assets/Settings-DBhk2Jxw-eoqk1yaj.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ.js","assets/AITutor-CiJvOfzv-b-ne1DOj.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC.js","assets/Subscribe-D5mtZK-4-DoW00_oc.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Pj="modulepreload",Rj=function(t){return"/"+t},jk={},Lt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=o(n.map(d=>{if(d=Rj(d),d in jk)return;jk[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":Pj,m||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),m)return new Promise((S,_)=>{v.addEventListener("load",S),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},jt=(t,e=jt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq.js","assets/progress-DswiN-jt.js","assets/InstallPrompt-CYulZlIm.js","assets/download-k8BXtbsE.js","assets/Home-B1e5oU6L.js","assets/flame-Z4NDYWf0.js","assets/AppTrialPromo-fh-8uCNN.js","assets/zap-BUGd4PS-.js","assets/external-link-B3vh6vLr.js","assets/trending-up-DOxCo9I6.js","assets/target-1p2ICMDN.js","assets/book-open-CsZLkRie.js","assets/plus-CzE6Y-vE.js","assets/minus-CxnUEU8f.js","assets/lock-DVJmOJtR.js","assets/circle-alert-D0KxAb-N.js","assets/palette-C1tdbQoO.js","assets/Game-BSxN8OV2.js","assets/useMutation-Dw-sPjxD.js","assets/CelebrationAnimation-Dc0BowXO.js","assets/TextToSpeech-AHz3T4an.js","assets/rotate-ccw-D8vHVTX7.js","assets/trending-down-CtEqn-BB.js","assets/triangle-alert-BF04o9wv.js","assets/QuestionGenerator-z-c728t7.js","assets/PremiumFeatureLock-DUuDI_YH.js","assets/arrow-left-8gFWt4dJ.js","assets/Progress-CJyc2nxx.js","assets/LineChart-Boznw0oC.js","assets/gift-gU3fLUyU.js","assets/Avatar-DWsPiGGF.js","assets/label-ClTmKTiT.js","assets/tabs-BCUfDdd3.js","assets/AvatarDisplay-BzkYfhqx.js","assets/index-DytiPzxp.js","assets/save-WpcaPzdX.js","assets/DailyChallenge-Bdw758IQ.js","assets/medal-iK-ypg-g.js","assets/ParentPortal-ujdsGIsq.js","assets/textarea-CqrSSpqj.js","assets/select-CEEjSQMd.js","assets/index-K24GeIQO.js","assets/trash-2-jwsEREBw.js","assets/info-BwmiXNr9.js","assets/startOfMonth-D3h4jTlt.js","assets/Shop-CVZgRxJn.js","assets/Leaderboards-Bm79OtXC.js","assets/user-plus-DvDth6Co.js","assets/TeamChallenges-YLDuyulC.js","assets/Subscription-BXM5wPAK.js","assets/GenerateIcons-irEsrbiy.js","assets/loader-circle-BANzzYJc.js","assets/TestIconGeneration-oHdXBYrX.js","assets/Messages-BRMZI1jn.js","assets/ColorByNumbers-JzUc735X.js","assets/paint-bucket-C2C9L7S8.js","assets/Settings-DBhk2Jxw.js","assets/PrivacyPolicy-CiiZkyoZ.js","assets/AITutor-CiJvOfzv.js","assets/AdminTestAccount-DOgC3vLm.js","assets/Subscribe-D5mtZK-4.js"]))=>t.map(r=>n[r]);var Dj=Object.defineProperty,G2=t=>{throw TypeError(t)},Mj=(t,e,n)=>e in t?Dj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fk=(t,e,n)=>Mj(t,typeof e!="symbol"?e+"":e,n),tx=(t,e,n)=>e.has(t)||G2("Cannot "+n),q=(t,e,n)=>(tx(t,e,"read from private field"),n?n.call(t):e.get(t)),Me=(t,e,n)=>e.has(t)?G2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(tx(t,e,"write to private field"),e.set(t,n),n),Ze=(t,e,n)=>(tx(t,e,"access private method"),n),_w=(t,e,n,r)=>({set _(s){ge(t,e,s)},get _(){return q(t,e,r)}});function Oj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var cne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vk={exports:{}},Dh={},zk={exports:{}},Ge={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Uk;function Lj(){if(Uk)return Ge;Uk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(K){return K===null||typeof K!="object"?null:(K=g&&K[g]||K["@@iterator"],typeof K=="function"?K:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function I(K,re,pe){this.props=K,this.context=re,this.refs=T,this.updater=pe||S}I.prototype.isReactComponent={},I.prototype.setState=function(K,re){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,re,"setState")},I.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function A(){}A.prototype=I.prototype;function R(K,re,pe){this.props=K,this.context=re,this.refs=T,this.updater=pe||S}var O=R.prototype=new A;O.constructor=R,_(O,I.prototype),O.isPureReactComponent=!0;var z=Array.isArray,B=Object.prototype.hasOwnProperty,G={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(K,re,pe){var me,De={},Ue=null,Ce=null;if(re!=null)for(me in re.ref!==void 0&&(Ce=re.ref),re.key!==void 0&&(Ue=""+re.key),re)B.call(re,me)&&!D.hasOwnProperty(me)&&(De[me]=re[me]);var $e=arguments.length-2;if($e===1)De.children=pe;else if(1<$e){for(var ze=Array($e),pt=0;pt<$e;pt++)ze[pt]=arguments[pt+2];De.children=ze}if(K&&K.defaultProps)for(me in $e=K.defaultProps,$e)De[me]===void 0&&(De[me]=$e[me]);return{$$typeof:t,type:K,key:Ue,ref:Ce,props:De,_owner:G.current}}function P(K,re){return{$$typeof:t,type:K.type,key:re,ref:K.ref,props:K.props,_owner:K._owner}}function L(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function V(K){var re={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(pe){return re[pe]})}var $=/\/+/g;function j(K,re){return typeof K=="object"&&K!==null&&K.key!=null?V(""+K.key):re.toString(36)}function ke(K,re,pe,me,De){var Ue=typeof K;(Ue==="undefined"||Ue==="boolean")&&(K=null);var Ce=!1;if(K===null)Ce=!0;else switch(Ue){case"string":case"number":Ce=!0;break;case"object":switch(K.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=K,De=De(Ce),K=me===""?"."+j(Ce,0):me,z(De)?(pe="",K!=null&&(pe=K.replace($,"$&/")+"/"),ke(De,re,pe,"",function(pt){return pt})):De!=null&&(L(De)&&(De=P(De,pe+(!De.key||Ce&&Ce.key===De.key?"":(""+De.key).replace($,"$&/")+"/")+K)),re.push(De)),1;if(Ce=0,me=me===""?".":me+":",z(K))for(var $e=0;$e<K.length;$e++){Ue=K[$e];var ze=me+j(Ue,$e);Ce+=ke(Ue,re,pe,ze,De)}else if(ze=v(K),typeof ze=="function")for(K=ze.call(K),$e=0;!(Ue=K.next()).done;)Ue=Ue.value,ze=me+j(Ue,$e++),Ce+=ke(Ue,re,pe,ze,De);else if(Ue==="object")throw re=String(K),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Re(K,re,pe){if(K==null)return K;var me=[],De=0;return ke(K,me,"","",function(Ue){return re.call(pe,Ue,De++)}),me}function ye(K){if(K._status===-1){var re=K._result;re=re(),re.then(function(pe){(K._status===0||K._status===-1)&&(K._status=1,K._result=pe)},function(pe){(K._status===0||K._status===-1)&&(K._status=2,K._result=pe)}),K._status===-1&&(K._status=0,K._result=re)}if(K._status===1)return K._result.default;throw K._result}var ve={current:null},H={transition:null},ne={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:H,ReactCurrentOwner:G};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:Re,forEach:function(K,re,pe){Re(K,function(){re.apply(this,arguments)},pe)},count:function(K){var re=0;return Re(K,function(){re++}),re},toArray:function(K){return Re(K,function(re){return re})||[]},only:function(K){if(!L(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Ge.Component=I,Ge.Fragment=n,Ge.Profiler=s,Ge.PureComponent=R,Ge.StrictMode=r,Ge.Suspense=c,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Ge.act=ae,Ge.cloneElement=function(K,re,pe){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var me=_({},K.props),De=K.key,Ue=K.ref,Ce=K._owner;if(re!=null){if(re.ref!==void 0&&(Ue=re.ref,Ce=G.current),re.key!==void 0&&(De=""+re.key),K.type&&K.type.defaultProps)var $e=K.type.defaultProps;for(ze in re)B.call(re,ze)&&!D.hasOwnProperty(ze)&&(me[ze]=re[ze]===void 0&&$e!==void 0?$e[ze]:re[ze])}var ze=arguments.length-2;if(ze===1)me.children=pe;else if(1<ze){$e=Array(ze);for(var pt=0;pt<ze;pt++)$e[pt]=arguments[pt+2];me.children=$e}return{$$typeof:t,type:K.type,key:De,ref:Ue,props:me,_owner:Ce}},Ge.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:i,_context:K},K.Consumer=K},Ge.createElement=C,Ge.createFactory=function(K){var re=C.bind(null,K);return re.type=K,re},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(K){return{$$typeof:u,render:K}},Ge.isValidElement=L,Ge.lazy=function(K){return{$$typeof:m,_payload:{_status:-1,_result:K},_init:ye}},Ge.memo=function(K,re){return{$$typeof:d,type:K,compare:re===void 0?null:re}},Ge.startTransition=function(K){var re=H.transition;H.transition={};try{K()}finally{H.transition=re}},Ge.unstable_act=ae,Ge.useCallback=function(K,re){return ve.current.useCallback(K,re)},Ge.useContext=function(K){return ve.current.useContext(K)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(K){return ve.current.useDeferredValue(K)},Ge.useEffect=function(K,re){return ve.current.useEffect(K,re)},Ge.useId=function(){return ve.current.useId()},Ge.useImperativeHandle=function(K,re,pe){return ve.current.useImperativeHandle(K,re,pe)},Ge.useInsertionEffect=function(K,re){return ve.current.useInsertionEffect(K,re)},Ge.useLayoutEffect=function(K,re){return ve.current.useLayoutEffect(K,re)},Ge.useMemo=function(K,re){return ve.current.useMemo(K,re)},Ge.useReducer=function(K,re,pe){return ve.current.useReducer(K,re,pe)},Ge.useRef=function(K){return ve.current.useRef(K)},Ge.useState=function(K){return ve.current.useState(K)},Ge.useSyncExternalStore=function(K,re,pe){return ve.current.useSyncExternalStore(K,re,pe)},Ge.useTransition=function(){return ve.current.useTransition()},Ge.version="18.3.1",Ge}var Bk;function rx(){return Bk||(Bk=1,zk.exports=Lj()),zk.exports}/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var $k;function jj(){if($k)return Dh;$k=1;var t=rx(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(u,c,d){var m,g={},v=null,S=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(S=c.ref);for(m in c)r.call(c,m)&&!i.hasOwnProperty(m)&&(g[m]=c[m]);if(u&&u.defaultProps)for(m in c=u.defaultProps,c)g[m]===void 0&&(g[m]=c[m]);return{$$typeof:e,type:u,key:v,ref:S,props:g,_owner:s.current}}return Dh.Fragment=n,Dh.jsx=o,Dh.jsxs=o,Dh}var qk;function Fj(){return qk||(qk=1,Vk.exports=jj()),Vk.exports}var x=Fj(),E=rx();const tn=nx(E),sx=Oj({__proto__:null,default:tn},[E]);var Hp={},y0={exports:{}},Kn={},Wk={exports:{}},Gk={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Kk;function Vj(){return Kk||(Kk=1,(function(t){function e(H,ne){var ae=H.length;H.push(ne);e:for(;0<ae;){var K=ae-1>>>1,re=H[K];if(0<s(re,ne))H[K]=ne,H[ae]=re,ae=K;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ne=H[0],ae=H.pop();if(ae!==ne){H[0]=ae;e:for(var K=0,re=H.length,pe=re>>>1;K<pe;){var me=2*(K+1)-1,De=H[me],Ue=me+1,Ce=H[Ue];if(0>s(De,ae))Ue<re&&0>s(Ce,De)?(H[K]=Ce,H[Ue]=ae,K=Ue):(H[K]=De,H[me]=ae,K=me);else if(Ue<re&&0>s(Ce,ae))H[K]=Ce,H[Ue]=ae,K=Ue;else break e}}return ne}function s(H,ne){var ae=H.sortIndex-ne.sortIndex;return ae!==0?ae:H.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],d=[],m=1,g=null,v=3,S=!1,_=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(H){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=H)r(d),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(d)}}function z(H){if(T=!1,O(H),!_)if(n(c)!==null)_=!0,ye(B);else{var ne=n(d);ne!==null&&ve(z,ne.startTime-H)}}function B(H,ne){_=!1,T&&(T=!1,A(C),C=-1),S=!0;var ae=v;try{for(O(ne),g=n(c);g!==null&&(!(g.expirationTime>ne)||H&&!V());){var K=g.callback;if(typeof K=="function"){g.callback=null,v=g.priorityLevel;var re=K(g.expirationTime<=ne);ne=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(c)&&r(c),O(ne)}else r(c);g=n(c)}if(g!==null)var pe=!0;else{var me=n(d);me!==null&&ve(z,me.startTime-ne),pe=!1}return pe}finally{g=null,v=ae,S=!1}}var G=!1,D=null,C=-1,P=5,L=-1;function V(){return!(t.unstable_now()-L<P)}function $(){if(D!==null){var H=t.unstable_now();L=H;var ne=!0;try{ne=D(!0,H)}finally{ne?j():(G=!1,D=null)}}else G=!1}var j;if(typeof R=="function")j=function(){R($)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Re=ke.port2;ke.port1.onmessage=$,j=function(){Re.postMessage(null)}}else j=function(){I($,0)};function ye(H){D=H,G||(G=!0,j())}function ve(H,ne){C=I(function(){H(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){_||S||(_=!0,ye(B))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var ae=v;v=ne;try{return H()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=v;v=H;try{return ne()}finally{v=ae}},t.unstable_scheduleCallback=function(H,ne,ae){var K=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?K+ae:K):ae=K,H){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ae+re,H={id:m++,callback:ne,priorityLevel:H,startTime:ae,expirationTime:re,sortIndex:-1},ae>K?(H.sortIndex=ae,e(d,H),n(c)===null&&H===n(d)&&(T?(A(C),C=-1):T=!0,ve(z,ae-K))):(H.sortIndex=re,e(c,H),_||S||(_=!0,ye(B))),H},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(H){var ne=v;return function(){var ae=v;v=ne;try{return H.apply(this,arguments)}finally{v=ae}}}})(Gk)),Gk}var Hk;function zj(){return Hk||(Hk=1,Wk.exports=Vj()),Wk.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Qk;function Uj(){if(Qk)return Kn;Qk=1;var t=rx(),e=zj();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,l){o(a,l),o(a+"Capture",l)}function o(a,l){for(s[a]=l,a=0;a<l.length;a++)r.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(a){return c.call(g,a)?!0:c.call(m,a)?!1:d.test(a)?g[a]=!0:(m[a]=!0,!1)}function S(a,l,h,p){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,l,h,p){if(l===null||typeof l>"u"||S(a,l,h,p))return!0;if(p)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(a,l,h,p,y,w,N){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=a,this.type=l,this.sanitizeURL=w,this.removeEmptyString=N}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new T(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];I[l]=new T(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new T(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new T(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new T(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new T(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new T(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new T(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new T(a,5,!1,a.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function R(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(A,R);I[l]=new T(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(A,R);I[l]=new T(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(A,R);I[l]=new T(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new T(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new T(a,1,!1,a.toLowerCase(),null,!0,!0)});function O(a,l,h,p){var y=I.hasOwnProperty(l)?I[l]:null;(y!==null?y.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(_(l,h,y,p)&&(h=null),p||y===null?v(l)&&(h===null?a.removeAttribute(l):a.setAttribute(l,""+h)):y.mustUseProperty?a[y.propertyName]=h===null?y.type===3?!1:"":h:(l=y.attributeName,p=y.attributeNamespace,h===null?a.removeAttribute(l):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,p?a.setAttributeNS(p,l,h):a.setAttribute(l,h))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),G=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),H=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=H&&a[H]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Object.assign,K;function re(a){if(K===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);K=l&&l[1]||""}return`
`+K+a}var pe=!1;function me(a,l){if(!a||pe)return"";pe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var p=Z}Reflect.construct(a,[],l)}else{try{l.call()}catch(Z){p=Z}a.call(l.prototype)}else{try{throw Error()}catch(Z){p=Z}a()}}catch(Z){if(Z&&p&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=p.stack.split(`
`),N=y.length-1,F=w.length-1;1<=N&&0<=F&&y[N]!==w[F];)F--;for(;1<=N&&0<=F;N--,F--)if(y[N]!==w[F]){if(N!==1||F!==1)do if(N--,F--,0>F||y[N]!==w[F]){var U=`
`+y[N].replace(" at new "," at ");return a.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",a.displayName)),U}while(1<=N&&0<=F);break}}}finally{pe=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?re(a):""}function De(a){switch(a.tag){case 5:return re(a.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return a=me(a.type,!1),a;case 11:return a=me(a.type.render,!1),a;case 1:return a=me(a.type,!0),a;default:return""}}function Ue(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case D:return"Fragment";case G:return"Portal";case P:return"Profiler";case C:return"StrictMode";case j:return"Suspense";case ke:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case V:return(a.displayName||"Context")+".Consumer";case L:return(a._context.displayName||"Context")+".Provider";case $:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Re:return l=a.displayName||null,l!==null?l:Ue(a.type)||"Memo";case ye:l=a._payload,a=a._init;try{return Ue(a(l))}catch{}}return null}function Ce(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(l);case 8:return l===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function $e(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ze(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function pt(a){var l=ze(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),p=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,w=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(N){p=""+N,w.call(this,N)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function vr(a){a._valueTracker||(a._valueTracker=pt(a))}function wr(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),p="";return a&&(p=ze(a)?a.checked?"true":"false":a.value),a=p,a!==h?(l.setValue(a),!0):!1}function Un(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Wi(a,l){var h=l.checked;return ae({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Fl(a,l){var h=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;h=$e(l.value!=null?l.value:h),a._wrapperState={initialChecked:p,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Gi(a,l){l=l.checked,l!=null&&O(a,"checked",l,!1)}function ei(a,l){Gi(a,l);var h=$e(l.value),p=l.type;if(h!=null)p==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(p==="submit"||p==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?mt(a,l.type,h):l.hasOwnProperty("defaultValue")&&mt(a,l.type,$e(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function oo(a,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,h||l===a.value||(a.value=l),a.defaultValue=l}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function mt(a,l,h){(l!=="number"||Un(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var Vt=Array.isArray;function Br(a,l,h,p){if(a=a.options,l){l={};for(var y=0;y<h.length;y++)l["$"+h[y]]=!0;for(h=0;h<a.length;h++)y=l.hasOwnProperty("$"+a[h].value),a[h].selected!==y&&(a[h].selected=y),y&&p&&(a[h].defaultSelected=!0)}else{for(h=""+$e(h),l=null,y=0;y<a.length;y++){if(a[y].value===h){a[y].selected=!0,p&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function Uc(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Bc(a,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if(Vt(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}a._wrapperState={initialValue:$e(h)}}function Mf(a,l){var h=$e(l.value),p=$e(l.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),l.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),p!=null&&(a.defaultValue=""+p)}function Ki(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function $c(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vl(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?$c(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Hi,Of=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,p,y){MSApp.execUnsafeLocalFunction(function(){return a(l,h,p,y)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Hi=Hi||document.createElement("div"),Hi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Hi.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function lo(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var Qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lf=["Webkit","ms","Moz","O"];Object.keys(Qi).forEach(function(a){Lf.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),Qi[l]=Qi[a]})});function Xi(a,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||Qi.hasOwnProperty(a)&&Qi[a]?(""+l).trim():l+"px"}function zl(a,l){a=a.style;for(var h in l)if(l.hasOwnProperty(h)){var p=h.indexOf("--")===0,y=Xi(h,l[h],p);h==="float"&&(h="cssFloat"),p?a.setProperty(h,y):a[h]=y}}var qc=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $r(a,l){if(l){if(qc[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Ul(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yi=null;function Bl(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ti=null,ni=null,At=null;function Wc(a){if(a=vh(a)){if(typeof ti!="function")throw Error(n(280));var l=a.stateNode;l&&(l=up(l),ti(a.stateNode,a.type,l))}}function Ji(a){ni?At?At.push(a):At=[a]:ni=a}function Zi(){if(ni){var a=ni,l=At;if(At=ni=null,Wc(a),l)for(a=0;a<l.length;a++)Wc(l[a])}}function jf(a,l){return a(l)}function Ff(){}var hs=!1;function Vf(a,l,h){if(hs)return a(l,h);hs=!0;try{return jf(a,l,h)}finally{hs=!1,(ni!==null||At!==null)&&(Ff(),Zi())}}function uo(a,l){var h=a.stateNode;if(h===null)return null;var p=up(h);if(p===null)return null;h=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var ea=!1;if(u)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){ea=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{ea=!1}function zf(a,l,h,p,y,w,N,F,U){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(h,Z)}catch(ie){this.onError(ie)}}var ri=!1,ds=null,$l=!1,br=null,Uf={onError:function(a){ri=!0,ds=a}};function Bf(a,l,h,p,y,w,N,F,U){ri=!1,ds=null,zf.apply(Uf,arguments)}function Gc(a,l,h,p,y,w,N,F,U){if(Bf.apply(this,arguments),ri){if(ri){var Z=ds;ri=!1,ds=null}else throw Error(n(198));$l||($l=!0,br=Z)}}function qr(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function Kc(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function $f(a){if(qr(a)!==a)throw Error(n(188))}function qf(a){var l=a.alternate;if(!l){if(l=qr(a),l===null)throw Error(n(188));return l!==a?null:a}for(var h=a,p=l;;){var y=h.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){h=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===h)return $f(y),a;if(w===p)return $f(y),l;w=w.sibling}throw Error(n(188))}if(h.return!==p.return)h=y,p=w;else{for(var N=!1,F=y.child;F;){if(F===h){N=!0,h=y,p=w;break}if(F===p){N=!0,p=y,h=w;break}F=F.sibling}if(!N){for(F=w.child;F;){if(F===h){N=!0,h=w,p=y;break}if(F===p){N=!0,p=w,h=y;break}F=F.sibling}if(!N)throw Error(n(189))}}if(h.alternate!==p)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:l}function Wf(a){return a=qf(a),a!==null?co(a):null}function co(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=co(a);if(l!==null)return l;a=a.sibling}return null}var Hc=e.unstable_scheduleCallback,ql=e.unstable_cancelCallback,ho=e.unstable_shouldYield,si=e.unstable_requestPaint,gt=e.unstable_now,Qy=e.unstable_getCurrentPriorityLevel,Wl=e.unstable_ImmediatePriority,Qc=e.unstable_UserBlockingPriority,fo=e.unstable_NormalPriority,Xc=e.unstable_LowPriority,Gl=e.unstable_IdlePriority,po=null,tr=null;function Gf(a){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(po,a,void 0,(a.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:mo,fs=Math.log,xr=Math.LN2;function mo(a){return a>>>=0,a===0?32:31-(fs(a)/xr|0)|0}var ps=64,na=4194304;function it(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ii(a,l){var h=a.pendingLanes;if(h===0)return 0;var p=0,y=a.suspendedLanes,w=a.pingedLanes,N=h&268435455;if(N!==0){var F=N&~y;F!==0?p=it(F):(w&=N,w!==0&&(p=it(w)))}else N=h&~y,N!==0?p=it(N):w!==0&&(p=it(w));if(p===0)return 0;if(l!==0&&l!==p&&(l&y)===0&&(y=p&-p,w=l&-l,y>=w||y===16&&(w&4194240)!==0))return l;if((p&4)!==0&&(p|=h&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=p;0<l;)h=31-nr(l),y=1<<h,p|=a[h],l&=~y;return p}function go(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(a,l){for(var h=a.suspendedLanes,p=a.pingedLanes,y=a.expirationTimes,w=a.pendingLanes;0<w;){var N=31-nr(w),F=1<<N,U=y[N];U===-1?((F&h)===0||(F&p)!==0)&&(y[N]=go(F,l)):U<=l&&(a.expiredLanes|=F),w&=~F}}function Yc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Jc(){var a=ps;return ps<<=1,(ps&4194240)===0&&(ps=64),a}function Zc(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function vo(a,l,h){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-nr(l),a[l]=h}function Xy(a,l){var h=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var p=a.eventTimes;for(a=a.expirationTimes;0<h;){var y=31-nr(h),w=1<<y;l[y]=0,p[y]=-1,a[y]=-1,h&=~w}}function eh(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var p=31-nr(h),y=1<<p;y&l|a[p]&l&&(a[p]|=l),h&=~y}}var Qe=0;function ms(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var th,Kl,nh,rh,sh,gs=!1,Hl=[],ys=null,vs=null,cn=null,wo=new Map,ai=new Map,rr=[],Kf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ra(a,l){switch(a){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":wo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ai.delete(l.pointerId)}}function Wr(a,l,h,p,y,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:h,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},l!==null&&(l=vh(l),l!==null&&Kl(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function Hf(a,l,h,p,y){switch(l){case"focusin":return ys=Wr(ys,a,l,h,p,y),!0;case"dragenter":return vs=Wr(vs,a,l,h,p,y),!0;case"mouseover":return cn=Wr(cn,a,l,h,p,y),!0;case"pointerover":var w=y.pointerId;return wo.set(w,Wr(wo.get(w)||null,a,l,h,p,y)),!0;case"gotpointercapture":return w=y.pointerId,ai.set(w,Wr(ai.get(w)||null,a,l,h,p,y)),!0}return!1}function Ql(a){var l=So(a.target);if(l!==null){var h=qr(l);if(h!==null){if(l=h.tag,l===13){if(l=Kc(h),l!==null){a.blockedOn=l,sh(a.priority,function(){nh(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ct(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=Xl(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var p=new h.constructor(h.type,h);Yi=p,h.target.dispatchEvent(p),Yi=null}else return l=vh(h),l!==null&&Kl(l),a.blockedOn=h,!1;l.shift()}return!0}function Qf(a,l,h){ct(a)&&h.delete(l)}function Yy(){gs=!1,ys!==null&&ct(ys)&&(ys=null),vs!==null&&ct(vs)&&(vs=null),cn!==null&&ct(cn)&&(cn=null),wo.forEach(Qf),ai.forEach(Qf)}function sa(a,l){a.blockedOn===l&&(a.blockedOn=null,gs||(gs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yy)))}function ia(a){function l(y){return sa(y,a)}if(0<Hl.length){sa(Hl[0],a);for(var h=1;h<Hl.length;h++){var p=Hl[h];p.blockedOn===a&&(p.blockedOn=null)}}for(ys!==null&&sa(ys,a),vs!==null&&sa(vs,a),cn!==null&&sa(cn,a),wo.forEach(l),ai.forEach(l),h=0;h<rr.length;h++)p=rr[h],p.blockedOn===a&&(p.blockedOn=null);for(;0<rr.length&&(h=rr[0],h.blockedOn===null);)Ql(h),h.blockedOn===null&&rr.shift()}var oi=z.ReactCurrentBatchConfig,li=!0;function ws(a,l,h,p){var y=Qe,w=oi.transition;oi.transition=null;try{Qe=1,ih(a,l,h,p)}finally{Qe=y,oi.transition=w}}function Xf(a,l,h,p){var y=Qe,w=oi.transition;oi.transition=null;try{Qe=4,ih(a,l,h,p)}finally{Qe=y,oi.transition=w}}function ih(a,l,h,p){if(li){var y=Xl(a,l,h,p);if(y===null)lv(a,l,p,bs,h),ra(a,p);else if(Hf(y,a,l,h,p))p.stopPropagation();else if(ra(a,p),l&4&&-1<Kf.indexOf(a)){for(;y!==null;){var w=vh(y);if(w!==null&&th(w),w=Xl(a,l,h,p),w===null&&lv(a,l,p,bs,h),w===y)break;y=w}y!==null&&p.stopPropagation()}else lv(a,l,p,null,h)}}var bs=null;function Xl(a,l,h,p){if(bs=null,a=Bl(p),a=So(a),a!==null)if(l=qr(a),l===null)a=null;else if(h=l.tag,h===13){if(a=Kc(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return bs=a,null}function Yl(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qy()){case Wl:return 1;case Qc:return 4;case fo:case Xc:return 16;case Gl:return 536870912;default:return 16}default:return 16}}var sr=null,Jl=null,ui=null;function Yf(){if(ui)return ui;var a,l=Jl,h=l.length,p,y="value"in sr?sr.value:sr.textContent,w=y.length;for(a=0;a<h&&l[a]===y[a];a++);var N=h-a;for(p=1;p<=N&&l[h-p]===y[w-p];p++);return ui=y.slice(a,1<p?1-p:void 0)}function bo(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function xs(){return!0}function ah(){return!1}function wn(a){function l(h,p,y,w,N){this._reactName=h,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var F in a)a.hasOwnProperty(F)&&(h=a[F],this[F]=h?h(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?xs:ah,this.isPropagationStopped=ah,this}return ae(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),l}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=wn(Es),aa=ae({},Es,{view:0,detail:0}),Zl=wn(aa),eu,tu,ir,Eo=ae({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Be,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ir&&(ir&&a.type==="mousemove"?(eu=a.screenX-ir.screenX,tu=a.screenY-ir.screenY):tu=eu=0,ir=a),eu)},movementY:function(a){return"movementY"in a?a.movementY:tu}}),oh=wn(Eo),Jf=ae({},Eo,{dataTransfer:0}),Zf=wn(Jf),nu=ae({},aa,{relatedTarget:0}),hn=wn(nu),ep=ae({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),tp=wn(ep),oa=ae({},Es,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),f=wn(oa),b=ae({},Es,{data:0}),k=wn(b),M={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function he(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=ee[a])?!!l[a]:!1}function Be(){return he}var zt=ae({},aa,{key:function(a){if(a.key){var l=M[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=bo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Y[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Be,charCode:function(a){return a.type==="keypress"?bo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?bo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ht=wn(zt),Gt=ae({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ar=wn(Gt),la=ae({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Be}),Ss=wn(la),ks=ae({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=wn(ks),lh=ae({},Eo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),T4=wn(lh),I4=[9,13,27,32],Jy=u&&"CompositionEvent"in window,uh=null;u&&"documentMode"in document&&(uh=document.documentMode);var _4=u&&"TextEvent"in window&&!uh,CE=u&&(!Jy||uh&&8<uh&&11>=uh),NE=" ",AE=!1;function PE(a,l){switch(a){case"keyup":return I4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RE(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var su=!1;function C4(a,l){switch(a){case"compositionend":return RE(l);case"keypress":return l.which!==32?null:(AE=!0,NE);case"textInput":return a=l.data,a===NE&&AE?null:a;default:return null}}function N4(a,l){if(su)return a==="compositionend"||!Jy&&PE(a,l)?(a=Yf(),ui=Jl=sr=null,su=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return CE&&l.locale!=="ko"?null:l.data;default:return null}}var A4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DE(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!A4[a.type]:l==="textarea"}function ME(a,l,h,p){Ji(p),l=ap(l,"onChange"),0<l.length&&(h=new xo("onChange","change",null,h,p),a.push({event:h,listeners:l}))}var ch=null,hh=null;function P4(a){JE(a,0)}function np(a){var l=uu(a);if(wr(l))return a}function R4(a,l){if(a==="change")return l}var OE=!1;if(u){var Zy;if(u){var ev="oninput"in document;if(!ev){var LE=document.createElement("div");LE.setAttribute("oninput","return;"),ev=typeof LE.oninput=="function"}Zy=ev}else Zy=!1;OE=Zy&&(!document.documentMode||9<document.documentMode)}function jE(){ch&&(ch.detachEvent("onpropertychange",FE),hh=ch=null)}function FE(a){if(a.propertyName==="value"&&np(hh)){var l=[];ME(l,hh,a,Bl(a)),Vf(P4,l)}}function D4(a,l,h){a==="focusin"?(jE(),ch=l,hh=h,ch.attachEvent("onpropertychange",FE)):a==="focusout"&&jE()}function M4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return np(hh)}function O4(a,l){if(a==="click")return np(l)}function L4(a,l){if(a==="input"||a==="change")return np(l)}function j4(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Gr=typeof Object.is=="function"?Object.is:j4;function dh(a,l){if(Gr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),p=Object.keys(l);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var y=h[p];if(!c.call(l,y)||!Gr(a[y],l[y]))return!1}return!0}function VE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function zE(a,l){var h=VE(a);a=0;for(var p;h;){if(h.nodeType===3){if(p=a+h.textContent.length,a<=l&&p>=l)return{node:h,offset:l-a};a=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=VE(h)}}function UE(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?UE(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function BE(){for(var a=window,l=Un();l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=Un(a.document)}return l}function tv(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function F4(a){var l=BE(),h=a.focusedElem,p=a.selectionRange;if(l!==h&&h&&h.ownerDocument&&UE(h.ownerDocument.documentElement,h)){if(p!==null&&tv(h)){if(l=p.start,a=p.end,a===void 0&&(a=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(a,h.value.length);else if(a=(l=h.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var y=h.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!a.extend&&w>p&&(y=p,p=w,w=y),y=zE(h,w);var N=zE(h,p);y&&N&&(a.rangeCount!==1||a.anchorNode!==y.node||a.anchorOffset!==y.offset||a.focusNode!==N.node||a.focusOffset!==N.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),a.removeAllRanges(),w>p?(a.addRange(l),a.extend(N.node,N.offset)):(l.setEnd(N.node,N.offset),a.addRange(l)))}}for(l=[],a=h;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)a=l[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var V4=u&&"documentMode"in document&&11>=document.documentMode,iu=null,nv=null,fh=null,rv=!1;function $E(a,l,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;rv||iu==null||iu!==Un(p)||(p=iu,"selectionStart"in p&&tv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),fh&&dh(fh,p)||(fh=p,p=ap(nv,"onSelect"),0<p.length&&(l=new xo("onSelect","select",null,l,h),a.push({event:l,listeners:p}),l.target=iu)))}function rp(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var au={animationend:rp("Animation","AnimationEnd"),animationiteration:rp("Animation","AnimationIteration"),animationstart:rp("Animation","AnimationStart"),transitionend:rp("Transition","TransitionEnd")},sv={},qE={};u&&(qE=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function sp(a){if(sv[a])return sv[a];if(!au[a])return a;var l=au[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in qE)return sv[a]=l[h];return a}var WE=sp("animationend"),GE=sp("animationiteration"),KE=sp("animationstart"),HE=sp("transitionend"),QE=new Map,XE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(a,l){QE.set(a,l),i(l,[a])}for(var iv=0;iv<XE.length;iv++){var av=XE[iv],z4=av.toLowerCase(),U4=av[0].toUpperCase()+av.slice(1);ua(z4,"on"+U4)}ua(WE,"onAnimationEnd"),ua(GE,"onAnimationIteration"),ua(KE,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(HE,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B4=new Set("cancel close invalid load scroll toggle".split(" ").concat(ph));function YE(a,l,h){var p=a.type||"unknown-event";a.currentTarget=h,Gc(p,l,void 0,a),a.currentTarget=null}function JE(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var p=a[h],y=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var N=p.length-1;0<=N;N--){var F=p[N],U=F.instance,Z=F.currentTarget;if(F=F.listener,U!==w&&y.isPropagationStopped())break e;YE(y,F,Z),w=U}else for(N=0;N<p.length;N++){if(F=p[N],U=F.instance,Z=F.currentTarget,F=F.listener,U!==w&&y.isPropagationStopped())break e;YE(y,F,Z),w=U}}}if($l)throw a=br,$l=!1,br=null,a}function yt(a,l){var h=l[pv];h===void 0&&(h=l[pv]=new Set);var p=a+"__bubble";h.has(p)||(ZE(l,a,2,!1),h.add(p))}function ov(a,l,h){var p=0;l&&(p|=4),ZE(h,a,p,l)}var ip="_reactListening"+Math.random().toString(36).slice(2);function mh(a){if(!a[ip]){a[ip]=!0,r.forEach(function(h){h!=="selectionchange"&&(B4.has(h)||ov(h,!1,a),ov(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[ip]||(l[ip]=!0,ov("selectionchange",!1,l))}}function ZE(a,l,h,p){switch(Yl(l)){case 1:var y=ws;break;case 4:y=Xf;break;default:y=ih}h=y.bind(null,l,h,a),y=void 0,!ea||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),p?y!==void 0?a.addEventListener(l,h,{capture:!0,passive:y}):a.addEventListener(l,h,!0):y!==void 0?a.addEventListener(l,h,{passive:y}):a.addEventListener(l,h,!1)}function lv(a,l,h,p,y){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var F=p.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(N===4)for(N=p.return;N!==null;){var U=N.tag;if((U===3||U===4)&&(U=N.stateNode.containerInfo,U===y||U.nodeType===8&&U.parentNode===y))return;N=N.return}for(;F!==null;){if(N=So(F),N===null)return;if(U=N.tag,U===5||U===6){p=w=N;continue e}F=F.parentNode}}p=p.return}Vf(function(){var Z=w,ie=Bl(h),oe=[];e:{var se=QE.get(a);if(se!==void 0){var fe=xo,be=a;switch(a){case"keypress":if(bo(h)===0)break e;case"keydown":case"keyup":fe=ht;break;case"focusin":be="focus",fe=hn;break;case"focusout":be="blur",fe=hn;break;case"beforeblur":case"afterblur":fe=hn;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Ss;break;case WE:case GE:case KE:fe=tp;break;case HE:fe=ru;break;case"scroll":fe=Zl;break;case"wheel":fe=T4;break;case"copy":case"cut":case"paste":fe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=ar}var Te=(l&4)!==0,Ut=!Te&&a==="scroll",X=Te?se!==null?se+"Capture":null:se;Te=[];for(var W=Z,J;W!==null;){J=W;var ue=J.stateNode;if(J.tag===5&&ue!==null&&(J=ue,X!==null&&(ue=uo(W,X),ue!=null&&Te.push(gh(W,ue,J)))),Ut)break;W=W.return}0<Te.length&&(se=new fe(se,be,null,h,ie),oe.push({event:se,listeners:Te}))}}if((l&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",fe=a==="mouseout"||a==="pointerout",se&&h!==Yi&&(be=h.relatedTarget||h.fromElement)&&(So(be)||be[ci]))break e;if((fe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(be=h.relatedTarget||h.toElement,fe=Z,be=be?So(be):null,be!==null&&(Ut=qr(be),be!==Ut||be.tag!==5&&be.tag!==6)&&(be=null)):(fe=null,be=Z),fe!==be)){if(Te=oh,ue="onMouseLeave",X="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(Te=ar,ue="onPointerLeave",X="onPointerEnter",W="pointer"),Ut=fe==null?se:uu(fe),J=be==null?se:uu(be),se=new Te(ue,W+"leave",fe,h,ie),se.target=Ut,se.relatedTarget=J,ue=null,So(ie)===Z&&(Te=new Te(X,W+"enter",be,h,ie),Te.target=J,Te.relatedTarget=Ut,ue=Te),Ut=ue,fe&&be)t:{for(Te=fe,X=be,W=0,J=Te;J;J=ou(J))W++;for(J=0,ue=X;ue;ue=ou(ue))J++;for(;0<W-J;)Te=ou(Te),W--;for(;0<J-W;)X=ou(X),J--;for(;W--;){if(Te===X||X!==null&&Te===X.alternate)break t;Te=ou(Te),X=ou(X)}Te=null}else Te=null;fe!==null&&eS(oe,se,fe,Te,!1),be!==null&&Ut!==null&&eS(oe,Ut,be,Te,!0)}}e:{if(se=Z?uu(Z):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var Ie=R4;else if(DE(se))if(OE)Ie=L4;else{Ie=M4;var Ae=D4}else(fe=se.nodeName)&&fe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Ie=O4);if(Ie&&(Ie=Ie(a,Z))){ME(oe,Ie,h,ie);break e}Ae&&Ae(a,se,Z),a==="focusout"&&(Ae=se._wrapperState)&&Ae.controlled&&se.type==="number"&&mt(se,"number",se.value)}switch(Ae=Z?uu(Z):window,a){case"focusin":(DE(Ae)||Ae.contentEditable==="true")&&(iu=Ae,nv=Z,fh=null);break;case"focusout":fh=nv=iu=null;break;case"mousedown":rv=!0;break;case"contextmenu":case"mouseup":case"dragend":rv=!1,$E(oe,h,ie);break;case"selectionchange":if(V4)break;case"keydown":case"keyup":$E(oe,h,ie)}var Pe;if(Jy)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else su?PE(a,h)&&(je="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(je="onCompositionStart");je&&(CE&&h.locale!=="ko"&&(su||je!=="onCompositionStart"?je==="onCompositionEnd"&&su&&(Pe=Yf()):(sr=ie,Jl="value"in sr?sr.value:sr.textContent,su=!0)),Ae=ap(Z,je),0<Ae.length&&(je=new k(je,a,null,h,ie),oe.push({event:je,listeners:Ae}),Pe?je.data=Pe:(Pe=RE(h),Pe!==null&&(je.data=Pe)))),(Pe=_4?C4(a,h):N4(a,h))&&(Z=ap(Z,"onBeforeInput"),0<Z.length&&(ie=new k("onBeforeInput","beforeinput",null,h,ie),oe.push({event:ie,listeners:Z}),ie.data=Pe))}JE(oe,l)})}function gh(a,l,h){return{instance:a,listener:l,currentTarget:h}}function ap(a,l){for(var h=l+"Capture",p=[];a!==null;){var y=a,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=uo(a,h),w!=null&&p.unshift(gh(a,w,y)),w=uo(a,l),w!=null&&p.push(gh(a,w,y))),a=a.return}return p}function ou(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function eS(a,l,h,p,y){for(var w=l._reactName,N=[];h!==null&&h!==p;){var F=h,U=F.alternate,Z=F.stateNode;if(U!==null&&U===p)break;F.tag===5&&Z!==null&&(F=Z,y?(U=uo(h,w),U!=null&&N.unshift(gh(h,U,F))):y||(U=uo(h,w),U!=null&&N.push(gh(h,U,F)))),h=h.return}N.length!==0&&a.push({event:l,listeners:N})}var $4=/\r\n?/g,q4=/\u0000|\uFFFD/g;function tS(a){return(typeof a=="string"?a:""+a).replace($4,`
`).replace(q4,"")}function op(a,l,h){if(l=tS(l),tS(a)!==l&&h)throw Error(n(425))}function lp(){}var uv=null,cv=null;function hv(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var dv=typeof setTimeout=="function"?setTimeout:void 0,W4=typeof clearTimeout=="function"?clearTimeout:void 0,nS=typeof Promise=="function"?Promise:void 0,G4=typeof queueMicrotask=="function"?queueMicrotask:typeof nS<"u"?function(a){return nS.resolve(null).then(a).catch(K4)}:dv;function K4(a){setTimeout(function(){throw a})}function fv(a,l){var h=l,p=0;do{var y=h.nextSibling;if(a.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(p===0){a.removeChild(y),ia(l);return}p--}else h!=="$"&&h!=="$?"&&h!=="$!"||p++;h=y}while(h);ia(l)}function ca(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function rS(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}var lu=Math.random().toString(36).slice(2),Ts="__reactFiber$"+lu,yh="__reactProps$"+lu,ci="__reactContainer$"+lu,pv="__reactEvents$"+lu,H4="__reactListeners$"+lu,Q4="__reactHandles$"+lu;function So(a){var l=a[Ts];if(l)return l;for(var h=a.parentNode;h;){if(l=h[ci]||h[Ts]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=rS(a);a!==null;){if(h=a[Ts])return h;a=rS(a)}return l}a=h,h=a.parentNode}return null}function vh(a){return a=a[Ts]||a[ci],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function uu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function up(a){return a[yh]||null}var mv=[],cu=-1;function ha(a){return{current:a}}function vt(a){0>cu||(a.current=mv[cu],mv[cu]=null,cu--)}function dt(a,l){cu++,mv[cu]=a.current,a.current=l}var da={},bn=ha(da),Bn=ha(!1),ko=da;function hu(a,l){var h=a.type.contextTypes;if(!h)return da;var p=a.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in h)y[w]=l[w];return p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=y),y}function $n(a){return a=a.childContextTypes,a!=null}function cp(){vt(Bn),vt(bn)}function sS(a,l,h){if(bn.current!==da)throw Error(n(168));dt(bn,l),dt(Bn,h)}function iS(a,l,h){var p=a.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return h;p=p.getChildContext();for(var y in p)if(!(y in l))throw Error(n(108,Ce(a)||"Unknown",y));return ae({},h,p)}function hp(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||da,ko=bn.current,dt(bn,a),dt(Bn,Bn.current),!0}function aS(a,l,h){var p=a.stateNode;if(!p)throw Error(n(169));h?(a=iS(a,l,ko),p.__reactInternalMemoizedMergedChildContext=a,vt(Bn),vt(bn),dt(bn,a)):vt(Bn),dt(Bn,h)}var hi=null,dp=!1,gv=!1;function oS(a){hi===null?hi=[a]:hi.push(a)}function X4(a){dp=!0,oS(a)}function fa(){if(!gv&&hi!==null){gv=!0;var a=0,l=Qe;try{var h=hi;for(Qe=1;a<h.length;a++){var p=h[a];do p=p(!0);while(p!==null)}hi=null,dp=!1}catch(y){throw hi!==null&&(hi=hi.slice(a+1)),Hc(Wl,fa),y}finally{Qe=l,gv=!1}}return null}var du=[],fu=0,fp=null,pp=0,Er=[],Sr=0,To=null,di=1,fi="";function Io(a,l){du[fu++]=pp,du[fu++]=fp,fp=a,pp=l}function lS(a,l,h){Er[Sr++]=di,Er[Sr++]=fi,Er[Sr++]=To,To=a;var p=di;a=fi;var y=32-nr(p)-1;p&=~(1<<y),h+=1;var w=32-nr(l)+y;if(30<w){var N=y-y%5;w=(p&(1<<N)-1).toString(32),p>>=N,y-=N,di=1<<32-nr(l)+y|h<<y|p,fi=w+a}else di=1<<w|h<<y|p,fi=a}function yv(a){a.return!==null&&(Io(a,1),lS(a,1,0))}function vv(a){for(;a===fp;)fp=du[--fu],du[fu]=null,pp=du[--fu],du[fu]=null;for(;a===To;)To=Er[--Sr],Er[Sr]=null,fi=Er[--Sr],Er[Sr]=null,di=Er[--Sr],Er[Sr]=null}var or=null,lr=null,bt=!1,Kr=null;function uS(a,l){var h=_r(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=a,l=a.deletions,l===null?(a.deletions=[h],a.flags|=16):l.push(h)}function cS(a,l){switch(a.tag){case 5:var h=a.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,or=a,lr=ca(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,or=a,lr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=To!==null?{id:di,overflow:fi}:null,a.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=_r(18,null,null,0),h.stateNode=l,h.return=a,a.child=h,or=a,lr=null,!0):!1;default:return!1}}function wv(a){return(a.mode&1)!==0&&(a.flags&128)===0}function bv(a){if(bt){var l=lr;if(l){var h=l;if(!cS(a,l)){if(wv(a))throw Error(n(418));l=ca(h.nextSibling);var p=or;l&&cS(a,l)?uS(p,h):(a.flags=a.flags&-4097|2,bt=!1,or=a)}}else{if(wv(a))throw Error(n(418));a.flags=a.flags&-4097|2,bt=!1,or=a}}}function hS(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;or=a}function mp(a){if(a!==or)return!1;if(!bt)return hS(a),bt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!hv(a.type,a.memoizedProps)),l&&(l=lr)){if(wv(a))throw dS(),Error(n(418));for(;l;)uS(a,l),l=ca(l.nextSibling)}if(hS(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(l===0){lr=ca(a.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}a=a.nextSibling}lr=null}}else lr=or?ca(a.stateNode.nextSibling):null;return!0}function dS(){for(var a=lr;a;)a=ca(a.nextSibling)}function pu(){lr=or=null,bt=!1}function xv(a){Kr===null?Kr=[a]:Kr.push(a)}var Y4=z.ReactCurrentBatchConfig;function wh(a,l,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var p=h.stateNode}if(!p)throw Error(n(147,a));var y=p,w=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(N){var F=y.refs;N===null?delete F[w]:F[w]=N},l._stringRef=w,l)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function gp(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function fS(a){var l=a._init;return l(a._payload)}function pS(a){function l(X,W){if(a){var J=X.deletions;J===null?(X.deletions=[W],X.flags|=16):J.push(W)}}function h(X,W){if(!a)return null;for(;W!==null;)l(X,W),W=W.sibling;return null}function p(X,W){for(X=new Map;W!==null;)W.key!==null?X.set(W.key,W):X.set(W.index,W),W=W.sibling;return X}function y(X,W){return X=xa(X,W),X.index=0,X.sibling=null,X}function w(X,W,J){return X.index=J,a?(J=X.alternate,J!==null?(J=J.index,J<W?(X.flags|=2,W):J):(X.flags|=2,W)):(X.flags|=1048576,W)}function N(X){return a&&X.alternate===null&&(X.flags|=2),X}function F(X,W,J,ue){return W===null||W.tag!==6?(W=h0(J,X.mode,ue),W.return=X,W):(W=y(W,J),W.return=X,W)}function U(X,W,J,ue){var Ie=J.type;return Ie===D?ie(X,W,J.props.children,ue,J.key):W!==null&&(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===ye&&fS(Ie)===W.type)?(ue=y(W,J.props),ue.ref=wh(X,W,J),ue.return=X,ue):(ue=zp(J.type,J.key,J.props,null,X.mode,ue),ue.ref=wh(X,W,J),ue.return=X,ue)}function Z(X,W,J,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=d0(J,X.mode,ue),W.return=X,W):(W=y(W,J.children||[]),W.return=X,W)}function ie(X,W,J,ue,Ie){return W===null||W.tag!==7?(W=Mo(J,X.mode,ue,Ie),W.return=X,W):(W=y(W,J),W.return=X,W)}function oe(X,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=h0(""+W,X.mode,J),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case B:return J=zp(W.type,W.key,W.props,null,X.mode,J),J.ref=wh(X,null,W),J.return=X,J;case G:return W=d0(W,X.mode,J),W.return=X,W;case ye:var ue=W._init;return oe(X,ue(W._payload),J)}if(Vt(W)||ne(W))return W=Mo(W,X.mode,J,null),W.return=X,W;gp(X,W)}return null}function se(X,W,J,ue){var Ie=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ie!==null?null:F(X,W,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case B:return J.key===Ie?U(X,W,J,ue):null;case G:return J.key===Ie?Z(X,W,J,ue):null;case ye:return Ie=J._init,se(X,W,Ie(J._payload),ue)}if(Vt(J)||ne(J))return Ie!==null?null:ie(X,W,J,ue,null);gp(X,J)}return null}function fe(X,W,J,ue,Ie){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return X=X.get(J)||null,F(W,X,""+ue,Ie);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case B:return X=X.get(ue.key===null?J:ue.key)||null,U(W,X,ue,Ie);case G:return X=X.get(ue.key===null?J:ue.key)||null,Z(W,X,ue,Ie);case ye:var Ae=ue._init;return fe(X,W,J,Ae(ue._payload),Ie)}if(Vt(ue)||ne(ue))return X=X.get(J)||null,ie(W,X,ue,Ie,null);gp(W,ue)}return null}function be(X,W,J,ue){for(var Ie=null,Ae=null,Pe=W,je=W=0,on=null;Pe!==null&&je<J.length;je++){Pe.index>je?(on=Pe,Pe=null):on=Pe.sibling;var st=se(X,Pe,J[je],ue);if(st===null){Pe===null&&(Pe=on);break}a&&Pe&&st.alternate===null&&l(X,Pe),W=w(st,W,je),Ae===null?Ie=st:Ae.sibling=st,Ae=st,Pe=on}if(je===J.length)return h(X,Pe),bt&&Io(X,je),Ie;if(Pe===null){for(;je<J.length;je++)Pe=oe(X,J[je],ue),Pe!==null&&(W=w(Pe,W,je),Ae===null?Ie=Pe:Ae.sibling=Pe,Ae=Pe);return bt&&Io(X,je),Ie}for(Pe=p(X,Pe);je<J.length;je++)on=fe(Pe,X,je,J[je],ue),on!==null&&(a&&on.alternate!==null&&Pe.delete(on.key===null?je:on.key),W=w(on,W,je),Ae===null?Ie=on:Ae.sibling=on,Ae=on);return a&&Pe.forEach(function(Ea){return l(X,Ea)}),bt&&Io(X,je),Ie}function Te(X,W,J,ue){var Ie=ne(J);if(typeof Ie!="function")throw Error(n(150));if(J=Ie.call(J),J==null)throw Error(n(151));for(var Ae=Ie=null,Pe=W,je=W=0,on=null,st=J.next();Pe!==null&&!st.done;je++,st=J.next()){Pe.index>je?(on=Pe,Pe=null):on=Pe.sibling;var Ea=se(X,Pe,st.value,ue);if(Ea===null){Pe===null&&(Pe=on);break}a&&Pe&&Ea.alternate===null&&l(X,Pe),W=w(Ea,W,je),Ae===null?Ie=Ea:Ae.sibling=Ea,Ae=Ea,Pe=on}if(st.done)return h(X,Pe),bt&&Io(X,je),Ie;if(Pe===null){for(;!st.done;je++,st=J.next())st=oe(X,st.value,ue),st!==null&&(W=w(st,W,je),Ae===null?Ie=st:Ae.sibling=st,Ae=st);return bt&&Io(X,je),Ie}for(Pe=p(X,Pe);!st.done;je++,st=J.next())st=fe(Pe,X,je,st.value,ue),st!==null&&(a&&st.alternate!==null&&Pe.delete(st.key===null?je:st.key),W=w(st,W,je),Ae===null?Ie=st:Ae.sibling=st,Ae=st);return a&&Pe.forEach(function(Aj){return l(X,Aj)}),bt&&Io(X,je),Ie}function Ut(X,W,J,ue){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case B:e:{for(var Ie=J.key,Ae=W;Ae!==null;){if(Ae.key===Ie){if(Ie=J.type,Ie===D){if(Ae.tag===7){h(X,Ae.sibling),W=y(Ae,J.props.children),W.return=X,X=W;break e}}else if(Ae.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===ye&&fS(Ie)===Ae.type){h(X,Ae.sibling),W=y(Ae,J.props),W.ref=wh(X,Ae,J),W.return=X,X=W;break e}h(X,Ae);break}else l(X,Ae);Ae=Ae.sibling}J.type===D?(W=Mo(J.props.children,X.mode,ue,J.key),W.return=X,X=W):(ue=zp(J.type,J.key,J.props,null,X.mode,ue),ue.ref=wh(X,W,J),ue.return=X,X=ue)}return N(X);case G:e:{for(Ae=J.key;W!==null;){if(W.key===Ae)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){h(X,W.sibling),W=y(W,J.children||[]),W.return=X,X=W;break e}else{h(X,W);break}else l(X,W);W=W.sibling}W=d0(J,X.mode,ue),W.return=X,X=W}return N(X);case ye:return Ae=J._init,Ut(X,W,Ae(J._payload),ue)}if(Vt(J))return be(X,W,J,ue);if(ne(J))return Te(X,W,J,ue);gp(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(h(X,W.sibling),W=y(W,J),W.return=X,X=W):(h(X,W),W=h0(J,X.mode,ue),W.return=X,X=W),N(X)):h(X,W)}return Ut}var mu=pS(!0),mS=pS(!1),yp=ha(null),vp=null,gu=null,Ev=null;function Sv(){Ev=gu=vp=null}function kv(a){var l=yp.current;vt(yp),a._currentValue=l}function Tv(a,l,h){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===h)break;a=a.return}}function yu(a,l){vp=a,Ev=gu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(qn=!0),a.firstContext=null)}function kr(a){var l=a._currentValue;if(Ev!==a)if(a={context:a,memoizedValue:l,next:null},gu===null){if(vp===null)throw Error(n(308));gu=a,vp.dependencies={lanes:0,firstContext:a}}else gu=gu.next=a;return l}var _o=null;function Iv(a){_o===null?_o=[a]:_o.push(a)}function gS(a,l,h,p){var y=l.interleaved;return y===null?(h.next=h,Iv(l)):(h.next=y.next,y.next=h),l.interleaved=h,pi(a,p)}function pi(a,l){a.lanes|=l;var h=a.alternate;for(h!==null&&(h.lanes|=l),h=a,a=a.return;a!==null;)a.childLanes|=l,h=a.alternate,h!==null&&(h.childLanes|=l),h=a,a=a.return;return h.tag===3?h.stateNode:null}var pa=!1;function _v(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yS(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mi(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function ma(a,l,h){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(tt&2)!==0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,pi(a,h)}return y=p.interleaved,y===null?(l.next=l,Iv(p)):(l.next=y.next,y.next=l),p.interleaved=l,pi(a,h)}function wp(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var p=l.lanes;p&=a.pendingLanes,h|=p,l.lanes=h,eh(a,h)}}function vS(a,l){var h=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var y=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var N={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};w===null?y=w=N:w=w.next=N,h=h.next}while(h!==null);w===null?y=w=l:w=w.next=l}else y=w=l;h={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}function bp(a,l,h,p){var y=a.updateQueue;pa=!1;var w=y.firstBaseUpdate,N=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var U=F,Z=U.next;U.next=null,N===null?w=Z:N.next=Z,N=U;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,F=ie.lastBaseUpdate,F!==N&&(F===null?ie.firstBaseUpdate=Z:F.next=Z,ie.lastBaseUpdate=U))}if(w!==null){var oe=y.baseState;N=0,ie=Z=U=null,F=w;do{var se=F.lane,fe=F.eventTime;if((p&se)===se){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var be=a,Te=F;switch(se=l,fe=h,Te.tag){case 1:if(be=Te.payload,typeof be=="function"){oe=be.call(fe,oe,se);break e}oe=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Te.payload,se=typeof be=="function"?be.call(fe,oe,se):be,se==null)break e;oe=ae({},oe,se);break e;case 2:pa=!0}}F.callback!==null&&F.lane!==0&&(a.flags|=64,se=y.effects,se===null?y.effects=[F]:se.push(F))}else fe={eventTime:fe,lane:se,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ie===null?(Z=ie=fe,U=oe):ie=ie.next=fe,N|=se;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;se=F,F=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ie===null&&(U=oe),y.baseState=U,y.firstBaseUpdate=Z,y.lastBaseUpdate=ie,l=y.shared.interleaved,l!==null){y=l;do N|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Ao|=N,a.lanes=N,a.memoizedState=oe}}function wS(a,l,h){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var p=a[l],y=p.callback;if(y!==null){if(p.callback=null,p=h,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var bh={},Is=ha(bh),xh=ha(bh),Eh=ha(bh);function Co(a){if(a===bh)throw Error(n(174));return a}function Cv(a,l){switch(dt(Eh,l),dt(xh,a),dt(Is,bh),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Vl(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=Vl(l,a)}vt(Is),dt(Is,l)}function vu(){vt(Is),vt(xh),vt(Eh)}function bS(a){Co(Eh.current);var l=Co(Is.current),h=Vl(l,a.type);l!==h&&(dt(xh,a),dt(Is,h))}function Nv(a){xh.current===a&&(vt(Is),vt(xh))}var kt=ha(0);function xp(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Av=[];function Pv(){for(var a=0;a<Av.length;a++)Av[a]._workInProgressVersionPrimary=null;Av.length=0}var Ep=z.ReactCurrentDispatcher,Rv=z.ReactCurrentBatchConfig,No=0,Tt=null,Jt=null,sn=null,Sp=!1,Sh=!1,kh=0,J4=0;function xn(){throw Error(n(321))}function Dv(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!Gr(a[h],l[h]))return!1;return!0}function Mv(a,l,h,p,y,w){if(No=w,Tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Ep.current=a===null||a.memoizedState===null?nj:rj,a=h(p,y),Sh){w=0;do{if(Sh=!1,kh=0,25<=w)throw Error(n(301));w+=1,sn=Jt=null,l.updateQueue=null,Ep.current=sj,a=h(p,y)}while(Sh)}if(Ep.current=Ip,l=Jt!==null&&Jt.next!==null,No=0,sn=Jt=Tt=null,Sp=!1,l)throw Error(n(300));return a}function Ov(){var a=kh!==0;return kh=0,a}function _s(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Tt.memoizedState=sn=a:sn=sn.next=a,sn}function Tr(){if(Jt===null){var a=Tt.alternate;a=a!==null?a.memoizedState:null}else a=Jt.next;var l=sn===null?Tt.memoizedState:sn.next;if(l!==null)sn=l,Jt=a;else{if(a===null)throw Error(n(310));Jt=a,a={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},sn===null?Tt.memoizedState=sn=a:sn=sn.next=a}return sn}function Th(a,l){return typeof l=="function"?l(a):l}function Lv(a){var l=Tr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var p=Jt,y=p.baseQueue,w=h.pending;if(w!==null){if(y!==null){var N=y.next;y.next=w.next,w.next=N}p.baseQueue=y=w,h.pending=null}if(y!==null){w=y.next,p=p.baseState;var F=N=null,U=null,Z=w;do{var ie=Z.lane;if((No&ie)===ie)U!==null&&(U=U.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),p=Z.hasEagerState?Z.eagerState:a(p,Z.action);else{var oe={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};U===null?(F=U=oe,N=p):U=U.next=oe,Tt.lanes|=ie,Ao|=ie}Z=Z.next}while(Z!==null&&Z!==w);U===null?N=p:U.next=F,Gr(p,l.memoizedState)||(qn=!0),l.memoizedState=p,l.baseState=N,l.baseQueue=U,h.lastRenderedState=p}if(a=h.interleaved,a!==null){y=a;do w=y.lane,Tt.lanes|=w,Ao|=w,y=y.next;while(y!==a)}else y===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function jv(a){var l=Tr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var p=h.dispatch,y=h.pending,w=l.memoizedState;if(y!==null){h.pending=null;var N=y=y.next;do w=a(w,N.action),N=N.next;while(N!==y);Gr(w,l.memoizedState)||(qn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),h.lastRenderedState=w}return[w,p]}function xS(){}function ES(a,l){var h=Tt,p=Tr(),y=l(),w=!Gr(p.memoizedState,y);if(w&&(p.memoizedState=y,qn=!0),p=p.queue,Fv(TS.bind(null,h,p,a),[a]),p.getSnapshot!==l||w||sn!==null&&sn.memoizedState.tag&1){if(h.flags|=2048,Ih(9,kS.bind(null,h,p,y,l),void 0,null),an===null)throw Error(n(349));(No&30)!==0||SS(h,l,y)}return y}function SS(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=Tt.updateQueue,l===null?(l={lastEffect:null,stores:null},Tt.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function kS(a,l,h,p){l.value=h,l.getSnapshot=p,IS(l)&&_S(a)}function TS(a,l,h){return h(function(){IS(l)&&_S(a)})}function IS(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!Gr(a,h)}catch{return!0}}function _S(a){var l=pi(a,1);l!==null&&Yr(l,a,1,-1)}function CS(a){var l=_s();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Th,lastRenderedState:a},l.queue=a,a=a.dispatch=tj.bind(null,Tt,a),[l.memoizedState,a]}function Ih(a,l,h,p){return a={tag:a,create:l,destroy:h,deps:p,next:null},l=Tt.updateQueue,l===null?(l={lastEffect:null,stores:null},Tt.updateQueue=l,l.lastEffect=a.next=a):(h=l.lastEffect,h===null?l.lastEffect=a.next=a:(p=h.next,h.next=a,a.next=p,l.lastEffect=a)),a}function NS(){return Tr().memoizedState}function kp(a,l,h,p){var y=_s();Tt.flags|=a,y.memoizedState=Ih(1|l,h,void 0,p===void 0?null:p)}function Tp(a,l,h,p){var y=Tr();p=p===void 0?null:p;var w=void 0;if(Jt!==null){var N=Jt.memoizedState;if(w=N.destroy,p!==null&&Dv(p,N.deps)){y.memoizedState=Ih(l,h,w,p);return}}Tt.flags|=a,y.memoizedState=Ih(1|l,h,w,p)}function AS(a,l){return kp(8390656,8,a,l)}function Fv(a,l){return Tp(2048,8,a,l)}function PS(a,l){return Tp(4,2,a,l)}function RS(a,l){return Tp(4,4,a,l)}function DS(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function MS(a,l,h){return h=h!=null?h.concat([a]):null,Tp(4,4,DS.bind(null,l,a),h)}function Vv(){}function OS(a,l){var h=Tr();l=l===void 0?null:l;var p=h.memoizedState;return p!==null&&l!==null&&Dv(l,p[1])?p[0]:(h.memoizedState=[a,l],a)}function LS(a,l){var h=Tr();l=l===void 0?null:l;var p=h.memoizedState;return p!==null&&l!==null&&Dv(l,p[1])?p[0]:(a=a(),h.memoizedState=[a,l],a)}function jS(a,l,h){return(No&21)===0?(a.baseState&&(a.baseState=!1,qn=!0),a.memoizedState=h):(Gr(h,l)||(h=Jc(),Tt.lanes|=h,Ao|=h,a.baseState=!0),l)}function Z4(a,l){var h=Qe;Qe=h!==0&&4>h?h:4,a(!0);var p=Rv.transition;Rv.transition={};try{a(!1),l()}finally{Qe=h,Rv.transition=p}}function FS(){return Tr().memoizedState}function ej(a,l,h){var p=wa(a);if(h={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null},VS(a))zS(l,h);else if(h=gS(a,l,h,p),h!==null){var y=Rn();Yr(h,a,p,y),US(h,l,p)}}function tj(a,l,h){var p=wa(a),y={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null};if(VS(a))zS(l,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var N=l.lastRenderedState,F=w(N,h);if(y.hasEagerState=!0,y.eagerState=F,Gr(F,N)){var U=l.interleaved;U===null?(y.next=y,Iv(l)):(y.next=U.next,U.next=y),l.interleaved=y;return}}catch{}finally{}h=gS(a,l,y,p),h!==null&&(y=Rn(),Yr(h,a,p,y),US(h,l,p))}}function VS(a){var l=a.alternate;return a===Tt||l!==null&&l===Tt}function zS(a,l){Sh=Sp=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function US(a,l,h){if((h&4194240)!==0){var p=l.lanes;p&=a.pendingLanes,h|=p,l.lanes=h,eh(a,h)}}var Ip={readContext:kr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},nj={readContext:kr,useCallback:function(a,l){return _s().memoizedState=[a,l===void 0?null:l],a},useContext:kr,useEffect:AS,useImperativeHandle:function(a,l,h){return h=h!=null?h.concat([a]):null,kp(4194308,4,DS.bind(null,l,a),h)},useLayoutEffect:function(a,l){return kp(4194308,4,a,l)},useInsertionEffect:function(a,l){return kp(4,2,a,l)},useMemo:function(a,l){var h=_s();return l=l===void 0?null:l,a=a(),h.memoizedState=[a,l],a},useReducer:function(a,l,h){var p=_s();return l=h!==void 0?h(l):l,p.memoizedState=p.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},p.queue=a,a=a.dispatch=ej.bind(null,Tt,a),[p.memoizedState,a]},useRef:function(a){var l=_s();return a={current:a},l.memoizedState=a},useState:CS,useDebugValue:Vv,useDeferredValue:function(a){return _s().memoizedState=a},useTransition:function(){var a=CS(!1),l=a[0];return a=Z4.bind(null,a[1]),_s().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,h){var p=Tt,y=_s();if(bt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),an===null)throw Error(n(349));(No&30)!==0||SS(p,l,h)}y.memoizedState=h;var w={value:h,getSnapshot:l};return y.queue=w,AS(TS.bind(null,p,w,a),[a]),p.flags|=2048,Ih(9,kS.bind(null,p,w,h,l),void 0,null),h},useId:function(){var a=_s(),l=an.identifierPrefix;if(bt){var h=fi,p=di;h=(p&~(1<<32-nr(p)-1)).toString(32)+h,l=":"+l+"R"+h,h=kh++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=J4++,l=":"+l+"r"+h.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},rj={readContext:kr,useCallback:OS,useContext:kr,useEffect:Fv,useImperativeHandle:MS,useInsertionEffect:PS,useLayoutEffect:RS,useMemo:LS,useReducer:Lv,useRef:NS,useState:function(){return Lv(Th)},useDebugValue:Vv,useDeferredValue:function(a){var l=Tr();return jS(l,Jt.memoizedState,a)},useTransition:function(){var a=Lv(Th)[0],l=Tr().memoizedState;return[a,l]},useMutableSource:xS,useSyncExternalStore:ES,useId:FS,unstable_isNewReconciler:!1},sj={readContext:kr,useCallback:OS,useContext:kr,useEffect:Fv,useImperativeHandle:MS,useInsertionEffect:PS,useLayoutEffect:RS,useMemo:LS,useReducer:jv,useRef:NS,useState:function(){return jv(Th)},useDebugValue:Vv,useDeferredValue:function(a){var l=Tr();return Jt===null?l.memoizedState=a:jS(l,Jt.memoizedState,a)},useTransition:function(){var a=jv(Th)[0],l=Tr().memoizedState;return[a,l]},useMutableSource:xS,useSyncExternalStore:ES,useId:FS,unstable_isNewReconciler:!1};function Hr(a,l){if(a&&a.defaultProps){l=ae({},l),a=a.defaultProps;for(var h in a)l[h]===void 0&&(l[h]=a[h]);return l}return l}function zv(a,l,h,p){l=a.memoizedState,h=h(p,l),h=h==null?l:ae({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var _p={isMounted:function(a){return(a=a._reactInternals)?qr(a)===a:!1},enqueueSetState:function(a,l,h){a=a._reactInternals;var p=Rn(),y=wa(a),w=mi(p,y);w.payload=l,h!=null&&(w.callback=h),l=ma(a,w,y),l!==null&&(Yr(l,a,y,p),wp(l,a,y))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var p=Rn(),y=wa(a),w=mi(p,y);w.tag=1,w.payload=l,h!=null&&(w.callback=h),l=ma(a,w,y),l!==null&&(Yr(l,a,y,p),wp(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=Rn(),p=wa(a),y=mi(h,p);y.tag=2,l!=null&&(y.callback=l),l=ma(a,y,p),l!==null&&(Yr(l,a,p,h),wp(l,a,p))}};function BS(a,l,h,p,y,w,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,w,N):l.prototype&&l.prototype.isPureReactComponent?!dh(h,p)||!dh(y,w):!0}function $S(a,l,h){var p=!1,y=da,w=l.contextType;return typeof w=="object"&&w!==null?w=kr(w):(y=$n(l)?ko:bn.current,p=l.contextTypes,w=(p=p!=null)?hu(a,y):da),l=new l(h,w),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=_p,a.stateNode=l,l._reactInternals=a,p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=w),l}function qS(a,l,h,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,p),l.state!==a&&_p.enqueueReplaceState(l,l.state,null)}function Uv(a,l,h,p){var y=a.stateNode;y.props=h,y.state=a.memoizedState,y.refs={},_v(a);var w=l.contextType;typeof w=="object"&&w!==null?y.context=kr(w):(w=$n(l)?ko:bn.current,y.context=hu(a,w)),y.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(zv(a,l,w,h),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&_p.enqueueReplaceState(y,y.state,null),bp(a,h,y,p),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function wu(a,l){try{var h="",p=l;do h+=De(p),p=p.return;while(p);var y=h}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:l,stack:y,digest:null}}function Bv(a,l,h){return{value:a,source:null,stack:h??null,digest:l??null}}function $v(a,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var ij=typeof WeakMap=="function"?WeakMap:Map;function WS(a,l,h){h=mi(-1,h),h.tag=3,h.payload={element:null};var p=l.value;return h.callback=function(){Mp||(Mp=!0,r0=p),$v(a,l)},h}function GS(a,l,h){h=mi(-1,h),h.tag=3;var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;h.payload=function(){return p(y)},h.callback=function(){$v(a,l)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(h.callback=function(){$v(a,l),typeof p!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})}),h}function KS(a,l,h){var p=a.pingCache;if(p===null){p=a.pingCache=new ij;var y=new Set;p.set(l,y)}else y=p.get(l),y===void 0&&(y=new Set,p.set(l,y));y.has(h)||(y.add(h),a=wj.bind(null,a,l,h),l.then(a,a))}function HS(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function QS(a,l,h,p,y){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=mi(-1,1),l.tag=2,ma(h,l,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var aj=z.ReactCurrentOwner,qn=!1;function Pn(a,l,h,p){l.child=a===null?mS(l,null,h,p):mu(l,a.child,h,p)}function XS(a,l,h,p,y){h=h.render;var w=l.ref;return yu(l,y),p=Mv(a,l,h,p,w,y),h=Ov(),a!==null&&!qn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,gi(a,l,y)):(bt&&h&&yv(l),l.flags|=1,Pn(a,l,p,y),l.child)}function YS(a,l,h,p,y){if(a===null){var w=h.type;return typeof w=="function"&&!c0(w)&&w.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=w,JS(a,l,w,p,y)):(a=zp(h.type,null,p,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,(a.lanes&y)===0){var N=w.memoizedProps;if(h=h.compare,h=h!==null?h:dh,h(N,p)&&a.ref===l.ref)return gi(a,l,y)}return l.flags|=1,a=xa(w,p),a.ref=l.ref,a.return=l,l.child=a}function JS(a,l,h,p,y){if(a!==null){var w=a.memoizedProps;if(dh(w,p)&&a.ref===l.ref)if(qn=!1,l.pendingProps=p=w,(a.lanes&y)!==0)(a.flags&131072)!==0&&(qn=!0);else return l.lanes=a.lanes,gi(a,l,y)}return qv(a,l,h,p,y)}function ZS(a,l,h){var p=l.pendingProps,y=p.children,w=a!==null?a.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(xu,ur),ur|=h;else{if((h&1073741824)===0)return a=w!==null?w.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,dt(xu,ur),ur|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:h,dt(xu,ur),ur|=p}else w!==null?(p=w.baseLanes|h,l.memoizedState=null):p=h,dt(xu,ur),ur|=p;return Pn(a,l,y,h),l.child}function ek(a,l){var h=l.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function qv(a,l,h,p,y){var w=$n(h)?ko:bn.current;return w=hu(l,w),yu(l,y),h=Mv(a,l,h,p,w,y),p=Ov(),a!==null&&!qn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,gi(a,l,y)):(bt&&p&&yv(l),l.flags|=1,Pn(a,l,h,y),l.child)}function tk(a,l,h,p,y){if($n(h)){var w=!0;hp(l)}else w=!1;if(yu(l,y),l.stateNode===null)Np(a,l),$S(l,h,p),Uv(l,h,p,y),p=!0;else if(a===null){var N=l.stateNode,F=l.memoizedProps;N.props=F;var U=N.context,Z=h.contextType;typeof Z=="object"&&Z!==null?Z=kr(Z):(Z=$n(h)?ko:bn.current,Z=hu(l,Z));var ie=h.getDerivedStateFromProps,oe=typeof ie=="function"||typeof N.getSnapshotBeforeUpdate=="function";oe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(F!==p||U!==Z)&&qS(l,N,p,Z),pa=!1;var se=l.memoizedState;N.state=se,bp(l,p,N,y),U=l.memoizedState,F!==p||se!==U||Bn.current||pa?(typeof ie=="function"&&(zv(l,h,ie,p),U=l.memoizedState),(F=pa||BS(l,h,F,p,se,U,Z))?(oe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=U),N.props=p,N.state=U,N.context=Z,p=F):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{N=l.stateNode,yS(a,l),F=l.memoizedProps,Z=l.type===l.elementType?F:Hr(l.type,F),N.props=Z,oe=l.pendingProps,se=N.context,U=h.contextType,typeof U=="object"&&U!==null?U=kr(U):(U=$n(h)?ko:bn.current,U=hu(l,U));var fe=h.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(F!==oe||se!==U)&&qS(l,N,p,U),pa=!1,se=l.memoizedState,N.state=se,bp(l,p,N,y);var be=l.memoizedState;F!==oe||se!==be||Bn.current||pa?(typeof fe=="function"&&(zv(l,h,fe,p),be=l.memoizedState),(Z=pa||BS(l,h,Z,p,se,be,U)||!1)?(ie||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,be,U),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,be,U)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=be),N.props=p,N.state=be,N.context=U,p=Z):(typeof N.componentDidUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=1024),p=!1)}return Wv(a,l,h,p,w,y)}function Wv(a,l,h,p,y,w){ek(a,l);var N=(l.flags&128)!==0;if(!p&&!N)return y&&aS(l,h,!1),gi(a,l,w);p=l.stateNode,aj.current=l;var F=N&&typeof h.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,a!==null&&N?(l.child=mu(l,a.child,null,w),l.child=mu(l,null,F,w)):Pn(a,l,F,w),l.memoizedState=p.state,y&&aS(l,h,!0),l.child}function nk(a){var l=a.stateNode;l.pendingContext?sS(a,l.pendingContext,l.pendingContext!==l.context):l.context&&sS(a,l.context,!1),Cv(a,l.containerInfo)}function rk(a,l,h,p,y){return pu(),xv(y),l.flags|=256,Pn(a,l,h,p),l.child}var Gv={dehydrated:null,treeContext:null,retryLane:0};function Kv(a){return{baseLanes:a,cachePool:null,transitions:null}}function sk(a,l,h){var p=l.pendingProps,y=kt.current,w=!1,N=(l.flags&128)!==0,F;if((F=N)||(F=a!==null&&a.memoizedState===null?!1:(y&2)!==0),F?(w=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),dt(kt,y&1),a===null)return bv(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(N=p.children,a=p.fallback,w?(p=l.mode,w=l.child,N={mode:"hidden",children:N},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=N):w=Up(N,p,0,null),a=Mo(a,p,h,null),w.return=l,a.return=l,w.sibling=a,l.child=w,l.child.memoizedState=Kv(h),l.memoizedState=Gv,a):Hv(l,N));if(y=a.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return oj(a,l,N,p,F,y,h);if(w){w=p.fallback,N=l.mode,y=a.child,F=y.sibling;var U={mode:"hidden",children:p.children};return(N&1)===0&&l.child!==y?(p=l.child,p.childLanes=0,p.pendingProps=U,l.deletions=null):(p=xa(y,U),p.subtreeFlags=y.subtreeFlags&14680064),F!==null?w=xa(F,w):(w=Mo(w,N,h,null),w.flags|=2),w.return=l,p.return=l,p.sibling=w,l.child=p,p=w,w=l.child,N=a.child.memoizedState,N=N===null?Kv(h):{baseLanes:N.baseLanes|h,cachePool:null,transitions:N.transitions},w.memoizedState=N,w.childLanes=a.childLanes&~h,l.memoizedState=Gv,p}return w=a.child,a=w.sibling,p=xa(w,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=h),p.return=l,p.sibling=null,a!==null&&(h=l.deletions,h===null?(l.deletions=[a],l.flags|=16):h.push(a)),l.child=p,l.memoizedState=null,p}function Hv(a,l){return l=Up({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Cp(a,l,h,p){return p!==null&&xv(p),mu(l,a.child,null,h),a=Hv(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function oj(a,l,h,p,y,w,N){if(h)return l.flags&256?(l.flags&=-257,p=Bv(Error(n(422))),Cp(a,l,N,p)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(w=p.fallback,y=l.mode,p=Up({mode:"visible",children:p.children},y,0,null),w=Mo(w,y,N,null),w.flags|=2,p.return=l,w.return=l,p.sibling=w,l.child=p,(l.mode&1)!==0&&mu(l,a.child,null,N),l.child.memoizedState=Kv(N),l.memoizedState=Gv,w);if((l.mode&1)===0)return Cp(a,l,N,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var F=p.dgst;return p=F,w=Error(n(419)),p=Bv(w,p,void 0),Cp(a,l,N,p)}if(F=(N&a.childLanes)!==0,qn||F){if(p=an,p!==null){switch(N&-N){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|N))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,pi(a,y),Yr(p,a,y,-1))}return u0(),p=Bv(Error(n(421))),Cp(a,l,N,p)}return y.data==="$?"?(l.flags|=128,l.child=a.child,l=bj.bind(null,a),y._reactRetry=l,null):(a=w.treeContext,lr=ca(y.nextSibling),or=l,bt=!0,Kr=null,a!==null&&(Er[Sr++]=di,Er[Sr++]=fi,Er[Sr++]=To,di=a.id,fi=a.overflow,To=l),l=Hv(l,p.children),l.flags|=4096,l)}function ik(a,l,h){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),Tv(a.return,l,h)}function Qv(a,l,h,p,y){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=h,w.tailMode=y)}function ak(a,l,h){var p=l.pendingProps,y=p.revealOrder,w=p.tail;if(Pn(a,l,p.children,h),p=kt.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ik(a,h,l);else if(a.tag===19)ik(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}if(dt(kt,p),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(h=l.child,y=null;h!==null;)a=h.alternate,a!==null&&xp(a)===null&&(y=h),h=h.sibling;h=y,h===null?(y=l.child,l.child=null):(y=h.sibling,h.sibling=null),Qv(l,!1,y,h,w);break;case"backwards":for(h=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&xp(a)===null){l.child=y;break}a=y.sibling,y.sibling=h,h=y,y=a}Qv(l,!0,h,null,w);break;case"together":Qv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Np(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function gi(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),Ao|=l.lanes,(h&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,h=xa(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=xa(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function lj(a,l,h){switch(l.tag){case 3:nk(l),pu();break;case 5:bS(l);break;case 1:$n(l.type)&&hp(l);break;case 4:Cv(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,y=l.memoizedProps.value;dt(yp,p._currentValue),p._currentValue=y;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(dt(kt,kt.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?sk(a,l,h):(dt(kt,kt.current&1),a=gi(a,l,h),a!==null?a.sibling:null);dt(kt,kt.current&1);break;case 19:if(p=(h&l.childLanes)!==0,(a.flags&128)!==0){if(p)return ak(a,l,h);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),dt(kt,kt.current),p)break;return null;case 22:case 23:return l.lanes=0,ZS(a,l,h)}return gi(a,l,h)}var ok,Xv,lk,uk;ok=function(a,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Xv=function(){},lk=function(a,l,h,p){var y=a.memoizedProps;if(y!==p){a=l.stateNode,Co(Is.current);var w=null;switch(h){case"input":y=Wi(a,y),p=Wi(a,p),w=[];break;case"select":y=ae({},y,{value:void 0}),p=ae({},p,{value:void 0}),w=[];break;case"textarea":y=Uc(a,y),p=Uc(a,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(a.onclick=lp)}$r(h,p);var N;h=null;for(Z in y)if(!p.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var F=y[Z];for(N in F)F.hasOwnProperty(N)&&(h||(h={}),h[N]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in p){var U=p[Z];if(F=y!=null?y[Z]:void 0,p.hasOwnProperty(Z)&&U!==F&&(U!=null||F!=null))if(Z==="style")if(F){for(N in F)!F.hasOwnProperty(N)||U&&U.hasOwnProperty(N)||(h||(h={}),h[N]="");for(N in U)U.hasOwnProperty(N)&&F[N]!==U[N]&&(h||(h={}),h[N]=U[N])}else h||(w||(w=[]),w.push(Z,h)),h=U;else Z==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,F=F?F.__html:void 0,U!=null&&F!==U&&(w=w||[]).push(Z,U)):Z==="children"?typeof U!="string"&&typeof U!="number"||(w=w||[]).push(Z,""+U):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(U!=null&&Z==="onScroll"&&yt("scroll",a),w||F===U||(w=[])):(w=w||[]).push(Z,U))}h&&(w=w||[]).push("style",h);var Z=w;(l.updateQueue=Z)&&(l.flags|=4)}},uk=function(a,l,h,p){h!==p&&(l.flags|=4)};function _h(a,l){if(!bt)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function En(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,p=0;if(l)for(var y=a.child;y!==null;)h|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)h|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=p,a.childLanes=h,l}function uj(a,l,h){var p=l.pendingProps;switch(vv(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(l),null;case 1:return $n(l.type)&&cp(),En(l),null;case 3:return p=l.stateNode,vu(),vt(Bn),vt(bn),Pv(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(mp(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Kr!==null&&(a0(Kr),Kr=null))),Xv(a,l),En(l),null;case 5:Nv(l);var y=Co(Eh.current);if(h=l.type,a!==null&&l.stateNode!=null)lk(a,l,h,p,y),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(n(166));return En(l),null}if(a=Co(Is.current),mp(l)){p=l.stateNode,h=l.type;var w=l.memoizedProps;switch(p[Ts]=l,p[yh]=w,a=(l.mode&1)!==0,h){case"dialog":yt("cancel",p),yt("close",p);break;case"iframe":case"object":case"embed":yt("load",p);break;case"video":case"audio":for(y=0;y<ph.length;y++)yt(ph[y],p);break;case"source":yt("error",p);break;case"img":case"image":case"link":yt("error",p),yt("load",p);break;case"details":yt("toggle",p);break;case"input":Fl(p,w),yt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},yt("invalid",p);break;case"textarea":Bc(p,w),yt("invalid",p)}$r(h,w),y=null;for(var N in w)if(w.hasOwnProperty(N)){var F=w[N];N==="children"?typeof F=="string"?p.textContent!==F&&(w.suppressHydrationWarning!==!0&&op(p.textContent,F,a),y=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(w.suppressHydrationWarning!==!0&&op(p.textContent,F,a),y=["children",""+F]):s.hasOwnProperty(N)&&F!=null&&N==="onScroll"&&yt("scroll",p)}switch(h){case"input":vr(p),oo(p,w,!0);break;case"textarea":vr(p),Ki(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=lp)}p=y,l.updateQueue=p,p!==null&&(l.flags|=4)}else{N=y.nodeType===9?y:y.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=$c(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=N.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof p.is=="string"?a=N.createElement(h,{is:p.is}):(a=N.createElement(h),h==="select"&&(N=a,p.multiple?N.multiple=!0:p.size&&(N.size=p.size))):a=N.createElementNS(a,h),a[Ts]=l,a[yh]=p,ok(a,l,!1,!1),l.stateNode=a;e:{switch(N=Ul(h,p),h){case"dialog":yt("cancel",a),yt("close",a),y=p;break;case"iframe":case"object":case"embed":yt("load",a),y=p;break;case"video":case"audio":for(y=0;y<ph.length;y++)yt(ph[y],a);y=p;break;case"source":yt("error",a),y=p;break;case"img":case"image":case"link":yt("error",a),yt("load",a),y=p;break;case"details":yt("toggle",a),y=p;break;case"input":Fl(a,p),y=Wi(a,p),yt("invalid",a);break;case"option":y=p;break;case"select":a._wrapperState={wasMultiple:!!p.multiple},y=ae({},p,{value:void 0}),yt("invalid",a);break;case"textarea":Bc(a,p),y=Uc(a,p),yt("invalid",a);break;default:y=p}$r(h,y),F=y;for(w in F)if(F.hasOwnProperty(w)){var U=F[w];w==="style"?zl(a,U):w==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Of(a,U)):w==="children"?typeof U=="string"?(h!=="textarea"||U!=="")&&lo(a,U):typeof U=="number"&&lo(a,""+U):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?U!=null&&w==="onScroll"&&yt("scroll",a):U!=null&&O(a,w,U,N))}switch(h){case"input":vr(a),oo(a,p,!1);break;case"textarea":vr(a),Ki(a);break;case"option":p.value!=null&&a.setAttribute("value",""+$e(p.value));break;case"select":a.multiple=!!p.multiple,w=p.value,w!=null?Br(a,!!p.multiple,w,!1):p.defaultValue!=null&&Br(a,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(a.onclick=lp)}switch(h){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return En(l),null;case 6:if(a&&l.stateNode!=null)uk(a,l,a.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(h=Co(Eh.current),Co(Is.current),mp(l)){if(p=l.stateNode,h=l.memoizedProps,p[Ts]=l,(w=p.nodeValue!==h)&&(a=or,a!==null))switch(a.tag){case 3:op(p.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&op(p.nodeValue,h,(a.mode&1)!==0)}w&&(l.flags|=4)}else p=(h.nodeType===9?h:h.ownerDocument).createTextNode(p),p[Ts]=l,l.stateNode=p}return En(l),null;case 13:if(vt(kt),p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(bt&&lr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)dS(),pu(),l.flags|=98560,w=!1;else if(w=mp(l),p!==null&&p.dehydrated!==null){if(a===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Ts]=l}else pu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;En(l),w=!1}else Kr!==null&&(a0(Kr),Kr=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(p=p!==null,p!==(a!==null&&a.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(kt.current&1)!==0?Zt===0&&(Zt=3):u0())),l.updateQueue!==null&&(l.flags|=4),En(l),null);case 4:return vu(),Xv(a,l),a===null&&mh(l.stateNode.containerInfo),En(l),null;case 10:return kv(l.type._context),En(l),null;case 17:return $n(l.type)&&cp(),En(l),null;case 19:if(vt(kt),w=l.memoizedState,w===null)return En(l),null;if(p=(l.flags&128)!==0,N=w.rendering,N===null)if(p)_h(w,!1);else{if(Zt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(N=xp(a),N!==null){for(l.flags|=128,_h(w,!1),p=N.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=h,h=l.child;h!==null;)w=h,a=p,w.flags&=14680066,N=w.alternate,N===null?(w.childLanes=0,w.lanes=a,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=N.childLanes,w.lanes=N.lanes,w.child=N.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=N.memoizedProps,w.memoizedState=N.memoizedState,w.updateQueue=N.updateQueue,w.type=N.type,a=N.dependencies,w.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return dt(kt,kt.current&1|2),l.child}a=a.sibling}w.tail!==null&&gt()>Eu&&(l.flags|=128,p=!0,_h(w,!1),l.lanes=4194304)}else{if(!p)if(a=xp(N),a!==null){if(l.flags|=128,p=!0,h=a.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),_h(w,!0),w.tail===null&&w.tailMode==="hidden"&&!N.alternate&&!bt)return En(l),null}else 2*gt()-w.renderingStartTime>Eu&&h!==1073741824&&(l.flags|=128,p=!0,_h(w,!1),l.lanes=4194304);w.isBackwards?(N.sibling=l.child,l.child=N):(h=w.last,h!==null?h.sibling=N:l.child=N,w.last=N)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=gt(),l.sibling=null,h=kt.current,dt(kt,p?h&1|2:h&1),l):(En(l),null);case 22:case 23:return l0(),p=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(ur&1073741824)!==0&&(En(l),l.subtreeFlags&6&&(l.flags|=8192)):En(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function cj(a,l){switch(vv(l),l.tag){case 1:return $n(l.type)&&cp(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return vu(),vt(Bn),vt(bn),Pv(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Nv(l),null;case 13:if(vt(kt),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));pu()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return vt(kt),null;case 4:return vu(),null;case 10:return kv(l.type._context),null;case 22:case 23:return l0(),null;case 24:return null;default:return null}}var Ap=!1,Sn=!1,hj=typeof WeakSet=="function"?WeakSet:Set,we=null;function bu(a,l){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(p){Pt(a,l,p)}else h.current=null}function ck(a,l,h){try{h()}catch(p){Pt(a,l,p)}}var hk=!1;function dj(a,l){if(uv=li,a=BE(),tv(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break e}var N=0,F=-1,U=-1,Z=0,ie=0,oe=a,se=null;t:for(;;){for(var fe;oe!==h||y!==0&&oe.nodeType!==3||(F=N+y),oe!==w||p!==0&&oe.nodeType!==3||(U=N+p),oe.nodeType===3&&(N+=oe.nodeValue.length),(fe=oe.firstChild)!==null;)se=oe,oe=fe;for(;;){if(oe===a)break t;if(se===h&&++Z===y&&(F=N),se===w&&++ie===p&&(U=N),(fe=oe.nextSibling)!==null)break;oe=se,se=oe.parentNode}oe=fe}h=F===-1||U===-1?null:{start:F,end:U}}else h=null}h=h||{start:0,end:0}}else h=null;for(cv={focusedElem:a,selectionRange:h},li=!1,we=l;we!==null;)if(l=we,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,we=a;else for(;we!==null;){l=we;try{var be=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Te=be.memoizedProps,Ut=be.memoizedState,X=l.stateNode,W=X.getSnapshotBeforeUpdate(l.elementType===l.type?Te:Hr(l.type,Te),Ut);X.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Pt(l,l.return,ue)}if(a=l.sibling,a!==null){a.return=l.return,we=a;break}we=l.return}return be=hk,hk=!1,be}function Ch(a,l,h){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&a)===a){var w=y.destroy;y.destroy=void 0,w!==void 0&&ck(l,h,w)}y=y.next}while(y!==p)}}function Pp(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&a)===a){var p=h.create;h.destroy=p()}h=h.next}while(h!==l)}}function Yv(a){var l=a.ref;if(l!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof l=="function"?l(a):l.current=a}}function dk(a){var l=a.alternate;l!==null&&(a.alternate=null,dk(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Ts],delete l[yh],delete l[pv],delete l[H4],delete l[Q4])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function fk(a){return a.tag===5||a.tag===3||a.tag===4}function pk(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||fk(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Jv(a,l,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(a,l):h.insertBefore(a,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(a,h)):(l=h,l.appendChild(a)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=lp));else if(p!==4&&(a=a.child,a!==null))for(Jv(a,l,h),a=a.sibling;a!==null;)Jv(a,l,h),a=a.sibling}function Zv(a,l,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(p!==4&&(a=a.child,a!==null))for(Zv(a,l,h),a=a.sibling;a!==null;)Zv(a,l,h),a=a.sibling}var dn=null,Qr=!1;function ga(a,l,h){for(h=h.child;h!==null;)mk(a,l,h),h=h.sibling}function mk(a,l,h){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(po,h)}catch{}switch(h.tag){case 5:Sn||bu(h,l);case 6:var p=dn,y=Qr;dn=null,ga(a,l,h),dn=p,Qr=y,dn!==null&&(Qr?(a=dn,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):dn.removeChild(h.stateNode));break;case 18:dn!==null&&(Qr?(a=dn,h=h.stateNode,a.nodeType===8?fv(a.parentNode,h):a.nodeType===1&&fv(a,h),ia(a)):fv(dn,h.stateNode));break;case 4:p=dn,y=Qr,dn=h.stateNode.containerInfo,Qr=!0,ga(a,l,h),dn=p,Qr=y;break;case 0:case 11:case 14:case 15:if(!Sn&&(p=h.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,N=w.destroy;w=w.tag,N!==void 0&&((w&2)!==0||(w&4)!==0)&&ck(h,l,N),y=y.next}while(y!==p)}ga(a,l,h);break;case 1:if(!Sn&&(bu(h,l),p=h.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=h.memoizedProps,p.state=h.memoizedState,p.componentWillUnmount()}catch(F){Pt(h,l,F)}ga(a,l,h);break;case 21:ga(a,l,h);break;case 22:h.mode&1?(Sn=(p=Sn)||h.memoizedState!==null,ga(a,l,h),Sn=p):ga(a,l,h);break;default:ga(a,l,h)}}function gk(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new hj),l.forEach(function(p){var y=xj.bind(null,a,p);h.has(p)||(h.add(p),p.then(y,y))})}}function Xr(a,l){var h=l.deletions;if(h!==null)for(var p=0;p<h.length;p++){var y=h[p];try{var w=a,N=l,F=N;e:for(;F!==null;){switch(F.tag){case 5:dn=F.stateNode,Qr=!1;break e;case 3:dn=F.stateNode.containerInfo,Qr=!0;break e;case 4:dn=F.stateNode.containerInfo,Qr=!0;break e}F=F.return}if(dn===null)throw Error(n(160));mk(w,N,y),dn=null,Qr=!1;var U=y.alternate;U!==null&&(U.return=null),y.return=null}catch(Z){Pt(y,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)yk(l,a),l=l.sibling}function yk(a,l){var h=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Xr(l,a),Cs(a),p&4){try{Ch(3,a,a.return),Pp(3,a)}catch(Te){Pt(a,a.return,Te)}try{Ch(5,a,a.return)}catch(Te){Pt(a,a.return,Te)}}break;case 1:Xr(l,a),Cs(a),p&512&&h!==null&&bu(h,h.return);break;case 5:if(Xr(l,a),Cs(a),p&512&&h!==null&&bu(h,h.return),a.flags&32){var y=a.stateNode;try{lo(y,"")}catch(Te){Pt(a,a.return,Te)}}if(p&4&&(y=a.stateNode,y!=null)){var w=a.memoizedProps,N=h!==null?h.memoizedProps:w,F=a.type,U=a.updateQueue;if(a.updateQueue=null,U!==null)try{F==="input"&&w.type==="radio"&&w.name!=null&&Gi(y,w),Ul(F,N);var Z=Ul(F,w);for(N=0;N<U.length;N+=2){var ie=U[N],oe=U[N+1];ie==="style"?zl(y,oe):ie==="dangerouslySetInnerHTML"?Of(y,oe):ie==="children"?lo(y,oe):O(y,ie,oe,Z)}switch(F){case"input":ei(y,w);break;case"textarea":Mf(y,w);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?Br(y,!!w.multiple,fe,!1):se!==!!w.multiple&&(w.defaultValue!=null?Br(y,!!w.multiple,w.defaultValue,!0):Br(y,!!w.multiple,w.multiple?[]:"",!1))}y[yh]=w}catch(Te){Pt(a,a.return,Te)}}break;case 6:if(Xr(l,a),Cs(a),p&4){if(a.stateNode===null)throw Error(n(162));y=a.stateNode,w=a.memoizedProps;try{y.nodeValue=w}catch(Te){Pt(a,a.return,Te)}}break;case 3:if(Xr(l,a),Cs(a),p&4&&h!==null&&h.memoizedState.isDehydrated)try{ia(l.containerInfo)}catch(Te){Pt(a,a.return,Te)}break;case 4:Xr(l,a),Cs(a);break;case 13:Xr(l,a),Cs(a),y=a.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(n0=gt())),p&4&&gk(a);break;case 22:if(ie=h!==null&&h.memoizedState!==null,a.mode&1?(Sn=(Z=Sn)||ie,Xr(l,a),Sn=Z):Xr(l,a),Cs(a),p&8192){if(Z=a.memoizedState!==null,(a.stateNode.isHidden=Z)&&!ie&&(a.mode&1)!==0)for(we=a,ie=a.child;ie!==null;){for(oe=we=ie;we!==null;){switch(se=we,fe=se.child,se.tag){case 0:case 11:case 14:case 15:Ch(4,se,se.return);break;case 1:bu(se,se.return);var be=se.stateNode;if(typeof be.componentWillUnmount=="function"){p=se,h=se.return;try{l=p,be.props=l.memoizedProps,be.state=l.memoizedState,be.componentWillUnmount()}catch(Te){Pt(p,h,Te)}}break;case 5:bu(se,se.return);break;case 22:if(se.memoizedState!==null){bk(oe);continue}}fe!==null?(fe.return=se,we=fe):bk(oe)}ie=ie.sibling}e:for(ie=null,oe=a;;){if(oe.tag===5){if(ie===null){ie=oe;try{y=oe.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(F=oe.stateNode,U=oe.memoizedProps.style,N=U!=null&&U.hasOwnProperty("display")?U.display:null,F.style.display=Xi("display",N))}catch(Te){Pt(a,a.return,Te)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=Z?"":oe.memoizedProps}catch(Te){Pt(a,a.return,Te)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===a)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===a)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===a)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Xr(l,a),Cs(a),p&4&&gk(a);break;case 21:break;default:Xr(l,a),Cs(a)}}function Cs(a){var l=a.flags;if(l&2){try{e:{for(var h=a.return;h!==null;){if(fk(h)){var p=h;break e}h=h.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(lo(y,""),p.flags&=-33);var w=pk(a);Zv(a,w,y);break;case 3:case 4:var N=p.stateNode.containerInfo,F=pk(a);Jv(a,F,N);break;default:throw Error(n(161))}}catch(U){Pt(a,a.return,U)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function fj(a,l,h){we=a,vk(a)}function vk(a,l,h){for(var p=(a.mode&1)!==0;we!==null;){var y=we,w=y.child;if(y.tag===22&&p){var N=y.memoizedState!==null||Ap;if(!N){var F=y.alternate,U=F!==null&&F.memoizedState!==null||Sn;F=Ap;var Z=Sn;if(Ap=N,(Sn=U)&&!Z)for(we=y;we!==null;)N=we,U=N.child,N.tag===22&&N.memoizedState!==null?xk(y):U!==null?(U.return=N,we=U):xk(y);for(;w!==null;)we=w,vk(w),w=w.sibling;we=y,Ap=F,Sn=Z}wk(a)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,we=w):wk(a)}}function wk(a){for(;we!==null;){var l=we;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Sn||Pp(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!Sn)if(h===null)p.componentDidMount();else{var y=l.elementType===l.type?h.memoizedProps:Hr(l.type,h.memoizedProps);p.componentDidUpdate(y,h.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&wS(l,w,p);break;case 3:var N=l.updateQueue;if(N!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}wS(l,N,h)}break;case 5:var F=l.stateNode;if(h===null&&l.flags&4){h=F;var U=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&h.focus();break;case"img":U.src&&(h.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&ia(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Sn||l.flags&512&&Yv(l)}catch(se){Pt(l,l.return,se)}}if(l===a){we=null;break}if(h=l.sibling,h!==null){h.return=l.return,we=h;break}we=l.return}}function bk(a){for(;we!==null;){var l=we;if(l===a){we=null;break}var h=l.sibling;if(h!==null){h.return=l.return,we=h;break}we=l.return}}function xk(a){for(;we!==null;){var l=we;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{Pp(4,l)}catch(U){Pt(l,h,U)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var y=l.return;try{p.componentDidMount()}catch(U){Pt(l,y,U)}}var w=l.return;try{Yv(l)}catch(U){Pt(l,w,U)}break;case 5:var N=l.return;try{Yv(l)}catch(U){Pt(l,N,U)}}}catch(U){Pt(l,l.return,U)}if(l===a){we=null;break}var F=l.sibling;if(F!==null){F.return=l.return,we=F;break}we=l.return}}var pj=Math.ceil,Rp=z.ReactCurrentDispatcher,e0=z.ReactCurrentOwner,Ir=z.ReactCurrentBatchConfig,tt=0,an=null,Kt=null,fn=0,ur=0,xu=ha(0),Zt=0,Nh=null,Ao=0,Dp=0,t0=0,Ah=null,Wn=null,n0=0,Eu=1/0,yi=null,Mp=!1,r0=null,ya=null,Op=!1,va=null,Lp=0,Ph=0,s0=null,jp=-1,Fp=0;function Rn(){return(tt&6)!==0?gt():jp!==-1?jp:jp=gt()}function wa(a){return(a.mode&1)===0?1:(tt&2)!==0&&fn!==0?fn&-fn:Y4.transition!==null?(Fp===0&&(Fp=Jc()),Fp):(a=Qe,a!==0||(a=window.event,a=a===void 0?16:Yl(a.type)),a)}function Yr(a,l,h,p){if(50<Ph)throw Ph=0,s0=null,Error(n(185));vo(a,h,p),((tt&2)===0||a!==an)&&(a===an&&((tt&2)===0&&(Dp|=h),Zt===4&&ba(a,fn)),Gn(a,p),h===1&&tt===0&&(l.mode&1)===0&&(Eu=gt()+500,dp&&fa()))}function Gn(a,l){var h=a.callbackNode;yo(a,l);var p=ii(a,a===an?fn:0);if(p===0)h!==null&&ql(h),a.callbackNode=null,a.callbackPriority=0;else if(l=p&-p,a.callbackPriority!==l){if(h!=null&&ql(h),l===1)a.tag===0?X4(Sk.bind(null,a)):oS(Sk.bind(null,a)),G4(function(){(tt&6)===0&&fa()}),h=null;else{switch(ms(p)){case 1:h=Wl;break;case 4:h=Qc;break;case 16:h=fo;break;case 536870912:h=Gl;break;default:h=fo}h=Pk(h,Ek.bind(null,a))}a.callbackPriority=l,a.callbackNode=h}}function Ek(a,l){if(jp=-1,Fp=0,(tt&6)!==0)throw Error(n(327));var h=a.callbackNode;if(Su()&&a.callbackNode!==h)return null;var p=ii(a,a===an?fn:0);if(p===0)return null;if((p&30)!==0||(p&a.expiredLanes)!==0||l)l=Vp(a,p);else{l=p;var y=tt;tt|=2;var w=Tk();(an!==a||fn!==l)&&(yi=null,Eu=gt()+500,Ro(a,l));do try{yj();break}catch(F){kk(a,F)}while(!0);Sv(),Rp.current=w,tt=y,Kt!==null?l=0:(an=null,fn=0,l=Zt)}if(l!==0){if(l===2&&(y=Yc(a),y!==0&&(p=y,l=i0(a,y))),l===1)throw h=Nh,Ro(a,0),ba(a,p),Gn(a,gt()),h;if(l===6)ba(a,p);else{if(y=a.current.alternate,(p&30)===0&&!mj(y)&&(l=Vp(a,p),l===2&&(w=Yc(a),w!==0&&(p=w,l=i0(a,w))),l===1))throw h=Nh,Ro(a,0),ba(a,p),Gn(a,gt()),h;switch(a.finishedWork=y,a.finishedLanes=p,l){case 0:case 1:throw Error(n(345));case 2:Do(a,Wn,yi);break;case 3:if(ba(a,p),(p&130023424)===p&&(l=n0+500-gt(),10<l)){if(ii(a,0)!==0)break;if(y=a.suspendedLanes,(y&p)!==p){Rn(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=dv(Do.bind(null,a,Wn,yi),l);break}Do(a,Wn,yi);break;case 4:if(ba(a,p),(p&4194240)===p)break;for(l=a.eventTimes,y=-1;0<p;){var N=31-nr(p);w=1<<N,N=l[N],N>y&&(y=N),p&=~w}if(p=y,p=gt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*pj(p/1960))-p,10<p){a.timeoutHandle=dv(Do.bind(null,a,Wn,yi),p);break}Do(a,Wn,yi);break;case 5:Do(a,Wn,yi);break;default:throw Error(n(329))}}}return Gn(a,gt()),a.callbackNode===h?Ek.bind(null,a):null}function i0(a,l){var h=Ah;return a.current.memoizedState.isDehydrated&&(Ro(a,l).flags|=256),a=Vp(a,l),a!==2&&(l=Wn,Wn=h,l!==null&&a0(l)),a}function a0(a){Wn===null?Wn=a:Wn.push.apply(Wn,a)}function mj(a){for(var l=a;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var p=0;p<h.length;p++){var y=h[p],w=y.getSnapshot;y=y.value;try{if(!Gr(w(),y))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ba(a,l){for(l&=~t0,l&=~Dp,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var h=31-nr(l),p=1<<h;a[h]=-1,l&=~p}}function Sk(a){if((tt&6)!==0)throw Error(n(327));Su();var l=ii(a,0);if((l&1)===0)return Gn(a,gt()),null;var h=Vp(a,l);if(a.tag!==0&&h===2){var p=Yc(a);p!==0&&(l=p,h=i0(a,p))}if(h===1)throw h=Nh,Ro(a,0),ba(a,l),Gn(a,gt()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Do(a,Wn,yi),Gn(a,gt()),null}function o0(a,l){var h=tt;tt|=1;try{return a(l)}finally{tt=h,tt===0&&(Eu=gt()+500,dp&&fa())}}function Po(a){va!==null&&va.tag===0&&(tt&6)===0&&Su();var l=tt;tt|=1;var h=Ir.transition,p=Qe;try{if(Ir.transition=null,Qe=1,a)return a()}finally{Qe=p,Ir.transition=h,tt=l,(tt&6)===0&&fa()}}function l0(){ur=xu.current,vt(xu)}function Ro(a,l){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,W4(h)),Kt!==null)for(h=Kt.return;h!==null;){var p=h;switch(vv(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&cp();break;case 3:vu(),vt(Bn),vt(bn),Pv();break;case 5:Nv(p);break;case 4:vu();break;case 13:vt(kt);break;case 19:vt(kt);break;case 10:kv(p.type._context);break;case 22:case 23:l0()}h=h.return}if(an=a,Kt=a=xa(a.current,null),fn=ur=l,Zt=0,Nh=null,t0=Dp=Ao=0,Wn=Ah=null,_o!==null){for(l=0;l<_o.length;l++)if(h=_o[l],p=h.interleaved,p!==null){h.interleaved=null;var y=p.next,w=h.pending;if(w!==null){var N=w.next;w.next=y,p.next=N}h.pending=p}_o=null}return a}function kk(a,l){do{var h=Kt;try{if(Sv(),Ep.current=Ip,Sp){for(var p=Tt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Sp=!1}if(No=0,sn=Jt=Tt=null,Sh=!1,kh=0,e0.current=null,h===null||h.return===null){Zt=1,Nh=l,Kt=null;break}e:{var w=a,N=h.return,F=h,U=l;if(l=fn,F.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Z=U,ie=F,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=HS(N);if(fe!==null){fe.flags&=-257,QS(fe,N,F,w,l),fe.mode&1&&KS(w,Z,l),l=fe,U=Z;var be=l.updateQueue;if(be===null){var Te=new Set;Te.add(U),l.updateQueue=Te}else be.add(U);break e}else{if((l&1)===0){KS(w,Z,l),u0();break e}U=Error(n(426))}}else if(bt&&F.mode&1){var Ut=HS(N);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),QS(Ut,N,F,w,l),xv(wu(U,F));break e}}w=U=wu(U,F),Zt!==4&&(Zt=2),Ah===null?Ah=[w]:Ah.push(w),w=N;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var X=WS(w,U,l);vS(w,X);break e;case 1:F=U;var W=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(ya===null||!ya.has(J)))){w.flags|=65536,l&=-l,w.lanes|=l;var ue=GS(w,F,l);vS(w,ue);break e}}w=w.return}while(w!==null)}_k(h)}catch(Ie){l=Ie,Kt===h&&h!==null&&(Kt=h=h.return);continue}break}while(!0)}function Tk(){var a=Rp.current;return Rp.current=Ip,a===null?Ip:a}function u0(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),an===null||(Ao&268435455)===0&&(Dp&268435455)===0||ba(an,fn)}function Vp(a,l){var h=tt;tt|=2;var p=Tk();(an!==a||fn!==l)&&(yi=null,Ro(a,l));do try{gj();break}catch(y){kk(a,y)}while(!0);if(Sv(),tt=h,Rp.current=p,Kt!==null)throw Error(n(261));return an=null,fn=0,Zt}function gj(){for(;Kt!==null;)Ik(Kt)}function yj(){for(;Kt!==null&&!ho();)Ik(Kt)}function Ik(a){var l=Ak(a.alternate,a,ur);a.memoizedProps=a.pendingProps,l===null?_k(a):Kt=l,e0.current=null}function _k(a){var l=a;do{var h=l.alternate;if(a=l.return,(l.flags&32768)===0){if(h=uj(h,l,ur),h!==null){Kt=h;return}}else{if(h=cj(h,l),h!==null){h.flags&=32767,Kt=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Zt=6,Kt=null;return}}if(l=l.sibling,l!==null){Kt=l;return}Kt=l=a}while(l!==null);Zt===0&&(Zt=5)}function Do(a,l,h){var p=Qe,y=Ir.transition;try{Ir.transition=null,Qe=1,vj(a,l,h,p)}finally{Ir.transition=y,Qe=p}return null}function vj(a,l,h,p){do Su();while(va!==null);if((tt&6)!==0)throw Error(n(327));h=a.finishedWork;var y=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var w=h.lanes|h.childLanes;if(Xy(a,w),a===an&&(Kt=an=null,fn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Op||(Op=!0,Pk(fo,function(){return Su(),null})),w=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||w){w=Ir.transition,Ir.transition=null;var N=Qe;Qe=1;var F=tt;tt|=4,e0.current=null,dj(a,h),yk(h,a),F4(cv),li=!!uv,cv=uv=null,a.current=h,fj(h),si(),tt=F,Qe=N,Ir.transition=w}else a.current=h;if(Op&&(Op=!1,va=a,Lp=y),w=a.pendingLanes,w===0&&(ya=null),Gf(h.stateNode),Gn(a,gt()),l!==null)for(p=a.onRecoverableError,h=0;h<l.length;h++)y=l[h],p(y.value,{componentStack:y.stack,digest:y.digest});if(Mp)throw Mp=!1,a=r0,r0=null,a;return(Lp&1)!==0&&a.tag!==0&&Su(),w=a.pendingLanes,(w&1)!==0?a===s0?Ph++:(Ph=0,s0=a):Ph=0,fa(),null}function Su(){if(va!==null){var a=ms(Lp),l=Ir.transition,h=Qe;try{if(Ir.transition=null,Qe=16>a?16:a,va===null)var p=!1;else{if(a=va,va=null,Lp=0,(tt&6)!==0)throw Error(n(331));var y=tt;for(tt|=4,we=a.current;we!==null;){var w=we,N=w.child;if((we.flags&16)!==0){var F=w.deletions;if(F!==null){for(var U=0;U<F.length;U++){var Z=F[U];for(we=Z;we!==null;){var ie=we;switch(ie.tag){case 0:case 11:case 15:Ch(8,ie,w)}var oe=ie.child;if(oe!==null)oe.return=ie,we=oe;else for(;we!==null;){ie=we;var se=ie.sibling,fe=ie.return;if(dk(ie),ie===Z){we=null;break}if(se!==null){se.return=fe,we=se;break}we=fe}}}var be=w.alternate;if(be!==null){var Te=be.child;if(Te!==null){be.child=null;do{var Ut=Te.sibling;Te.sibling=null,Te=Ut}while(Te!==null)}}we=w}}if((w.subtreeFlags&2064)!==0&&N!==null)N.return=w,we=N;else e:for(;we!==null;){if(w=we,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Ch(9,w,w.return)}var X=w.sibling;if(X!==null){X.return=w.return,we=X;break e}we=w.return}}var W=a.current;for(we=W;we!==null;){N=we;var J=N.child;if((N.subtreeFlags&2064)!==0&&J!==null)J.return=N,we=J;else e:for(N=W;we!==null;){if(F=we,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Pp(9,F)}}catch(Ie){Pt(F,F.return,Ie)}if(F===N){we=null;break e}var ue=F.sibling;if(ue!==null){ue.return=F.return,we=ue;break e}we=F.return}}if(tt=y,fa(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(po,a)}catch{}p=!0}return p}finally{Qe=h,Ir.transition=l}}return!1}function Ck(a,l,h){l=wu(h,l),l=WS(a,l,1),a=ma(a,l,1),l=Rn(),a!==null&&(vo(a,1,l),Gn(a,l))}function Pt(a,l,h){if(a.tag===3)Ck(a,a,h);else for(;l!==null;){if(l.tag===3){Ck(l,a,h);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ya===null||!ya.has(p))){a=wu(h,a),a=GS(l,a,1),l=ma(l,a,1),a=Rn(),l!==null&&(vo(l,1,a),Gn(l,a));break}}l=l.return}}function wj(a,l,h){var p=a.pingCache;p!==null&&p.delete(l),l=Rn(),a.pingedLanes|=a.suspendedLanes&h,an===a&&(fn&h)===h&&(Zt===4||Zt===3&&(fn&130023424)===fn&&500>gt()-n0?Ro(a,0):t0|=h),Gn(a,l)}function Nk(a,l){l===0&&((a.mode&1)===0?l=1:(l=na,na<<=1,(na&130023424)===0&&(na=4194304)));var h=Rn();a=pi(a,l),a!==null&&(vo(a,l,h),Gn(a,h))}function bj(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),Nk(a,h)}function xj(a,l){var h=0;switch(a.tag){case 13:var p=a.stateNode,y=a.memoizedState;y!==null&&(h=y.retryLane);break;case 19:p=a.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(l),Nk(a,h)}var Ak;Ak=function(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps||Bn.current)qn=!0;else{if((a.lanes&h)===0&&(l.flags&128)===0)return qn=!1,lj(a,l,h);qn=(a.flags&131072)!==0}else qn=!1,bt&&(l.flags&1048576)!==0&&lS(l,pp,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Np(a,l),a=l.pendingProps;var y=hu(l,bn.current);yu(l,h),y=Mv(null,l,p,a,y,h);var w=Ov();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,$n(p)?(w=!0,hp(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,_v(l),y.updater=_p,l.stateNode=y,y._reactInternals=l,Uv(l,p,a,h),l=Wv(null,l,p,!0,w,h)):(l.tag=0,bt&&w&&yv(l),Pn(null,l,y,h),l=l.child),l;case 16:p=l.elementType;e:{switch(Np(a,l),a=l.pendingProps,y=p._init,p=y(p._payload),l.type=p,y=l.tag=Sj(p),a=Hr(p,a),y){case 0:l=qv(null,l,p,a,h);break e;case 1:l=tk(null,l,p,a,h);break e;case 11:l=XS(null,l,p,a,h);break e;case 14:l=YS(null,l,p,Hr(p.type,a),h);break e}throw Error(n(306,p,""))}return l;case 0:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Hr(p,y),qv(a,l,p,y,h);case 1:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Hr(p,y),tk(a,l,p,y,h);case 3:e:{if(nk(l),a===null)throw Error(n(387));p=l.pendingProps,w=l.memoizedState,y=w.element,yS(a,l),bp(l,p,null,h);var N=l.memoizedState;if(p=N.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){y=wu(Error(n(423)),l),l=rk(a,l,p,h,y);break e}else if(p!==y){y=wu(Error(n(424)),l),l=rk(a,l,p,h,y);break e}else for(lr=ca(l.stateNode.containerInfo.firstChild),or=l,bt=!0,Kr=null,h=mS(l,null,p,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(pu(),p===y){l=gi(a,l,h);break e}Pn(a,l,p,h)}l=l.child}return l;case 5:return bS(l),a===null&&bv(l),p=l.type,y=l.pendingProps,w=a!==null?a.memoizedProps:null,N=y.children,hv(p,y)?N=null:w!==null&&hv(p,w)&&(l.flags|=32),ek(a,l),Pn(a,l,N,h),l.child;case 6:return a===null&&bv(l),null;case 13:return sk(a,l,h);case 4:return Cv(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=mu(l,null,p,h):Pn(a,l,p,h),l.child;case 11:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Hr(p,y),XS(a,l,p,y,h);case 7:return Pn(a,l,l.pendingProps,h),l.child;case 8:return Pn(a,l,l.pendingProps.children,h),l.child;case 12:return Pn(a,l,l.pendingProps.children,h),l.child;case 10:e:{if(p=l.type._context,y=l.pendingProps,w=l.memoizedProps,N=y.value,dt(yp,p._currentValue),p._currentValue=N,w!==null)if(Gr(w.value,N)){if(w.children===y.children&&!Bn.current){l=gi(a,l,h);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var F=w.dependencies;if(F!==null){N=w.child;for(var U=F.firstContext;U!==null;){if(U.context===p){if(w.tag===1){U=mi(-1,h&-h),U.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?U.next=U:(U.next=ie.next,ie.next=U),Z.pending=U}}w.lanes|=h,U=w.alternate,U!==null&&(U.lanes|=h),Tv(w.return,h,l),F.lanes|=h;break}U=U.next}}else if(w.tag===10)N=w.type===l.type?null:w.child;else if(w.tag===18){if(N=w.return,N===null)throw Error(n(341));N.lanes|=h,F=N.alternate,F!==null&&(F.lanes|=h),Tv(N,h,l),N=w.sibling}else N=w.child;if(N!==null)N.return=w;else for(N=w;N!==null;){if(N===l){N=null;break}if(w=N.sibling,w!==null){w.return=N.return,N=w;break}N=N.return}w=N}Pn(a,l,y.children,h),l=l.child}return l;case 9:return y=l.type,p=l.pendingProps.children,yu(l,h),y=kr(y),p=p(y),l.flags|=1,Pn(a,l,p,h),l.child;case 14:return p=l.type,y=Hr(p,l.pendingProps),y=Hr(p.type,y),YS(a,l,p,y,h);case 15:return JS(a,l,l.type,l.pendingProps,h);case 17:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Hr(p,y),Np(a,l),l.tag=1,$n(p)?(a=!0,hp(l)):a=!1,yu(l,h),$S(l,p,y),Uv(l,p,y,h),Wv(null,l,p,!0,a,h);case 19:return ak(a,l,h);case 22:return ZS(a,l,h)}throw Error(n(156,l.tag))};function Pk(a,l){return Hc(a,l)}function Ej(a,l,h,p){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(a,l,h,p){return new Ej(a,l,h,p)}function c0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Sj(a){if(typeof a=="function")return c0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===$)return 11;if(a===Re)return 14}return 2}function xa(a,l){var h=a.alternate;return h===null?(h=_r(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function zp(a,l,h,p,y,w){var N=2;if(p=a,typeof a=="function")c0(a)&&(N=1);else if(typeof a=="string")N=5;else e:switch(a){case D:return Mo(h.children,y,w,l);case C:N=8,y|=8;break;case P:return a=_r(12,h,l,y|2),a.elementType=P,a.lanes=w,a;case j:return a=_r(13,h,l,y),a.elementType=j,a.lanes=w,a;case ke:return a=_r(19,h,l,y),a.elementType=ke,a.lanes=w,a;case ve:return Up(h,y,w,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:N=10;break e;case V:N=9;break e;case $:N=11;break e;case Re:N=14;break e;case ye:N=16,p=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=_r(N,h,l,y),l.elementType=a,l.type=p,l.lanes=w,l}function Mo(a,l,h,p){return a=_r(7,a,p,l),a.lanes=h,a}function Up(a,l,h,p){return a=_r(22,a,p,l),a.elementType=ve,a.lanes=h,a.stateNode={isHidden:!1},a}function h0(a,l,h){return a=_r(6,a,null,l),a.lanes=h,a}function d0(a,l,h){return l=_r(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function kj(a,l,h,p,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function f0(a,l,h,p,y,w,N,F,U){return a=new kj(a,l,h,F,U),l===1?(l=1,w===!0&&(l|=8)):l=0,w=_r(3,null,null,l),a.current=w,w.stateNode=a,w.memoizedState={element:p,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},_v(w),a}function Tj(a,l,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:p==null?null:""+p,children:a,containerInfo:l,implementation:h}}function Rk(a){if(!a)return da;a=a._reactInternals;e:{if(qr(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if($n(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if($n(h))return iS(a,h,l)}return l}function Dk(a,l,h,p,y,w,N,F,U){return a=f0(h,p,!0,a,y,w,N,F,U),a.context=Rk(null),h=a.current,p=Rn(),y=wa(h),w=mi(p,y),w.callback=l??null,ma(h,w,y),a.current.lanes=y,vo(a,y,p),Gn(a,p),a}function Bp(a,l,h,p){var y=l.current,w=Rn(),N=wa(y);return h=Rk(h),l.context===null?l.context=h:l.pendingContext=h,l=mi(w,N),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=ma(y,l,N),a!==null&&(Yr(a,y,N,w),wp(a,y,N)),N}function $p(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Mk(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function p0(a,l){Mk(a,l),(a=a.alternate)&&Mk(a,l)}function Ij(){return null}var Ok=typeof reportError=="function"?reportError:function(a){console.error(a)};function m0(a){this._internalRoot=a}qp.prototype.render=m0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));Bp(a,l,null,null)},qp.prototype.unmount=m0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Po(function(){Bp(null,a,null,null)}),l[ci]=null}};function qp(a){this._internalRoot=a}qp.prototype.unstable_scheduleHydration=function(a){if(a){var l=rh();a={blockedOn:null,target:a,priority:l};for(var h=0;h<rr.length&&l!==0&&l<rr[h].priority;h++);rr.splice(h,0,a),h===0&&Ql(a)}};function g0(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Wp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Lk(){}function _j(a,l,h,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var Z=$p(N);w.call(Z)}}var N=Dk(l,p,a,0,null,!1,!1,"",Lk);return a._reactRootContainer=N,a[ci]=N.current,mh(a.nodeType===8?a.parentNode:a),Po(),N}for(;y=a.lastChild;)a.removeChild(y);if(typeof p=="function"){var F=p;p=function(){var Z=$p(U);F.call(Z)}}var U=f0(a,0,!1,null,null,!1,!1,"",Lk);return a._reactRootContainer=U,a[ci]=U.current,mh(a.nodeType===8?a.parentNode:a),Po(function(){Bp(l,U,h,p)}),U}function Gp(a,l,h,p,y){var w=h._reactRootContainer;if(w){var N=w;if(typeof y=="function"){var F=y;y=function(){var U=$p(N);F.call(U)}}Bp(l,N,a,y)}else N=_j(h,l,a,y,p);return $p(N)}th=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var h=it(l.pendingLanes);h!==0&&(eh(l,h|1),Gn(l,gt()),(tt&6)===0&&(Eu=gt()+500,fa()))}break;case 13:Po(function(){var p=pi(a,1);if(p!==null){var y=Rn();Yr(p,a,1,y)}}),p0(a,1)}},Kl=function(a){if(a.tag===13){var l=pi(a,134217728);if(l!==null){var h=Rn();Yr(l,a,134217728,h)}p0(a,134217728)}},nh=function(a){if(a.tag===13){var l=wa(a),h=pi(a,l);if(h!==null){var p=Rn();Yr(h,a,l,p)}p0(a,l)}},rh=function(){return Qe},sh=function(a,l){var h=Qe;try{return Qe=a,l()}finally{Qe=h}},ti=function(a,l,h){switch(l){case"input":if(ei(a,h),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var p=h[l];if(p!==a&&p.form===a.form){var y=up(p);if(!y)throw Error(n(90));wr(p),ei(p,y)}}}break;case"textarea":Mf(a,h);break;case"select":l=h.value,l!=null&&Br(a,!!h.multiple,l,!1)}},jf=o0,Ff=Po;var Cj={usingClientEntryPoint:!1,Events:[vh,uu,up,Ji,Zi,o0]},Rh={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nj={bundleType:Rh.bundleType,version:Rh.version,rendererPackageName:Rh.rendererPackageName,rendererConfig:Rh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Wf(a),a===null?null:a.stateNode},findFiberByHostInstance:Rh.findFiberByHostInstance||Ij,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kp.isDisabled&&Kp.supportsFiber)try{po=Kp.inject(Nj),tr=Kp}catch{}}return Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cj,Kn.createPortal=function(a,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g0(l))throw Error(n(200));return Tj(a,l,null,h)},Kn.createRoot=function(a,l){if(!g0(a))throw Error(n(299));var h=!1,p="",y=Ok;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=f0(a,1,!1,null,null,h,!1,p,y),a[ci]=l.current,mh(a.nodeType===8?a.parentNode:a),new m0(l)},Kn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Wf(l),a=a===null?null:a.stateNode,a},Kn.flushSync=function(a){return Po(a)},Kn.hydrate=function(a,l,h){if(!Wp(l))throw Error(n(200));return Gp(null,a,l,!0,h)},Kn.hydrateRoot=function(a,l,h){if(!g0(a))throw Error(n(405));var p=h!=null&&h.hydratedSources||null,y=!1,w="",N=Ok;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(N=h.onRecoverableError)),l=Dk(l,null,a,1,h??null,y,!1,w,N),a[ci]=l.current,mh(a),p)for(a=0;a<p.length;a++)h=p[a],y=h._getVersion,y=y(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,y]:l.mutableSourceEagerHydrationData.push(h,y);return new qp(l)},Kn.render=function(a,l,h){if(!Wp(l))throw Error(n(200));return Gp(null,a,l,!1,h)},Kn.unmountComponentAtNode=function(a){if(!Wp(a))throw Error(n(40));return a._reactRootContainer?(Po(function(){Gp(null,null,a,!1,function(){a._reactRootContainer=null,a[ci]=null})}),!0):!1},Kn.unstable_batchedUpdates=o0,Kn.unstable_renderSubtreeIntoContainer=function(a,l,h,p){if(!Wp(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Gp(a,l,h,!1,p)},Kn.version="18.3.1-next-f1338f8080-20240426",Kn}var Xk;function K2(){if(Xk)return y0.exports;Xk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),y0.exports=Uj(),y0.exports}var Yk;function Bj(){if(Yk)return Hp;Yk=1;var t=K2();return Hp.createRoot=t.createRoot,Hp.hydrateRoot=t.hydrateRoot,Hp}var $j=Bj();const qj=nx($j),Wj="modulepreload",Gj=function(t){return"/"+t},Jk={},Ft=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=Gj(c),c in Jk)return;Jk[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":Wj,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,S)=>{g.addEventListener("load",v),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function Zk({size:t="md",variant:e="circle",className:n=""}){const r={xs:{wrapper:"w-6 h-6",img:"w-5 h-5"},sm:{wrapper:"w-8 h-8",img:"w-6 h-6"},md:{wrapper:"w-12 h-12",img:"w-10 h-10"},lg:{wrapper:"w-20 h-20",img:"w-16 h-16"},xl:{wrapper:"w-32 h-32",img:"w-24 h-24"}},s=r[t]||r.md;return x.jsx("div",{className:`${e==="circle"?"bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full shadow-lg overflow-hidden flex items-center justify-center":""} ${s.wrapper} ${n}`.trim(),children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:`${s.img} object-contain ${e==="circle"?"transform -rotate-12":""}`,loading:"lazy"})})}const Kj=()=>{};var eT={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const H2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Hj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],u=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Q2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,u=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,m=i>>2,g=(i&3)<<4|u>>4;let v=(u&15)<<2|d>>6,S=d&63;c||(S=64,o||(v=64)),r.push(n[m],n[g],n[v],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(H2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Hj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const c=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||u==null||c==null)throw new Qj;const d=i<<2|o>>4;if(r.push(d),u!==64){const m=o<<4&240|u>>2;if(r.push(m),c!==64){const g=u<<6&192|c;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Qj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xj=function(t){const e=H2(t);return Q2.encodeByteArray(e,!0)},eg=function(t){return Xj(t).replace(/\./g,"")},X2=function(t){try{return Q2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Y2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Yj=()=>Y2().__FIREBASE_DEFAULTS__,Jj=()=>{if(typeof process>"u"||typeof eT>"u")return;const t=eT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&X2(t[1]);return e&&JSON.parse(e)},Kg=()=>{try{return Kj()||Yj()||Jj()||Zj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},J2=t=>{var e,n;return(n=(e=Kg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Z2=t=>{const e=J2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eN=()=>{var t;return(t=Kg())==null?void 0:t.config},tN=t=>{var e;return(e=Kg())==null?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class e5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Nl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ix(t){return(await fetch(t,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[eg(JSON.stringify(n)),eg(JSON.stringify(o)),""].join(".")}const dd={};function t5(){const t={prod:[],emulator:[]};for(const e of Object.keys(dd))dd[e]?t.emulator.push(e):t.prod.push(e);return t}function n5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tT=!1;function ax(t,e){if(typeof window>"u"||typeof document>"u"||!Nl(window.location.host)||dd[t]===e||dd[t]||tT)return;dd[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=t5().prod.length>0;function i(){const g=document.getElementById(r);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{tT=!0,i()},g}function d(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=n5(r),v=n("text"),S=document.getElementById(v)||document.createElement("span"),_=n("learnmore"),T=document.getElementById(_)||document.createElement("a"),I=n("preprendIcon"),A=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const R=g.element;o(R),d(T,_);const O=c();u(A,I),R.append(A,S,T,O),document.body.appendChild(R)}s?(S.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function rN(){var t;const e=(t=Kg())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ox(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function i5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a5(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sN(){return!rN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iN(){return!rN()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Hg(){try{return typeof indexedDB=="object"}catch{return!1}}function lx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function aN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const o5="FirebaseError";class Ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o5,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?l5(i,r):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new Ur(s,u,r)}}function l5(t,e){return t.replace(u5,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const u5=/\{\$([^}]+)}/g;function c5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ga(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(nT(i)&&nT(o)){if(!Ga(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function nT(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function sd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function h5(t,e){const n=new d5(t,e);return n.subscribe.bind(n)}class d5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");f5(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=v0),s.error===void 0&&(s.error=v0),s.complete===void 0&&(s.complete=v0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function v0(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const p5=1e3,m5=2,g5=14400*1e3,y5=.5;function rT(t,e=p5,n=m5){const r=e*Math.pow(n,t),s=Math.round(y5*r*(Math.random()-.5)*2);return Math.min(g5,r+s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Nt(t){return t&&t._delegate?t._delegate:t}class zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Go="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class v5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new e5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b5(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w5(t){return t===Go?void 0:t}function b5(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class x5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new v5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const E5={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},S5=Ke.INFO,k5={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},T5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=k5[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qg{constructor(e){this.name=e,this._logLevel=S5,this._logHandler=T5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const I5=(t,e)=>e.some(n=>t instanceof n);let sT,iT;function _5(){return sT||(sT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C5(){return iT||(iT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oN=new WeakMap,Cw=new WeakMap,lN=new WeakMap,w0=new WeakMap,ux=new WeakMap;function N5(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(za(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&oN.set(n,t)}).catch(()=>{}),ux.set(e,t),e}function A5(t){if(Cw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Cw.set(t,e)}let Nw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return za(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function P5(t){Nw=t(Nw)}function R5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(b0(this),e,...n);return lN.set(r,e.sort?e.sort():[e]),za(r)}:C5().includes(t)?function(...e){return t.apply(b0(this),e),za(oN.get(this))}:function(...e){return za(t.apply(b0(this),e))}}function D5(t){return typeof t=="function"?R5(t):(t instanceof IDBTransaction&&A5(t),I5(t,_5())?new Proxy(t,Nw):t)}function za(t){if(t instanceof IDBRequest)return N5(t);if(w0.has(t))return w0.get(t);const e=D5(t);return e!==t&&(w0.set(t,e),ux.set(e,t)),e}const b0=t=>ux.get(t);function uN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),u=za(o);return r&&o.addEventListener("upgradeneeded",c=>{r(za(o.result),c.oldVersion,c.newVersion,za(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const M5=["get","getKey","getAll","getAllKeys","count"],O5=["put","add","delete","clear"],x0=new Map;function aT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(x0.get(e))return x0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=O5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||M5.includes(n)))return;const i=async function(o,...u){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),s&&c.done]))[0]};return x0.set(e,i),i}P5(t=>({...t,get:(e,n,r)=>aT(e,n)||t.get(e,n,r),has:(e,n)=>!!aT(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class L5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(j5(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function j5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Aw="@firebase/app",oT="0.14.5";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ni=new Qg("@firebase/app"),F5="@firebase/app-compat",V5="@firebase/analytics-compat",z5="@firebase/analytics",U5="@firebase/app-check-compat",B5="@firebase/app-check",$5="@firebase/auth",q5="@firebase/auth-compat",W5="@firebase/database",G5="@firebase/data-connect",K5="@firebase/database-compat",H5="@firebase/functions",Q5="@firebase/functions-compat",X5="@firebase/installations",Y5="@firebase/installations-compat",J5="@firebase/messaging",Z5="@firebase/messaging-compat",eF="@firebase/performance",tF="@firebase/performance-compat",nF="@firebase/remote-config",rF="@firebase/remote-config-compat",sF="@firebase/storage",iF="@firebase/storage-compat",aF="@firebase/firestore",oF="@firebase/ai",lF="@firebase/firestore-compat",uF="firebase",cF="12.5.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pw="[DEFAULT]",hF={[Aw]:"fire-core",[F5]:"fire-core-compat",[z5]:"fire-analytics",[V5]:"fire-analytics-compat",[B5]:"fire-app-check",[U5]:"fire-app-check-compat",[$5]:"fire-auth",[q5]:"fire-auth-compat",[W5]:"fire-rtdb",[G5]:"fire-data-connect",[K5]:"fire-rtdb-compat",[H5]:"fire-fn",[Q5]:"fire-fn-compat",[X5]:"fire-iid",[Y5]:"fire-iid-compat",[J5]:"fire-fcm",[Z5]:"fire-fcm-compat",[eF]:"fire-perf",[tF]:"fire-perf-compat",[nF]:"fire-rc",[rF]:"fire-rc-compat",[sF]:"fire-gcs",[iF]:"fire-gcs-compat",[aF]:"fire-fst",[lF]:"fire-fst-compat",[oF]:"fire-vertex","fire-js":"fire-js",[uF]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tg=new Map,dF=new Map,Rw=new Map;function lT(t,e){try{t.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rs(t){const e=t.name;if(Rw.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Rw.set(e,t);for(const n of tg.values())lT(n,t);for(const n of dF.values())lT(n,t);return!0}function no(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t==null?!1:t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new Al("app","Firebase",fF);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pl=cF;function cN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Pw,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ua.create("bad-app-name",{appName:String(s)});if(n||(n=eN()),!n)throw Ua.create("no-options");const i=tg.get(s);if(i){if(Ga(n,i.options)&&Ga(r,i.config))return i;throw Ua.create("duplicate-app",{appName:s})}const o=new x5(s);for(const c of Rw.values())o.addComponent(c);const u=new pF(n,r,o);return tg.set(s,u),u}function Xg(t=Pw){const e=tg.get(t);if(!e&&t===Pw&&eN())return cN();if(!e)throw Ua.create("no-app",{appName:t});return e}function Zn(t,e,n){let r=hF[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(o.join(" "));return}rs(new zr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mF="firebase-heartbeat-database",gF=1,Cd="firebase-heartbeat-store";let E0=null;function hN(){return E0||(E0=uN(mF,gF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ua.create("idb-open",{originalErrorMessage:t.message})})),E0}async function yF(t){try{const e=(await hN()).transaction(Cd),n=await e.objectStore(Cd).get(dN(t));return await e.done,n}catch(e){if(e instanceof Ur)Ni.warn(e.message);else{const n=Ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function uT(t,e){try{const n=(await hN()).transaction(Cd,"readwrite");await n.objectStore(Cd).put(e,dN(t)),await n.done}catch(n){if(n instanceof Ur)Ni.warn(n.message);else{const r=Ua.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(r.message)}}}function dN(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vF=1024,wF=30;class bF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>wF){const i=SF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cT(),{heartbeatsToSend:r,unsentEntries:s}=xF(this._heartbeatsCache.heartbeats),i=eg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ni.warn(n),""}}}function cT(){return new Date().toISOString().substring(0,10)}function xF(t,e=vF){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),hT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),hT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hg()?lx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await yF(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return uT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return uT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function hT(t){return eg(JSON.stringify({version:2,heartbeats:t})).length}function SF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kF(t){rs(new zr("platform-logger",e=>new L5(e),"PRIVATE")),rs(new zr("heartbeat",e=>new bF(e),"PRIVATE")),Zn(Aw,oT,t),Zn(Aw,oT,"esm2020"),Zn("fire-js","")}kF("");function fN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TF=fN,pN=new Al("auth","Firebase",fN());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ng=new Qg("@firebase/auth");function IF(t,...e){ng.logLevel<=Ke.WARN&&ng.warn(`Auth (${Pl}): ${t}`,...e)}function Sm(t,...e){ng.logLevel<=Ke.ERROR&&ng.error(`Auth (${Pl}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ss(t,...e){throw cx(t,...e)}function Ls(t,...e){return cx(t,...e)}function mN(t,e,n){const r={...TF(),[e]:n};return new Al("auth","Firebase",r).create(e,{appName:t.name})}function _i(t){return mN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pN.create(t,...e)}function Oe(t,e,...n){if(!t)throw cx(e,...n)}function Si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sm(e),new Error(e)}function Ai(t,e){t||Si(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Dw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function _F(){return dT()==="http:"||dT()==="https:"}function dT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function CF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_F()||ox()||"connection"in navigator)?navigator.onLine:!0}function NF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class af{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=r5()||i5()}get(){return CF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hx(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const PF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RF=new af(3e4,6e4);function Vi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function zi(t,e,n,r,s={}){return yN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const u=sf({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return s5()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Nl(t.emulatorConfig.host)&&(d.credentials="include"),gN.fetch()(await vN(t,t.config.apiHost,n,u),d)})}async function yN(t,e,n){t._canInitEmulator=!1;const r={...AF,...e};try{const s=new MF(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Qp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const u=i.ok?o.errorMessage:o.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Qp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Qp(t,"user-disabled",o);const m=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw mN(t,m,d);ss(t,m)}}catch(s){if(s instanceof Ur)throw s;ss(t,"network-request-failed",{message:String(s)})}}async function of(t,e,n,r,s={}){const i=await zi(t,e,n,r,s);return"mfaPendingCredential"in i&&ss(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function vN(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?hx(t.config,s):`${t.config.apiScheme}://${s}`;return PF.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function DF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ls(this.auth,"network-request-failed")),RF.get())})}}function Qp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ls(t,e,r);return s.customData._tokenResponse=n,s}function fT(t){return t!==void 0&&t.enterprise!==void 0}class OF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LF(t,e){return zi(t,"GET","/v2/recaptchaConfig",Vi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function jF(t,e){return zi(t,"POST","/v1/accounts:delete",e)}async function rg(t,e){return zi(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FF(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),s=dx(r);Oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:fd(S0(s.auth_time)),issuedAtTime:fd(S0(s.iat)),expirationTime:fd(S0(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function S0(t){return Number(t)*1e3}function dx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sm("JWT malformed, contained fewer than 3 sections"),null;try{const s=X2(n);return s?JSON.parse(s):(Sm("Failed to decode base64 JWT payload"),null)}catch(s){return Sm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function pT(t){const e=dx(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Nd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ur&&VF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fd(this.lastLoginAt),this.creationTime=fd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function sg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Nd(t,rg(n,{idToken:r}));Oe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=(e=i.providerUserInfo)!=null&&e.length?wN(i.providerUserInfo):[],u=BF(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(u!=null&&u.length),m=c?d:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Mw(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function UF(t){const e=Nt(t);await sg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BF(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function wN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function $F(t,e){const n=await yN(t,{},async()=>{const r=sf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await vN(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&Nl(t.emulatorConfig.host)&&(c.credentials="include"),gN.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qF(t,e){return zi(t,"POST","/v2/accounts:revokeToken",Vi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=pT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await $F(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new tc;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tc,this.toJSON())}_performRefresh(){return Si("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Sa(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ts{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new zF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Nd(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FF(this,e)}reload(){return UF(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(_i(this.auth));const e=await this.getIdToken();return await Nd(this,jF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:S,providerData:_,stsTokenManager:T}=n;Oe(g&&T,e,"internal-error");const I=tc.fromJSON(this.name,T);Oe(typeof g=="string",e,"internal-error"),Sa(r,e.name),Sa(s,e.name),Oe(typeof v=="boolean",e,"internal-error"),Oe(typeof S=="boolean",e,"internal-error"),Sa(i,e.name),Sa(o,e.name),Sa(u,e.name),Sa(c,e.name),Sa(d,e.name),Sa(m,e.name);const A=new ts({uid:g,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:S,photoURL:o,phoneNumber:i,tenantId:u,stsTokenManager:I,createdAt:d,lastLoginAt:m});return _&&Array.isArray(_)&&(A.providerData=_.map(R=>({...R}))),c&&(A._redirectEventId=c),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new tc;s.updateFromServerResponse(n);const i=new ts({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?wN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new tc;u.updateFromIdToken(r);const c=new ts({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Mw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mT=new Map;function ki(t){Ai(t instanceof Function,"Expected a class definition");let e=mT.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mT.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bN.type="NONE";const gT=bN;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function km(t,e,n){return`firebase:${t}:${e}:${n}`}class nc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=km(this.userKey,s.apiKey,i),this.fullPersistenceKey=km("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rg(this.auth,{idToken:e}).catch(()=>{});return n?ts._fromGetAccountInfoResponse(this.auth,n,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nc(ki(gT),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||ki(gT);const o=km(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const m=await d._get(o);if(m){let g;if(typeof m=="string"){const v=await rg(e,{idToken:m}).catch(()=>{});if(!v)break;g=await ts._fromGetAccountInfoResponse(e,v,m)}else g=ts._fromJSON(e,m);d!==i&&(u=g),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new nc(i,e,r):(i=c[0],u&&await i._set(o,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new nc(i,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IN(e))return"Blackberry";if(_N(e))return"Webos";if(EN(e))return"Safari";if((e.includes("chrome/")||SN(e))&&!e.includes("edge/"))return"Chrome";if(TN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xN(t=nn()){return/firefox\//i.test(t)}function EN(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SN(t=nn()){return/crios\//i.test(t)}function kN(t=nn()){return/iemobile/i.test(t)}function TN(t=nn()){return/android/i.test(t)}function IN(t=nn()){return/blackberry/i.test(t)}function _N(t=nn()){return/webos/i.test(t)}function fx(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WF(t=nn()){var e;return fx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function GF(){return a5()&&document.documentMode===10}function CN(t=nn()){return fx(t)||TN(t)||_N(t)||IN(t)||/windows phone/i.test(t)||kN(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function NN(t,e=[]){let n;switch(t){case"Browser":n=yT(nn());break;case"Worker":n=`${yT(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pl}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,u)=>{try{const c=e(i);o(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function HF(t,e={}){return zi(t,"GET","/v2/passwordPolicy",Vi(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const QF=6;class XF{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??QF,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YF{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vT(this),this.idTokenSubscription=new vT(this),this.beforeStateQueue=new KF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await nc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rg(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)==null?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&c!=null&&c.user&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(_i(this));const n=e?Nt(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(_i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(_i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HF(this),n=new XF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ki(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await nc.create(this,[ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(u,this,"internal-error"),u.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return n!=null&&n.error&&IF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ro(t){return Nt(t)}let vT=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=h5(e=>this.observer=e)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Yg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JF(t){Yg=t}function AN(t){return Yg.loadJS(t)}function ZF(){return Yg.recaptchaEnterpriseScript}function e3(){return Yg.gapiScript}function t3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class n3{constructor(){this.enterprise=new r3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class r3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const s3="recaptcha-enterprise",PN="NO_RECAPTCHA";class i3{constructor(e){this.type=s3,this.auth=ro(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,u)=>{LF(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new OF(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{u(c)})})}function s(i,o,u){const c=window.grecaptcha;fT(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(PN)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new n3().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(u=>{if(!n&&fT(window.grecaptcha))s(u,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=ZF();c.length!==0&&(c+=u),AN(c).then(()=>{s(u,i,o)}).catch(d=>{o(d)})}}).catch(u=>{o(u)})})}}async function wT(t,e,n,r=!1,s=!1){const i=new i3(t);let o;if(s)o=PN;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function ig(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await wT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await wT(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function a3(t,e){const n=no(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Ga(s,e??{}))return r;ss(r,"already-initialized")}return n.initialize({options:e})}function o3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function l3(t,e,n){const r=ro(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=RN(e),{host:o,port:u}=u3(e),c=u===null?"":`:${u}`,d={url:`${i}//${o}${c}/`},m=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(Ga(d,r.config.emulator)&&Ga(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Nl(o)?(ix(`${i}//${o}${c}`),ax("Auth",!0)):c3()}function RN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u3(t){const e=RN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:bT(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:bT(o)}}}function bT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class px{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Si("not implemented")}_getIdTokenResponse(e){return Si("not implemented")}_linkToIdToken(e,n){return Si("not implemented")}_getReauthenticationResolver(e){return Si("not implemented")}}async function h3(t,e){return zi(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function d3(t,e){return of(t,"POST","/v1/accounts:signInWithPassword",Vi(t,e))}async function f3(t,e){return zi(t,"POST","/v1/accounts:sendOobCode",Vi(t,e))}async function p3(t,e){return f3(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function m3(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",Vi(t,e))}async function g3(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",Vi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ad extends px{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ad(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ad(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,n,"signInWithPassword",d3);case"emailLink":return m3(e,{email:this._email,oobCode:this._password});default:ss(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,r,"signUpPassword",h3);case"emailLink":return g3(e,{idToken:n,email:this._email,oobCode:this._password});default:ss(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function rc(t,e){return of(t,"POST","/v1/accounts:signInWithIdp",Vi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const y3="http://localhost";class pl extends px{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new pl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return rc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rc(e,n)}buildRequest(){const e={requestUri:y3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sf(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function v3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w3(t){const e=rd(sd(t)).link,n=e?rd(sd(e)).deep_link_id:null,r=rd(sd(t)).deep_link_id;return(r?rd(sd(r)).link:null)||r||n||e||t}class mx{constructor(e){const n=rd(sd(e)),r=n.apiKey??null,s=n.oobCode??null,i=v3(n.mode??null);Oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=w3(e);try{return new mx(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ic{constructor(){this.providerId=Ic.PROVIDER_ID}static credential(e,n){return Ad._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mx.parseLink(n);return Oe(r,"argument-error"),Ad._fromEmailAndCode(e,r.code,r.tenantId)}}Ic.PROVIDER_ID="password";Ic.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ic.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lf extends DN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ma extends lf{constructor(){super("facebook.com")}static credential(e){return pl._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ma.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Oa extends lf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pl._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Oa.credential(n,r)}catch{return null}}}Oa.GOOGLE_SIGN_IN_METHOD="google.com";Oa.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class La extends lf{constructor(){super("github.com")}static credential(e){return pl._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return La.credential(e.oauthAccessToken)}catch{return null}}}La.GITHUB_SIGN_IN_METHOD="github.com";La.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ja extends lf{constructor(){super("twitter.com")}static credential(e,n){return pl._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ja.credential(n,r)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function b3(t,e){return of(t,"POST","/v1/accounts:signUp",Vi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ts._fromIdTokenResponse(e,r,s),o=xT(r);return new ml({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=xT(r);return new ml({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function xT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ag extends Ur{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ag.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ag(e,n,r,s)}}function MN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ag._fromErrorAndOperation(t,s,e,r):s})}async function x3(t,e,n=!1){const r=await Nd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ml._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function E3(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(_i(r));const s="reauthenticate";try{const i=await Nd(t,MN(r,s,e,t),n);Oe(i.idToken,r,"internal-error");const o=dx(i.idToken);Oe(o,r,"internal-error");const{sub:u}=o;return Oe(t.uid===u,r,"user-mismatch"),ml._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ss(r,"user-mismatch"),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ON(t,e,n=!1){if(fr(t.app))return Promise.reject(_i(t));const r="signIn",s=await MN(t,r,e),i=await ml._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function S3(t,e){return ON(ro(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function LN(t){const e=ro(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function k3(t,e,n){const r=ro(t);await ig(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",p3)}async function T3(t,e,n){if(fr(t.app))return Promise.reject(_i(t));const r=ro(t),s=await ig(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b3).catch(o=>{throw o.code==="auth/password-does-not-meet-requirements"&&LN(t),o}),i=await ml._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function I3(t,e,n){return fr(t.app)?Promise.reject(_i(t)):S3(Nt(t),Ic.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LN(t),r})}function _3(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function C3(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function N3(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function A3(t){return Nt(t).signOut()}const og="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(og,"1"),this.storage.removeItem(og),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const P3=1e3,R3=10;class FN extends jN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);GF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,R3):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FN.type="LOCAL";const D3=FN;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VN extends jN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VN.type="SESSION";const zN=VN;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function M3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Jg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(o).map(async d=>d(n.origin,i)),c=await M3(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jg.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((u,c)=>{const d=gx("",20);s.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(v.data.response);break;default:clearTimeout(m),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function js(){return window}function L3(t){js().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function UN(){return typeof js().WorkerGlobalScope<"u"&&typeof js().importScripts=="function"}async function j3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function V3(){return UN()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const BN="firebaseLocalStorageDb",z3=1,lg="firebaseLocalStorage",$N="fbase_key";class uf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zg(t,e){return t.transaction([lg],e?"readwrite":"readonly").objectStore(lg)}function U3(){const t=indexedDB.deleteDatabase(BN);return new uf(t).toPromise()}function Ow(){const t=indexedDB.open(BN,z3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lg,{keyPath:$N})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lg)?e(r):(r.close(),await U3(),e(await Ow()))})})}async function ET(t,e,n){const r=Zg(t,!0).put({[$N]:e,value:n});return new uf(r).toPromise()}async function B3(t,e){const n=Zg(t,!1).get(e),r=await new uf(n).toPromise();return r===void 0?null:r.value}function ST(t,e){const n=Zg(t,!0).delete(e);return new uf(n).toPromise()}const $3=800,q3=3;class qN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ow(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>q3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jg._getInstance(V3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await j3(),!this.activeServiceWorker)return;this.sender=new O3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(e=r[0])!=null&&e.fulfilled&&(n=r[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ow();return await ET(e,og,"1"),await ST(e,og),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ET(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ST(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Zg(s,!1).getAll();return new uf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qN.type="LOCAL";const W3=qN;new af(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function G3(t,e){return e?ki(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yx extends px{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K3(t){return ON(t.auth,new yx(t),t.bypassAuthState)}function H3(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),E3(n,new yx(t),t.bypassAuthState)}async function Q3(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),x3(n,new yx(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WN{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:u}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K3;case"linkViaPopup":case"linkViaRedirect":return Q3;case"reauthViaPopup":case"reauthViaRedirect":return H3;default:ss(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const X3=new af(2e3,1e4);class Qu extends WN{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Qu.currentPopupAction&&Qu.currentPopupAction.cancel(),Qu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=gx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X3.get())};e()}}Qu.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Y3="pendingRedirect",Tm=new Map;class J3 extends WN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tm.get(this.auth._key());if(!e){try{const n=await Z3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Tm.set(this.auth._key(),e)}return this.bypassAuthState||Tm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z3(t,e){const n=n6(e),r=t6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function e6(t,e){Tm.set(t._key(),e)}function t6(t){return ki(t._redirectPersistence)}function n6(t){return km(Y3,t.config.apiKey,t.name)}async function r6(t,e,n=!1){if(fr(t.app))return Promise.reject(_i(t));const r=ro(t),s=G3(r,e),i=await new J3(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const s6=600*1e3;class i6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GN(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ls(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s6&&this.cachedEventUids.clear(),this.cachedEventUids.has(kT(e))}saveEventToCache(e){this.cachedEventUids.add(kT(e)),this.lastProcessedEventTime=Date.now()}}function kT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GN(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function o6(t,e={}){return zi(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const l6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u6=/^https?/;async function c6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o6(t);for(const n of e)try{if(h6(n))return}catch{}ss(t,"unauthorized-domain")}function h6(t){const e=Dw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!u6.test(n))return!1;if(l6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d6=new af(3e4,6e4);function TT(){const t=js().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f6(t){return new Promise((e,n)=>{var r,s,i;function o(){TT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TT(),n(Ls(t,"network-request-failed"))},timeout:d6.get()})}if((s=(r=js().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((i=js().gapi)!=null&&i.load)o();else{const u=t3("iframefcb");return js()[u]=()=>{gapi.load?o():n(Ls(t,"network-request-failed"))},AN(`${e3()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Im=null,e})}let Im=null;function p6(t){return Im=Im||f6(t),Im}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const m6=new af(5e3,15e3),g6="__/auth/iframe",y6="emulator/auth/iframe",v6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b6(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hx(e,y6):`https://${t.config.authDomain}/${g6}`,r={apiKey:e.apiKey,appName:t.name,v:Pl},s=w6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${sf(r).slice(1)}`}async function x6(t){const e=await p6(t),n=js().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:b6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Ls(t,"network-request-failed"),u=js().setTimeout(()=>{i(o)},m6.get());function c(){js().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const E6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S6=500,k6=600,T6="_blank",I6="http://localhost";class IT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _6(t,e,n,r=S6,s=k6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...E6,width:r.toString(),height:s.toString(),top:i,left:o},d=nn().toLowerCase();n&&(u=SN(d)?T6:n),xN(d)&&(e=e||I6,c.scrollbars="yes");const m=Object.entries(c).reduce((v,[S,_])=>`${v}${S}=${_},`,"");if(WF(d)&&u!=="_self")return C6(e||"",u),new IT(null);const g=window.open(e||"",u,m);Oe(g,t,"popup-blocked");try{g.focus()}catch{}return new IT(g)}function C6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const N6="__/auth/handler",A6="emulator/auth/handler",P6=encodeURIComponent("fac");async function _T(t,e,n,r,s,i){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pl,eventId:s};if(e instanceof DN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",c5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))o[m]=g}if(e instanceof lf){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const c=await t._getAppCheckToken(),d=c?`#${P6}=${encodeURIComponent(c)}`:"";return`${R6(t)}?${sf(u).slice(1)}${d}`}function R6({config:t}){return t.emulator?hx(t,A6):`https://${t.authDomain}/${N6}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k0="webStorageSupport";class D6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zN,this._completeRedirectFn=r6,this._overrideRedirectResult=e6}async _openPopup(e,n,r,s){var i;Ai((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await _T(e,n,r,Dw(),s);return _6(e,o,gx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await _T(e,n,r,Dw(),s);return L3(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ai(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await x6(e),r=new i6(e);return n.register("authEvent",s=>(Oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(k0,{type:k0},r=>{var s;const i=(s=r==null?void 0:r[0])==null?void 0:s[k0];i!==void 0&&n(!!i),ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CN()||EN()||fx()}}const M6=D6;var CT="@firebase/auth",NT="1.11.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function L6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j6(t){rs(new zr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NN(t)},d=new YF(r,s,i,c);return o3(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rs(new zr("auth-internal",e=>{const n=ro(e.getProvider("auth").getImmediate());return(r=>new O6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(CT,NT,L6(t)),Zn(CT,NT,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const F6=300,V6=tN("authIdTokenMaxAge")||F6;let AT=null;const z6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V6)return;const s=n==null?void 0:n.token;AT!==s&&(AT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ey(t=Xg()){const e=no(t,"auth");if(e.isInitialized())return e.getImmediate();const n=a3(t,{popupRedirectResolver:M6,persistence:[W3,D3,zN]}),r=tN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=z6(i.toString());C3(n,o,()=>o(n.currentUser)),_3(n,u=>o(u))}}const s=J2("auth");return s&&l3(n,`http://${s}`),n}function U6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}JF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ls("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",U6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j6("Browser");var B6="firebase",$6="12.5.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Zn(B6,$6,"app");var PT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ba,KN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function P(){}P.prototype=C.prototype,D.F=C.prototype,D.prototype=new P,D.prototype.constructor=D,D.D=function(L,V,$){for(var j=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)j[ke-2]=arguments[ke];return C.prototype[V].apply(L,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,C,P){P||(P=0);const L=Array(16);if(typeof C=="string")for(var V=0;V<16;++V)L[V]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(V=0;V<16;++V)L[V]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=D.g[0],P=D.g[1],V=D.g[2];let $=D.g[3],j;j=C+($^P&(V^$))+L[0]+3614090360&4294967295,C=P+(j<<7&4294967295|j>>>25),j=$+(V^C&(P^V))+L[1]+3905402710&4294967295,$=C+(j<<12&4294967295|j>>>20),j=V+(P^$&(C^P))+L[2]+606105819&4294967295,V=$+(j<<17&4294967295|j>>>15),j=P+(C^V&($^C))+L[3]+3250441966&4294967295,P=V+(j<<22&4294967295|j>>>10),j=C+($^P&(V^$))+L[4]+4118548399&4294967295,C=P+(j<<7&4294967295|j>>>25),j=$+(V^C&(P^V))+L[5]+1200080426&4294967295,$=C+(j<<12&4294967295|j>>>20),j=V+(P^$&(C^P))+L[6]+2821735955&4294967295,V=$+(j<<17&4294967295|j>>>15),j=P+(C^V&($^C))+L[7]+4249261313&4294967295,P=V+(j<<22&4294967295|j>>>10),j=C+($^P&(V^$))+L[8]+1770035416&4294967295,C=P+(j<<7&4294967295|j>>>25),j=$+(V^C&(P^V))+L[9]+2336552879&4294967295,$=C+(j<<12&4294967295|j>>>20),j=V+(P^$&(C^P))+L[10]+4294925233&4294967295,V=$+(j<<17&4294967295|j>>>15),j=P+(C^V&($^C))+L[11]+2304563134&4294967295,P=V+(j<<22&4294967295|j>>>10),j=C+($^P&(V^$))+L[12]+1804603682&4294967295,C=P+(j<<7&4294967295|j>>>25),j=$+(V^C&(P^V))+L[13]+4254626195&4294967295,$=C+(j<<12&4294967295|j>>>20),j=V+(P^$&(C^P))+L[14]+2792965006&4294967295,V=$+(j<<17&4294967295|j>>>15),j=P+(C^V&($^C))+L[15]+1236535329&4294967295,P=V+(j<<22&4294967295|j>>>10),j=C+(V^$&(P^V))+L[1]+4129170786&4294967295,C=P+(j<<5&4294967295|j>>>27),j=$+(P^V&(C^P))+L[6]+3225465664&4294967295,$=C+(j<<9&4294967295|j>>>23),j=V+(C^P&($^C))+L[11]+643717713&4294967295,V=$+(j<<14&4294967295|j>>>18),j=P+($^C&(V^$))+L[0]+3921069994&4294967295,P=V+(j<<20&4294967295|j>>>12),j=C+(V^$&(P^V))+L[5]+3593408605&4294967295,C=P+(j<<5&4294967295|j>>>27),j=$+(P^V&(C^P))+L[10]+38016083&4294967295,$=C+(j<<9&4294967295|j>>>23),j=V+(C^P&($^C))+L[15]+3634488961&4294967295,V=$+(j<<14&4294967295|j>>>18),j=P+($^C&(V^$))+L[4]+3889429448&4294967295,P=V+(j<<20&4294967295|j>>>12),j=C+(V^$&(P^V))+L[9]+568446438&4294967295,C=P+(j<<5&4294967295|j>>>27),j=$+(P^V&(C^P))+L[14]+3275163606&4294967295,$=C+(j<<9&4294967295|j>>>23),j=V+(C^P&($^C))+L[3]+4107603335&4294967295,V=$+(j<<14&4294967295|j>>>18),j=P+($^C&(V^$))+L[8]+1163531501&4294967295,P=V+(j<<20&4294967295|j>>>12),j=C+(V^$&(P^V))+L[13]+2850285829&4294967295,C=P+(j<<5&4294967295|j>>>27),j=$+(P^V&(C^P))+L[2]+4243563512&4294967295,$=C+(j<<9&4294967295|j>>>23),j=V+(C^P&($^C))+L[7]+1735328473&4294967295,V=$+(j<<14&4294967295|j>>>18),j=P+($^C&(V^$))+L[12]+2368359562&4294967295,P=V+(j<<20&4294967295|j>>>12),j=C+(P^V^$)+L[5]+4294588738&4294967295,C=P+(j<<4&4294967295|j>>>28),j=$+(C^P^V)+L[8]+2272392833&4294967295,$=C+(j<<11&4294967295|j>>>21),j=V+($^C^P)+L[11]+1839030562&4294967295,V=$+(j<<16&4294967295|j>>>16),j=P+(V^$^C)+L[14]+4259657740&4294967295,P=V+(j<<23&4294967295|j>>>9),j=C+(P^V^$)+L[1]+2763975236&4294967295,C=P+(j<<4&4294967295|j>>>28),j=$+(C^P^V)+L[4]+1272893353&4294967295,$=C+(j<<11&4294967295|j>>>21),j=V+($^C^P)+L[7]+4139469664&4294967295,V=$+(j<<16&4294967295|j>>>16),j=P+(V^$^C)+L[10]+3200236656&4294967295,P=V+(j<<23&4294967295|j>>>9),j=C+(P^V^$)+L[13]+681279174&4294967295,C=P+(j<<4&4294967295|j>>>28),j=$+(C^P^V)+L[0]+3936430074&4294967295,$=C+(j<<11&4294967295|j>>>21),j=V+($^C^P)+L[3]+3572445317&4294967295,V=$+(j<<16&4294967295|j>>>16),j=P+(V^$^C)+L[6]+76029189&4294967295,P=V+(j<<23&4294967295|j>>>9),j=C+(P^V^$)+L[9]+3654602809&4294967295,C=P+(j<<4&4294967295|j>>>28),j=$+(C^P^V)+L[12]+3873151461&4294967295,$=C+(j<<11&4294967295|j>>>21),j=V+($^C^P)+L[15]+530742520&4294967295,V=$+(j<<16&4294967295|j>>>16),j=P+(V^$^C)+L[2]+3299628645&4294967295,P=V+(j<<23&4294967295|j>>>9),j=C+(V^(P|~$))+L[0]+4096336452&4294967295,C=P+(j<<6&4294967295|j>>>26),j=$+(P^(C|~V))+L[7]+1126891415&4294967295,$=C+(j<<10&4294967295|j>>>22),j=V+(C^($|~P))+L[14]+2878612391&4294967295,V=$+(j<<15&4294967295|j>>>17),j=P+($^(V|~C))+L[5]+4237533241&4294967295,P=V+(j<<21&4294967295|j>>>11),j=C+(V^(P|~$))+L[12]+1700485571&4294967295,C=P+(j<<6&4294967295|j>>>26),j=$+(P^(C|~V))+L[3]+2399980690&4294967295,$=C+(j<<10&4294967295|j>>>22),j=V+(C^($|~P))+L[10]+4293915773&4294967295,V=$+(j<<15&4294967295|j>>>17),j=P+($^(V|~C))+L[1]+2240044497&4294967295,P=V+(j<<21&4294967295|j>>>11),j=C+(V^(P|~$))+L[8]+1873313359&4294967295,C=P+(j<<6&4294967295|j>>>26),j=$+(P^(C|~V))+L[15]+4264355552&4294967295,$=C+(j<<10&4294967295|j>>>22),j=V+(C^($|~P))+L[6]+2734768916&4294967295,V=$+(j<<15&4294967295|j>>>17),j=P+($^(V|~C))+L[13]+1309151649&4294967295,P=V+(j<<21&4294967295|j>>>11),j=C+(V^(P|~$))+L[4]+4149444226&4294967295,C=P+(j<<6&4294967295|j>>>26),j=$+(P^(C|~V))+L[11]+3174756917&4294967295,$=C+(j<<10&4294967295|j>>>22),j=V+(C^($|~P))+L[2]+718787259&4294967295,V=$+(j<<15&4294967295|j>>>17),j=P+($^(V|~C))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(V+(j<<21&4294967295|j>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+$&4294967295}r.prototype.v=function(D,C){C===void 0&&(C=D.length);const P=C-this.blockSize,L=this.C;let V=this.h,$=0;for(;$<C;){if(V==0)for(;$<=P;)s(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<C;)if(L[V++]=D.charCodeAt($++),V==this.blockSize){s(this,L),V=0;break}}else for(;$<C;)if(L[V++]=D[$++],V==this.blockSize){s(this,L),V=0;break}}this.h=V,this.o+=C},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var P=D.length-8;P<D.length;++P)D[P]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,P=0;P<4;++P)for(let L=0;L<32;L+=8)D[C++]=this.g[P]>>>L&255;return D};function i(D,C){var P=u;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=C(D)}function o(D,C){this.h=C;const P=[];let L=!0;for(let V=D.length-1;V>=0;V--){const $=D[V]|0;L&&$==C||(P[V]=$,L=!1)}this.g=P}var u={};function c(D){return-128<=D&&D<128?i(D,function(C){return new o([C|0],C<0?-1:0)}):new o([D|0],D<0?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return g;if(D<0)return I(d(-D));const C=[];let P=1;for(let L=0;D>=P;L++)C[L]=D/P|0,P*=4294967296;return new o(C,0)}function m(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return I(m(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=d(Math.pow(C,8));let L=g;for(let $=0;$<D.length;$+=8){var V=Math.min(8,D.length-$);const j=parseInt(D.substring($,$+V),C);V<8?(V=d(Math.pow(C,V)),L=L.j(V).add(d(j))):(L=L.j(P),L=L.add(d(j)))}return L}var g=c(0),v=c(1),S=c(16777216);t=o.prototype,t.m=function(){if(T(this))return-I(this).m();let D=0,C=1;for(let P=0;P<this.g.length;P++){const L=this.i(P);D+=(L>=0?L:4294967296+L)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(_(this))return"0";if(T(this))return"-"+I(this).toString(D);const C=d(Math.pow(D,6));var P=this;let L="";for(;;){const V=z(P,C).g;P=A(P,V.j(C));let $=((P.g.length>0?P.g[0]:P.h)>>>0).toString(D);if(P=V,_(P))return $+L;for(;$.length<6;)$="0"+$;L=$+L}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function _(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function T(D){return D.h==-1}t.l=function(D){return D=A(this,D),T(D)?-1:_(D)?0:1};function I(D){const C=D.g.length,P=[];for(let L=0;L<C;L++)P[L]=~D.g[L];return new o(P,~D.h).add(v)}t.abs=function(){return T(this)?I(this):this},t.add=function(D){const C=Math.max(this.g.length,D.g.length),P=[];let L=0;for(let V=0;V<=C;V++){let $=L+(this.i(V)&65535)+(D.i(V)&65535),j=($>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);L=j>>>16,$&=65535,j&=65535,P[V]=j<<16|$}return new o(P,P[P.length-1]&-2147483648?-1:0)};function A(D,C){return D.add(I(C))}t.j=function(D){if(_(this)||_(D))return g;if(T(this))return T(D)?I(this).j(I(D)):I(I(this).j(D));if(T(D))return I(this.j(I(D)));if(this.l(S)<0&&D.l(S)<0)return d(this.m()*D.m());const C=this.g.length+D.g.length,P=[];for(var L=0;L<2*C;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<D.g.length;V++){const $=this.i(L)>>>16,j=this.i(L)&65535,ke=D.i(V)>>>16,Re=D.i(V)&65535;P[2*L+2*V]+=j*Re,R(P,2*L+2*V),P[2*L+2*V+1]+=$*Re,R(P,2*L+2*V+1),P[2*L+2*V+1]+=j*ke,R(P,2*L+2*V+1),P[2*L+2*V+2]+=$*ke,R(P,2*L+2*V+2)}for(D=0;D<C;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=C;D<2*C;D++)P[D]=0;return new o(P,0)};function R(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function O(D,C){this.g=D,this.h=C}function z(D,C){if(_(C))throw Error("division by zero");if(_(D))return new O(g,g);if(T(D))return C=z(I(D),C),new O(I(C.g),I(C.h));if(T(C))return C=z(D,I(C)),new O(I(C.g),C.h);if(D.g.length>30){if(T(D)||T(C))throw Error("slowDivide_ only works with positive integers.");for(var P=v,L=C;L.l(D)<=0;)P=B(P),L=B(L);var V=G(P,1),$=G(L,1);for(L=G(L,2),P=G(P,2);!_(L);){var j=$.add(L);j.l(D)<=0&&(V=V.add(P),$=j),L=G(L,1),P=G(P,1)}return C=A(D,V.j(C)),new O(V,C)}for(V=g;D.l(C)>=0;){for(P=Math.max(1,Math.floor(D.m()/C.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),$=d(P),j=$.j(C);T(j)||j.l(D)>0;)P-=L,$=d(P),j=$.j(C);_($)&&($=v),V=V.add($),D=A(D,j)}return new O(V,D)}t.B=function(D){return z(this,D).h},t.and=function(D){const C=Math.max(this.g.length,D.g.length),P=[];for(let L=0;L<C;L++)P[L]=this.i(L)&D.i(L);return new o(P,this.h&D.h)},t.or=function(D){const C=Math.max(this.g.length,D.g.length),P=[];for(let L=0;L<C;L++)P[L]=this.i(L)|D.i(L);return new o(P,this.h|D.h)},t.xor=function(D){const C=Math.max(this.g.length,D.g.length),P=[];for(let L=0;L<C;L++)P[L]=this.i(L)^D.i(L);return new o(P,this.h^D.h)};function B(D){const C=D.g.length+1,P=[];for(let L=0;L<C;L++)P[L]=D.i(L)<<1|D.i(L-1)>>>31;return new o(P,D.h)}function G(D,C){const P=C>>5;C%=32;const L=D.g.length-P,V=[];for(let $=0;$<L;$++)V[$]=C>0?D.i($+P)>>>C|D.i($+P+1)<<32-C:D.i($+P);return new o(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,KN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=m,Ba=o}).apply(typeof PT<"u"?PT:typeof self<"u"?self:typeof window<"u"?window:{});var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HN,id,QN,_m,Lw,XN,YN,JN;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xp=="object"&&Xp];for(var b=0;b<f.length;++b){var k=f[b];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var k=r;f=f.split(".");for(var M=0;M<f.length-1;M++){var Y=f[M];if(!(Y in k))break e;k=k[Y]}f=f[f.length-1],M=k[f],b=b(M),b!=M&&b!=null&&e(k,f,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(b){var k=[],M;for(M in b)Object.prototype.hasOwnProperty.call(b,M)&&k.push([M,b[M]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function u(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function c(f,b,k){return f.call.apply(f.bind,arguments)}function d(f,b,k){return d=c,d.apply(null,arguments)}function m(f,b){var k=Array.prototype.slice.call(arguments,1);return function(){var M=k.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function g(f,b){function k(){}k.prototype=b.prototype,f.Z=b.prototype,f.prototype=new k,f.prototype.constructor=f,f.Ob=function(M,Y,ee){for(var he=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)he[Be-2]=arguments[Be];return b.prototype[Y].apply(M,he)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const b=f.length;if(b>0){const k=Array(b);for(let M=0;M<b;M++)k[M]=f[M];return k}return[]}function _(f,b){for(let M=1;M<arguments.length;M++){const Y=arguments[M];var k=typeof Y;if(k=k!="object"?k:Y?Array.isArray(Y)?"array":k:"null",k=="array"||k=="object"&&typeof Y.length=="number"){k=f.length||0;const ee=Y.length||0;f.length=k+ee;for(let he=0;he<ee;he++)f[k+he]=Y[he]}else f.push(Y)}}class T{constructor(b,k){this.i=b,this.j=k,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function I(f){o.setTimeout(()=>{throw f},0)}function A(){var f=D;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class R{constructor(){this.h=this.g=null}add(b,k){const M=O.get();M.set(b,k),this.h?this.h.next=M:this.g=M,this.h=M}}var O=new T(()=>new z,f=>f.reset());class z{constructor(){this.next=this.g=this.h=null}set(b,k){this.h=b,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let B,G=!1,D=new R,C=()=>{const f=Promise.resolve(void 0);B=()=>{f.then(P)}};function P(){for(var f;f=A();){try{f.h.call(f.g)}catch(k){I(k)}var b=O;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}G=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};o.addEventListener("test",k,b),o.removeEventListener("test",k,b)}catch{}return f})();function j(f){return/^[\s\xa0]*$/.test(f)}function ke(f,b){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}g(ke,V),ke.prototype.init=function(f,b){const k=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(k=="mouseover"?b=f.fromElement:k=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),ye=0;function ve(f,b,k,M,Y){this.listener=f,this.proxy=null,this.src=b,this.type=k,this.capture=!!M,this.ha=Y,this.key=++ye,this.da=this.fa=!1}function H(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,b,k){for(const M in f)b.call(k,f[M],M,f)}function ae(f,b){for(const k in f)b.call(void 0,f[k],k,f)}function K(f){const b={};for(const k in f)b[k]=f[k];return b}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(f,b){let k,M;for(let Y=1;Y<arguments.length;Y++){M=arguments[Y];for(k in M)f[k]=M[k];for(let ee=0;ee<re.length;ee++)k=re[ee],Object.prototype.hasOwnProperty.call(M,k)&&(f[k]=M[k])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,b,k,M,Y){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const he=Ue(f,b,M,Y);return he>-1?(b=f[he],k||(b.fa=!1)):(b=new ve(b,this.src,ee,!!M,Y),b.fa=k,f.push(b)),b};function De(f,b){const k=b.type;if(k in f.g){var M=f.g[k],Y=Array.prototype.indexOf.call(M,b,void 0),ee;(ee=Y>=0)&&Array.prototype.splice.call(M,Y,1),ee&&(H(b),f.g[k].length==0&&(delete f.g[k],f.h--))}}function Ue(f,b,k,M){for(let Y=0;Y<f.length;++Y){const ee=f[Y];if(!ee.da&&ee.listener==b&&ee.capture==!!k&&ee.ha==M)return Y}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),$e={};function ze(f,b,k,M,Y){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)ze(f,b[ee],k,M,Y);return null}return k=oo(k),f&&f[Re]?f.J(b,k,u(M)?!!M.capture:!1,Y):pt(f,b,k,!1,M,Y)}function pt(f,b,k,M,Y,ee){if(!b)throw Error("Invalid event type");const he=u(Y)?!!Y.capture:!!Y;let Be=Gi(f);if(Be||(f[Ce]=Be=new me(f)),k=Be.add(b,k,M,he,ee),k.proxy)return k;if(M=vr(),k.proxy=M,M.src=f,M.listener=k,f.addEventListener)$||(Y=he),Y===void 0&&(Y=!1),f.addEventListener(b.toString(),M,Y);else if(f.attachEvent)f.attachEvent(Wi(b.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return k}function vr(){function f(k){return b.call(f.src,f.listener,k)}const b=Fl;return f}function wr(f,b,k,M,Y){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)wr(f,b[ee],k,M,Y);else M=u(M)?!!M.capture:!!M,k=oo(k),f&&f[Re]?(f=f.i,ee=String(b).toString(),ee in f.g&&(b=f.g[ee],k=Ue(b,k,M,Y),k>-1&&(H(b[k]),Array.prototype.splice.call(b,k,1),b.length==0&&(delete f.g[ee],f.h--)))):f&&(f=Gi(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Ue(b,k,M,Y)),(k=f>-1?b[f]:null)&&Un(k))}function Un(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Re])De(b.i,f);else{var k=f.type,M=f.proxy;b.removeEventListener?b.removeEventListener(k,M,f.capture):b.detachEvent?b.detachEvent(Wi(k),M):b.addListener&&b.removeListener&&b.removeListener(M),(k=Gi(b))?(De(k,f),k.h==0&&(k.src=null,b[Ce]=null)):H(f)}}}function Wi(f){return f in $e?$e[f]:$e[f]="on"+f}function Fl(f,b){if(f.da)f=!0;else{b=new ke(b,this);const k=f.listener,M=f.ha||f.src;f.fa&&Un(f),f=k.call(M,b)}return f}function Gi(f){return f=f[Ce],f instanceof me?f:null}var ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function oo(f){return typeof f=="function"?f:(f[ei]||(f[ei]=function(b){return f.handleEvent(b)}),f[ei])}function mt(){L.call(this),this.i=new me(this),this.M=this,this.G=null}g(mt,L),mt.prototype[Re]=!0,mt.prototype.removeEventListener=function(f,b,k,M){wr(this,f,b,k,M)};function Vt(f,b){var k,M=f.G;if(M)for(k=[];M;M=M.G)k.push(M);if(f=f.M,M=b.type||b,typeof b=="string")b=new V(b,f);else if(b instanceof V)b.target=b.target||f;else{var Y=b;b=new V(M,f),pe(b,Y)}Y=!0;let ee,he;if(k)for(he=k.length-1;he>=0;he--)ee=b.g=k[he],Y=Br(ee,M,!0,b)&&Y;if(ee=b.g=f,Y=Br(ee,M,!0,b)&&Y,Y=Br(ee,M,!1,b)&&Y,k)for(he=0;he<k.length;he++)ee=b.g=k[he],Y=Br(ee,M,!1,b)&&Y}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const k=f.g[b];for(let M=0;M<k.length;M++)H(k[M]);delete f.g[b],f.h--}}this.G=null},mt.prototype.J=function(f,b,k,M){return this.i.add(String(f),b,!1,k,M)},mt.prototype.K=function(f,b,k,M){return this.i.add(String(f),b,!0,k,M)};function Br(f,b,k,M){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let Y=!0;for(let ee=0;ee<b.length;++ee){const he=b[ee];if(he&&!he.da&&he.capture==k){const Be=he.listener,zt=he.ha||he.src;he.fa&&De(f.i,he),Y=Be.call(zt,M)!==!1&&Y}}return Y&&!M.defaultPrevented}function Uc(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:o.setTimeout(f,b||0)}function Bc(f){f.g=Uc(()=>{f.g=null,f.i&&(f.i=!1,Bc(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Mf extends L{constructor(b,k){super(),this.m=b,this.l=k,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Bc(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(f){L.call(this),this.h=f,this.g={}}g(Ki,L);var $c=[];function Vl(f){ne(f.g,function(b,k){this.g.hasOwnProperty(k)&&Un(b)},f),f.g={}}Ki.prototype.N=function(){Ki.Z.N.call(this),Vl(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hi=o.JSON.stringify,Of=o.JSON.parse,lo=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function Qi(){}function Lf(){}var Xi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zl(){V.call(this,"d")}g(zl,V);function qc(){V.call(this,"c")}g(qc,V);var $r={},Ul=null;function Yi(){return Ul=Ul||new mt}$r.Ia="serverreachability";function Bl(f){V.call(this,$r.Ia,f)}g(Bl,V);function ti(f){const b=Yi();Vt(b,new Bl(b))}$r.STAT_EVENT="statevent";function ni(f,b){V.call(this,$r.STAT_EVENT,f),this.stat=b}g(ni,V);function At(f){const b=Yi();Vt(b,new ni(b,f))}$r.Ja="timingevent";function Wc(f,b){V.call(this,$r.Ja,f),this.size=b}g(Wc,V);function Ji(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},b)}function Zi(){this.g=!0}Zi.prototype.ua=function(){this.g=!1};function jf(f,b,k,M,Y,ee){f.info(function(){if(f.g)if(ee){var he="",Be=ee.split("&");for(let ht=0;ht<Be.length;ht++){var zt=Be[ht].split("=");if(zt.length>1){const Gt=zt[0];zt=zt[1];const ar=Gt.split("_");he=ar.length>=2&&ar[1]=="type"?he+(Gt+"="+zt+"&"):he+(Gt+"=redacted&")}}}else he=null;else he=ee;return"XMLHTTP REQ ("+M+") [attempt "+Y+"]: "+b+`
`+k+`
`+he})}function Ff(f,b,k,M,Y,ee,he){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Y+"]: "+b+`
`+k+`
`+ee+" "+he})}function hs(f,b,k,M){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+uo(f,k)+(M?" "+M:"")})}function Vf(f,b){f.info(function(){return"TIMEOUT: "+b})}Zi.prototype.info=function(){};function uo(f,b){if(!f.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var k=ee[f];if(!(k.length<2)){var M=k[1];if(Array.isArray(M)&&!(M.length<1)){var Y=M[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let he=1;he<M.length;he++)M[he]=""}}}}return Hi(ee)}catch{return b}}var ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ta={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zf;function ri(){}g(ri,Qi),ri.prototype.g=function(){return new XMLHttpRequest},zf=new ri;function ds(f){return encodeURIComponent(String(f))}function $l(f){var b=1;f=f.split(":");const k=[];for(;b>0&&f.length;)k.push(f.shift()),b--;return f.length&&k.push(f.join(":")),k}function br(f,b,k,M){this.j=f,this.i=b,this.l=k,this.S=M||1,this.V=new Ki(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Uf}function Uf(){this.i=null,this.g="",this.h=!1}var Bf={},Gc={};function qr(f,b,k){f.M=1,f.A=ii(xr(b)),f.u=k,f.R=!0,Kc(f,null)}function Kc(f,b){f.F=Date.now(),co(f),f.B=xr(f.A);var k=f.B,M=f.S;Array.isArray(M)||(M=[String(M)]),rh(k.i,"t",M),f.C=0,k=f.j.L,f.h=new Uf,f.g=Jf(f.j,k?b:null,!f.u),f.P>0&&(f.O=new Mf(d(f.Y,f,f.g),f.P)),b=f.V,k=f.g,M=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&($c[0]=Y.toString()),Y=$c);for(let ee=0;ee<Y.length;ee++){const he=ze(k,Y[ee],M||b.handleEvent,!1,b.h||b);if(!he)break;b.g[he.key]=he}b=f.J?K(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),ti(),jf(f.i,f.v,f.B,f.l,f.S,f.u)}br.prototype.ba=function(f){f=f.target;const b=this.O;b&&ws(f)==3?b.j():this.Y(f)},br.prototype.Y=function(f){try{if(f==this.g)e:{const Be=ws(this.g),zt=this.g.ya(),ht=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||Xf(this.g)))){this.K||Be!=4||zt==7||(zt==8||ht<=0?ti(3):ti(2)),ql(this);var b=this.g.ca();this.X=b;var k=$f(this);if(this.o=b==200,Ff(this.i,this.v,this.B,this.l,this.S,Be,b),this.o){if(this.U&&!this.L){t:{if(this.g){var M,Y=this.g;if((M=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(M)){var ee=M;break t}}ee=null}if(f=ee)hs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gt(this,f);else{this.o=!1,this.m=3,At(12),si(this),ho(this);break e}}if(this.R){f=!0;let Gt;for(;!this.K&&this.C<k.length;)if(Gt=Wf(this,k),Gt==Gc){Be==4&&(this.m=4,At(14),f=!1),hs(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Bf){this.m=4,At(15),hs(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else hs(this.i,this.l,Gt,null),gt(this,Gt);if(qf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||k.length!=0||this.h.h||(this.m=1,At(16),f=!1),this.o=this.o&&f,!f)hs(this.i,this.l,k,"[Invalid Chunked Response]"),si(this),ho(this);else if(k.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),xo(he),he.P=!0,At(11))}}else hs(this.i,this.l,k,null),gt(this,k);Be==4&&si(this),this.o&&!this.K&&(Be==4?eu(this.j,this):(this.o=!1,co(this)))}else ih(this.g),b==400&&k.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),si(this),ho(this)}}}catch{}finally{}};function $f(f){if(!qf(f))return f.g.la();const b=Xf(f.g);if(b==="")return"";let k="";const M=b.length,Y=ws(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return si(f),ho(f),"";f.h.i=new o.TextDecoder}for(let ee=0;ee<M;ee++)f.h.h=!0,k+=f.h.i.decode(b[ee],{stream:!(Y&&ee==M-1)});return b.length=0,f.h.g+=k,f.C=0,f.h.g}function qf(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Wf(f,b){var k=f.C,M=b.indexOf(`
`,k);return M==-1?Gc:(k=Number(b.substring(k,M)),isNaN(k)?Bf:(M+=1,M+k>b.length?Gc:(b=b.slice(M,M+k),f.C=M+k,b)))}br.prototype.cancel=function(){this.K=!0,si(this)};function co(f){f.T=Date.now()+f.H,Hc(f,f.H)}function Hc(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ji(d(f.aa,f),b)}function ql(f){f.D&&(o.clearTimeout(f.D),f.D=null)}br.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Vf(this.i,this.B),this.M!=2&&(ti(),At(17)),si(this),this.m=2,ho(this)):Hc(this,this.T-f)};function ho(f){f.j.I==0||f.K||eu(f.j,f)}function si(f){ql(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Vl(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function gt(f,b){try{var k=f.j;if(k.I!=0&&(k.g==f||Xc(k.h,f))){if(!f.L&&Xc(k.h,f)&&k.I==3){try{var M=k.Ba.g.parse(b)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Y=M;if(Y[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<f.F)Zl(k),sr(k);else break e;Es(k),At(18)}}else k.xa=Y[1],0<k.xa-k.K&&Y[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=Ji(d(k.Va,k),6e3));fo(k.h)<=1&&k.ta&&(k.ta=void 0)}else ir(k,11)}else if((f.L||k.g==f)&&Zl(k),!j(b))for(Y=k.Ba.g.parse(b),b=0;b<Y.length;b++){let ht=Y[b];const Gt=ht[0];if(!(Gt<=k.K))if(k.K=Gt,ht=ht[1],k.I==2)if(ht[0]=="c"){k.M=ht[1],k.ba=ht[2];const ar=ht[3];ar!=null&&(k.ka=ar,k.j.info("VER="+k.ka));const la=ht[4];la!=null&&(k.za=la,k.j.info("SVER="+k.za));const Ss=ht[5];Ss!=null&&typeof Ss=="number"&&Ss>0&&(M=1.5*Ss,k.O=M,k.j.info("backChannelRequestTimeoutMs_="+M)),M=k;const ks=f.g;if(ks){const ru=ks.g?ks.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ru){var ee=M.h;ee.g||ru.indexOf("spdy")==-1&&ru.indexOf("quic")==-1&&ru.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Gl(ee,ee.h),ee.h=null))}if(M.G){const lh=ks.g?ks.g.getResponseHeader("X-HTTP-Session-Id"):null;lh&&(M.wa=lh,it(M.J,M.G,lh))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-f.F,k.j.info("Handshake RTT: "+k.T+"ms")),M=k;var he=f;if(M.na=oh(M,M.L?M.ba:null,M.W),he.L){po(M.h,he);var Be=he,zt=M.O;zt&&(Be.H=zt),Be.D&&(ql(Be),co(Be)),M.g=he}else wn(M);k.i.length>0&&ui(k)}else ht[0]!="stop"&&ht[0]!="close"||ir(k,7);else k.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?ir(k,7):Yl(k):ht[0]!="noop"&&k.l&&k.l.qa(ht),k.A=0)}}ti(4)}catch{}}var Qy=class{constructor(f,b){this.g=f,this.map=b}};function Wl(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function fo(f){return f.h?1:f.g?f.g.size:0}function Xc(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Gl(f,b){f.g?f.g.add(b):f.h=b}function po(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Wl.prototype.cancel=function(){if(this.i=tr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function tr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const k of f.g.values())b=b.concat(k.G);return b}return S(f.i)}var Gf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nr(f,b){if(f){f=f.split("&");for(let k=0;k<f.length;k++){const M=f[k].indexOf("=");let Y,ee=null;M>=0?(Y=f[k].substring(0,M),ee=f[k].substring(M+1)):Y=f[k],b(Y,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function fs(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof fs?(this.l=f.l,mo(this,f.j),this.o=f.o,this.g=f.g,ps(this,f.u),this.h=f.h,na(this,sh(f.i)),this.m=f.m):f&&(b=String(f).match(Gf))?(this.l=!1,mo(this,b[1]||"",!0),this.o=go(b[2]||""),this.g=go(b[3]||"",!0),ps(this,b[4]),this.h=go(b[5]||"",!0),na(this,b[6]||"",!0),this.m=go(b[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}fs.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(yo(b,Jc,!0),":");var k=this.g;return(k||b=="file")&&(f.push("//"),(b=this.o)&&f.push(yo(b,Jc,!0),"@"),f.push(ds(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&f.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(yo(k,k.charAt(0)=="/"?vo:Zc,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",yo(k,eh)),f.join("")},fs.prototype.resolve=function(f){const b=xr(this);let k=!!f.j;k?mo(b,f.j):k=!!f.o,k?b.o=f.o:k=!!f.g,k?b.g=f.g:k=f.u!=null;var M=f.h;if(k)ps(b,f.u);else if(k=!!f.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var Y=b.h.lastIndexOf("/");Y!=-1&&(M=b.h.slice(0,Y+1)+M)}if(Y=M,Y==".."||Y==".")M="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){M=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ee=[];for(let he=0;he<Y.length;){const Be=Y[he++];Be=="."?M&&he==Y.length&&ee.push(""):Be==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),M&&he==Y.length&&ee.push("")):(ee.push(Be),M=!0)}M=ee.join("/")}else M=Y}return k?b.h=M:k=f.i.toString()!=="",k?na(b,sh(f.i)):k=!!f.m,k&&(b.m=f.m),b};function xr(f){return new fs(f)}function mo(f,b,k){f.j=k?go(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function ps(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function na(f,b,k){b instanceof Qe?(f.i=b,Hl(f.i,f.l)):(k||(b=yo(b,Xy)),f.i=new Qe(b,f.l))}function it(f,b,k){f.i.set(b,k)}function ii(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function go(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function yo(f,b,k){return typeof f=="string"?(f=encodeURI(f).replace(b,Yc),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Yc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Jc=/[#\/\?@]/g,Zc=/[#\?:]/g,vo=/[#\?]/g,Xy=/[#\?@]/g,eh=/#/g;function Qe(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function ms(f){f.g||(f.g=new Map,f.h=0,f.i&&nr(f.i,function(b,k){f.add(decodeURIComponent(b.replace(/\+/g," ")),k)}))}t=Qe.prototype,t.add=function(f,b){ms(this),this.i=null,f=gs(this,f);let k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(b),this.h+=1,this};function th(f,b){ms(f),b=gs(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Kl(f,b){return ms(f),b=gs(f,b),f.g.has(b)}t.forEach=function(f,b){ms(this),this.g.forEach(function(k,M){k.forEach(function(Y){f.call(b,Y,M,this)},this)},this)};function nh(f,b){ms(f);let k=[];if(typeof b=="string")Kl(f,b)&&(k=k.concat(f.g.get(gs(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)k=k.concat(f[b]);return k}t.set=function(f,b){return ms(this),this.i=null,f=gs(this,f),Kl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=nh(this,f),f.length>0?String(f[0]):b):b};function rh(f,b,k){th(f,b),k.length>0&&(f.i=null,f.g.set(gs(f,b),S(k)),f.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let M=0;M<b.length;M++){var k=b[M];const Y=ds(k);k=nh(this,k);for(let ee=0;ee<k.length;ee++){let he=Y;k[ee]!==""&&(he+="="+ds(k[ee])),f.push(he)}}return this.i=f.join("&")};function sh(f){const b=new Qe;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function gs(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Hl(f,b){b&&!f.j&&(ms(f),f.i=null,f.g.forEach(function(k,M){const Y=M.toLowerCase();M!=Y&&(th(this,M),rh(this,Y,k))},f)),f.j=b}function ys(f,b){const k=new Zi;if(o.Image){const M=new Image;M.onload=m(cn,k,"TestLoadImage: loaded",!0,b,M),M.onerror=m(cn,k,"TestLoadImage: error",!1,b,M),M.onabort=m(cn,k,"TestLoadImage: abort",!1,b,M),M.ontimeout=m(cn,k,"TestLoadImage: timeout",!1,b,M),o.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else b(!1)}function vs(f,b){const k=new Zi,M=new AbortController,Y=setTimeout(()=>{M.abort(),cn(k,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:M.signal}).then(ee=>{clearTimeout(Y),ee.ok?cn(k,"TestPingServer: ok",!0,b):cn(k,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),cn(k,"TestPingServer: error",!1,b)})}function cn(f,b,k,M,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),M(k)}catch{}}function wo(){this.g=new lo}function ai(f){this.i=f.Sb||null,this.h=f.ab||!1}g(ai,Qi),ai.prototype.g=function(){return new rr(this.i,this.h)};function rr(f,b){mt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(rr,mt),t=rr.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Wr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||o).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ra(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kf(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kf(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?ra(this):Wr(this),this.readyState==3&&Kf(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ra(this))},t.Na=function(f){this.g&&(this.response=f,ra(this))},t.ga=function(){this.g&&ra(this)};function ra(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Wr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var k=b.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=b.next();return f.join(`\r
`)};function Wr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Hf(f){let b="";return ne(f,function(k,M){b+=M,b+=":",b+=k,b+=`\r
`}),b}function Ql(f,b,k){e:{for(M in k){var M=!1;break e}M=!0}M||(k=Hf(k),typeof f=="string"?k!=null&&ds(k):it(f,b,k))}function ct(f){mt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ct,mt);var Qf=/^https?$/i,Yy=["POST","PUT"];t=ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,k,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zf.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ee){sa(this,ee);return}if(f=k||"",k=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Y in M)k.set(Y,M[Y]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ee of M.keys())k.set(ee,M.get(ee));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(k.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(Yy,b,void 0)>=0)||M||Y||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of k)this.g.setRequestHeader(ee,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){sa(this,ee)}};function sa(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,ia(f),li(f)}function ia(f){f.A||(f.A=!0,Vt(f,"complete"),Vt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Vt(this,"complete"),Vt(this,"abort"),li(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?oi(this):this.Xa())},t.Xa=function(){oi(this)};function oi(f){if(f.h&&typeof i<"u"){if(f.v&&ws(f)==4)setTimeout(f.Ca.bind(f),0);else if(Vt(f,"readystatechange"),ws(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var k;if(!(k=b)){var M;if(M=ee===0){let he=String(f.D).match(Gf)[1]||null;!he&&o.self&&o.self.location&&(he=o.self.location.protocol.slice(0,-1)),M=!Qf.test(he?he.toLowerCase():"")}k=M}if(k)Vt(f,"complete"),Vt(f,"success");else{f.o=6;try{var Y=ws(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",ia(f)}}finally{li(f)}}}}function li(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const k=f.g;f.g=null,b||Vt(f,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ws(f){return f.g?f.g.readyState:0}t.ca=function(){try{return ws(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Of(b)}};function Xf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ih(f){const b={};f=(f.g&&ws(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(j(f[M]))continue;var k=$l(f[M]);const Y=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ee=b[Y]||[];b[Y]=ee,ee.push(k)}ae(b,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(f,b,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||b}function Xl(f){this.za=0,this.i=[],this.j=new Zi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bs("baseRetryDelayMs",5e3,f),this.Za=bs("retryDelaySeedMs",1e4,f),this.Ta=bs("forwardChannelMaxRetries",2,f),this.va=bs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Wl(f&&f.concurrentRequestLimit),this.Ba=new wo,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Xl.prototype,t.ka=8,t.I=1,t.connect=function(f,b,k,M){At(0),this.W=f,this.H=b||{},k&&M!==void 0&&(this.H.OSID=k,this.H.OAID=M),this.F=this.X,this.J=oh(this,null,this.W),ui(this)};function Yl(f){if(Jl(f),f.I==3){var b=f.V++,k=xr(f.J);if(it(k,"SID",f.M),it(k,"RID",b),it(k,"TYPE","terminate"),xs(f,k),b=new br(f,f.j,b),b.M=2,b.A=ii(xr(k)),k=!1,o.navigator&&o.navigator.sendBeacon)try{k=o.navigator.sendBeacon(b.A.toString(),"")}catch{}!k&&o.Image&&(new Image().src=b.A,k=!0),k||(b.g=Jf(b.j,null),b.g.ea(b.A)),b.F=Date.now(),co(b)}Eo(f)}function sr(f){f.g&&(xo(f),f.g.cancel(),f.g=null)}function Jl(f){sr(f),f.v&&(o.clearTimeout(f.v),f.v=null),Zl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function ui(f){if(!Qc(f.h)&&!f.m){f.m=!0;var b=f.Ea;B||C(),G||(B(),G=!0),D.add(b,f),f.D=0}}function Yf(f,b){return fo(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ji(d(f.Ea,f,b),tu(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new br(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=K(ee),pe(ee,this.U)):ee=this.U),this.u!==null||this.R||(Y.J=ee,ee=null),this.S)e:{for(var b=0,k=0;k<this.i.length;k++){t:{var M=this.i[k];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(b+=M,b>4096){b=k;break e}if(b===4096||k===this.i.length-1){b=k+1;break e}}b=1e3}else b=1e3;b=ah(this,Y,b),k=xr(this.J),it(k,"RID",f),it(k,"CVER",22),this.G&&it(k,"X-HTTP-Session-Id",this.G),xs(this,k),ee&&(this.R?b="headers="+ds(Hf(ee))+"&"+b:this.u&&Ql(k,this.u,ee)),Gl(this.h,Y),this.Ra&&it(k,"TYPE","init"),this.S?(it(k,"$req",b),it(k,"SID","null"),Y.U=!0,qr(Y,k,null)):qr(Y,k,b),this.I=2}}else this.I==3&&(f?bo(this,f):this.i.length==0||Qc(this.h)||bo(this))};function bo(f,b){var k;b?k=b.l:k=f.V++;const M=xr(f.J);it(M,"SID",f.M),it(M,"RID",k),it(M,"AID",f.K),xs(f,M),f.u&&f.o&&Ql(M,f.u,f.o),k=new br(f,f.j,k,f.D+1),f.u===null&&(k.J=f.o),b&&(f.i=b.G.concat(f.i)),b=ah(f,k,1e3),k.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Gl(f.h,k),qr(k,M,b)}function xs(f,b){f.H&&ne(f.H,function(k,M){it(b,M,k)}),f.l&&ne({},function(k,M){it(b,M,k)})}function ah(f,b,k){k=Math.min(f.i.length,k);const M=f.l?d(f.l.Ka,f.l,f):null;e:{var Y=f.i;let Be=-1;for(;;){const zt=["count="+k];Be==-1?k>0?(Be=Y[0].g,zt.push("ofs="+Be)):Be=0:zt.push("ofs="+Be);let ht=!0;for(let Gt=0;Gt<k;Gt++){var ee=Y[Gt].g;const ar=Y[Gt].map;if(ee-=Be,ee<0)Be=Math.max(0,Y[Gt].g-100),ht=!1;else try{ee="req"+ee+"_"||"";try{var he=ar instanceof Map?ar:Object.entries(ar);for(const[la,Ss]of he){let ks=Ss;u(Ss)&&(ks=Hi(Ss)),zt.push(ee+la+"="+encodeURIComponent(ks))}}catch(la){throw zt.push(ee+"type="+encodeURIComponent("_badmap")),la}}catch{M&&M(ar)}}if(ht){he=zt.join("&");break e}}he=void 0}return f=f.i.splice(0,k),b.G=f,he}function wn(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;B||C(),G||(B(),G=!0),D.add(b,f),f.A=0}}function Es(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ji(d(f.Da,f),tu(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,aa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ji(d(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),sr(this),aa(this))};function xo(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function aa(f){f.g=new br(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=xr(f.na);it(b,"RID","rpc"),it(b,"SID",f.M),it(b,"AID",f.K),it(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(b,"TO",f.ia),it(b,"TYPE","xmlhttp"),xs(f,b),f.u&&f.o&&Ql(b,f.u,f.o),f.O&&(f.g.H=f.O);var k=f.g;f=f.ba,k.M=1,k.A=ii(xr(b)),k.u=null,k.R=!0,Kc(k,f)}t.Va=function(){this.C!=null&&(this.C=null,sr(this),Es(this),At(19))};function Zl(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function eu(f,b){var k=null;if(f.g==b){Zl(f),xo(f),f.g=null;var M=2}else if(Xc(f.h,b))k=b.G,po(f.h,b),M=1;else return;if(f.I!=0){if(b.o)if(M==1){k=b.u?b.u.length:0,b=Date.now()-b.F;var Y=f.D;M=Yi(),Vt(M,new Wc(M,k)),ui(f)}else wn(f);else if(Y=b.m,Y==3||Y==0&&b.X>0||!(M==1&&Yf(f,b)||M==2&&Es(f)))switch(k&&k.length>0&&(b=f.h,b.i=b.i.concat(k)),Y){case 1:ir(f,5);break;case 4:ir(f,10);break;case 3:ir(f,6);break;default:ir(f,2)}}}function tu(f,b){let k=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(k*=2),k*b}function ir(f,b){if(f.j.info("Error code "+b),b==2){var k=d(f.bb,f),M=f.Ua;const Y=!M;M=new fs(M||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||mo(M,"https"),ii(M),Y?ys(M.toString(),k):vs(M.toString(),k)}else At(2);f.I=0,f.l&&f.l.pa(b),Eo(f),Jl(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Eo(f){if(f.I=0,f.ja=[],f.l){const b=tr(f.h);(b.length!=0||f.i.length!=0)&&(_(f.ja,b),_(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function oh(f,b,k){var M=k instanceof fs?xr(k):new fs(k);if(M.g!="")b&&(M.g=b+"."+M.g),ps(M,M.u);else{var Y=o.location;M=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;const ee=new fs(null);M&&mo(ee,M),b&&(ee.g=b),Y&&ps(ee,Y),k&&(ee.h=k),M=ee}return k=f.G,b=f.wa,k&&b&&it(M,k,b),it(M,"VER",f.ka),xs(f,M),M}function Jf(f,b,k){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ct(new ai({ab:k})):new ct(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zf(){}t=Zf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function nu(){}nu.prototype.g=function(f,b){return new hn(f,b)};function hn(f,b){mt.call(this),this.g=new Xl(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!j(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!j(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new oa(this)}g(hn,mt),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Yl(this.g)},hn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.v&&(k={},k.__data__=Hi(f),f=k);b.i.push(new Qy(b.Ya++,f)),b.I==3&&ui(b)},hn.prototype.N=function(){this.g.l=null,delete this.j,Yl(this.g),delete this.g,hn.Z.N.call(this)};function ep(f){zl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const k in b){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}g(ep,zl);function tp(){qc.call(this),this.status=1}g(tp,qc);function oa(f){this.g=f}g(oa,Zf),oa.prototype.ra=function(){Vt(this.g,"a")},oa.prototype.qa=function(f){Vt(this.g,new ep(f))},oa.prototype.pa=function(f){Vt(this.g,new tp)},oa.prototype.oa=function(){Vt(this.g,"b")},nu.prototype.createWebChannel=nu.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,JN=function(){return new nu},YN=function(){return Yi()},XN=$r,Lw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,_m=ea,ta.COMPLETE="complete",QN=ta,Lf.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",mt.prototype.listen=mt.prototype.J,id=Lf,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,HN=ct}).apply(typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{});const RT="@firebase/firestore",DT="4.9.2";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let gn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let _c="12.3.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gl=new Qg("@firebase/firestore");function qu(){return gl.logLevel}function le(t,...e){if(gl.logLevel<=Ke.DEBUG){const n=e.map(vx);gl.debug(`Firestore (${_c}): ${t}`,...n)}}function Dn(t,...e){if(gl.logLevel<=Ke.ERROR){const n=e.map(vx);gl.error(`Firestore (${_c}): ${t}`,...n)}}function yl(t,...e){if(gl.logLevel<=Ke.WARN){const n=e.map(vx);gl.warn(`Firestore (${_c}): ${t}`,...n)}}function vx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZN(t,r,n)}function ZN(t,e,n){let r=`FIRESTORE (${_c}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Dn(r),new Error(r)}function _e(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||ZN(e,s,r)}function Ve(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class W6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class G6{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fs,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},u=c=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fs)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new eA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class K6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new K6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class MT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new MT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new MT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function X6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=X6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function jw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return T0(s)===T0(i)?Fe(s,i):T0(s)?1:-1}return Fe(t.length,e.length)}const Y6=55296,J6=57343;function T0(t){const e=t.charCodeAt(0);return e>=Y6&&e<=J6}function uc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function tA(t){return t+"\0"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const OT="__name__";class Ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ps?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ps.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Ps.isNumericId(e),s=Ps.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ps.extractNumericId(e).compare(Ps.extractNumericId(n)):jw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ba.fromString(e.substring(4,e.length-2))}}class at extends Ps{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const Z6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends Ps{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return Z6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OT}static keyField(){return new It([OT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(r+=u,s++):(i(),s++)}if(i(),o)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class de{constructor(e){this.path=e}static fromPath(e){return new de(at.fromString(e))}static fromName(e){return new de(at.fromString(e).popFirst(5))}static empty(){return new de(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new at(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nA(t,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eV(t,e,n,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LT(t){if(!de.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jT(t){if(de.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ty(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ty(t);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function tV(t,e){if(e<=0)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function cf(t,e){if(!rA(t))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const FT=-62135596800,VT=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*VT);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<FT)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VT}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cf(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-FT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Xt("string",rt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new rt(0,0))}static max(){return new Ne(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pd=-1;class ug{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function Fw(t){return t.fields.find((e=>e.kind===2))}function Ko(t){return t.fields.filter((e=>e.kind!==2))}ug.UNKNOWN_ID=-1;class Cm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Rd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Rd(0,yr.min())}}function nV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new yr(s,de.empty(),e)}function sA(t){return new yr(t.readTime,t.key,Pd)}class yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yr(Ne.min(),de.empty(),Pd)}static max(){return new yr(Ne.max(),de.empty(),Pd)}}function bx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Rl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==iA)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let s=0,i=0,o=!1;e.forEach((u=>{++s,u.next((()=>{++i,o&&i===s&&n()}),(c=>r(c)))})),o=!0,i===s&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((s=>s?Q.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,s)=>{const i=e.length,o=new Array(i);let u=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next((m=>{o[d]=m,++u,u===i&&r(o)}),(m=>s(m)))}}))}static doWhile(e,n){return new Q(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hr="SimpleDb";class ny{static open(e,n,r,s){try{return new ny(n,e.transaction(s,r))}catch(i){throw new pd(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Fs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new pd(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=xx(r.target.error);this.S.reject(new pd(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(hr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new sV(n)}}class $a{static delete(e){return le(hr,"Removing database:",e),Yo(Y2().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Hg())return!1;if($a.F())return!0;const e=nn(),n=$a.M(e),r=0<n&&n<10,s=oA(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,$a.M(nn())===12.2&&Dn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(hr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new pd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new ce(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ce(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new pd(e,o))},s.onupgradeneeded=i=>{le(hr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.N.k(o,s.transaction,i.oldVersion,this.version).next((()=>{le(hr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const u=ny.open(this.db,e,i?"readonly":"readwrite",r),c=s(u).next((d=>(u.C(),d))).catch((d=>(u.abort(d),Q.reject(d)))).toPromise();return c.catch((()=>{})),await u.D,c}catch(u){const c=u,d=c.name!=="FirebaseError"&&o<3;if(le(hr,"Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function oA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class rV{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Yo(this.U.delete())}}class pd extends ce{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function so(t){return t.name==="IndexedDbTransactionError"}class sV{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(le(hr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(le(hr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yo(r)}add(e){return le(hr,"ADD",this.store.name,e,e),Yo(this.store.add(e))}get(e){return Yo(this.store.get(e)).next((n=>(n===void 0&&(n=null),le(hr,"GET",this.store.name,e,n),n)))}delete(e){return le(hr,"DELETE",this.store.name,e),Yo(this.store.delete(e))}count(){return le(hr,"COUNT",this.store.name),Yo(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Q(((o,u)=>{i.onerror=c=>{u(c.target.error)},i.onsuccess=c=>{o(c.target.result)}}))}{const i=this.cursor(r),o=[];return this.H(i,((u,c)=>{o.push(c)})).next((()=>o))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}}))}Z(e,n){le(hr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,o,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new Q(((r,s)=>{n.onerror=i=>{const o=xx(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next((u=>{u?o.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const u=o.target.result;if(!u)return void s();const c=new rV(u),d=n(u.primaryKey,u.value,c);if(d instanceof Q){const m=d.catch((g=>(c.done(),Q.reject(g))));r.push(m)}c.isDone?s():c.G===null?u.continue():u.continue(c.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Yo(t){return new Q(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=xx(r.target.error);n(s)}}))}let zT=!1;function xx(t){const e=$a.M(nn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zT||(zT=!0,setTimeout((()=>{throw r}),0)),r}}return t}const md="IndexBackfiller";class iV{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(md,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();le(md,`Documents written: ${n}`)}catch(n){so(n)?le(md,"Ignoring IndexedDB error during index backfill: ",n):await Rl(n)}await this.re(6e4)}))}}class aV{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return Q.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((o=>{if(o!==null&&!r.has(o))return le(md,`Processing collection: ${o}`),this.oe(e,o,s).next((u=>{s-=u,r.add(o)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next((()=>this._e(s,i))).next((u=>(le(md,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>o.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const o=sA(i);bx(o,r)>0&&(r=o)})),new yr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mr.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ol=-1;function ry(t){return t==null}function Dd(t){return t===0&&1/t==-1/0}function oV(t){return typeof t=="number"&&Number.isInteger(t)&&!Dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cg="";function Nn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UT(e)),e=lV(t.get(n),e);return UT(e)}function lV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case cg:n+="";break;default:n+=i}}return n}function UT(t){return t+cg+""}function Ds(t){const e=t.length;if(_e(e>=2,64408,{path:t}),e===2)return _e(t.charAt(0)===cg&&t.charAt(1)==="",56145,{path:t}),at.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf(cg,i);switch((o<0||o>n)&&Se(50515,{path:t}),t.charAt(o+1)){case"":const u=t.substring(i,o);let c;s.length===0?c=u:(s+=u,c=s,s=""),r.push(c);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:Se(61167,{path:t})}i=o+2}return new at(r)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ho="remoteDocuments",hf="owner",ku="owner",Md="mutationQueues",uV="userId",es="mutations",BT="batchId",tl="userMutationsIndex",$T=["userId","batchId"];/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Nm(t,e){return[t,Nn(e)]}function lA(t,e,n){return[t,Nn(e),n]}const cV={},cc="documentMutations",hg="remoteDocumentsV14",hV=["prefixPath","collectionGroup","readTime","documentId"],Am="documentKeyIndex",dV=["prefixPath","collectionGroup","documentId"],uA="collectionGroupIndex",fV=["collectionGroup","readTime","prefixPath","documentId"],Od="remoteDocumentGlobal",Vw="remoteDocumentGlobalKey",hc="targets",cA="queryTargetsIndex",pV=["canonicalId","targetId"],dc="targetDocuments",mV=["targetId","path"],Ex="documentTargetsIndex",gV=["path","targetId"],dg="targetGlobalKey",ll="targetGlobal",Ld="collectionParents",yV=["collectionId","parent"],fc="clientMetadata",vV="clientId",sy="bundles",wV="bundleId",iy="namedQueries",bV="name",Sx="indexConfiguration",xV="indexId",zw="collectionGroupIndex",EV="collectionGroup",gd="indexState",SV=["indexId","uid"],hA="sequenceNumberIndex",kV=["uid","sequenceNumber"],yd="indexEntries",TV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dA="documentKeyIndex",IV=["indexId","uid","orderedDocumentKey"],ay="documentOverlays",_V=["userId","collectionPath","documentId"],Uw="collectionPathOverlayIndex",CV=["userId","collectionPath","largestBatchId"],fA="collectionGroupOverlayIndex",NV=["userId","collectionGroup","largestBatchId"],kx="globals",AV="name",pA=[Md,es,cc,Ho,hc,hf,ll,dc,fc,Od,Ld,sy,iy],PV=[...pA,ay],mA=[Md,es,cc,hg,hc,hf,ll,dc,fc,Od,Ld,sy,iy,ay],gA=mA,Tx=[...gA,Sx,gd,yd],RV=Tx,yA=[...Tx,kx],DV=yA;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bw extends aA{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function rn(t,e){const n=Ve(t);return $a.O(n.le,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class St{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yp(this.root,e,this.comparator,!0)}}class Yp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??yn.RED,this.left=s??yn.EMPTY,this.right=i??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new yn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return yn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(t,e,n,r,s){return this}insert(t,e,n){return new yn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ut{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WT(this.data.getIterator())}getIteratorFrom(e){return new WT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class WT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tu(t){return t.hasNext()?t.getNext():void 0}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yn{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new ut(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wA("Invalid base64 string: "+s):s}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const MV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=MV.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ri(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bA="server_timestamp",xA="__type__",EA="__previous_value__",SA="__local_write_time__";function Ix(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[xA])==null?void 0:n.stringValue)===bA}function oy(t){const e=t.mapValue.fields[EA];return Ix(e)?oy(e):e}function jd(t){const e=Pi(t.mapValue.fields[SA].timestampValue);return new rt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OV{constructor(e,n,r,s,i,o,u,c,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=m}}const fg="(default)";class vl{constructor(e,n){this.projectId=e,this.database=n||fg}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database===fg}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _x="__type__",kA="__max__",Va={mapValue:{fields:{__type__:{stringValue:kA}}}},Cx="__vector__",pc="value",Pm={nullValue:"NULL_VALUE"};function Ka(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ix(t)?4:TA(t)?9007199254740991:ly(t)?10:11:Se(28295,{value:t})}function Ws(t,e){if(t===e)return!0;const n=Ka(t);if(n!==Ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jd(t).isEqual(jd(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Pi(r.timestampValue),o=Pi(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,s){return Ri(r.bytesValue).isEqual(Ri(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,s){return xt(r.geoPointValue.latitude)===xt(s.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(s.geoPointValue.longitude)})(t,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return xt(r.integerValue)===xt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=xt(r.doubleValue),o=xt(s.doubleValue);return i===o?Dd(i)===Dd(o):isNaN(i)&&isNaN(o)}return!1})(t,e);case 9:return uc(t.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return(function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(qT(i)!==qT(o))return!1;for(const u in i)if(i.hasOwnProperty(u)&&(o[u]===void 0||!Ws(i[u],o[u])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function Fd(t,e){return(t.values||[]).find((n=>Ws(n,e)))!==void 0}function Ha(t,e){if(t===e)return 0;const n=Ka(t),r=Ka(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(s,i){const o=xt(s.integerValue||s.doubleValue),u=xt(i.integerValue||i.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1})(t,e);case 3:return GT(t.timestampValue,e.timestampValue);case 4:return GT(jd(t),jd(e));case 5:return jw(t.stringValue,e.stringValue);case 6:return(function(s,i){const o=Ri(s),u=Ri(i);return o.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,i){const o=s.split("/"),u=i.split("/");for(let c=0;c<o.length&&c<u.length;c++){const d=Fe(o[c],u[c]);if(d!==0)return d}return Fe(o.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,i){const o=Fe(xt(s.latitude),xt(i.latitude));return o!==0?o:Fe(xt(s.longitude),xt(i.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return KT(t.arrayValue,e.arrayValue);case 10:return(function(s,i){var o,u,c,d;const m=s.fields||{},g=i.fields||{},v=(o=m[pc])==null?void 0:o.arrayValue,S=(u=g[pc])==null?void 0:u.arrayValue,_=Fe(((c=v==null?void 0:v.values)==null?void 0:c.length)||0,((d=S==null?void 0:S.values)==null?void 0:d.length)||0);return _!==0?_:KT(v,S)})(t.mapValue,e.mapValue);case 11:return(function(s,i){if(s===Va.mapValue&&i===Va.mapValue)return 0;if(s===Va.mapValue)return 1;if(i===Va.mapValue)return-1;const o=s.fields||{},u=Object.keys(o),c=i.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const g=jw(u[m],d[m]);if(g!==0)return g;const v=Ha(o[u[m]],c[d[m]]);if(v!==0)return v}return Fe(u.length,d.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function GT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Pi(t),r=Pi(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function KT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ha(n[s],r[s]);if(i)return i}return Fe(n.length,r.length)}function mc(t){return $w(t)}function $w(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(e){const n=Pi(e);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(e){return Ri(e).toBase64()})(t.bytesValue):"referenceValue"in t?(function(e){return de.fromName(e).toString()})(t.referenceValue):"geoPointValue"in t?(function(e){return`geo(${e.latitude},${e.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(e){let n="[",r=!0;for(const s of e.values||[])r?r=!1:n+=",",n+=$w(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(e){const n=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const i of n)s?s=!1:r+=",",r+=`${i}:${$w(e.fields[i])}`;return r+"}"})(t.mapValue):Se(61005,{value:t})}function Rm(t){switch(Ka(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oy(t);return e?16+Rm(e):16;case 5:return 2*t.stringValue.length;case 6:return Ri(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,s)=>r+Rm(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let r=0;return io(n.fields,((s,i)=>{r+=s.length+Rm(i)})),r})(t.mapValue);default:throw Se(13486,{value:t})}}function Vd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qw(t){return!!t&&"integerValue"in t}function zd(t){return!!t&&"arrayValue"in t}function HT(t){return!!t&&"nullValue"in t}function QT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dm(t){return!!t&&"mapValue"in t}function ly(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[_x])==null?void 0:n.stringValue)===Cx}function vd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return io(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=vd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vd(t.arrayValue.values[n]);return e}return{...t}}function TA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===kA}const IA={mapValue:{fields:{[_x]:{stringValue:Cx},[pc]:{arrayValue:{}}}}};function LV(t){return"nullValue"in t?Pm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Vd(vl.empty(),de.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?ly(t)?IA:{mapValue:{}}:Se(35942,{value:t})}function jV(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Vd(vl.empty(),de.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?IA:"mapValue"in t?ly(t)?{mapValue:{}}:Va:Se(61959,{value:t})}function XT(t,e){const n=Ha(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function YT(t,e){const n=Ha(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vd(n)}setAll(e){let n=It.emptyPath(),r={},s=[];e.forEach(((o,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=u.popLast()}o?r[u.lastSegment()]=vd(o):s.push(u.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Dm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Dm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){io(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new In(vd(this.value))}}function _A(t){const e=[];return io(t.fields,((n,r)=>{const s=new It([n]);if(Dm(r)){const i=_A(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new Yn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mt{constructor(e,n,r,s,i,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Mt(e,0,Ne.min(),Ne.min(),Ne.min(),In.empty(),0)}static newFoundDocument(e,n,r,s){return new Mt(e,1,n,Ne.min(),r,s,0)}static newNoDocument(e,n){return new Mt(e,2,n,Ne.min(),Ne.min(),In.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,Ne.min(),Ne.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gc{constructor(e,n){this.position=e,this.inclusive=n}}function JT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=Ha(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ws(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function FV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CA{}class He extends CA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VV(e,n,r):n==="array-contains"?new BV(e,r):n==="in"?new MA(e,r):n==="not-in"?new $V(e,r):n==="array-contains-any"?new qV(e,r):new He(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zV(e,r):new UV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ha(n,this.value)):n!==null&&Ka(this.value)===Ka(n)&&this.matchesComparison(Ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends CA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lt(e,n)}matches(e){return yc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yc(t){return t.op==="and"}function Ww(t){return t.op==="or"}function Nx(t){return NA(t)&&yc(t)}function NA(t){for(const e of t.filters)if(e instanceof lt)return!1;return!0}function Gw(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+mc(t.value);if(Nx(t))return t.filters.map((e=>Gw(e))).join(",");{const e=t.filters.map((n=>Gw(n))).join(",");return`${t.op}(${e})`}}function AA(t,e){return t instanceof He?(function(n,r){return r instanceof He&&n.op===r.op&&n.field.isEqual(r.field)&&Ws(n.value,r.value)})(t,e):t instanceof lt?(function(n,r){return r instanceof lt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((s,i,o)=>s&&AA(i,r.filters[o])),!0):!1})(t,e):void Se(19439)}function PA(t,e){const n=t.filters.concat(e);return lt.create(n,t.op)}function RA(t){return t instanceof He?(function(e){return`${e.field.canonicalString()} ${e.op} ${mc(e.value)}`})(t):t instanceof lt?(function(e){return e.op.toString()+" {"+e.getFilters().map(RA).join(" ,")+"}"})(t):"Filter"}class VV extends He{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class zV extends He{constructor(e,n){super(e,"in",n),this.keys=DA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class UV extends He{constructor(e,n){super(e,"not-in",n),this.keys=DA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function DA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>de.fromName(r.referenceValue)))}class BV extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zd(n)&&Fd(n.arrayValue,this.value)}}class MA extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fd(this.value.arrayValue,n)}}class $V extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fd(this.value.arrayValue,n)}}class qV extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Fd(this.value.arrayValue,r)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WV{constructor(e,n=null,r=[],s=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.Te=null}}function Kw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new WV(t,e,n,r,s,i,o)}function wl(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Gw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),ry(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>mc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>mc(r))).join(",")),e.Te=n}return e.Te}function df(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!FV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZT(t.startAt,e.startAt)&&ZT(t.endAt,e.endAt)}function pg(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function mg(t,e){return t.filters.filter((n=>n instanceof He&&n.field.isEqual(e)))}function eI(t,e,n){let r=Pm,s=!0;for(const i of mg(t,e)){let o=Pm,u=!0;switch(i.op){case"<":case"<=":o=LV(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,u=!1;break;case"!=":case"not-in":o=Pm}XT({value:r,inclusive:s},{value:o,inclusive:u})<0&&(r=o,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];XT({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function tI(t,e,n){let r=Va,s=!0;for(const i of mg(t,e)){let o=Va,u=!0;switch(i.op){case">=":case">":o=jV(i.value),u=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,u=!1;break;case"!=":case"not-in":o=Va}YT({value:r,inclusive:s},{value:o,inclusive:u})>0&&(r=o,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];YT({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cc{constructor(e,n=null,r=[],s=[],i=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GV(t,e,n,r,s,i,o,u){return new Cc(t,e,n,r,s,i,o,u)}function ff(t){return new Cc(t)}function nI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OA(t){return t.collectionGroup!==null}function wd(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let i=new ut(It.comparator);return s.filters.forEach((o=>{o.getFlattenedFilters().forEach((u=>{u.isInequality()&&(i=i.add(u.field))}))})),i})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ud(s,r))})),n.has(It.keyField().canonicalString())||e.Ie.push(new Ud(It.keyField(),r))}return e.Ie}function jr(t){const e=Ve(t);return e.Ee||(e.Ee=KV(e,wd(t))),e.Ee}function KV(t,e){if(t.limitType==="F")return Kw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Ud(s.field,i)}));const n=t.endAt?new gc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gc(t.startAt.position,t.startAt.inclusive):null;return Kw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hw(t,e){const n=t.filters.concat([e]);return new Cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gg(t,e,n){return new Cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uy(t,e){return df(jr(t),jr(e))&&t.limitType===e.limitType}function LA(t){return`${wl(jr(t))}|lt:${t.limitType}`}function Wu(t){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((r=>RA(r))).join(", ")}]`),ry(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((r=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(r))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>mc(r))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>mc(r))).join(",")),`Target(${n})`})(jr(t))}; limitType=${t.limitType})`}function pf(t,e){return e.isFoundDocument()&&(function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):de.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,r){for(const s of wd(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0})(t,e)&&(function(n,r){return!(n.startAt&&!(function(s,i,o){const u=JT(s,i,o);return s.inclusive?u<=0:u<0})(n.startAt,wd(n),r)||n.endAt&&!(function(s,i,o){const u=JT(s,i,o);return s.inclusive?u>=0:u>0})(n.endAt,wd(n),r))})(t,e)}function HV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jA(t){return(e,n)=>{let r=!1;for(const s of wd(t)){const i=QV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function QV(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):(function(s,i,o){const u=i.data.field(s),c=o.data.field(s);return u!==null&&c!==null?Ha(u,c):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return vA(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const XV=new St(de.comparator);function pr(){return XV}const FA=new St(de.comparator);function ad(...t){let e=FA;for(const n of t)e=e.insert(n.key,n);return e}function VA(t){let e=FA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ms(){return bd()}function zA(){return bd()}function bd(){return new Ui((t=>t.toString()),((t,e)=>t.isEqual(e)))}const YV=new St(de.comparator),JV=new ut(de.comparator);function We(...t){let e=JV;for(const n of t)e=e.add(n);return e}const ZV=new ut(Fe);function e9(){return ZV}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ax(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function UA(t){return{integerValue:""+t}}function t9(t,e){return oV(e)?UA(e):Ax(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cy{constructor(){this._=void 0}}function n9(t,e,n){return t instanceof vc?(function(r,s){const i={fields:{[xA]:{stringValue:bA},[SA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Ix(s)&&(s=oy(s)),s&&(i.fields[EA]=s),{mapValue:i}})(n,e):t instanceof wc?$A(t,e):t instanceof bc?qA(t,e):(function(r,s){const i=BA(r,s),o=rI(i)+rI(r.Ae);return qw(i)&&qw(r.Ae)?UA(o):Ax(r.serializer,o)})(t,e)}function r9(t,e,n){return t instanceof wc?$A(t,e):t instanceof bc?qA(t,e):n}function BA(t,e){return t instanceof Bd?(function(n){return qw(n)||(function(r){return!!r&&"doubleValue"in r})(n)})(e)?e:{integerValue:0}:null}class vc extends cy{}class wc extends cy{constructor(e){super(),this.elements=e}}function $A(t,e){const n=WA(e);for(const r of t.elements)n.some((s=>Ws(s,r)))||n.push(r);return{arrayValue:{values:n}}}class bc extends cy{constructor(e){super(),this.elements=e}}function qA(t,e){let n=WA(e);for(const r of t.elements)n=n.filter((s=>!Ws(s,r)));return{arrayValue:{values:n}}}class Bd extends cy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function rI(t){return xt(t.integerValue||t.doubleValue)}function WA(t){return zd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class GA{constructor(e,n){this.field=e,this.transform=n}}function s9(t,e){return t.field.isEqual(e.field)&&(function(n,r){return n instanceof wc&&r instanceof wc||n instanceof bc&&r instanceof bc?uc(n.elements,r.elements,Ws):n instanceof Bd&&r instanceof Bd?Ws(n.Ae,r.Ae):n instanceof vc&&r instanceof vc})(t.transform,e.transform)}class i9{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let hy=class{};function KA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dy(t.key,_n.none()):new Nc(t.key,t.data,_n.none());{const n=t.data,r=In.empty();let s=new ut(It.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Bi(t.key,r,new Yn(s.toArray()),_n.none())}}function a9(t,e,n){t instanceof Nc?(function(r,s,i){const o=r.value.clone(),u=iI(r.fieldTransforms,s,i.transformResults);o.setAll(u),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()})(t,e,n):t instanceof Bi?(function(r,s,i){if(!Mm(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=iI(r.fieldTransforms,s,i.transformResults),u=s.data;u.setAll(HA(r)),u.setAll(o),s.convertToFoundDocument(i.version,u).setHasCommittedMutations()})(t,e,n):(function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()})(0,e,n)}function xd(t,e,n,r){return t instanceof Nc?(function(s,i,o,u){if(!Mm(s.precondition,i))return o;const c=s.value.clone(),d=aI(s.fieldTransforms,u,i);return c.setAll(d),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Bi?(function(s,i,o,u){if(!Mm(s.precondition,i))return o;const c=aI(s.fieldTransforms,u,i),d=i.data;return d.setAll(HA(s)),d.setAll(c),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,i,o){return Mm(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o})(t,e,n)}function o9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=BA(r.transform,s||null);i!=null&&(n===null&&(n=In.empty()),n.set(r.field,i))}return n||null}function sI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&uc(n,r,((s,i)=>s9(s,i)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nc extends hy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Bi extends hy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function HA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function iI(t,e,n){const r=new Map;_e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,u=e.data.field(i.field);r.set(i.field,r9(o,u,n[s]))}return r}function aI(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,n9(i,o,e))}return r}class dy extends hy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QA extends hy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Px{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&a9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zA();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=n.has(s.key)?null:u;const c=KA(o,u);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,((n,r)=>sI(n,r)))&&uc(this.baseMutations,e.baseMutations,((n,r)=>sI(n,r)))}}class Rx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){_e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return YV})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Rx(e,n,r,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class l9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ht,Ye;function u9(t){switch(t){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function XA(t){if(t===void 0)return Dn("GRPC error has no .code"),te.UNKNOWN;switch(t){case Ht.OK:return te.OK;case Ht.CANCELLED:return te.CANCELLED;case Ht.UNKNOWN:return te.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return te.INTERNAL;case Ht.UNAVAILABLE:return te.UNAVAILABLE;case Ht.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ht.NOT_FOUND:return te.NOT_FOUND;case Ht.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ht.ABORTED:return te.ABORTED;case Ht.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ht.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:t})}}(Ye=Ht||(Ht={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function c9(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const h9=new Ba([4294967295,4294967295],0);function oI(t){const e=c9().encode(t),n=new KN;return n.update(e),new Uint8Array(n.digest())}function lI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ba([n,r],0),new Ba([s,i],0)]}class Mx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new od(`Invalid padding: ${n}`);if(r<0)throw new od(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new od(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new od(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ba.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ba.fromNumber(r)));return s.compare(h9)===1&&(s=new Ba([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=oI(e),[r,s]=lI(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Mx(i,s,n);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.ge===0)return;const n=oI(e),[r,s]=lI(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,mf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fy(Ne.min(),s,new St(Fe),pr(),We())}}class mf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mf(r,n,We(),We(),We())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Om{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class YA{constructor(e,n){this.targetId=e,this.Ce=n}}class JA{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class uI{constructor(){this.ve=0,this.Fe=cI(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),r=We();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se(38017,{changeType:i})}})),new mf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=cI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class d9{constructor(e){this.Ge=e,this.ze=new Map,this.je=pr(),this.Je=Jp(),this.He=Jp(),this.Ye=new St(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(pg(i))if(r===0){const o=new de(i.path);this.et(n,o,Mt.newNoDocument(o,Ne.min()))}else _e(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),c=u?this.ct(u,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,u;try{o=Ri(r).toUint8Array()}catch(c){if(c instanceof wA)return yl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Mx(o,s,i)}catch(c){return yl(c instanceof od?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const u=this.ot(o);if(u){if(i.current&&pg(u.target)){const c=new de(u.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Mt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=We();this.He.forEach(((i,o)=>{let u=!0;o.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new fy(e,n,this.Ye,this.je,r);return this.je=pr(),this.Je=Jp(),this.He=Jp(),this.Ye=new St(Fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new uI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ut(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ut(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Jp(){return new St(de.comparator)}function cI(){return new St(de.comparator)}const f9={asc:"ASCENDING",desc:"DESCENDING"},p9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m9={and:"AND",or:"OR"};class g9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qw(t,e){return t.useProto3Json||ry(e)?e:{value:e}}function xc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function y9(t,e){return xc(t,e.toTimestamp())}function jn(t){return _e(!!t,49232),Ne.fromTimestamp((function(e){const n=Pi(e);return new rt(n.seconds,n.nanos)})(t))}function Ox(t,e){return Xw(t,e).canonicalString()}function Xw(t,e){const n=(function(r){return new at(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function eP(t){const e=at.fromString(t);return _e(uP(e),10190,{key:e.toString()}),e}function yg(t,e){return Ox(t.databaseId,e.path)}function ul(t,e){const n=eP(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(rP(n))}function tP(t,e){return Ox(t.databaseId,e)}function nP(t){const e=eP(t);return e.length===4?at.emptyPath():rP(e)}function Yw(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rP(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hI(t,e,n){return{name:yg(t,e),fields:n.value.mapValue.fields}}function v9(t,e,n){const r=ul(t,e.name),s=jn(e.updateTime),i=e.createTime?jn(e.createTime):Ne.min(),o=new In({mapValue:{fields:e.fields}}),u=Mt.newFoundDocument(r,s,i,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function w9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Se(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(c,d){return c.useProto3Json?(_e(d===void 0||typeof d=="string",58123),Yt.fromBase64String(d||"")):(_e(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Yt.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(c){const d=c.code===void 0?te.UNKNOWN:XA(c.code);return new ce(d,c.message||"")})(o);n=new JA(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ul(t,r.document.name),i=jn(r.document.updateTime),o=r.document.createTime?jn(r.document.createTime):Ne.min(),u=new In({mapValue:{fields:r.document.fields}}),c=Mt.newFoundDocument(s,i,o,u),d=r.targetIds||[],m=r.removedTargetIds||[];n=new Om(d,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ul(t,r.document),i=r.readTime?jn(r.readTime):Ne.min(),o=Mt.newNoDocument(s,i),u=r.removedTargetIds||[];n=new Om([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ul(t,r.document),i=r.removedTargetIds||[];n=new Om([],i,s,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new l9(s,i),u=r.targetId;n=new YA(u,o)}}return n}function vg(t,e){let n;if(e instanceof Nc)n={update:hI(t,e.key,e.value)};else if(e instanceof dy)n={delete:yg(t,e.key)};else if(e instanceof Bi)n={update:hI(t,e.key,e.data),updateMask:T9(e.fieldMask)};else{if(!(e instanceof QA))return Se(16599,{Vt:e.type});n={verify:yg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,i){const o=i.transform;if(o instanceof vc)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof wc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof bc)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Bd)return{fieldPath:i.field.canonicalString(),increment:o.Ae};throw Se(20930,{transform:i.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:y9(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se(27497)})(t,e.precondition)),n}function Jw(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?_n.updateTime(jn(s.updateTime)):s.exists!==void 0?_n.exists(s.exists):_n.none()})(e.currentDocument):_n.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(i,o){let u=null;if("setToServerValue"in o)_e(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),u=new vc;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];u=new wc(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];u=new bc(d)}else"increment"in o?u=new Bd(i,o.increment):Se(16584,{proto:o});const c=It.fromServerFormat(o.fieldPath);return new GA(c,u)})(t,s))):[];if(e.update){e.update.name;const s=ul(t,e.update.name),i=new In({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=(function(u){const c=u.fieldPaths||[];return new Yn(c.map((d=>It.fromServerFormat(d))))})(e.updateMask);return new Bi(s,i,o,n,r)}return new Nc(s,i,n,r)}if(e.delete){const s=ul(t,e.delete);return new dy(s,n)}if(e.verify){const s=ul(t,e.verify);return new QA(s,n)}return Se(1463,{proto:e})}function b9(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map((n=>(function(r,s){let i=r.updateTime?jn(r.updateTime):jn(s);return i.isEqual(Ne.min())&&(i=jn(s)),new i9(i,r.transformResults||[])})(n,e)))):[]}function sP(t,e){return{documents:[tP(t,e.path)]}}function iP(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tP(t,s);const i=(function(c){if(c.length!==0)return lP(lt.create(c,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(c){if(c.length!==0)return c.map((d=>(function(m){return{field:Gu(m.field),direction:E9(m.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=Qw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:s}}function aP(t){let e=nP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){_e(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let i=[];n.where&&(i=(function(m){const g=oP(m);return g instanceof lt&&Nx(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(m){return m.map((g=>(function(v){return new Ud(Ku(v.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(m){let g;return g=typeof m=="object"?m.value:m,ry(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(m){const g=!!m.before,v=m.values||[];return new gc(v,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const g=!m.before,v=m.values||[];return new gc(v,g)})(n.endAt)),GV(e,s,o,i,u,"F",c,d)}function x9(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oP(t){return t.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ku(e.unaryFilter.field);return He.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ku(e.unaryFilter.field);return He.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ku(e.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ku(e.unaryFilter.field);return He.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(e){return He.create(Ku(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(e){return lt.create(e.compositeFilter.filters.map((n=>oP(n))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(e.compositeFilter.op))})(t):Se(30097,{filter:t})}function E9(t){return f9[t]}function S9(t){return p9[t]}function k9(t){return m9[t]}function Gu(t){return{fieldPath:t.canonicalString()}}function Ku(t){return It.fromServerFormat(t.fieldPath)}function lP(t){return t instanceof He?(function(e){if(e.op==="=="){if(QT(e.value))return{unaryFilter:{field:Gu(e.field),op:"IS_NAN"}};if(HT(e.value))return{unaryFilter:{field:Gu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(QT(e.value))return{unaryFilter:{field:Gu(e.field),op:"IS_NOT_NAN"}};if(HT(e.value))return{unaryFilter:{field:Gu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gu(e.field),op:S9(e.op),value:e.value}}})(t):t instanceof lt?(function(e){const n=e.getFilters().map((r=>lP(r)));return n.length===1?n[0]:{compositeFilter:{op:k9(e.op),filters:n}}})(t):Se(54877,{filter:t})}function T9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function uP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ti{constructor(e,n,r,s,i=Ne.min(),o=Ne.min(),u=Yt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cP{constructor(e){this.yt=e}}function I9(t,e){let n;if(e.document)n=v9(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),s=xl(e.noDocument.readTime);n=Mt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Se(56709);{const r=de.fromSegments(e.unknownDocument.path),s=xl(e.unknownDocument.version);n=Mt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(r){const s=new rt(r[0],r[1]);return Ne.fromTimestamp(s)})(e.readTime)),n}function dI(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:wg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,i){return{name:yg(s,i.key),fields:i.data.value.mapValue.fields,updateTime:xc(s,i.version.toTimestamp()),createTime:xc(s,i.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:bl(e.version)};else{if(!e.isUnknownDocument())return Se(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:bl(e.version)}}return r}function wg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function bl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xl(t){const e=new rt(t.seconds,t.nanoseconds);return Ne.fromTimestamp(e)}function Jo(t,e){const n=(e.baseMutations||[]).map((i=>Jw(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>Jw(t.yt,i))),s=rt.fromMillis(e.localWriteTimeMs);return new Px(e.batchId,s,n,r)}function ld(t){const e=xl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?xl(t.lastLimboFreeSnapshotVersion):Ne.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const i=s.documents.length;return _e(i===1,1966,{count:i}),jr(ff(nP(s.documents[0])))})(t.query):(function(s){return jr(aP(s))})(t.query),new Ti(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Yt.fromBase64String(t.resumeToken))}function hP(t,e){const n=bl(e.snapshotVersion),r=bl(e.lastLimboFreeSnapshotVersion);let s;s=pg(e.target)?sP(t.yt,e.target):iP(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wl(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function dP(t){const e=aP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gg(e,e.limit,"L"):e}function I0(t,e){return new Dx(e.largestBatchId,Jw(t.yt,e.overlayMutation))}function fI(t,e){const n=e.path.lastSegment();return[t,Nn(e.path.popLast()),n]}function pI(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:bl(r.readTime),documentKey:Nn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _9{getBundleMetadata(e,n){return mI(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:xl(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return mI(e).put((function(r){return{bundleId:r.id,createTime:bl(jn(r.createTime)),version:r.version}})(n))}getNamedQuery(e,n){return gI(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:dP(s.bundledQuery),readTime:xl(s.readTime)}})(r)}))}saveNamedQuery(e,n){return gI(e).put((function(r){return{name:r.name,readTime:bl(jn(r.readTime)),bundledQuery:r.bundledQuery}})(n))}}function mI(t){return rn(t,sy)}function gI(t){return rn(t,iy)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class py{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new py(e,r)}getOverlay(e,n){return Mh(e).get(fI(this.userId,n)).next((r=>r?I0(this.serializer,r):null))}getOverlays(e,n){const r=Ms();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,o)=>{const u=new Dx(n,o);s.push(this.St(e,u))})),Q.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((o=>s.add(Nn(o.getCollectionPath()))));const i=[];return s.forEach((o=>{const u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(Mh(e).Z(Uw,u))})),Q.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Ms(),i=Nn(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Mh(e).J(Uw,o).next((u=>{for(const c of u){const d=I0(this.serializer,c);s.set(d.getKey(),d)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=Ms();let o;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Mh(e).ee({index:fA,range:u},((c,d,m)=>{const g=I0(this.serializer,d);i.size()<s||g.largestBatchId===o?(i.set(g.getKey(),g),o=g.largestBatchId):m.done()})).next((()=>i))}St(e,n){return Mh(e).put((function(r,s,i){const[o,u,c]=fI(s,i.mutation.key);return{userId:s,collectionPath:u,documentId:c,collectionGroup:i.mutation.key.getCollectionGroup(),largestBatchId:i.largestBatchId,overlayMutation:vg(r.yt,i.mutation)}})(this.serializer,this.userId,n))}}function Mh(t){return rn(t,ay)}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C9{bt(e){return rn(e,kx)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Yt.fromUint8Array(r):Yt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zo{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(xt(e.integerValue));else if("doubleValue"in e){const r=xt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Dd(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Pi(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ri(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?TA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):ly(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Se(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){var r,s;const i=e.fields||{};this.Ft(n,53);const o=pc,u=((s=(r=i[o].arrayValue)==null?void 0:r.values)==null?void 0:s.length)||0;this.Ft(n,15),n.Mt(xt(u)),this.Ot(o,n),this.Ct(i[o],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),de.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Zo.Kt=new Zo;/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law | agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Iu=255;function N9(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function yI(t){const e=64-(function(n){let r=0;for(let s=0;s<8;++s){const i=N9(255&n[s]);if(r+=i,i!==8)break}return r})(t);return Math.ceil(e/8)}class A9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=yI(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=yI(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(Iu),this.sn(255)}_n(){this.an(Iu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const i=new DataView(new ArrayBuffer(8));return i.setFloat64(0,s,!1),new Uint8Array(i.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Iu?(this.sn(Iu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Iu?(this.an(Iu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class P9{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class R9{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Oh{constructor(){this.cn=new A9,this.ln=new P9(this.cn),this.hn=new R9(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class el{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new el(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Lm(this.En),directionalValue:Lm(this.dn),orderedDocumentKey:Lm(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function ka(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=vI(t.En,e.En),n!==0?n:(n=vI(t.dn,e.dn),n!==0?n:de.comparator(t.In,e.In)))}function vI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Lm(t){return iN()?(function(e){let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return n})(t):t}function wI(t){return typeof t!="string"?t:(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(t)}class bI{constructor(e){this.mn=new ut(((n,r)=>It.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(_e(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Fw(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ko(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const c=r[i];if(!this.Sn(u,c)||!this.bn(this.fn[o++],c))return!1}++i}for(;i<r.length;++i){const u=r[i];if(o>=this.fn.length||!this.bn(this.fn[o++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new ut(It.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Cm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Cm(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Cm(r.field,r.dir==="asc"?0:1)));return new ug(ug.UNKNOWN_ID,this.collectionId,n,Rd.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fP(t){var e,n;if(_e(t instanceof He||t instanceof lt,20012),t instanceof He){if(t instanceof MA){const s=((n=(e=t.value.arrayValue)==null?void 0:e.values)==null?void 0:n.map((i=>He.create(t.field,"==",i))))||[];return lt.create(s,"or")}return t}const r=t.filters.map((s=>fP(s)));return lt.create(r,t.op)}function D9(t){if(t.getFilters().length===0)return[];const e=tb(fP(t));return _e(pP(e),7391),Zw(e)||eb(e)?[e]:e.getFilters()}function Zw(t){return t instanceof He}function eb(t){return t instanceof lt&&Nx(t)}function pP(t){return Zw(t)||eb(t)||(function(e){if(e instanceof lt&&Ww(e)){for(const n of e.getFilters())if(!Zw(n)&&!eb(n))return!1;return!0}return!1})(t)}function tb(t){if(_e(t instanceof He||t instanceof lt,34018),t instanceof He)return t;if(t.filters.length===1)return tb(t.filters[0]);const e=t.filters.map((r=>tb(r)));let n=lt.create(e,t.op);return n=bg(n),pP(n)?n:(_e(n instanceof lt,64498),_e(yc(n),40251),_e(n.filters.length>1,57927),n.filters.reduce(((r,s)=>Lx(r,s))))}function Lx(t,e){let n;return _e(t instanceof He||t instanceof lt,38388),_e(e instanceof He||e instanceof lt,25473),n=t instanceof He?e instanceof He?(function(r,s){return lt.create([r,s],"and")})(t,e):xI(t,e):e instanceof He?xI(e,t):(function(r,s){if(_e(r.filters.length>0&&s.filters.length>0,48005),yc(r)&&yc(s))return PA(r,s.getFilters());const i=Ww(r)?r:s,o=Ww(r)?s:r,u=i.filters.map((c=>Lx(c,o)));return lt.create(u,"or")})(t,e),bg(n)}function xI(t,e){if(yc(e))return PA(e,t.getFilters());{const n=e.filters.map((r=>Lx(t,r)));return lt.create(n,"or")}}function bg(t){if(_e(t instanceof He||t instanceof lt,11850),t instanceof He)return t;const e=t.getFilters();if(e.length===1)return bg(e[0]);if(NA(t))return t;const n=e.map((s=>bg(s))),r=[];return n.forEach((s=>{s instanceof He?r.push(s):s instanceof lt&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:lt.create(r,t.op)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class M9{constructor(){this.Cn=new jx}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(yr.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class jx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ut(at.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ut(at.comparator)).toArray()}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const EI="IndexedDbIndexManager",Zp=new Uint8Array(0);class O9{constructor(e,n){this.databaseId=n,this.vn=new jx,this.Fn=new Ui((r=>wl(r)),((r,s)=>df(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:Nn(s)};return SI(e).put(i)}return Q.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[tA(n),""],!1,!0);return SI(e).J(s).next((i=>{for(const o of i){if(o.collectionId!==n)break;r.push(Ds(o.parent))}return r}))}addFieldIndex(e,n){const r=Lh(e),s=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=Cu(e);return i.next((u=>{o.put(pI(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=Lh(e),s=Cu(e),i=_u(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Lh(e),r=_u(e),s=Cu(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new bI(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=_u(e);let s=!0;const i=new Map;return Q.forEach(this.Mn(n),(o=>this.xn(e,o).next((u=>{s&&(s=!!u),i.set(o,u)})))).next((()=>{if(s){let o=We();const u=[];return Q.forEach(i,((c,d)=>{le(EI,`Using index ${(function(R){return`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map((O=>`${O.fieldPath}:${O.kind}`)).join(",")}`})(c)} to execute ${wl(n)}`);const m=(function(R,O){const z=Fw(O);if(z===void 0)return null;for(const B of mg(R,z.fieldPath))switch(B.op){case"array-contains-any":return B.value.arrayValue.values||[];case"array-contains":return[B.value]}return null})(d,c),g=(function(R,O){const z=new Map;for(const B of Ko(O))for(const G of mg(R,B.fieldPath))switch(G.op){case"==":case"in":z.set(B.fieldPath.canonicalString(),G.value);break;case"not-in":case"!=":return z.set(B.fieldPath.canonicalString(),G.value),Array.from(z.values())}return null})(d,c),v=(function(R,O){const z=[];let B=!0;for(const G of Ko(O)){const D=G.kind===0?eI(R,G.fieldPath,R.startAt):tI(R,G.fieldPath,R.startAt);z.push(D.value),B&&(B=D.inclusive)}return new gc(z,B)})(d,c),S=(function(R,O){const z=[];let B=!0;for(const G of Ko(O)){const D=G.kind===0?tI(R,G.fieldPath,R.endAt):eI(R,G.fieldPath,R.endAt);z.push(D.value),B&&(B=D.inclusive)}return new gc(z,B)})(d,c),_=this.On(c,d,v),T=this.On(c,d,S),I=this.Nn(c,d,g),A=this.Bn(c.indexId,m,_,v.inclusive,T,S.inclusive,I);return Q.forEach(A,(R=>r.Y(R,n.limit).next((O=>{O.forEach((z=>{const B=de.fromSegments(z.documentKey);o.has(B)||(o=o.add(B),u.push(B))}))}))))})).next((()=>u))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=D9(lt.create(e.filters,"and")).map((r=>Kw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,o,u){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),d=c/(n!=null?n.length:1),m=[];for(let g=0;g<c;++g){const v=n?this.Ln(n[g/d]):Zp,S=this.kn(e,v,r[g%d],s),_=this.qn(e,v,i[g%d],o),T=u.map((I=>this.kn(e,v,I,!0)));m.push(...this.createRange(S,_,T))}return m}kn(e,n,r,s){const i=new el(e,de.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new el(e,de.empty(),n,r);return s?i.An():i}xn(e,n){const r=new bI(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let o=null;for(const u of i)r.yn(u)&&(!o||u.fields.length>o.fields.length)&&(o=u);return o}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return Q.forEach(s,(i=>this.xn(e,i).next((o=>{o?r!==0&&o.fields.length<(function(u){let c=new ut(It.comparator),d=!1;for(const m of u.filters)for(const g of m.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:c=c.add(g.field));for(const m of u.orderBy)m.field.isKeyField()||(c=c.add(m.field));return c.size+(d?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(i){return i.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new Oh;for(const s of Ko(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Pn(s.kind);Zo.Kt.Dt(i,o)}return r.un()}Ln(e){const n=new Oh;return Zo.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Oh;return Zo.Kt.Dt(Vd(this.databaseId,n),r.Pn((function(s){const i=Ko(s);return i.length===0?0:i[i.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new Oh);let i=0;for(const o of Ko(e)){const u=r[i++];for(const c of s)if(this.Un(n,o.fieldPath)&&zd(u))s=this.Kn(s,o,u);else{const d=c.Pn(o.kind);Zo.Kt.Dt(u,d)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const u of s){const c=new Oh;c.seed(u.un()),Zo.Kt.Dt(o,c.Pn(n.kind)),i.push(c)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof He&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Lh(e),s=Cu(e);return(n?r.J(zw,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const o=[];return Q.forEach(i,(u=>s.get([u.indexId,this.uid]).next((c=>{o.push((function(d,m){const g=m?new Rd(m.sequenceNumber,new yr(xl(m.readTime),new de(Ds(m.documentKey)),m.largestBatchId)):Rd.empty(),v=d.fields.map((([S,_])=>new Cm(It.fromServerFormat(S),_)));return new ug(d.indexId,d.collectionGroup,v,g)})(u,c))})))).next((()=>o))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Fe(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=Lh(e),i=Cu(e);return this.Gn(e).next((o=>s.J(zw,IDBKeyRange.bound(n,n)).next((u=>Q.forEach(u,(c=>i.put(pI(c.indexId,this.uid,o,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((s,i)=>{const o=r.get(s.collectionGroup);return(o?Q.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Q.forEach(u,(c=>this.zn(e,s,c).next((d=>{const m=this.jn(i,c);return d.isEqual(m)?Q.resolve():this.Jn(e,i,c,d,m)})))))))}))}Hn(e,n,r,s){return _u(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return _u(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=_u(e);let i=new ut(ka);return s.ee({index:dA,range:IDBKeyRange.only([r.indexId,this.uid,Lm(this.$n(r,n))])},((o,u)=>{i=i.add(new el(r.indexId,n,wI(u.arrayValue),wI(u.directionalValue)))})).next((()=>i))}jn(e,n){let r=new ut(ka);const s=this.Qn(n,e);if(s==null)return r;const i=Fw(n);if(i!=null){const o=e.data.field(i.fieldPath);if(zd(o))for(const u of o.arrayValue.values||[])r=r.add(new el(n.indexId,e.key,this.Ln(u),s))}else r=r.add(new el(n.indexId,e.key,Zp,s));return r}Jn(e,n,r,s,i){le(EI,"Updating index entries for document '%s'",n.key);const o=[];return(function(u,c,d,m,g){const v=u.getIterator(),S=c.getIterator();let _=Tu(v),T=Tu(S);for(;_||T;){let I=!1,A=!1;if(_&&T){const R=d(_,T);R<0?A=!0:R>0&&(I=!0)}else _!=null?A=!0:I=!0;I?(m(T),T=Tu(S)):A?(g(_),_=Tu(v)):(_=Tu(v),T=Tu(S))}})(s,i,ka,(u=>{o.push(this.Hn(e,n,r,u))}),(u=>{o.push(this.Yn(e,n,r,u))})),Q.waitFor(o)}Gn(e){let n=1;return Cu(e).ee({index:hA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((o,u)=>ka(o,u))).filter(((o,u,c)=>!u||ka(o,c[u-1])!==0));const s=[];s.push(e);for(const o of r){const u=ka(o,e),c=ka(o,n);if(u===0)s[0]=e.An();else if(u>0&&c<0)s.push(o),s.push(o.An());else if(c>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Zn(s[o],s[o+1]))return[];const u=s[o].Vn(this.uid,Zp,de.empty()),c=s[o+1].Vn(this.uid,Zp,de.empty());i.push(IDBKeyRange.bound(u,c))}return i}Zn(e,n){return ka(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(kI)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||Se(44426))))).next(kI)}}function SI(t){return rn(t,Ld)}function _u(t){return rn(t,yd)}function Lh(t){return rn(t,Sx)}function Cu(t){return rn(t,gd)}function kI(t){_e(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;bx(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new yr(e.readTime,e.documentKey,n)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const TI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mP=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gP(t,e,n){const r=t.store(es),s=t.store(cc),i=[],o=IDBKeyRange.only(n.batchId);let u=0;const c=r.ee({range:o},((m,g,v)=>(u++,v.delete())));i.push(c.next((()=>{_e(u===1,47070,{batchId:n.batchId})})));const d=[];for(const m of n.mutations){const g=lA(e,m.key.path,n.batchId);i.push(s.delete(g)),d.push(m.key)}return Q.waitFor(i).next((()=>d))}function xg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Se(14731);e=t.noDocument}return JSON.stringify(e).length}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(mP,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class my{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){_e(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new my(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ta(e).ee({index:tl,range:r},((s,i,o)=>{n=!1,o.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=Hu(e),o=Ta(e);return o.add({}).next((u=>{_e(typeof u=="number",49019);const c=new Px(u,n,r,s),d=(function(v,S,_){const T=_.baseMutations.map((A=>vg(v.yt,A))),I=_.mutations.map((A=>vg(v.yt,A)));return{userId:S,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:T,mutations:I}})(this.serializer,this.userId,c),m=[];let g=new ut(((v,S)=>Fe(v.canonicalString(),S.canonicalString())));for(const v of s){const S=lA(this.userId,v.key.path,u);g=g.add(v.key.path.popLast()),m.push(o.put(d)),m.push(i.put(S,cV))}return g.forEach((v=>{m.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=c.keys()})),Q.waitFor(m).next((()=>c))}))}lookupMutationBatch(e,n){return Ta(e).get(n).next((r=>r?(_e(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Jo(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Ta(e).ee({index:tl,range:s},((o,u,c)=>{u.userId===this.userId&&(_e(u.batchId>=r,47524,{tr:r}),i=Jo(this.serializer,u)),c.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ol;return Ta(e).ee({index:tl,range:n,reverse:!0},((s,i,o)=>{r=i.batchId,o.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,ol],[this.userId,Number.POSITIVE_INFINITY]);return Ta(e).J(tl,n).next((r=>r.map((s=>Jo(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Nm(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Hu(e).ee({range:s},((o,u,c)=>{const[d,m,g]=o,v=Ds(m);if(d===this.userId&&n.path.isEqual(v))return Ta(e).get(g).next((S=>{if(!S)throw Se(61480,{nr:o,batchId:g});_e(S.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:S.userId,batchId:g}),i.push(Jo(this.serializer,S))}));c.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Fe);const s=[];return n.forEach((i=>{const o=Nm(this.userId,i.path),u=IDBKeyRange.lowerBound(o),c=Hu(e).ee({range:u},((d,m,g)=>{const[v,S,_]=d,T=Ds(S);v===this.userId&&i.path.isEqual(T)?r=r.add(_):g.done()}));s.push(c)})),Q.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Nm(this.userId,r),o=IDBKeyRange.lowerBound(i);let u=new ut(Fe);return Hu(e).ee({range:o},((c,d,m)=>{const[g,v,S]=c,_=Ds(v);g===this.userId&&r.isPrefixOf(_)?_.length===s&&(u=u.add(S)):m.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push(Ta(e).get(i).next((o=>{if(o===null)throw Se(35274,{batchId:i});_e(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),r.push(Jo(this.serializer,o))})))})),Q.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return gP(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(i){return[i]})(this.userId)),s=[];return Hu(e).ee({range:r},((i,o,u)=>{if(i[0]===this.userId){const c=Ds(i[1]);s.push(c)}else u.done()})).next((()=>{_e(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return yP(e,this.userId,n)}_r(e){return vP(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:ol,lastStreamToken:""}))}}function yP(t,e,n){const r=Nm(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return Hu(t).ee({range:i,X:!0},((u,c,d)=>{const[m,g,v]=u;m===e&&g===s&&(o=!0),d.done()})).next((()=>o))}function Ta(t){return rn(t,es)}function Hu(t){return rn(t,cc)}function vP(t){return rn(t,Md)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class El{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class L9{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new El(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ne.fromTimestamp(new rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Nu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(_e(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return Nu(e).ee(((o,u)=>{const c=ld(u);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))})).next((()=>Q.waitFor(i))).next((()=>s))}forEachTarget(e,n){return Nu(e).ee(((r,s)=>{const i=ld(s);n(i)}))}lr(e){return II(e).get(dg).next((n=>(_e(n!==null,2888),n)))}hr(e,n){return II(e).put(dg,n)}Pr(e,n){return Nu(e).put(hP(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=wl(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Nu(e).ee({range:s,index:cA},((o,u,c)=>{const d=ld(u);df(n,d.target)&&(i=d,c.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=Fa(e);return n.forEach((o=>{const u=Nn(o.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,o))})),Q.waitFor(s)}removeMatchingKeys(e,n,r){const s=Fa(e);return Q.forEach(n,(i=>{const o=Nn(i.path);return Q.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=Fa(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Fa(e);let i=We();return s.ee({range:r,X:!0},((o,u,c)=>{const d=Ds(o[1]),m=new de(d);i=i.add(m)})).next((()=>i))}containsKey(e,n){const r=Nn(n.path),s=IDBKeyRange.bound([r],[tA(r)],!1,!0);let i=0;return Fa(e).ee({index:Ex,X:!0,range:s},(([o,u],c,d)=>{o!==0&&(i++,d.done())})).next((()=>i>0))}At(e,n){return Nu(e).get(n).next((r=>r?ld(r):null))}}function Nu(t){return rn(t,hc)}function II(t){return rn(t,ll)}function Fa(t){return rn(t,dc)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _I="LruGarbageCollector",j9=1048576;function CI([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class F9{constructor(e){this.Ir=e,this.buffer=new ut(CI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();CI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(_I,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){so(n)?le(_I,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Vr(3e5)}))}}class V9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Mr.ce);const r=new F9(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(TI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TI):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,u,c,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,o=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),qu()<=Ke.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${i} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(d-c)+`ms
Total Duration: ${d-m}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function bP(t,e){return new V9(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class z9{constructor(e,n){this.db=e,this.garbageCollector=bP(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return em(e,r)}removeReference(e,n,r){return em(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return em(e,n)}br(e,n){return(function(r,s){let i=!1;return vP(r).te((o=>yP(r,o,s).next((u=>(u&&(i=!0),Q.resolve(!u)))))).next((()=>i))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((o,u)=>{if(u<=n){const c=this.br(e,o).next((d=>{if(!d)return i++,r.getEntry(e,o).next((()=>(r.removeEntry(o,Ne.min()),Fa(e).delete((function(m){return[0,Nn(m.path)]})(o)))))}));s.push(c)}})).next((()=>Q.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return em(e,n)}Sr(e,n){const r=Fa(e);let s,i=Mr.ce;return r.ee({index:Ex},(([o,u],{path:c,sequenceNumber:d})=>{o===0?(i!==Mr.ce&&n(new de(Ds(s)),i),i=d,s=c):i=Mr.ce})).next((()=>{i!==Mr.ce&&n(new de(Ds(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function em(t,e){return Fa(t).put((function(n,r){return{targetId:0,path:Nn(n.path),sequenceNumber:r}})(e,t.currentSequenceNumber))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xP{constructor(){this.changes=new Ui((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class U9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Oo(e).put(r)}removeEntry(e,n,r){return Oo(e).delete((function(s,i){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],wg(i),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Mt.newInvalidDocument(n);return Oo(e).ee({index:Am,range:IDBKeyRange.only(jh(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:Mt.newInvalidDocument(n)};return Oo(e).ee({index:Am,range:IDBKeyRange.only(jh(n))},((s,i)=>{r={document:this.Cr(n,i),size:xg(i)}})).next((()=>r))}getEntries(e,n){let r=pr();return this.Fr(e,n,((s,i)=>{const o=this.Cr(s,i);r=r.insert(s,o)})).next((()=>r))}Mr(e,n){let r=pr(),s=new St(de.comparator);return this.Fr(e,n,((i,o)=>{const u=this.Cr(i,o);r=r.insert(i,u),s=s.insert(i,xg(o))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let s=new ut(PI);n.forEach((c=>s=s.add(c)));const i=IDBKeyRange.bound(jh(s.first()),jh(s.last())),o=s.getIterator();let u=o.getNext();return Oo(e).ee({index:Am,range:i},((c,d,m)=>{const g=de.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;u&&PI(u,g)<0;)r(u,null),u=o.getNext();u&&u.isEqual(g)&&(r(u,d),u=o.hasNext()?o.getNext():null),u?m.j(jh(u)):m.done()})).next((()=>{for(;u;)r(u,null),u=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,u=[o.popLast().toArray(),o.lastSegment(),wg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Oo(e).J(IDBKeyRange.bound(u,c,!0)).next((d=>{i==null||i.incrementDocumentReadCount(d.length);let m=pr();for(const g of d){const v=this.Cr(de.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(pf(n,v)||s.has(v.key))&&(m=m.insert(v.key,v))}return m}))}getAllFromCollectionGroup(e,n,r,s){let i=pr();const o=AI(n,r),u=AI(n,yr.max());return Oo(e).ee({index:uA,range:IDBKeyRange.bound(o,u,!0)},((c,d,m)=>{const g=this.Cr(de.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);i=i.insert(g.key,g),i.size===s&&m.done()})).next((()=>i))}newChangeBuffer(e){return new B9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return NI(e).get(Vw).next((n=>(_e(!!n,20021),n)))}Dr(e,n){return NI(e).put(Vw,n)}Cr(e,n){if(n){const r=I9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ne.min())))return r}return Mt.newInvalidDocument(e)}}function EP(t){return new U9(t)}class B9 extends xP{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Ui((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new ut(((i,o)=>Fe(i.canonicalString(),o.canonicalString())));return this.changes.forEach(((i,o)=>{const u=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,u.readTime)),o.isValidDocument()){const c=dI(this.Nr.serializer,o);s=s.add(i.path.popLast());const d=xg(c);r+=d-u.size,n.push(this.Nr.addEntry(e,i,c))}else if(r-=u.size,this.trackRemovals){const c=dI(this.Nr.serializer,o.convertToNoDocument(Ne.min()));n.push(this.Nr.addEntry(e,i,c))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,o)=>{this.Br.set(i,{size:o,readTime:r.get(i).readTime})})),r)))}}function NI(t){return rn(t,Od)}function Oo(t){return rn(t,hg)}function jh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function AI(t,e){const n=e.documentKey.path.toArray();return[t,wg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function PI(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Fe(n[i],r[i]),s)return s;return s=Fe(n.length,r.length),s||(s=Fe(n[n.length-2],r[r.length-2]),s||Fe(n[n.length-1],r[r.length-1]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SP{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&xd(r.mutation,s,Yn.empty(),rt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=We()){const s=Ms();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=ad();return i.forEach(((u,c)=>{o=o.insert(u,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Ms();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,We())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,u)=>{n.set(o,u)}))}))}computeViews(e,n,r,s){let i=pr();const o=bd(),u=(function(){return bd()})();return n.forEach(((c,d)=>{const m=r.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof Bi)?i=i.insert(d.key,d):m!==void 0?(o.set(d.key,m.mutation.getFieldMask()),xd(m.mutation,d,m.mutation.getFieldMask(),rt.now())):o.set(d.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((d,m)=>o.set(d,m))),n.forEach(((d,m)=>u.set(d,new $9(m,o.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=bd();let s=new St(((o,u)=>o-u)),i=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const u of o)u.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let m=r.get(c)||Yn.empty();m=u.applyToLocalView(d,m),r.set(c,m);const g=(s.get(u.batchId)||We()).add(c);s=s.insert(u.batchId,g)}))})).next((()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,m=c.value,g=zA();m.forEach((v=>{if(!i.has(v)){const S=KA(n.get(v),r.get(v));S!==null&&g.set(v,S),i=i.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Q.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Ms());let u=Pd,c=i;return o.next((d=>Q.forEach(d,((m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),i.get(m)?Q.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{c=c.insert(m,v)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,c,d,We()))).next((m=>({batchId:u,changes:VA(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((r=>{let s=ad();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ad();return this.indexManager.getCollectionParents(e,i).next((u=>Q.forEach(u,(c=>{const d=(function(m,g){return new Cc(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((m=>{m.forEach(((g,v)=>{o=o.insert(g,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((c,d)=>{const m=d.getKey();o.get(m)===null&&(o=o.insert(m,Mt.newInvalidDocument(m)))}));let u=ad();return o.forEach(((c,d)=>{const m=i.get(c);m!==void 0&&xd(m.mutation,d,Yn.empty(),rt.now()),pf(n,d)&&(u=u.insert(c,d))})),u}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class q9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:jn(r.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:dP(r.bundledQuery),readTime:jn(r.readTime)}})(n)),Q.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W9{constructor(){this.overlays=new St(de.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ms();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Ms(),i=n.length+1,o=new de(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new St(((d,m)=>d-m));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=i.get(d.largestBatchId);m===null&&(m=Ms(),i=i.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=Ms(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,m)=>u.set(d,m))),!(u.size()>=s)););return Q.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Dx(n,r));let i=this.qr.get(n);i===void 0&&(i=We(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G9{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fx{constructor(){this.Qr=new ut(ln.$r),this.Ur=new ut(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ln(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new ln(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new de(new at([])),r=new ln(n,e),s=new ln(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new at([])),r=new ln(n,e),s=new ln(n,e+1);let i=We();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new ln(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class K9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ut(ln.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Px(i,n,r,s);this.mutationQueue.push(o);for(const u of s)this.Zr=this.Zr.add(new ln(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?ol:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ln(n,0),s=new ln(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const u=this.Xr(o.Yr);i.push(u)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Fe);return n.forEach((s=>{const i=new ln(s,0),o=new ln(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(u=>{r=r.add(u.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;de.isDocumentKey(i)||(i=i.child(""));const o=new ln(new de(i),0);let u=new ut(Fe);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(u=u.add(c.Yr)),!0)}),o),Q.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(s=>{const i=new ln(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new ln(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class H9{constructor(e){this.ri=e,this.docs=(function(){return new St(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=pr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Mt.newInvalidDocument(s))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=pr();const o=n.path,u=new de(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:m}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||bx(sA(m),r)<=0||(s.has(m.key)||pf(n,m))&&(i=i.insert(m.key,m.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Se(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Q9(this)}getSize(e){return Q.resolve(this.size)}}class Q9 extends xP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class X9{constructor(e){this.persistence=e,this.si=new Ui((n=>wl(n)),df),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new Fx,this.targetCount=0,this.ai=El.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new El(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Q.waitFor(i).next((()=>s))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mr(0),this.li=!1,this.li=!0,this.hi=new G9,this.referenceDelegate=e(this),this.Pi=new X9(this),this.indexManager=new M9,this.remoteDocumentCache=(function(r){return new H9(r)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new cP(n),this.Ii=new q9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new K9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new Y9(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Y9 extends aA{constructor(e){super(),this.currentSequenceNumber=e}}class gy{constructor(e){this.persistence=e,this.Ri=new Fx,this.Vi=null}static mi(e){return new gy(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const s=de.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Eg{constructor(e,n){this.persistence=e,this.pi=new Ui((r=>Nn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=bP(this,n)}static mi(e,n){return new Eg(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Q.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((u=>{u||(r++,i.removeEntry(o,Ne.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rm(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J9{constructor(e){this.serializer=e}k(e,n,r,s){const i=new ny("createOrUpgrade",n);r<1&&s>=1&&((function(u){u.createObjectStore(hf)})(e),(function(u){u.createObjectStore(Md,{keyPath:uV}),u.createObjectStore(es,{keyPath:BT,autoIncrement:!0}).createIndex(tl,$T,{unique:!0}),u.createObjectStore(cc)})(e),RI(e),(function(u){u.createObjectStore(Ho)})(e));let o=Q.resolve();return r<3&&s>=3&&(r!==0&&((function(u){u.deleteObjectStore(dc),u.deleteObjectStore(hc),u.deleteObjectStore(ll)})(e),RI(e)),o=o.next((()=>(function(u){const c=u.store(ll),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return c.put(dg,d)})(i)))),r<4&&s>=4&&(r!==0&&(o=o.next((()=>(function(u,c){return c.store(es).J().next((d=>{u.deleteObjectStore(es),u.createObjectStore(es,{keyPath:BT,autoIncrement:!0}).createIndex(tl,$T,{unique:!0});const m=c.store(es),g=d.map((v=>m.put(v)));return Q.waitFor(g)}))})(e,i)))),o=o.next((()=>{(function(u){u.createObjectStore(fc,{keyPath:vV})})(e)}))),r<5&&s>=5&&(o=o.next((()=>this.yi(i)))),r<6&&s>=6&&(o=o.next((()=>((function(u){u.createObjectStore(Od)})(e),this.wi(i))))),r<7&&s>=7&&(o=o.next((()=>this.Si(i)))),r<8&&s>=8&&(o=o.next((()=>this.bi(e,i)))),r<9&&s>=9&&(o=o.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(o=o.next((()=>this.Di(i)))),r<11&&s>=11&&(o=o.next((()=>{(function(u){u.createObjectStore(sy,{keyPath:wV})})(e),(function(u){u.createObjectStore(iy,{keyPath:bV})})(e)}))),r<12&&s>=12&&(o=o.next((()=>{(function(u){const c=u.createObjectStore(ay,{keyPath:_V});c.createIndex(Uw,CV,{unique:!1}),c.createIndex(fA,NV,{unique:!1})})(e)}))),r<13&&s>=13&&(o=o.next((()=>(function(u){const c=u.createObjectStore(hg,{keyPath:hV});c.createIndex(Am,dV),c.createIndex(uA,fV)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(Ho)))),r<14&&s>=14&&(o=o.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(o=o.next((()=>(function(u){u.createObjectStore(Sx,{keyPath:xV,autoIncrement:!0}).createIndex(zw,EV,{unique:!1}),u.createObjectStore(gd,{keyPath:SV}).createIndex(hA,kV,{unique:!1}),u.createObjectStore(yd,{keyPath:TV}).createIndex(dA,IV,{unique:!1})})(e)))),r<16&&s>=16&&(o=o.next((()=>{n.objectStore(gd).clear()})).next((()=>{n.objectStore(yd).clear()}))),r<17&&s>=17&&(o=o.next((()=>{(function(u){u.createObjectStore(kx,{keyPath:AV})})(e)}))),r<18&&s>=18&&iN()&&(o=o.next((()=>{n.objectStore(gd).clear()})).next((()=>{n.objectStore(yd).clear()}))),o}wi(e){let n=0;return e.store(Ho).ee(((r,s)=>{n+=xg(s)})).next((()=>{const r={byteSize:n};return e.store(Od).put(Vw,r)}))}yi(e){const n=e.store(Md),r=e.store(es);return n.J().next((s=>Q.forEach(s,(i=>{const o=IDBKeyRange.bound([i.userId,ol],[i.userId,i.lastAcknowledgedBatchId]);return r.J(tl,o).next((u=>Q.forEach(u,(c=>{_e(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const d=Jo(this.serializer,c);return gP(e,i.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(dc),r=e.store(Ho);return e.store(ll).get(dg).next((s=>{const i=[];return r.ee(((o,u)=>{const c=new at(o),d=(function(m){return[0,Nn(m)]})(c);i.push(n.get(d).next((m=>m?Q.resolve():(g=>n.put({targetId:0,path:Nn(g),sequenceNumber:s.highestListenSequenceNumber}))(c))))})).next((()=>Q.waitFor(i)))}))}bi(e,n){e.createObjectStore(Ld,{keyPath:yV});const r=n.store(Ld),s=new jx,i=o=>{if(s.add(o)){const u=o.lastSegment(),c=o.popLast();return r.put({collectionId:u,parent:Nn(c)})}};return n.store(Ho).ee({X:!0},((o,u)=>{const c=new at(o);return i(c.popLast())})).next((()=>n.store(cc).ee({X:!0},(([o,u,c],d)=>{const m=Ds(u);return i(m.popLast())}))))}Di(e){const n=e.store(hc);return n.ee(((r,s)=>{const i=ld(s),o=hP(this.serializer,i);return n.put(o)}))}Ci(e,n){const r=n.store(Ho),s=[];return r.ee(((i,o)=>{const u=n.store(hg),c=(function(m){return m.document?new de(at.fromString(m.document.name).popFirst(5)):m.noDocument?de.fromSegments(m.noDocument.path):m.unknownDocument?de.fromSegments(m.unknownDocument.path):Se(36783)})(o).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(u.put(d))})).next((()=>Q.waitFor(s)))}Fi(e,n){const r=n.store(es),s=EP(this.serializer),i=new Vx(gy.mi,this.serializer.yt);return r.J().next((o=>{const u=new Map;return o.forEach((c=>{let d=u.get(c.userId)??We();Jo(this.serializer,c).keys().forEach((m=>d=d.add(m))),u.set(c.userId,d)})),Q.forEach(u,((c,d)=>{const m=new gn(d),g=py.wt(this.serializer,m),v=i.getIndexManager(m),S=my.wt(m,this.serializer,v,i.referenceDelegate);return new SP(s,S,g,v).recalculateAndSaveOverlaysForDocumentKeys(new Bw(n,Mr.ce),c).next()}))}))}}function RI(t){t.createObjectStore(dc,{keyPath:mV}).createIndex(Ex,gV,{unique:!0}),t.createObjectStore(hc,{keyPath:"targetId"}).createIndex(cA,pV,{unique:!0}),t.createObjectStore(ll)}const Ia="IndexedDbPersistence",_0=18e5,C0=5e3,N0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Z9="main";class zx{constructor(e,n,r,s,i,o,u,c,d,m,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=o,this.document=u,this.xi=d,this.Oi=m,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!zx.v())throw new ce(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new z9(this,s),this.$i=n+Z9,this.serializer=new cP(c),this.Ui=new $a(this.$i,this.Ni,new J9(this.serializer)),this.hi=new C9,this.Pi=new L9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=EP(this.serializer),this.Ii=new _9,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&Dn(Ia,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,N0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Mr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>tm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(so(e))return le(Ia,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(Ia,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Fh(e).get(ku).next((n=>Q.resolve(this.es(n))))}ts(e){return tm(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,_0)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=rn(n,fc);return r.J().next((s=>{const i=this.ss(s,_0),o=s.filter((u=>i.indexOf(u)===-1));return Q.forEach(o,(u=>r.delete(u.clientId))).next((()=>o))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):Fh(e).get(ku).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,C0)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,N0);return!1}}return!(!this.networkEnabled||!this.inForeground)||tm(e).J().next((r=>this.ss(r,C0).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||o&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&le(Ia,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[hf,fc],(e=>{const n=new Bw(e,Mr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>tm(e).J().next((n=>this.ss(n,_0).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return my.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new O9(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return py.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){le(Ia,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(u){return u===18?DV:u===17?yA:u===16?RV:u===15?Tx:u===14?gA:u===13?mA:u===12?PV:u===11?pA:void Se(60245)})(this.Ni);let o;return this.Ui.runTransaction(e,s,i,(u=>(o=new Bw(u,this.ci?this.ci.next():Mr.ce),n==="readwrite-primary"?this.Hi(o).next((c=>!!c||this.Yi(o))).next((c=>{if(!c)throw Dn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ce(te.FAILED_PRECONDITION,iA);return r(o)})).next((c=>this.Xi(o).next((()=>c)))):this.Is(o).next((()=>r(o)))))).then((u=>(o.raiseOnCommittedEvent(),u)))}Is(e){return Fh(e).get(ku).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,C0)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(te.FAILED_PRECONDITION,N0)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fh(e).put(ku,n)}static v(){return $a.v()}Zi(e){const n=Fh(e);return n.get(ku).next((r=>this.es(r)?(le(Ia,"Releasing primary lease."),n.delete(ku)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Dn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;sN()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return le(Ia,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Dn(Ia,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Dn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fh(t){return rn(t,hf)}function tm(t){return rn(t,fc)}function ez(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ux{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=We(),s=We();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ux(e,n.fromCache,r,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sN()?8:oA(nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new tz;return this.Ss(e,n,o).next((u=>{if(i.result=u,this.Vs)return this.bs(e,n,o,u.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(qu()<=Ke.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Wu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(qu()<=Ke.DEBUG&&le("QueryEngine","Query:",Wu(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(qu()<=Ke.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Wu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(n))):Q.resolve())}ys(e,n){if(nI(n))return Q.resolve(null);let r=jr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=gg(n,null,"F"),r=jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=We(...i);return this.ps.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.Ds(n,u);return this.Cs(n,d,o,c.readTime)?this.ys(e,gg(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ws(e,n,r,s){return nI(n)||s.isEqual(Ne.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?Q.resolve(null):(qu()<=Ke.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wu(n)),this.vs(e,o,n,nV(s,Pd)).next((u=>u)))}))}Ds(e,n){let r=new ut(jA(e));return n.forEach(((s,i)=>{pf(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return qu()<=Ke.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Wu(n)),this.ps.getDocumentsMatchingQuery(e,n,yr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bx="LocalStore",nz=3e8;class rz{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new St(Fe),this.xs=new Ui((i=>wl(i)),df),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function TP(t,e,n,r){return new rz(t,e,n,r)}async function IP(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],u=[];let c=We();for(const d of s){o.push(d.batchId);for(const m of d.mutations)c=c.add(m.key)}for(const d of i){u.push(d.batchId);for(const m of d.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:u})))}))}))}function sz(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,u,c,d){const m=c.batch,g=m.keys();let v=Q.resolve();return g.forEach((S=>{v=v.next((()=>d.getEntry(u,S))).next((_=>{const T=c.docVersions.get(S);_e(T!==null,48541),_.version.compareTo(T)<0&&(m.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))}))})),v.next((()=>o.mutationQueue.removeMutationBatch(u,m)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let u=We();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(u=u.add(o.batch.mutations[c].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function _P(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function iz(t,e){const n=Ve(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((m,g)=>{const v=s.get(g);if(!v)return;u.push(n.Pi.removeMatchingKeys(i,m.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,m.addedDocuments,g))));let S=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?S=S.withResumeToken(Yt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),s=s.insert(g,S),(function(_,T,I){return _.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=nz?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(v,S,m)&&u.push(n.Pi.updateTargetData(i,S))}));let c=pr(),d=We();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,m))})),u.push(az(i,o,e.documentUpdates).next((m=>{c=m.ks,d=m.qs}))),!r.isEqual(Ne.min())){const m=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(m)}return Q.waitFor(u).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,d))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function az(t,e,n){let r=We(),s=We();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=pr();return n.forEach(((u,c)=>{const d=i.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(Ne.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):le(Bx,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)})),{ks:o,qs:s}}))}function oz(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ol),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function lz(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Q.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Ti(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function nb(t,e,n){const r=Ve(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!so(o))throw o;le(Bx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function DI(t,e,n){const r=Ve(t);let s=Ne.min(),i=We();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,c,d){const m=Ve(u),g=m.xs.get(d);return g!==void 0?Q.resolve(m.Ms.get(g)):m.Pi.getTargetData(c,d)})(r,o,jr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Ne.min(),n?i:We()))).next((u=>(uz(r,HV(e),u),{documents:u,Qs:i})))))}function uz(t,e,n){let r=t.Os.get(e)||Ne.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class MI{constructor(){this.activeTargetIds=e9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CP{constructor(){this.Mo=new MI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new MI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cz{Oo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const OI="ConnectivityMonitor";class LI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(OI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(OI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let nm=null;function rb(){return nm===null?nm=(function(){return 268435456+Math.round(2147483648*Math.random())})():nm++,"0x"+nm.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const A0="RestConnection",hz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===fg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=rb(),u=this.zo(e,n.toUriEncodedString());le(A0,`Sending RPC '${e}' ${o}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(u),m=Nl(d);return this.Jo(e,u,c,r,m).then((g=>(le(A0,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw yl(A0,`RPC '${e}' ${o} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_c})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=hz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kn="WebChannelConnection";class pz extends dz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=rb();return new Promise(((u,c)=>{const d=new HN;d.setWithCredentials(!0),d.listenOnce(QN.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case _m.NO_ERROR:const g=d.getResponseJson();le(kn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case _m.TIMEOUT:le(kn,`RPC '${e}' ${o} timed out`),c(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case _m.HTTP_ERROR:const v=d.getStatus();if(le(kn,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let S=d.getResponseJson();Array.isArray(S)&&(S=S[0]);const _=S==null?void 0:S.error;if(_&&_.status&&_.message){const T=(function(I){const A=I.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(A)>=0?A:te.UNKNOWN})(_.status);c(new ce(T,_.message))}else c(new ce(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{le(kn,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(s);le(kn,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",m,r,15)}))}T_(e,n,r){const s=rb(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=JN(),u=YN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const m=i.join("");le(kn,`Creating RPC '${e}' stream ${s}: ${m}`,c);const g=o.createWebChannel(m,c);this.I_(g);let v=!1,S=!1;const _=new fz({Yo:I=>{S?le(kn,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(v||(le(kn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),le(kn,`RPC '${e}' stream ${s} sending:`,I),g.send(I))},Zo:()=>g.close()}),T=(I,A,R)=>{I.listen(A,(O=>{try{R(O)}catch(z){setTimeout((()=>{throw z}),0)}}))};return T(g,id.EventType.OPEN,(()=>{S||(le(kn,`RPC '${e}' stream ${s} transport opened.`),_.o_())})),T(g,id.EventType.CLOSE,(()=>{S||(S=!0,le(kn,`RPC '${e}' stream ${s} transport closed`),_.a_(),this.E_(g))})),T(g,id.EventType.ERROR,(I=>{S||(S=!0,yl(kn,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),_.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),T(g,id.EventType.MESSAGE,(I=>{var A;if(!S){const R=I.data[0];_e(!!R,16349);const O=R,z=(O==null?void 0:O.error)||((A=O[0])==null?void 0:A.error);if(z){le(kn,`RPC '${e}' stream ${s} received error:`,z);const B=z.status;let G=(function(C){const P=Ht[C];if(P!==void 0)return XA(P)})(B),D=z.message;G===void 0&&(G=te.INTERNAL,D="Unknown error status: "+B+" with message "+z.message),S=!0,_.a_(new ce(G,D)),g.close()}else le(kn,`RPC '${e}' stream ${s} received:`,R),_.u_(R)}})),T(u,XN.STAT_EVENT,(I=>{I.stat===Lw.PROXY?le(kn,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Lw.NOPROXY&&le(kn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mz(){return typeof window<"u"?window:null}function jm(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yy(t){return new g9(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NP{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jI="PersistentStream";class AP{constructor(e,n,r,s,i,o,u,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Dn(n.toString()),Dn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(jI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(jI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gz extends AP{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=w9(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ne.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Ne.min():i.readTime?jn(i.readTime):Ne.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Yw(this.serializer),n.addTarget=(function(s,i){let o;const u=i.target;if(o=pg(u)?{documents:sP(s,u)}:{query:iP(s,u).ft},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=ZA(s,i.resumeToken);const c=Qw(s,i.expectedCount);c!==null&&(o.expectedCount=c)}else if(i.snapshotVersion.compareTo(Ne.min())>0){o.readTime=xc(s,i.snapshotVersion.toTimestamp());const c=Qw(s,i.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,e);const r=x9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Yw(this.serializer),n.removeTarget=e,this.q_(n)}}class yz extends AP{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=b9(e.writeResults,e.commitTime),r=jn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Yw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>vg(this.serializer,r)))};this.q_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vz{}class wz extends vz{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,Xw(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(te.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Ho(e,Xw(n,r),s,o,u,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(te.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dn(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sl="RemoteStore";class xz{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Dl(this)&&(le(Sl,"Restarting streams for network reachability change."),await(async function(u){const c=Ve(u);c.Ea.add(4),await gf(c),c.Ra.set("Unknown"),c.Ea.delete(4),await vy(c)})(this))}))})),this.Ra=new bz(r,s)}}async function vy(t){if(Dl(t))for(const e of t.da)await e(!0)}async function gf(t){for(const e of t.da)await e(!1)}function PP(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Gx(n)?Wx(n):Ac(n).O_()&&qx(n,e))}function $x(t,e){const n=Ve(t),r=Ac(n);n.Ia.delete(e),r.O_()&&RP(n,e),n.Ia.size===0&&(r.O_()?r.L_():Dl(n)&&n.Ra.set("Unknown"))}function qx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ac(t).Y_(e)}function RP(t,e){t.Va.Ue(e),Ac(t).Z_(e)}function Wx(t){t.Va=new d9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ac(t).start(),t.Ra.ua()}function Gx(t){return Dl(t)&&!Ac(t).x_()&&t.Ia.size>0}function Dl(t){return Ve(t).Ea.size===0}function DP(t){t.Va=void 0}async function Ez(t){t.Ra.set("Online")}async function Sz(t){t.Ia.forEach(((e,n)=>{qx(t,e)}))}async function kz(t,e){DP(t),Gx(t)?(t.Ra.ha(e),Wx(t)):t.Ra.set("Unknown")}async function Tz(t,e,n){if(t.Ra.set("Online"),e instanceof JA&&e.state===2&&e.cause)try{await(async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Ia.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Ia.delete(o),r.Va.removeTarget(o))})(t,e)}catch(r){le(Sl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sg(t,r)}else if(e instanceof Om?t.Va.Ze(e):e instanceof YA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const r=await _P(t.localStore);n.compareTo(r)>=0&&await(function(s,i){const o=s.Va.Tt(i);return o.targetChanges.forEach(((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(u.resumeToken,i))}})),o.targetMismatches.forEach(((u,c)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(Yt.EMPTY_BYTE_STRING,d.snapshotVersion)),RP(s,u);const m=new Ti(d.target,u,c,d.sequenceNumber);qx(s,m)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){le(Sl,"Failed to raise snapshot:",r),await Sg(t,r)}}async function Sg(t,e,n){if(!so(e))throw e;t.Ea.add(1),await gf(t),t.Ra.set("Offline"),n||(n=()=>_P(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(Sl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vy(t)}))}function MP(t,e){return e().catch((n=>Sg(t,n,e)))}async function yf(t){const e=Ve(t),n=Qa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ol;for(;Iz(e);)try{const s=await oz(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,_z(e,s)}catch(s){await Sg(e,s)}OP(e)&&LP(e)}function Iz(t){return Dl(t)&&t.Ta.length<10}function _z(t,e){t.Ta.push(e);const n=Qa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function OP(t){return Dl(t)&&!Qa(t).x_()&&t.Ta.length>0}function LP(t){Qa(t).start()}async function Cz(t){Qa(t).ra()}async function Nz(t){const e=Qa(t);for(const n of t.Ta)e.ea(n.mutations)}async function Az(t,e,n){const r=t.Ta.shift(),s=Rx.from(r,e,n);await MP(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await yf(t)}async function Pz(t,e){e&&Qa(t).X_&&await(async function(n,r){if((function(s){return u9(s)&&s!==te.ABORTED})(r.code)){const s=n.Ta.shift();Qa(n).B_(),await MP(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r))),await yf(n)}})(t,e),OP(t)&&LP(t)}async function FI(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),le(Sl,"RemoteStore received new credentials");const r=Dl(n);n.Ea.add(3),await gf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vy(n)}async function Rz(t,e){const n=Ve(t);e?(n.Ea.delete(2),await vy(n)):e||(n.Ea.add(2),await gf(n),n.Ra.set("Unknown"))}function Ac(t){return t.ma||(t.ma=(function(e,n,r){const s=Ve(e);return s.sa(),new gz(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:Ez.bind(null,t),t_:Sz.bind(null,t),r_:kz.bind(null,t),H_:Tz.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Gx(t)?Wx(t):t.Ra.set("Unknown")):(await t.ma.stop(),DP(t))}))),t.ma}function Qa(t){return t.fa||(t.fa=(function(e,n,r){const s=Ve(e);return s.sa(),new yz(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Cz.bind(null,t),r_:Pz.bind(null,t),ta:Nz.bind(null,t),na:Az.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await yf(t)):(await t.fa.stop(),t.Ta.length>0&&(le(Sl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,u=new Kx(e,n,o,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hx(t,e){if(Dn("AsyncQueue",`${e}: ${t}`),so(t))return new ce(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sc{static emptySet(e){return new sc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=ad(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VI{constructor(){this.ga=new St(de.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ec{constructor(e,n,r,s,i,o,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((u=>{o.push({type:0,doc:u})})),new Ec(e,n,sc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Mz{constructor(){this.queries=zI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const r=Ve(e),s=r.queries;r.queries=zI(),s.forEach(((i,o)=>{for(const u of o.Sa)u.onError(n)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function zI(){return new Ui((t=>LA(t)),uy)}async function Qx(t,e){const n=Ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Dz,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const u=Hx(o,`Initialization of query '${Wu(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Yx(n)}async function Xx(t,e){const n=Ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Oz(t,e){const n=Ve(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const u of o.Sa)u.Fa(s)&&(r=!0);o.wa=s}}r&&Yx(n)}function Lz(t,e,n){const r=Ve(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Yx(t){t.Ca.forEach((e=>{e.next()}))}var sb,UI;(UI=sb||(sb={})).Ma="default",UI.Cache="cache";class Jx{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sb.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jP{constructor(e){this.key=e}}class FP{constructor(e){this.key=e}}class jz{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=jA(e),this.tu=new sc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new VI,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,g)=>{const v=s.get(m),S=pf(this.query,g)?g:null,_=!!v&&this.mutatedKeys.has(v.key),T=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;v&&S?v.data.isEqual(S.data)?_!==T&&(r.track({type:3,doc:S}),I=!0):this.su(v,S)||(r.track({type:2,doc:S}),I=!0,(c&&this.eu(S,c)>0||d&&this.eu(S,d)<0)&&(u=!0)):!v&&S?(r.track({type:0,doc:S}),I=!0):v&&!S&&(r.track({type:1,doc:v}),I=!0,(c||d)&&(u=!0)),I&&(S?(o=o.add(S),i=T?i.add(m):i.delete(m)):(o=o.delete(m),i=i.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),i=i.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((m,g)=>(function(v,S){const _=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:T})}};return _(v)-_(S)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Ec(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new VI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new FP(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new jP(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ec.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zx="SyncEngine";class Fz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Vz{constructor(e){this.key=e,this.hu=!1}}class zz{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ui((u=>LA(u)),uy),this.Iu=new Map,this.Eu=new Set,this.du=new St(de.comparator),this.Au=new Map,this.Ru=new Fx,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Uz(t,e,n=!0){const r=qP(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await VP(r,e,n,!0),s}async function Bz(t,e){const n=qP(t);await VP(n,e,!0,!1)}async function VP(t,e,n,r){const s=await lz(t.localStore,jr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await $z(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&PP(t.remoteStore,s),u}async function $z(t,e,n,r,s){t.pu=(g,v,S)=>(async function(_,T,I,A){let R=T.view.ru(I);R.Cs&&(R=await DI(_.localStore,T.query,!1).then((({documents:G})=>T.view.ru(G,R))));const O=A&&A.targetChanges.get(T.targetId),z=A&&A.targetMismatches.get(T.targetId)!=null,B=T.view.applyChanges(R,_.isPrimaryClient,O,z);return $I(_,T.targetId,B.au),B.snapshot})(t,g,v,S);const i=await DI(t.localStore,e,!0),o=new jz(e,i.Qs),u=o.ru(i.documents),c=mf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(u,t.isPrimaryClient,c);$I(t,n,d.au);const m=new Fz(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function qz(t,e,n){const r=Ve(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!uy(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await nb(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&$x(r.remoteStore,s.targetId),ib(r,s.targetId)})).catch(Rl)):(ib(r,s.targetId),await nb(r.localStore,s.targetId,!0))}async function Wz(t,e){const n=Ve(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$x(n.remoteStore,r.targetId))}async function Gz(t,e,n){const r=WP(t);try{const s=await(function(i,o){const u=Ve(i),c=rt.now(),d=o.reduce(((v,S)=>v.add(S.key)),We());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let S=pr(),_=We();return u.Ns.getEntries(v,d).next((T=>{S=T,S.forEach(((I,A)=>{A.isValidDocument()||(_=_.add(I))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,S))).next((T=>{m=T;const I=[];for(const A of o){const R=o9(A,m.get(A.key).overlayedDocument);R!=null&&I.push(new Bi(A.key,R,_A(R.value.mapValue),_n.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,I,o)})).next((T=>{g=T;const I=T.applyToLocalDocumentSet(m,_);return u.documentOverlayCache.saveOverlays(v,T.batchId,I)}))})).then((()=>({batchId:g.batchId,changes:VA(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(i,o,u){let c=i.Vu[i.currentUser.toKey()];c||(c=new St(Fe)),c=c.insert(o,u),i.Vu[i.currentUser.toKey()]=c})(r,s.batchId,n),await vf(r,s.changes),await yf(r.remoteStore)}catch(s){const i=Hx(s,"Failed to persist write");n.reject(i)}}async function zP(t,e){const n=Ve(t);try{const r=await iz(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(_e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?_e(o.hu,14607):s.removedDocuments.size>0&&(_e(o.hu,42227),o.hu=!1))})),await vf(n,r,e)}catch(r){await Rl(r)}}function BI(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const u=o.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(i,o){const u=Ve(i);u.onlineState=o;let c=!1;u.queries.forEach(((d,m)=>{for(const g of m.Sa)g.va(o)&&(c=!0)})),c&&Yx(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Kz(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new St(de.comparator);o=o.insert(i,Mt.newNoDocument(i,Ne.min()));const u=We().add(i),c=new fy(Ne.min(),new Map,new St(Fe),o,u);await zP(r,c),r.du=r.du.remove(i),r.Au.delete(e),e1(r)}else await nb(r.localStore,e,!1).then((()=>ib(r,e,n))).catch(Rl)}async function Hz(t,e){const n=Ve(t),r=e.batch.batchId;try{const s=await sz(n.localStore,e);BP(n,r,null),UP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vf(n,s)}catch(s){await Rl(s)}}async function Qz(t,e,n){const r=Ve(t);try{const s=await(function(i,o){const u=Ve(i);return u.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let d;return u.mutationQueue.lookupMutationBatch(c,o).next((m=>(_e(m!==null,37113),d=m.keys(),u.mutationQueue.removeMutationBatch(c,m)))).next((()=>u.mutationQueue.performConsistencyCheck(c))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,o))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d))).next((()=>u.localDocuments.getDocuments(c,d)))}))})(r.localStore,e);BP(r,e,n),UP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vf(r,s)}catch(s){await Rl(s)}}function UP(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function BP(t,e,n){const r=Ve(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function ib(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||$P(t,r)}))}function $P(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&($x(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),e1(t))}function $I(t,e,n){for(const r of n)r instanceof jP?(t.Ru.addReference(r.key,e),Xz(t,r)):r instanceof FP?(le(Zx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||$P(t,r.key)):Se(19791,{wu:r})}function Xz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(Zx,"New document in limbo: "+n),t.Eu.add(r),e1(t))}function e1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new de(at.fromString(e)),r=t.fu.next();t.Au.set(r,new Vz(n)),t.du=t.du.insert(n,r),PP(t.remoteStore,new Ti(jr(ff(n.path)),r,"TargetPurposeLimboResolution",Mr.ce))}}async function vf(t,e,n){const r=Ve(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{o.push(r.pu(c,e,n).then((d=>{var m;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(d){s.push(d);const g=Ux.As(c.targetId,d);i.push(g)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(u,c){const d=Ve(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Q.forEach(c,(g=>Q.forEach(g.Es,(v=>d.persistence.referenceDelegate.addReference(m,g.targetId,v))).next((()=>Q.forEach(g.ds,(v=>d.persistence.referenceDelegate.removeReference(m,g.targetId,v)))))))))}catch(m){if(!so(m))throw m;le(Bx,"Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const v=d.Ms.get(g),S=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(g,_)}}})(r.localStore,i))}async function Yz(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){le(Zx,"User change. New user:",e.toKey());const r=await IP(n.localStore,e);n.currentUser=e,(function(s,i){s.mu.forEach((o=>{o.forEach((u=>{u.reject(new ce(te.CANCELLED,i))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vf(n,r.Ls)}}function Jz(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return We().add(r.key);{let s=We();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const u=n.Tu.get(o);s=s.unionWith(u.view.nu)}return s}}function qP(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kz.bind(null,e),e.Pu.H_=Oz.bind(null,e.eventManager),e.Pu.yu=Lz.bind(null,e.eventManager),e}function WP(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qz.bind(null,e),e}class $d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TP(this.persistence,new kP,e.initialUser,this.serializer)}Cu(e){return new Vx(gy.mi,this.serializer)}Du(e){return new CP}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$d.provider={build:()=>new $d};class Zz extends $d{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_e(this.persistence.referenceDelegate instanceof Eg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wP(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new Vx((r=>Eg.mi(r,n)),this.serializer)}}class eU extends $d{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await WP(this.xu.syncEngine),await yf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return TP(this.persistence,new kP,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new wP(r,e.asyncQueue,n)}Mu(e,n){const r=new aV(n,this.persistence);return new iV(e.asyncQueue,r)}Cu(e){const n=ez(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new zx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,mz(),jm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new CP}}class kg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yz.bind(null,this.syncEngine),await Rz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Mz})()}createDatastore(e){const n=yy(e.databaseInfo.databaseId),r=(function(s){return new pz(s)})(e.databaseInfo);return(function(s,i,o,u){return new wz(s,i,o,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(n,r,s,i,o){return new xz(n,r,s,i,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>BI(this.syncEngine,n,0)),(function(){return LI.v()?new LI:new cz})())}createSyncEngine(e,n){return(function(r,s,i,o,u,c,d){const m=new zz(r,s,i,o,u,c);return d&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const s=Ve(r);le(Sl,"RemoteStore shutting down."),s.Ea.add(5),await gf(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}kg.provider={build:()=>new kg};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Dn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xa="FirestoreClient";class tU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=gn.UNAUTHENTICATED,this.clientId=wx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{le(Xa,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(le(Xa,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function P0(t,e){t.asyncQueue.verifyOperationInProgress(),le(Xa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await IP(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function qI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nU(t);le(Xa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>FI(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>FI(e.remoteStore,s))),t._onlineComponents=e}async function nU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(Xa,"Using user provided OfflineComponentProvider");try{await P0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===te.FAILED_PRECONDITION||r.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;yl("Error using user provided cache. Falling back to memory cache: "+n),await P0(t,new $d)}}else le(Xa,"Using default OfflineComponentProvider"),await P0(t,new Zz(void 0));return t._offlineComponents}async function GP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(Xa,"Using user provided OnlineComponentProvider"),await qI(t,t._uninitializedComponentsProvider._online)):(le(Xa,"Using default OnlineComponentProvider"),await qI(t,new kg))),t._onlineComponents}function rU(t){return GP(t).then((e=>e.syncEngine))}async function Tg(t){const e=await GP(t),n=e.eventManager;return n.onListen=Uz.bind(null,e.syncEngine),n.onUnlisten=qz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Bz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Wz.bind(null,e.syncEngine),n}function sU(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,o,u,c){const d=new t1({next:g=>{d.Nu(),i.enqueueAndForget((()=>Xx(s,m)));const v=g.docs.has(o);!v&&g.fromCache?c.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new Jx(ff(o.path),d,{includeMetadataChanges:!0,qa:!0});return Qx(s,m)})(await Tg(t),t.asyncQueue,e,n,r))),r.promise}function iU(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,o,u,c){const d=new t1({next:g=>{d.Nu(),i.enqueueAndForget((()=>Xx(s,m))),g.fromCache&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new Jx(o,d,{includeMetadataChanges:!0,qa:!0});return Qx(s,m)})(await Tg(t),t.asyncQueue,e,n,r))),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function KP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const WI=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HP="firestore.googleapis.com",GI=!0;class KI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HP,this.ssl=GI}else this.host=e.host,this.ssl=e.ssl??GI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j9)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KP(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new q6;switch(n.type){case"firstParty":return new H6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=WI.get(e);n&&(le("ComponentProvider","Removing Datastore"),WI.delete(e),n.terminate())})(this),Promise.resolve()}}function aU(t,e,n,r={}){var s;t=Ln(t,wy);const i=Nl(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(ix(`https://${c}`),ax("Firestore",!0)),o.host!==HP&&o.host!==c&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:c,ssl:i,emulatorOptions:r};if(!Ga(d,u)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=gn.MOCK_USER;else{m=nN(r.mockUserToken,(s=t._app)==null?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new gn(v)}t._authCredentials=new W6(new eA(m,g))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Ml=class QP{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new QP(this.firestore,e,this._query)}};class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(cf(n,Ot._jsonSchema))return new Ot(e,r||null,new de(at.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Xt("string",Ot._jsonSchemaVersion),referencePath:Xt("string")};class qa extends Ml{constructor(e,n,r){super(e,n,ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new de(e))}withConverter(e){return new qa(this.firestore,e,this._path)}}function An(t,e,...n){if(t=Nt(t),nA("collection","path",e),t instanceof wy){const r=at.fromString(e,...n);return jT(r),new qa(t,null,r)}{if(!(t instanceof Ot||t instanceof qa))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return jT(r),new qa(t.firestore,null,r)}}function Xs(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=wx.newId()),nA("doc","path",e),t instanceof wy){const r=at.fromString(e,...n);return LT(r),new Ot(t,null,new de(r))}{if(!(t instanceof Ot||t instanceof qa))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return LT(r),new Ot(t.firestore,t instanceof qa?t.converter:null,new de(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HI="AsyncQueue";class QI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NP(this,"async_queue_retry"),this._c=()=>{const r=jm();r&&le(HI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!so(e))throw e;le(HI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Dn("INTERNAL UNHANDLED ERROR: ",XI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Kx.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Se(47125,{Pc:XI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function XI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function YI(t){return(function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Gs extends wy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new QI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QI(e),this._firestoreClient=void 0,await e}}}function by(t,e){const n=typeof t=="object"?t:Xg(),r=typeof t=="string"?t:fg,s=no(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Z2("firestore");i&&aU(s,...i)}return s}function xy(t){if(t._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XP(t),t._firestoreClient}function XP(t){var e,n,r;const s=t._freezeSettings(),i=(function(o,u,c,d){return new OV(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,KP(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,((e=t._app)==null?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||(n=s.localCache)!=null&&n._offlineComponentProvider&&(r=s.localCache)!=null&&r._onlineComponentProvider&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new tU(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}})(t._componentsProvider))}function oU(t,e){yl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return lU(t,kg.provider,{build:r=>new eU(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function lU(t,e,n){if((t=Ln(t,Gs))._firestoreClient||t._terminated)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ce(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},XP(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dr(Yt.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dr(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cf(e,Dr._jsonSchema))return Dr.fromBase64String(e.bytes)}}Dr._jsonSchemaVersion="firestore/bytes/1.0",Dr._jsonSchema={type:Xt("string",Dr._jsonSchemaVersion),bytes:Xt("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ey{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sy{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vs._jsonSchemaVersion}}static fromJSON(e){if(cf(e,Vs._jsonSchema))return new Vs(e.latitude,e.longitude)}}Vs._jsonSchemaVersion="firestore/geoPoint/1.0",Vs._jsonSchema={type:Xt("string",Vs._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cf(e,zs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new zs(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zs._jsonSchemaVersion="firestore/vectorValue/1.0",zs._jsonSchema={type:Xt("string",zs._jsonSchemaVersion),vectorValues:Xt("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uU=/^__.*__$/;class cU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nc(e,this.data,n,this.fieldTransforms)}}class YP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class n1{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new n1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ig(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JP(this.Ac)&&uU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yy(e)}Cc(e,n,r,s=!1){return new n1({Ac:e,methodName:n,Dc:r,path:It.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ky(t){const e=t._freezeSettings(),n=yy(t._databaseId);return new hU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZP(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);s1("Data must be an object, but it was:",o,r);const u=eR(r,o);let c,d;if(i.merge)c=new Yn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const m=[];for(const g of i.mergeFields){const v=ab(e,g,n);if(!o.contains(v))throw new ce(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);nR(m,v)||m.push(v)}c=new Yn(m),d=o.fieldTransforms.filter((g=>c.covers(g.field)))}else c=null,d=o.fieldTransforms;return new cU(new In(u),c,d)}class Ty extends Sy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ty}}class r1 extends Sy{_toFieldTransform(e){return new GA(e.path,new vc)}isEqual(e){return e instanceof r1}}function dU(t,e,n,r){const s=t.Cc(1,e,n);s1("Data must be an object, but it was:",s,r);const i=[],o=In.empty();io(r,((c,d)=>{const m=i1(e,c,n);d=Nt(d);const g=s.yc(m);if(d instanceof Ty)i.push(m);else{const v=wf(d,g);v!=null&&(i.push(m),o.set(m,v))}}));const u=new Yn(i);return new YP(o,u,s.fieldTransforms)}function fU(t,e,n,r,s,i){const o=t.Cc(1,e,n),u=[ab(e,r,n)],c=[s];if(i.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)u.push(ab(e,i[v])),c.push(i[v+1]);const d=[],m=In.empty();for(let v=u.length-1;v>=0;--v)if(!nR(d,u[v])){const S=u[v];let _=c[v];_=Nt(_);const T=o.yc(S);if(_ instanceof Ty)d.push(S);else{const I=wf(_,T);I!=null&&(d.push(S),m.set(S,I))}}const g=new Yn(d);return new YP(m,g,o.fieldTransforms)}function pU(t,e,n,r=!1){return wf(n,t.Cc(r?4:3,e))}function wf(t,e){if(tR(t=Nt(t)))return s1("Unsupported field value:",e,t),eR(t,e);if(t instanceof Sy)return(function(n,r){if(!JP(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const s=[];let i=0;for(const o of n){let u=wf(o,r.wc(i));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),i++}return{arrayValue:{values:s}}})(t,e)}return(function(n,r){if((n=Nt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return t9(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=rt.fromDate(n);return{timestampValue:xc(r.serializer,s)}}if(n instanceof rt){const s=new rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xc(r.serializer,s)}}if(n instanceof Vs)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Dr)return{bytesValue:ZA(r.serializer,n._byteString)};if(n instanceof Ot){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ox(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof zs)return(function(s,i){return{mapValue:{fields:{[_x]:{stringValue:Cx},[pc]:{arrayValue:{values:s.toArray().map((o=>{if(typeof o!="number")throw i.Sc("VectorValues must only contain numeric values.");return Ax(i.serializer,o)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${ty(n)}`)})(t,e)}function eR(t,e){const n={};return vA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,((r,s)=>{const i=wf(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function tR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Vs||t instanceof Dr||t instanceof Ot||t instanceof Sy||t instanceof zs)}function s1(t,e,n){if(!tR(n)||!rA(n)){const r=ty(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ab(t,e,n){if((e=Nt(e))instanceof Ey)return e._internalPath;if(typeof e=="string")return i1(t,e);throw Ig("Field path arguments must be of type string or ",t,!1,void 0,n)}const mU=new RegExp("[~\\*/\\[\\]]");function i1(t,e,n){if(e.search(mU)>=0)throw Ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ey(...e.split("."))._internalPath}catch{throw Ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ig(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ce(te.INVALID_ARGUMENT,u+t+c)}function nR(t,e){return t.some((n=>n.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Iy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gU extends rR{data(){return super.data()}}function Iy(t,e){return typeof e=="string"?i1(t,e):e instanceof Ey?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a1{}class o1 extends a1{}function is(t,e,...n){let r=[];e instanceof a1&&r.push(e),r=r.concat(n),(function(s){const i=s.filter((u=>u instanceof l1)).length,o=s.filter((u=>u instanceof _y)).length;if(i>1||i>0&&o>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class _y extends o1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _y(e,n,r)}_apply(e){const n=this._parse(e);return iR(e._query,n),new Ml(e.firestore,e.converter,Hw(e._query,n))}_parse(e){const n=ky(e.firestore);return(function(r,s,i,o,u,c,d){let m;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){ZI(d,c);const g=[];for(const v of d)g.push(JI(o,r,v));m={arrayValue:{values:g}}}else m=JI(o,r,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||ZI(d,c),m=pU(i,s,d,c==="in"||c==="not-in");return He.create(u,c,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Or(t,e,n){const r=e,s=Iy("where",t);return _y._create(s,r,n)}class l1 extends a1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new l1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:lt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,s){let i=r;const o=s.getFlattenedFilters();for(const u of o)iR(i,u),i=Hw(i,u)})(e._query,n),new Ml(e.firestore,e.converter,Hw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class u1 extends o1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new u1(e,n)}_apply(e){const n=(function(r,s,i){if(r.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ud(s,i)})(e._query,this._field,this._direction);return new Ml(e.firestore,e.converter,(function(r,s){const i=r.explicitOrderBy.concat([s]);return new Cc(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function Pc(t,e="asc"){const n=e,r=Iy("orderBy",t);return u1._create(r,n)}class c1 extends o1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new c1(e,n,r)}_apply(e){return new Ml(e.firestore,e.converter,gg(e._query,this._limit,this._limitType))}}function h1(t){return tV("limit",t),c1._create("limit",t,"F")}function JI(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OA(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!de.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vd(t,new de(r))}if(n instanceof Ot)return Vd(t,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ty(n)}.`)}function ZI(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iR(t,e){const n=(function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yU{convertValue(e,n="none"){switch(Ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return io(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)==null?void 0:n[pc].arrayValue)==null?void 0:r.values)==null?void 0:s.map((o=>xt(o.doubleValue)));return new zs(i)}convertGeoPoint(e){return new Vs(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=oy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jd(e));default:return null}}convertTimestamp(e){const n=Pi(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);_e(uP(r),9688,{name:e});const s=new vl(r.get(1),r.get(3)),i=new de(r.popFirst(5));return s.isEqual(n)||Dn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ud{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cl extends rR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Iy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=cl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),n}}cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",cl._jsonSchema={type:Xt("string",cl._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Fm extends cl{data(e={}){return super.data(e)}}class hl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ud(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Fm(this._firestore,this._userDataWriter,r.key,r,new ud(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map((o=>{const u=new Fm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ud(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:i++}}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const u=new Fm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ud(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),d=i.indexOf(o.doc.key)),{type:vU(o.type),doc:u,oldIndex:c,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oR(t){t=Ln(t,Ot);const e=Ln(t.firestore,Gs);return sU(xy(e),t._key).then((n=>uR(e,t,n)))}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:Xt("string",hl._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class d1 extends yU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function as(t){t=Ln(t,Ml);const e=Ln(t.firestore,Gs),n=xy(e),r=new d1(e);return sR(t._query),iU(n,t._query).then((s=>new hl(e,r,t,s)))}function Cy(t,e,n){t=Ln(t,Ot);const r=Ln(t.firestore,Gs),s=aR(t.converter,e,n);return Ay(r,[ZP(ky(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,_n.none())])}function Ny(t,e,n,...r){t=Ln(t,Ot);const s=Ln(t.firestore,Gs),i=ky(s);let o;return o=typeof(e=Nt(e))=="string"||e instanceof Ey?fU(i,"updateDoc",t._key,e,n,r):dU(i,"updateDoc",t._key,e),Ay(s,[o.toMutation(t._key,_n.exists(!0))])}function hne(t){return Ay(Ln(t.firestore,Gs),[new dy(t._key,_n.none())])}function f1(t,e){const n=Ln(t.firestore,Gs),r=Xs(t),s=aR(t.converter,e);return Ay(n,[ZP(ky(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then((()=>r))}function lR(t,...e){var n,r,s;t=Nt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||YI(e[o])||(i=e[o++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(YI(e[o])){const g=e[o];e[o]=(n=g.next)==null?void 0:n.bind(g),e[o+1]=(r=g.error)==null?void 0:r.bind(g),e[o+2]=(s=g.complete)==null?void 0:s.bind(g)}let c,d,m;if(t instanceof Ot)d=Ln(t.firestore,Gs),m=ff(t._key.path),c={next:g=>{e[o]&&e[o](uR(d,t,g))},error:e[o+1],complete:e[o+2]};else{const g=Ln(t,Ml);d=Ln(g.firestore,Gs),m=g._query;const v=new d1(d);c={next:S=>{e[o]&&e[o](new hl(d,v,g,S))},error:e[o+1],complete:e[o+2]},sR(t._query)}return(function(g,v,S,_){const T=new t1(_),I=new Jx(v,T,S);return g.asyncQueue.enqueueAndForget((async()=>Qx(await Tg(g),I))),()=>{T.Nu(),g.asyncQueue.enqueueAndForget((async()=>Xx(await Tg(g),I)))}})(xy(d),m,u,c)}function Ay(t,e){return(function(n,r){const s=new Fs;return n.asyncQueue.enqueueAndForget((async()=>Gz(await rU(n),r,s))),s.promise})(xy(t),e)}function uR(t,e,n){const r=n.docs.get(e._key),s=new d1(t);return new cl(t,s,e._key,r,new ud(n.hasPendingWrites,n.fromCache),e.converter)}function Mn(){return new r1("serverTimestamp")}(function(t,e=!0){(function(n){_c=n})(Pl),rs(new zr("firestore",((n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new Gs(new G6(n.getProvider("auth-internal")),new Q6(i,n.getProvider("app-check-internal")),(function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(u.options.projectId,c)})(i,r),i);return s={useFetchStreams:e,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Zn(RT,DT,t),Zn(RT,DT,"esm2020")})();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cR="firebasestorage.googleapis.com",wU="storageBucket",bU=120*1e3,xU=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ys extends Ur{constructor(e,n,r=0){super(R0(e),`Firebase Storage: ${n} (${R0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ys.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return R0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ks;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ks||(Ks={}));function R0(t){return"storage/"+t}function EU(){const t="An unknown error occurred, please check the error payload for server response.";return new Ys(Ks.UNKNOWN,t)}function SU(){return new Ys(Ks.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kU(){return new Ys(Ks.CANCELED,"User canceled the upload/download.")}function TU(t){return new Ys(Ks.INVALID_URL,"Invalid URL '"+t+"'.")}function IU(t){return new Ys(Ks.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function e_(t){return new Ys(Ks.INVALID_ARGUMENT,t)}function hR(){return new Ys(Ks.APP_DELETED,"The Firebase app was deleted.")}function _U(t){return new Ys(Ks.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ns{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ns.makeFromUrl(e,n)}catch{return new ns(e,"")}if(r.path==="")return r;throw IU(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(O){O.path_=decodeURIComponent(O.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",S=new RegExp(`^https?://${g}/${m}/b/${s}/o${v}`,"i"),_={bucket:1,path:3},T=n===cR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",A=new RegExp(`^https?://${T}/${s}/${I}`,"i"),R=[{regex:u,indices:c,postModify:i},{regex:S,indices:_,postModify:d},{regex:A,indices:{bucket:1,path:2},postModify:d}];for(let O=0;O<R.length;O++){const z=R[O],B=z.regex.exec(e);if(B){const G=B[z.indices.bucket];let D=B[z.indices.path];D||(D=""),r=new ns(G,D),z.postModify(r);break}}if(r==null)throw TU(e);return r}}class CU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function NU(t,e,n){let r=1,s=null,i=null,o=!1,u=0;function c(){return u===2}let d=!1;function m(...I){d||(d=!0,e.apply(null,I))}function g(I){s=setTimeout(()=>{s=null,t(S,c())},I)}function v(){i&&clearTimeout(i)}function S(I,...A){if(d){v();return}if(I){v(),m.call(null,I,...A);return}if(c()||o){v(),m.call(null,I,...A);return}r<64&&(r*=2);let R;u===1?(u=2,R=0):R=(r+Math.random())*1e3,g(R)}let _=!1;function T(I){_||(_=!0,v(),!d&&(s!==null?(I||(u=2),clearTimeout(s),g(0)):I||(u=1)))}return g(0),i=setTimeout(()=>{o=!0,T(!0)},n),T}function AU(t){t(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function PU(t){return t!==void 0}function t_(t,e,n,r){if(r<e)throw e_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw e_(`Invalid value for '${t}'. Expected ${n} or less.`)}function RU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var _g;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_g||(_g={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function DU(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MU{constructor(e,n,r,s,i,o,u,c,d,m,g,v=!0,S=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=m,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,T)=>{this.resolve_=_,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new rm(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const u=i.getErrorCode()===_g.NO_ERROR,c=i.getStatus();if(!u||DU(c,this.additionalRetryCodes_)&&this.retry){const m=i.getErrorCode()===_g.ABORT;r(!1,new rm(!1,null,m));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new rm(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());PU(c)?i(c):i()}catch(c){o(c)}else if(u!==null){const c=EU();c.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,c)):o(c)}else if(s.canceled){const c=this.appDelete_?hR():kU();o(c)}else{const c=SU();o(c)}};this.canceled_?n(!1,new rm(!1,null,!0)):this.backoffId_=NU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&AU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function OU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function LU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function FU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function VU(t,e,n,r,s,i,o=!0,u=!1){const c=RU(t.urlParams),d=t.url+c,m=Object.assign({},t.headers);return jU(m,e),OU(m,n),LU(m,i),FU(m,r),new MU(d,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,u)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function UU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cg{constructor(e,n){this._service=e,n instanceof ns?this._location=n:this._location=ns.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Cg(e,n)}get root(){const e=new ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UU(this._location.path)}get storage(){return this._service}get parent(){const e=zU(this._location.path);if(e===null)return null;const n=new ns(this._location.bucket,e);return new Cg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _U(e)}}function n_(t,e){const n=e==null?void 0:e[wU];return n==null?null:ns.makeFromBucketSpec(n,t)}function BU(t,e,n,r={}){t.host=`${e}:${n}`;const s=Nl(e);s&&(ix(`https://${t.host}/b`),ax("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:nN(i,t.app.options.projectId))}class $U{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=cR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bU,this._maxUploadRetryTime=xU,this._requests=new Set,s!=null?this._bucket=ns.makeFromBucketSpec(s,this._host):this._bucket=n_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ns.makeFromBucketSpec(this._url,e):this._bucket=n_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){t_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){t_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cg(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new CU(hR());{const o=VU(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const r_="@firebase/storage",s_="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dR="storage";function qU(t=Xg(),e){t=Nt(t);const n=no(t,dR).getImmediate({identifier:e}),r=Z2("storage");return r&&WU(n,...r),n}function WU(t,e,n,r={}){BU(t,e,n,r)}function GU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new $U(n,r,s,e,Pl)}function KU(){rs(new zr(dR,GU,"PUBLIC").setMultipleInstances(!0)),Zn(r_,s_,""),Zn(r_,s_,"esm2020")}KU();const fR="@firebase/installations",p1="0.6.19";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pR=1e4,mR=`w:${p1}`,gR="FIS_v2",HU="https://firebaseinstallations.googleapis.com/v1",QU=3600*1e3,XU="installations",YU="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},kl=new Al(XU,YU,JU);function yR(t){return t instanceof Ur&&t.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vR({projectId:t}){return`${HU}/projects/${t}/installations`}function wR(t){return{token:t.token,requestStatus:2,expiresIn:eB(t.expiresIn),creationTime:Date.now()}}async function bR(t,e){const n=(await e.json()).error;return kl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function xR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ZU(t,{refreshToken:e}){const n=xR(t);return n.append("Authorization",tB(e)),n}async function ER(t){const e=await t();return e.status>=500&&e.status<600?t():e}function eB(t){return Number(t.replace("s","000"))}function tB(t){return`${gR} ${t}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function nB({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=vR(t),s=xR(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:gR,appId:t.appId,sdkVersion:mR},u={method:"POST",headers:s,body:JSON.stringify(o)},c=await ER(()=>fetch(r,u));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:wR(d.authToken)}}else throw await bR("Create Installation",c)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function SR(t){return new Promise(e=>{setTimeout(e,t)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sB=/^[cdef][\w-]{21}$/,ob="";function iB(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=aB(t);return sB.test(e)?e:ob}catch{return ob}}function aB(t){return rB(t).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Py(t){return`${t.appName}!${t.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kR=new Map;function TR(t,e){const n=Py(t);IR(n,e),oB(n,e)}function IR(t,e){const n=kR.get(t);if(n)for(const r of n)r(e)}function oB(t,e){const n=lB();n&&n.postMessage({key:t,fid:e}),uB()}let nl=null;function lB(){return!nl&&"BroadcastChannel"in self&&(nl=new BroadcastChannel("[Firebase] FID Change"),nl.onmessage=t=>{IR(t.data.key,t.data.fid)}),nl}function uB(){kR.size===0&&nl&&(nl.close(),nl=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cB="firebase-installations-database",hB=1,Tl="firebase-installations-store";let D0=null;function m1(){return D0||(D0=uN(cB,hB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Tl)}}})),D0}async function Ng(t,e){const n=Py(t),r=(await m1()).transaction(Tl,"readwrite"),s=r.objectStore(Tl),i=await s.get(n);return await s.put(e,n),await r.done,(!i||i.fid!==e.fid)&&TR(t,e.fid),e}async function _R(t){const e=Py(t),n=(await m1()).transaction(Tl,"readwrite");await n.objectStore(Tl).delete(e),await n.done}async function Ry(t,e){const n=Py(t),r=(await m1()).transaction(Tl,"readwrite"),s=r.objectStore(Tl),i=await s.get(n),o=e(i);return o===void 0?await s.delete(n):await s.put(o,n),await r.done,o&&(!i||i.fid!==o.fid)&&TR(t,o.fid),o}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function g1(t){let e;const n=await Ry(t.appConfig,r=>{const s=dB(r),i=fB(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===ob?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function dB(t){const e=t||{fid:iB(),registrationStatus:0};return CR(e)}function fB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(kl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=pB(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:mB(t)}:{installationEntry:e}}async function pB(t,e){try{const n=await nB(t,e);return Ng(t.appConfig,n)}catch(n){throw yR(n)&&n.customData.serverCode===409?await _R(t.appConfig):await Ng(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function mB(t){let e=await i_(t.appConfig);for(;e.registrationStatus===1;)await SR(100),e=await i_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await g1(t);return r||n}return e}function i_(t){return Ry(t,e=>{if(!e)throw kl.create("installation-not-found");return CR(e)})}function CR(t){return gB(t)?{fid:t.fid,registrationStatus:0}:t}function gB(t){return t.registrationStatus===1&&t.registrationTime+pR<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function yB({appConfig:t,heartbeatServiceProvider:e},n){const r=vB(t,n),s=ZU(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:mR,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(o)},c=await ER(()=>fetch(r,u));if(c.ok){const d=await c.json();return wR(d)}else throw await bR("Generate Auth Token",c)}function vB(t,{fid:e}){return`${vR(t)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function y1(t,e=!1){let n;const r=await Ry(t.appConfig,s=>{if(!NR(s))throw kl.create("not-registered");const i=s.authToken;if(!e&&xB(i))return s;if(i.requestStatus===1)return n=wB(t,e),s;{if(!navigator.onLine)throw kl.create("app-offline");const o=SB(s);return n=bB(t,o),o}});return n?await n:r.authToken}async function wB(t,e){let n=await a_(t.appConfig);for(;n.authToken.requestStatus===1;)await SR(100),n=await a_(t.appConfig);const r=n.authToken;return r.requestStatus===0?y1(t,e):r}function a_(t){return Ry(t,e=>{if(!NR(e))throw kl.create("not-registered");const n=e.authToken;return kB(n)?{...e,authToken:{requestStatus:0}}:e})}async function bB(t,e){try{const n=await yB(t,e),r={...e,authToken:n};return await Ng(t.appConfig,r),n}catch(n){if(yR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _R(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Ng(t.appConfig,r)}throw n}}function NR(t){return t!==void 0&&t.registrationStatus===2}function xB(t){return t.requestStatus===2&&!EB(t)}function EB(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+QU}function SB(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function kB(t){return t.requestStatus===1&&t.requestTime+pR<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function TB(t){const e=t,{installationEntry:n,registrationPromise:r}=await g1(e);return r?r.catch(console.error):y1(e).catch(console.error),n.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function IB(t,e=!1){const n=t;return await _B(n),(await y1(n,e)).token}async function _B(t){const{registrationPromise:e}=await g1(t);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function CB(t){if(!t||!t.options)throw M0("App Configuration");if(!t.name)throw M0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw M0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function M0(t){return kl.create("missing-app-config-values",{valueName:t})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AR="installations",NB="installations-internal",AB=t=>{const e=t.getProvider("app").getImmediate(),n=CB(e),r=no(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},PB=t=>{const e=t.getProvider("app").getImmediate(),n=no(e,AR).getImmediate();return{getId:()=>TB(n),getToken:r=>IB(n,r)}};function RB(){rs(new zr(AR,AB,"PUBLIC")),rs(new zr(NB,PB,"PRIVATE"))}RB();Zn(fR,p1);Zn(fR,p1,"esm2020");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ag="analytics",DB="firebase_id",MB="origin",OB=60*1e3,LB="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",v1="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fn=new Qg("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jB={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mr=new Al("analytics","Analytics",jB);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function FB(t){if(!t.startsWith(v1)){const e=mr.create("invalid-gtag-resource",{gtagURL:t});return Fn.warn(e.message),""}return t}function PR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function VB(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function zB(t,e){const n=VB("firebase-js-sdk-policy",{createScriptURL:FB}),r=document.createElement("script"),s=`${v1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function UB(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function BB(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await PR(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(u){Fn.error(u)}t("config",s,i)}async function $B(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const u=await PR(n);for(const c of o){const d=u.find(g=>g.measurementId===c),m=d&&e[d.appId];if(m)i.push(m);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Fn.error(i)}}function qB(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[u,c]=o;await $B(t,e,n,u,c)}else if(i==="config"){const[u,c]=o;await BB(t,e,n,r,u,c)}else if(i==="consent"){const[u,c]=o;t("consent",u,c)}else if(i==="get"){const[u,c,d]=o;t("get",u,c,d)}else if(i==="set"){const[u]=o;t("set",u)}else t(i,...o)}catch(u){Fn.error(u)}}return s}function WB(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=qB(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function GB(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(v1)&&n.src.includes(t))return n;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const KB=30,HB=1e3;class QB{constructor(e={},n=HB){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const RR=new QB;function XB(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function YB(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:XB(r)},i=LB.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let u="";try{const c=await o.json();(e=c.error)!=null&&e.message&&(u=c.error.message)}catch{}throw mr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function JB(t,e=RR,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw mr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw mr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new t8;return setTimeout(async()=>{u.abort()},OB),DR({appId:r,apiKey:s,measurementId:i},o,u,e)}async function DR(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=RR){var i;const{appId:o,measurementId:u}=t;try{await ZB(r,e)}catch(c){if(u)return Fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:u};throw c}try{const c=await YB(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!e8(d)){if(s.deleteThrottleMetadata(o),u)return Fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:u};throw c}const m=Number((i=d==null?void 0:d.customData)==null?void 0:i.httpStatus)===503?rT(n,s.intervalMillis,KB):rT(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return s.setThrottleMetadata(o,g),Fn.debug(`Calling attemptFetch again in ${m} millis`),DR(t,g,r,s)}}function ZB(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function e8(t){if(!(t instanceof Ur)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class t8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function n8(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function r8(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function s8(){if(Hg())try{await lx()}catch(t){return Fn.warn(mr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Fn.warn(mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function i8(t,e,n,r,s,i,o){const u=JB(t);u.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Fn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Fn.error(v)),e.push(u);const c=s8().then(v=>{if(v)return r.getId()}),[d,m]=await Promise.all([u,c]);GB(i)||zB(i,d.measurementId),s("js",new Date);const g=(o==null?void 0:o.config)??{};return g[MB]="firebase",g.update=!0,m!=null&&(g[DB]=m),s("config",d.measurementId,g),d.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class a8{constructor(e){this.app=e}_delete(){return delete ic[this.app.options.appId],Promise.resolve()}}let ic={},o_=[];const l_={};let O0="dataLayer",o8="gtag",u_,w1,c_=!1;function l8(){const t=[];if(ox()&&t.push("This is a browser extension environment."),aN()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=mr.create("invalid-analytics-context",{errorInfo:e});Fn.warn(n.message)}}function u8(t,e,n){l8();const r=t.options.appId;if(!r)throw mr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mr.create("no-api-key");if(ic[r]!=null)throw mr.create("already-exists",{id:r});if(!c_){UB(O0);const{wrappedGtag:s,gtagCore:i}=WB(ic,o_,l_,O0,o8);w1=s,u_=i,c_=!0}return ic[r]=i8(t,o_,l_,e,u_,O0,n),new a8(t)}function MR(t=Xg()){t=Nt(t);const e=no(t,Ag);return e.isInitialized()?e.getImmediate():c8(t)}function c8(t,e={}){const n=no(t,Ag);if(n.isInitialized()){const r=n.getImmediate();if(Ga(e,n.getOptions()))return r;throw mr.create("already-initialized")}return n.initialize({options:e})}async function OR(){if(ox()||!aN()||!Hg())return!1;try{return await lx()}catch{return!1}}function h8(t,e,n){t=Nt(t),r8(w1,ic[t.app.options.appId],e,n).catch(r=>Fn.error(r))}function LR(t,e,n,r){t=Nt(t),n8(w1,ic[t.app.options.appId],e,n,r).catch(s=>Fn.error(s))}const h_="@firebase/analytics",d_="0.10.19";function d8(){rs(new zr(Ag,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return u8(r,s,n)},"PUBLIC")),rs(new zr("analytics-internal",t,"PRIVATE")),Zn(h_,d_),Zn(h_,d_,"esm2020");function t(e){try{const n=e.getProvider(Ag).getImmediate();return{logEvent:(r,s,i)=>LR(n,r,s,i),setUserProperties:(r,s)=>h8(n,r,s)}}catch(n){throw mr.create("interop-component-reg-failed",{reason:n})}}}d8();const f8={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},os=cN(f8),L0=ey(os),p8=by(os);qU(os);try{oU(p8).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence: Not supported in this browser")})}catch(t){console.warn("Firestore persistence init failed:",t)}let jR=null;try{OR().then(t=>{t&&(jR=MR(os))}).catch(()=>{})}catch{}const m8=jR;/**
* react-router v7.9.5
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var f_="popstate";function g8(t={}){function e(r,s){let{pathname:i,search:o,hash:u}=r.location;return lb("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:qd(s)}return v8(e,n,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y8(){return Math.random().toString(36).substring(2,10)}function p_(t,e){return{usr:t.state,key:t.key,idx:e}}function lb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rc(e):e,state:n,key:e&&e.key||r||y8()}}function qd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function v8(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u="POP",c=null,d=m();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function m(){return(o.state||{idx:null}).idx}function g(){u="POP";let I=m(),A=I==null?null:I-d;d=I,c&&c({action:u,location:T.location,delta:A})}function v(I,A){u="PUSH";let R=lb(T.location,I,A);d=m()+1;let O=p_(R,d),z=T.createHref(R);try{o.pushState(O,"",z)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(z)}i&&c&&c({action:u,location:T.location,delta:1})}function S(I,A){u="REPLACE";let R=lb(T.location,I,A);d=m();let O=p_(R,d),z=T.createHref(R);o.replaceState(O,"",z),i&&c&&c({action:u,location:T.location,delta:0})}function _(I){return w8(I)}let T={get action(){return u},get location(){return t(s,o)},listen(I){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(f_,g),c=I,()=>{s.removeEventListener(f_,g),c=null}},createHref(I){return e(s,I)},createURL:_,encodeLocation(I){let A=_(I);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:S,go(I){return o.go(I)}};return T}function w8(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:qd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function FR(t,e,n="/"){return b8(t,e,n,!1)}function b8(t,e,n,r){let s=typeof e=="string"?Rc(e):e,i=Di(s.pathname||"/",n);if(i==null)return null;let o=VR(t);x8(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let d=R8(i);u=A8(o[c],d,r)}return u}function VR(t,e=[],n=[],r="",s=!1){let i=(o,u,c=s,d)=>{let m={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&c)return;Ct(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=Ci([r,m.relativePath]),v=n.concat(m);o.children&&o.children.length>0&&(Ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),VR(o.children,e,v,g,c)),!(o.path==null&&!o.index)&&e.push({path:g,score:C8(g,o.index),routesMeta:v})};return t.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,u);else for(let d of zR(o.path))i(o,u,!0,d)}),e}function zR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=zR(r.join("/")),u=[];return u.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function x8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:N8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var E8=/^:[\w-]+$/,S8=3,k8=2,T8=1,I8=10,_8=-2,m_=t=>t==="*";function C8(t,e){let n=t.split("/"),r=n.length;return n.some(m_)&&(r+=_8),e&&(r+=k8),n.filter(s=>!m_(s)).reduce((s,i)=>s+(E8.test(i)?S8:i===""?T8:I8),r)}function N8(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function A8(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,m=i==="/"?e:e.slice(i.length)||"/",g=Pg({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),v=c.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=Pg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Ci([i,g.pathname]),pathnameBase:L8(Ci([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=Ci([i,g.pathnameBase]))}return o}function Pg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=P8(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:m},g)=>{if(d==="*"){let S=u[g]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const v=u[g];return m&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function P8(t,e=!1,n=!0){Hs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function R8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Di(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function D8(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Rc(t):t;return{pathname:n?n.startsWith("/")?n:M8(n,e):e,search:j8(r),hash:F8(s)}}function M8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function j0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function UR(t){let e=O8(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function BR(t,e,n,r=!1){let s;typeof t=="string"?s=Rc(t):(s={...t},Ct(!s.pathname||!s.pathname.includes("?"),j0("?","pathname","search",s)),Ct(!s.pathname||!s.pathname.includes("#"),j0("#","pathname","hash",s)),Ct(!s.search||!s.search.includes("#"),j0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?e[g]:"/"}let c=D8(s,u),d=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}var Ci=t=>t.join("/").replace(/\/\/+/g,"/"),L8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),j8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function V8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $R=["POST","PUT","PATCH","DELETE"];new Set($R);var z8=["GET",...$R];new Set(z8);var Dc=E.createContext(null);Dc.displayName="DataRouter";var Dy=E.createContext(null);Dy.displayName="DataRouterState";E.createContext(!1);var qR=E.createContext({isTransitioning:!1});qR.displayName="ViewTransition";var U8=E.createContext(new Map);U8.displayName="Fetchers";var B8=E.createContext(null);B8.displayName="Await";var Js=E.createContext(null);Js.displayName="Navigation";var bf=E.createContext(null);bf.displayName="Location";var $i=E.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var b1=E.createContext(null);b1.displayName="RouteError";function $8(t,{relative:e}={}){Ct(xf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Js),{hash:s,pathname:i,search:o}=Ef(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:Ci([n,i])),r.createHref({pathname:u,search:o,hash:s})}function xf(){return E.useContext(bf)!=null}function qi(){return Ct(xf(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(bf).location}var WR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GR(t){E.useContext(Js).static||E.useLayoutEffect(t)}function x1(){let{isDataRoute:t}=E.useContext($i);return t?n7():q8()}function q8(){Ct(xf(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Dc),{basename:e,navigator:n}=E.useContext(Js),{matches:r}=E.useContext($i),{pathname:s}=qi(),i=JSON.stringify(UR(r)),o=E.useRef(!1);return GR(()=>{o.current=!0}),E.useCallback((u,c={})=>{if(Hs(o.current,WR),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=BR(u,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ci([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,i,s,t])}E.createContext(null);function Ef(t,{relative:e}={}){let{matches:n}=E.useContext($i),{pathname:r}=qi(),s=JSON.stringify(UR(n));return E.useMemo(()=>BR(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function W8(t,e){return KR(t,e)}function KR(t,e,n,r,s){var i;Ct(xf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(Js),{matches:u}=E.useContext($i),c=u[u.length-1],d=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let O=v&&v.path||"";HR(m,!v||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let S=qi(),_;if(e){let O=typeof e=="string"?Rc(e):e;Ct(g==="/"||((i=O.pathname)==null?void 0:i.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${O.pathname}" was given in the \`location\` prop.`),_=O}else _=S;let T=_.pathname||"/",I=T;if(g!=="/"){let O=g.replace(/^\//,"").split("/");I="/"+T.replace(/^\//,"").split("/").slice(O.length).join("/")}let A=FR(t,{pathname:I});Hs(v||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Hs(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=X8(A&&A.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:Ci([g,o.encodeLocation?o.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?g:Ci([g,o.encodeLocation?o.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),u,n,r,s);return e&&R?E.createElement(bf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},R):R}function G8(){let t=t7(),e=V8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:i},"ErrorBoundary")," or"," ",E.createElement("code",{style:i},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,o)}var K8=E.createElement(G8,null),H8=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement($i.Provider,{value:this.props.routeContext},E.createElement(b1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q8({routeContext:t,match:e,children:n}){let r=E.useContext(Dc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement($i.Provider,{value:t},n)}function X8(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let d=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:g,errors:v}=n,S=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||S){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,m,g)=>{let v,S=!1,_=null,T=null;n&&(v=o&&m.route.id?o[m.route.id]:void 0,_=m.route.errorElement||K8,u&&(c<0&&g===0?(HR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):c===g&&(S=!0,T=m.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,g+1)),A=()=>{let R;return v?R=_:S?R=T:m.route.Component?R=E.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=d,E.createElement(Q8,{match:m,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?E.createElement(H8,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:A(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:r}):A()},null)}function E1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y8(t){let e=E.useContext(Dc);return Ct(e,E1(t)),e}function J8(t){let e=E.useContext(Dy);return Ct(e,E1(t)),e}function Z8(t){let e=E.useContext($i);return Ct(e,E1(t)),e}function S1(t){let e=Z8(t),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function e7(){return S1("useRouteId")}function t7(){var t;let e=E.useContext(b1),n=J8("useRouteError"),r=S1("useRouteError");return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function n7(){let{router:t}=Y8("useNavigate"),e=S1("useNavigate"),n=E.useRef(!1);return GR(()=>{n.current=!0}),E.useCallback(async(r,s={})=>{Hs(n.current,WR),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var g_={};function HR(t,e,n){!e&&!g_[t]&&(g_[t]=!0,Hs(!1,n))}E.memo(r7);function r7({routes:t,future:e,state:n,unstable_onError:r}){return KR(t,void 0,n,r,e)}function Rt(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Ct(!xf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Rc(n));let{pathname:c="/",search:d="",hash:m="",state:g=null,key:v="default"}=n,S=E.useMemo(()=>{let _=Di(c,o);return _==null?null:{location:{pathname:_,search:d,hash:m,state:g,key:v},navigationType:r}},[o,c,d,m,g,v,r]);return Hs(S!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:E.createElement(Js.Provider,{value:u},E.createElement(bf.Provider,{children:e,value:S}))}function i7({children:t,location:e}){return W8(ub(t),e)}function ub(t,e=[]){let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let i=[...e,s];if(r.type===E.Fragment){n.push.apply(n,ub(r.props.children,i));return}Ct(r.type===Rt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ub(r.props.children,i)),n.push(o)}),n}var Vm="get",zm="application/x-www-form-urlencoded";function My(t){return t!=null&&typeof t.tagName=="string"}function a7(t){return My(t)&&t.tagName.toLowerCase()==="button"}function o7(t){return My(t)&&t.tagName.toLowerCase()==="form"}function l7(t){return My(t)&&t.tagName.toLowerCase()==="input"}function u7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function c7(t,e){return t.button===0&&(!e||e==="_self")&&!u7(t)}var sm=null;function h7(){if(sm===null)try{new FormData(document.createElement("form"),0),sm=!1}catch{sm=!0}return sm}var d7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function F0(t){return t!=null&&!d7.has(t)?(Hs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zm}"`),null):t}function f7(t,e){let n,r,s,i,o;if(o7(t)){let u=t.getAttribute("action");r=u?Di(u,e):null,n=t.getAttribute("method")||Vm,s=F0(t.getAttribute("enctype"))||zm,i=new FormData(t)}else if(a7(t)||l7(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Di(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Vm,s=F0(t.getAttribute("formenctype"))||F0(u.getAttribute("enctype"))||zm,i=new FormData(u,t),!h7()){let{name:d,type:m,value:g}=t;if(m==="image"){let v=d?`${d}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else d&&i.append(d,g)}}else{if(My(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vm,r=null,s=zm,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function k1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function p7(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Di(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function m7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function g7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function y7(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await m7(i,n);return o.links?o.links():[]}return[]}));return x7(r.flat(1).filter(g7).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function y_(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,u=(c,d)=>{var m;return n[d].pathname!==c.pathname||((m=n[d].route.path)==null?void 0:m.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||u(c,d)):i==="data"?e.filter((c,d)=>{var m;let g=r.routes[c.route.id];if(!g||!g.hasLoader)return!1;if(o(c,d)||u(c,d))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function v7(t,e,{includeHydrateFallback:n}={}){return w7(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function w7(t){return[...new Set(t)]}function b7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function x7(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(b7(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function QR(){let t=E.useContext(Dc);return k1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function E7(){let t=E.useContext(Dy);return k1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var T1=E.createContext(void 0);T1.displayName="FrameworkContext";function XR(){let t=E.useContext(T1);return k1(t,"You must render this element inside a <HydratedRouter> element"),t}function S7(t,e){let n=E.useContext(T1),[r,s]=E.useState(!1),[i,o]=E.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:d,onMouseLeave:m,onTouchStart:g}=e,v=E.useRef(null);E.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let T=A=>{A.forEach(R=>{o(R.isIntersecting)})},I=new IntersectionObserver(T,{threshold:.5});return v.current&&I.observe(v.current),()=>{I.disconnect()}}},[t]),E.useEffect(()=>{if(r){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[r]);let S=()=>{s(!0)},_=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Vh(u,S),onBlur:Vh(c,_),onMouseEnter:Vh(d,S),onMouseLeave:Vh(m,_),onTouchStart:Vh(g,S)}]:[!1,v,{}]}function Vh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function k7({page:t,...e}){let{router:n}=QR(),r=E.useMemo(()=>FR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(I7,{page:t,matches:r,...e}):null}function T7(t){let{manifest:e,routeModules:n}=XR(),[r,s]=E.useState([]);return E.useEffect(()=>{let i=!1;return y7(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function I7({page:t,matches:e,...n}){let r=qi(),{manifest:s,routeModules:i}=XR(),{basename:o}=QR(),{loaderData:u,matches:c}=E7(),d=E.useMemo(()=>y_(t,e,c,s,r,"data"),[t,e,c,s,r]),m=E.useMemo(()=>y_(t,e,c,s,r,"assets"),[t,e,c,s,r]),g=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,T=!1;if(e.forEach(A=>{var R;let O=s.routes[A.route.id];!O||!O.hasLoader||(!d.some(z=>z.route.id===A.route.id)&&A.route.id in u&&(R=i[A.route.id])!=null&&R.shouldRevalidate||O.hasClientLoader?T=!0:_.add(A.route.id))}),_.size===0)return[];let I=p7(t,o,"data");return T&&_.size>0&&I.searchParams.set("_routes",e.filter(A=>_.has(A.route.id)).map(A=>A.route.id).join(",")),[I.pathname+I.search]},[o,u,r,s,d,e,t,i]),v=E.useMemo(()=>v7(m,s),[m,s]),S=T7(m);return E.createElement(E.Fragment,null,g.map(_=>E.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),v.map(_=>E.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),S.map(({key:_,link:T})=>E.createElement("link",{key:_,nonce:n.nonce,...T})))}function _7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YR&&(window.__reactRouterVersion="7.9.5")}catch{}function C7({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=g8({window:n,v5Compat:!0}));let s=r.current,[i,o]=E.useState({action:s.action,location:s.location}),u=E.useCallback(c=>{E.startTransition(()=>o(c))},[o]);return E.useLayoutEffect(()=>s.listen(u),[s,u]),E.createElement(s7,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var JR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=E.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:s,replace:i,state:o,target:u,to:c,preventScrollReset:d,viewTransition:m,...g},v){let{basename:S}=E.useContext(Js),_=typeof c=="string"&&JR.test(c),T,I=!1;if(typeof c=="string"&&_&&(T=c,YR))try{let C=new URL(window.location.href),P=c.startsWith("//")?new URL(C.protocol+c):new URL(c),L=Di(P.pathname,S);P.origin===C.origin&&L!=null?c=L+P.search+P.hash:I=!0}catch{Hs(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=$8(c,{relative:r}),[R,O,z]=S7(n,g),B=R7(c,{replace:i,state:o,target:u,preventScrollReset:d,relative:r,viewTransition:m});function G(C){t&&t(C),C.defaultPrevented||B(C)}let D=E.createElement("a",{...g,...z,href:T||A,onClick:I||s?t:G,ref:_7(v,O),target:u,"data-discover":!_&&e==="render"?"true":void 0});return R&&!_?E.createElement(E.Fragment,null,D,E.createElement(k7,{page:A})):D});ft.displayName="Link";var N7=E.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:s,to:i,viewTransition:o,children:u,...c},d){let m=Ef(i,{relative:c.relative}),g=qi(),v=E.useContext(Dy),{navigator:S,basename:_}=E.useContext(Js),T=v!=null&&j7(m)&&o===!0,I=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,A=g.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(A=A.toLowerCase(),R=R?R.toLowerCase():null,I=I.toLowerCase()),R&&_&&(R=Di(R,_)||R);const O=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let z=A===I||!r&&A.startsWith(I)&&A.charAt(O)==="/",B=R!=null&&(R===I||!r&&R.startsWith(I)&&R.charAt(I.length)==="/"),G={isActive:z,isPending:B,isTransitioning:T},D=z?t:void 0,C;typeof n=="function"?C=n(G):C=[n,z?"active":null,B?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(G):s;return E.createElement(ft,{...c,"aria-current":D,className:C,ref:d,style:P,to:i,viewTransition:o},typeof u=="function"?u(G):u)});N7.displayName="NavLink";var A7=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Vm,action:u,onSubmit:c,relative:d,preventScrollReset:m,viewTransition:g,...v},S)=>{let _=O7(),T=L7(u,{relative:d}),I=o.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&JR.test(u),R=O=>{if(c&&c(O),O.defaultPrevented)return;O.preventDefault();let z=O.nativeEvent.submitter,B=(z==null?void 0:z.getAttribute("formmethod"))||o;_(z||O.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:s,state:i,relative:d,preventScrollReset:m,viewTransition:g})};return E.createElement("form",{ref:S,method:I,action:T,onSubmit:r?c:R,...v,"data-discover":!A&&t==="render"?"true":void 0})});A7.displayName="Form";function P7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZR(t){let e=E.useContext(Dc);return Ct(e,P7(t)),e}function R7(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let u=x1(),c=qi(),d=Ef(t,{relative:i});return E.useCallback(m=>{if(c7(m,e)){m.preventDefault();let g=n!==void 0?n:qd(c)===qd(d);u(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,u,d,n,r,e,t,s,i,o])}var D7=0,M7=()=>`__${String(++D7)}__`;function O7(){let{router:t}=ZR("useSubmit"),{basename:e}=E.useContext(Js),n=e7();return E.useCallback(async(r,s={})=>{let{action:i,method:o,encType:u,formData:c,body:d}=f7(r,e);if(s.navigate===!1){let m=s.fetcherKey||M7();await t.fetch(m,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function L7(t,{relative:e}={}){let{basename:n}=E.useContext(Js),r=E.useContext($i);Ct(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Ef(t||".",{relative:e})},o=qi();if(t==null){i.search=o.search;let u=new URLSearchParams(i.search),c=u.getAll("index");if(c.some(d=>d==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let d=u.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ci([n,i.pathname])),qd(i)}function j7(t,{relative:e}={}){let n=E.useContext(qR);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZR("useViewTransitionState"),s=Ef(t,{relative:e});if(!n.isTransitioning)return!1;let i=Di(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Di(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pg(s.pathname,o)!=null||Pg(s.pathname,i)!=null}var I1=K2();const F7=nx(I1);function nt(t){if(!t)return"/";const[e,n]=t.split("?"),r="/"+e.replace(/\s+/g,"");return n?`${r}?${n}`:r}var Sf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},V7={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Lo,v_,w_,z7=(w_=class{constructor(){Me(this,Lo,V7),Me(this,v_,!1)}setTimeoutProvider(t){ge(this,Lo,t)}setTimeout(t,e){return q(this,Lo).setTimeout(t,e)}clearTimeout(t){q(this,Lo).clearTimeout(t)}setInterval(t,e){return q(this,Lo).setInterval(t,e)}clearInterval(t){q(this,Lo).clearInterval(t)}},Lo=new WeakMap,v_=new WeakMap,w_),rl=new z7;function U7(t){setTimeout(t,0)}var Il=typeof window>"u"||"Deno"in globalThis;function Xn(){}function B7(t,e){return typeof t=="function"?t(e):t}function cb(t){return typeof t=="number"&&t>=0&&t!==1/0}function eD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wa(t,e){return typeof t=="function"?t(e):t}function Rr(t,e){return typeof t=="function"?t(e):t}function b_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:u}=t;if(o){if(r){if(e.queryHash!==_1(o,e.options))return!1}else if(!Gd(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||i&&!i(e))}function x_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Wd(e.options.mutationKey)!==Wd(i))return!1}else if(!Gd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function _1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Wd)(t)}function Wd(t){return JSON.stringify(t,(e,n)=>db(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Gd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Gd(t[n],e[n])):!1}var $7=Object.prototype.hasOwnProperty;function tD(t,e){if(t===e)return t;const n=E_(t)&&E_(e);if(!n&&!(db(t)&&db(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),i=s.length,o=n?new Array(i):{};let u=0;for(let c=0;c<i;c++){const d=n?c:s[c],m=t[d],g=e[d];if(m===g){o[d]=m,(n?c<r:$7.call(t,d))&&u++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){o[d]=g;continue}const v=tD(m,g);o[d]=v,v===m&&u++}return r===i&&u===r?t:o}function hb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function E_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function db(t){if(!S_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!S_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function S_(t){return Object.prototype.toString.call(t)==="[object Object]"}function q7(t){return new Promise(e=>{rl.setTimeout(e,t)})}function fb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?tD(t,e):e}function W7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function G7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var C1=Symbol();function nD(t,e){return!t.queryFn&&e!=null&&e.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===C1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function K7(t,e){return typeof t=="function"?t(...e):!!t}var Au,jo,zh,k_,H7=(k_=class extends Sf{constructor(){super(),Me(this,Au),Me(this,jo),Me(this,zh),ge(this,zh,t=>{if(!Il&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){q(this,jo)||this.setEventListener(q(this,zh))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,jo))==null||t.call(this),ge(this,jo,void 0))}setEventListener(t){var e;ge(this,zh,t),(e=q(this,jo))==null||e.call(this),ge(this,jo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){q(this,Au)!==t&&(ge(this,Au,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof q(this,Au)=="boolean"?q(this,Au):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Au=new WeakMap,jo=new WeakMap,zh=new WeakMap,k_),N1=new H7;function pb(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var Q7=U7;function X7(){let t=[],e=0,n=u=>{u()},r=u=>{u()},s=Q7;const i=u=>{e?t.push(u):s(()=>{n(u)})},o=()=>{const u=t;t=[],u.length&&s(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;e++;try{c=u()}finally{e--,e||o()}return c},batchCalls:u=>(...c)=>{i(()=>{u(...c)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var vn=X7(),Uh,Fo,Bh,T_,Y7=(T_=class extends Sf{constructor(){super(),Me(this,Uh,!0),Me(this,Fo),Me(this,Bh),ge(this,Bh,t=>{if(!Il&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){q(this,Fo)||this.setEventListener(q(this,Bh))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Fo))==null||t.call(this),ge(this,Fo,void 0))}setEventListener(t){var e;ge(this,Bh,t),(e=q(this,Fo))==null||e.call(this),ge(this,Fo,t(this.setOnline.bind(this)))}setOnline(t){q(this,Uh)!==t&&(ge(this,Uh,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return q(this,Uh)}},Uh=new WeakMap,Fo=new WeakMap,Bh=new WeakMap,T_),Rg=new Y7;function J7(t){return Math.min(1e3*2**t,3e4)}function rD(t){return(t??"online")==="online"?Rg.isOnline():!0}var mb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function sD(t){let e=!1,n=0,r;const s=pb(),i=()=>s.status!=="pending",o=T=>{var I;if(!i()){const A=new mb(T);v(A),(I=t.onCancel)==null||I.call(t,A)}},u=()=>{e=!0},c=()=>{e=!1},d=()=>N1.isFocused()&&(t.networkMode==="always"||Rg.isOnline())&&t.canRun(),m=()=>rD(t.networkMode)&&t.canRun(),g=T=>{i()||(r==null||r(),s.resolve(T))},v=T=>{i()||(r==null||r(),s.reject(T))},S=()=>new Promise(T=>{var I;r=A=>{(i()||d())&&T(A)},(I=t.onPause)==null||I.call(t)}).then(()=>{var T;r=void 0,i()||(T=t.onContinue)==null||T.call(t)}),_=()=>{if(i())return;let T;const I=n===0?t.initialPromise:void 0;try{T=I??t.fn()}catch(A){T=Promise.reject(A)}Promise.resolve(T).then(g).catch(A=>{var R;if(i())return;const O=t.retry??(Il?0:3),z=t.retryDelay??J7,B=typeof z=="function"?z(n,A):z,G=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,A);if(e||!G){v(A);return}n++,(R=t.onFail)==null||R.call(t,n,A),q7(B).then(()=>d()?void 0:S()).then(()=>{e?v(A):_()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:c,canStart:m,start:()=>(m()?_():S().then(_),s)}}var Pu,I_,iD=(I_=class{constructor(){Me(this,Pu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cb(this.gcTime)&&ge(this,Pu,rl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Il?1/0:300*1e3))}clearGcTimeout(){q(this,Pu)&&(rl.clearTimeout(q(this,Pu)),ge(this,Pu,void 0))}},Pu=new WeakMap,I_),Ru,$h,Jr,Du,pn,im,Mu,Ns,vi,__,Z7=(__=class extends iD{constructor(t){super(),Me(this,Ns),Me(this,Ru),Me(this,$h),Me(this,Jr),Me(this,Du),Me(this,pn),Me(this,im),Me(this,Mu),ge(this,Mu,!1),ge(this,im,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,Du,t.client),ge(this,Jr,q(this,Du).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,Ru,N_(this.options)),this.state=t.state??q(this,Ru),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,pn))==null?void 0:t.promise}setOptions(t){if(this.options={...q(this,im),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=N_(this.options);e.data!==void 0&&(this.setState(C_(e.data,e.dataUpdatedAt)),ge(this,Ru,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,Jr).remove(this)}setData(t,e){const n=fb(this.state.data,t,this.options);return Ze(this,Ns,vi).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){Ze(this,Ns,vi).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var e,n;const r=(e=q(this,pn))==null?void 0:e.promise;return(n=q(this,pn))==null||n.cancel(t),r?r.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,Ru))}isActive(){return this.observers.some(t=>Rr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===C1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!eD(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=q(this,pn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=q(this,pn))==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,Jr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(q(this,pn)&&(q(this,Mu)?q(this,pn).cancel({revert:!0}):q(this,pn).cancelRetry()),this.scheduleGc()),q(this,Jr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Ns,vi).call(this,{type:"invalidate"})}async fetch(t,e){var n,r,s,i,o,u,c,d,m,g,v,S;if(this.state.fetchStatus!=="idle"&&((n=q(this,pn))==null?void 0:n.status())!=="rejected"){if(this.state.data!==void 0&&e!=null&&e.cancelRefetch)this.cancel({silent:!0});else if(q(this,pn))return q(this,pn).continueRetry(),q(this,pn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const R=this.observers.find(O=>O.options.queryFn);R&&this.setOptions(R.options)}const _=new AbortController,T=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(ge(this,Mu,!0),_.signal)})},I=()=>{const R=nD(this.options,e),O=(()=>{const z={client:q(this,Du),queryKey:this.queryKey,meta:this.meta};return T(z),z})();return ge(this,Mu,!1),this.options.persister?this.options.persister(R,O,this):R(O)},A=(()=>{const R={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:q(this,Du),state:this.state,fetchFn:I};return T(R),R})();(r=this.options.behavior)==null||r.onFetch(A,this),ge(this,$h,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=A.fetchOptions)==null?void 0:s.meta))&&Ze(this,Ns,vi).call(this,{type:"fetch",meta:(i=A.fetchOptions)==null?void 0:i.meta}),ge(this,pn,sD({initialPromise:e==null?void 0:e.initialPromise,fn:A.fetchFn,onCancel:R=>{R instanceof mb&&R.revert&&this.setState({...q(this,$h),fetchStatus:"idle"}),_.abort()},onFail:(R,O)=>{Ze(this,Ns,vi).call(this,{type:"failed",failureCount:R,error:O})},onPause:()=>{Ze(this,Ns,vi).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Ns,vi).call(this,{type:"continue"})},retry:A.options.retry,retryDelay:A.options.retryDelay,networkMode:A.options.networkMode,canRun:()=>!0}));try{const R=await q(this,pn).start();if(R===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(R),(u=(o=q(this,Jr).config).onSuccess)==null||u.call(o,R,this),(d=(c=q(this,Jr).config).onSettled)==null||d.call(c,R,this.state.error,this),R}catch(R){if(R instanceof mb){if(R.silent)return q(this,pn).promise;if(R.revert){if(this.state.data===void 0)throw R;return this.state.data}}throw Ze(this,Ns,vi).call(this,{type:"error",error:R}),(g=(m=q(this,Jr).config).onError)==null||g.call(m,R,this),(S=(v=q(this,Jr).config).onSettled)==null||S.call(v,this.state.data,R,this),R}finally{this.scheduleGc()}}},Ru=new WeakMap,$h=new WeakMap,Jr=new WeakMap,Du=new WeakMap,pn=new WeakMap,im=new WeakMap,Mu=new WeakMap,Ns=new WeakSet,vi=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...aD(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...C_(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,$h,t.manual?r:void 0),r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),vn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),q(this,Jr).notify({query:this,type:"updated",action:t})})},__);function aD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function C_(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function N_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var cr,Je,am,Hn,Ou,qh,_a,Vo,om,Wh,Gh,Lu,ju,zo,Kh,Bt,Hh,V0,z0,U0,B0,$0,q0,W0,A_,P_,e$=(P_=class extends Sf{constructor(t,e){super(),Me(this,Bt),Me(this,cr),Me(this,Je),Me(this,am),Me(this,Hn),Me(this,Ou),Me(this,qh),Me(this,_a),Me(this,Vo),Me(this,om),Me(this,Wh),Me(this,Gh),Me(this,Lu),Me(this,ju),Me(this,zo),Me(this,Kh,new Set),this.options=e,ge(this,cr,t),ge(this,Vo,null),ge(this,_a,pb()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,Je).addObserver(this),R_(q(this,Je),this.options)?Ze(this,Bt,Hh).call(this):this.updateResult(),Ze(this,Bt,B0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gb(q(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gb(q(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,Bt,$0).call(this),Ze(this,Bt,q0).call(this),q(this,Je).removeObserver(this)}setOptions(t){const e=this.options,n=q(this,Je);if(this.options=q(this,cr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rr(this.options.enabled,q(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,Bt,W0).call(this),q(this,Je).setOptions(this.options),e._defaulted&&!hb(this.options,e)&&q(this,cr).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,Je),observer:this});const r=this.hasListeners();r&&D_(q(this,Je),n,this.options,e)&&Ze(this,Bt,Hh).call(this),this.updateResult(),r&&(q(this,Je)!==n||Rr(this.options.enabled,q(this,Je))!==Rr(e.enabled,q(this,Je))||Wa(this.options.staleTime,q(this,Je))!==Wa(e.staleTime,q(this,Je)))&&Ze(this,Bt,V0).call(this);const s=Ze(this,Bt,z0).call(this);r&&(q(this,Je)!==n||Rr(this.options.enabled,q(this,Je))!==Rr(e.enabled,q(this,Je))||s!==q(this,zo))&&Ze(this,Bt,U0).call(this,s)}getOptimisticResult(t){const e=q(this,cr).getQueryCache().build(q(this,cr),t),n=this.createResult(e,t);return n$(this,n)&&(ge(this,Hn,n),ge(this,qh,this.options),ge(this,Ou,q(this,Je).state)),n}getCurrentResult(){return q(this,Hn)}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e==null||e(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&q(this,_a).status==="pending"&&q(this,_a).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){q(this,Kh).add(t)}getCurrentQuery(){return q(this,Je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=q(this,cr).defaultQueryOptions(t),n=q(this,cr).getQueryCache().build(q(this,cr),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return Ze(this,Bt,Hh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,Hn)))}createResult(t,e){var n;const r=q(this,Je),s=this.options,i=q(this,Hn),o=q(this,Ou),u=q(this,qh),c=t!==r?t.state:q(this,am),{state:d}=t;let m={...d},g=!1,v;if(e._optimisticResults){const D=this.hasListeners(),C=!D&&R_(t,e),P=D&&D_(t,r,e,s);(C||P)&&(m={...m,...aD(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:S,errorUpdatedAt:_,status:T}=m;v=m.data;let I=!1;if(e.placeholderData!==void 0&&v===void 0&&T==="pending"){let D;i!=null&&i.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData)?(D=i.data,I=!0):D=typeof e.placeholderData=="function"?e.placeholderData((n=q(this,Gh))==null?void 0:n.state.data,q(this,Gh)):e.placeholderData,D!==void 0&&(T="success",v=fb(i==null?void 0:i.data,D,e),g=!0)}if(e.select&&v!==void 0&&!I)if(i&&v===(o==null?void 0:o.data)&&e.select===q(this,om))v=q(this,Wh);else try{ge(this,om,e.select),v=e.select(v),v=fb(i==null?void 0:i.data,v,e),ge(this,Wh,v),ge(this,Vo,null)}catch(D){ge(this,Vo,D)}q(this,Vo)&&(S=q(this,Vo),v=q(this,Wh),_=Date.now(),T="error");const A=m.fetchStatus==="fetching",R=T==="pending",O=T==="error",z=R&&A,B=v!==void 0,G={status:T,fetchStatus:m.fetchStatus,isPending:R,isSuccess:T==="success",isError:O,isInitialLoading:z,isLoading:z,data:v,dataUpdatedAt:m.dataUpdatedAt,error:S,errorUpdatedAt:_,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>c.dataUpdateCount||m.errorUpdateCount>c.errorUpdateCount,isFetching:A,isRefetching:A&&!R,isLoadingError:O&&!B,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:O&&B,isStale:A1(t,e),refetch:this.refetch,promise:q(this,_a),isEnabled:Rr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=L=>{G.status==="error"?L.reject(G.error):G.data!==void 0&&L.resolve(G.data)},C=()=>{const L=ge(this,_a,G.promise=pb());D(L)},P=q(this,_a);switch(P.status){case"pending":t.queryHash===r.queryHash&&D(P);break;case"fulfilled":(G.status==="error"||G.data!==P.value)&&C();break;case"rejected":(G.status!=="error"||G.error!==P.reason)&&C();break}}return G}updateResult(){const t=q(this,Hn),e=this.createResult(q(this,Je),this.options);if(ge(this,Ou,q(this,Je).state),ge(this,qh,this.options),q(this,Ou).data!==void 0&&ge(this,Gh,q(this,Je)),hb(e,t))return;ge(this,Hn,e);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!q(this,Kh).size)return!0;const i=new Set(s??q(this,Kh));return this.options.throwOnError&&i.add("error"),Object.keys(q(this,Hn)).some(o=>{const u=o;return q(this,Hn)[u]!==t[u]&&i.has(u)})};Ze(this,Bt,A_).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,Bt,B0).call(this)}},cr=new WeakMap,Je=new WeakMap,am=new WeakMap,Hn=new WeakMap,Ou=new WeakMap,qh=new WeakMap,_a=new WeakMap,Vo=new WeakMap,om=new WeakMap,Wh=new WeakMap,Gh=new WeakMap,Lu=new WeakMap,ju=new WeakMap,zo=new WeakMap,Kh=new WeakMap,Bt=new WeakSet,Hh=function(t){Ze(this,Bt,W0).call(this);let e=q(this,Je).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Xn)),e},V0=function(){Ze(this,Bt,$0).call(this);const t=Wa(this.options.staleTime,q(this,Je));if(Il||q(this,Hn).isStale||!cb(t))return;const e=eD(q(this,Hn).dataUpdatedAt,t)+1;ge(this,Lu,rl.setTimeout(()=>{q(this,Hn).isStale||this.updateResult()},e))},z0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,Je)):this.options.refetchInterval)??!1},U0=function(t){Ze(this,Bt,q0).call(this),ge(this,zo,t),!(Il||Rr(this.options.enabled,q(this,Je))===!1||!cb(q(this,zo))||q(this,zo)===0)&&ge(this,ju,rl.setInterval(()=>{(this.options.refetchIntervalInBackground||N1.isFocused())&&Ze(this,Bt,Hh).call(this)},q(this,zo)))},B0=function(){Ze(this,Bt,V0).call(this),Ze(this,Bt,U0).call(this,Ze(this,Bt,z0).call(this))},$0=function(){q(this,Lu)&&(rl.clearTimeout(q(this,Lu)),ge(this,Lu,void 0))},q0=function(){q(this,ju)&&(rl.clearInterval(q(this,ju)),ge(this,ju,void 0))},W0=function(){const t=q(this,cr).getQueryCache().build(q(this,cr),this.options);if(t===q(this,Je))return;const e=q(this,Je);ge(this,Je,t),ge(this,am,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},A_=function(t){vn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(q(this,Hn))}),q(this,cr).getQueryCache().notify({query:q(this,Je),type:"observerResultsUpdated"})})},P_);function t$(t,e){return Rr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function R_(t,e){return t$(t,e)||t.state.data!==void 0&&gb(t,e,e.refetchOnMount)}function gb(t,e,n){if(Rr(e.enabled,t)!==!1&&Wa(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&A1(t,e)}return!1}function D_(t,e,n,r){return(t!==e||Rr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&A1(t,n)}function A1(t,e){return Rr(e.enabled,t)!==!1&&t.isStaleByTime(Wa(e.staleTime,t))}function n$(t,e){return!hb(t.getCurrentResult(),e)}function M_(t){return{onFetch:(e,n)=>{var r,s,i,o,u;const c=e.options,d=(i=(s=(r=e.fetchOptions)==null?void 0:r.meta)==null?void 0:s.fetchMore)==null?void 0:i.direction,m=((o=e.state.data)==null?void 0:o.pages)||[],g=((u=e.state.data)==null?void 0:u.pageParams)||[];let v={pages:[],pageParams:[]},S=0;const _=async()=>{let T=!1;const I=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?T=!0:e.signal.addEventListener("abort",()=>{T=!0}),e.signal)})},A=nD(e.options,e.fetchOptions),R=async(O,z,B)=>{if(T)return Promise.reject();if(z==null&&O.pages.length)return Promise.resolve(O);const G=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:z,direction:B?"backward":"forward",meta:e.options.meta};return I(L),L})(),D=await A(G),{maxPages:C}=e.options,P=B?G7:W7;return{pages:P(O.pages,D,C),pageParams:P(O.pageParams,z,C)}};if(d&&m.length){const O=d==="backward",z=O?r$:O_,B={pages:m,pageParams:g},G=z(c,B);v=await R(B,G,O)}else{const O=t??m.length;do{const z=S===0?g[0]??c.initialPageParam:O_(c,v);if(S>0&&z==null)break;v=await R(v,z),S++}while(S<O)}return v};e.options.persister?e.fetchFn=()=>{var T,I;return(I=(T=e.options).persister)==null?void 0:I.call(T,_,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=_}}}function O_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function r$(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var lm,wi,Qn,Fu,bi,Ca,L_,s$=(L_=class extends iD{constructor(t){super(),Me(this,bi),Me(this,lm),Me(this,wi),Me(this,Qn),Me(this,Fu),ge(this,lm,t.client),this.mutationId=t.mutationId,ge(this,Qn,t.mutationCache),ge(this,wi,[]),this.state=t.state||i$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,wi).includes(t)||(q(this,wi).push(t),this.clearGcTimeout(),q(this,Qn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,wi,q(this,wi).filter(e=>e!==t)),this.scheduleGc(),q(this,Qn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,wi).length||(this.state.status==="pending"?this.scheduleGc():q(this,Qn).remove(this))}continue(){var t;return((t=q(this,Fu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var e,n,r,s,i,o,u,c,d,m,g,v,S,_,T,I,A,R,O,z;const B=()=>{Ze(this,bi,Ca).call(this,{type:"continue"})},G={client:q(this,lm),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,Fu,sD({fn:()=>this.options.mutationFn?this.options.mutationFn(t,G):Promise.reject(new Error("No mutationFn found")),onFail:(P,L)=>{Ze(this,bi,Ca).call(this,{type:"failed",failureCount:P,error:L})},onPause:()=>{Ze(this,bi,Ca).call(this,{type:"pause"})},onContinue:B,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Qn).canRun(this)}));const D=this.state.status==="pending",C=!q(this,Fu).canStart();try{if(D)B();else{Ze(this,bi,Ca).call(this,{type:"pending",variables:t,isPaused:C}),await((n=(e=q(this,Qn).config).onMutate)==null?void 0:n.call(e,t,this,G));const L=await((s=(r=this.options).onMutate)==null?void 0:s.call(r,t,G));L!==this.state.context&&Ze(this,bi,Ca).call(this,{type:"pending",context:L,variables:t,isPaused:C})}const P=await q(this,Fu).start();return await((o=(i=q(this,Qn).config).onSuccess)==null?void 0:o.call(i,P,t,this.state.context,this,G)),await((c=(u=this.options).onSuccess)==null?void 0:c.call(u,P,t,this.state.context,G)),await((m=(d=q(this,Qn).config).onSettled)==null?void 0:m.call(d,P,null,this.state.variables,this.state.context,this,G)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,P,null,t,this.state.context,G)),Ze(this,bi,Ca).call(this,{type:"success",data:P}),P}catch(P){try{throw await((_=(S=q(this,Qn).config).onError)==null?void 0:_.call(S,P,t,this.state.context,this,G)),await((I=(T=this.options).onError)==null?void 0:I.call(T,P,t,this.state.context,G)),await((R=(A=q(this,Qn).config).onSettled)==null?void 0:R.call(A,void 0,P,this.state.variables,this.state.context,this,G)),await((z=(O=this.options).onSettled)==null?void 0:z.call(O,void 0,P,t,this.state.context,G)),P}finally{Ze(this,bi,Ca).call(this,{type:"error",error:P})}}finally{q(this,Qn).runNext(this)}}},lm=new WeakMap,wi=new WeakMap,Qn=new WeakMap,Fu=new WeakMap,bi=new WeakSet,Ca=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),vn.batch(()=>{q(this,wi).forEach(n=>{n.onMutationUpdate(t)}),q(this,Qn).notify({mutation:this,type:"updated",action:t})})},L_);function i$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Na,As,um,j_,a$=(j_=class extends Sf{constructor(t={}){super(),Me(this,Na),Me(this,As),Me(this,um),this.config=t,ge(this,Na,new Set),ge(this,As,new Map),ge(this,um,0)}build(t,e,n){const r=new s$({client:t,mutationCache:this,mutationId:++_w(this,um)._,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){q(this,Na).add(t);const e=cm(t);if(typeof e=="string"){const n=q(this,As).get(e);n?n.push(t):q(this,As).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,Na).delete(t)){const e=cm(t);if(typeof e=="string"){const n=q(this,As).get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&q(this,As).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=cm(t);if(typeof e=="string"){const n=q(this,As).get(e),r=n==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){var e;const n=cm(t);if(typeof n=="string"){const r=(e=q(this,As).get(n))==null?void 0:e.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){vn.batch(()=>{q(this,Na).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,Na).clear(),q(this,As).clear()})}getAll(){return Array.from(q(this,Na))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>x_(e,n))}findAll(t={}){return this.getAll().filter(e=>x_(t,e))}notify(t){vn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return vn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Xn))))}},Na=new WeakMap,As=new WeakMap,um=new WeakMap,j_);function cm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var xi,F_,o$=(F_=class extends Sf{constructor(t={}){super(),Me(this,xi),this.config=t,ge(this,xi,new Map)}build(t,e,n){const r=e.queryKey,s=e.queryHash??_1(r,e);let i=this.get(s);return i||(i=new Z7({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){q(this,xi).has(t.queryHash)||(q(this,xi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=q(this,xi).get(t.queryHash);e&&(t.destroy(),e===t&&q(this,xi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){vn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,xi).get(t)}getAll(){return[...q(this,xi).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>b_(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>b_(t,n)):e}notify(t){vn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){vn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){vn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},xi=new WeakMap,F_),$t,Uo,Bo,Qh,Xh,$o,Yh,Jh,V_,l$=(V_=class{constructor(t={}){Me(this,$t),Me(this,Uo),Me(this,Bo),Me(this,Qh),Me(this,Xh),Me(this,$o),Me(this,Yh),Me(this,Jh),ge(this,$t,t.queryCache||new o$),ge(this,Uo,t.mutationCache||new a$),ge(this,Bo,t.defaultOptions||{}),ge(this,Qh,new Map),ge(this,Xh,new Map),ge(this,$o,0)}mount(){_w(this,$o)._++,q(this,$o)===1&&(ge(this,Yh,N1.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,$t).onFocus())})),ge(this,Jh,Rg.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,$t).onOnline())})))}unmount(){var t,e;_w(this,$o)._--,q(this,$o)===0&&((t=q(this,Yh))==null||t.call(this),ge(this,Yh,void 0),(e=q(this,Jh))==null||e.call(this),ge(this,Jh,void 0))}isFetching(t){return q(this,$t).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return q(this,Uo).findAll({...t,status:"pending"}).length}getQueryData(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=q(this,$t).get(n.queryHash))==null?void 0:e.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=q(this,$t).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Wa(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return q(this,$t).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=q(this,$t).get(r.queryHash),i=s==null?void 0:s.state.data,o=B7(e,i);if(o!==void 0)return q(this,$t).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return vn.batch(()=>q(this,$t).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=q(this,$t).get(n.queryHash))==null?void 0:e.state}removeQueries(t){const e=q(this,$t);vn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=q(this,$t);return vn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=vn.batch(()=>q(this,$t).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Xn).catch(Xn)}invalidateQueries(t,e={}){return vn.batch(()=>(q(this,$t).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=vn.batch(()=>q(this,$t).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=q(this,$t).build(this,e);return n.isStaleByTime(Wa(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=M_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=M_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Rg.isOnline()?q(this,Uo).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,$t)}getMutationCache(){return q(this,Uo)}getDefaultOptions(){return q(this,Bo)}setDefaultOptions(t){ge(this,Bo,t)}setQueryDefaults(t,e){q(this,Qh).set(Wd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...q(this,Qh).values()],n={};return e.forEach(r=>{Gd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){q(this,Xh).set(Wd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...q(this,Xh).values()],n={};return e.forEach(r=>{Gd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...q(this,Bo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=_1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===C1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...q(this,Bo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){q(this,$t).clear(),q(this,Uo).clear()}},$t=new WeakMap,Uo=new WeakMap,Bo=new WeakMap,Qh=new WeakMap,Xh=new WeakMap,$o=new WeakMap,Yh=new WeakMap,Jh=new WeakMap,V_),oD=E.createContext(void 0),u$=t=>{const e=E.useContext(oD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},c$=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(oD.Provider,{value:t,children:e})),lD=E.createContext(!1),h$=()=>E.useContext(lD);lD.Provider;function d$(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var f$=E.createContext(d$()),p$=()=>E.useContext(f$),m$=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},g$=t=>{E.useEffect(()=>{t.clearReset()},[t])},y$=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||K7(n,[t.error,r])),v$=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},w$=(t,e)=>t.isLoading&&t.isFetching&&!e,b$=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,z_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function x$(t,e,n){var r,s,i,o,u;const c=h$(),d=p$(),m=u$(),g=m.defaultQueryOptions(t);(s=(r=m.getDefaultOptions().queries)==null?void 0:r._experimental_beforeQuery)==null||s.call(r,g),g._optimisticResults=c?"isRestoring":"optimistic",v$(g),m$(g,d),g$(d);const v=!m.getQueryCache().get(g.queryHash),[S]=E.useState(()=>new e(m,g)),_=S.getOptimisticResult(g),T=!c&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(I=>{const A=T?S.subscribe(vn.batchCalls(I)):Xn;return S.updateResult(),A},[S,T]),()=>S.getCurrentResult(),()=>S.getCurrentResult()),E.useEffect(()=>{S.setOptions(g)},[g,S]),b$(g,_))throw z_(g,S,d);if(y$({result:_,errorResetBoundary:d,throwOnError:g.throwOnError,query:m.getQueryCache().get(g.queryHash),suspense:g.suspense}))throw _.error;if((o=(i=m.getDefaultOptions().queries)==null?void 0:i._experimental_afterQuery)==null||o.call(i,g,_),g.experimental_prefetchInRender&&!Il&&w$(_,c)){const I=v?z_(g,S,d):(u=m.getQueryCache().get(g.queryHash))==null?void 0:u.promise;I==null||I.catch(Xn).finally(()=>{S.updateResult()})}return g.notifyOnChangeProps?_:S.trackResult(_)}function E$(t,e){return x$(t,e$)}/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const S$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var k$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const T$=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...u},c)=>E.createElement("svg",{ref:c,...k$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:uD("lucide",s),...u},[...o.map(([d,m])=>E.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Xe=(t,e)=>{const n=E.forwardRef(({className:r,...s},i)=>E.createElement(T$,{ref:i,iconNode:e,className:uD(`lucide-${S$(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const I$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_$=Xe("ArrowRight",I$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const C$=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],N$=Xe("Award",C$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const A$=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Um=Xe("Brain",A$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const P$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],G0=Xe("Calendar",P$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const R$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],D$=Xe("ChartColumn",R$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const M$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],O$=Xe("Check",M$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const L$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],j$=Xe("ChevronDown",L$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const F$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],V$=Xe("ChevronRight",F$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const z$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],U$=Xe("CircleCheckBig",z$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const B$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$$=Xe("CircleX",B$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const q$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],W$=Xe("Circle",q$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const G$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],K$=Xe("Clock",G$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const H$=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],U_=Xe("Coins",H$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Q$=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],X$=Xe("CreditCard",Q$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Y$=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],sl=Xe("Crown",Y$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const J$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],B_=Xe("EyeOff",J$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Z$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$_=Xe("Eye",Z$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const eq=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],tq=Xe("Gamepad2",eq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nq=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],q_=Xe("GraduationCap",nq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const rq=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],W_=Xe("Heart",rq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],G_=Xe("House",sq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iq=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],K_=Xe("LogOut",iq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const aq=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],H_=Xe("Mail",aq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oq=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],lq=Xe("Menu",oq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uq=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],cq=Xe("PartyPopper",uq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hq=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],dq=Xe("Rocket",hq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fq=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q_=Xe("Settings",fq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const pq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],mq=Xe("Shield",pq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gq=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],K0=Xe("ShoppingBag",gq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const yq=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],cD=Xe("Sparkles",yq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],H0=Xe("Star",vq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wq=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],yb=Xe("Trophy",wq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const bq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Q0=Xe("User",bq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],vb=Xe("Users",xq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Eq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],P1=Xe("X",Eq);function hD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=hD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dD(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=hD(t))&&(r&&(r+=" "),r+=e);return r}const X_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Y_=dD,Oy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Y_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const m=n==null?void 0:n[d],g=i==null?void 0:i[d];if(m===null)return null;const v=X_(m)||X_(g);return s[d][v]}),u=n&&Object.entries(n).reduce((d,m)=>{let[g,v]=m;return v===void 0||(d[g]=v),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,m)=>{let{class:g,className:v,...S}=m;return Object.entries(S).every(_=>{let[T,I]=_;return Array.isArray(I)?I.includes({...i,...u}[T]):{...i,...u}[T]===I})?[...d,g,v]:d},[]);return Y_(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},R1="-",Sq=t=>{const e=Tq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const i=s.split(R1);return i[0]===""&&i.length!==1&&i.shift(),fD(i,e)||kq(s)},getConflictingClassGroupIds:(s,i)=>{const o=n[s]||[];return i&&r[s]?[...o,...r[s]]:o}}},fD=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),i=s?fD(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(R1);return(n=e.validators.find(({validator:u})=>u(o)))==null?void 0:n.classGroupId},J_=/^\[(.+)\]$/,kq=t=>{if(J_.test(t)){const e=J_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Tq=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)wb(n[s],r,s,e);return r},wb=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Z_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Iq(s)){wb(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{wb(o,Z_(e,i),n,r)})})},Z_=(t,e)=>{let n=t;return e.split(R1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Iq=t=>t.isThemeGetter,_q=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},bb="!",xb=":",Cq=xb.length,Nq=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,u=0,c=0,d;for(let _=0;_<s.length;_++){let T=s[_];if(o===0&&u===0){if(T===xb){i.push(s.slice(c,_)),c=_+Cq;continue}if(T==="/"){d=_;continue}}T==="["?o++:T==="]"?o--:T==="("?u++:T===")"&&u--}const m=i.length===0?s:s.substring(c),g=Aq(m),v=g!==m,S=d&&d>c?d-c:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:S}};if(e){const s=e+xb,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},Aq=t=>t.endsWith(bb)?t.substring(0,t.length-1):t.startsWith(bb)?t.substring(1):t,Pq=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r}},Rq=t=>({cache:_q(t.cacheSize),parseClassName:Nq(t),sortModifiers:Pq(t),...Sq(t)}),Dq=/\s+/,Mq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],u=t.trim().split(Dq);let c="";for(let d=u.length-1;d>=0;d-=1){const m=u[d],{isExternal:g,modifiers:v,hasImportantModifier:S,baseClassName:_,maybePostfixModifierPosition:T}=n(m);if(g){c=m+(c.length>0?" "+c:c);continue}let I=!!T,A=r(I?_.substring(0,T):_);if(!A){if(!I){c=m+(c.length>0?" "+c:c);continue}if(A=r(_),!A){c=m+(c.length>0?" "+c:c);continue}I=!1}const R=i(v).join(":"),O=S?R+bb:R,z=O+A;if(o.includes(z))continue;o.push(z);const B=s(A,I);for(let G=0;G<B.length;++G){const D=B[G];o.push(O+D)}c=m+(c.length>0?" "+c:c)}return c};function Oq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=pD(e))&&(r&&(r+=" "),r+=n);return r}const pD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=pD(t[r]))&&(n&&(n+=" "),n+=e);return n};function Lq(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((m,g)=>g(m),t());return n=Rq(d),r=n.cache.get,s=n.cache.set,i=u,u(c)}function u(c){const d=r(c);if(d)return d;const m=Mq(c,n);return s(c,m),m}return function(){return i(Oq.apply(null,arguments))}}const en=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},mD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jq=/^\d+\/\d+$/,Fq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Vq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Uq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vu=t=>jq.test(t),qe=t=>!!t&&!Number.isNaN(Number(t)),Aa=t=>!!t&&Number.isInteger(Number(t)),X0=t=>t.endsWith("%")&&qe(t.slice(0,-1)),Ei=t=>Fq.test(t),$q=()=>!0,qq=t=>Vq.test(t)&&!zq.test(t),yD=()=>!1,Wq=t=>Uq.test(t),Gq=t=>Bq.test(t),Kq=t=>!xe(t)&&!Ee(t),Hq=t=>Mc(t,bD,yD),xe=t=>mD.test(t),qo=t=>Mc(t,xD,qq),Y0=t=>Mc(t,Zq,qe),eC=t=>Mc(t,vD,yD),Qq=t=>Mc(t,wD,Gq),hm=t=>Mc(t,ED,Wq),Ee=t=>gD.test(t),Zh=t=>Oc(t,xD),Xq=t=>Oc(t,eW),tC=t=>Oc(t,vD),Yq=t=>Oc(t,bD),Jq=t=>Oc(t,wD),dm=t=>Oc(t,ED,!0),Mc=(t,e,n)=>{const r=mD.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Oc=(t,e,n=!1)=>{const r=gD.exec(t);return r?r[1]?e(r[1]):n:!1},vD=t=>t==="position"||t==="percentage",wD=t=>t==="image"||t==="url",bD=t=>t==="length"||t==="size"||t==="bg-size",xD=t=>t==="length",Zq=t=>t==="number",eW=t=>t==="family-name",ED=t=>t==="shadow",tW=()=>{const t=en("color"),e=en("font"),n=en("text"),r=en("font-weight"),s=en("tracking"),i=en("leading"),o=en("breakpoint"),u=en("container"),c=en("spacing"),d=en("radius"),m=en("shadow"),g=en("inset-shadow"),v=en("text-shadow"),S=en("drop-shadow"),_=en("blur"),T=en("perspective"),I=en("aspect"),A=en("ease"),R=en("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...z(),Ee,xe],G=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],C=()=>[Ee,xe,c],P=()=>[Vu,"full","auto",...C()],L=()=>[Aa,"none","subgrid",Ee,xe],V=()=>["auto",{span:["full",Aa,Ee,xe]},Aa,Ee,xe],$=()=>[Aa,"auto",Ee,xe],j=()=>["auto","min","max","fr",Ee,xe],ke=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Re=()=>["start","end","center","stretch","center-safe","end-safe"],ye=()=>["auto",...C()],ve=()=>[Vu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],H=()=>[t,Ee,xe],ne=()=>[...z(),tC,eC,{position:[Ee,xe]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",Yq,Hq,{size:[Ee,xe]}],re=()=>[X0,Zh,qo],pe=()=>["","none","full",d,Ee,xe],me=()=>["",qe,Zh,qo],De=()=>["solid","dashed","dotted","double"],Ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[qe,X0,tC,eC],$e=()=>["","none",_,Ee,xe],ze=()=>["none",qe,Ee,xe],pt=()=>["none",qe,Ee,xe],vr=()=>[qe,Ee,xe],wr=()=>[Vu,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ei],breakpoint:[Ei],color:[$q],container:[Ei],"drop-shadow":[Ei],ease:["in","out","in-out"],font:[Kq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ei],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ei],shadow:[Ei],spacing:["px",qe],text:[Ei],"text-shadow":[Ei],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vu,xe,Ee,I]}],container:["container"],columns:[{columns:[qe,xe,Ee,u]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Aa,"auto",Ee,xe]}],basis:[{basis:[Vu,"full","auto",u,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,Vu,"auto","initial","none",xe]}],grow:[{grow:["",qe,Ee,xe]}],shrink:[{shrink:["",qe,Ee,xe]}],order:[{order:[Aa,"first","last","none",Ee,xe]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...ke(),"normal"]}],"justify-items":[{"justify-items":[...Re(),"normal"]}],"justify-self":[{"justify-self":["auto",...Re()]}],"align-content":[{content:["normal",...ke()]}],"align-items":[{items:[...Re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Re(),{baseline:["","last"]}]}],"place-content":[{"place-content":ke()}],"place-items":[{"place-items":[...Re(),"baseline"]}],"place-self":[{"place-self":["auto",...Re()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:ye()}],mx:[{mx:ye()}],my:[{my:ye()}],ms:[{ms:ye()}],me:[{me:ye()}],mt:[{mt:ye()}],mr:[{mr:ye()}],mb:[{mb:ye()}],ml:[{ml:ye()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:ve()}],w:[{w:[u,"screen",...ve()]}],"min-w":[{"min-w":[u,"screen","none",...ve()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...ve()]}],h:[{h:["screen","lh",...ve()]}],"min-h":[{"min-h":["screen","lh","none",...ve()]}],"max-h":[{"max-h":["screen","lh",...ve()]}],"font-size":[{text:["base",n,Zh,qo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ee,Y0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",X0,xe]}],"font-family":[{font:[Xq,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ee,xe]}],"line-clamp":[{"line-clamp":[qe,"none",Ee,Y0]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",Ee,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...De(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",Ee,qo]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[qe,"auto",Ee,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Aa,Ee,xe],radial:["",Ee,xe],conic:[Aa,Ee,xe]},Jq,Qq]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...De(),"hidden","none"]}],"divide-style":[{divide:[...De(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...De(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,Ee,xe]}],"outline-w":[{outline:["",qe,Zh,qo]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",m,dm,hm]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",g,dm,hm]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[qe,qo]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",v,dm,hm]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[qe,Ee,xe]}],"mix-blend":[{"mix-blend":[...Ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Ee,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,xe]}],filter:[{filter:["","none",Ee,xe]}],blur:[{blur:$e()}],brightness:[{brightness:[qe,Ee,xe]}],contrast:[{contrast:[qe,Ee,xe]}],"drop-shadow":[{"drop-shadow":["","none",S,dm,hm]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",qe,Ee,xe]}],"hue-rotate":[{"hue-rotate":[qe,Ee,xe]}],invert:[{invert:["",qe,Ee,xe]}],saturate:[{saturate:[qe,Ee,xe]}],sepia:[{sepia:["",qe,Ee,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,xe]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[qe,Ee,xe]}],"backdrop-contrast":[{"backdrop-contrast":[qe,Ee,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,Ee,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,Ee,xe]}],"backdrop-invert":[{"backdrop-invert":["",qe,Ee,xe]}],"backdrop-opacity":[{"backdrop-opacity":[qe,Ee,xe]}],"backdrop-saturate":[{"backdrop-saturate":[qe,Ee,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,Ee,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",Ee,xe]}],ease:[{ease:["linear","initial",A,Ee,xe]}],delay:[{delay:[qe,Ee,xe]}],animate:[{animate:["none",R,Ee,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Ee,xe]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:ze()}],"rotate-x":[{"rotate-x":ze()}],"rotate-y":[{"rotate-y":ze()}],"rotate-z":[{"rotate-z":ze()}],scale:[{scale:pt()}],"scale-x":[{"scale-x":pt()}],"scale-y":[{"scale-y":pt()}],"scale-z":[{"scale-z":pt()}],"scale-3d":["scale-3d"],skew:[{skew:vr()}],"skew-x":[{"skew-x":vr()}],"skew-y":[{"skew-y":vr()}],transform:[{transform:[Ee,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:wr()}],"translate-x":[{"translate-x":wr()}],"translate-y":[{"translate-y":wr()}],"translate-z":[{"translate-z":wr()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,xe]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[qe,Zh,qo,Y0]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nW=Lq(tW);function wt(...t){return nW(dD(t))}function Eb(t){const e=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];if(t<20)return e[t];if(t<100)return n[Math.floor(t/10)]+(t%10?"-"+e[t%10]:"");if(t<1e3){const r=t%100,s=e[Math.floor(t/100)]+" hundred";return r?s+" "+Eb(r):s}return String(t)}function Sb(t){const e=["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","diecisis","diecisiete","dieciocho","diecinueve"],n=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];if(t<20)return e[t];if(t<30)return t===20?"veinte":"veinti"+e[t-20];if(t<100)return n[Math.floor(t/10)]+(t%10?" y "+e[t%10]:"");if(t<200)return"ciento"+(t%100?" "+Sb(t%100):"");if(t<1e3){const r=["cero","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"][Math.floor(t/100)],s=t%100;return r+(s?" "+Sb(s):"")}return String(t)}function dne(t,e={}){if(!t||typeof t!="string")return t;const{numberToWords:n="auto",language:r,pauseOperators:s=!0}=e;let i="en";try{i=r||(localStorage.getItem("tts.lang")==="es"?"es":"en")||"en"}catch{}let o=t;o=o.replace(//g,"-").replace(/|/g,"");const u={2:"half",3:"third",4:"fourth",5:"fifth",6:"sixth",7:"seventh",8:"eighth",9:"ninth",10:"tenth",12:"twelfth"},c={2:"medios",3:"tercios",4:"cuartos",5:"quintos",6:"sextos",7:"sptimos",8:"octavos",9:"novenos",10:"dcimos",12:"duodcimos"};if([{pattern:/\s*\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\/\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\s*/g,spoken:i==="es"?" por ":" times "},{pattern:/\s*\*\s*/g,spoken:" times "},{pattern:/(\d+)\s*[xX]\s*(\d+)/g,spoken:i==="es"?"$1 por $2":"$1 times $2"},{pattern:/\s*\+\s*/g,spoken:i==="es"?" ms ":" plus "},{pattern:/(\d+)\s*-\s*(\d+)/g,spoken:i==="es"?"$1 menos $2":"$1 minus $2"},{pattern:/\s*=\s*/g,spoken:i==="es"?" igual a ":" equals "},{pattern:/\s*>\s*/g,spoken:i==="es"?" es mayor que ":" is greater than "},{pattern:/\s*<\s*/g,spoken:i==="es"?" es menor que ":" is less than "},{pattern:/\s*\s*/g,spoken:i==="es"?" es mayor o igual que ":" is greater than or equal to "},{pattern:/\s*\s*/g,spoken:i==="es"?" es menor o igual que ":" is less than or equal to "},{pattern:/(\d+)\/(\d+)/g,spoken:(d,m,g)=>i==="es"?`${m} ${c[g]||"sobre "+g}`:u[g]?`${m==="1"?"one":Eb(Number(m))} ${u[g]}${m!=="1"?"s":""}`:`${m} over ${g}`},{pattern:/%/g,spoken:i==="es"?" por ciento":" percent"},{pattern:/\^(\d+)/g,spoken:i==="es"?" a la potencia de $1":" to the power of $1"},{pattern:/(\d+)/g,spoken:i==="es"?"raz cuadrada de $1":"square root of $1"}].forEach(({pattern:d,spoken:m})=>{o=o.replace(d,m)}),o=o.replace(/(\d)\.(\d)/g,i==="es"?"$1 coma $2":"$1 point $2"),o=o.replace(/\s*(,)?\s*(\?+|_+)\s*(,)?\s*/g,(d,m,g,v)=>m&&v?", ":" "),o=o.replace(/\?\s*$/g,""),s&&(i==="es"?[" ms "," menos "," por "," dividido entre "," igual a "]:[" plus "," minus "," times "," divided by "," equals "]).forEach(d=>{const m=new RegExp(d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(?!,)","g");o=o.replace(m,d+", ")}),n!=="none"){const d=i==="es"?Sb:Eb;o=o.replace(/\b\d+\b/g,(m,g)=>{const v=parseInt(m,10);if(!Number.isFinite(v))return m;if(n==="all")return d(v);const S=v<=20,_=o[g-1]||"",T=o[g+m.length]||"";return S||_===","||T===","?d(v):m})}return o=o.replace(/\s+,/g,",").replace(/,\s*,/g,", ").replace(/\s+/g," ").replace(/\s+,\s*$/g,"").trim(),o}const rW=Oy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pr({className:t,variant:e,...n}){return x.jsx("div",{className:wt(rW({variant:e}),t),...n})}function nC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ol(...t){return e=>{let n=!1;const r=t.map(s=>{const i=nC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():nC(t[s],null)}}}}function er(...t){return E.useCallback(Ol(...t),t)}var sW=Symbol.for("react.lazy"),Dg=sx[" use ".trim().toString()];function iW(t){return typeof t=="object"&&t!==null&&"then"in t}function SD(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===sW&&"_payload"in t&&iW(t._payload)}function aW(t){const e=lW(t),n=E.forwardRef((r,s)=>{let{children:i,...o}=r;SD(i)&&typeof Dg=="function"&&(i=Dg(i._payload));const u=E.Children.toArray(i),c=u.find(cW);if(c){const d=c.props.children,m=u.map(g=>g===c?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var oW=aW("Slot");function lW(t){const e=E.forwardRef((n,r)=>{let{children:s,...i}=n;if(SD(s)&&typeof Dg=="function"&&(s=Dg(s._payload)),E.isValidElement(s)){const o=dW(s),u=hW(i,s.props);return s.type!==E.Fragment&&(u.ref=r?Ol(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var uW=Symbol("radix.slottable");function cW(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===uW}function hW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function dW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}const fW=Oy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Us=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?oW:"button";return x.jsx(o,{className:wt(fW({variant:e,size:n,className:t})),ref:i,...s})});Us.displayName="Button";const un=by(os);ey(os);const kD=async(t,e={})=>{const n=Xs(un,"users",t),r={email:t,subscription_tier:"free",subscription_expires_at:null,subscription_auto_renew:!1,trial_start_date:Mn(),trial_expires_at:null,trial_used:!1,trial_grace_used:!1,coins:0,stars_spent:0,total_stars_earned:0,owned_pets:[],active_pet:null,purchased_items:[],unlocked_items:[],power_ups:{},pet_experience:{},daily_login_streak:0,total_login_days:0,last_login_date:null,parental_controls:{enabled:!1,allowed_operations:[],allowed_levels:[],focus_operations:[],daily_time_limit_minutes:0,enforce_time_limits:!1},daily_usage_tracking:{},is_parent_mode:!1,is_premium_parent:!1,is_family_teacher:!1,parent_email:null,child_name:null,full_name:null,created_at:Mn(),updated_at:Mn(),...e};await Cy(n,r);const s=(await oR(n)).data();let i=null;if(s&&s.trial_start_date&&s.trial_start_date.toDate?i=s.trial_start_date.toDate():s&&s.trial_start_date&&s.trial_start_date.seconds&&(i=new Date(s.trial_start_date.seconds*1e3)),i){const o=new Date(i.getTime()+6048e5);return await Ny(n,{trial_expires_at:rt.fromDate(o),updated_at:Mn()}),{...s,trial_expires_at:rt.fromDate(o)}}return s||r},TD=async t=>{const e=Xs(un,"users",t),n=await oR(e);return n.exists()?{id:n.id,...n.data()}:await kD(t)},fm=async(t,e)=>{const n=Xs(un,"users",t);await Ny(n,{...e,updated_at:Mn()})},fne=async()=>{const t=An(un,"users");return(await as(t)).docs.map(e=>({id:e.id,...e.data()}))},pne=async(t,e)=>{const n=An(un,"gameProgress"),r=Xs(n),s={user_email:t,operation:e.operation,level:e.level,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,coins_earned:e.coins_earned||0,accuracy:e.accuracy||0,completed_at:Mn(),...e};return await Cy(r,s),{id:r.id,...s}},mne=async t=>{const e=An(un,"gameProgress"),n=is(e,Or("user_email","==",t),Pc("completed_at","desc"));return(await as(n)).docs.map(r=>({id:r.id,...r.data()}))},gne=(t,e)=>{const n=An(un,"gameProgress"),r=is(n,Or("user_email","==",t),Pc("completed_at","desc"));return lR(r,s=>{const i=s.docs.map(o=>({id:o.id,...o.data()}));e(i)})},yne=async()=>{const t=An(un,"gameProgress"),e=is(t,Pc("score","desc"),h1(100));return(await as(e)).docs.map(n=>({id:n.id,...n.data()}))},vne=async(t,e)=>{const n=An(un,"dailyChallenges"),r=Xs(n),s={user_email:t,challenge_type:e.challenge_type,challenge_date:e.challenge_date,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,bonus_coins:e.bonus_coins||0,completed_at:Mn(),...e};return await Cy(r,s),{id:r.id,...s}},wne=async t=>{const e=An(un,"dailyChallenges"),n=is(e,Or("user_email","==",t),Pc("completed_at","desc"));return(await as(n)).docs.map(r=>({id:r.id,...r.data()}))},bne=async()=>{const t=An(un,"dailyChallenges"),e=is(t,Pc("score","desc"),h1(100));return(await as(e)).docs.map(n=>({id:n.id,...n.data()}))},xne=async t=>{const e=An(un,"teamChallenges"),n=is(e,Or("creator_email","==",t)),r=is(e,Or("team_members","array-contains",t)),[s,i]=await Promise.all([as(n),as(r)]),o=new Map;return s.docs.forEach(u=>o.set(u.id,{id:u.id,...u.data()})),i.docs.forEach(u=>o.set(u.id,{id:u.id,...u.data()})),Array.from(o.values())},Ene=async(t,e)=>{const n=Xs(un,"teamChallenges",t);await Ny(n,{...e,updated_at:Mn()})},Sne=async t=>{const e=An(un,"tutorSessions"),n=is(e,Or("user_email","==",t),Pc("created_at","desc"),h1(50));return(await as(n)).docs.map(r=>({id:r.id,...r.data()}))},kne=async(t,e)=>{const n=An(un,"friendConnections"),r=Xs(n),s={user_email:t,friend_email:e,status:"pending",sent_at:Mn()};return await Cy(r,s),{id:r.id,...s}},Tne=async t=>{const e=An(un,"friendConnections"),n=is(e,Or("user_email","==",t),Or("status","==","accepted")),r=is(e,Or("friend_email","==",t),Or("status","==","accepted")),[s,i]=await Promise.all([as(n),as(r)]);return[...s.docs.map(o=>({id:o.id,...o.data()})),...i.docs.map(o=>({id:o.id,...o.data()}))]},Ine=async t=>{const e=An(un,"friendConnections"),n=is(e,Or("friend_email","==",t),Or("status","==","pending"));return(await as(n)).docs.map(r=>({id:r.id,...r.data()}))},_ne=async(t,e)=>{const n=Xs(un,"friendConnections",t);await Ny(n,{status:e,updated_at:Mn()})},Bm=E.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:wt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Bm.displayName="Input";function ID(){const[t,e]=E.useState("sign-in"),[n,r]=E.useState(""),[s,i]=E.useState(""),[o,u]=E.useState(""),[c,d]=E.useState(!1),[m,g]=E.useState(""),[v,S]=E.useState(""),[_,T]=E.useState(!1),[I,A]=E.useState(!1),R=()=>{S(""),g("")},O=async()=>{if(R(),!n){S("Email required");return}if(t==="sign-up"){if(!s){S("Password required");return}if(s!==o){S("Passwords do not match");return}}if(t==="sign-in"&&!s){S("Password required");return}d(!0);try{t==="sign-up"?(await T3(L0,n,s),await kD(n),g("Account created. You are signed in.")):t==="sign-in"?(await I3(L0,n,s),await TD(n),g("Signed in.")):t==="reset"&&(await k3(L0,n),g("Reset link sent. Check your email."))}catch(B){S((B==null?void 0:B.message)||"Auth failed")}finally{d(!1)}},z=B=>{R(),e(B)};return x.jsxs("div",{className:"w-full max-w-sm mx-auto bg-white/90 rounded-xl shadow-lg p-5 space-y-4",children:[x.jsxs("h2",{className:"text-xl font-bold text-purple-700 text-center",children:[t==="sign-in"&&"Sign In",t==="sign-up"&&"Create Account",t==="reset"&&"Reset Password"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Bm,{type:"email",autoComplete:"email",placeholder:"Email",value:n,onChange:B=>r(B.target.value)}),t!=="reset"&&x.jsxs("div",{className:"relative",children:[x.jsx(Bm,{type:_?"text":"password",autoComplete:t==="sign-up"?"new-password":"current-password",placeholder:"Password",value:s,onChange:B=>i(B.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>T(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:_?x.jsx(B_,{className:"w-4 h-4"}):x.jsx($_,{className:"w-4 h-4"})})]}),t==="sign-up"&&x.jsxs("div",{className:"relative",children:[x.jsx(Bm,{type:I?"text":"password",placeholder:"Confirm Password",value:o,onChange:B=>u(B.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>A(!I),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:I?x.jsx(B_,{className:"w-4 h-4"}):x.jsx($_,{className:"w-4 h-4"})})]})]}),(v||m)&&x.jsx("div",{className:`text-sm rounded-md p-2 ${v?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:v||m}),x.jsx(Us,{onClick:O,disabled:c,className:"w-full bg-purple-600 hover:bg-purple-700",children:c?"Please wait":t==="sign-in"?"Sign In":t==="sign-up"?"Sign Up":"Send Reset Link"}),x.jsxs("div",{className:"text-xs text-center text-gray-600 space-y-1",children:[t==="sign-in"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>z("sign-up"),className:"text-purple-600 hover:underline block w-full",children:"Need an account? Sign up"}),x.jsx("button",{onClick:()=>z("reset"),className:"text-purple-600 hover:underline block w-full",children:"Forgot password?"})]}),t==="sign-up"&&x.jsx("button",{onClick:()=>z("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Have an account? Sign in"}),t==="reset"&&x.jsx("button",{onClick:()=>z("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Back to sign in"})]})]})}const _D=t=>{if(!t)return!1;if(!t.trial_start_date||!t.trial_expires_at)return t.subscription_tier==="free"&&t.trial_used!==!0;if(t.subscription_tier!=="free"||t.trial_used===!0)return!1;const e=new Date,n=t.trial_expires_at.toDate();return e<n},pW=t=>{if(!t||!t.trial_start_date||!t.trial_expires_at||t.subscription_tier!=="free")return!1;const e=new Date,n=t.trial_expires_at.toDate();return e>=n},mW=t=>{if(!t||!t.trial_expires_at||t.subscription_tier!=="free")return 0;const e=new Date,n=t.trial_expires_at.toDate()-e;return n<=0?0:Math.ceil(n/(1e3*60*60*24))},gW=t=>t?!!(t.subscription_tier&&t.subscription_tier!=="free"||_D(t)&&t.trial_used!==!0):!1;let Mg=m8;(async()=>{try{!Mg&&await OR()&&(Mg=MR(os))}catch{}})();function Ly(t,e={}){if(Mg)try{LR(Mg,t,e)}catch(n){console.warn("analytics log skipped",t,n==null?void 0:n.message)}}const yW=t=>Ly("trial_start",{method:"auto",user_email:t}),vW=(t,e)=>Ly("trial_day",{day:e,user_email:t}),wW=t=>Ly("trial_expired",{user_email:t}),bW=t=>Ly("trial_grace_lock",{user_email:t}),D1=by(os);async function xW(t){try{await f1(An(D1,"notifications"),{user_email:t,type:"trial_day6_warning",title:"Trial Ending Soon!",message:"Your 7-day trial ends tomorrow. Upgrade now to keep unlimited access to premium features!",is_read:!1,created_at:Mn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create day6 notification:",e.message)}}async function EW(t){try{await f1(An(D1,"notifications"),{user_email:t,type:"trial_expired",title:"Trial Ended",message:"Your 7-day trial has ended. You are now on the free plan. Upgrade anytime to regain premium features.",is_read:!1,created_at:Mn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create trial expired notification:",e.message)}}async function SW(t){try{await f1(An(D1,"notifications"),{user_email:t,type:"trial_grace_day",title:"Grace Day: Final Chance!",message:"Your trial expired, but you still have premium access today only. Upgrade now before it locks tomorrow.",is_read:!1,created_at:Mn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create grace day notification:",e.message)}}function kW(){const[t,e]=E.useState(null),[n,r]=E.useState(!0),[s,i]=E.useState(null);return E.useEffect(()=>{const o=ey(os),u=by(os);let c=null;const d=N3(o,async m=>{var g;if(!m){e(null),r(!1);return}try{e(v=>v||{email:m.email,subscription_tier:"free",coins:0}),i(null);try{const v=(g=m==null?void 0:m.metadata)!=null&&g.creationTime?new Date(m.metadata.creationTime).getTime():null,S=v?Date.now()-v<1440*60*1e3:!1,_=`optimistic_trial_${m.email}`,T=typeof window<"u"?localStorage.getItem(_):null;S&&!T&&(e(I=>({...I||{},email:m.email,subscription_tier:"free",coins:0,isOnTrial:!0,trialExpired:!1,trialDaysRemaining:7,inGraceDay:!1,hasPremiumAccess:!0,_optimisticTrial:!0})),localStorage.setItem(_,"true"))}catch{}try{if(typeof window<"u"&&window.location.search.includes("reset_trial=true")){const v=Date.now(),S=new Date(v+10080*60*1e3);await fm(m.email,{trial_start_date:Mn(),trial_expires_at:rt.fromDate(S),trial_used:!1,trial_grace_used:!1}),localStorage.removeItem(`trial_log_${m.email}`);const _=new URL(window.location.href);_.searchParams.delete("reset_trial"),window.history.replaceState({},"",_.toString()),console.info("[trial] Trial reset performed for",m.email)}}catch(v){console.warn("[trial] Trial reset attempt failed:",v==null?void 0:v.message)}c&&c(),c=lR(Xs(u,"users",m.email),v=>{var S,_;if(v.exists()){const T={id:v.id,...v.data()};(async()=>{try{if(!T.trial_start_date||!T.trial_expires_at){const V=Date.now(),$=new Date(V+10080*60*1e3);await fm(m.email,{trial_start_date:Mn(),trial_expires_at:rt.fromDate($),trial_used:!1,trial_grace_used:!1})}}catch{}})();const I=_D(T)||!T.trial_start_date||!T.trial_expires_at,A=pW(T),R=mW(T),O=7,z=(S=T.trial_start_date)!=null&&S.toDate?Math.floor((Date.now()-T.trial_start_date.toDate().getTime())/(1e3*60*60*24)):null,B=A&&z===O&&T.trial_grace_used!==!0;e({...T,isOnTrial:I,trialExpired:A,trialDaysRemaining:R,inGraceDay:B,hasPremiumAccess:gW(T)||I||B});const G=v.id,D=`trial_log_${G}`,C=localStorage.getItem(D);let P=C?JSON.parse(C):{};const L=(_=T.trial_start_date)!=null&&_.toDate?T.trial_start_date.toDate().getTime():null;if(L){const V=P.trial_start_timestamp||null;(!V||V!==L)&&(P={})}if(T.trial_start_date&&!P.trial_start&&(yW(G),P.trial_start=!0,L&&(P.trial_start_timestamp=L)),I&&R>=0&&R<=7){const V=`day_${7-R}`;P[V]||(vW(G,7-R),P[V]=!0),R===1&&!P.notif_day6&&(xW(G),P.notif_day6=!0)}A&&T.subscription_tier==="free"&&!P.trial_expired&&(wW(G),P.trial_expired=!0,T.trial_used!==!0&&fm(v.id,{trial_used:!0}).catch(()=>{}),P.notif_expired||(EW(G),P.notif_expired=!0)),B&&!P.grace_lock&&(bW(G),P.grace_lock=!0,T.trial_grace_used!==!0&&fm(v.id,{trial_grace_used:!0}).catch(()=>{}),P.notif_grace||(SW(G),P.notif_grace=!0));try{localStorage.setItem(D,JSON.stringify(P))}catch{}}},v=>{console.error("Firestore snapshot error:",v)}),TD(m.email).catch(v=>{console.error("Failed to ensure user profile",v),i(v)})}catch(v){console.error("Failed to initialize user session",v),i(v),e({email:m.email,subscription_tier:"free",coins:0})}finally{r(!1)}});return()=>{c&&c(),d()}},[]),{user:t,loading:n,error:s}}const CD=E.createContext({user:null,loading:!0,error:null});function TW({children:t}){const e=kW();return x.jsx(CD.Provider,{value:e,children:t})}function M1(){return E.useContext(CD)}const IW=Oy("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ND=E.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,role:"alert",className:wt(IW({variant:e}),t),...n}));ND.displayName="Alert";const _W=E.forwardRef(({className:t,...e},n)=>x.jsx("h5",{ref:n,className:wt("mb-1 font-medium leading-none tracking-tight",t),...e}));_W.displayName="AlertTitle";const AD=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm [&_p]:leading-relaxed",t),...e}));AD.displayName="AlertDescription";function CW(){const{user:t}=M1(),e=x1(),[n,r]=tn.useState(!1),[s,i]=tn.useState(!0);if(!t||n===!0||s===!1||!(t.isOnTrial||t.trialExpired||t.inGraceDay))return null;const o=t.trialExpired&&!t.inGraceDay,u=t.trialDaysRemaining||0,c=t.inGraceDay;return x.jsx(ND,{className:`mb-4 ${o?"bg-red-50 border-red-300":u<=2?"bg-orange-50 border-orange-300":"bg-blue-50 border-blue-300"}`,children:x.jsxs("div",{className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c?x.jsx(sl,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}):o?x.jsx(sl,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):x.jsx(K$,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),x.jsx(AD,{className:c?"text-orange-800":o?"text-red-800":"text-blue-800",children:x.jsx("div",{className:"space-y-2",children:c?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Grace Day: Final Chance!"}),x.jsx("p",{className:"text-sm",children:"Your trial expired, but you still have premium access today only. Upgrade now to keep everything before it locks tomorrow."})]}):o?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Your 7-day trial has ended"}),x.jsx("p",{className:"text-sm",children:"You're now on the free plan with limited access. Upgrade to continue enjoying premium features like unlimited games, AI tutor, and more!"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:u===0?" Trial ends today!":`${u} day${u===1?"":"s"} left in your trial`}),x.jsx("p",{className:"text-sm",children:"You're currently enjoying premium features. Upgrade now to keep unlimited access after your trial ends!"})]})})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(Us,{onClick:()=>e("/subscription"),className:`${c?"bg-orange-600 hover:bg-orange-700":o?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white whitespace-nowrap`,size:"sm",children:[x.jsx(sl,{className:"w-4 h-4 mr-1"}),"Upgrade Now"]}),x.jsx(Us,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"flex-shrink-0",children:x.jsx(P1,{className:"w-4 h-4"})})]})]})})}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Cne(t,e){const n=E.createContext(e),r=i=>{const{children:o,...u}=i,c=E.useMemo(()=>u,Object.values(u));return x.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=E.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function kf(t,e=[]){let n=[];function r(i,o){const u=E.createContext(o),c=n.length;n=[...n,o];const d=g=>{var v;const{scope:S,children:_,...T}=g,I=((v=S==null?void 0:S[t])==null?void 0:v[c])||u,A=E.useMemo(()=>T,Object.values(T));return x.jsx(I.Provider,{value:A,children:_})};d.displayName=i+"Provider";function m(g,v){var S;const _=((S=v==null?void 0:v[t])==null?void 0:S[c])||u,T=E.useContext(_);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[d,m]}const s=()=>{const i=n.map(o=>E.createContext(o));return function(o){const u=(o==null?void 0:o[t])||i;return E.useMemo(()=>({[`__scope${t}`]:{...o,[t]:u}}),[o,u])}};return s.scopeName=t,[r,NW(s,...e)]}function NW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const i=r.reduce((o,{useScope:u,scopeName:c})=>{const d=u(s)[`__scope${c}`];return{...o,...d}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var Ya=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},AW=sx[" useInsertionEffect ".trim().toString()]||Ya;function PD({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=PW({defaultProp:e,onChange:n}),u=t!==void 0,c=u?t:s;{const m=E.useRef(t!==void 0);E.useEffect(()=>{const g=m.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const d=E.useCallback(m=>{var g;if(u){const v=RW(m)?m(t):m;v!==t&&((g=o.current)==null||g.call(o,v))}else i(m)},[u,t,i,o]);return[c,d]}function PW({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),s=E.useRef(n),i=E.useRef(e);return AW(()=>{i.current=e},[e]),E.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function RW(t){return typeof t=="function"}function DW(t){const e=MW(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),c=u.find(LW);if(c){const d=c.props.children,m=u.map(g=>g===c?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function MW(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=FW(s),u=jW(i,s.props);return s.type!==E.Fragment&&(u.ref=r?Ol(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var OW=Symbol("radix.slottable");function LW(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===OW}function jW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function FW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var VW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vn=VW.reduce((t,e)=>{const n=DW(`Primitive.${e}`),r=E.forwardRef((s,i)=>{const{asChild:o,...u}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(c,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function RD(t,e){t&&I1.flushSync(()=>t.dispatchEvent(e))}function rC(t){const e=zW(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),c=u.find(BW);if(c){const d=c.props.children,m=u.map(g=>g===c?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function zW(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=qW(s),u=$W(i,s.props);return s.type!==E.Fragment&&(u.ref=r?Ol(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var UW=Symbol("radix.slottable");function BW(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===UW}function $W(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function qW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function DD(t){const e=t+"CollectionProvider",[n,r]=kf(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=T=>{const{scope:I,children:A}=T,R=tn.useRef(null),O=tn.useRef(new Map).current;return x.jsx(s,{scope:I,itemMap:O,collectionRef:R,children:A})};o.displayName=e;const u=t+"CollectionSlot",c=rC(u),d=tn.forwardRef((T,I)=>{const{scope:A,children:R}=T,O=i(u,A),z=er(I,O.collectionRef);return x.jsx(c,{ref:z,children:R})});d.displayName=u;const m=t+"CollectionItemSlot",g="data-radix-collection-item",v=rC(m),S=tn.forwardRef((T,I)=>{const{scope:A,children:R,...O}=T,z=tn.useRef(null),B=er(I,z),G=i(m,A);return tn.useEffect(()=>(G.itemMap.set(z,{ref:z,...O}),()=>void G.itemMap.delete(z))),x.jsx(v,{[g]:"",ref:B,children:R})});S.displayName=m;function _(T){const I=i(t+"CollectionConsumer",T);return tn.useCallback(()=>{const A=I.collectionRef.current;if(!A)return[];const R=Array.from(A.querySelectorAll(`[${g}]`));return Array.from(I.itemMap.values()).sort((O,z)=>R.indexOf(O.ref.current)-R.indexOf(z.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:o,Slot:d,ItemSlot:S},_,r]}var WW=E.createContext(void 0);function MD(t){const e=E.useContext(WW);return t||e||"ltr"}function Mi(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function GW(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var KW="DismissableLayer",kb="dismissableLayer.update",HW="dismissableLayer.pointerDownOutside",QW="dismissableLayer.focusOutside",sC,OD=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),LD=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:u,...c}=t,d=E.useContext(OD),[m,g]=E.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=E.useState({}),_=er(e,D=>g(D)),T=Array.from(d.layers),[I]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),A=T.indexOf(I),R=m?T.indexOf(m):-1,O=d.layersWithOutsidePointerEventsDisabled.size>0,z=R>=A,B=JW(D=>{const C=D.target,P=[...d.branches].some(L=>L.contains(C));!z||P||(s==null||s(D),o==null||o(D),D.defaultPrevented||u==null||u())},v),G=ZW(D=>{const C=D.target;[...d.branches].some(P=>P.contains(C))||(i==null||i(D),o==null||o(D),D.defaultPrevented||u==null||u())},v);return GW(D=>{R===d.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},v),E.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(sC=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),iC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=sC)}},[m,v,n,d]),E.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),iC())},[m,d]),E.useEffect(()=>{const D=()=>S({});return document.addEventListener(kb,D),()=>document.removeEventListener(kb,D)},[]),x.jsx(Vn.div,{...c,ref:_,style:{pointerEvents:O?z?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,G.onFocusCapture),onBlurCapture:et(t.onBlurCapture,G.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,B.onPointerDownCapture)})});LD.displayName=KW;var XW="DismissableLayerBranch",YW=E.forwardRef((t,e)=>{const n=E.useContext(OD),r=E.useRef(null),s=er(e,r);return E.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(Vn.div,{...t,ref:s})});YW.displayName=XW;function JW(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let c=function(){jD(HW,n,d,{discrete:!0})};const d={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ZW(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t),r=E.useRef(!1);return E.useEffect(()=>{const s=i=>{i.target&&!r.current&&jD(QW,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function iC(){const t=new CustomEvent(kb);document.dispatchEvent(t)}function jD(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?RD(s,i):s.dispatchEvent(i)}var J0=0;function eG(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??aC()),document.body.insertAdjacentElement("beforeend",t[1]??aC()),J0++,()=>{J0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),J0--}},[])}function aC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Z0="focusScope.autoFocusOnMount",ew="focusScope.autoFocusOnUnmount",oC={bubbles:!1,cancelable:!0},tG="FocusScope",FD=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[u,c]=E.useState(null),d=Mi(s),m=Mi(i),g=E.useRef(null),v=er(e,T=>c(T)),S=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let T=function(O){if(S.paused||!u)return;const z=O.target;u.contains(z)?g.current=z:Ra(g.current,{select:!0})},I=function(O){if(S.paused||!u)return;const z=O.relatedTarget;z!==null&&(u.contains(z)||Ra(g.current,{select:!0}))},A=function(O){if(document.activeElement===document.body)for(const z of O)z.removedNodes.length>0&&Ra(u)};document.addEventListener("focusin",T),document.addEventListener("focusout",I);const R=new MutationObserver(A);return u&&R.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",I),R.disconnect()}}},[r,u,S.paused]),E.useEffect(()=>{if(u){uC.add(S);const T=document.activeElement;if(!u.contains(T)){const I=new CustomEvent(Z0,oC);u.addEventListener(Z0,d),u.dispatchEvent(I),I.defaultPrevented||(nG(oG(VD(u)),{select:!0}),document.activeElement===T&&Ra(u))}return()=>{u.removeEventListener(Z0,d),setTimeout(()=>{const I=new CustomEvent(ew,oC);u.addEventListener(ew,m),u.dispatchEvent(I),I.defaultPrevented||Ra(T??document.body,{select:!0}),u.removeEventListener(ew,m),uC.remove(S)},0)}}},[u,d,m,S]);const _=E.useCallback(T=>{if(!n&&!r||S.paused)return;const I=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,A=document.activeElement;if(I&&A){const R=T.currentTarget,[O,z]=rG(R);O&&z?!T.shiftKey&&A===z?(T.preventDefault(),n&&Ra(O,{select:!0})):T.shiftKey&&A===O&&(T.preventDefault(),n&&Ra(z,{select:!0})):A===R&&T.preventDefault()}},[n,r,S.paused]);return x.jsx(Vn.div,{tabIndex:-1,...o,ref:v,onKeyDown:_})});FD.displayName=tG;function nG(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ra(r,{select:e}),document.activeElement!==n)return}function rG(t){const e=VD(t),n=lC(e,t),r=lC(e.reverse(),t);return[n,r]}function VD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function lC(t,e){for(const n of t)if(!sG(n,{upTo:e}))return n}function sG(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function iG(t){return t instanceof HTMLInputElement&&"select"in t}function Ra(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&iG(t)&&e&&t.select()}}var uC=aG();function aG(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=cC(t,e),t.unshift(e)},remove(e){var n;t=cC(t,e),(n=t[0])==null||n.resume()}}}function cC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function oG(t){return t.filter(e=>e.tagName!=="A")}var lG=sx[" useId ".trim().toString()]||(()=>{}),uG=0;function Tb(t){const[e,n]=E.useState(lG());return Ya(()=>{n(r=>r??String(uG++))},[t]),e?`radix-${e}`:""}const cG=["top","right","bottom","left"],Ja=Math.min,dr=Math.max,Og=Math.round,pm=Math.floor,Bs=t=>({x:t,y:t}),hG={left:"right",right:"left",bottom:"top",top:"bottom"},dG={start:"end",end:"start"};function Ib(t,e,n){return dr(t,Ja(e,n))}function Oi(t,e){return typeof t=="function"?t(e):t}function Li(t){return t.split("-")[0]}function Lc(t){return t.split("-")[1]}function O1(t){return t==="x"?"y":"x"}function L1(t){return t==="y"?"height":"width"}const fG=new Set(["top","bottom"]);function Os(t){return fG.has(Li(t))?"y":"x"}function j1(t){return O1(Os(t))}function pG(t,e,n){n===void 0&&(n=!1);const r=Lc(t),s=j1(t),i=L1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Lg(o)),[o,Lg(o)]}function mG(t){const e=Lg(t);return[_b(t),e,_b(e)]}function _b(t){return t.replace(/start|end/g,e=>dG[e])}const hC=["left","right"],dC=["right","left"],gG=["top","bottom"],yG=["bottom","top"];function vG(t,e,n){switch(t){case"top":case"bottom":return n?e?dC:hC:e?hC:dC;case"left":case"right":return e?gG:yG;default:return[]}}function wG(t,e,n,r){const s=Lc(t);let i=vG(Li(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(_b)))),i}function Lg(t){return t.replace(/left|right|bottom|top/g,e=>hG[e])}function bG(t){return{top:0,right:0,bottom:0,left:0,...t}}function zD(t){return typeof t!="number"?bG(t):{top:t,right:t,bottom:t,left:t}}function jg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function fC(t,e,n){let{reference:r,floating:s}=t;const i=Os(e),o=j1(e),u=L1(o),c=Li(e),d=i==="y",m=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let S;switch(c){case"top":S={x:m,y:r.y-s.height};break;case"bottom":S={x:m,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:g};break;case"left":S={x:r.x-s.width,y:g};break;default:S={x:r.x,y:r.y}}switch(Lc(e)){case"start":S[o]-=v*(n&&d?-1:1);break;case"end":S[o]+=v*(n&&d?-1:1);break}return S}const xG=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,u=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y:g}=fC(d,r,c),v=r,S={},_=0;for(let T=0;T<u.length;T++){const{name:I,fn:A}=u[T],{x:R,y:O,data:z,reset:B}=await A({x:m,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:S,rects:d,platform:o,elements:{reference:t,floating:e}});m=R??m,g=O??g,S={...S,[I]:{...S[I],...z}},B&&_<=50&&(_++,typeof B=="object"&&(B.placement&&(v=B.placement),B.rects&&(d=B.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):B.rects),{x:m,y:g}=fC(d,v,c)),T=-1)}return{x:m,y:g,placement:v,strategy:s,middlewareData:S}};async function Kd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:u,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:S=0}=Oi(e,t),_=zD(S),T=u[v?g==="floating"?"reference":"floating":g],I=jg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:d,rootBoundary:m,strategy:c})),A=g==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),O=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},z=jg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:A,offsetParent:R,strategy:c}):A);return{top:(I.top-z.top+_.top)/O.y,bottom:(z.bottom-I.bottom+_.bottom)/O.y,left:(I.left-z.left+_.left)/O.x,right:(z.right-I.right+_.right)/O.x}}const EG=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:u,middlewareData:c}=e,{element:d,padding:m=0}=Oi(t,e)||{};if(d==null)return{};const g=zD(m),v={x:n,y:r},S=j1(s),_=L1(S),T=await o.getDimensions(d),I=S==="y",A=I?"top":"left",R=I?"bottom":"right",O=I?"clientHeight":"clientWidth",z=i.reference[_]+i.reference[S]-v[S]-i.floating[_],B=v[S]-i.reference[S],G=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let D=G?G[O]:0;(!D||!await(o.isElement==null?void 0:o.isElement(G)))&&(D=u.floating[O]||i.floating[_]);const C=z/2-B/2,P=D/2-T[_]/2-1,L=Ja(g[A],P),V=Ja(g[R],P),$=L,j=D-T[_]-V,ke=D/2-T[_]/2+C,Re=Ib($,ke,j),ye=!c.arrow&&Lc(s)!=null&&ke!==Re&&i.reference[_]/2-(ke<$?L:V)-T[_]/2<0,ve=ye?ke<$?ke-$:ke-j:0;return{[S]:v[S]+ve,data:{[S]:Re,centerOffset:ke-Re-ve,...ye&&{alignmentOffset:ve}},reset:ye}}}),SG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:u,platform:c,elements:d}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:T=!0,...I}=Oi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const A=Li(s),R=Os(u),O=Li(u)===u,z=await(c.isRTL==null?void 0:c.isRTL(d.floating)),B=v||(O||!T?[Lg(u)]:mG(u)),G=_!=="none";!v&&G&&B.push(...wG(u,T,_,z));const D=[u,...B],C=await Kd(e,I),P=[];let L=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&P.push(C[A]),g){const ke=pG(s,o,z);P.push(C[ke[0]],C[ke[1]])}if(L=[...L,{placement:s,overflows:P}],!P.every(ke=>ke<=0)){var V,$;const ke=(((V=i.flip)==null?void 0:V.index)||0)+1,Re=D[ke];if(Re&&(!(g==="alignment"&&R!==Os(Re))||L.every(ve=>Os(ve.placement)===R?ve.overflows[0]>0:!0)))return{data:{index:ke,overflows:L},reset:{placement:Re}};let ye=($=L.filter(ve=>ve.overflows[0]<=0).sort((ve,H)=>ve.overflows[1]-H.overflows[1])[0])==null?void 0:$.placement;if(!ye)switch(S){case"bestFit":{var j;const ve=(j=L.filter(H=>{if(G){const ne=Os(H.placement);return ne===R||ne==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ne=>ne>0).reduce((ne,ae)=>ne+ae,0)]).sort((H,ne)=>H[1]-ne[1])[0])==null?void 0:j[0];ve&&(ye=ve);break}case"initialPlacement":ye=u;break}if(s!==ye)return{reset:{placement:ye}}}return{}}}};function pC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function mC(t){return cG.some(e=>t[e]>=0)}const kG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Oi(t,e);switch(r){case"referenceHidden":{const i=await Kd(e,{...s,elementContext:"reference"}),o=pC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:mC(o)}}}case"escaped":{const i=await Kd(e,{...s,altBoundary:!0}),o=pC(i,n.floating);return{data:{escapedOffsets:o,escaped:mC(o)}}}default:return{}}}}},UD=new Set(["left","top"]);async function TG(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Li(n),u=Lc(n),c=Os(n)==="y",d=UD.has(o)?-1:1,m=i&&c?-1:1,g=Oi(e,t);let{mainAxis:v,crossAxis:S,alignmentAxis:_}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof _=="number"&&(S=u==="end"?_*-1:_),c?{x:S*m,y:v*d}:{x:v*d,y:S*m}}const IG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:u}=e,c=await TG(e,t);return o===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},_G=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:u={fn:I=>{let{x:A,y:R}=I;return{x:A,y:R}}},...c}=Oi(t,e),d={x:n,y:r},m=await Kd(e,c),g=Os(Li(s)),v=O1(g);let S=d[v],_=d[g];if(i){const I=v==="y"?"top":"left",A=v==="y"?"bottom":"right",R=S+m[I],O=S-m[A];S=Ib(R,S,O)}if(o){const I=g==="y"?"top":"left",A=g==="y"?"bottom":"right",R=_+m[I],O=_-m[A];_=Ib(R,_,O)}const T=u.fn({...e,[v]:S,[g]:_});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[v]:i,[g]:o}}}}}},CG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:u=0,mainAxis:c=!0,crossAxis:d=!0}=Oi(t,e),m={x:n,y:r},g=Os(s),v=O1(g);let S=m[v],_=m[g];const T=Oi(u,e),I=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(c){const O=v==="y"?"height":"width",z=i.reference[v]-i.floating[O]+I.mainAxis,B=i.reference[v]+i.reference[O]-I.mainAxis;S<z?S=z:S>B&&(S=B)}if(d){var A,R;const O=v==="y"?"width":"height",z=UD.has(Li(s)),B=i.reference[g]-i.floating[O]+(z&&((A=o.offset)==null?void 0:A[g])||0)+(z?0:I.crossAxis),G=i.reference[g]+i.reference[O]+(z?0:((R=o.offset)==null?void 0:R[g])||0)-(z?I.crossAxis:0);_<B?_=B:_>G&&(_=G)}return{[v]:S,[g]:_}}}},NG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:u}=e,{apply:c=()=>{},...d}=Oi(t,e),m=await Kd(e,d),g=Li(s),v=Lc(s),S=Os(s)==="y",{width:_,height:T}=i.floating;let I,A;g==="top"||g==="bottom"?(I=g,A=v===(await(o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(A=g,I=v==="end"?"top":"bottom");const R=T-m.top-m.bottom,O=_-m.left-m.right,z=Ja(T-m[I],R),B=Ja(_-m[A],O),G=!e.middlewareData.shift;let D=z,C=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=R),G&&!v){const L=dr(m.left,0),V=dr(m.right,0),$=dr(m.top,0),j=dr(m.bottom,0);S?C=_-2*(L!==0||V!==0?L+V:dr(m.left,m.right)):D=T-2*($!==0||j!==0?$+j:dr(m.top,m.bottom))}await c({...e,availableWidth:C,availableHeight:D});const P=await o.getDimensions(u.floating);return _!==P.width||T!==P.height?{reset:{rects:!0}}:{}}}};function jy(){return typeof window<"u"}function jc(t){return BD(t)?(t.nodeName||"").toLowerCase():"#document"}function gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zs(t){var e;return(e=(BD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function BD(t){return jy()?t instanceof Node||t instanceof gr(t).Node:!1}function ls(t){return jy()?t instanceof Element||t instanceof gr(t).Element:!1}function Qs(t){return jy()?t instanceof HTMLElement||t instanceof gr(t).HTMLElement:!1}function gC(t){return!jy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gr(t).ShadowRoot}const AG=new Set(["inline","contents"]);function Tf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=us(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!AG.has(s)}const PG=new Set(["table","td","th"]);function RG(t){return PG.has(jc(t))}const DG=[":popover-open",":modal"];function Fy(t){return DG.some(e=>{try{return t.matches(e)}catch{return!1}})}const MG=["transform","translate","scale","rotate","perspective"],OG=["transform","translate","scale","rotate","perspective","filter"],LG=["paint","layout","strict","content"];function F1(t){const e=V1(),n=ls(t)?us(t):t;return MG.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||OG.some(r=>(n.willChange||"").includes(r))||LG.some(r=>(n.contain||"").includes(r))}function jG(t){let e=Za(t);for(;Qs(e)&&!Sc(e);){if(F1(e))return e;if(Fy(e))return null;e=Za(e)}return null}function V1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FG=new Set(["html","body","#document"]);function Sc(t){return FG.has(jc(t))}function us(t){return gr(t).getComputedStyle(t)}function Vy(t){return ls(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Za(t){if(jc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gC(t)&&t.host||Zs(t);return gC(e)?e.host:e}function $D(t){const e=Za(t);return Sc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qs(e)&&Tf(e)?e:$D(e)}function Hd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=$D(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=gr(s);if(i){const u=Cb(o);return e.concat(o,o.visualViewport||[],Tf(s)?s:[],u&&n?Hd(u):[])}return e.concat(s,Hd(s,[],n))}function Cb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qD(t){const e=us(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Qs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,u=Og(n)!==i||Og(r)!==o;return u&&(n=i,r=o),{width:n,height:r,$:u}}function z1(t){return ls(t)?t:t.contextElement}function ac(t){const e=z1(t);if(!Qs(e))return Bs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=qD(e);let o=(i?Og(n.width):n.width)/r,u=(i?Og(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const VG=Bs(0);function WD(t){const e=gr(t);return!V1()||!e.visualViewport?VG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gr(t)?!1:e}function _l(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=z1(t);let o=Bs(1);e&&(r?ls(r)&&(o=ac(r)):o=ac(t));const u=zG(i,n,r)?WD(i):Bs(0);let c=(s.left+u.x)/o.x,d=(s.top+u.y)/o.y,m=s.width/o.x,g=s.height/o.y;if(i){const v=gr(i),S=r&&ls(r)?gr(r):r;let _=v,T=Cb(_);for(;T&&r&&S!==_;){const I=ac(T),A=T.getBoundingClientRect(),R=us(T),O=A.left+(T.clientLeft+parseFloat(R.paddingLeft))*I.x,z=A.top+(T.clientTop+parseFloat(R.paddingTop))*I.y;c*=I.x,d*=I.y,m*=I.x,g*=I.y,c+=O,d+=z,_=gr(T),T=Cb(_)}}return jg({width:m,height:g,x:c,y:d})}function zy(t,e){const n=Vy(t).scrollLeft;return e?e.left+n:_l(Zs(t)).left+n}function GD(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-zy(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function UG(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Zs(r),u=e?Fy(e.floating):!1;if(r===o||u&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Bs(1);const m=Bs(0),g=Qs(r);if((g||!g&&!i)&&((jc(r)!=="body"||Tf(o))&&(c=Vy(r)),Qs(r))){const S=_l(r);d=ac(r),m.x=S.x+r.clientLeft,m.y=S.y+r.clientTop}const v=o&&!g&&!i?GD(o,c):Bs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+m.x+v.x,y:n.y*d.y-c.scrollTop*d.y+m.y+v.y}}function BG(t){return Array.from(t.getClientRects())}function $G(t){const e=Zs(t),n=Vy(t),r=t.ownerDocument.body,s=dr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=dr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+zy(t);const u=-n.scrollTop;return us(r).direction==="rtl"&&(o+=dr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:u}}const yC=25;function qG(t,e){const n=gr(t),r=Zs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,u=0,c=0;if(s){i=s.width,o=s.height;const m=V1();(!m||m&&e==="fixed")&&(u=s.offsetLeft,c=s.offsetTop)}const d=zy(r);if(d<=0){const m=r.ownerDocument,g=m.body,v=getComputedStyle(g),S=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,_=Math.abs(r.clientWidth-g.clientWidth-S);_<=yC&&(i-=_)}else d<=yC&&(i+=d);return{width:i,height:o,x:u,y:c}}const WG=new Set(["absolute","fixed"]);function GG(t,e){const n=_l(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Qs(t)?ac(t):Bs(1),o=t.clientWidth*i.x,u=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:u,x:c,y:d}}function vC(t,e,n){let r;if(e==="viewport")r=qG(t,n);else if(e==="document")r=$G(Zs(t));else if(ls(e))r=GG(e,n);else{const s=WD(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return jg(r)}function KD(t,e){const n=Za(t);return n===e||!ls(n)||Sc(n)?!1:us(n).position==="fixed"||KD(n,e)}function KG(t,e){const n=e.get(t);if(n)return n;let r=Hd(t,[],!1).filter(u=>ls(u)&&jc(u)!=="body"),s=null;const i=us(t).position==="fixed";let o=i?Za(t):t;for(;ls(o)&&!Sc(o);){const u=us(o),c=F1(o);!c&&u.position==="fixed"&&(s=null),(i?!c&&!s:!c&&u.position==="static"&&s&&WG.has(s.position)||Tf(o)&&!c&&KD(t,o))?r=r.filter(d=>d!==o):s=u,o=Za(o)}return e.set(t,r),r}function HG(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Fy(e)?[]:KG(e,this._c):[].concat(n),r],o=i[0],u=i.reduce((c,d)=>{const m=vC(e,d,s);return c.top=dr(m.top,c.top),c.right=Ja(m.right,c.right),c.bottom=Ja(m.bottom,c.bottom),c.left=dr(m.left,c.left),c},vC(e,o,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function QG(t){const{width:e,height:n}=qD(t);return{width:e,height:n}}function XG(t,e,n){const r=Qs(e),s=Zs(e),i=n==="fixed",o=_l(t,!0,i,e);let u={scrollLeft:0,scrollTop:0};const c=Bs(0);function d(){c.x=zy(s)}if(r||!r&&!i)if((jc(e)!=="body"||Tf(s))&&(u=Vy(e)),r){const S=_l(e,!0,i,e);c.x=S.x+e.clientLeft,c.y=S.y+e.clientTop}else s&&d();i&&!r&&s&&d();const m=s&&!r&&!i?GD(s,u):Bs(0),g=o.left+u.scrollLeft-c.x-m.x,v=o.top+u.scrollTop-c.y-m.y;return{x:g,y:v,width:o.width,height:o.height}}function tw(t){return us(t).position==="static"}function wC(t,e){if(!Qs(t)||us(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zs(t)===n&&(n=n.ownerDocument.body),n}function HD(t,e){const n=gr(t);if(Fy(t))return n;if(!Qs(t)){let s=Za(t);for(;s&&!Sc(s);){if(ls(s)&&!tw(s))return s;s=Za(s)}return n}let r=wC(t,e);for(;r&&RG(r)&&tw(r);)r=wC(r,e);return r&&Sc(r)&&tw(r)&&!F1(r)?n:r||jG(t)||n}const YG=async function(t){const e=this.getOffsetParent||HD,n=this.getDimensions,r=await n(t.floating);return{reference:XG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JG(t){return us(t).direction==="rtl"}const ZG={convertOffsetParentRelativeRectToViewportRelativeRect:UG,getDocumentElement:Zs,getClippingRect:HG,getOffsetParent:HD,getElementRects:YG,getClientRects:BG,getDimensions:QG,getScale:ac,isElement:ls,isRTL:JG};function QD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function eK(t,e){let n=null,r;const s=Zs(t);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function o(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:m,top:g,width:v,height:S}=d;if(u||e(),!v||!S)return;const _=pm(g),T=pm(s.clientWidth-(m+v)),I=pm(s.clientHeight-(g+S)),A=pm(m),R={rootMargin:-_+"px "+-T+"px "+-I+"px "+-A+"px",threshold:dr(0,Ja(1,c))||1};let O=!0;function z(B){const G=B[0].intersectionRatio;if(G!==c){if(!O)return o();G?o(!1,G):r=setTimeout(()=>{o(!1,1e-7)},1e3)}G===1&&!QD(d,t.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(z,{...R,root:s.ownerDocument})}catch{n=new IntersectionObserver(z,R)}n.observe(t)}return o(!0),i}function tK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=z1(t),m=s||i?[...d?Hd(d):[],...Hd(e)]:[];m.forEach(A=>{s&&A.addEventListener("scroll",n,{passive:!0}),i&&A.addEventListener("resize",n)});const g=d&&u?eK(d,n):null;let v=-1,S=null;o&&(S=new ResizeObserver(A=>{let[R]=A;R&&R.target===d&&S&&(S.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var O;(O=S)==null||O.observe(e)})),n()}),d&&!c&&S.observe(d),S.observe(e));let _,T=c?_l(t):null;c&&I();function I(){const A=_l(t);T&&!QD(T,A)&&n(),T=A,_=requestAnimationFrame(I)}return n(),()=>{var A;m.forEach(R=>{s&&R.removeEventListener("scroll",n),i&&R.removeEventListener("resize",n)}),g==null||g(),(A=S)==null||A.disconnect(),S=null,c&&cancelAnimationFrame(_)}}const nK=IG,rK=_G,sK=SG,iK=NG,aK=kG,bC=EG,oK=CG,lK=(t,e,n)=>{const r=new Map,s={platform:ZG,...n},i={...s.platform,_c:r};return xG(t,e,{...s,platform:i})};var uK=typeof document<"u",cK=function(){},$m=uK?E.useLayoutEffect:cK;function Fg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Fg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Fg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function XD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xC(t,e){const n=XD(t);return Math.round(e*n)/n}function nw(t){const e=E.useRef(t);return $m(()=>{e.current=t}),e}function hK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:u=!0,whileElementsMounted:c,open:d}=t,[m,g]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,S]=E.useState(r);Fg(v,r)||S(r);const[_,T]=E.useState(null),[I,A]=E.useState(null),R=E.useCallback(H=>{H!==G.current&&(G.current=H,T(H))},[]),O=E.useCallback(H=>{H!==D.current&&(D.current=H,A(H))},[]),z=i||_,B=o||I,G=E.useRef(null),D=E.useRef(null),C=E.useRef(m),P=c!=null,L=nw(c),V=nw(s),$=nw(d),j=E.useCallback(()=>{if(!G.current||!D.current)return;const H={placement:e,strategy:n,middleware:v};V.current&&(H.platform=V.current),lK(G.current,D.current,H).then(ne=>{const ae={...ne,isPositioned:$.current!==!1};ke.current&&!Fg(C.current,ae)&&(C.current=ae,I1.flushSync(()=>{g(ae)}))})},[v,e,n,V,$]);$m(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(H=>({...H,isPositioned:!1})))},[d]);const ke=E.useRef(!1);$m(()=>(ke.current=!0,()=>{ke.current=!1}),[]),$m(()=>{if(z&&(G.current=z),B&&(D.current=B),z&&B){if(L.current)return L.current(z,B,j);j()}},[z,B,j,L,P]);const Re=E.useMemo(()=>({reference:G,floating:D,setReference:R,setFloating:O}),[R,O]),ye=E.useMemo(()=>({reference:z,floating:B}),[z,B]),ve=E.useMemo(()=>{const H={position:n,left:0,top:0};if(!ye.floating)return H;const ne=xC(ye.floating,m.x),ae=xC(ye.floating,m.y);return u?{...H,transform:"translate("+ne+"px, "+ae+"px)",...XD(ye.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ae}},[n,u,ye.floating,m.x,m.y]);return E.useMemo(()=>({...m,update:j,refs:Re,elements:ye,floatingStyles:ve}),[m,j,Re,ye,ve])}const dK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?bC({element:r.current,padding:s}).fn(n):{}:r?bC({element:r,padding:s}).fn(n):{}}}},fK=(t,e)=>({...nK(t),options:[t,e]}),pK=(t,e)=>({...rK(t),options:[t,e]}),mK=(t,e)=>({...oK(t),options:[t,e]}),gK=(t,e)=>({...sK(t),options:[t,e]}),yK=(t,e)=>({...iK(t),options:[t,e]}),vK=(t,e)=>({...aK(t),options:[t,e]}),wK=(t,e)=>({...dK(t),options:[t,e]});var bK="Arrow",YD=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx(Vn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});YD.displayName=bK;var xK=YD;function EK(t){const[e,n]=E.useState(void 0);return Ya(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,u;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,u=d.blockSize}else o=t.offsetWidth,u=t.offsetHeight;n({width:o,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var U1="Popper",[JD,ZD]=kf(U1),[SK,eM]=JD(U1),tM=t=>{const{__scopePopper:e,children:n}=t,[r,s]=E.useState(null);return x.jsx(SK,{scope:e,anchor:r,onAnchorChange:s,children:n})};tM.displayName=U1;var nM="PopperAnchor",rM=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=eM(nM,n),o=E.useRef(null),u=er(e,o),c=E.useRef(null);return E.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),r?null:x.jsx(Vn.div,{...s,ref:u})});rM.displayName=nM;var B1="PopperContent",[kK,TK]=JD(B1),sM=E.forwardRef((t,e)=>{var n,r,s,i,o,u;const{__scopePopper:c,side:d="bottom",sideOffset:m=0,align:g="center",alignOffset:v=0,arrowPadding:S=0,avoidCollisions:_=!0,collisionBoundary:T=[],collisionPadding:I=0,sticky:A="partial",hideWhenDetached:R=!1,updatePositionStrategy:O="optimized",onPlaced:z,...B}=t,G=eM(B1,c),[D,C]=E.useState(null),P=er(e,Un=>C(Un)),[L,V]=E.useState(null),$=EK(L),j=($==null?void 0:$.width)??0,ke=($==null?void 0:$.height)??0,Re=d+(g!=="center"?"-"+g:""),ye=typeof I=="number"?I:{top:0,right:0,bottom:0,left:0,...I},ve=Array.isArray(T)?T:[T],H=ve.length>0,ne={padding:ye,boundary:ve.filter(_K),altBoundary:H},{refs:ae,floatingStyles:K,placement:re,isPositioned:pe,middlewareData:me}=hK({strategy:"fixed",placement:Re,whileElementsMounted:(...Un)=>tK(...Un,{animationFrame:O==="always"}),elements:{reference:G.anchor},middleware:[fK({mainAxis:m+ke,alignmentAxis:v}),_&&pK({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?mK():void 0,...ne}),_&&gK({...ne}),yK({...ne,apply:({elements:Un,rects:Wi,availableWidth:Fl,availableHeight:Gi})=>{const{width:ei,height:oo}=Wi.reference,mt=Un.floating.style;mt.setProperty("--radix-popper-available-width",`${Fl}px`),mt.setProperty("--radix-popper-available-height",`${Gi}px`),mt.setProperty("--radix-popper-anchor-width",`${ei}px`),mt.setProperty("--radix-popper-anchor-height",`${oo}px`)}}),L&&wK({element:L,padding:S}),CK({arrowWidth:j,arrowHeight:ke}),R&&vK({strategy:"referenceHidden",...ne})]}),[De,Ue]=oM(re),Ce=Mi(z);Ya(()=>{pe&&(Ce==null||Ce())},[pe,Ce]);const $e=(n=me.arrow)==null?void 0:n.x,ze=(r=me.arrow)==null?void 0:r.y,pt=((s=me.arrow)==null?void 0:s.centerOffset)!==0,[vr,wr]=E.useState();return Ya(()=>{D&&wr(window.getComputedStyle(D).zIndex)},[D]),x.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:pe?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:vr,"--radix-popper-transform-origin":[(i=me.transformOrigin)==null?void 0:i.x,(o=me.transformOrigin)==null?void 0:o.y].join(" "),...((u=me.hide)==null?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(kK,{scope:c,placedSide:De,onArrowChange:V,arrowX:$e,arrowY:ze,shouldHideArrow:pt,children:x.jsx(Vn.div,{"data-side":De,"data-align":Ue,...B,ref:P,style:{...B.style,animation:pe?void 0:"none"}})})})});sM.displayName=B1;var iM="PopperArrow",IK={top:"bottom",right:"left",bottom:"top",left:"right"},aM=E.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,s=TK(iM,n),i=IK[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(xK,{...r,ref:e,style:{...r.style,display:"block"}})})});aM.displayName=iM;function _K(t){return t!==null}var CK=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s;const{placement:i,rects:o,middlewareData:u}=e,c=((n=u.arrow)==null?void 0:n.centerOffset)!==0,d=c?0:t.arrowWidth,m=c?0:t.arrowHeight,[g,v]=oM(i),S={start:"0%",center:"50%",end:"100%"}[v],_=(((r=u.arrow)==null?void 0:r.x)??0)+d/2,T=(((s=u.arrow)==null?void 0:s.y)??0)+m/2;let I="",A="";return g==="bottom"?(I=c?S:`${_}px`,A=`${-m}px`):g==="top"?(I=c?S:`${_}px`,A=`${o.floating.height+m}px`):g==="right"?(I=`${-m}px`,A=c?S:`${T}px`):g==="left"&&(I=`${o.floating.width+m}px`,A=c?S:`${T}px`),{data:{x:I,y:A}}}});function oM(t){const[e,n="center"]=t.split("-");return[e,n]}var NK=tM,AK=rM,PK=sM,RK=aM,DK="Portal",lM=E.forwardRef((t,e)=>{var n;const{container:r,...s}=t,[i,o]=E.useState(!1);Ya(()=>o(!0),[]);const u=r||i&&((n=globalThis==null?void 0:globalThis.document)==null?void 0:n.body);return u?F7.createPortal(x.jsx(Vn.div,{...s,ref:e}),u):null});lM.displayName=DK;function MK(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var If=t=>{const{present:e,children:n}=t,r=OK(e),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),i=er(r.ref,LK(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:i}):null};If.displayName="Presence";function OK(t){const[e,n]=E.useState(),r=E.useRef(null),s=E.useRef(t),i=E.useRef("none"),o=t?"mounted":"unmounted",[u,c]=MK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const d=mm(r.current);i.current=u==="mounted"?d:"none"},[u]),Ya(()=>{const d=r.current,m=s.current;if(m!==t){const g=i.current,v=mm(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(m&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Ya(()=>{if(e){let d;const m=e.ownerDocument.defaultView??window,g=S=>{const _=mm(r.current).includes(CSS.escape(S.animationName));if(S.target===e&&_&&(c("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",d=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},v=S=>{S.target===e&&(i.current=mm(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:E.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function mm(t){return(t==null?void 0:t.animationName)||"none"}function LK(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var rw="rovingFocusGroup.onEntryFocus",jK={bubbles:!1,cancelable:!0},_f="RovingFocusGroup",[Nb,uM,FK]=DD(_f),[VK,cM]=kf(_f,[FK]),[zK,UK]=VK(_f),hM=E.forwardRef((t,e)=>x.jsx(Nb.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(Nb.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(BK,{...t,ref:e})})}));hM.displayName=_f;var BK=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...g}=t,v=E.useRef(null),S=er(e,v),_=MD(i),[T,I]=PD({prop:o,defaultProp:u??null,onChange:c,caller:_f}),[A,R]=E.useState(!1),O=Mi(d),z=uM(n),B=E.useRef(!1),[G,D]=E.useState(0);return E.useEffect(()=>{const C=v.current;if(C)return C.addEventListener(rw,O),()=>C.removeEventListener(rw,O)},[O]),x.jsx(zK,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:T,onItemFocus:E.useCallback(C=>I(C),[I]),onItemShiftTab:E.useCallback(()=>R(!0),[]),onFocusableItemAdd:E.useCallback(()=>D(C=>C+1),[]),onFocusableItemRemove:E.useCallback(()=>D(C=>C-1),[]),children:x.jsx(Vn.div,{tabIndex:A||G===0?-1:0,"data-orientation":r,...g,ref:S,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{B.current=!0}),onFocus:et(t.onFocus,C=>{const P=!B.current;if(C.target===C.currentTarget&&P&&!A){const L=new CustomEvent(rw,jK);if(C.currentTarget.dispatchEvent(L),!L.defaultPrevented){const V=z().filter(Re=>Re.focusable),$=V.find(Re=>Re.active),j=V.find(Re=>Re.id===T),ke=[$,j,...V].filter(Boolean).map(Re=>Re.ref.current);pM(ke,m)}}B.current=!1}),onBlur:et(t.onBlur,()=>R(!1))})})}),dM="RovingFocusGroupItem",fM=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...u}=t,c=Tb(),d=i||c,m=UK(dM,n),g=m.currentTabStopId===d,v=uM(n),{onFocusableItemAdd:S,onFocusableItemRemove:_,currentTabStopId:T}=m;return E.useEffect(()=>{if(r)return S(),()=>_()},[r,S,_]),x.jsx(Nb.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:x.jsx(Vn.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:et(t.onMouseDown,I=>{r?m.onItemFocus(d):I.preventDefault()}),onFocus:et(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:et(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){m.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const A=WK(I,m.orientation,m.dir);if(A!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let R=v().filter(O=>O.focusable).map(O=>O.ref.current);if(A==="last")R.reverse();else if(A==="prev"||A==="next"){A==="prev"&&R.reverse();const O=R.indexOf(I.currentTarget);R=m.loop?GK(R,O+1):R.slice(O+1)}setTimeout(()=>pM(R))}}),children:typeof o=="function"?o({isCurrentTabStop:g,hasTabStop:T!=null}):o})})});fM.displayName=dM;var $K={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function WK(t,e,n){const r=qK(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $K[r]}function pM(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function GK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var KK=hM,HK=fM;function QK(t){const e=XK(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),c=u.find(JK);if(c){const d=c.props.children,m=u.map(g=>g===c?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function XK(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=eH(s),u=ZK(i,s.props);return s.type!==E.Fragment&&(u.ref=r?Ol(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var YK=Symbol("radix.slottable");function JK(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===YK}function ZK(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function eH(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var tH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},zu=new WeakMap,gm=new WeakMap,ym={},sw=0,mM=function(t){return t&&(t.host||mM(t.parentNode))},nH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=mM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},rH=function(t,e,n,r){var s=nH(e,Array.isArray(t)?t:[t]);ym[n]||(ym[n]=new WeakMap);var i=ym[n],o=[],u=new Set,c=new Set(s),d=function(g){!g||u.has(g)||(u.add(g),d(g.parentNode))};s.forEach(d);var m=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))m(v);else try{var S=v.getAttribute(r),_=S!==null&&S!=="false",T=(zu.get(v)||0)+1,I=(i.get(v)||0)+1;zu.set(v,T),i.set(v,I),o.push(v),T===1&&_&&gm.set(v,!0),I===1&&v.setAttribute(n,"true"),_||v.setAttribute(r,"true")}catch(A){console.error("aria-hidden: cannot operate on ",v,A)}})};return m(e),u.clear(),sw++,function(){o.forEach(function(g){var v=zu.get(g)-1,S=i.get(g)-1;zu.set(g,v),i.set(g,S),v||(gm.has(g)||g.removeAttribute(r),gm.delete(g)),S||g.removeAttribute(n)}),sw--,sw||(zu=new WeakMap,zu=new WeakMap,gm=new WeakMap,ym={})}},sH=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=tH(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),rH(r,s,n,"aria-hidden")):function(){return null}},Rs=function(){return Rs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Rs.apply(this,arguments)};function gM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function iH(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var qm="right-scroll-bar-position",Wm="width-before-scroll-bar",aH="with-scroll-bars-hidden",oH="--removed-body-scroll-bar-size";function iw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function lH(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var uH=typeof window<"u"?E.useLayoutEffect:E.useEffect,EC=new WeakMap;function cH(t,e){var n=lH(null,function(r){return t.forEach(function(s){return iw(s,r)})});return uH(function(){var r=EC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(u){i.has(u)||iw(u,null)}),i.forEach(function(u){s.has(u)||iw(u,o)})}EC.set(n,t)},[t]),n}function hH(t){return t}function dH(t,e){e===void 0&&(e=hH);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(u){return u!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var u=n;n=[],u.forEach(i),o=n}var c=function(){var m=o;o=[],m.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(m){o.push(m),d()},filter:function(m){return o=o.filter(m),n}}}};return s}function fH(t){t===void 0&&(t={});var e=dH(null);return e.options=Rs({async:!0,ssr:!1},t),e}var yM=function(t){var e=t.sideCar,n=gM(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Rs({},n))};yM.isSideCarExport=!0;function pH(t,e){return t.useMedium(e),yM}var vM=fH(),aw=function(){},Uy=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:aw,onWheelCapture:aw,onTouchMoveCapture:aw}),s=r[0],i=r[1],o=t.forwardProps,u=t.children,c=t.className,d=t.removeScrollBar,m=t.enabled,g=t.shards,v=t.sideCar,S=t.noRelative,_=t.noIsolation,T=t.inert,I=t.allowPinchZoom,A=t.as,R=A===void 0?"div":A,O=t.gapMode,z=gM(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=v,G=cH([n,e]),D=Rs(Rs({},z),s);return E.createElement(E.Fragment,null,m&&E.createElement(B,{sideCar:vM,removeScrollBar:d,shards:g,noRelative:S,noIsolation:_,inert:T,setCallbacks:i,allowPinchZoom:!!I,lockRef:n,gapMode:O}),o?E.cloneElement(E.Children.only(u),Rs(Rs({},D),{ref:G})):E.createElement(R,Rs({},D,{className:c,ref:G}),u))});Uy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uy.classNames={fullWidth:Wm,zeroRight:qm};var mH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=mH();return e&&t.setAttribute("nonce",e),t}function yH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function vH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var wH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=gH())&&(yH(e,n),vH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bH=function(){var t=wH();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},wM=function(){var t=bH(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},xH={left:0,top:0,right:0,gap:0},ow=function(t){return parseInt(t||"",10)||0},EH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ow(n),ow(r),ow(s)]},SH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xH;var e=EH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},kH=wM(),oc="data-scroll-locked",TH=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(aH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(oc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qm,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Wm,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(qm," .").concat(qm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Wm," .").concat(Wm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(oc,`] {
    `).concat(oH,": ").concat(u,`px;
  }
`)},SC=function(){var t=parseInt(document.body.getAttribute(oc)||"0",10);return isFinite(t)?t:0},IH=function(){E.useEffect(function(){return document.body.setAttribute(oc,(SC()+1).toString()),function(){var t=SC()-1;t<=0?document.body.removeAttribute(oc):document.body.setAttribute(oc,t.toString())}},[])},_H=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;IH();var i=E.useMemo(function(){return SH(s)},[s]);return E.createElement(kH,{styles:TH(i,!e,s,n?"":"!important")})},Ab=!1;if(typeof window<"u")try{var vm=Object.defineProperty({},"passive",{get:function(){return Ab=!0,!0}});window.addEventListener("test",vm,vm),window.removeEventListener("test",vm,vm)}catch{Ab=!1}var Uu=Ab?{passive:!1}:!1,CH=function(t){return t.tagName==="TEXTAREA"},bM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!CH(t)&&n[e]==="visible")},NH=function(t){return bM(t,"overflowY")},AH=function(t){return bM(t,"overflowX")},kC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=xM(t,r);if(s){var i=EM(t,r),o=i[1],u=i[2];if(o>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},PH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},RH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},xM=function(t,e){return t==="v"?NH(e):AH(e)},EM=function(t,e){return t==="v"?PH(e):RH(e)},DH=function(t,e){return t==="h"&&e==="rtl"?-1:1},MH=function(t,e,n,r,s){var i=DH(t,window.getComputedStyle(e).direction),o=i*r,u=n.target,c=e.contains(u),d=!1,m=o>0,g=0,v=0;do{if(!u)break;var S=EM(t,u),_=S[0],T=S[1],I=S[2],A=T-I-i*_;(_||A)&&xM(t,u)&&(g+=A,v+=_);var R=u.parentNode;u=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!c&&u!==document.body||c&&(e.contains(u)||e===u));return(m&&Math.abs(g)<1||!m&&Math.abs(v)<1)&&(d=!0),d},wm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},TC=function(t){return[t.deltaX,t.deltaY]},IC=function(t){return t&&"current"in t?t.current:t},OH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},LH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},jH=0,Bu=[];function FH(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(jH++)[0],i=E.useState(wM)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var T=iH([t.lockRef.current],(t.shards||[]).map(IC)).filter(Boolean);return T.forEach(function(I){return I.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=E.useCallback(function(T,I){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!o.current.allowPinchZoom;var A=wm(T),R=n.current,O="deltaX"in T?T.deltaX:R[0]-A[0],z="deltaY"in T?T.deltaY:R[1]-A[1],B,G=T.target,D=Math.abs(O)>Math.abs(z)?"h":"v";if("touches"in T&&D==="h"&&G.type==="range")return!1;var C=kC(D,G);if(!C)return!0;if(C?B=D:(B=D==="v"?"h":"v",C=kC(D,G)),!C)return!1;if(!r.current&&"changedTouches"in T&&(O||z)&&(r.current=B),!B)return!0;var P=r.current||B;return MH(P,I,T,P==="h"?O:z)},[]),c=E.useCallback(function(T){var I=T;if(!(!Bu.length||Bu[Bu.length-1]!==i)){var A="deltaY"in I?TC(I):wm(I),R=e.current.filter(function(B){return B.name===I.type&&(B.target===I.target||I.target===B.shadowParent)&&OH(B.delta,A)})[0];if(R&&R.should){I.cancelable&&I.preventDefault();return}if(!R){var O=(o.current.shards||[]).map(IC).filter(Boolean).filter(function(B){return B.contains(I.target)}),z=O.length>0?u(I,O[0]):!o.current.noIsolation;z&&I.cancelable&&I.preventDefault()}}},[]),d=E.useCallback(function(T,I,A,R){var O={name:T,delta:I,target:A,should:R,shadowParent:VH(A)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(z){return z!==O})},1)},[]),m=E.useCallback(function(T){n.current=wm(T),r.current=void 0},[]),g=E.useCallback(function(T){d(T.type,TC(T),T.target,u(T,t.lockRef.current))},[]),v=E.useCallback(function(T){d(T.type,wm(T),T.target,u(T,t.lockRef.current))},[]);E.useEffect(function(){return Bu.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",c,Uu),document.addEventListener("touchmove",c,Uu),document.addEventListener("touchstart",m,Uu),function(){Bu=Bu.filter(function(T){return T!==i}),document.removeEventListener("wheel",c,Uu),document.removeEventListener("touchmove",c,Uu),document.removeEventListener("touchstart",m,Uu)}},[]);var S=t.removeScrollBar,_=t.inert;return E.createElement(E.Fragment,null,_?E.createElement(i,{styles:LH(s)}):null,S?E.createElement(_H,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function VH(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const zH=pH(vM,FH);var SM=E.forwardRef(function(t,e){return E.createElement(Uy,Rs({},t,{ref:e,sideCar:zH}))});SM.classNames=Uy.classNames;var Pb=["Enter"," "],UH=["ArrowDown","PageUp","Home"],kM=["ArrowUp","PageDown","End"],BH=[...UH,...kM],$H={ltr:[...Pb,"ArrowRight"],rtl:[...Pb,"ArrowLeft"]},qH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cf="Menu",[Qd,WH,GH]=DD(Cf),[Ll,TM]=kf(Cf,[GH,ZD,cM]),By=ZD(),IM=cM(),[KH,jl]=Ll(Cf),[HH,Nf]=Ll(Cf),_M=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,u=By(e),[c,d]=E.useState(null),m=E.useRef(!1),g=Mi(i),v=MD(s);return E.useEffect(()=>{const S=()=>{m.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>m.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),x.jsx(NK,{...u,children:x.jsx(KH,{scope:e,open:n,onOpenChange:g,content:c,onContentChange:d,children:x.jsx(HH,{scope:e,onClose:E.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:v,modal:o,children:r})})})};_M.displayName=Cf;var QH="MenuAnchor",$1=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=By(n);return x.jsx(AK,{...s,...r,ref:e})});$1.displayName=QH;var q1="MenuPortal",[XH,CM]=Ll(q1,{forceMount:void 0}),NM=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=jl(q1,e);return x.jsx(XH,{scope:e,forceMount:n,children:x.jsx(If,{present:n||i.open,children:x.jsx(lM,{asChild:!0,container:s,children:r})})})};NM.displayName=q1;var Fr="MenuContent",[YH,W1]=Ll(Fr),AM=E.forwardRef((t,e)=>{const n=CM(Fr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=jl(Fr,t.__scopeMenu),o=Nf(Fr,t.__scopeMenu);return x.jsx(Qd.Provider,{scope:t.__scopeMenu,children:x.jsx(If,{present:r||i.open,children:x.jsx(Qd.Slot,{scope:t.__scopeMenu,children:o.modal?x.jsx(JH,{...s,ref:e}):x.jsx(ZH,{...s,ref:e})})})})}),JH=E.forwardRef((t,e)=>{const n=jl(Fr,t.__scopeMenu),r=E.useRef(null),s=er(e,r);return E.useEffect(()=>{const i=r.current;if(i)return sH(i)},[]),x.jsx(G1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ZH=E.forwardRef((t,e)=>{const n=jl(Fr,t.__scopeMenu);return x.jsx(G1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),eQ=QK("MenuContent.ScrollLock"),G1=E.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:u,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:S,disableOutsideScroll:_,...T}=t,I=jl(Fr,n),A=Nf(Fr,n),R=By(n),O=IM(n),z=WH(n),[B,G]=E.useState(null),D=E.useRef(null),C=er(e,D,I.onContentChange),P=E.useRef(0),L=E.useRef(""),V=E.useRef(0),$=E.useRef(null),j=E.useRef("right"),ke=E.useRef(0),Re=_?SM:E.Fragment,ye=_?{as:eQ,allowPinchZoom:!0}:void 0,ve=ne=>{var ae,K;const re=L.current+ne,pe=z().filter(ze=>!ze.disabled),me=document.activeElement,De=(ae=pe.find(ze=>ze.ref.current===me))==null?void 0:ae.textValue,Ue=pe.map(ze=>ze.textValue),Ce=dQ(Ue,re,De),$e=(K=pe.find(ze=>ze.textValue===Ce))==null?void 0:K.ref.current;(function ze(pt){L.current=pt,window.clearTimeout(P.current),pt!==""&&(P.current=window.setTimeout(()=>ze(""),1e3))})(re),$e&&setTimeout(()=>$e.focus())};E.useEffect(()=>()=>window.clearTimeout(P.current),[]),eG();const H=E.useCallback(ne=>{var ae,K;return j.current===((ae=$.current)==null?void 0:ae.side)&&pQ(ne,(K=$.current)==null?void 0:K.area)},[]);return x.jsx(YH,{scope:n,searchRef:L,onItemEnter:E.useCallback(ne=>{H(ne)&&ne.preventDefault()},[H]),onItemLeave:E.useCallback(ne=>{var ae;H(ne)||((ae=D.current)==null||ae.focus(),G(null))},[H]),onTriggerLeave:E.useCallback(ne=>{H(ne)&&ne.preventDefault()},[H]),pointerGraceTimerRef:V,onPointerGraceIntentChange:E.useCallback(ne=>{$.current=ne},[]),children:x.jsx(Re,{...ye,children:x.jsx(FD,{asChild:!0,trapped:s,onMountAutoFocus:et(i,ne=>{var ae;ne.preventDefault(),(ae=D.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:x.jsx(LD,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:S,children:x.jsx(KK,{asChild:!0,...O,dir:A.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:G,onEntryFocus:et(c,ne=>{A.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(PK,{role:"menu","aria-orientation":"vertical","data-state":GM(I.open),"data-radix-menu-content":"",dir:A.dir,...R,...T,ref:C,style:{outline:"none",...T.style},onKeyDown:et(T.onKeyDown,ne=>{const ae=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,K=ne.ctrlKey||ne.altKey||ne.metaKey,re=ne.key.length===1;ae&&(ne.key==="Tab"&&ne.preventDefault(),!K&&re&&ve(ne.key));const pe=D.current;if(ne.target!==pe||!BH.includes(ne.key))return;ne.preventDefault();const me=z().filter(De=>!De.disabled).map(De=>De.ref.current);kM.includes(ne.key)&&me.reverse(),cQ(me)}),onBlur:et(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(P.current),L.current="")}),onPointerMove:et(t.onPointerMove,Xd(ne=>{const ae=ne.target,K=ke.current!==ne.clientX;if(ne.currentTarget.contains(ae)&&K){const re=ne.clientX>ke.current?"right":"left";j.current=re,ke.current=ne.clientX}}))})})})})})})});AM.displayName=Fr;var tQ="MenuGroup",K1=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Vn.div,{role:"group",...r,ref:e})});K1.displayName=tQ;var nQ="MenuLabel",PM=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Vn.div,{...r,ref:e})});PM.displayName=nQ;var Vg="MenuItem",_C="menu.itemSelect",$y=E.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=E.useRef(null),o=Nf(Vg,t.__scopeMenu),u=W1(Vg,t.__scopeMenu),c=er(e,i),d=E.useRef(!1),m=()=>{const g=i.current;if(!n&&g){const v=new CustomEvent(_C,{bubbles:!0,cancelable:!0});g.addEventListener(_C,S=>r==null?void 0:r(S),{once:!0}),RD(g,v),v.defaultPrevented?d.current=!1:o.onClose()}};return x.jsx(RM,{...s,ref:c,disabled:n,onClick:et(t.onClick,m),onPointerDown:g=>{var v;(v=t.onPointerDown)==null||v.call(t,g),d.current=!0},onPointerUp:et(t.onPointerUp,g=>{var v;d.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:et(t.onKeyDown,g=>{const v=u.searchRef.current!=="";n||v&&g.key===" "||Pb.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});$y.displayName=Vg;var RM=E.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=W1(Vg,n),u=IM(n),c=E.useRef(null),d=er(e,c),[m,g]=E.useState(!1),[v,S]=E.useState("");return E.useEffect(()=>{const _=c.current;_&&S((_.textContent??"").trim())},[i.children]),x.jsx(Qd.ItemSlot,{scope:n,disabled:r,textValue:s??v,children:x.jsx(HK,{asChild:!0,...u,focusable:!r,children:x.jsx(Vn.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:et(t.onPointerMove,Xd(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,Xd(_=>o.onItemLeave(_))),onFocus:et(t.onFocus,()=>g(!0)),onBlur:et(t.onBlur,()=>g(!1))})})})}),rQ="MenuCheckboxItem",DM=E.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return x.jsx(FM,{scope:t.__scopeMenu,checked:n,children:x.jsx($y,{role:"menuitemcheckbox","aria-checked":zg(n)?"mixed":n,...s,ref:e,"data-state":Q1(n),onSelect:et(s.onSelect,()=>r==null?void 0:r(zg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});DM.displayName=rQ;var MM="MenuRadioGroup",[sQ,iQ]=Ll(MM,{value:void 0,onValueChange:()=>{}}),OM=E.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Mi(r);return x.jsx(sQ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:x.jsx(K1,{...s,ref:e})})});OM.displayName=MM;var LM="MenuRadioItem",jM=E.forwardRef((t,e)=>{const{value:n,...r}=t,s=iQ(LM,t.__scopeMenu),i=n===s.value;return x.jsx(FM,{scope:t.__scopeMenu,checked:i,children:x.jsx($y,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Q1(i),onSelect:et(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});jM.displayName=LM;var H1="MenuItemIndicator",[FM,aQ]=Ll(H1,{checked:!1}),VM=E.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=aQ(H1,n);return x.jsx(If,{present:r||zg(i.checked)||i.checked===!0,children:x.jsx(Vn.span,{...s,ref:e,"data-state":Q1(i.checked)})})});VM.displayName=H1;var oQ="MenuSeparator",zM=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Vn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});zM.displayName=oQ;var lQ="MenuArrow",UM=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=By(n);return x.jsx(RK,{...s,...r,ref:e})});UM.displayName=lQ;var uQ="MenuSub",[Nne,BM]=Ll(uQ),cd="MenuSubTrigger",$M=E.forwardRef((t,e)=>{const n=jl(cd,t.__scopeMenu),r=Nf(cd,t.__scopeMenu),s=BM(cd,t.__scopeMenu),i=W1(cd,t.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},m=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>m,[m]),E.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),c(null)}},[u,c]),x.jsx($1,{asChild:!0,...d,children:x.jsx(RM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":GM(n.open),...t,ref:Ol(e,s.onTriggerChange),onClick:g=>{var v;(v=t.onClick)==null||v.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,Xd(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:et(t.onPointerLeave,Xd(g=>{var v,S;m();const _=(v=n.content)==null?void 0:v.getBoundingClientRect();if(_){const T=(S=n.content)==null?void 0:S.dataset.side,I=T==="right",A=I?-5:5,R=_[I?"left":"right"],O=_[I?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+A,y:g.clientY},{x:R,y:_.top},{x:O,y:_.top},{x:O,y:_.bottom},{x:R,y:_.bottom}],side:T}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,g=>{var v;const S=i.searchRef.current!=="";t.disabled||S&&g.key===" "||$H[r.dir].includes(g.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),g.preventDefault())})})})});$M.displayName=cd;var qM="MenuSubContent",WM=E.forwardRef((t,e)=>{const n=CM(Fr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=jl(Fr,t.__scopeMenu),o=Nf(Fr,t.__scopeMenu),u=BM(qM,t.__scopeMenu),c=E.useRef(null),d=er(e,c);return x.jsx(Qd.Provider,{scope:t.__scopeMenu,children:x.jsx(If,{present:r||i.open,children:x.jsx(Qd.Slot,{scope:t.__scopeMenu,children:x.jsx(G1,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var g;o.isUsingKeyboardRef.current&&((g=c.current)==null||g.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:et(t.onFocusOutside,m=>{m.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:et(t.onKeyDown,m=>{var g;const v=m.currentTarget.contains(m.target),S=qH[o.dir].includes(m.key);v&&S&&(i.onOpenChange(!1),(g=u.trigger)==null||g.focus(),m.preventDefault())})})})})})});WM.displayName=qM;function GM(t){return t?"open":"closed"}function zg(t){return t==="indeterminate"}function Q1(t){return zg(t)?"indeterminate":t?"checked":"unchecked"}function cQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function hQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function dQ(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=hQ(t,Math.max(s,0));r.length===1&&(i=i.filter(u=>u!==n));const o=i.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return o!==n?o:void 0}function fQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const u=e[i],c=e[o],d=u.x,m=u.y,g=c.x,v=c.y;m>r!=v>r&&n<(g-d)*(r-m)/(v-m)+d&&(s=!s)}return s}function pQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return fQ(n,e)}function Xd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var mQ=_M,gQ=$1,yQ=NM,vQ=AM,wQ=K1,bQ=PM,xQ=$y,EQ=DM,SQ=OM,kQ=jM,TQ=VM,IQ=zM,_Q=UM,CQ=$M,NQ=WM,qy="DropdownMenu",[AQ]=kf(qy,[TM]),zn=TM(),[PQ,KM]=AQ(qy),HM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:u=!0}=t,c=zn(e),d=E.useRef(null),[m,g]=PD({prop:s,defaultProp:i??!1,onChange:o,caller:qy});return x.jsx(PQ,{scope:e,triggerId:Tb(),triggerRef:d,contentId:Tb(),open:m,onOpenChange:g,onOpenToggle:E.useCallback(()=>g(v=>!v),[g]),modal:u,children:x.jsx(mQ,{...c,open:m,onOpenChange:g,dir:r,modal:u,children:n})})};HM.displayName=qy;var QM="DropdownMenuTrigger",XM=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=KM(QM,n),o=zn(n);return x.jsx(gQ,{asChild:!0,...o,children:x.jsx(Vn.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ol(e,i.triggerRef),onPointerDown:et(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:et(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});XM.displayName=QM;var RQ="DropdownMenuPortal",YM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=zn(e);return x.jsx(yQ,{...r,...n})};YM.displayName=RQ;var JM="DropdownMenuContent",ZM=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=KM(JM,n),i=zn(n),o=E.useRef(!1);return x.jsx(vQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,u=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,u.preventDefault()}),onInteractOutside:et(t.onInteractOutside,u=>{const c=u.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,m=c.button===2||d;(!s.modal||m)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZM.displayName=JM;var DQ="DropdownMenuGroup",MQ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(wQ,{...s,...r,ref:e})});MQ.displayName=DQ;var OQ="DropdownMenuLabel",eO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(bQ,{...s,...r,ref:e})});eO.displayName=OQ;var LQ="DropdownMenuItem",tO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(xQ,{...s,...r,ref:e})});tO.displayName=LQ;var jQ="DropdownMenuCheckboxItem",nO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(EQ,{...s,...r,ref:e})});nO.displayName=jQ;var FQ="DropdownMenuRadioGroup",VQ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(SQ,{...s,...r,ref:e})});VQ.displayName=FQ;var zQ="DropdownMenuRadioItem",rO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(kQ,{...s,...r,ref:e})});rO.displayName=zQ;var UQ="DropdownMenuItemIndicator",sO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(TQ,{...s,...r,ref:e})});sO.displayName=UQ;var BQ="DropdownMenuSeparator",iO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(IQ,{...s,...r,ref:e})});iO.displayName=BQ;var $Q="DropdownMenuArrow",qQ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(_Q,{...s,...r,ref:e})});qQ.displayName=$Q;var WQ="DropdownMenuSubTrigger",aO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(CQ,{...s,...r,ref:e})});aO.displayName=WQ;var GQ="DropdownMenuSubContent",oO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(NQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oO.displayName=GQ;var KQ=HM,HQ=XM,QQ=YM,lO=ZM,uO=eO,cO=tO,hO=nO,dO=rO,fO=sO,pO=iO,mO=aO,gO=oO;const XQ=KQ,YQ=HQ,JQ=E.forwardRef(({className:t,inset:e,children:n,...r},s)=>x.jsxs(mO,{ref:s,className:wt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,x.jsx(V$,{className:"ml-auto"})]}));JQ.displayName=mO.displayName;const ZQ=E.forwardRef(({className:t,...e},n)=>x.jsx(gO,{ref:n,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));ZQ.displayName=gO.displayName;const yO=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(QQ,{children:x.jsx(lO,{ref:r,sideOffset:e,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));yO.displayName=lO.displayName;const Nr=E.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(cO,{ref:r,className:wt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Nr.displayName=cO.displayName;const eX=E.forwardRef(({className:t,children:e,checked:n,...r},s)=>x.jsxs(hO,{ref:s,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(fO,{children:x.jsx(O$,{className:"h-4 w-4"})})}),e]}));eX.displayName=hO.displayName;const tX=E.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(dO,{ref:r,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(fO,{children:x.jsx(W$,{className:"h-2 w-2 fill-current"})})}),e]}));tX.displayName=dO.displayName;const vO=E.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(uO,{ref:r,className:wt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));vO.displayName=uO.displayName;const Gm=E.forwardRef(({className:t,...e},n)=>x.jsx(pO,{ref:n,className:wt("-mx-1 my-1 h-px bg-muted",t),...e}));Gm.displayName=pO.displayName;function cs(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Cl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const wO=6048e5,nX=864e5;let rX={};function Wy(){return rX}function Yd(t,e){var n,r,s,i;const o=Wy(),u=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??o.weekStartsOn??((i=(s=o.locale)==null?void 0:s.options)==null?void 0:i.weekStartsOn)??0,c=cs(t),d=c.getDay(),m=(d<u?7:0)+d-u;return c.setDate(c.getDate()-m),c.setHours(0,0,0,0),c}function Ug(t){return Yd(t,{weekStartsOn:1})}function bO(t){const e=cs(t),n=e.getFullYear(),r=Cl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Ug(r),i=Cl(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Ug(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Rb(t){const e=cs(t);return e.setHours(0,0,0,0),e}function CC(t){const e=cs(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function sX(t,e){const n=Rb(t),r=Rb(e),s=+n-CC(n),i=+r-CC(r);return Math.round((s-i)/nX)}function iX(t){const e=bO(t),n=Cl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ug(n)}function aX(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function oX(t){if(!aX(t)&&typeof t!="number")return!1;const e=cs(t);return!isNaN(Number(e))}function lX(t){const e=cs(t),n=Cl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const uX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cX=(t,e,n)=>{let r;const s=uX[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function lw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const hX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pX={date:lw({formats:hX,defaultWidth:"full"}),time:lw({formats:dX,defaultWidth:"full"}),dateTime:lw({formats:fX,defaultWidth:"full"})},mX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gX=(t,e,n,r)=>mX[t];function ed(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):o;s=t.formattingValues[u]||t.formattingValues[o]}else{const o=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const yX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},SX=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kX={ordinalNumber:SX,era:ed({values:yX,defaultWidth:"wide"}),quarter:ed({values:vX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ed({values:wX,defaultWidth:"wide"}),day:ed({values:bX,defaultWidth:"wide"}),dayPeriod:ed({values:xX,defaultWidth:"wide",formattingValues:EX,defaultFormattingWidth:"wide"})};function td(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?IX(u,g=>g.test(o)):TX(u,g=>g.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const m=e.slice(o.length);return{value:d,rest:m}}}function TX(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function IX(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function _X(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const u=e.slice(s.length);return{value:o,rest:u}}}const CX=/^(\d+)(th|st|nd|rd)?/i,NX=/\d+/i,AX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PX={any:[/^b/i,/^(a|c)/i]},RX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DX={any:[/1/i,/2/i,/3/i,/4/i]},MX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},LX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},VX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zX={ordinalNumber:_X({matchPattern:CX,parsePattern:NX,valueCallback:t=>parseInt(t,10)}),era:td({matchPatterns:AX,defaultMatchWidth:"wide",parsePatterns:PX,defaultParseWidth:"any"}),quarter:td({matchPatterns:RX,defaultMatchWidth:"wide",parsePatterns:DX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:td({matchPatterns:MX,defaultMatchWidth:"wide",parsePatterns:OX,defaultParseWidth:"any"}),day:td({matchPatterns:LX,defaultMatchWidth:"wide",parsePatterns:jX,defaultParseWidth:"any"}),dayPeriod:td({matchPatterns:FX,defaultMatchWidth:"any",parsePatterns:VX,defaultParseWidth:"any"})},UX={code:"en-US",formatDistance:cX,formatLong:pX,formatRelative:gX,localize:kX,match:zX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BX(t){const e=cs(t);return sX(e,lX(e))+1}function $X(t){const e=cs(t),n=+Ug(e)-+iX(e);return Math.round(n/wO)+1}function xO(t,e){var n,r,s,i;const o=cs(t),u=o.getFullYear(),c=Wy(),d=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??c.firstWeekContainsDate??((i=(s=c.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,m=Cl(t,0);m.setFullYear(u+1,0,d),m.setHours(0,0,0,0);const g=Yd(m,e),v=Cl(t,0);v.setFullYear(u,0,d),v.setHours(0,0,0,0);const S=Yd(v,e);return o.getTime()>=g.getTime()?u+1:o.getTime()>=S.getTime()?u:u-1}function qX(t,e){var n,r,s,i;const o=Wy(),u=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??o.firstWeekContainsDate??((i=(s=o.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,c=xO(t,e),d=Cl(t,0);return d.setFullYear(c,0,u),d.setHours(0,0,0,0),Yd(d,e)}function WX(t,e){const n=cs(t),r=+Yd(n,e)-+qX(n,e);return Math.round(r/wO)+1}function ot(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Pa={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ot(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ot(n+1,2)},d(t,e){return ot(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ot(t.getHours()%12||12,e.length)},H(t,e){return ot(t.getHours(),e.length)},m(t,e){return ot(t.getMinutes(),e.length)},s(t,e){return ot(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ot(s,e.length)}},$u={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Pa.y(t,e)},Y:function(t,e,n,r){const s=xO(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return ot(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):ot(i,e.length)},R:function(t,e){const n=bO(t);return ot(n,e.length)},u:function(t,e){const n=t.getFullYear();return ot(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ot(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ot(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Pa.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ot(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=WX(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ot(s,e.length)},I:function(t,e,n){const r=$X(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ot(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Pa.d(t,e)},D:function(t,e,n){const r=BX(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ot(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ot(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ot(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ot(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=$u.noon:r===0?s=$u.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=$u.evening:r>=12?s=$u.afternoon:r>=4?s=$u.morning:s=$u.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Pa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Pa.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Pa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Pa.s(t,e)},S:function(t,e){return Pa.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return PC(r);case"XXXX":case"XX":return Qo(r);case"XXXXX":case"XXX":default:return Qo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return PC(r);case"xxxx":case"xx":return Qo(r);case"xxxxx":case"xxx":default:return Qo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+AC(r,":");case"OOOO":default:return"GMT"+Qo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+AC(r,":");case"zzzz":default:return"GMT"+Qo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ot(r,e.length)},T:function(t,e,n){const r=t.getTime();return ot(r,e.length)}};function AC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+ot(i,2)}function PC(t,e){return t%60===0?(t>0?"-":"+")+ot(Math.abs(t)/60,2):Qo(t,e)}function Qo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ot(Math.trunc(r/60),2),i=ot(r%60,2);return n+s+e+i}const RC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},EO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},GX=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return RC(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",RC(r,e)).replace("{{time}}",EO(s,e))},KX={p:EO,P:GX},HX=/^D+$/,QX=/^Y+$/,XX=["D","DD","YY","YYYY"];function YX(t){return HX.test(t)}function JX(t){return QX.test(t)}function ZX(t,e,n){const r=eY(t,e,n);if(console.warn(r),XX.includes(t))throw new RangeError(r)}function eY(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rY=/^'([^]*?)'?$/,sY=/''/g,iY=/[a-zA-Z]/;function aY(t,e,n){var r,s,i,o;const u=Wy(),c=u.locale??UX,d=u.firstWeekContainsDate??((s=(r=u.locale)==null?void 0:r.options)==null?void 0:s.firstWeekContainsDate)??1,m=u.weekStartsOn??((o=(i=u.locale)==null?void 0:i.options)==null?void 0:o.weekStartsOn)??0,g=cs(t);if(!oX(g))throw new RangeError("Invalid time value");let v=e.match(nY).map(_=>{const T=_[0];if(T==="p"||T==="P"){const I=KX[T];return I(_,c.formatLong)}return _}).join("").match(tY).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const T=_[0];if(T==="'")return{isToken:!1,value:oY(_)};if(NC[T])return{isToken:!0,value:_};if(T.match(iY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:_}});c.localize.preprocessor&&(v=c.localize.preprocessor(g,v));const S={firstWeekContainsDate:d,weekStartsOn:m,locale:c};return v.map(_=>{if(!_.isToken)return _.value;const T=_.value;(JX(T)||YX(T))&&ZX(T,e,String(t));const I=NC[T[0]];return I(g,T,c.localize,S)}).join("")}function oY(t){const e=t.match(rY);return e?e[1].replace(sY,"'"):t}class Km extends tn.Component{constructor(e){super(e),Fk(this,"hardReload",()=>{window.location.reload(!0)}),Fk(this,"clearCachesAndReload",async()=>{try{if("caches"in window){const n=await caches.keys();await Promise.all(n.map(r=>caches.delete(r)))}if("serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistrations();await Promise.all(n.map(r=>r.unregister()))}}catch(n){console.warn("Failed to clear caches or unregister SW",n)}finally{window.location.reload()}}),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ChunkErrorBoundary caught an error:",e,n)}render(){var e,n,r,s;if(this.state.hasError){const i=((e=this.state.error)==null?void 0:e.message)||"";return((n=this.state.error)==null?void 0:n.name)==="ChunkLoadError"||((r=this.state.error)==null?void 0:r.name)==="CSSChunkLoadError"||/Loading chunk|Failed to fetch dynamically imported module|Importing a module script failed/i.test(i)?x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Update available"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The app was updated. Please refresh to load the latest version."}),x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("button",{onClick:this.hardReload,className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"}),x.jsx("button",{onClick:this.clearCachesAndReload,className:"px-4 py-2 rounded-lg bg-gray-200",children:"Reset cache & reload"})]}),x.jsxs("details",{className:"mt-4 text-left text-xs text-gray-500",children:[x.jsx("summary",{children:"Details"}),x.jsx("pre",{className:"whitespace-pre-wrap break-words",children:((s=this.state.error)==null?void 0:s.stack)||i})]})]})}):x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"Try refreshing the page."}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"})]})})}return this.props.children}}const uw=tn.lazy(()=>Ft(()=>Lt(()=>import("./AvatarDisplay-BzkYfhqx-DhuaIq-T.js"),[]),[])),lY=tn.lazy(()=>Ft(()=>Lt(()=>import("./PetDisplay-T8ztPqrq-CgXjoFIZ.js"),__vite__mapDeps([0,1])),jt([0,1]))),uY=tn.lazy(()=>Ft(()=>Lt(()=>import("./InstallPrompt-CYulZlIm-CLe6ZTMx.js"),__vite__mapDeps([2,3])),jt([2,3])));function cY({children:t,currentPageName:e}){var n;const r=qi(),[s,i]=E.useState(!1),{user:o,loading:u}=M1(),[c,d]=E.useState(()=>localStorage.getItem("app.theme")==="dark");E.useEffect(()=>{const G=()=>{d(localStorage.getItem("app.theme")==="dark")};G(),window.addEventListener("storage",G);const D=setInterval(G,500);return()=>{window.removeEventListener("storage",G),clearInterval(D)}},[]),E.useEffect(()=>{const G=document.createElement("link");G.rel="manifest",G.href="/manifest.json",document.head.appendChild(G);const D=document.createElement("meta");D.name="theme-color",D.content=c?"#1e293b":"#9333ea",document.head.appendChild(D);const C=document.createElement("meta");C.name="apple-mobile-web-app-capable",C.content="yes",document.head.appendChild(C);const P=document.createElement("meta");P.name="apple-mobile-web-app-status-bar-style",P.content="default",document.head.appendChild(P);const L=document.createElement("meta");L.name="apple-mobile-web-app-title",L.content="Math Adventure",document.head.appendChild(L);const V=document.createElement("link");return V.rel="apple-touch-icon",document.head.appendChild(V),()=>{V.parentNode&&V.remove()}},[c]);const[m,g]=E.useState(0);E.useEffect(()=>{o!=null&&o.email&&g(0)},[o==null?void 0:o.email]);const v=aY(Rb(new Date),"yyyy-MM-dd"),{data:S=[]}=E$({queryKey:["dailyChallenges",v],initialData:[],enabled:!!o});if(e==="Landing")return x.jsx(x.Fragment,{children:t});if(e==="Home"&&!o)return x.jsx(x.Fragment,{children:t});if(!o)return u?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center max-w-md w-full",children:[x.jsx(Zk,{size:"xl",variant:"circle",className:"mx-auto mb-6"}),x.jsx("h1",{className:"text-4xl font-extrabold text-white mb-3 drop-shadow-2xl",children:"Math Adventure"}),x.jsx("p",{className:"text-lg text-white mb-6 drop-shadow-lg",children:"Sign in or create an account to start."}),x.jsx(ID,{})]})});const _=S.some(G=>G.created_by===(o==null?void 0:o.email)),T=o?{avatar_skin_tone:o.avatar_skin_tone||"medium",avatar_hair_style:o.avatar_hair_style||"short",avatar_hair_color:o.avatar_hair_color||"brown",avatar_eyes:o.avatar_eyes||"normal",avatar_outfit:o.avatar_outfit||"casual",avatar_accessory:o.avatar_accessory||"none"}:null,I=o==null?void 0:o.active_pet,A=I?{id:I,name:"Pet",emoji:I==="dragon"?"":I==="owl"?"":I==="fox"?"":"",gradient:I==="dragon"?"from-red-400 to-orange-500":I==="owl"?"from-indigo-400 to-purple-500":I==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500",evolveLevel:5}:null,R=(o==null?void 0:o.subscription_tier)||"free",O=R!=="free",z=async()=>{const G=ey(os);await A3(G),localStorage.clear(),window.location.href="/"},B=({to:G,icon:D,label:C,badge:P,badgeColor:L="red",isDarkMode:V})=>{const $=r.pathname===nt(G);return x.jsxs(ft,{to:nt(G),onClick:()=>i(!1),className:`relative flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${$?"bg-purple-500 text-white shadow-lg":V?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[x.jsx(D,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:C}),P&&x.jsx(Pr,{className:`absolute -top-1 -right-1 bg-${L}-500 text-white text-xs px-1.5 py-0.5 ${L==="red"?"animate-pulse":""}`,children:P})]})};return x.jsxs("div",{className:`min-h-screen ${c?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[x.jsx(CW,{}),x.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${c?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),x.jsx("header",{className:`${c?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:x.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-2 md:py-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(ft,{to:nt("Home"),className:"flex items-center gap-3",children:[x.jsx(Zk,{size:"md",variant:"circle"}),x.jsx("div",{children:x.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${c&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[o&&x.jsx(ft,{to:nt("Home"),className:"hidden md:inline-block",children:x.jsxs(Us,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold shadow-lg",children:[x.jsx(cD,{className:"w-4 h-4 mr-2"}),"Play Now"]})}),o&&x.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white px-3 py-2 rounded-xl shadow-md",children:[x.jsx(U_,{className:"w-4 h-4"}),x.jsx("span",{className:"font-bold text-sm",children:o.coins||0})]}),R!=="free"?x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(Pr,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 px-3 py-1.5 cursor-pointer",children:[x.jsx(sl,{className:"w-3 h-3 mr-1"}),R==="family_teacher"?"Family":R==="premium_player"?"Premium":"Parent"]})}):x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(Pr,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 px-3 py-1.5 cursor-pointer animate-pulse",children:[x.jsx(sl,{className:"w-3 h-3 mr-1"}),"Upgrade"]})}),o&&x.jsx("div",{className:"hidden lg:block",children:x.jsxs(XQ,{children:[x.jsx(YQ,{asChild:!0,children:x.jsx(Us,{variant:"ghost",className:`${c?"hover:bg-slate-700 text-gray-50":"hover:bg-purple-50 text-gray-900"} h-auto p-2`,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex items-center gap-1",children:x.jsx(Km,{children:x.jsxs(tn.Suspense,{fallback:x.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 animate-pulse"}),children:[T&&x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(uw,{avatarData:T,size:"small"})}),A&&x.jsx("div",{className:"scale-50 origin-center -ml-2",children:x.jsx(lY,{pet:A,experience:((n=o==null?void 0:o.pet_experience)==null?void 0:n[I])||0,size:"small"})})]})})}),x.jsxs("div",{className:"text-left",children:[x.jsx("p",{className:`text-sm font-semibold ${c?"text-gray-50":"text-gray-900"}`,children:o.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:o.email})]}),x.jsx(j$,{className:`w-4 h-4 ${c?"text-gray-300":"text-gray-500"}`})]})})}),x.jsxs(yO,{align:"end",className:`${c?"bg-slate-800 border-slate-700 text-gray-50":"bg-white"} w-56`,children:[x.jsx(vO,{children:x.jsxs("div",{className:"flex flex-col space-y-1",children:[x.jsx("p",{className:`text-sm font-medium ${c?"text-gray-50":"text-gray-900"}`,children:o.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:o.email})]})}),x.jsx(Gm,{className:c?"bg-slate-700":""}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Avatar"),className:"cursor-pointer",children:[x.jsx(Q0,{className:"w-4 h-4 mr-2"}),"View Profile"]})}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Messages"),className:"cursor-pointer",children:[x.jsx(H_,{className:"w-4 h-4 mr-2"}),"Messages",m>0&&x.jsx(Pr,{className:"ml-auto bg-blue-500 text-white text-xs",children:m})]})}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("DailyChallenge"),className:"cursor-pointer",children:[x.jsx(G0,{className:"w-4 h-4 mr-2"}),"Daily Challenge",!_&&x.jsx(Pr,{className:"ml-auto bg-red-500 text-white text-xs animate-pulse",children:"!"})]})}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("AITutor"),className:"cursor-pointer",children:[x.jsx(Um,{className:"w-4 h-4 mr-2"}),"AI Tutor"]})}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Progress"),className:"cursor-pointer",children:[x.jsx(D$,{className:"w-4 h-4 mr-2"}),"Progress & Stats"]})}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Shop"),className:"cursor-pointer",children:[x.jsx(K0,{className:"w-4 h-4 mr-2"}),"Rewards Shop"]})}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("ParentPortal"),className:"cursor-pointer",children:[x.jsx(q_,{className:"w-4 h-4 mr-2"}),"Parent Portal",(o==null?void 0:o.is_parent_mode)&&x.jsx(Pr,{className:"ml-2 bg-blue-500 text-white text-xs",children:"ON"})]})}),x.jsx(Gm,{className:c?"bg-slate-700":""}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Settings"),className:"cursor-pointer",children:[x.jsx(Q_,{className:"w-4 h-4 mr-2"}),"App Settings"]})}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer",children:[x.jsx(X$,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})}),O&&(o==null?void 0:o.subscription_auto_renew)!==!1&&x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer text-orange-600 focus:text-orange-600",children:[x.jsx($$,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})}),x.jsx(Gm,{className:c?"bg-slate-700":""}),x.jsxs(Nr,{onClick:z,className:`${c?"text-red-400 focus:bg-slate-700 focus:text-red-400":"text-red-600 focus:text-red-600"} cursor-pointer`,children:[x.jsx(K_,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),x.jsx(Us,{variant:"ghost",size:"icon",onClick:()=>i(!s),className:`lg:hidden ${c?"text-gray-50 hover:bg-slate-700":""}`,children:s?x.jsx(P1,{className:"w-6 h-6"}):x.jsx(lq,{className:"w-6 h-6"})})]})]}),s&&x.jsxs("div",{className:`mt-4 pb-4 space-y-2 border-t pt-4 max-h-[calc(100vh-140px)] overflow-y-auto ${c?"border-slate-700":""}`,children:[o&&x.jsxs("div",{className:`${c?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx(tn.Suspense,{fallback:null,children:T&&x.jsx("div",{className:"scale-90 origin-center",children:x.jsx(uw,{avatarData:T,size:"small"})})}),x.jsxs("div",{children:[x.jsx("p",{className:`font-bold ${c?"text-gray-50":"text-gray-900"}`,children:o.full_name||"Player"}),x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:o.email})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(Pr,{className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white",children:[x.jsx(U_,{className:"w-3 h-3 mr-1"}),o.coins||0," Coins"]}),R!=="free"&&x.jsxs(Pr,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[x.jsx(sl,{className:"w-3 h-3 mr-1"}),R==="family_teacher"?"Family":R==="premium_player"?"Premium":"Parent"]})]})]}),x.jsx(B,{to:"Home",icon:G_,label:"Home",isDarkMode:c}),x.jsx(B,{to:"DailyChallenge",icon:G0,label:"Daily Challenge",badge:_?null:"!",isDarkMode:c}),x.jsx(B,{to:"Progress",icon:yb,label:"Progress",isDarkMode:c}),x.jsx(B,{to:"AITutor",icon:Um,label:"AI Tutor",isDarkMode:c}),x.jsx(B,{to:"Messages",icon:H_,label:"Messages",badge:m>0?m:null,badgeColor:"blue",isDarkMode:c}),x.jsx(B,{to:"Leaderboards",icon:N$,label:"Leaderboards",isDarkMode:c}),x.jsx(B,{to:"Shop",icon:K0,label:"Shop",isDarkMode:c}),x.jsx(B,{to:"TeamChallenges",icon:vb,label:"Team Challenges",isDarkMode:c}),x.jsx(B,{to:"ParentPortal",icon:q_,label:"Parent Portal",badge:o!=null&&o.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:c}),x.jsx(B,{to:"Avatar",icon:Q0,label:"Profile",isDarkMode:c}),x.jsx("div",{className:`pt-2 mt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Settings"),onClick:()=>i(!1),children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-gradient-to-r from-gray-700 to-gray-800 text-gray-50 hover:bg-gray-700":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[x.jsx(Q_,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"App Settings"})]})})}),x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Subscription"),onClick:()=>i(!1),className:"w-full block",children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${R!=="free"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 text-white animate-pulse"}`,children:[x.jsx(sl,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:R!=="free"?"Manage Subscription":"Upgrade to Premium"})]})})}),o&&x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsxs("button",{onClick:()=>{i(!1),z()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[x.jsx(K_,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]})}),x.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${c?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:x.jsxs("div",{className:"grid grid-cols-5 gap-1 px-2 py-2",children:[x.jsxs(ft,{to:nt("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Home")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(G_,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),x.jsxs(ft,{to:nt("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("DailyChallenge")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(G0,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!_&&x.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),x.jsxs(ft,{to:nt("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("AITutor")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(Um,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),x.jsxs(ft,{to:nt("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Shop")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(K0,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),x.jsx(ft,{to:nt("Avatar"),className:`flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Avatar")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:T?x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(uw,{avatarData:T,size:"small"})}):x.jsx(Q0,{className:"w-6 h-6"})})]})}),x.jsx(Km,{children:x.jsx(tn.Suspense,{fallback:null,children:x.jsx(uY,{})})}),x.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:x.jsx(Km,{children:x.jsx(tn.Suspense,{fallback:x.jsx("div",{className:"min-h-[40vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-3"}),x.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),children:t})})}),x.jsx("footer",{className:`${c?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:x.jsx("div",{className:"max-w-7xl mx-auto px-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),x.jsx("p",{className:`text-xs ${c?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[x.jsx(ft,{to:nt("PrivacyPolicy"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx(ft,{to:nt("Subscription"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}const hY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));hY.displayName="Card";const dY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex flex-col space-y-1.5 p-6",t),...e}));dY.displayName="CardHeader";const fY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("font-semibold leading-none tracking-tight",t),...e}));fY.displayName="CardTitle";const pY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm text-muted-foreground",t),...e}));pY.displayName="CardDescription";const mY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("p-6 pt-0",t),...e}));mY.displayName="CardContent";const gY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex items-center p-6 pt-0",t),...e}));gY.displayName="CardFooter";const SO=E.createContext({});function yY(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const X1=typeof window<"u",vY=X1?E.useLayoutEffect:E.useEffect,Y1=E.createContext(null);function J1(t,e){t.indexOf(e)===-1&&t.push(e)}function Z1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ji=(t,e,n)=>n>e?e:n<t?t:n;let eE=()=>{};const Fi={},kO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function TO(t){return typeof t=="object"&&t!==null}const IO=t=>/^0[^.\s]+$/u.test(t);function tE(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vr=t=>t,wY=(t,e)=>n=>e(t(n)),Af=(...t)=>t.reduce(wY),Jd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class nE{constructor(){this.subscriptions=[]}add(e){return J1(this.subscriptions,e),()=>Z1(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $s=t=>t*1e3,Lr=t=>t/1e3;function _O(t,e){return e?t*(1e3/e):0}const CO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bY=1e-7,xY=12;function EY(t,e,n,r,s){let i,o,u=0;do o=e+(n-e)/2,i=CO(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>bY&&++u<xY);return o}function Pf(t,e,n,r){if(t===e&&n===r)return Vr;const s=i=>EY(i,0,1,t,n);return i=>i===0||i===1?i:CO(s(i),e,r)}const NO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,AO=t=>e=>1-t(1-e),PO=Pf(.33,1.53,.69,.99),rE=AO(PO),RO=NO(rE),DO=t=>(t*=2)<1?.5*rE(t):.5*(2-Math.pow(2,-10*(t-1))),sE=t=>1-Math.sin(Math.acos(t)),MO=AO(sE),OO=NO(sE),SY=Pf(.42,0,1,1),kY=Pf(0,0,.58,1),LO=Pf(.42,0,.58,1),TY=t=>Array.isArray(t)&&typeof t[0]!="number",jO=t=>Array.isArray(t)&&typeof t[0]=="number",IY={linear:Vr,easeIn:SY,easeInOut:LO,easeOut:kY,circIn:sE,circInOut:OO,circOut:MO,backIn:rE,backInOut:RO,backOut:PO,anticipate:DO},_Y=t=>typeof t=="string",DC=t=>{if(jO(t)){eE(t.length===4);const[e,n,r,s]=t;return Pf(e,n,r,s)}else if(_Y(t))return IY[t];return t},bm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CY(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(m){o.has(m)&&(d.schedule(m),t()),m(u)}const d={schedule:(m,g=!1,v=!1)=>{const S=v&&s?n:r;return g&&o.add(m),S.has(m)||S.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(u=m,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,d.process(m))}};return d}const NY=40;function FO(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=bm.reduce((A,R)=>(A[R]=CY(i),A),{}),{setup:u,read:c,resolveKeyframes:d,preUpdate:m,update:g,preRender:v,render:S,postRender:_}=o,T=()=>{const A=Fi.useManualTiming?s.timestamp:performance.now();n=!1,Fi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(A-s.timestamp,NY),1)),s.timestamp=A,s.isProcessing=!0,u.process(s),c.process(s),d.process(s),m.process(s),g.process(s),v.process(s),S.process(s),_.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(T))},I=()=>{n=!0,r=!0,s.isProcessing||t(T)};return{schedule:bm.reduce((A,R)=>{const O=o[R];return A[R]=(z,B=!1,G=!1)=>(n||I(),O.schedule(z,B,G)),A},{}),cancel:A=>{for(let R=0;R<bm.length;R++)o[bm[R]].cancel(A)},state:s,steps:o}}const{schedule:Et,cancel:eo,state:mn,steps:cw}=FO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vr,!0);let Hm;function AY(){Hm=void 0}const Jn={now:()=>(Hm===void 0&&Jn.set(mn.isProcessing||Fi.useManualTiming?mn.timestamp:performance.now()),Hm),set:t=>{Hm=t,queueMicrotask(AY)}},VO=t=>e=>typeof e=="string"&&e.startsWith(t),iE=VO("--"),PY=VO("var(--"),aE=t=>PY(t)?RY.test(t.split("/*")[0].trim()):!1,RY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zd={...Fc,transform:t=>ji(0,1,t)},xm={...Fc,default:1},Ed=t=>Math.round(t*1e5)/1e5,oE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function DY(t){return t==null}const MY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lE=(t,e)=>n=>!!(typeof n=="string"&&MY.test(n)&&n.startsWith(t)||e&&!DY(n)&&Object.prototype.hasOwnProperty.call(n,e)),zO=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,u]=r.match(oE);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},OY=t=>ji(0,255,t),hw={...Fc,transform:t=>Math.round(OY(t))},il={test:lE("rgb","red"),parse:zO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+hw.transform(t)+", "+hw.transform(e)+", "+hw.transform(n)+", "+Ed(Zd.transform(r))+")"};function LY(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Db={test:lE("#"),parse:LY,transform:il.transform},Rf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Da=Rf("deg"),qs=Rf("%"),Le=Rf("px"),jY=Rf("vh"),FY=Rf("vw"),MC={...qs,parse:t=>qs.parse(t)/100,transform:t=>qs.transform(t*100)},Xu={test:lE("hsl","hue"),parse:zO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+qs.transform(Ed(e))+", "+qs.transform(Ed(n))+", "+Ed(Zd.transform(r))+")"},Qt={test:t=>il.test(t)||Db.test(t)||Xu.test(t),parse:t=>il.test(t)?il.parse(t):Xu.test(t)?Xu.parse(t):Db.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?il.transform(t):Xu.transform(t),getAnimatableNone:t=>{const e=Qt.parse(t);return e.alpha=0,Qt.transform(e)}},VY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zY(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(oE))==null?void 0:e.length)||0)+(((n=t.match(VY))==null?void 0:n.length)||0)>0}const UO="number",BO="color",UY="var",BY="var(",OC="${}",$Y=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ef(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace($Y,u=>(Qt.test(u)?(r.color.push(i),s.push(BO),n.push(Qt.parse(u))):u.startsWith(BY)?(r.var.push(i),s.push(UY),n.push(u)):(r.number.push(i),s.push(UO),n.push(parseFloat(u))),++i,OC)).split(OC);return{values:n,split:o,indexes:r,types:s}}function $O(t){return ef(t).values}function qO(t){const{split:e,types:n}=ef(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const u=n[o];u===UO?i+=Ed(s[o]):u===BO?i+=Qt.transform(s[o]):i+=s[o]}return i}}const qY=t=>typeof t=="number"?0:Qt.test(t)?Qt.getAnimatableNone(t):t;function WY(t){const e=$O(t);return qO(t)(e.map(qY))}const to={test:zY,parse:$O,createTransformer:qO,getAnimatableNone:WY};function dw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GY({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;s=dw(c,u,t+1/3),i=dw(c,u,t),o=dw(c,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Bg(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,fw=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},KY=[Db,il,Xu],HY=t=>KY.find(e=>e.test(t));function LC(t){const e=HY(t);if(!e)return!1;let n=e.parse(t);return e===Xu&&(n=GY(n)),n}const jC=(t,e)=>{const n=LC(t),r=LC(e);if(!n||!r)return Bg(t,e);const s={...n};return i=>(s.red=fw(n.red,r.red,i),s.green=fw(n.green,r.green,i),s.blue=fw(n.blue,r.blue,i),s.alpha=_t(n.alpha,r.alpha,i),il.transform(s))},Mb=new Set(["none","hidden"]);function QY(t,e){return Mb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function XY(t,e){return n=>_t(t,e,n)}function uE(t){return typeof t=="number"?XY:typeof t=="string"?aE(t)?Bg:Qt.test(t)?jC:ZY:Array.isArray(t)?WO:typeof t=="object"?Qt.test(t)?jC:YY:Bg}function WO(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>uE(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function YY(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=uE(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function JY(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],u=t.values[o]??0;n[s]=u,r[i]++}return n}const ZY=(t,e)=>{const n=to.createTransformer(e),r=ef(t),s=ef(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Mb.has(t)&&!s.values.length||Mb.has(e)&&!r.values.length?QY(t,e):Af(WO(JY(r,s),s.values),n):Bg(t,e)};function GO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):uE(t)(t,e)}const eJ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Et.update(e,n),stop:()=>eo(e),now:()=>mn.isProcessing?mn.timestamp:Jn.now()}},KO=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},$g=2e4;function cE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$g;)e+=n,r=t.next(e);return e>=$g?1/0:e}function tJ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(cE(r),$g);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Lr(s)}}const nJ=5;function HO(t,e,n){const r=Math.max(e-nJ,0);return _O(n-t(r),e-r)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pw=.001;function rJ({duration:t=Dt.duration,bounce:e=Dt.bounce,velocity:n=Dt.velocity,mass:r=Dt.mass}){let s,i,o=1-e;o=ji(Dt.minDamping,Dt.maxDamping,o),t=ji(Dt.minDuration,Dt.maxDuration,Lr(t)),o<1?(s=d=>{const m=d*o,g=m*t,v=m-n,S=Ob(d,o),_=Math.exp(-g);return pw-v/S*_},i=d=>{const m=d*o*t,g=m*n+n,v=Math.pow(o,2)*Math.pow(d,2)*t,S=Math.exp(-m),_=Ob(Math.pow(d,2),o);return(-s(d)+pw>0?-1:1)*((g-v)*S)/_}):(s=d=>{const m=Math.exp(-d*t),g=(d-n)*t+1;return-pw+m*g},i=d=>{const m=Math.exp(-d*t),g=(n-d)*(t*t);return m*g});const u=5/t,c=iJ(s,i,u);if(t=$s(t),isNaN(c))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const sJ=12;function iJ(t,e,n){let r=n;for(let s=1;s<sJ;s++)r=r-t(r)/e(r);return r}function Ob(t,e){return t*Math.sqrt(1-e*e)}const aJ=["duration","bounce"],oJ=["stiffness","damping","mass"];function FC(t,e){return e.some(n=>t[n]!==void 0)}function lJ(t){let e={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...t};if(!FC(t,oJ)&&FC(t,aJ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ji(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Dt.mass,stiffness:s,damping:i}}else{const n=rJ(t);e={...e,...n,mass:Dt.mass},e.isResolvedFromDuration=!0}return e}function qg(t=Dt.visualDuration,e=Dt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:c,damping:d,mass:m,duration:g,velocity:v,isResolvedFromDuration:S}=lJ({...n,velocity:-Lr(n.velocity||0)}),_=v||0,T=d/(2*Math.sqrt(c*m)),I=o-i,A=Lr(Math.sqrt(c/m)),R=Math.abs(I)<5;r||(r=R?Dt.restSpeed.granular:Dt.restSpeed.default),s||(s=R?Dt.restDelta.granular:Dt.restDelta.default);let O;if(T<1){const B=Ob(A,T);O=G=>{const D=Math.exp(-T*A*G);return o-D*((_+T*A*I)/B*Math.sin(B*G)+I*Math.cos(B*G))}}else if(T===1)O=B=>o-Math.exp(-A*B)*(I+(_+A*I)*B);else{const B=A*Math.sqrt(T*T-1);O=G=>{const D=Math.exp(-T*A*G),C=Math.min(B*G,300);return o-D*((_+T*A*I)*Math.sinh(C)+B*I*Math.cosh(C))/B}}const z={calculatedDuration:S&&g||null,next:B=>{const G=O(B);if(S)u.done=B>=g;else{let D=B===0?_:0;T<1&&(D=B===0?$s(_):HO(O,B,G));const C=Math.abs(D)<=r,P=Math.abs(o-G)<=s;u.done=C&&P}return u.value=u.done?o:G,u},toString:()=>{const B=Math.min(cE(z),$g),G=KO(D=>z.next(B*D).value,B,30);return B+"ms "+G},toTransition:()=>{}};return z}qg.applyToOptions=t=>{const e=tJ(t,100,qg);return t.ease=e.ease,t.duration=$s(e.duration),t.type="keyframes",t};function Lb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:c,restDelta:d=.5,restSpeed:m}){const g=t[0],v={done:!1,value:g},S=C=>u!==void 0&&C<u||c!==void 0&&C>c,_=C=>u===void 0?c:c===void 0||Math.abs(u-C)<Math.abs(c-C)?u:c;let T=n*e;const I=g+T,A=o===void 0?I:o(I);A!==I&&(T=A-g);const R=C=>-T*Math.exp(-C/r),O=C=>A+R(C),z=C=>{const P=R(C),L=O(C);v.done=Math.abs(P)<=d,v.value=v.done?A:L};let B,G;const D=C=>{S(v.value)&&(B=C,G=qg({keyframes:[v.value,_(v.value)],velocity:HO(O,C,v.value),damping:s,stiffness:i,restDelta:d,restSpeed:m}))};return D(0),{calculatedDuration:null,next:C=>{let P=!1;return!G&&B===void 0&&(P=!0,z(C),D(C)),B!==void 0&&C>=B?G.next(C-B):(!P&&z(C),v)}}}function uJ(t,e,n){const r=[],s=n||Fi.mix||GO,i=t.length-1;for(let o=0;o<i;o++){let u=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Vr:e;u=Af(c,u)}r.push(u)}return r}function cJ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(eE(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=uJ(e,r,s),c=u.length,d=m=>{if(o&&m<t[0])return e[0];let g=0;if(c>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const v=Jd(t[g],t[g+1],m);return u[g](v)};return n?m=>d(ji(t[0],t[i-1],m)):d}function hJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Jd(0,e,r);t.push(_t(n,1,s))}}function dJ(t){const e=[0];return hJ(e,t.length-1),e}function fJ(t,e){return t.map(n=>n*e)}function pJ(t,e){return t.map(()=>e||LO).splice(0,t.length-1)}function Sd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=TY(r)?r.map(DC):DC(r),i={done:!1,value:e[0]},o=fJ(n&&n.length===e.length?n:dJ(e),t),u=cJ(o,e,{ease:Array.isArray(s)?s:pJ(e,s)});return{calculatedDuration:t,next:c=>(i.value=u(c),i.done=c>=t,i)}}const mJ=t=>t!==null;function hE(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(mJ),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const gJ={decay:Lb,inertia:Lb,tween:Sd,keyframes:Sd,spring:qg};function QO(t){typeof t.type=="string"&&(t.type=gJ[t.type])}class dE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const yJ=t=>t/100;class fE extends dE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==Jn.now()&&this.tick(Jn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;QO(e);const{type:n=Sd,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:u}=e;const c=n||Sd;c!==Sd&&typeof u[0]!="number"&&(this.mixKeyframes=Af(yJ,GO(u[0],u[1])),u=[0,100]);const d=c({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=cE(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:m,repeat:g,repeatType:v,repeatDelay:S,type:_,onUpdate:T,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-d*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?A<0:A>s;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let O=this.currentTime,z=r;if(g){const C=Math.min(this.currentTime,s)/u;let P=Math.floor(C),L=C%1;!L&&C>=1&&(L=1),L===1&&P--,P=Math.min(P,g+1),P%2&&(v==="reverse"?(L=1-L,S&&(L-=S/u)):v==="mirror"&&(z=o)),O=ji(0,1,L)*u}const B=R?{done:!1,value:m[0]}:z.next(O);i&&(B.value=i(B.value));let{done:G}=B;!R&&c!==null&&(G=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return D&&_!==Lb&&(B.value=hE(m,this.options,I,this.speed)),T&&T(B.value),D&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return Lr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Lr(e)}get time(){return Lr(this.currentTime)}set time(e){var n;e=$s(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Jn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Lr(this.currentTime))}play(){var e,n;if(this.isStopped)return;const{driver:r=eJ,startTime:s}=this.options;this.driver||(this.driver=r(o=>this.tick(o))),(n=(e=this.options).onPlay)==null||n.call(e);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Jn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function vJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const al=t=>t*180/Math.PI,jb=t=>{const e=al(Math.atan2(t[1],t[0]));return Fb(e)},wJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jb,rotateZ:jb,skewX:t=>al(Math.atan(t[1])),skewY:t=>al(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Fb=t=>(t=t%360,t<0&&(t+=360),t),VC=jb,zC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),UC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zC,scaleY:UC,scale:t=>(zC(t)+UC(t))/2,rotateX:t=>Fb(al(Math.atan2(t[6],t[5]))),rotateY:t=>Fb(al(Math.atan2(-t[2],t[0]))),rotateZ:VC,rotate:VC,skewX:t=>al(Math.atan(t[4])),skewY:t=>al(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Vb(t){return t.includes("scale")?1:0}function zb(t,e){if(!t||t==="none")return Vb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=bJ,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=wJ,s=u}if(!s)return Vb(e);const i=r[e],o=s[1].split(",").map(EJ);return typeof i=="function"?i(o):o[i]}const xJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return zb(n,e)};function EJ(t){return parseFloat(t.trim())}const Vc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zc=new Set(Vc),BC=t=>t===Fc||t===Le,SJ=new Set(["x","y","z"]),kJ=Vc.filter(t=>!SJ.has(t));function TJ(t){const e=[];return kJ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const dl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>zb(e,"x"),y:(t,{transform:e})=>zb(e,"y")};dl.translateX=dl.x;dl.translateY=dl.y;const fl=new Set;let Ub=!1,Bb=!1,$b=!1;function XO(){if(Bb){const t=Array.from(fl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=TJ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var u;(u=r.getValue(i))==null||u.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bb=!1,Ub=!1,fl.forEach(t=>t.complete($b)),fl.clear()}function YO(){fl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Bb=!0)})}function IJ(){$b=!0,YO(),XO(),$b=!1}class pE{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(fl.add(this),Ub||(Ub=!0,Et.read(YO),Et.resolveKeyframes(XO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}vJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fl.delete(this)}cancel(){this.state==="scheduled"&&(fl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _J=t=>t.startsWith("--");function CJ(t,e,n){_J(e)?t.style.setProperty(e,n):t.style[e]=n}const NJ=tE(()=>window.ScrollTimeline!==void 0),AJ={};function PJ(t,e){const n=tE(t);return()=>AJ[e]??n()}const JO=PJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,$C={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hd([0,.65,.55,1]),circOut:hd([.55,0,1,.45]),backIn:hd([.31,.01,.66,-.59]),backOut:hd([.33,1.53,.69,.99])};function ZO(t,e){if(t)return typeof t=="function"?JO()?KO(t,e):"ease-out":jO(t)?hd(t):Array.isArray(t)?t.map(n=>ZO(n,e)||$C.easeOut):$C[t]}function RJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:u="easeOut",times:c}={},d=void 0){const m={[e]:n};c&&(m.offset=c);const g=ZO(u,s);Array.isArray(g)&&(m.easing=g);const v={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),t.animate(m,v)}function eL(t){return typeof t=="function"&&"applyToOptions"in t}function DJ({type:t,...e}){return eL(t)&&JO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class MJ extends dE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,eE(typeof e.type!="string");const d=DJ(e);this.animation=RJ(n,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=hE(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):CJ(n,r,m),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var e,n;const r=((n=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:n.call(e).duration)||0;return Lr(Number(r))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Lr(e)}get time(){return Lr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=$s(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&NJ()?(this.animation.timeline=e,Vr):n(this)}}const tL={anticipate:DO,backInOut:RO,circInOut:OO};function OJ(t){return t in tL}function LJ(t){typeof t.ease=="string"&&OJ(t.ease)&&(t.ease=tL[t.ease])}const qC=10;class jJ extends MJ{constructor(e){LJ(e),QO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new fE({...o,autoplay:!1}),c=$s(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-qC).value,u.sample(c).value,qC),u.stop()}}const WC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(to.test(t)||t==="0")&&!t.startsWith("url("));function FJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function VJ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=WC(s,e),u=WC(i,e);return!o||!u?!1:FJ(t)||(n==="spring"||eL(n))&&r}function qb(t){t.duration=0,t.type="keyframes"}const zJ=new Set(["opacity","clipPath","filter","transform"]),UJ=tE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function BJ(t){var e;const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:u}=t;if(!(((e=n==null?void 0:n.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=n.owner.getProps();return UJ()&&r&&zJ.has(r)&&(r!=="transform"||!d)&&!c&&!s&&i!=="mirror"&&o!==0&&u!=="inertia"}const $J=40;class qJ extends dE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:u,name:c,motionValue:d,element:m,...g}){var v;super(),this.stop=()=>{var T,I;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=Jn.now();const S={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:m,...g},_=(m==null?void 0:m.KeyframeResolver)||pE;this.keyframeResolver=new _(u,(T,I,A)=>this.onKeyframesResolved(T,I,S,!A),c,d,m),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:u,delay:c,isHandoff:d,onUpdate:m}=r;this.resolvedAt=Jn.now(),VJ(e,i,o,u)||((Fi.instantAnimations||!c)&&(m==null||m(hE(e,r,n))),e[0]=e[e.length-1],qb(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>$J?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!d&&BJ(g)?new jJ({...g,element:g.motionValue.owner.current}):new fE(g);v.finished.then(()=>this.notifyFinished()).catch(Vr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),IJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const WJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GJ(t){const e=WJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function nL(t,e,n=1){const[r,s]=GJ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return kO(o)?parseFloat(o):o}return aE(s)?nL(s,e,n+1):s}function mE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const rL=new Set(["width","height","top","left","right","bottom",...Vc]),KJ={test:t=>t==="auto",parse:t=>t},sL=t=>e=>e.test(t),iL=[Fc,Le,qs,Da,FY,jY,KJ],GC=t=>iL.find(sL(t));function HJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||IO(t):!0}const QJ=new Set(["brightness","contrast","saturate","opacity"]);function XJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(oE)||[];if(!r)return t;const s=n.replace(r,"");let i=QJ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const YJ=/\b([a-z-]*)\(.*?\)/gu,Wb={...to,getAnimatableNone:t=>{const e=t.match(YJ);return e?e.map(XJ).join(" "):t}},KC={...Fc,transform:Math.round},JJ={rotate:Da,rotateX:Da,rotateY:Da,rotateZ:Da,scale:xm,scaleX:xm,scaleY:xm,scaleZ:xm,skew:Da,skewX:Da,skewY:Da,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:Zd,originX:MC,originY:MC,originZ:Le},gE={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le,...JJ,zIndex:KC,fillOpacity:Zd,strokeOpacity:Zd,numOctaves:KC},ZJ={...gE,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:Wb,WebkitFilter:Wb},aL=t=>ZJ[t];function oL(t,e){let n=aL(t);return n!==Wb&&(n=to),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const eZ=new Set(["auto","none","0"]);function tZ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!eZ.has(i)&&ef(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=oL(n,s)}class nZ extends pE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),aE(d))){const m=nL(d,n.current);m!==void 0&&(e[c]=m),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!rL.has(r)||e.length!==2)return;const[s,i]=e,o=GC(s),u=GC(i);if(o!==u)if(BC(o)&&BC(u))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else dl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||HJ(e[s]))&&r.push(s);r.length&&tZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,u=s[o];s[o]=dl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([c,d])=>{n.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function rZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const lL=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function sZ(t){return TO(t)&&"offsetHeight"in t}const HC=30,iZ=t=>!isNaN(parseFloat(t));class aZ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Jn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new nE);const r=this.events[e].add(n);return e==="change"?()=>{r(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>HC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,HC);return _O(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kc(t,e){return new aZ(t,e)}const{schedule:yE}=FO(queueMicrotask,!1),Zr={x:!1,y:!1};function uL(){return Zr.x||Zr.y}function oZ(t){return t==="x"||t==="y"?Zr[t]?null:(Zr[t]=!0,()=>{Zr[t]=!1}):Zr.x||Zr.y?null:(Zr.x=Zr.y=!0,()=>{Zr.x=Zr.y=!1})}function cL(t,e){const n=rZ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function QC(t){return!(t.pointerType==="touch"||uL())}function lZ(t,e,n={}){const[r,s,i]=cL(t,n),o=u=>{if(!QC(u))return;const{target:c}=u,d=e(c,u);if(typeof d!="function"||!c)return;const m=g=>{QC(g)&&(d(g),c.removeEventListener("pointerleave",m))};c.addEventListener("pointerleave",m,s)};return r.forEach(u=>{u.addEventListener("pointerenter",o,s)}),i}const hL=(t,e)=>e?t===e?!0:hL(t,e.parentElement):!1,vE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,uZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cZ(t){return uZ.has(t.tagName)||t.tabIndex!==-1}const Qm=new WeakSet;function XC(t){return e=>{e.key==="Enter"&&t(e)}}function mw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const hZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=XC(()=>{if(Qm.has(n))return;mw(n,"down");const s=XC(()=>{mw(n,"up")}),i=()=>mw(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function YC(t){return vE(t)&&!uL()}function dZ(t,e,n={}){const[r,s,i]=cL(t,n),o=u=>{const c=u.currentTarget;if(!YC(u))return;Qm.add(c);const d=e(c,u),m=(S,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Qm.has(c)&&Qm.delete(c),YC(S)&&typeof d=="function"&&d(S,{success:_})},g=S=>{m(S,c===window||c===document||n.useGlobalTarget||hL(c,S.target))},v=S=>{m(S,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),sZ(u)&&(u.addEventListener("focus",c=>hZ(c,s)),!cZ(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function dL(t){return TO(t)&&"ownerSVGElement"in t}function fZ(t){return dL(t)&&t.tagName==="svg"}const Cn=t=>!!(t&&t.getVelocity),pZ=[...iL,Qt,to],mZ=t=>pZ.find(sL(t)),fL=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function gZ(t=!0){const e=E.useContext(Y1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=E.useId();E.useEffect(()=>{if(t)return s(i)},[t]);const o=E.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const pL=E.createContext({strict:!1}),JC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tc={};for(const t in JC)Tc[t]={isEnabled:e=>JC[t].some(n=>!!e[n])};function yZ(t){for(const e in t)Tc[e]={...Tc[e],...t[e]}}const vZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vZ.has(t)}let mL=t=>!Wg(t);function wZ(t){typeof t=="function"&&(mL=e=>e.startsWith("on")?!Wg(e):t(e))}try{wZ(require("@emotion/is-prop-valid").default)}catch{}function bZ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(mL(s)||n===!0&&Wg(s)||!e&&!Wg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Gy=E.createContext({});function Ky(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function tf(t){return typeof t=="string"||Array.isArray(t)}const wE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bE=["initial",...wE];function Hy(t){return Ky(t.animate)||bE.some(e=>tf(t[e]))}function gL(t){return!!(Hy(t)||t.variants)}function xZ(t,e){if(Hy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||tf(n)?n:void 0,animate:tf(r)?r:void 0}}return t.inherit!==!1?e:{}}function EZ(t){const{initial:e,animate:n}=xZ(t,E.useContext(Gy));return E.useMemo(()=>({initial:e,animate:n}),[ZC(e),ZC(n)])}function ZC(t){return Array.isArray(t)?t.join(" "):t}const nf={};function SZ(t){for(const e in t)nf[e]=t[e],iE(e)&&(nf[e].isCSSVariable=!0)}function yL(t,{layout:e,layoutId:n}){return zc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nf[t]||t==="opacity")}const kZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TZ=Vc.length;function IZ(t,e,n){let r="",s=!0;for(let i=0;i<TZ;i++){const o=Vc[i],u=t[o];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(o.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const d=lL(u,gE[o]);if(!c){s=!1;const m=kZ[o]||o;r+=`${m}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function xE(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,u=!1;for(const c in e){const d=e[c];if(zc.has(c)){o=!0;continue}else if(iE(c)){s[c]=d;continue}else{const m=lL(d,gE[c]);c.startsWith("origin")?(u=!0,i[c]=m):r[c]=m}}if(e.transform||(o||n?r.transform=IZ(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:d="50%",originZ:m=0}=i;r.transformOrigin=`${c} ${d} ${m}`}}const EE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vL(t,e,n){for(const r in e)!Cn(e[r])&&!yL(r,n)&&(t[r]=e[r])}function _Z({transformTemplate:t},e){return E.useMemo(()=>{const n=EE();return xE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function CZ(t,e){const n=t.style||{},r={};return vL(r,n,t),Object.assign(r,_Z(t,e)),r}function NZ(t,e){const n={},r=CZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const AZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},PZ={offset:"strokeDashoffset",array:"strokeDasharray"};function RZ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?AZ:PZ;t[i.offset]=Le.transform(-r);const o=Le.transform(e),u=Le.transform(n);t[i.array]=`${o} ${u}`}function wL(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...u},c,d,m){if(xE(t,u,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&RZ(g,s,i,o,!1)}const bL=()=>({...EE(),attrs:{}}),xL=t=>typeof t=="string"&&t.toLowerCase()==="svg";function DZ(t,e,n,r){const s=E.useMemo(()=>{const i=bL();return wL(i,e,xL(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};vL(i,t.style,t),s.style={...i,...s.style}}return s}const MZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function SE(t){return typeof t!="string"||t.includes("-")?!1:!!(MZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function OZ(t,e,n,{latestValues:r},s,i=!1){const o=(SE(t)?DZ:NZ)(e,r,s,t),u=bZ(e,typeof t=="string",i),c=t!==E.Fragment?{...u,...o,ref:n}:{},{children:d}=e,m=E.useMemo(()=>Cn(d)?d.get():d,[d]);return E.createElement(t,{...c,children:m})}function e2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function kE(t,e,n,r){if(typeof e=="function"){const[s,i]=e2(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=e2(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Xm(t){return Cn(t)?t.get():t}function LZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:jZ(n,r,s,t),renderState:e()}}function jZ(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=Xm(i[v]);let{initial:o,animate:u}=t;const c=Hy(t),d=gL(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const g=m?u:o;if(g&&typeof g!="boolean"&&!Ky(g)){const v=Array.isArray(g)?g:[g];for(let S=0;S<v.length;S++){const _=kE(t,v[S]);if(_){const{transitionEnd:T,transition:I,...A}=_;for(const R in A){let O=A[R];if(Array.isArray(O)){const z=m?O.length-1:0;O=O[z]}O!==null&&(s[R]=O)}for(const R in T)s[R]=T[R]}}}return s}const EL=t=>(e,n)=>{const r=E.useContext(Gy),s=E.useContext(Y1),i=()=>LZ(t,e,r,s);return n?i():yY(i)};function TE(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Cn(s[o])||e.style&&Cn(e.style[o])||yL(o,t)||((r=n==null?void 0:n.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const FZ=EL({scrapeMotionValuesFromProps:TE,createRenderState:EE});function SL(t,e,n){const r=TE(t,e,n);for(const s in t)if(Cn(t[s])||Cn(e[s])){const i=Vc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const VZ=EL({scrapeMotionValuesFromProps:SL,createRenderState:bL}),zZ=Symbol.for("motionComponentSymbol");function Yu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function UZ(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Yu(n)&&(n.current=r))},[e])}const IE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BZ="framerAppearId",kL="data-"+IE(BZ),TL=E.createContext({});function $Z(t,e,n,r,s){var i,o;const{visualElement:u}=E.useContext(Gy),c=E.useContext(pL),d=E.useContext(Y1),m=E.useContext(fL).reducedMotion,g=E.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,S=E.useContext(TL);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&qZ(g.current,n,s,S);const _=E.useRef(!1);E.useInsertionEffect(()=>{v&&_.current&&v.update(n,d)});const T=n[kL],I=E.useRef(!!T&&!((i=window.MotionHandoffIsComplete)!=null&&i.call(window,T))&&((o=window.MotionHasOptimisedAnimation)==null?void 0:o.call(window,T)));return vY(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),I.current&&v.animationState&&v.animationState.animateChanges())}),E.useEffect(()=>{v&&(!I.current&&v.animationState&&v.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,T)}),I.current=!1),v.enteringChildren=void 0)}),v}function qZ(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:u,layoutScroll:c,layoutRoot:d,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:IL(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||u&&Yu(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:c,layoutRoot:d})}function IL(t){if(t)return t.options.allowProjection!==!1?t.projection:IL(t.parent)}function gw(t,{forwardMotionProps:e=!1}={},n,r){n&&yZ(n);const s=SE(t)?VZ:FZ;function i(u,c){let d;const m={...E.useContext(fL),...u,layoutId:WZ(u)},{isStatic:g}=m,v=EZ(u),S=s(u,g);if(!g&&X1){GZ();const _=KZ(m);d=_.MeasureLayout,v.visualElement=$Z(t,S,m,r,_.ProjectionNode)}return x.jsxs(Gy.Provider,{value:v,children:[d&&v.visualElement?x.jsx(d,{visualElement:v.visualElement,...m}):null,OZ(t,u,UZ(S,v.visualElement,c),S,g,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=E.forwardRef(i);return o[zZ]=t,o}function WZ({layoutId:t}){const e=E.useContext(SO).id;return e&&t!==void 0?e+"-"+t:t}function GZ(t,e){E.useContext(pL).strict}function KZ(t){const{drag:e,layout:n}=Tc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function HZ(t,e){if(typeof Proxy>"u")return gw;const n=new Map,r=(i,o)=>gw(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,gw(o,void 0,t,e)),n.get(o))})}function _L({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function QZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function XZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yw(t){return t===void 0||t===1}function Gb({scale:t,scaleX:e,scaleY:n}){return!yw(t)||!yw(e)||!yw(n)}function Xo(t){return Gb(t)||CL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function CL(t){return t2(t.x)||t2(t.y)}function t2(t){return t&&t!=="0%"}function Gg(t,e,n){const r=t-n,s=e*r;return n+s}function n2(t,e,n,r,s){return s!==void 0&&(t=Gg(t,s,r)),Gg(t,n,r)+e}function Kb(t,e=0,n=1,r,s){t.min=n2(t.min,e,n,r,s),t.max=n2(t.max,e,n,r,s)}function NL(t,{x:e,y:n}){Kb(t.x,e.translate,e.scale,e.originPoint),Kb(t.y,n.translate,n.scale,n.originPoint)}const r2=.999999999999,s2=1.0000000000001;function YZ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let u=0;u<s;u++){i=n[u],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Zu(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,NL(t,o)),r&&Xo(i.latestValues)&&Zu(t,i.latestValues))}e.x<s2&&e.x>r2&&(e.x=1),e.y<s2&&e.y>r2&&(e.y=1)}function Ju(t,e){t.min=t.min+e,t.max=t.max+e}function i2(t,e,n,r,s=.5){const i=_t(t.min,t.max,s);Kb(t,e,n,i,r)}function Zu(t,e){i2(t.x,e.x,e.scaleX,e.scale,e.originX),i2(t.y,e.y,e.scaleY,e.scale,e.originY)}function AL(t,e){return _L(XZ(t.getBoundingClientRect(),e))}function JZ(t,e,n){const r=AL(t,n),{scroll:s}=e;return s&&(Ju(r.x,s.offset.x),Ju(r.y,s.offset.y)),r}const a2=()=>({translate:0,scale:1,origin:0,originPoint:0}),ec=()=>({x:a2(),y:a2()}),o2=()=>({min:0,max:0}),Wt=()=>({x:o2(),y:o2()}),Hb={current:null},PL={current:!1};function ZZ(){if(PL.current=!0,!!X1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hb.current=t.matches;t.addEventListener("change",e),e()}else Hb.current=!1}const eee=new WeakMap;function tee(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Cn(s))t.addValue(r,s);else if(Cn(i))t.addValue(r,kc(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,kc(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const l2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Jn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Et.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=Hy(n),this.isVariantNode=gL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const S=g[v];c[v]!==void 0&&Cn(S)&&S.set(c[v])}}mount(e){var n;this.current=e,eee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),PL.current||ZZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hb.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),eo(this.notifyUpdate),eo(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=zc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Tc){const n=Tc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<l2.length;r++){const s=l2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=tee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=kc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(kO(r)||IO(r))?r=parseFloat(r):!mZ(r)&&to.test(n)&&(r=oL(e,n)),this.setBaseTarget(e,Cn(r)?r.get():r)),Cn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=kE(this.props,r,(n=this.presenceContext)==null?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Cn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){yE.render(this.render)}}class RL extends nee{constructor(){super(...arguments),this.KeyframeResolver=nZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DL(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function ree(t){return window.getComputedStyle(t)}class see extends RL{constructor(){super(...arguments),this.type="html",this.renderInstance=DL}readValueFromInstance(e,n){var r;if(zc.has(n))return(r=this.projection)!=null&&r.isProjecting?Vb(n):xJ(e,n);{const s=ree(e),i=(iE(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return AL(e,n)}build(e,n,r){xE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return TE(e,n,r)}}const ML=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iee(t,e,n,r){DL(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(ML.has(s)?s:IE(s),e.attrs[s])}class aee extends RL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zc.has(n)){const r=aL(n);return r&&r.default||0}return n=ML.has(n)?n:IE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return SL(e,n,r)}build(e,n,r){wL(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){iee(e,n,r,s)}mount(e){this.isSVGTag=xL(e.tagName),super.mount(e)}}const oee=(t,e)=>SE(t)?new aee(e):new see(e,{allowProjection:t!==E.Fragment});function lc(t,e,n){const r=t.getProps();return kE(r,e,n!==void 0?n:r.custom,t)}const Qb=t=>Array.isArray(t);function lee(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,kc(n))}function uee(t){return Qb(t)?t[t.length-1]||0:t}function cee(t,e){const n=lc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const u=uee(i[o]);lee(t,o,u)}}function hee(t){return!!(Cn(t)&&t.add)}function Xb(t,e){const n=t.getValue("willChange");if(hee(n))return n.add(e);if(!n&&Fi.WillChange){const r=new Fi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function OL(t){return t.props[kL]}const dee=t=>t!==null;function fee(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(dee),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const pee={type:"spring",stiffness:500,damping:25,restSpeed:10},mee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gee={type:"keyframes",duration:.8},yee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vee=(t,{keyframes:e})=>e.length>2?gee:zc.has(t)?t.startsWith("scale")?mee(e[1]):pee:yee;function wee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:u,from:c,elapsed:d,...m}){return!!Object.keys(m).length}const _E=(t,e,n,r={},s,i)=>o=>{const u=mE(r,t)||{},c=u.delay||r.delay||0;let{elapsed:d=0}=r;d=d-$s(c);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:s};wee(u)||Object.assign(m,vee(t,m)),m.duration&&(m.duration=$s(m.duration)),m.repeatDelay&&(m.repeatDelay=$s(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(qb(m),m.delay===0&&(g=!0)),(Fi.instantAnimations||Fi.skipAnimations)&&(g=!0,qb(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!i&&e.get()!==void 0){const v=fee(m.keyframes,u);if(v!==void 0){Et.update(()=>{m.onUpdate(v),m.onComplete()});return}}return u.isSync?new fE(m):new qJ(m)};function bee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function LL(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...u}=e;r&&(i=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const m in u){const g=t.getValue(m,t.latestValues[m]??null),v=u[m];if(v===void 0||d&&bee(d,m))continue;const S={delay:n,...mE(i||{},m)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===_&&!S.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const A=OL(t);if(A){const R=window.MotionHandoffAnimation(A,m,Et);R!==null&&(S.startTime=R,T=!0)}}Xb(t,m),g.start(_E(m,g,v,t.shouldReduceMotion&&rL.has(m)?{type:!1}:S,t,T));const I=g.animation;I&&c.push(I)}return o&&Promise.all(c).then(()=>{Et.update(()=>{o&&cee(t,o)})}),c}function jL(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),o=t.size,u=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:u-i*r}function Yb(t,e,n={}){var r;const s=lc(t,e,n.type==="exit"?(r=t.presenceContext)==null?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(LL(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=i;return xee(t,e,d,m,g,v,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,m]=c==="beforeChildren"?[o,u]:[u,o];return d().then(()=>m())}else return Promise.all([o(),u(n.delay)])}function xee(t,e,n=0,r=0,s=0,i=1,o){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(Yb(c,e,{...o,delay:n+(typeof r=="function"?0:r)+jL(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function Eee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Yb(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Yb(t,e,n);else{const s=typeof e=="function"?lc(t,e,n.custom):e;r=Promise.all(LL(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function FL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const See=bE.length;function VL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?VL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<See;n++){const r=bE[n],s=t.props[r];(tf(s)||s===!1)&&(e[r]=s)}return e}const kee=[...wE].reverse(),Tee=wE.length;function Iee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Eee(t,n,r)))}function _ee(t){let e=Iee(t),n=u2(),r=!0;const s=c=>(d,m)=>{var g;const v=lc(t,m,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(v){const{transition:S,transitionEnd:_,...T}=v;d={...d,...T,..._}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,m=VL(t.parent)||{},g=[],v=new Set;let S={},_=1/0;for(let I=0;I<Tee;I++){const A=kee[I],R=n[A],O=d[A]!==void 0?d[A]:m[A],z=tf(O),B=A===c?R.isActive:null;B===!1&&(_=I);let G=O===m[A]&&O!==d[A]&&z;if(G&&r&&t.manuallyAnimateOnMount&&(G=!1),R.protectedKeys={...S},!R.isActive&&B===null||!O&&!R.prevProp||Ky(O)||typeof O=="boolean")continue;const D=Cee(R.prevProp,O);let C=D||A===c&&R.isActive&&!G&&z||I>_&&z,P=!1;const L=Array.isArray(O)?O:[O];let V=L.reduce(s(A),{});B===!1&&(V={});const{prevResolvedValues:$={}}=R,j={...$,...V},ke=ye=>{C=!0,v.has(ye)&&(P=!0,v.delete(ye)),R.needsAnimating[ye]=!0;const ve=t.getValue(ye);ve&&(ve.liveStyle=!1)};for(const ye in j){const ve=V[ye],H=$[ye];if(S.hasOwnProperty(ye))continue;let ne=!1;Qb(ve)&&Qb(H)?ne=!FL(ve,H):ne=ve!==H,ne?ve!=null?ke(ye):v.add(ye):ve!==void 0&&v.has(ye)?ke(ye):R.protectedKeys[ye]=!0}R.prevProp=O,R.prevResolvedValues=V,R.isActive&&(S={...S,...V}),r&&t.blockInitialAnimation&&(C=!1);const Re=G&&D;C&&(!Re||P)&&g.push(...L.map(ye=>{const ve={type:A};if(typeof ye=="string"&&r&&!Re&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,ne=lc(H,ye);if(H.enteringChildren&&ne){const{delayChildren:ae}=ne.transition||{};ve.delay=jL(H.enteringChildren,t,ae)}}return{animation:ye,options:ve}}))}if(v.size){const I={};if(typeof d.initial!="boolean"){const A=lc(t,Array.isArray(d.initial)?d.initial[0]:d.initial);A&&A.transition&&(I.transition=A.transition)}v.forEach(A=>{const R=t.getBaseTarget(A),O=t.getValue(A);O&&(O.liveStyle=!0),I[A]=R??null}),g.push({animation:I})}let T=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(g):Promise.resolve()}function u(c,d){var m;if(n[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(v=>{var S;return(S=v.animationState)==null?void 0:S.setActive(c,d)}),n[c].isActive=d;const g=o(c);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=u2()}}}function Cee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!FL(e,t):!1}function Wo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function u2(){return{animate:Wo(!0),whileInView:Wo(),whileHover:Wo(),whileTap:Wo(),whileDrag:Wo(),whileFocus:Wo(),exit:Wo()}}class ao{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Nee extends ao{constructor(e){super(e),e.animationState||(e.animationState=_ee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ky(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Aee=0;class Pee extends ao{constructor(){super(...arguments),this.id=Aee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Ree={animation:{Feature:Nee},exit:{Feature:Pee}};function rf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Df(t){return{point:{x:t.pageX,y:t.pageY}}}const Dee=t=>e=>vE(e)&&t(e,Df(e));function kd(t,e,n,r){return rf(t,e,Dee(n),r)}const zL=1e-4,Mee=1-zL,Oee=1+zL,UL=.01,Lee=0-UL,jee=0+UL;function On(t){return t.max-t.min}function Fee(t,e,n){return Math.abs(t-e)<=n}function c2(t,e,n,r=.5){t.origin=r,t.originPoint=_t(e.min,e.max,t.origin),t.scale=On(n)/On(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Mee&&t.scale<=Oee||isNaN(t.scale))&&(t.scale=1),(t.translate>=Lee&&t.translate<=jee||isNaN(t.translate))&&(t.translate=0)}function Td(t,e,n,r){c2(t.x,e.x,n.x,r?r.originX:void 0),c2(t.y,e.y,n.y,r?r.originY:void 0)}function h2(t,e,n){t.min=n.min+e.min,t.max=t.min+On(e)}function Vee(t,e,n){h2(t.x,e.x,n.x),h2(t.y,e.y,n.y)}function d2(t,e,n){t.min=e.min-n.min,t.max=t.min+On(e)}function Id(t,e,n){d2(t.x,e.x,n.x),d2(t.y,e.y,n.y)}function Ar(t){return[t("x"),t("y")]}const BL=({current:t})=>t?t.ownerDocument.defaultView:null,f2=(t,e)=>Math.abs(t-e);function zee(t,e){const n=f2(t.x,e.x),r=f2(t.y,e.y);return Math.sqrt(n**2+r**2)}class $L{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ww(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,_=zee(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!_)return;const{point:T}=v,{timestamp:I}=mn;this.history.push({...T,timestamp:I});const{onStart:A,onMove:R}=this.handlers;S||(A&&A(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,v)},this.handlePointerMove=(v,S)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=vw(S,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(v,S)=>{this.end();const{onEnd:_,onSessionEnd:T,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=ww(v.type==="pointercancel"?this.lastMoveEventInfo:vw(S,this.transformPagePoint),this.history);this.startEvent&&_&&_(v,A),T&&T(v,A)},!vE(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const u=Df(e),c=vw(u,this.transformPagePoint),{point:d}=c,{timestamp:m}=mn;this.history=[{...d,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,ww(c,this.history)),this.removeListeners=Af(kd(this.contextWindow,"pointermove",this.handlePointerMove),kd(this.contextWindow,"pointerup",this.handlePointerUp),kd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),eo(this.updatePoint)}}function vw(t,e){return e?{point:e(t.point)}:t}function p2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ww({point:t},e){return{point:t,delta:p2(t,qL(e)),offset:p2(t,Uee(e)),velocity:Bee(e,.1)}}function Uee(t){return t[0]}function qL(t){return t[t.length-1]}function Bee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=qL(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>$s(e)));)n--;if(!r)return{x:0,y:0};const i=Lr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $ee(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_t(n,t,r.max):Math.min(t,n)),t}function m2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qee(t,{top:e,left:n,bottom:r,right:s}){return{x:m2(t.x,n,s),y:m2(t.y,e,r)}}function g2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Wee(t,e){return{x:g2(t.x,e.x),y:g2(t.y,e.y)}}function Gee(t,e){let n=.5;const r=On(t),s=On(e);return s>r?n=Jd(e.min,e.max-r,t.min):r>s&&(n=Jd(t.min,t.max-s,e.min)),ji(0,1,n)}function Kee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jb=.35;function Hee(t=Jb){return t===!1?t=0:t===!0&&(t=Jb),{x:y2(t,"left","right"),y:y2(t,"top","bottom")}}function y2(t,e,n){return{min:v2(t,e),max:v2(t,n)}}function v2(t,e){return typeof t=="number"?t:t[e]||0}const Qee=new WeakMap;class Xee{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Df(g).point)},o=(g,v)=>{const{drag:S,dragPropagation:_,onDragStart:T}=this.getProps();if(S&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oZ(S),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ar(A=>{let R=this.getAxisMotionValue(A).get()||0;if(qs.test(R)){const{projection:O}=this.visualElement;if(O&&O.layout){const z=O.layout.layoutBox[A];z&&(R=On(z)*(parseFloat(R)/100))}}this.originPoint[A]=R}),T&&Et.postRender(()=>T(g,v)),Xb(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:S,dragDirectionLock:_,onDirectionLock:T,onDrag:I}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:A}=v;if(_&&this.currentDirection===null){this.currentDirection=Yee(A),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),I&&I(g,v)},c=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Ar(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new $L(e,{onSessionStart:i,onStart:o,onMove:u,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:BL(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&Et.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Em(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$ee(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,i=this.constraints;n&&Yu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=qee(s.layoutBox,n):this.constraints=!1,this.elastic=Hee(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ar(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Kee(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Yu(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=JZ(r,s.root,this.visualElement.getTransformPagePoint());let o=Wee(s.layout.layoutBox,i);if(n){const u=n(QZ(o));this.hasMutatedConstraints=!!u,u&&(o=_L(u))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},d=Ar(m=>{if(!Em(m,n,this.currentDirection))return;let g=c&&c[m]||{};o&&(g={min:0,max:0});const v=s?200:1e6,S=s?40:1e7,_={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(m,_)});return Promise.all(d).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Xb(this.visualElement,e),r.start(_E(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ar(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ar(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ar(n=>{const{drag:r}=this.getProps();if(!Em(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[n];i.set(e[n]-_t(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Yu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ar(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const c=u.get();s[o]=Gee({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ar(o=>{if(!Em(o,e,null))return;const u=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];u.set(_t(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;Qee.set(this.visualElement,this);const e=this.visualElement.current,n=kd(e,"pointerdown",c=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Yu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Et.read(r);const o=rf(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ar(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=c[m].translate,g.set(g.get()+c[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Jb,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:u}}}function Em(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Yee(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Jee extends ao{constructor(e){super(e),this.removeGroupControls=Vr,this.removeListeners=Vr,this.controls=new Xee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const w2=t=>(e,n)=>{t&&Et.postRender(()=>t(e,n))};class Zee extends ao{constructor(){super(...arguments),this.removePointerDownListener=Vr}onPointerDown(e){this.session=new $L(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:BL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:w2(e),onStart:w2(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Et.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=kd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ym={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function b2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const nd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const n=b2(t,e.target.x),r=b2(t,e.target.y);return`${n}% ${r}%`}},ete={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=to.parse(t);if(s.length>5)return r;const i=to.createTransformer(t),o=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=u,s[1+o]/=c;const d=_t(u,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let bw=!1;class tte extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;SZ(nte),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),bw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ym.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,bw=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Et.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),yE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;bw=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function WL(t){const[e,n]=gZ(),r=E.useContext(SO);return x.jsx(tte,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(TL),isPresent:e,safeToRemove:n})}const nte={borderRadius:{...nd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nd,borderTopRightRadius:nd,borderBottomLeftRadius:nd,borderBottomRightRadius:nd,boxShadow:ete};function rte(t,e,n){const r=Cn(t)?t:kc(t);return r.start(_E("",r,e,n)),r.animation}const ste=(t,e)=>t.depth-e.depth;class ite{constructor(){this.children=[],this.isDirty=!1}add(e){J1(this.children,e),this.isDirty=!0}remove(e){Z1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ste),this.isDirty=!1,this.children.forEach(e)}}function ate(t,e){const n=Jn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(eo(r),t(i-e))};return Et.setup(r,!0),()=>eo(r)}const GL=["TopLeft","TopRight","BottomLeft","BottomRight"],ote=GL.length,x2=t=>typeof t=="string"?parseFloat(t):t,E2=t=>typeof t=="number"||Le.test(t);function lte(t,e,n,r,s,i){s?(t.opacity=_t(0,n.opacity??1,ute(r)),t.opacityExit=_t(e.opacity??1,0,cte(r))):i&&(t.opacity=_t(e.opacity??1,n.opacity??1,r));for(let o=0;o<ote;o++){const u=`border${GL[o]}Radius`;let c=S2(e,u),d=S2(n,u);c===void 0&&d===void 0||(c||(c=0),d||(d=0),c===0||d===0||E2(c)===E2(d)?(t[u]=Math.max(_t(x2(c),x2(d),r),0),(qs.test(d)||qs.test(c))&&(t[u]+="%")):t[u]=d)}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,r))}function S2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ute=KL(0,.5,MO),cte=KL(.5,.95,Vr);function KL(t,e,n){return r=>r<t?0:r>e?1:n(Jd(t,e,r))}function k2(t,e){t.min=e.min,t.max=e.max}function Cr(t,e){k2(t.x,e.x),k2(t.y,e.y)}function T2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function I2(t,e,n,r,s){return t-=e,t=Gg(t,1/n,r),s!==void 0&&(t=Gg(t,1/s,r)),t}function hte(t,e=0,n=1,r=.5,s,i=t,o=t){if(qs.test(e)&&(e=parseFloat(e),e=_t(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=_t(i.min,i.max,r);t===i&&(u-=e),t.min=I2(t.min,e,n,u,s),t.max=I2(t.max,e,n,u,s)}function _2(t,e,[n,r,s],i,o){hte(t,e[n],e[r],e[s],e.scale,i,o)}const dte=["x","scaleX","originX"],fte=["y","scaleY","originY"];function C2(t,e,n,r){_2(t.x,e,dte,n?n.x:void 0,r?r.x:void 0),_2(t.y,e,fte,n?n.y:void 0,r?r.y:void 0)}function N2(t){return t.translate===0&&t.scale===1}function HL(t){return N2(t.x)&&N2(t.y)}function A2(t,e){return t.min===e.min&&t.max===e.max}function pte(t,e){return A2(t.x,e.x)&&A2(t.y,e.y)}function P2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function QL(t,e){return P2(t.x,e.x)&&P2(t.y,e.y)}function R2(t){return On(t.x)/On(t.y)}function D2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class mte{constructor(){this.members=[]}add(e){J1(this.members,e),e.scheduleRender()}remove(e){if(Z1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gte(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:m,rotateX:g,rotateY:v,skewX:S,skewY:_}=n;d&&(r=`perspective(${d}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),S&&(r+=`skewX(${S}deg) `),_&&(r+=`skewY(${_}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const xw=["","X","Y","Z"],yte=1e3;let vte=0;function Ew(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function XL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=OL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Et,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&XL(r)}function YL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},o=e==null?void 0:e()){this.id=vte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xte),this.nodes.forEach(Tte),this.nodes.forEach(Ite),this.nodes.forEach(Ete)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new ite)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new nE),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const u=this.eventHandlers.get(i);u&&u.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=dL(i)&&!fZ(i),this.instance=i;const{layoutId:o,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),t){let d,m=0;const g=()=>this.root.updateBlockedByResize=!1;Et.read(()=>{m=window.innerWidth}),t(i,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,d&&d(),d=ate(g,250),Ym.hasAnimatedSinceResize&&(Ym.hasAnimatedSinceResize=!1,this.nodes.forEach(L2)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||c.getDefaultTransition()||Pte,{onLayoutAnimationStart:_,onLayoutAnimationComplete:T}=c.getProps(),I=!this.targetLayout||!QL(this.targetLayout,v),A=!m&&g;if(this.options.layoutRoot||this.resumeFrom||A||m&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...mE(S,"layout"),onPlay:_,onComplete:T};(c.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(d,A)}else m||L2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),eo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_te),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(O2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(kte),this.nodes.forEach(wte),this.nodes.forEach(bte)):this.nodes.forEach(O2),this.clearAllSnapshots();const i=Jn.now();mn.delta=ji(0,1e3/60,i-mn.timestamp),mn.timestamp=i,mn.isProcessing=!0,cw.update.process(mn),cw.preRender.process(mn),cw.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ste),this.sharedNodes.forEach(Cte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!On(this.snapshot.measuredBox.x)&&!On(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!HL(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&this.instance&&(o||Xo(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return i&&(u=this.removeTransform(u)),Rte(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:o}=this.options;if(!o)return Wt();const u=o.measureViewportBox();if(!((i=this.scroll)!=null&&i.wasRoot||this.path.some(Dte))){const{scroll:c}=this.root;c&&(Ju(u.x,c.offset.x),Ju(u.y,c.offset.y))}return u}removeElementScroll(i){var o;const u=Wt();if(Cr(u,i),(o=this.scroll)!=null&&o.wasRoot)return u;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:m,options:g}=d;d!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Cr(u,i),Ju(u.x,m.offset.x),Ju(u.y,m.offset.y))}return u}applyTransform(i,o=!1){const u=Wt();Cr(u,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Zu(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Xo(d.latestValues)&&Zu(u,d.latestValues)}return Xo(this.latestValues)&&Zu(u,this.latestValues),u}removeTransform(i){const o=Wt();Cr(o,i);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Xo(c.latestValues))continue;Gb(c.latestValues)&&c.updateSnapshot();const d=Wt(),m=c.measurePageBox();Cr(d,m),C2(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Xo(this.latestValues)&&C2(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(o=this.parent)!=null&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=mn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),Id(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cr(this.target,this.layout.layoutBox),NL(this.target,this.targetDelta)):Cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),Id(this.relativeTargetOrigin,this.target,g.target),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gb(this.parent.latestValues)||CL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(i=this.parent)!=null&&i.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Cr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;YZ(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Wt());const{target:S}=o;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(T2(this.prevProjectionDelta.x,this.projectionDelta.x),T2(this.prevProjectionDelta.y,this.projectionDelta.y)),Td(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!D2(this.projectionDelta.x,this.prevProjectionDelta.x)||!D2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),i){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ec(),this.projectionDelta=ec(),this.projectionDeltaWithTransform=ec()}setAnimationOrigin(i,o=!1){const u=this.snapshot,c=u?u.latestValues:{},d={...this.latestValues},m=ec();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=Wt(),v=u?u.source:void 0,S=this.layout?this.layout.source:void 0,_=v!==S,T=this.getStack(),I=!T||T.members.length<=1,A=!!(_&&!I&&this.options.crossfade===!0&&!this.path.some(Ate));this.animationProgress=0;let R;this.mixTargetDelta=O=>{const z=O/1e3;j2(m.x,i.x,z),j2(m.y,i.y,z),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Id(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Nte(this.relativeTarget,this.relativeTargetOrigin,g,z),R&&pte(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Wt()),Cr(R,this.relativeTarget)),_&&(this.animationValues=d,lte(d,c,this.latestValues,z,A,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var o,u,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(eo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{Ym.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=kc(0)),this.currentAnimation=rte(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:u,layout:c,latestValues:d}=i;if(!(!o||!u||!c)){if(this!==i&&this.layout&&c&&JL(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Wt();const m=On(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+m;const g=On(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+g}Cr(o,u),Zu(o,d),Td(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new mte),this.sharedNodes.get(i).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())==null?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())==null?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const c={};u.z&&Ew("z",i,c,this.animationValues);for(let d=0;d<xw.length;d++)Ew(`rotate${xw[d]}`,i,c,this.animationValues),Ew(`skew${xw[d]}`,i,c,this.animationValues);i.render();for(const d in c)i.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);i.scheduleRender()}applyProjectionStyles(i,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=Xm(o==null?void 0:o.pointerEvents)||"",i.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=Xm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Xo(this.latestValues)&&(i.transform=u?u({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let m=gte(this.projectionDeltaWithTransform,this.treeScale,d);u&&(m=u(d,m)),i.transform=m;const{x:g,y:v}=this.projectionDelta;i.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,c.animationValues?i.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const S in nf){if(d[S]===void 0)continue;const{correct:_,applyTo:T,isCSSVariable:I}=nf[S],A=m==="none"?d[S]:_(d[S],c);if(T){const R=T.length;for(let O=0;O<R;O++)i[T[O]]=A}else I?this.options.visualElement.renderState.vars[S]=A:i[S]=A}this.options.layoutId&&(i.pointerEvents=c===this?Xm(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(M2),this.root.sharedNodes.clear()}}}function wte(t){t.updateLayout()}function bte(t){var e;const n=((e=t.resumeFrom)==null?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Ar(g=>{const v=o?n.measuredBox[g]:n.layoutBox[g],S=On(v);v.min=r[g].min,v.max=v.min+S}):JL(i,n.layoutBox,r)&&Ar(g=>{const v=o?n.measuredBox[g]:n.layoutBox[g],S=On(r[g]);v.max=v.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+S)});const u=ec();Td(u,r,n.layoutBox);const c=ec();o?Td(c,t.applyTransform(s,!0),n.measuredBox):Td(c,r,n.layoutBox);const d=!HL(u);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:S}=g;if(v&&S){const _=Wt();Id(_,n.layoutBox,v.layoutBox);const T=Wt();Id(T,r,S.layoutBox),QL(_,T)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=_,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function xte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ete(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ste(t){t.clearSnapshot()}function M2(t){t.clearMeasurements()}function O2(t){t.isLayoutDirty=!1}function kte(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function L2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Tte(t){t.resolveTargetDelta()}function Ite(t){t.calcProjection()}function _te(t){t.resetSkewAndRotation()}function Cte(t){t.removeLeadSnapshot()}function j2(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function F2(t,e,n,r){t.min=_t(e.min,n.min,r),t.max=_t(e.max,n.max,r)}function Nte(t,e,n,r){F2(t.x,e.x,n.x,r),F2(t.y,e.y,n.y,r)}function Ate(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Pte={duration:.45,ease:[.4,0,.1,1]},V2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),z2=V2("applewebkit/")&&!V2("chrome/")?Math.round:Vr;function U2(t){t.min=z2(t.min),t.max=z2(t.max)}function Rte(t){U2(t.x),U2(t.y)}function JL(t,e,n){return t==="position"||t==="preserve-aspect"&&!Fee(R2(e),R2(n),.2)}function Dte(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Mte=YL({attachResizeListener:(t,e)=>rf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sw={current:void 0},ZL=YL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sw.current){const t=new Mte({});t.mount(window),t.setOptions({layoutScroll:!0}),Sw.current=t}return Sw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ote={pan:{Feature:Zee},drag:{Feature:Jee,ProjectionNode:ZL,MeasureLayout:WL}};function B2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Et.postRender(()=>i(e,Df(e)))}class Lte extends ao{mount(){const{current:e}=this.node;e&&(this.unmount=lZ(e,(n,r)=>(B2(this.node,r,"Start"),s=>B2(this.node,s,"End"))))}unmount(){}}class jte extends ao{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Af(rf(this.node.current,"focus",()=>this.onFocus()),rf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Et.postRender(()=>i(e,Df(e)))}class Fte extends ao{mount(){const{current:e}=this.node;e&&(this.unmount=dZ(e,(n,r)=>($2(this.node,r,"Start"),(s,{success:i})=>$2(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zb=new WeakMap,kw=new WeakMap,Vte=t=>{const e=Zb.get(t.target);e&&e(t)},zte=t=>{t.forEach(Vte)};function Ute({root:t,...e}){const n=t||document;kw.has(n)||kw.set(n,{});const r=kw.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(zte,{root:t,...e})),r[s]}function Bte(t,e,n){const r=Ute(e);return Zb.set(t,n),r.observe(t),()=>{Zb.delete(t),r.unobserve(t)}}const $te={some:0,all:1};class qte extends ao{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:$te[s]},u=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=d?m:g;v&&v(c)};return Bte(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Wte(e,n))&&this.startObserver()}unmount(){}}function Wte({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Gte={inView:{Feature:qte},tap:{Feature:Fte},focus:{Feature:jte},hover:{Feature:Lte}},Kte={layout:{ProjectionNode:ZL,MeasureLayout:WL}},Hte={...Ree,...Gte,...Ote,...Kte},qt=HZ(Hte,oee);function ex(){const t=x1(),{user:e,loading:n}=M1(),[r,s]=tn.useState(!1);E.useEffect(()=>{!n&&e&&t(nt("Home"))},[e,n,t]);const i=()=>{e?t(nt("Home")):s(!0)};if(n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const o=[{icon:tq,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:Um,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:yb,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:H0,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:vb,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:mq,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],u=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],c=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],d=[{icon:yb,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:H0,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:vb,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:W_,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],m=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx(qt.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),x.jsx(qt.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),x.jsx(qt.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),x.jsx(qt.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),x.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:x.jsxs("div",{className:"text-center",children:[x.jsx(qt.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse overflow-hidden",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-24 h-24 object-contain transform -rotate-12"})}),x.jsx(qt.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),x.jsx(qt.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),x.jsx(qt.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),x.jsx(qt.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),x.jsxs(qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[x.jsxs(Pr,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 text-lg font-bold shadow-xl border-0 animate-pulse",children:[x.jsx(U$,{className:"w-5 h-5 mr-2"}),"7-Day FREE Trial - All Features!"]}),x.jsxs(Pr,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(W_,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),x.jsxs(Pr,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(cD,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),x.jsxs(qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[x.jsxs(Us,{onClick:i,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[x.jsx(dq,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),x.jsxs(Us,{onClick:()=>{var g;return(g=document.getElementById("features"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white bg-transparent hover:bg-white hover:text-purple-600 shadow-xl transition-all",children:["See What's Inside",x.jsx(_$,{className:"w-6 h-6 ml-2"})]})]}),x.jsx(qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:d.map((g,v)=>{const S=g.icon;return x.jsxs(qt.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[x.jsx(S,{className:`w-10 h-10 mx-auto mb-3 ${g.color}`}),x.jsx("div",{className:"text-3xl font-black text-gray-800",children:g.value}),x.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:g.label})]},v)})})]})}),x.jsxs("div",{style:{background:"linear-gradient(90deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",padding:"14px 0 12px 0",textAlign:"center",fontWeight:"bold",fontSize:"1.1rem",letterSpacing:"0.01em",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)",borderBottom:"2px solid #fff",borderRadius:8,margin:"0 auto 24px auto",maxWidth:900},className:"mx-auto mb-8",children:[x.jsx("span",{role:"img","aria-label":"lightbulb",style:{marginRight:8},children:""}),"Best Experience: ",x.jsx("span",{style:{fontWeight:700},children:"Math Adventure"})," works best on ",x.jsx("span",{style:{textDecoration:"underline"},children:"tablets"})," and ",x.jsx("span",{style:{textDecoration:"underline"},children:"desktop computers"})," for optimal gameplay and features."]}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),x.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:m.map((g,v)=>x.jsxs(qt.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[x.jsx("div",{className:"text-7xl mb-4",children:g.emoji}),x.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:g.name}),x.jsx("p",{className:"text-gray-700 font-semibold",children:g.desc})]},v))}),x.jsxs("div",{className:"mb-16",children:[x.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:u.map((g,v)=>x.jsxs(qt.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[x.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),x.jsx("div",{className:"font-bold text-sm text-gray-800",children:g.name}),x.jsx(Pr,{className:"mt-2 bg-purple-500 text-white text-xs",children:g.grade})]},v))})]})]})}),x.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((g,v)=>{const S=g.icon;return x.jsxs(qt.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[x.jsxs("div",{className:`h-32 bg-gradient-to-br ${g.gradient} flex items-center justify-center relative`,children:[x.jsx("div",{className:"text-7xl",children:g.emoji}),x.jsx("div",{className:"absolute top-3 right-3",children:x.jsx(S,{className:"w-10 h-10 text-white opacity-50"})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:g.title}),x.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:g.description})]})]},v)})})]})}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsxs(qt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),x.jsxs(qt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),x.jsxs(qt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:c.map((g,v)=>x.jsxs(qt.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[x.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(g.rating)].map((S,_)=>x.jsx(H0,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},_))}),x.jsx("div",{className:"text-6xl mb-4",children:g.emoji}),x.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',g.text,'"']}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-lg text-gray-800",children:g.author}),x.jsx("p",{className:"text-sm text-gray-600 font-bold",children:g.role})]})]},v))})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[x.jsx(qt.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),x.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),x.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),x.jsxs(Us,{onClick:i,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[x.jsx(cq,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),x.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),x.jsx("div",{className:"bg-gray-900 text-white py-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[x.jsx("div",{className:"mb-4 flex items-center justify-center",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-16 h-16 object-contain"})}),x.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),x.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),x.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[x.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:""}),x.jsx(ID,{onSuccess:()=>t(nt("Home"))})]})})]})}const e4=E.lazy(()=>Ft(()=>Lt(()=>import("./Home-B1e5oU6L-BnLx-1kh.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12,13,14,15,16])),jt([4,5,6,7,8,9,10,11,12,13,14,15,16]))),t4=E.lazy(()=>Ft(()=>Lt(()=>import("./Game-BSxN8OV2-DCbKaoIo.js"),__vite__mapDeps([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),jt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7]))),n4=E.lazy(()=>Ft(()=>Lt(()=>import("./Progress-CJyc2nxx-CCph28do.js"),__vite__mapDeps([27,7,5,9,28,10,29])),jt([27,7,5,9,28,10,29]))),r4=E.lazy(()=>Ft(()=>Lt(()=>import("./Avatar-DWsPiGGF-BsRh6I0m.js"),__vite__mapDeps([30,18,31,32,33,34,14,0,1,35,23])),jt([30,18,31,32,33,34,14,0,1,35,23]))),s4=E.lazy(()=>Ft(()=>Lt(()=>import("./DailyChallenge-Bdw758IQ-B_O2g2VE.js"),__vite__mapDeps([36,18,1,19,20,10,37,24,26,5,7])),jt([36,18,1,19,20,10,37,24,26,5,7]))),i4=E.lazy(()=>Ft(()=>Lt(()=>import("./ParentPortal-ujdsGIsq-B8zz3Rxm.js"),__vite__mapDeps([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),jt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25]))),a4=E.lazy(()=>Ft(()=>Lt(()=>import("./Shop-CVZgRxJn-CVz_4LS0.js"),__vite__mapDeps([45,18,32,0,1,14,29,25,16,7])),jt([45,18,32,0,1,14,29,25,16,7]))),o4=E.lazy(()=>Ft(()=>Lt(()=>import("./Leaderboards-Bm79OtXC-B_odZ22w.js"),__vite__mapDeps([46,18,32,47,9,7,12,10,37,44])),jt([46,18,32,47,9,7,12,10,37,44]))),l4=E.lazy(()=>Ft(()=>Lt(()=>import("./TeamChallenges-YLDuyulC-UWmKqbgB.js"),__vite__mapDeps([48,18,1,9,10])),jt([48,18,1,9,10]))),u4=E.lazy(()=>Ft(()=>Lt(()=>import("./Subscription-BXM5wPAK-Cm6w4Qsz.js"),__vite__mapDeps([49,18,6,23])),jt([49,18,6,23]))),c4=E.lazy(()=>Ft(()=>Lt(()=>import("./GenerateIcons-irEsrbiy-D96HRozy.js"),__vite__mapDeps([50,51,23,3,8])),jt([50,51,23,3,8]))),h4=E.lazy(()=>Ft(()=>Lt(()=>import("./TestIconGeneration-oHdXBYrX-Ci09WhjD.js"),__vite__mapDeps([52,51])),jt([52,51]))),d4=E.lazy(()=>Ft(()=>Lt(()=>import("./Messages-BRMZI1jn-BJW4UB3P.js"),__vite__mapDeps([53,18,39,43,15,42])),jt([53,18,39,43,15,42]))),f4=E.lazy(()=>Ft(()=>Lt(()=>import("./ColorByNumbers-JzUc735X-263wB9fx.js"),__vite__mapDeps([54,18,40,41,34,26,16,12,13,43,21,3,55])),jt([54,18,40,41,34,26,16,12,13,43,21,3,55]))),p4=E.lazy(()=>Ft(()=>Lt(()=>import("./Settings-DBhk2Jxw-eoqk1yaj.js"),__vite__mapDeps([56,41,20,16,43,10,12,13,55,21,23,42])),jt([56,41,20,16,43,10,12,13,55,21,23,42]))),m4=E.lazy(()=>Ft(()=>Lt(()=>import("./PrivacyPolicy-CiiZkyoZ-BGAqDCmQ.js"),__vite__mapDeps([57,23,14])),jt([57,23,14]))),g4=E.lazy(()=>Ft(()=>Lt(()=>import("./AITutor-CiJvOfzv-b-ne1DOj.js"),__vite__mapDeps([58,32,10,22,15,7,24,1,9,28,25,14,11])),jt([58,32,10,22,15,7,24,1,9,28,25,14,11]))),y4=E.lazy(()=>Ft(()=>Lt(()=>import("./AdminTestAccount-DOgC3vLm-CviO_HwC.js"),__vite__mapDeps([59,31,47,23])),jt([59,31,47,23]))),v4=E.lazy(()=>Ft(()=>Lt(()=>import("./Subscribe-D5mtZK-4-DoW00_oc.js"),__vite__mapDeps([60,51])),jt([60,51]))),q2={Home:e4,Game:t4,Progress:n4,Avatar:r4,DailyChallenge:s4,ParentPortal:i4,Shop:a4,Leaderboards:o4,TeamChallenges:l4,Subscription:u4,GenerateIcons:c4,TestIconGeneration:h4,Landing:ex,Messages:d4,ColorByNumbers:f4,Settings:p4,PrivacyPolicy:m4,AITutor:g4,AdminTestAccount:y4,Subscribe:v4};function Qte(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(q2).find(n=>n.toLowerCase()===e.toLowerCase())||Object.keys(q2)[0]}const Xte=()=>x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})});function Yte(){const t=qi(),e=Qte(t.pathname);return x.jsx(cY,{currentPageName:e,children:x.jsx(Km,{children:x.jsx(E.Suspense,{fallback:x.jsx(Xte,{}),children:x.jsxs(i7,{children:[x.jsx(Rt,{path:"/",element:x.jsx(ex,{})}),x.jsx(Rt,{path:"/Home",element:x.jsx(e4,{})}),x.jsx(Rt,{path:"/Game",element:x.jsx(t4,{})}),x.jsx(Rt,{path:"/Progress",element:x.jsx(n4,{})}),x.jsx(Rt,{path:"/Avatar",element:x.jsx(r4,{})}),x.jsx(Rt,{path:"/DailyChallenge",element:x.jsx(s4,{})}),x.jsx(Rt,{path:"/ParentPortal",element:x.jsx(i4,{})}),x.jsx(Rt,{path:"/Shop",element:x.jsx(a4,{})}),x.jsx(Rt,{path:"/Leaderboards",element:x.jsx(o4,{})}),x.jsx(Rt,{path:"/TeamChallenges",element:x.jsx(l4,{})}),x.jsx(Rt,{path:"/Subscription",element:x.jsx(u4,{})}),x.jsx(Rt,{path:"/GenerateIcons",element:x.jsx(c4,{})}),x.jsx(Rt,{path:"/TestIconGeneration",element:x.jsx(h4,{})}),x.jsx(Rt,{path:"/Landing",element:x.jsx(ex,{})}),x.jsx(Rt,{path:"/Messages",element:x.jsx(d4,{})}),x.jsx(Rt,{path:"/ColorByNumbers",element:x.jsx(f4,{})}),x.jsx(Rt,{path:"/Settings",element:x.jsx(p4,{})}),x.jsx(Rt,{path:"/PrivacyPolicy",element:x.jsx(m4,{})}),x.jsx(Rt,{path:"/AITutor",element:x.jsx(g4,{})}),x.jsx(Rt,{path:"/AdminTestAccount",element:x.jsx(y4,{})}),x.jsx(Rt,{path:"/Subscribe",element:x.jsx(v4,{})})]})})})})}function Jte(){return x.jsx(C7,{children:x.jsx(Yte,{})})}const Zte=20,ene=1e6,Ii={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Tw=0;function tne(){return Tw=(Tw+1)%Number.MAX_VALUE,Tw.toString()}const Iw=new Map,W2=t=>{if(Iw.has(t))return;const e=setTimeout(()=>{Iw.delete(t),_d({type:Ii.REMOVE_TOAST,toastId:t})},ene);Iw.set(t,e)},nne=(t,e)=>{switch(e.type){case Ii.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Zte)};case Ii.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Ii.DISMISS_TOAST:{const{toastId:n}=e;return n?W2(n):t.toasts.forEach(r=>{W2(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Ii.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Jm=[];let Zm={toasts:[]};function _d(t){Zm=nne(Zm,t),Jm.forEach(e=>{e(Zm)})}function rne({...t}){const e=tne(),n=s=>_d({type:Ii.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>_d({type:Ii.DISMISS_TOAST,toastId:e});return _d({type:Ii.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function sne(){const[t,e]=E.useState(Zm);return E.useEffect(()=>(Jm.push(e),()=>{const n=Jm.indexOf(e);n>-1&&Jm.splice(n,1)}),[t]),{...t,toast:rne,dismiss:n=>_d({type:Ii.DISMISS_TOAST,toastId:n})}}const w4=E.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));w4.displayName="ToastProvider";const b4=E.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));b4.displayName="ToastViewport";const ine=Oy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),x4=E.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,className:wt(ine({variant:e}),t),...n}));x4.displayName="Toast";const ane=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ane.displayName="ToastAction";const E4=E.forwardRef(({className:t,...e},n)=>x.jsx("button",{ref:n,className:wt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(P1,{className:"h-4 w-4"})}));E4.displayName="ToastClose";const S4=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm font-semibold",t),...e}));S4.displayName="ToastTitle";const k4=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm opacity-90",t),...e}));k4.displayName="ToastDescription";function one(){const{toasts:t}=sne();return x.jsxs(w4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(x4,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(S4,{children:n}),r&&x.jsx(k4,{children:r})]}),s,x.jsx(E4,{})]},e)}),x.jsx(b4,{})]})}function lne(){return x.jsxs(x.Fragment,{children:[x.jsx(Jte,{}),x.jsx(one,{})]})}const une=new l$({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});qj.createRoot(document.getElementById("root")).render(x.jsx(c$,{client:une,children:x.jsx(TW,{children:x.jsx(lne,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{qt as $,AD as A,tn as B,mq as C,U$ as D,yb as E,wt as F,H0 as G,q_ as H,N$ as I,Xe as J,O$ as K,Rb as L,by as M,os as N,is as O,D$ as P,Or as Q,Pr as R,ND as S,E as T,Um as U,P1 as V,An as W,as as X,mne as Y,sZ as Z,SO as _,Us as a,Ol as a$,xne as a0,x1 as a1,kW as a2,dne as a3,U_ as a4,G_ as a5,_$ as a6,$$ as a7,V$ as a8,pne as a9,f1 as aA,hne as aB,Ny as aC,W_ as aD,H_ as aE,cs as aF,Cl as aG,dD as aH,EK as aI,nx as aJ,oR as aK,sne as aL,sX as aM,WX as aN,_ne as aO,kne as aP,fne as aQ,yne as aR,bne as aS,Tne as aT,Ine as aU,Ene as aV,sH as aW,SM as aX,eG as aY,FD as aZ,Cne as a_,fm as aa,K0 as ab,vn as ac,wne as ad,Sne as ae,Q0 as af,Bm as ag,Cy as ah,Xs as ai,kf as aj,ZD as ak,Tb as al,PD as am,NK as an,er as ao,AK as ap,Vn as aq,et as ar,If as as,lM as at,LD as au,PK as av,RK as aw,vne as ax,Q_ as ay,Yd as az,fL as b,MD as b0,DD as b1,j$ as b2,Ya as b3,I1 as b4,Mi as b5,Xn as b6,K7 as b7,Sf as b8,hb as b9,Wd as ba,i$ as bb,$_ as bc,cne as bd,cM as be,KK as bf,HK as bg,aW as bh,Oy as bi,vb as c,gZ as d,K$ as e,vY as f,gne as g,yY as h,sl as i,M1 as j,nt as k,X$ as l,ft as m,Y1 as n,hY as o,cD as p,G0 as q,dY as r,u$ as s,aY as t,mY as u,fY as v,Zk as w,x,E$ as y,ID as z};
