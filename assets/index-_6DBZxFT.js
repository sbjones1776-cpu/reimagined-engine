const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC-i35konQI-CjlSaAQR.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_-BS-NPxbZ-Do7G8zpZ.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc-CAXKM_tn-BSUotW_a.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt-BP9X_a4h-DBl5YPJh.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD-CfwVKCbF-DwKF90JC.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD-DQldaXmM-CmslGYg4.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT-GOJVET6z-DJo7lhFZ.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA-CncrG6o8-h7sLaBiA.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M-3hRm0Cv0-DiMHEf8I.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0-Dt8Hz_gu-DQ4ciPVI.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q-fUNOd4Tb-uVCUCnov.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU-HefgA4ey-dkeLpIxb.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0---4-_1MLM-D60HZjyU.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L-Ds6IpQkW-BS1Y1LI3.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1-DhFXkp_T-wjER_uU1.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze-Dqr9YOPU-C0SyBRpa.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE-B-nOEEZ2-BXIaXeaJ.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o-DlsB7OV4-CfhTL5-j.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw-CG5MCbzm-BvDHL4Y4.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F-Bd1JUeU2-B1SlTvS-.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM-InYk3mbD-BUsuQx1i.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6-Cn_nYyE2-DBnxm5kI.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl-BsXPPDcM-DBAPLTxO.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD-mWQj0O8b-IitXZYGd.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX-DCprVw_7-DX2Rz0v5.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ-D_2XdzET-Ds72m2f0.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk-DghFmtyw-DjB8J4yd.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1-CgwfReGn-DNMXd5HN.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz-DUrYCQ5E-CFVlOn0W.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9-CbEJ5snd-CjkzqJFV.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G-BEUxX-nu-BaLol5Ef.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ-BoCXO3SG-CiW37Qbf.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_-DZaDo8HZ-Bd77omDN.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq-BzPWxo8M-DoJFGzd-.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2-D_yBAKS5-DIMqUFDl.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv-Bp24DiAJ-BrPJAgIo.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs-B5_uRmKS-BqjAjW_i.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr-Ffel_h2u-C8GXHf8T.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F-BniOzOaT-B4WaX2EB.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp-BV4oUjra-CdhrMS0w.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt-CIrR7EI3-DlUHcS2G.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47-DdwKpe-B-CjUiN4J_.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o-Bff3sT4n-DrOZgfPn.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ-k2gq4TdQ-DUtTXYiH.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u-CCYcbo7R-Oj5x0VMM.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb-uuJZ4FGW-ruYVavqy.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7-CSuTkKjt-Dd0stPfK.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4-BmOdg69B-CPQ46To1.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f-MccA_3E3-DQhvjEee.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN-oTa863JD-0sbYUKBU.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4-FmNlGGTF-D5ZL8Ai1.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv-Dzw5lkMP-MKYQRKjk.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC-CpqL9fon-Cde4ofN_.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb-t4dmRNZn-07iJlHeK.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB-Cx2-ydHI-Cev9u3Kv.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7-Dcz3eR3L-8JW9s778.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q-BfTbXhxt-BVC_lLSA.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw-Cla6mJUP-D58jAMXH.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg-qnXeUsv8-CRQgaPIC.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499-NSoB4kZx-C1AH7B5I.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const HL="modulepreload",GL=function(t){return"/"+t},GE={},Mt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let a=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=a(n.map(h=>{if(h=GL(h),h in GE)return;GE[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":HL,p||(v.as="script"),v.crossOrigin="",v.href=h,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((C,_)=>{v.addEventListener("load",C),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return s.then(a=>{for(const u of a||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},Lt=(t,e=Lt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC-i35konQI.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_-BS-NPxbZ.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc-CAXKM_tn.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt-BP9X_a4h.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD-CfwVKCbF.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD-DQldaXmM.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT-GOJVET6z.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA-CncrG6o8.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M-3hRm0Cv0.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0-Dt8Hz_gu.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q-fUNOd4Tb.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU-HefgA4ey.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0---4-_1MLM.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L-Ds6IpQkW.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1-DhFXkp_T.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze-Dqr9YOPU.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE-B-nOEEZ2.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o-DlsB7OV4.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw-CG5MCbzm.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F-Bd1JUeU2.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM-InYk3mbD.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6-Cn_nYyE2.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl-BsXPPDcM.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD-mWQj0O8b.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX-DCprVw_7.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ-D_2XdzET.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk-DghFmtyw.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1-CgwfReGn.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz-DUrYCQ5E.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9-CbEJ5snd.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G-BEUxX-nu.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ-BoCXO3SG.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_-DZaDo8HZ.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq-BzPWxo8M.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2-D_yBAKS5.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv-Bp24DiAJ.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs-B5_uRmKS.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr-Ffel_h2u.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F-BniOzOaT.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp-BV4oUjra.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt-CIrR7EI3.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47-DdwKpe-B.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o-Bff3sT4n.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ-k2gq4TdQ.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u-CCYcbo7R.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb-uuJZ4FGW.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7-CSuTkKjt.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4-BmOdg69B.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f-MccA_3E3.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN-oTa863JD.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4-FmNlGGTF.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv-Dzw5lkMP.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC-CpqL9fon.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb-t4dmRNZn.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB-Cx2-ydHI.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7-Dcz3eR3L.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q-BfTbXhxt.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw-Cla6mJUP.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg-qnXeUsv8.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499-NSoB4kZx.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const KL="modulepreload",QL=function(t){return"/"+t},KE={},Vt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=QL(c),c in KE)return;KE[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":KL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,C)=>{g.addEventListener("load",v),g.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Ft=(t,e=Ft,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0-.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const YL="modulepreload",XL=function(t){return"/"+t},QE={},Ut=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=XL(c),c in QE)return;QE[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":YL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,C)=>{g.addEventListener("load",v),g.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Bt=(t,e=Bt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV-.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV-.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5-.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const JL="modulepreload",ZL=function(t){return"/"+t},YE={},zt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=ZL(c),c in YE)return;YE[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":JL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,C)=>{g.addEventListener("load",v),g.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},qt=(t,e=qt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm-.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00-.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const e3="modulepreload",t3=function(t){return"/"+t},XE={},$t=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=t3(c),c in XE)return;XE[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":e3,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,C)=>{g.addEventListener("load",v),g.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Wt=(t,e=Wt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ.js","assets/progress-DswiN-jt-CRkTvpyk.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx.js","assets/download-k8BXtbsE-hJBy54oi.js","assets/Home-B1e5oU6L-BnLx-1kh.js","assets/flame-Z4NDYWf0-CPLPmaZ3.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v.js","assets/zap-BUGd4PS--D5Rx8Je6.js","assets/external-link-B3vh6vLr-IAJFuuQW.js","assets/trending-up-DOxCo9I6-CjyZKRpy.js","assets/target-1p2ICMDN-CvDzxGjB.js","assets/book-open-CsZLkRie-CnloTbZU.js","assets/plus-CzE6Y-vE-CTS6AMhf.js","assets/minus-CxnUEU8f-CdSPzO8E.js","assets/lock-DVJmOJtR-CPCpectf.js","assets/circle-alert-D0KxAb-N-CBSI-qzf.js","assets/palette-C1tdbQoO-D9zv_SnR.js","assets/Game-BSxN8OV2-DCbKaoIo.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N.js","assets/trending-down-CtEqn-BB-zOpygq96.js","assets/triangle-alert-BF04o9wv-5R0uES8i.js","assets/QuestionGenerator-z-c728t7-CSzYVewV.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH.js","assets/arrow-left-8gFWt4dJ-CSNboBK9.js","assets/Progress-CJyc2nxx-CCph28do.js","assets/LineChart-Boznw0oC-BjVvaeYB.js","assets/gift-gU3fLUyU-xa62twJ2.js","assets/Avatar-DWsPiGGF-BsRh6I0m.js","assets/label-ClTmKTiT-BGzEp_4m.js","assets/tabs-BCUfDdd3-DRpA79_-.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T.js","assets/index-DytiPzxp-BK84tApl.js","assets/save-WpcaPzdX-CJl6cnmk.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE.js","assets/medal-iK-ypg-g-C4SGU5mg.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm.js","assets/textarea-CqrSSpqj-CdkJNOEe.js","assets/select-CEEjSQMd-D2Q8_Gex.js","assets/index-K24GeIQO-pPWQlksM.js","assets/trash-2-jwsEREBw-DdJfLY0z.js","assets/info-BwmiXNr9-k9-UA3eH.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh.js","assets/Shop-CVZgRxJn-CVz_4LS0.js","assets/Leaderboards-Bm79OtXC-B_odZ22w.js","assets/user-plus-DvDth6Co-mjoHpJFL.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz.js","assets/GenerateIcons-irEsrbiy-D96HRozy.js","assets/loader-circle-BANzzYJc-B3uLjLZr.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD.js","assets/Messages-BRMZI1jn-BJW4UB3P.js","assets/ColorByNumbers-JzUc735X-263wB9fx.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo.js","assets/Settings-DBhk2Jxw-eoqk1yaj.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ.js","assets/AITutor-CiJvOfzv-b-ne1DOj.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC.js","assets/Subscribe-D5mtZK-4-DoW00_oc.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const n3="modulepreload",r3=function(t){return"/"+t},JE={},Ht=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=r3(c),c in JE)return;JE[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":n3,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,C)=>{g.addEventListener("load",v),g.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Gt=(t,e=Gt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq.js","assets/progress-DswiN-jt.js","assets/InstallPrompt-CYulZlIm.js","assets/download-k8BXtbsE.js","assets/Home-B1e5oU6L.js","assets/flame-Z4NDYWf0.js","assets/AppTrialPromo-fh-8uCNN.js","assets/zap-BUGd4PS-.js","assets/external-link-B3vh6vLr.js","assets/trending-up-DOxCo9I6.js","assets/target-1p2ICMDN.js","assets/book-open-CsZLkRie.js","assets/plus-CzE6Y-vE.js","assets/minus-CxnUEU8f.js","assets/lock-DVJmOJtR.js","assets/circle-alert-D0KxAb-N.js","assets/palette-C1tdbQoO.js","assets/Game-BSxN8OV2.js","assets/useMutation-Dw-sPjxD.js","assets/CelebrationAnimation-Dc0BowXO.js","assets/TextToSpeech-AHz3T4an.js","assets/rotate-ccw-D8vHVTX7.js","assets/trending-down-CtEqn-BB.js","assets/triangle-alert-BF04o9wv.js","assets/QuestionGenerator-z-c728t7.js","assets/PremiumFeatureLock-DUuDI_YH.js","assets/arrow-left-8gFWt4dJ.js","assets/Progress-CJyc2nxx.js","assets/LineChart-Boznw0oC.js","assets/gift-gU3fLUyU.js","assets/Avatar-DWsPiGGF.js","assets/label-ClTmKTiT.js","assets/tabs-BCUfDdd3.js","assets/AvatarDisplay-BzkYfhqx.js","assets/index-DytiPzxp.js","assets/save-WpcaPzdX.js","assets/DailyChallenge-Bdw758IQ.js","assets/medal-iK-ypg-g.js","assets/ParentPortal-ujdsGIsq.js","assets/textarea-CqrSSpqj.js","assets/select-CEEjSQMd.js","assets/index-K24GeIQO.js","assets/trash-2-jwsEREBw.js","assets/info-BwmiXNr9.js","assets/startOfMonth-D3h4jTlt.js","assets/Shop-CVZgRxJn.js","assets/Leaderboards-Bm79OtXC.js","assets/user-plus-DvDth6Co.js","assets/TeamChallenges-YLDuyulC.js","assets/Subscription-BXM5wPAK.js","assets/GenerateIcons-irEsrbiy.js","assets/loader-circle-BANzzYJc.js","assets/TestIconGeneration-oHdXBYrX.js","assets/Messages-BRMZI1jn.js","assets/ColorByNumbers-JzUc735X.js","assets/paint-bucket-C2C9L7S8.js","assets/Settings-DBhk2Jxw.js","assets/PrivacyPolicy-CiiZkyoZ.js","assets/AITutor-CiJvOfzv.js","assets/AdminTestAccount-DOgC3vLm.js","assets/Subscribe-D5mtZK-4.js"]))=>t.map(r=>n[r]);var s3=Object.defineProperty,aD=t=>{throw TypeError(t)},i3=(t,e,n)=>e in t?s3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZE=(t,e,n)=>i3(t,typeof e!="symbol"?e+"":e,n),dx=(t,e,n)=>e.has(t)||aD("Cannot "+n),$=(t,e,n)=>(dx(t,e,"read from private field"),n?n.call(t):e.get(t)),Re=(t,e,n)=>e.has(t)?aD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(dx(t,e,"write to private field"),e.set(t,n),n),Ze=(t,e,n)=>(dx(t,e,"access private method"),n),Lw=(t,e,n,r)=>({set _(s){ge(t,e,s)},get _(){return $(t,e,r)}});function o3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var One=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ek={exports:{}},qd={},tk={exports:{}},He={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var nk;function a3(){if(nk)return He;nk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function T(G,re,pe){this.props=G,this.context=re,this.refs=k,this.updater=pe||C}T.prototype.isReactComponent={},T.prototype.setState=function(G,re){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,re,"setState")},T.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function A(){}A.prototype=T.prototype;function P(G,re,pe){this.props=G,this.context=re,this.refs=k,this.updater=pe||C}var O=P.prototype=new A;O.constructor=P,_(O,T.prototype),O.isPureReactComponent=!0;var U=Array.isArray,z=Object.prototype.hasOwnProperty,H={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function I(G,re,pe){var me,je={},Be=null,Ie=null;if(re!=null)for(me in re.ref!==void 0&&(Ie=re.ref),re.key!==void 0&&(Be=""+re.key),re)z.call(re,me)&&!j.hasOwnProperty(me)&&(je[me]=re[me]);var qe=arguments.length-2;if(qe===1)je.children=pe;else if(1<qe){for(var Ue=Array(qe),pt=0;pt<qe;pt++)Ue[pt]=arguments[pt+2];je.children=Ue}if(G&&G.defaultProps)for(me in qe=G.defaultProps,qe)je[me]===void 0&&(je[me]=qe[me]);return{$$typeof:t,type:G,key:Be,ref:Ie,props:je,_owner:H.current}}function N(G,re){return{$$typeof:t,type:G.type,key:re,ref:G.ref,props:G.props,_owner:G._owner}}function M(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function F(G){var re={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(pe){return re[pe]})}var q=/\/+/g;function L(G,re){return typeof G=="object"&&G!==null&&G.key!=null?F(""+G.key):re.toString(36)}function Ee(G,re,pe,me,je){var Be=typeof G;(Be==="undefined"||Be==="boolean")&&(G=null);var Ie=!1;if(G===null)Ie=!0;else switch(Be){case"string":case"number":Ie=!0;break;case"object":switch(G.$$typeof){case t:case e:Ie=!0}}if(Ie)return Ie=G,je=je(Ie),G=me===""?"."+L(Ie,0):me,U(je)?(pe="",G!=null&&(pe=G.replace(q,"$&/")+"/"),Ee(je,re,pe,"",function(pt){return pt})):je!=null&&(M(je)&&(je=N(je,pe+(!je.key||Ie&&Ie.key===je.key?"":(""+je.key).replace(q,"$&/")+"/")+G)),re.push(je)),1;if(Ie=0,me=me===""?".":me+":",U(G))for(var qe=0;qe<G.length;qe++){Be=G[qe];var Ue=me+L(Be,qe);Ie+=Ee(Be,re,pe,Ue,je)}else if(Ue=v(G),typeof Ue=="function")for(G=Ue.call(G),qe=0;!(Be=G.next()).done;)Be=Be.value,Ue=me+L(Be,qe++),Ie+=Ee(Be,re,pe,Ue,je);else if(Be==="object")throw re=String(G),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Ie}function Pe(G,re,pe){if(G==null)return G;var me=[],je=0;return Ee(G,me,"","",function(Be){return re.call(pe,Be,je++)}),me}function ye(G){if(G._status===-1){var re=G._result;re=re(),re.then(function(pe){(G._status===0||G._status===-1)&&(G._status=1,G._result=pe)},function(pe){(G._status===0||G._status===-1)&&(G._status=2,G._result=pe)}),G._status===-1&&(G._status=0,G._result=re)}if(G._status===1)return G._result.default;throw G._result}var ve={current:null},K={transition:null},ne={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:K,ReactCurrentOwner:H};function oe(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:Pe,forEach:function(G,re,pe){Pe(G,function(){re.apply(this,arguments)},pe)},count:function(G){var re=0;return Pe(G,function(){re++}),re},toArray:function(G){return Pe(G,function(re){return re})||[]},only:function(G){if(!M(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},He.Component=T,He.Fragment=n,He.Profiler=s,He.PureComponent=P,He.StrictMode=r,He.Suspense=c,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,He.act=oe,He.cloneElement=function(G,re,pe){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var me=_({},G.props),je=G.key,Be=G.ref,Ie=G._owner;if(re!=null){if(re.ref!==void 0&&(Be=re.ref,Ie=H.current),re.key!==void 0&&(je=""+re.key),G.type&&G.type.defaultProps)var qe=G.type.defaultProps;for(Ue in re)z.call(re,Ue)&&!j.hasOwnProperty(Ue)&&(me[Ue]=re[Ue]===void 0&&qe!==void 0?qe[Ue]:re[Ue])}var Ue=arguments.length-2;if(Ue===1)me.children=pe;else if(1<Ue){qe=Array(Ue);for(var pt=0;pt<Ue;pt++)qe[pt]=arguments[pt+2];me.children=qe}return{$$typeof:t,type:G.type,key:je,ref:Be,props:me,_owner:Ie}},He.createContext=function(G){return G={$$typeof:a,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:i,_context:G},G.Consumer=G},He.createElement=I,He.createFactory=function(G){var re=I.bind(null,G);return re.type=G,re},He.createRef=function(){return{current:null}},He.forwardRef=function(G){return{$$typeof:u,render:G}},He.isValidElement=M,He.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:ye}},He.memo=function(G,re){return{$$typeof:h,type:G,compare:re===void 0?null:re}},He.startTransition=function(G){var re=K.transition;K.transition={};try{G()}finally{K.transition=re}},He.unstable_act=oe,He.useCallback=function(G,re){return ve.current.useCallback(G,re)},He.useContext=function(G){return ve.current.useContext(G)},He.useDebugValue=function(){},He.useDeferredValue=function(G){return ve.current.useDeferredValue(G)},He.useEffect=function(G,re){return ve.current.useEffect(G,re)},He.useId=function(){return ve.current.useId()},He.useImperativeHandle=function(G,re,pe){return ve.current.useImperativeHandle(G,re,pe)},He.useInsertionEffect=function(G,re){return ve.current.useInsertionEffect(G,re)},He.useLayoutEffect=function(G,re){return ve.current.useLayoutEffect(G,re)},He.useMemo=function(G,re){return ve.current.useMemo(G,re)},He.useReducer=function(G,re,pe){return ve.current.useReducer(G,re,pe)},He.useRef=function(G){return ve.current.useRef(G)},He.useState=function(G){return ve.current.useState(G)},He.useSyncExternalStore=function(G,re,pe){return ve.current.useSyncExternalStore(G,re,pe)},He.useTransition=function(){return ve.current.useTransition()},He.version="18.3.1",He}var rk;function fx(){return rk||(rk=1,tk.exports=a3()),tk.exports}/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var sk;function l3(){if(sk)return qd;sk=1;var t=fx(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,h){var p,g={},v=null,C=null;h!==void 0&&(v=""+h),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(C=c.ref);for(p in c)r.call(c,p)&&!i.hasOwnProperty(p)&&(g[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)g[p]===void 0&&(g[p]=c[p]);return{$$typeof:e,type:u,key:v,ref:C,props:g,_owner:s.current}}return qd.Fragment=n,qd.jsx=a,qd.jsxs=a,qd}var ik;function u3(){return ik||(ik=1,ek.exports=l3()),ek.exports}var x=u3(),S=fx();const hn=hx(S),px=o3({__proto__:null,default:hn},[S]);var sm={},_0={exports:{}},rr={},ok={exports:{}},ak={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var lk;function c3(){return lk||(lk=1,(function(t){function e(K,ne){var oe=K.length;K.push(ne);e:for(;0<oe;){var G=oe-1>>>1,re=K[G];if(0<s(re,ne))K[G]=ne,K[oe]=re,oe=G;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ne=K[0],oe=K.pop();if(oe!==ne){K[0]=oe;e:for(var G=0,re=K.length,pe=re>>>1;G<pe;){var me=2*(G+1)-1,je=K[me],Be=me+1,Ie=K[Be];if(0>s(je,oe))Be<re&&0>s(Ie,je)?(K[G]=Ie,K[Be]=oe,G=Be):(K[G]=je,K[me]=oe,G=me);else if(Be<re&&0>s(Ie,oe))K[G]=Ie,K[Be]=oe,G=Be;else break e}}return ne}function s(K,ne){var oe=K.sortIndex-ne.sortIndex;return oe!==0?oe:K.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],h=[],p=1,g=null,v=3,C=!1,_=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(K){for(var ne=n(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=K)r(h),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(h)}}function U(K){if(k=!1,O(K),!_)if(n(c)!==null)_=!0,ye(z);else{var ne=n(h);ne!==null&&ve(U,ne.startTime-K)}}function z(K,ne){_=!1,k&&(k=!1,A(I),I=-1),C=!0;var oe=v;try{for(O(ne),g=n(c);g!==null&&(!(g.expirationTime>ne)||K&&!F());){var G=g.callback;if(typeof G=="function"){g.callback=null,v=g.priorityLevel;var re=G(g.expirationTime<=ne);ne=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(c)&&r(c),O(ne)}else r(c);g=n(c)}if(g!==null)var pe=!0;else{var me=n(h);me!==null&&ve(U,me.startTime-ne),pe=!1}return pe}finally{g=null,v=oe,C=!1}}var H=!1,j=null,I=-1,N=5,M=-1;function F(){return!(t.unstable_now()-M<N)}function q(){if(j!==null){var K=t.unstable_now();M=K;var ne=!0;try{ne=j(!0,K)}finally{ne?L():(H=!1,j=null)}}else H=!1}var L;if(typeof P=="function")L=function(){P(q)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Pe=Ee.port2;Ee.port1.onmessage=q,L=function(){Pe.postMessage(null)}}else L=function(){T(q,0)};function ye(K){j=K,H||(H=!0,L())}function ve(K,ne){I=T(function(){K(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){_||C||(_=!0,ye(z))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(K){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var oe=v;v=ne;try{return K()}finally{v=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var oe=v;v=K;try{return ne()}finally{v=oe}},t.unstable_scheduleCallback=function(K,ne,oe){var G=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?G+oe:G):oe=G,K){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=oe+re,K={id:p++,callback:ne,priorityLevel:K,startTime:oe,expirationTime:re,sortIndex:-1},oe>G?(K.sortIndex=oe,e(h,K),n(c)===null&&K===n(h)&&(k?(A(I),I=-1):k=!0,ve(U,oe-G))):(K.sortIndex=re,e(c,K),_||C||(_=!0,ye(z))),K},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(K){var ne=v;return function(){var oe=v;v=ne;try{return K.apply(this,arguments)}finally{v=oe}}}})(ak)),ak}var uk;function d3(){return uk||(uk=1,ok.exports=c3()),ok.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ck;function h3(){if(ck)return rr;ck=1;var t=fx(),e=d3();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(s[o]=l,o=0;o<l.length;o++)r.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(o){return c.call(g,o)?!0:c.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function C(o,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,l,d,m){if(l===null||typeof l>"u"||C(o,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function k(o,l,d,m,y,w,D){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=w,this.removeEmptyString=D}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){T[o]=new k(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];T[l]=new k(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){T[o]=new k(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){T[o]=new k(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){T[o]=new k(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){T[o]=new k(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){T[o]=new k(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){T[o]=new k(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){T[o]=new k(o,5,!1,o.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function P(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(A,P);T[l]=new k(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(A,P);T[l]=new k(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(A,P);T[l]=new k(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){T[o]=new k(o,1,!1,o.toLowerCase(),null,!1,!1)}),T.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){T[o]=new k(o,1,!1,o.toLowerCase(),null,!0,!0)});function O(o,l,d,m){var y=T.hasOwnProperty(l)?T[l]:null;(y!==null?y.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(_(l,d,y,m)&&(d=null),m||y===null?v(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):y.mustUseProperty?o[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,m=y.attributeNamespace,d===null?o.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,m?o.setAttributeNS(m,l,d):o.setAttribute(l,d))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),H=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),K=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=K&&o[K]||o["@@iterator"],typeof o=="function"?o:null)}var oe=Object.assign,G;function re(o){if(G===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||""}return`
`+G+o}var pe=!1;function me(o,l){if(!o||pe)return"";pe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var m=Z}Reflect.construct(o,[],l)}else{try{l.call()}catch(Z){m=Z}o.call(l.prototype)}else{try{throw Error()}catch(Z){m=Z}o()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=m.stack.split(`
`),D=y.length-1,V=w.length-1;1<=D&&0<=V&&y[D]!==w[V];)V--;for(;1<=D&&0<=V;D--,V--)if(y[D]!==w[V]){if(D!==1||V!==1)do if(D--,V--,0>V||y[D]!==w[V]){var B=`
`+y[D].replace(" at new "," at ");return o.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",o.displayName)),B}while(1<=D&&0<=V);break}}}finally{pe=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?re(o):""}function je(o){switch(o.tag){case 5:return re(o.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return o=me(o.type,!1),o;case 11:return o=me(o.type.render,!1),o;case 1:return o=me(o.type,!0),o;default:return""}}function Be(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case j:return"Fragment";case H:return"Portal";case N:return"Profiler";case I:return"StrictMode";case L:return"Suspense";case Ee:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case F:return(o.displayName||"Context")+".Consumer";case M:return(o._context.displayName||"Context")+".Provider";case q:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Pe:return l=o.displayName||null,l!==null?l:Be(o.type)||"Memo";case ye:l=o._payload,o=o._init;try{return Be(o(l))}catch{}}return null}function Ie(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(l);case 8:return l===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function qe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ue(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function pt(o){var l=Ue(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,w=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return y.call(this)},set:function(D){m=""+D,w.call(this,D)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ir(o){o._valueTracker||(o._valueTracker=pt(o))}function Dr(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=Ue(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function Xn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function to(o,l){var d=l.checked;return oe({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function Kl(o,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=qe(l.value!=null?l.value:d),o._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function no(o,l){l=l.checked,l!=null&&O(o,"checked",l,!1)}function ci(o,l){no(o,l);var d=qe(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?mt(o,l.type,d):l.hasOwnProperty("defaultValue")&&mt(o,l.type,qe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function va(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function mt(o,l,d){(l!=="number"||Xn(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var Qt=Array.isArray;function Jr(o,l,d,m){if(o=o.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<o.length;d++)y=l.hasOwnProperty("$"+o[d].value),o[d].selected!==y&&(o[d].selected=y),y&&m&&(o[d].defaultSelected=!0)}else{for(d=""+qe(d),l=null,y=0;y<o.length;y++){if(o[y].value===d){o[y].selected=!0,m&&(o[y].defaultSelected=!0);return}l!==null||o[y].disabled||(l=o[y])}l!==null&&(l.selected=!0)}}function Xc(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Jc(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(Qt(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:qe(d)}}function $f(o,l){var d=qe(l.value),m=qe(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),m!=null&&(o.defaultValue=""+m)}function ro(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Zc(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ql(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Zc(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var so,Wf=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,y){MSApp.execUnsafeLocalFunction(function(){return o(l,d,m,y)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=so.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function wa(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hf=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(o){Hf.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),io[l]=io[o]})});function oo(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||io.hasOwnProperty(o)&&io[o]?(""+l).trim():l+"px"}function Yl(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,y=oo(d,l[d],m);d==="float"&&(d="cssFloat"),m?o.setProperty(d,y):o[d]=y}}var ed=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zr(o,l){if(l){if(ed[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Xl(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ao=null;function Jl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var di=null,hi=null,At=null;function td(o){if(o=Id(o)){if(typeof di!="function")throw Error(n(280));var l=o.stateNode;l&&(l=wp(l),di(o.stateNode,o.type,l))}}function lo(o){hi?At?At.push(o):At=[o]:hi=o}function uo(){if(hi){var o=hi,l=At;if(At=hi=null,td(o),l)for(o=0;o<l.length;o++)td(l[o])}}function Gf(o,l){return o(l)}function Kf(){}var xs=!1;function Qf(o,l,d){if(xs)return o(l,d);xs=!0;try{return Gf(o,l,d)}finally{xs=!1,(hi!==null||At!==null)&&(Kf(),uo())}}function ba(o,l){var d=o.stateNode;if(d===null)return null;var m=wp(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var co=!1;if(u)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){co=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{co=!1}function Yf(o,l,d,m,y,w,D,V,B){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(d,Z)}catch(ie){this.onError(ie)}}var fi=!1,Ss=null,Zl=!1,Ar=null,Xf={onError:function(o){fi=!0,Ss=o}};function Jf(o,l,d,m,y,w,D,V,B){fi=!1,Ss=null,Yf.apply(Xf,arguments)}function nd(o,l,d,m,y,w,D,V,B){if(Jf.apply(this,arguments),fi){if(fi){var Z=Ss;fi=!1,Ss=null}else throw Error(n(198));Zl||(Zl=!0,Ar=Z)}}function es(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function rd(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Zf(o){if(es(o)!==o)throw Error(n(188))}function ep(o){var l=o.alternate;if(!l){if(l=es(o),l===null)throw Error(n(188));return l!==o?null:o}for(var d=o,m=l;;){var y=d.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===d)return Zf(y),o;if(w===m)return Zf(y),l;w=w.sibling}throw Error(n(188))}if(d.return!==m.return)d=y,m=w;else{for(var D=!1,V=y.child;V;){if(V===d){D=!0,d=y,m=w;break}if(V===m){D=!0,m=y,d=w;break}V=V.sibling}if(!D){for(V=w.child;V;){if(V===d){D=!0,d=w,m=y;break}if(V===m){D=!0,m=w,d=y;break}V=V.sibling}if(!D)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:l}function tp(o){return o=ep(o),o!==null?xa(o):null}function xa(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=xa(o);if(l!==null)return l;o=o.sibling}return null}var sd=e.unstable_scheduleCallback,eu=e.unstable_cancelCallback,Sa=e.unstable_shouldYield,pi=e.unstable_requestPaint,gt=e.unstable_now,iv=e.unstable_getCurrentPriorityLevel,tu=e.unstable_ImmediatePriority,id=e.unstable_UserBlockingPriority,Ca=e.unstable_NormalPriority,od=e.unstable_LowPriority,nu=e.unstable_IdlePriority,Ea=null,dr=null;function np(o){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Ea,o,void 0,(o.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:ka,Cs=Math.log,Nr=Math.LN2;function ka(o){return o>>>=0,o===0?32:31-(Cs(o)/Nr|0)|0}var Es=64,fo=4194304;function it(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function mi(o,l){var d=o.pendingLanes;if(d===0)return 0;var m=0,y=o.suspendedLanes,w=o.pingedLanes,D=d&268435455;if(D!==0){var V=D&~y;V!==0?m=it(V):(w&=D,w!==0&&(m=it(w)))}else D=d&~y,D!==0?m=it(D):w!==0&&(m=it(w));if(m===0)return 0;if(l!==0&&l!==m&&(l&y)===0&&(y=m&-m,w=l&-l,y>=w||y===16&&(w&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=m;0<l;)d=31-hr(l),y=1<<d,m|=o[d],l&=~y;return m}function Ta(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _a(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes;0<w;){var D=31-hr(w),V=1<<D,B=y[D];B===-1?((V&d)===0||(V&m)!==0)&&(y[D]=Ta(V,l)):B<=l&&(o.expiredLanes|=V),w&=~V}}function ad(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ld(){var o=Es;return Es<<=1,(Es&4194240)===0&&(Es=64),o}function ud(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Ia(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-hr(l),o[l]=d}function ov(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<d;){var y=31-hr(d),w=1<<y;l[y]=0,m[y]=-1,o[y]=-1,d&=~w}}function cd(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-hr(d),y=1<<m;y&l|o[m]&l&&(o[m]|=l),d&=~y}}var Qe=0;function ks(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var dd,ru,hd,fd,pd,Ts=!1,su=[],_s=null,Is=null,bn=null,Da=new Map,gi=new Map,fr=[],rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function po(o,l){switch(o){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Da.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(l.pointerId)}}function ts(o,l,d,m,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},l!==null&&(l=Id(l),l!==null&&ru(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),o)}function sp(o,l,d,m,y){switch(l){case"focusin":return _s=ts(_s,o,l,d,m,y),!0;case"dragenter":return Is=ts(Is,o,l,d,m,y),!0;case"mouseover":return bn=ts(bn,o,l,d,m,y),!0;case"pointerover":var w=y.pointerId;return Da.set(w,ts(Da.get(w)||null,o,l,d,m,y)),!0;case"gotpointercapture":return w=y.pointerId,gi.set(w,ts(gi.get(w)||null,o,l,d,m,y)),!0}return!1}function iu(o){var l=ja(o.target);if(l!==null){var d=es(l);if(d!==null){if(l=d.tag,l===13){if(l=rd(d),l!==null){o.blockedOn=l,pd(o.priority,function(){hd(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ct(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=ou(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);ao=m,d.target.dispatchEvent(m),ao=null}else return l=Id(d),l!==null&&ru(l),o.blockedOn=d,!1;l.shift()}return!0}function ip(o,l,d){ct(o)&&d.delete(l)}function av(){Ts=!1,_s!==null&&ct(_s)&&(_s=null),Is!==null&&ct(Is)&&(Is=null),bn!==null&&ct(bn)&&(bn=null),Da.forEach(ip),gi.forEach(ip)}function mo(o,l){o.blockedOn===l&&(o.blockedOn=null,Ts||(Ts=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,av)))}function go(o){function l(y){return mo(y,o)}if(0<su.length){mo(su[0],o);for(var d=1;d<su.length;d++){var m=su[d];m.blockedOn===o&&(m.blockedOn=null)}}for(_s!==null&&mo(_s,o),Is!==null&&mo(Is,o),bn!==null&&mo(bn,o),Da.forEach(l),gi.forEach(l),d=0;d<fr.length;d++)m=fr[d],m.blockedOn===o&&(m.blockedOn=null);for(;0<fr.length&&(d=fr[0],d.blockedOn===null);)iu(d),d.blockedOn===null&&fr.shift()}var yi=U.ReactCurrentBatchConfig,vi=!0;function Ds(o,l,d,m){var y=Qe,w=yi.transition;yi.transition=null;try{Qe=1,md(o,l,d,m)}finally{Qe=y,yi.transition=w}}function op(o,l,d,m){var y=Qe,w=yi.transition;yi.transition=null;try{Qe=4,md(o,l,d,m)}finally{Qe=y,yi.transition=w}}function md(o,l,d,m){if(vi){var y=ou(o,l,d,m);if(y===null)vv(o,l,m,As,d),po(o,m);else if(sp(y,o,l,d,m))m.stopPropagation();else if(po(o,m),l&4&&-1<rp.indexOf(o)){for(;y!==null;){var w=Id(y);if(w!==null&&dd(w),w=ou(o,l,d,m),w===null&&vv(o,l,m,As,d),w===y)break;y=w}y!==null&&m.stopPropagation()}else vv(o,l,m,null,d)}}var As=null;function ou(o,l,d,m){if(As=null,o=Jl(m),o=ja(o),o!==null)if(l=es(o),l===null)o=null;else if(d=l.tag,d===13){if(o=rd(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return As=o,null}function au(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iv()){case tu:return 1;case id:return 4;case Ca:case od:return 16;case nu:return 536870912;default:return 16}default:return 16}}var pr=null,lu=null,wi=null;function ap(){if(wi)return wi;var o,l=lu,d=l.length,m,y="value"in pr?pr.value:pr.textContent,w=y.length;for(o=0;o<d&&l[o]===y[o];o++);var D=d-o;for(m=1;m<=D&&l[d-m]===y[w-m];m++);return wi=y.slice(o,1<m?1-m:void 0)}function Aa(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ns(){return!0}function gd(){return!1}function Dn(o){function l(d,m,y,w,D){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=D,this.currentTarget=null;for(var V in o)o.hasOwnProperty(V)&&(d=o[V],this[V]=d?d(w):w[V]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ns:gd,this.isPropagationStopped=gd,this}return oe(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),l}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Dn(Ps),yo=oe({},Ps,{view:0,detail:0}),uu=Dn(yo),cu,du,mr,Pa=oe({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ze,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==mr&&(mr&&o.type==="mousemove"?(cu=o.screenX-mr.screenX,du=o.screenY-mr.screenY):du=cu=0,mr=o),cu)},movementY:function(o){return"movementY"in o?o.movementY:du}}),yd=Dn(Pa),lp=oe({},Pa,{dataTransfer:0}),up=Dn(lp),hu=oe({},yo,{relatedTarget:0}),xn=Dn(hu),cp=oe({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),dp=Dn(cp),vo=oe({},Ps,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),f=Dn(vo),b=oe({},Ps,{data:0}),E=Dn(b),R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function de(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=ee[o])?!!l[o]:!1}function ze(){return de}var Yt=oe({},yo,{key:function(o){if(o.key){var l=R[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Aa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?X[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ze,charCode:function(o){return o.type==="keypress"?Aa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Aa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),dt=Dn(Yt),nn=oe({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gr=Dn(nn),wo=oe({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ze}),js=Dn(wo),Rs=oe({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),fu=Dn(Rs),vd=oe({},Pa,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),U4=Dn(vd),B4=[9,13,27,32],lv=u&&"CompositionEvent"in window,wd=null;u&&"documentMode"in document&&(wd=document.documentMode);var z4=u&&"TextEvent"in window&&!wd,VS=u&&(!lv||wd&&8<wd&&11>=wd),FS=" ",US=!1;function BS(o,l){switch(o){case"keyup":return B4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var pu=!1;function q4(o,l){switch(o){case"compositionend":return zS(l);case"keypress":return l.which!==32?null:(US=!0,FS);case"textInput":return o=l.data,o===FS&&US?null:o;default:return null}}function $4(o,l){if(pu)return o==="compositionend"||!lv&&BS(o,l)?(o=ap(),wi=lu=pr=null,pu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return VS&&l.locale!=="ko"?null:l.data;default:return null}}var W4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qS(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!W4[o.type]:l==="textarea"}function $S(o,l,d,m){lo(m),l=gp(l,"onChange"),0<l.length&&(d=new Na("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var bd=null,xd=null;function H4(o){lC(o,0)}function hp(o){var l=wu(o);if(Dr(l))return o}function G4(o,l){if(o==="change")return l}var WS=!1;if(u){var uv;if(u){var cv="oninput"in document;if(!cv){var HS=document.createElement("div");HS.setAttribute("oninput","return;"),cv=typeof HS.oninput=="function"}uv=cv}else uv=!1;WS=uv&&(!document.documentMode||9<document.documentMode)}function GS(){bd&&(bd.detachEvent("onpropertychange",KS),xd=bd=null)}function KS(o){if(o.propertyName==="value"&&hp(xd)){var l=[];$S(l,xd,o,Jl(o)),Qf(H4,l)}}function K4(o,l,d){o==="focusin"?(GS(),bd=l,xd=d,bd.attachEvent("onpropertychange",KS)):o==="focusout"&&GS()}function Q4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return hp(xd)}function Y4(o,l){if(o==="click")return hp(l)}function X4(o,l){if(o==="input"||o==="change")return hp(l)}function J4(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var ns=typeof Object.is=="function"?Object.is:J4;function Sd(o,l){if(ns(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!c.call(l,y)||!ns(o[y],l[y]))return!1}return!0}function QS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function YS(o,l){var d=QS(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=QS(d)}}function XS(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?XS(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function JS(){for(var o=window,l=Xn();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=Xn(o.document)}return l}function dv(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function Z4(o){var l=JS(),d=o.focusedElem,m=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&XS(d.ownerDocument.documentElement,d)){if(m!==null&&dv(d)){if(l=m.start,o=m.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var y=d.textContent.length,w=Math.min(m.start,y);m=m.end===void 0?w:Math.min(m.end,y),!o.extend&&w>m&&(y=m,m=w,w=y),y=YS(d,w);var D=YS(d,m);y&&D&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==D.node||o.focusOffset!==D.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),o.removeAllRanges(),w>m?(o.addRange(l),o.extend(D.node,D.offset)):(l.setEnd(D.node,D.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var eL=u&&"documentMode"in document&&11>=document.documentMode,mu=null,hv=null,Cd=null,fv=!1;function ZS(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;fv||mu==null||mu!==Xn(m)||(m=mu,"selectionStart"in m&&dv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Cd&&Sd(Cd,m)||(Cd=m,m=gp(hv,"onSelect"),0<m.length&&(l=new Na("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=mu)))}function fp(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var gu={animationend:fp("Animation","AnimationEnd"),animationiteration:fp("Animation","AnimationIteration"),animationstart:fp("Animation","AnimationStart"),transitionend:fp("Transition","TransitionEnd")},pv={},eC={};u&&(eC=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function pp(o){if(pv[o])return pv[o];if(!gu[o])return o;var l=gu[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in eC)return pv[o]=l[d];return o}var tC=pp("animationend"),nC=pp("animationiteration"),rC=pp("animationstart"),sC=pp("transitionend"),iC=new Map,oC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bo(o,l){iC.set(o,l),i(l,[o])}for(var mv=0;mv<oC.length;mv++){var gv=oC[mv],tL=gv.toLowerCase(),nL=gv[0].toUpperCase()+gv.slice(1);bo(tL,"on"+nL)}bo(tC,"onAnimationEnd"),bo(nC,"onAnimationIteration"),bo(rC,"onAnimationStart"),bo("dblclick","onDoubleClick"),bo("focusin","onFocus"),bo("focusout","onBlur"),bo(sC,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ed));function aC(o,l,d){var m=o.type||"unknown-event";o.currentTarget=d,nd(m,l,void 0,o),o.currentTarget=null}function lC(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],y=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var D=m.length-1;0<=D;D--){var V=m[D],B=V.instance,Z=V.currentTarget;if(V=V.listener,B!==w&&y.isPropagationStopped())break e;aC(y,V,Z),w=B}else for(D=0;D<m.length;D++){if(V=m[D],B=V.instance,Z=V.currentTarget,V=V.listener,B!==w&&y.isPropagationStopped())break e;aC(y,V,Z),w=B}}}if(Zl)throw o=Ar,Zl=!1,Ar=null,o}function yt(o,l){var d=l[Ev];d===void 0&&(d=l[Ev]=new Set);var m=o+"__bubble";d.has(m)||(uC(l,o,2,!1),d.add(m))}function yv(o,l,d){var m=0;l&&(m|=4),uC(d,o,m,l)}var mp="_reactListening"+Math.random().toString(36).slice(2);function kd(o){if(!o[mp]){o[mp]=!0,r.forEach(function(d){d!=="selectionchange"&&(rL.has(d)||yv(d,!1,o),yv(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[mp]||(l[mp]=!0,yv("selectionchange",!1,l))}}function uC(o,l,d,m){switch(au(l)){case 1:var y=Ds;break;case 4:y=op;break;default:y=md}d=y.bind(null,l,d,o),y=void 0,!co||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?o.addEventListener(l,d,{capture:!0,passive:y}):o.addEventListener(l,d,!0):y!==void 0?o.addEventListener(l,d,{passive:y}):o.addEventListener(l,d,!1)}function vv(o,l,d,m,y){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var V=m.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(D===4)for(D=m.return;D!==null;){var B=D.tag;if((B===3||B===4)&&(B=D.stateNode.containerInfo,B===y||B.nodeType===8&&B.parentNode===y))return;D=D.return}for(;V!==null;){if(D=ja(V),D===null)return;if(B=D.tag,B===5||B===6){m=w=D;continue e}V=V.parentNode}}m=m.return}Qf(function(){var Z=w,ie=Jl(d),ae=[];e:{var se=iC.get(o);if(se!==void 0){var fe=Na,be=o;switch(o){case"keypress":if(Aa(d)===0)break e;case"keydown":case"keyup":fe=dt;break;case"focusin":be="focus",fe=xn;break;case"focusout":be="blur",fe=xn;break;case"beforeblur":case"afterblur":fe=xn;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=js;break;case tC:case nC:case rC:fe=dp;break;case sC:fe=fu;break;case"scroll":fe=uu;break;case"wheel":fe=U4;break;case"copy":case"cut":case"paste":fe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=gr}var ke=(l&4)!==0,Xt=!ke&&o==="scroll",Y=ke?se!==null?se+"Capture":null:se;ke=[];for(var W=Z,J;W!==null;){J=W;var ue=J.stateNode;if(J.tag===5&&ue!==null&&(J=ue,Y!==null&&(ue=ba(W,Y),ue!=null&&ke.push(Td(W,ue,J)))),Xt)break;W=W.return}0<ke.length&&(se=new fe(se,be,null,d,ie),ae.push({event:se,listeners:ke}))}}if((l&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",fe=o==="mouseout"||o==="pointerout",se&&d!==ao&&(be=d.relatedTarget||d.fromElement)&&(ja(be)||be[bi]))break e;if((fe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(be=d.relatedTarget||d.toElement,fe=Z,be=be?ja(be):null,be!==null&&(Xt=es(be),be!==Xt||be.tag!==5&&be.tag!==6)&&(be=null)):(fe=null,be=Z),fe!==be)){if(ke=yd,ue="onMouseLeave",Y="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(ke=gr,ue="onPointerLeave",Y="onPointerEnter",W="pointer"),Xt=fe==null?se:wu(fe),J=be==null?se:wu(be),se=new ke(ue,W+"leave",fe,d,ie),se.target=Xt,se.relatedTarget=J,ue=null,ja(ie)===Z&&(ke=new ke(Y,W+"enter",be,d,ie),ke.target=J,ke.relatedTarget=Xt,ue=ke),Xt=ue,fe&&be)t:{for(ke=fe,Y=be,W=0,J=ke;J;J=yu(J))W++;for(J=0,ue=Y;ue;ue=yu(ue))J++;for(;0<W-J;)ke=yu(ke),W--;for(;0<J-W;)Y=yu(Y),J--;for(;W--;){if(ke===Y||Y!==null&&ke===Y.alternate)break t;ke=yu(ke),Y=yu(Y)}ke=null}else ke=null;fe!==null&&cC(ae,se,fe,ke,!1),be!==null&&Xt!==null&&cC(ae,Xt,be,ke,!0)}}e:{if(se=Z?wu(Z):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var Te=G4;else if(qS(se))if(WS)Te=X4;else{Te=Q4;var Ae=K4}else(fe=se.nodeName)&&fe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Te=Y4);if(Te&&(Te=Te(o,Z))){$S(ae,Te,d,ie);break e}Ae&&Ae(o,se,Z),o==="focusout"&&(Ae=se._wrapperState)&&Ae.controlled&&se.type==="number"&&mt(se,"number",se.value)}switch(Ae=Z?wu(Z):window,o){case"focusin":(qS(Ae)||Ae.contentEditable==="true")&&(mu=Ae,hv=Z,Cd=null);break;case"focusout":Cd=hv=mu=null;break;case"mousedown":fv=!0;break;case"contextmenu":case"mouseup":case"dragend":fv=!1,ZS(ae,d,ie);break;case"selectionchange":if(eL)break;case"keydown":case"keyup":ZS(ae,d,ie)}var Ne;if(lv)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else pu?BS(o,d)&&(Le="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Le="onCompositionStart");Le&&(VS&&d.locale!=="ko"&&(pu||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&pu&&(Ne=ap()):(pr=ie,lu="value"in pr?pr.value:pr.textContent,pu=!0)),Ae=gp(Z,Le),0<Ae.length&&(Le=new E(Le,o,null,d,ie),ae.push({event:Le,listeners:Ae}),Ne?Le.data=Ne:(Ne=zS(d),Ne!==null&&(Le.data=Ne)))),(Ne=z4?q4(o,d):$4(o,d))&&(Z=gp(Z,"onBeforeInput"),0<Z.length&&(ie=new E("onBeforeInput","beforeinput",null,d,ie),ae.push({event:ie,listeners:Z}),ie.data=Ne))}lC(ae,l)})}function Td(o,l,d){return{instance:o,listener:l,currentTarget:d}}function gp(o,l){for(var d=l+"Capture",m=[];o!==null;){var y=o,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=ba(o,d),w!=null&&m.unshift(Td(o,w,y)),w=ba(o,l),w!=null&&m.push(Td(o,w,y))),o=o.return}return m}function yu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function cC(o,l,d,m,y){for(var w=l._reactName,D=[];d!==null&&d!==m;){var V=d,B=V.alternate,Z=V.stateNode;if(B!==null&&B===m)break;V.tag===5&&Z!==null&&(V=Z,y?(B=ba(d,w),B!=null&&D.unshift(Td(d,B,V))):y||(B=ba(d,w),B!=null&&D.push(Td(d,B,V)))),d=d.return}D.length!==0&&o.push({event:l,listeners:D})}var sL=/\r\n?/g,iL=/\u0000|\uFFFD/g;function dC(o){return(typeof o=="string"?o:""+o).replace(sL,`
`).replace(iL,"")}function yp(o,l,d){if(l=dC(l),dC(o)!==l&&d)throw Error(n(425))}function vp(){}var wv=null,bv=null;function xv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Sv=typeof setTimeout=="function"?setTimeout:void 0,oL=typeof clearTimeout=="function"?clearTimeout:void 0,hC=typeof Promise=="function"?Promise:void 0,aL=typeof queueMicrotask=="function"?queueMicrotask:typeof hC<"u"?function(o){return hC.resolve(null).then(o).catch(lL)}:Sv;function lL(o){setTimeout(function(){throw o})}function Cv(o,l){var d=l,m=0;do{var y=d.nextSibling;if(o.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(m===0){o.removeChild(y),go(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=y}while(d);go(l)}function xo(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function fC(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var vu=Math.random().toString(36).slice(2),Os="__reactFiber$"+vu,_d="__reactProps$"+vu,bi="__reactContainer$"+vu,Ev="__reactEvents$"+vu,uL="__reactListeners$"+vu,cL="__reactHandles$"+vu;function ja(o){var l=o[Os];if(l)return l;for(var d=o.parentNode;d;){if(l=d[bi]||d[Os]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=fC(o);o!==null;){if(d=o[Os])return d;o=fC(o)}return l}o=d,d=o.parentNode}return null}function Id(o){return o=o[Os]||o[bi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function wu(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function wp(o){return o[_d]||null}var kv=[],bu=-1;function So(o){return{current:o}}function vt(o){0>bu||(o.current=kv[bu],kv[bu]=null,bu--)}function ht(o,l){bu++,kv[bu]=o.current,o.current=l}var Co={},An=So(Co),Jn=So(!1),Ra=Co;function xu(o,l){var d=o.type.contextTypes;if(!d)return Co;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in d)y[w]=l[w];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=y),y}function Zn(o){return o=o.childContextTypes,o!=null}function bp(){vt(Jn),vt(An)}function pC(o,l,d){if(An.current!==Co)throw Error(n(168));ht(An,l),ht(Jn,d)}function mC(o,l,d){var m=o.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var y in m)if(!(y in l))throw Error(n(108,Ie(o)||"Unknown",y));return oe({},d,m)}function xp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Co,Ra=An.current,ht(An,o),ht(Jn,Jn.current),!0}function gC(o,l,d){var m=o.stateNode;if(!m)throw Error(n(169));d?(o=mC(o,l,Ra),m.__reactInternalMemoizedMergedChildContext=o,vt(Jn),vt(An),ht(An,o)):vt(Jn),ht(Jn,d)}var xi=null,Sp=!1,Tv=!1;function yC(o){xi===null?xi=[o]:xi.push(o)}function dL(o){Sp=!0,yC(o)}function Eo(){if(!Tv&&xi!==null){Tv=!0;var o=0,l=Qe;try{var d=xi;for(Qe=1;o<d.length;o++){var m=d[o];do m=m(!0);while(m!==null)}xi=null,Sp=!1}catch(y){throw xi!==null&&(xi=xi.slice(o+1)),sd(tu,Eo),y}finally{Qe=l,Tv=!1}}return null}var Su=[],Cu=0,Cp=null,Ep=0,Pr=[],jr=0,Oa=null,Si=1,Ci="";function Ma(o,l){Su[Cu++]=Ep,Su[Cu++]=Cp,Cp=o,Ep=l}function vC(o,l,d){Pr[jr++]=Si,Pr[jr++]=Ci,Pr[jr++]=Oa,Oa=o;var m=Si;o=Ci;var y=32-hr(m)-1;m&=~(1<<y),d+=1;var w=32-hr(l)+y;if(30<w){var D=y-y%5;w=(m&(1<<D)-1).toString(32),m>>=D,y-=D,Si=1<<32-hr(l)+y|d<<y|m,Ci=w+o}else Si=1<<w|d<<y|m,Ci=o}function _v(o){o.return!==null&&(Ma(o,1),vC(o,1,0))}function Iv(o){for(;o===Cp;)Cp=Su[--Cu],Su[Cu]=null,Ep=Su[--Cu],Su[Cu]=null;for(;o===Oa;)Oa=Pr[--jr],Pr[jr]=null,Ci=Pr[--jr],Pr[jr]=null,Si=Pr[--jr],Pr[jr]=null}var yr=null,vr=null,bt=!1,rs=null;function wC(o,l){var d=Lr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function bC(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,yr=o,vr=xo(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,yr=o,vr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Oa!==null?{id:Si,overflow:Ci}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Lr(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,yr=o,vr=null,!0):!1;default:return!1}}function Dv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Av(o){if(bt){var l=vr;if(l){var d=l;if(!bC(o,l)){if(Dv(o))throw Error(n(418));l=xo(d.nextSibling);var m=yr;l&&bC(o,l)?wC(m,d):(o.flags=o.flags&-4097|2,bt=!1,yr=o)}}else{if(Dv(o))throw Error(n(418));o.flags=o.flags&-4097|2,bt=!1,yr=o}}}function xC(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;yr=o}function kp(o){if(o!==yr)return!1;if(!bt)return xC(o),bt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!xv(o.type,o.memoizedProps)),l&&(l=vr)){if(Dv(o))throw SC(),Error(n(418));for(;l;)wC(o,l),l=xo(l.nextSibling)}if(xC(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){vr=xo(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}vr=null}}else vr=yr?xo(o.stateNode.nextSibling):null;return!0}function SC(){for(var o=vr;o;)o=xo(o.nextSibling)}function Eu(){vr=yr=null,bt=!1}function Nv(o){rs===null?rs=[o]:rs.push(o)}var hL=U.ReactCurrentBatchConfig;function Dd(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,o));var y=m,w=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(D){var V=y.refs;D===null?delete V[w]:V[w]=D},l._stringRef=w,l)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function Tp(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function CC(o){var l=o._init;return l(o._payload)}function EC(o){function l(Y,W){if(o){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function d(Y,W){if(!o)return null;for(;W!==null;)l(Y,W),W=W.sibling;return null}function m(Y,W){for(Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function y(Y,W){return Y=Po(Y,W),Y.index=0,Y.sibling=null,Y}function w(Y,W,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=2,W):J):(Y.flags|=2,W)):(Y.flags|=1048576,W)}function D(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function V(Y,W,J,ue){return W===null||W.tag!==6?(W=x0(J,Y.mode,ue),W.return=Y,W):(W=y(W,J),W.return=Y,W)}function B(Y,W,J,ue){var Te=J.type;return Te===j?ie(Y,W,J.props.children,ue,J.key):W!==null&&(W.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ye&&CC(Te)===W.type)?(ue=y(W,J.props),ue.ref=Dd(Y,W,J),ue.return=Y,ue):(ue=Yp(J.type,J.key,J.props,null,Y.mode,ue),ue.ref=Dd(Y,W,J),ue.return=Y,ue)}function Z(Y,W,J,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=S0(J,Y.mode,ue),W.return=Y,W):(W=y(W,J.children||[]),W.return=Y,W)}function ie(Y,W,J,ue,Te){return W===null||W.tag!==7?(W=$a(J,Y.mode,ue,Te),W.return=Y,W):(W=y(W,J),W.return=Y,W)}function ae(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=x0(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case z:return J=Yp(W.type,W.key,W.props,null,Y.mode,J),J.ref=Dd(Y,null,W),J.return=Y,J;case H:return W=S0(W,Y.mode,J),W.return=Y,W;case ye:var ue=W._init;return ae(Y,ue(W._payload),J)}if(Qt(W)||ne(W))return W=$a(W,Y.mode,J,null),W.return=Y,W;Tp(Y,W)}return null}function se(Y,W,J,ue){var Te=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Te!==null?null:V(Y,W,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case z:return J.key===Te?B(Y,W,J,ue):null;case H:return J.key===Te?Z(Y,W,J,ue):null;case ye:return Te=J._init,se(Y,W,Te(J._payload),ue)}if(Qt(J)||ne(J))return Te!==null?null:ie(Y,W,J,ue,null);Tp(Y,J)}return null}function fe(Y,W,J,ue,Te){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Y=Y.get(J)||null,V(W,Y,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case z:return Y=Y.get(ue.key===null?J:ue.key)||null,B(W,Y,ue,Te);case H:return Y=Y.get(ue.key===null?J:ue.key)||null,Z(W,Y,ue,Te);case ye:var Ae=ue._init;return fe(Y,W,J,Ae(ue._payload),Te)}if(Qt(ue)||ne(ue))return Y=Y.get(J)||null,ie(W,Y,ue,Te,null);Tp(W,ue)}return null}function be(Y,W,J,ue){for(var Te=null,Ae=null,Ne=W,Le=W=0,yn=null;Ne!==null&&Le<J.length;Le++){Ne.index>Le?(yn=Ne,Ne=null):yn=Ne.sibling;var st=se(Y,Ne,J[Le],ue);if(st===null){Ne===null&&(Ne=yn);break}o&&Ne&&st.alternate===null&&l(Y,Ne),W=w(st,W,Le),Ae===null?Te=st:Ae.sibling=st,Ae=st,Ne=yn}if(Le===J.length)return d(Y,Ne),bt&&Ma(Y,Le),Te;if(Ne===null){for(;Le<J.length;Le++)Ne=ae(Y,J[Le],ue),Ne!==null&&(W=w(Ne,W,Le),Ae===null?Te=Ne:Ae.sibling=Ne,Ae=Ne);return bt&&Ma(Y,Le),Te}for(Ne=m(Y,Ne);Le<J.length;Le++)yn=fe(Ne,Y,Le,J[Le],ue),yn!==null&&(o&&yn.alternate!==null&&Ne.delete(yn.key===null?Le:yn.key),W=w(yn,W,Le),Ae===null?Te=yn:Ae.sibling=yn,Ae=yn);return o&&Ne.forEach(function(jo){return l(Y,jo)}),bt&&Ma(Y,Le),Te}function ke(Y,W,J,ue){var Te=ne(J);if(typeof Te!="function")throw Error(n(150));if(J=Te.call(J),J==null)throw Error(n(151));for(var Ae=Te=null,Ne=W,Le=W=0,yn=null,st=J.next();Ne!==null&&!st.done;Le++,st=J.next()){Ne.index>Le?(yn=Ne,Ne=null):yn=Ne.sibling;var jo=se(Y,Ne,st.value,ue);if(jo===null){Ne===null&&(Ne=yn);break}o&&Ne&&jo.alternate===null&&l(Y,Ne),W=w(jo,W,Le),Ae===null?Te=jo:Ae.sibling=jo,Ae=jo,Ne=yn}if(st.done)return d(Y,Ne),bt&&Ma(Y,Le),Te;if(Ne===null){for(;!st.done;Le++,st=J.next())st=ae(Y,st.value,ue),st!==null&&(W=w(st,W,Le),Ae===null?Te=st:Ae.sibling=st,Ae=st);return bt&&Ma(Y,Le),Te}for(Ne=m(Y,Ne);!st.done;Le++,st=J.next())st=fe(Ne,Y,Le,st.value,ue),st!==null&&(o&&st.alternate!==null&&Ne.delete(st.key===null?Le:st.key),W=w(st,W,Le),Ae===null?Te=st:Ae.sibling=st,Ae=st);return o&&Ne.forEach(function(WL){return l(Y,WL)}),bt&&Ma(Y,Le),Te}function Xt(Y,W,J,ue){if(typeof J=="object"&&J!==null&&J.type===j&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case z:e:{for(var Te=J.key,Ae=W;Ae!==null;){if(Ae.key===Te){if(Te=J.type,Te===j){if(Ae.tag===7){d(Y,Ae.sibling),W=y(Ae,J.props.children),W.return=Y,Y=W;break e}}else if(Ae.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ye&&CC(Te)===Ae.type){d(Y,Ae.sibling),W=y(Ae,J.props),W.ref=Dd(Y,Ae,J),W.return=Y,Y=W;break e}d(Y,Ae);break}else l(Y,Ae);Ae=Ae.sibling}J.type===j?(W=$a(J.props.children,Y.mode,ue,J.key),W.return=Y,Y=W):(ue=Yp(J.type,J.key,J.props,null,Y.mode,ue),ue.ref=Dd(Y,W,J),ue.return=Y,Y=ue)}return D(Y);case H:e:{for(Ae=J.key;W!==null;){if(W.key===Ae)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){d(Y,W.sibling),W=y(W,J.children||[]),W.return=Y,Y=W;break e}else{d(Y,W);break}else l(Y,W);W=W.sibling}W=S0(J,Y.mode,ue),W.return=Y,Y=W}return D(Y);case ye:return Ae=J._init,Xt(Y,W,Ae(J._payload),ue)}if(Qt(J))return be(Y,W,J,ue);if(ne(J))return ke(Y,W,J,ue);Tp(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(d(Y,W.sibling),W=y(W,J),W.return=Y,Y=W):(d(Y,W),W=x0(J,Y.mode,ue),W.return=Y,Y=W),D(Y)):d(Y,W)}return Xt}var ku=EC(!0),kC=EC(!1),_p=So(null),Ip=null,Tu=null,Pv=null;function jv(){Pv=Tu=Ip=null}function Rv(o){var l=_p.current;vt(_p),o._currentValue=l}function Ov(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function _u(o,l){Ip=o,Pv=Tu=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(er=!0),o.firstContext=null)}function Rr(o){var l=o._currentValue;if(Pv!==o)if(o={context:o,memoizedValue:l,next:null},Tu===null){if(Ip===null)throw Error(n(308));Tu=o,Ip.dependencies={lanes:0,firstContext:o}}else Tu=Tu.next=o;return l}var La=null;function Mv(o){La===null?La=[o]:La.push(o)}function TC(o,l,d,m){var y=l.interleaved;return y===null?(d.next=d,Mv(l)):(d.next=y.next,y.next=d),l.interleaved=d,Ei(o,m)}function Ei(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var ko=!1;function Lv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _C(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ki(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function To(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(tt&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,Ei(o,d)}return y=m.interleaved,y===null?(l.next=l,Mv(m)):(l.next=y.next,y.next=l),m.interleaved=l,Ei(o,d)}function Dp(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,cd(o,d)}}function IC(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var D={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?y=w=D:w=w.next=D,d=d.next}while(d!==null);w===null?y=w=l:w=w.next=l}else y=w=l;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,effects:m.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function Ap(o,l,d,m){var y=o.updateQueue;ko=!1;var w=y.firstBaseUpdate,D=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var B=V,Z=B.next;B.next=null,D===null?w=Z:D.next=Z,D=B;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,V=ie.lastBaseUpdate,V!==D&&(V===null?ie.firstBaseUpdate=Z:V.next=Z,ie.lastBaseUpdate=B))}if(w!==null){var ae=y.baseState;D=0,ie=Z=B=null,V=w;do{var se=V.lane,fe=V.eventTime;if((m&se)===se){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var be=o,ke=V;switch(se=l,fe=d,ke.tag){case 1:if(be=ke.payload,typeof be=="function"){ae=be.call(fe,ae,se);break e}ae=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ke.payload,se=typeof be=="function"?be.call(fe,ae,se):be,se==null)break e;ae=oe({},ae,se);break e;case 2:ko=!0}}V.callback!==null&&V.lane!==0&&(o.flags|=64,se=y.effects,se===null?y.effects=[V]:se.push(V))}else fe={eventTime:fe,lane:se,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ie===null?(Z=ie=fe,B=ae):ie=ie.next=fe,D|=se;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;se=V,V=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ie===null&&(B=ae),y.baseState=B,y.firstBaseUpdate=Z,y.lastBaseUpdate=ie,l=y.shared.interleaved,l!==null){y=l;do D|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Ua|=D,o.lanes=D,o.memoizedState=ae}}function DC(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var m=o[l],y=m.callback;if(y!==null){if(m.callback=null,m=d,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var Ad={},Ms=So(Ad),Nd=So(Ad),Pd=So(Ad);function Va(o){if(o===Ad)throw Error(n(174));return o}function Vv(o,l){switch(ht(Pd,l),ht(Nd,o),ht(Ms,Ad),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ql(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Ql(l,o)}vt(Ms),ht(Ms,l)}function Iu(){vt(Ms),vt(Nd),vt(Pd)}function AC(o){Va(Pd.current);var l=Va(Ms.current),d=Ql(l,o.type);l!==d&&(ht(Nd,o),ht(Ms,d))}function Fv(o){Nd.current===o&&(vt(Ms),vt(Nd))}var Et=So(0);function Np(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Uv=[];function Bv(){for(var o=0;o<Uv.length;o++)Uv[o]._workInProgressVersionPrimary=null;Uv.length=0}var Pp=U.ReactCurrentDispatcher,zv=U.ReactCurrentBatchConfig,Fa=0,kt=null,un=null,mn=null,jp=!1,jd=!1,Rd=0,fL=0;function Nn(){throw Error(n(321))}function qv(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!ns(o[d],l[d]))return!1;return!0}function $v(o,l,d,m,y,w){if(Fa=w,kt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Pp.current=o===null||o.memoizedState===null?yL:vL,o=d(m,y),jd){w=0;do{if(jd=!1,Rd=0,25<=w)throw Error(n(301));w+=1,mn=un=null,l.updateQueue=null,Pp.current=wL,o=d(m,y)}while(jd)}if(Pp.current=Mp,l=un!==null&&un.next!==null,Fa=0,mn=un=kt=null,jp=!1,l)throw Error(n(300));return o}function Wv(){var o=Rd!==0;return Rd=0,o}function Ls(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?kt.memoizedState=mn=o:mn=mn.next=o,mn}function Or(){if(un===null){var o=kt.alternate;o=o!==null?o.memoizedState:null}else o=un.next;var l=mn===null?kt.memoizedState:mn.next;if(l!==null)mn=l,un=o;else{if(o===null)throw Error(n(310));un=o,o={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},mn===null?kt.memoizedState=mn=o:mn=mn.next=o}return mn}function Od(o,l){return typeof l=="function"?l(o):l}function Hv(o){var l=Or(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=un,y=m.baseQueue,w=d.pending;if(w!==null){if(y!==null){var D=y.next;y.next=w.next,w.next=D}m.baseQueue=y=w,d.pending=null}if(y!==null){w=y.next,m=m.baseState;var V=D=null,B=null,Z=w;do{var ie=Z.lane;if((Fa&ie)===ie)B!==null&&(B=B.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:o(m,Z.action);else{var ae={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};B===null?(V=B=ae,D=m):B=B.next=ae,kt.lanes|=ie,Ua|=ie}Z=Z.next}while(Z!==null&&Z!==w);B===null?D=m:B.next=V,ns(m,l.memoizedState)||(er=!0),l.memoizedState=m,l.baseState=D,l.baseQueue=B,d.lastRenderedState=m}if(o=d.interleaved,o!==null){y=o;do w=y.lane,kt.lanes|=w,Ua|=w,y=y.next;while(y!==o)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Gv(o){var l=Or(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=d.dispatch,y=d.pending,w=l.memoizedState;if(y!==null){d.pending=null;var D=y=y.next;do w=o(w,D.action),D=D.next;while(D!==y);ns(w,l.memoizedState)||(er=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,m]}function NC(){}function PC(o,l){var d=kt,m=Or(),y=l(),w=!ns(m.memoizedState,y);if(w&&(m.memoizedState=y,er=!0),m=m.queue,Kv(OC.bind(null,d,m,o),[o]),m.getSnapshot!==l||w||mn!==null&&mn.memoizedState.tag&1){if(d.flags|=2048,Md(9,RC.bind(null,d,m,y,l),void 0,null),gn===null)throw Error(n(349));(Fa&30)!==0||jC(d,l,y)}return y}function jC(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=kt.updateQueue,l===null?(l={lastEffect:null,stores:null},kt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function RC(o,l,d,m){l.value=d,l.getSnapshot=m,MC(l)&&LC(o)}function OC(o,l,d){return d(function(){MC(l)&&LC(o)})}function MC(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!ns(o,d)}catch{return!0}}function LC(o){var l=Ei(o,1);l!==null&&as(l,o,1,-1)}function VC(o){var l=Ls();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:o},l.queue=o,o=o.dispatch=gL.bind(null,kt,o),[l.memoizedState,o]}function Md(o,l,d,m){return o={tag:o,create:l,destroy:d,deps:m,next:null},l=kt.updateQueue,l===null?(l={lastEffect:null,stores:null},kt.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o)),o}function FC(){return Or().memoizedState}function Rp(o,l,d,m){var y=Ls();kt.flags|=o,y.memoizedState=Md(1|l,d,void 0,m===void 0?null:m)}function Op(o,l,d,m){var y=Or();m=m===void 0?null:m;var w=void 0;if(un!==null){var D=un.memoizedState;if(w=D.destroy,m!==null&&qv(m,D.deps)){y.memoizedState=Md(l,d,w,m);return}}kt.flags|=o,y.memoizedState=Md(1|l,d,w,m)}function UC(o,l){return Rp(8390656,8,o,l)}function Kv(o,l){return Op(2048,8,o,l)}function BC(o,l){return Op(4,2,o,l)}function zC(o,l){return Op(4,4,o,l)}function qC(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function $C(o,l,d){return d=d!=null?d.concat([o]):null,Op(4,4,qC.bind(null,l,o),d)}function Qv(){}function WC(o,l){var d=Or();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&qv(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function HC(o,l){var d=Or();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&qv(l,m[1])?m[0]:(o=o(),d.memoizedState=[o,l],o)}function GC(o,l,d){return(Fa&21)===0?(o.baseState&&(o.baseState=!1,er=!0),o.memoizedState=d):(ns(d,l)||(d=ld(),kt.lanes|=d,Ua|=d,o.baseState=!0),l)}function pL(o,l){var d=Qe;Qe=d!==0&&4>d?d:4,o(!0);var m=zv.transition;zv.transition={};try{o(!1),l()}finally{Qe=d,zv.transition=m}}function KC(){return Or().memoizedState}function mL(o,l,d){var m=Ao(o);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},QC(o))YC(l,d);else if(d=TC(o,l,d,m),d!==null){var y=zn();as(d,o,m,y),XC(d,l,m)}}function gL(o,l,d){var m=Ao(o),y={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(QC(o))YC(l,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var D=l.lastRenderedState,V=w(D,d);if(y.hasEagerState=!0,y.eagerState=V,ns(V,D)){var B=l.interleaved;B===null?(y.next=y,Mv(l)):(y.next=B.next,B.next=y),l.interleaved=y;return}}catch{}finally{}d=TC(o,l,y,m),d!==null&&(y=zn(),as(d,o,m,y),XC(d,l,m))}}function QC(o){var l=o.alternate;return o===kt||l!==null&&l===kt}function YC(o,l){jd=jp=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function XC(o,l,d){if((d&4194240)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,cd(o,d)}}var Mp={readContext:Rr,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},yL={readContext:Rr,useCallback:function(o,l){return Ls().memoizedState=[o,l===void 0?null:l],o},useContext:Rr,useEffect:UC,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,Rp(4194308,4,qC.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Rp(4194308,4,o,l)},useInsertionEffect:function(o,l){return Rp(4,2,o,l)},useMemo:function(o,l){var d=Ls();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var m=Ls();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},m.queue=o,o=o.dispatch=mL.bind(null,kt,o),[m.memoizedState,o]},useRef:function(o){var l=Ls();return o={current:o},l.memoizedState=o},useState:VC,useDebugValue:Qv,useDeferredValue:function(o){return Ls().memoizedState=o},useTransition:function(){var o=VC(!1),l=o[0];return o=pL.bind(null,o[1]),Ls().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var m=kt,y=Ls();if(bt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),gn===null)throw Error(n(349));(Fa&30)!==0||jC(m,l,d)}y.memoizedState=d;var w={value:d,getSnapshot:l};return y.queue=w,UC(OC.bind(null,m,w,o),[o]),m.flags|=2048,Md(9,RC.bind(null,m,w,d,l),void 0,null),d},useId:function(){var o=Ls(),l=gn.identifierPrefix;if(bt){var d=Ci,m=Si;d=(m&~(1<<32-hr(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=Rd++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=fL++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},vL={readContext:Rr,useCallback:WC,useContext:Rr,useEffect:Kv,useImperativeHandle:$C,useInsertionEffect:BC,useLayoutEffect:zC,useMemo:HC,useReducer:Hv,useRef:FC,useState:function(){return Hv(Od)},useDebugValue:Qv,useDeferredValue:function(o){var l=Or();return GC(l,un.memoizedState,o)},useTransition:function(){var o=Hv(Od)[0],l=Or().memoizedState;return[o,l]},useMutableSource:NC,useSyncExternalStore:PC,useId:KC,unstable_isNewReconciler:!1},wL={readContext:Rr,useCallback:WC,useContext:Rr,useEffect:Kv,useImperativeHandle:$C,useInsertionEffect:BC,useLayoutEffect:zC,useMemo:HC,useReducer:Gv,useRef:FC,useState:function(){return Gv(Od)},useDebugValue:Qv,useDeferredValue:function(o){var l=Or();return un===null?l.memoizedState=o:GC(l,un.memoizedState,o)},useTransition:function(){var o=Gv(Od)[0],l=Or().memoizedState;return[o,l]},useMutableSource:NC,useSyncExternalStore:PC,useId:KC,unstable_isNewReconciler:!1};function ss(o,l){if(o&&o.defaultProps){l=oe({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function Yv(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:oe({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Lp={isMounted:function(o){return(o=o._reactInternals)?es(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var m=zn(),y=Ao(o),w=ki(m,y);w.payload=l,d!=null&&(w.callback=d),l=To(o,w,y),l!==null&&(as(l,o,y,m),Dp(l,o,y))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=zn(),y=Ao(o),w=ki(m,y);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=To(o,w,y),l!==null&&(as(l,o,y,m),Dp(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=zn(),m=Ao(o),y=ki(d,m);y.tag=2,l!=null&&(y.callback=l),l=To(o,y,m),l!==null&&(as(l,o,m,d),Dp(l,o,m))}};function JC(o,l,d,m,y,w,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,w,D):l.prototype&&l.prototype.isPureReactComponent?!Sd(d,m)||!Sd(y,w):!0}function ZC(o,l,d){var m=!1,y=Co,w=l.contextType;return typeof w=="object"&&w!==null?w=Rr(w):(y=Zn(l)?Ra:An.current,m=l.contextTypes,w=(m=m!=null)?xu(o,y):Co),l=new l(d,w),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Lp,o.stateNode=l,l._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=w),l}function eE(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&Lp.enqueueReplaceState(l,l.state,null)}function Xv(o,l,d,m){var y=o.stateNode;y.props=d,y.state=o.memoizedState,y.refs={},Lv(o);var w=l.contextType;typeof w=="object"&&w!==null?y.context=Rr(w):(w=Zn(l)?Ra:An.current,y.context=xu(o,w)),y.state=o.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Yv(o,l,w,d),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Lp.enqueueReplaceState(y,y.state,null),Ap(o,d,y,m),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function Du(o,l){try{var d="",m=l;do d+=je(m),m=m.return;while(m);var y=d}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:l,stack:y,digest:null}}function Jv(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function Zv(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var bL=typeof WeakMap=="function"?WeakMap:Map;function tE(o,l,d){d=ki(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){$p||($p=!0,f0=m),Zv(o,l)},d}function nE(o,l,d){d=ki(-1,d),d.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=l.value;d.payload=function(){return m(y)},d.callback=function(){Zv(o,l)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){Zv(o,l),typeof m!="function"&&(Io===null?Io=new Set([this]):Io.add(this));var D=l.stack;this.componentDidCatch(l.value,{componentStack:D!==null?D:""})}),d}function rE(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new bL;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(d)||(y.add(d),o=RL.bind(null,o,l,d),l.then(o,o))}function sE(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function iE(o,l,d,m,y){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=ki(-1,1),l.tag=2,To(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var xL=U.ReactCurrentOwner,er=!1;function Bn(o,l,d,m){l.child=o===null?kC(l,null,d,m):ku(l,o.child,d,m)}function oE(o,l,d,m,y){d=d.render;var w=l.ref;return _u(l,y),m=$v(o,l,d,m,w,y),d=Wv(),o!==null&&!er?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Ti(o,l,y)):(bt&&d&&_v(l),l.flags|=1,Bn(o,l,m,y),l.child)}function aE(o,l,d,m,y){if(o===null){var w=d.type;return typeof w=="function"&&!b0(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=w,lE(o,l,w,m,y)):(o=Yp(d.type,null,m,l,l.mode,y),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,(o.lanes&y)===0){var D=w.memoizedProps;if(d=d.compare,d=d!==null?d:Sd,d(D,m)&&o.ref===l.ref)return Ti(o,l,y)}return l.flags|=1,o=Po(w,m),o.ref=l.ref,o.return=l,l.child=o}function lE(o,l,d,m,y){if(o!==null){var w=o.memoizedProps;if(Sd(w,m)&&o.ref===l.ref)if(er=!1,l.pendingProps=m=w,(o.lanes&y)!==0)(o.flags&131072)!==0&&(er=!0);else return l.lanes=o.lanes,Ti(o,l,y)}return e0(o,l,d,m,y)}function uE(o,l,d){var m=l.pendingProps,y=m.children,w=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Nu,wr),wr|=d;else{if((d&1073741824)===0)return o=w!==null?w.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,ht(Nu,wr),wr|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:d,ht(Nu,wr),wr|=m}else w!==null?(m=w.baseLanes|d,l.memoizedState=null):m=d,ht(Nu,wr),wr|=m;return Bn(o,l,y,d),l.child}function cE(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function e0(o,l,d,m,y){var w=Zn(d)?Ra:An.current;return w=xu(l,w),_u(l,y),d=$v(o,l,d,m,w,y),m=Wv(),o!==null&&!er?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Ti(o,l,y)):(bt&&m&&_v(l),l.flags|=1,Bn(o,l,d,y),l.child)}function dE(o,l,d,m,y){if(Zn(d)){var w=!0;xp(l)}else w=!1;if(_u(l,y),l.stateNode===null)Fp(o,l),ZC(l,d,m),Xv(l,d,m,y),m=!0;else if(o===null){var D=l.stateNode,V=l.memoizedProps;D.props=V;var B=D.context,Z=d.contextType;typeof Z=="object"&&Z!==null?Z=Rr(Z):(Z=Zn(d)?Ra:An.current,Z=xu(l,Z));var ie=d.getDerivedStateFromProps,ae=typeof ie=="function"||typeof D.getSnapshotBeforeUpdate=="function";ae||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(V!==m||B!==Z)&&eE(l,D,m,Z),ko=!1;var se=l.memoizedState;D.state=se,Ap(l,m,D,y),B=l.memoizedState,V!==m||se!==B||Jn.current||ko?(typeof ie=="function"&&(Yv(l,d,ie,m),B=l.memoizedState),(V=ko||JC(l,d,V,m,se,B,Z))?(ae||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(l.flags|=4194308)):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=B),D.props=m,D.state=B,D.context=Z,m=V):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{D=l.stateNode,_C(o,l),V=l.memoizedProps,Z=l.type===l.elementType?V:ss(l.type,V),D.props=Z,ae=l.pendingProps,se=D.context,B=d.contextType,typeof B=="object"&&B!==null?B=Rr(B):(B=Zn(d)?Ra:An.current,B=xu(l,B));var fe=d.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(V!==ae||se!==B)&&eE(l,D,m,B),ko=!1,se=l.memoizedState,D.state=se,Ap(l,m,D,y);var be=l.memoizedState;V!==ae||se!==be||Jn.current||ko?(typeof fe=="function"&&(Yv(l,d,fe,m),be=l.memoizedState),(Z=ko||JC(l,d,Z,m,se,be,B)||!1)?(ie||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(m,be,B),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(m,be,B)),typeof D.componentDidUpdate=="function"&&(l.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof D.componentDidUpdate!="function"||V===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=be),D.props=m,D.state=be,D.context=B,m=Z):(typeof D.componentDidUpdate!="function"||V===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),m=!1)}return t0(o,l,d,m,w,y)}function t0(o,l,d,m,y,w){cE(o,l);var D=(l.flags&128)!==0;if(!m&&!D)return y&&gC(l,d,!1),Ti(o,l,w);m=l.stateNode,xL.current=l;var V=D&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,o!==null&&D?(l.child=ku(l,o.child,null,w),l.child=ku(l,null,V,w)):Bn(o,l,V,w),l.memoizedState=m.state,y&&gC(l,d,!0),l.child}function hE(o){var l=o.stateNode;l.pendingContext?pC(o,l.pendingContext,l.pendingContext!==l.context):l.context&&pC(o,l.context,!1),Vv(o,l.containerInfo)}function fE(o,l,d,m,y){return Eu(),Nv(y),l.flags|=256,Bn(o,l,d,m),l.child}var n0={dehydrated:null,treeContext:null,retryLane:0};function r0(o){return{baseLanes:o,cachePool:null,transitions:null}}function pE(o,l,d){var m=l.pendingProps,y=Et.current,w=!1,D=(l.flags&128)!==0,V;if((V=D)||(V=o!==null&&o.memoizedState===null?!1:(y&2)!==0),V?(w=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),ht(Et,y&1),o===null)return Av(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(D=m.children,o=m.fallback,w?(m=l.mode,w=l.child,D={mode:"hidden",children:D},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=D):w=Xp(D,m,0,null),o=$a(o,m,d,null),w.return=l,o.return=l,w.sibling=o,l.child=w,l.child.memoizedState=r0(d),l.memoizedState=n0,o):s0(l,D));if(y=o.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return SL(o,l,D,m,V,y,d);if(w){w=m.fallback,D=l.mode,y=o.child,V=y.sibling;var B={mode:"hidden",children:m.children};return(D&1)===0&&l.child!==y?(m=l.child,m.childLanes=0,m.pendingProps=B,l.deletions=null):(m=Po(y,B),m.subtreeFlags=y.subtreeFlags&14680064),V!==null?w=Po(V,w):(w=$a(w,D,d,null),w.flags|=2),w.return=l,m.return=l,m.sibling=w,l.child=m,m=w,w=l.child,D=o.child.memoizedState,D=D===null?r0(d):{baseLanes:D.baseLanes|d,cachePool:null,transitions:D.transitions},w.memoizedState=D,w.childLanes=o.childLanes&~d,l.memoizedState=n0,m}return w=o.child,o=w.sibling,m=Po(w,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=m,l.memoizedState=null,m}function s0(o,l){return l=Xp({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Vp(o,l,d,m){return m!==null&&Nv(m),ku(l,o.child,null,d),o=s0(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function SL(o,l,d,m,y,w,D){if(d)return l.flags&256?(l.flags&=-257,m=Jv(Error(n(422))),Vp(o,l,D,m)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(w=m.fallback,y=l.mode,m=Xp({mode:"visible",children:m.children},y,0,null),w=$a(w,y,D,null),w.flags|=2,m.return=l,w.return=l,m.sibling=w,l.child=m,(l.mode&1)!==0&&ku(l,o.child,null,D),l.child.memoizedState=r0(D),l.memoizedState=n0,w);if((l.mode&1)===0)return Vp(o,l,D,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var V=m.dgst;return m=V,w=Error(n(419)),m=Jv(w,m,void 0),Vp(o,l,D,m)}if(V=(D&o.childLanes)!==0,er||V){if(m=gn,m!==null){switch(D&-D){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|D))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,Ei(o,y),as(m,o,y,-1))}return w0(),m=Jv(Error(n(421))),Vp(o,l,D,m)}return y.data==="$?"?(l.flags|=128,l.child=o.child,l=OL.bind(null,o),y._reactRetry=l,null):(o=w.treeContext,vr=xo(y.nextSibling),yr=l,bt=!0,rs=null,o!==null&&(Pr[jr++]=Si,Pr[jr++]=Ci,Pr[jr++]=Oa,Si=o.id,Ci=o.overflow,Oa=l),l=s0(l,m.children),l.flags|=4096,l)}function mE(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),Ov(o.return,l,d)}function i0(o,l,d,m,y){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=d,w.tailMode=y)}function gE(o,l,d){var m=l.pendingProps,y=m.revealOrder,w=m.tail;if(Bn(o,l,m.children,d),m=Et.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&mE(o,d,l);else if(o.tag===19)mE(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(ht(Et,m),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)o=d.alternate,o!==null&&Np(o)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),i0(l,!1,y,d,w);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(o=y.alternate,o!==null&&Np(o)===null){l.child=y;break}o=y.sibling,y.sibling=d,d=y,y=o}i0(l,!0,d,null,w);break;case"together":i0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Fp(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Ti(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Ua|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,d=Po(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Po(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function CL(o,l,d){switch(l.tag){case 3:hE(l),Eu();break;case 5:AC(l);break;case 1:Zn(l.type)&&xp(l);break;case 4:Vv(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,y=l.memoizedProps.value;ht(_p,m._currentValue),m._currentValue=y;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(ht(Et,Et.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?pE(o,l,d):(ht(Et,Et.current&1),o=Ti(o,l,d),o!==null?o.sibling:null);ht(Et,Et.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(o.flags&128)!==0){if(m)return gE(o,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ht(Et,Et.current),m)break;return null;case 22:case 23:return l.lanes=0,uE(o,l,d)}return Ti(o,l,d)}var yE,o0,vE,wE;yE=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},o0=function(){},vE=function(o,l,d,m){var y=o.memoizedProps;if(y!==m){o=l.stateNode,Va(Ms.current);var w=null;switch(d){case"input":y=to(o,y),m=to(o,m),w=[];break;case"select":y=oe({},y,{value:void 0}),m=oe({},m,{value:void 0}),w=[];break;case"textarea":y=Xc(o,y),m=Xc(o,m),w=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=vp)}Zr(d,m);var D;d=null;for(Z in y)if(!m.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var V=y[Z];for(D in V)V.hasOwnProperty(D)&&(d||(d={}),d[D]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in m){var B=m[Z];if(V=y!=null?y[Z]:void 0,m.hasOwnProperty(Z)&&B!==V&&(B!=null||V!=null))if(Z==="style")if(V){for(D in V)!V.hasOwnProperty(D)||B&&B.hasOwnProperty(D)||(d||(d={}),d[D]="");for(D in B)B.hasOwnProperty(D)&&V[D]!==B[D]&&(d||(d={}),d[D]=B[D])}else d||(w||(w=[]),w.push(Z,d)),d=B;else Z==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,V=V?V.__html:void 0,B!=null&&V!==B&&(w=w||[]).push(Z,B)):Z==="children"?typeof B!="string"&&typeof B!="number"||(w=w||[]).push(Z,""+B):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(B!=null&&Z==="onScroll"&&yt("scroll",o),w||V===B||(w=[])):(w=w||[]).push(Z,B))}d&&(w=w||[]).push("style",d);var Z=w;(l.updateQueue=Z)&&(l.flags|=4)}},wE=function(o,l,d,m){d!==m&&(l.flags|=4)};function Ld(o,l){if(!bt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Pn(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var y=o.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function EL(o,l,d){var m=l.pendingProps;switch(Iv(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(l),null;case 1:return Zn(l.type)&&bp(),Pn(l),null;case 3:return m=l.stateNode,Iu(),vt(Jn),vt(An),Bv(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(kp(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,rs!==null&&(g0(rs),rs=null))),o0(o,l),Pn(l),null;case 5:Fv(l);var y=Va(Pd.current);if(d=l.type,o!==null&&l.stateNode!=null)vE(o,l,d,m,y),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return Pn(l),null}if(o=Va(Ms.current),kp(l)){m=l.stateNode,d=l.type;var w=l.memoizedProps;switch(m[Os]=l,m[_d]=w,o=(l.mode&1)!==0,d){case"dialog":yt("cancel",m),yt("close",m);break;case"iframe":case"object":case"embed":yt("load",m);break;case"video":case"audio":for(y=0;y<Ed.length;y++)yt(Ed[y],m);break;case"source":yt("error",m);break;case"img":case"image":case"link":yt("error",m),yt("load",m);break;case"details":yt("toggle",m);break;case"input":Kl(m,w),yt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},yt("invalid",m);break;case"textarea":Jc(m,w),yt("invalid",m)}Zr(d,w),y=null;for(var D in w)if(w.hasOwnProperty(D)){var V=w[D];D==="children"?typeof V=="string"?m.textContent!==V&&(w.suppressHydrationWarning!==!0&&yp(m.textContent,V,o),y=["children",V]):typeof V=="number"&&m.textContent!==""+V&&(w.suppressHydrationWarning!==!0&&yp(m.textContent,V,o),y=["children",""+V]):s.hasOwnProperty(D)&&V!=null&&D==="onScroll"&&yt("scroll",m)}switch(d){case"input":Ir(m),va(m,w,!0);break;case"textarea":Ir(m),ro(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=vp)}m=y,l.updateQueue=m,m!==null&&(l.flags|=4)}else{D=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Zc(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=D.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=D.createElement(d,{is:m.is}):(o=D.createElement(d),d==="select"&&(D=o,m.multiple?D.multiple=!0:m.size&&(D.size=m.size))):o=D.createElementNS(o,d),o[Os]=l,o[_d]=m,yE(o,l,!1,!1),l.stateNode=o;e:{switch(D=Xl(d,m),d){case"dialog":yt("cancel",o),yt("close",o),y=m;break;case"iframe":case"object":case"embed":yt("load",o),y=m;break;case"video":case"audio":for(y=0;y<Ed.length;y++)yt(Ed[y],o);y=m;break;case"source":yt("error",o),y=m;break;case"img":case"image":case"link":yt("error",o),yt("load",o),y=m;break;case"details":yt("toggle",o),y=m;break;case"input":Kl(o,m),y=to(o,m),yt("invalid",o);break;case"option":y=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},y=oe({},m,{value:void 0}),yt("invalid",o);break;case"textarea":Jc(o,m),y=Xc(o,m),yt("invalid",o);break;default:y=m}Zr(d,y),V=y;for(w in V)if(V.hasOwnProperty(w)){var B=V[w];w==="style"?Yl(o,B):w==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Wf(o,B)):w==="children"?typeof B=="string"?(d!=="textarea"||B!=="")&&wa(o,B):typeof B=="number"&&wa(o,""+B):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?B!=null&&w==="onScroll"&&yt("scroll",o):B!=null&&O(o,w,B,D))}switch(d){case"input":Ir(o),va(o,m,!1);break;case"textarea":Ir(o),ro(o);break;case"option":m.value!=null&&o.setAttribute("value",""+qe(m.value));break;case"select":o.multiple=!!m.multiple,w=m.value,w!=null?Jr(o,!!m.multiple,w,!1):m.defaultValue!=null&&Jr(o,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=vp)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Pn(l),null;case 6:if(o&&l.stateNode!=null)wE(o,l,o.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(d=Va(Pd.current),Va(Ms.current),kp(l)){if(m=l.stateNode,d=l.memoizedProps,m[Os]=l,(w=m.nodeValue!==d)&&(o=yr,o!==null))switch(o.tag){case 3:yp(m.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&yp(m.nodeValue,d,(o.mode&1)!==0)}w&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Os]=l,l.stateNode=m}return Pn(l),null;case 13:if(vt(Et),m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(bt&&vr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)SC(),Eu(),l.flags|=98560,w=!1;else if(w=kp(l),m!==null&&m.dehydrated!==null){if(o===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Os]=l}else Eu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pn(l),w=!1}else rs!==null&&(g0(rs),rs=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Et.current&1)!==0?cn===0&&(cn=3):w0())),l.updateQueue!==null&&(l.flags|=4),Pn(l),null);case 4:return Iu(),o0(o,l),o===null&&kd(l.stateNode.containerInfo),Pn(l),null;case 10:return Rv(l.type._context),Pn(l),null;case 17:return Zn(l.type)&&bp(),Pn(l),null;case 19:if(vt(Et),w=l.memoizedState,w===null)return Pn(l),null;if(m=(l.flags&128)!==0,D=w.rendering,D===null)if(m)Ld(w,!1);else{if(cn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(D=Np(o),D!==null){for(l.flags|=128,Ld(w,!1),m=D.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)w=d,o=m,w.flags&=14680066,D=w.alternate,D===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=D.childLanes,w.lanes=D.lanes,w.child=D.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=D.memoizedProps,w.memoizedState=D.memoizedState,w.updateQueue=D.updateQueue,w.type=D.type,o=D.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return ht(Et,Et.current&1|2),l.child}o=o.sibling}w.tail!==null&&gt()>Pu&&(l.flags|=128,m=!0,Ld(w,!1),l.lanes=4194304)}else{if(!m)if(o=Np(D),o!==null){if(l.flags|=128,m=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Ld(w,!0),w.tail===null&&w.tailMode==="hidden"&&!D.alternate&&!bt)return Pn(l),null}else 2*gt()-w.renderingStartTime>Pu&&d!==1073741824&&(l.flags|=128,m=!0,Ld(w,!1),l.lanes=4194304);w.isBackwards?(D.sibling=l.child,l.child=D):(d=w.last,d!==null?d.sibling=D:l.child=D,w.last=D)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=gt(),l.sibling=null,d=Et.current,ht(Et,m?d&1|2:d&1),l):(Pn(l),null);case 22:case 23:return v0(),m=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(wr&1073741824)!==0&&(Pn(l),l.subtreeFlags&6&&(l.flags|=8192)):Pn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function kL(o,l){switch(Iv(l),l.tag){case 1:return Zn(l.type)&&bp(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Iu(),vt(Jn),vt(An),Bv(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Fv(l),null;case 13:if(vt(Et),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Eu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return vt(Et),null;case 4:return Iu(),null;case 10:return Rv(l.type._context),null;case 22:case 23:return v0(),null;case 24:return null;default:return null}}var Up=!1,jn=!1,TL=typeof WeakSet=="function"?WeakSet:Set,we=null;function Au(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Nt(o,l,m)}else d.current=null}function bE(o,l,d){try{d()}catch(m){Nt(o,l,m)}}var xE=!1;function _L(o,l){if(wv=vi,o=JS(),dv(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var D=0,V=-1,B=-1,Z=0,ie=0,ae=o,se=null;t:for(;;){for(var fe;ae!==d||y!==0&&ae.nodeType!==3||(V=D+y),ae!==w||m!==0&&ae.nodeType!==3||(B=D+m),ae.nodeType===3&&(D+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)se=ae,ae=fe;for(;;){if(ae===o)break t;if(se===d&&++Z===y&&(V=D),se===w&&++ie===m&&(B=D),(fe=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=fe}d=V===-1||B===-1?null:{start:V,end:B}}else d=null}d=d||{start:0,end:0}}else d=null;for(bv={focusedElem:o,selectionRange:d},vi=!1,we=l;we!==null;)if(l=we,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,we=o;else for(;we!==null;){l=we;try{var be=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var ke=be.memoizedProps,Xt=be.memoizedState,Y=l.stateNode,W=Y.getSnapshotBeforeUpdate(l.elementType===l.type?ke:ss(l.type,ke),Xt);Y.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Nt(l,l.return,ue)}if(o=l.sibling,o!==null){o.return=l.return,we=o;break}we=l.return}return be=xE,xE=!1,be}function Vd(o,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&o)===o){var w=y.destroy;y.destroy=void 0,w!==void 0&&bE(l,d,w)}y=y.next}while(y!==m)}}function Bp(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function a0(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function SE(o){var l=o.alternate;l!==null&&(o.alternate=null,SE(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Os],delete l[_d],delete l[Ev],delete l[uL],delete l[cL])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function CE(o){return o.tag===5||o.tag===3||o.tag===4}function EE(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||CE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function l0(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=vp));else if(m!==4&&(o=o.child,o!==null))for(l0(o,l,d),o=o.sibling;o!==null;)l0(o,l,d),o=o.sibling}function u0(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(u0(o,l,d),o=o.sibling;o!==null;)u0(o,l,d),o=o.sibling}var Sn=null,is=!1;function _o(o,l,d){for(d=d.child;d!==null;)kE(o,l,d),d=d.sibling}function kE(o,l,d){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Ea,d)}catch{}switch(d.tag){case 5:jn||Au(d,l);case 6:var m=Sn,y=is;Sn=null,_o(o,l,d),Sn=m,is=y,Sn!==null&&(is?(o=Sn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):Sn.removeChild(d.stateNode));break;case 18:Sn!==null&&(is?(o=Sn,d=d.stateNode,o.nodeType===8?Cv(o.parentNode,d):o.nodeType===1&&Cv(o,d),go(o)):Cv(Sn,d.stateNode));break;case 4:m=Sn,y=is,Sn=d.stateNode.containerInfo,is=!0,_o(o,l,d),Sn=m,is=y;break;case 0:case 11:case 14:case 15:if(!jn&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var w=y,D=w.destroy;w=w.tag,D!==void 0&&((w&2)!==0||(w&4)!==0)&&bE(d,l,D),y=y.next}while(y!==m)}_o(o,l,d);break;case 1:if(!jn&&(Au(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(V){Nt(d,l,V)}_o(o,l,d);break;case 21:_o(o,l,d);break;case 22:d.mode&1?(jn=(m=jn)||d.memoizedState!==null,_o(o,l,d),jn=m):_o(o,l,d);break;default:_o(o,l,d)}}function TE(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new TL),l.forEach(function(m){var y=ML.bind(null,o,m);d.has(m)||(d.add(m),m.then(y,y))})}}function os(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];try{var w=o,D=l,V=D;e:for(;V!==null;){switch(V.tag){case 5:Sn=V.stateNode,is=!1;break e;case 3:Sn=V.stateNode.containerInfo,is=!0;break e;case 4:Sn=V.stateNode.containerInfo,is=!0;break e}V=V.return}if(Sn===null)throw Error(n(160));kE(w,D,y),Sn=null,is=!1;var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(Z){Nt(y,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)_E(l,o),l=l.sibling}function _E(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(os(l,o),Vs(o),m&4){try{Vd(3,o,o.return),Bp(3,o)}catch(ke){Nt(o,o.return,ke)}try{Vd(5,o,o.return)}catch(ke){Nt(o,o.return,ke)}}break;case 1:os(l,o),Vs(o),m&512&&d!==null&&Au(d,d.return);break;case 5:if(os(l,o),Vs(o),m&512&&d!==null&&Au(d,d.return),o.flags&32){var y=o.stateNode;try{wa(y,"")}catch(ke){Nt(o,o.return,ke)}}if(m&4&&(y=o.stateNode,y!=null)){var w=o.memoizedProps,D=d!==null?d.memoizedProps:w,V=o.type,B=o.updateQueue;if(o.updateQueue=null,B!==null)try{V==="input"&&w.type==="radio"&&w.name!=null&&no(y,w),Xl(V,D);var Z=Xl(V,w);for(D=0;D<B.length;D+=2){var ie=B[D],ae=B[D+1];ie==="style"?Yl(y,ae):ie==="dangerouslySetInnerHTML"?Wf(y,ae):ie==="children"?wa(y,ae):O(y,ie,ae,Z)}switch(V){case"input":ci(y,w);break;case"textarea":$f(y,w);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?Jr(y,!!w.multiple,fe,!1):se!==!!w.multiple&&(w.defaultValue!=null?Jr(y,!!w.multiple,w.defaultValue,!0):Jr(y,!!w.multiple,w.multiple?[]:"",!1))}y[_d]=w}catch(ke){Nt(o,o.return,ke)}}break;case 6:if(os(l,o),Vs(o),m&4){if(o.stateNode===null)throw Error(n(162));y=o.stateNode,w=o.memoizedProps;try{y.nodeValue=w}catch(ke){Nt(o,o.return,ke)}}break;case 3:if(os(l,o),Vs(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{go(l.containerInfo)}catch(ke){Nt(o,o.return,ke)}break;case 4:os(l,o),Vs(o);break;case 13:os(l,o),Vs(o),y=o.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(h0=gt())),m&4&&TE(o);break;case 22:if(ie=d!==null&&d.memoizedState!==null,o.mode&1?(jn=(Z=jn)||ie,os(l,o),jn=Z):os(l,o),Vs(o),m&8192){if(Z=o.memoizedState!==null,(o.stateNode.isHidden=Z)&&!ie&&(o.mode&1)!==0)for(we=o,ie=o.child;ie!==null;){for(ae=we=ie;we!==null;){switch(se=we,fe=se.child,se.tag){case 0:case 11:case 14:case 15:Vd(4,se,se.return);break;case 1:Au(se,se.return);var be=se.stateNode;if(typeof be.componentWillUnmount=="function"){m=se,d=se.return;try{l=m,be.props=l.memoizedProps,be.state=l.memoizedState,be.componentWillUnmount()}catch(ke){Nt(m,d,ke)}}break;case 5:Au(se,se.return);break;case 22:if(se.memoizedState!==null){AE(ae);continue}}fe!==null?(fe.return=se,we=fe):AE(ae)}ie=ie.sibling}e:for(ie=null,ae=o;;){if(ae.tag===5){if(ie===null){ie=ae;try{y=ae.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(V=ae.stateNode,B=ae.memoizedProps.style,D=B!=null&&B.hasOwnProperty("display")?B.display:null,V.style.display=oo("display",D))}catch(ke){Nt(o,o.return,ke)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=Z?"":ae.memoizedProps}catch(ke){Nt(o,o.return,ke)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===o)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===o)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===o)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:os(l,o),Vs(o),m&4&&TE(o);break;case 21:break;default:os(l,o),Vs(o)}}function Vs(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(CE(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(wa(y,""),m.flags&=-33);var w=EE(o);u0(o,w,y);break;case 3:case 4:var D=m.stateNode.containerInfo,V=EE(o);l0(o,V,D);break;default:throw Error(n(161))}}catch(B){Nt(o,o.return,B)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function IL(o,l,d){we=o,IE(o)}function IE(o,l,d){for(var m=(o.mode&1)!==0;we!==null;){var y=we,w=y.child;if(y.tag===22&&m){var D=y.memoizedState!==null||Up;if(!D){var V=y.alternate,B=V!==null&&V.memoizedState!==null||jn;V=Up;var Z=jn;if(Up=D,(jn=B)&&!Z)for(we=y;we!==null;)D=we,B=D.child,D.tag===22&&D.memoizedState!==null?NE(y):B!==null?(B.return=D,we=B):NE(y);for(;w!==null;)we=w,IE(w),w=w.sibling;we=y,Up=V,jn=Z}DE(o)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,we=w):DE(o)}}function DE(o){for(;we!==null;){var l=we;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:jn||Bp(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!jn)if(d===null)m.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:ss(l.type,d.memoizedProps);m.componentDidUpdate(y,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&DC(l,w,m);break;case 3:var D=l.updateQueue;if(D!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}DC(l,D,d)}break;case 5:var V=l.stateNode;if(d===null&&l.flags&4){d=V;var B=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&d.focus();break;case"img":B.src&&(d.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&go(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}jn||l.flags&512&&a0(l)}catch(se){Nt(l,l.return,se)}}if(l===o){we=null;break}if(d=l.sibling,d!==null){d.return=l.return,we=d;break}we=l.return}}function AE(o){for(;we!==null;){var l=we;if(l===o){we=null;break}var d=l.sibling;if(d!==null){d.return=l.return,we=d;break}we=l.return}}function NE(o){for(;we!==null;){var l=we;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Bp(4,l)}catch(B){Nt(l,d,B)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var y=l.return;try{m.componentDidMount()}catch(B){Nt(l,y,B)}}var w=l.return;try{a0(l)}catch(B){Nt(l,w,B)}break;case 5:var D=l.return;try{a0(l)}catch(B){Nt(l,D,B)}}}catch(B){Nt(l,l.return,B)}if(l===o){we=null;break}var V=l.sibling;if(V!==null){V.return=l.return,we=V;break}we=l.return}}var DL=Math.ceil,zp=U.ReactCurrentDispatcher,c0=U.ReactCurrentOwner,Mr=U.ReactCurrentBatchConfig,tt=0,gn=null,rn=null,Cn=0,wr=0,Nu=So(0),cn=0,Fd=null,Ua=0,qp=0,d0=0,Ud=null,tr=null,h0=0,Pu=1/0,_i=null,$p=!1,f0=null,Io=null,Wp=!1,Do=null,Hp=0,Bd=0,p0=null,Gp=-1,Kp=0;function zn(){return(tt&6)!==0?gt():Gp!==-1?Gp:Gp=gt()}function Ao(o){return(o.mode&1)===0?1:(tt&2)!==0&&Cn!==0?Cn&-Cn:hL.transition!==null?(Kp===0&&(Kp=ld()),Kp):(o=Qe,o!==0||(o=window.event,o=o===void 0?16:au(o.type)),o)}function as(o,l,d,m){if(50<Bd)throw Bd=0,p0=null,Error(n(185));Ia(o,d,m),((tt&2)===0||o!==gn)&&(o===gn&&((tt&2)===0&&(qp|=d),cn===4&&No(o,Cn)),nr(o,m),d===1&&tt===0&&(l.mode&1)===0&&(Pu=gt()+500,Sp&&Eo()))}function nr(o,l){var d=o.callbackNode;_a(o,l);var m=mi(o,o===gn?Cn:0);if(m===0)d!==null&&eu(d),o.callbackNode=null,o.callbackPriority=0;else if(l=m&-m,o.callbackPriority!==l){if(d!=null&&eu(d),l===1)o.tag===0?dL(jE.bind(null,o)):yC(jE.bind(null,o)),aL(function(){(tt&6)===0&&Eo()}),d=null;else{switch(ks(m)){case 1:d=tu;break;case 4:d=id;break;case 16:d=Ca;break;case 536870912:d=nu;break;default:d=Ca}d=BE(d,PE.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function PE(o,l){if(Gp=-1,Kp=0,(tt&6)!==0)throw Error(n(327));var d=o.callbackNode;if(ju()&&o.callbackNode!==d)return null;var m=mi(o,o===gn?Cn:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||l)l=Qp(o,m);else{l=m;var y=tt;tt|=2;var w=OE();(gn!==o||Cn!==l)&&(_i=null,Pu=gt()+500,za(o,l));do try{PL();break}catch(V){RE(o,V)}while(!0);jv(),zp.current=w,tt=y,rn!==null?l=0:(gn=null,Cn=0,l=cn)}if(l!==0){if(l===2&&(y=ad(o),y!==0&&(m=y,l=m0(o,y))),l===1)throw d=Fd,za(o,0),No(o,m),nr(o,gt()),d;if(l===6)No(o,m);else{if(y=o.current.alternate,(m&30)===0&&!AL(y)&&(l=Qp(o,m),l===2&&(w=ad(o),w!==0&&(m=w,l=m0(o,w))),l===1))throw d=Fd,za(o,0),No(o,m),nr(o,gt()),d;switch(o.finishedWork=y,o.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:qa(o,tr,_i);break;case 3:if(No(o,m),(m&130023424)===m&&(l=h0+500-gt(),10<l)){if(mi(o,0)!==0)break;if(y=o.suspendedLanes,(y&m)!==m){zn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=Sv(qa.bind(null,o,tr,_i),l);break}qa(o,tr,_i);break;case 4:if(No(o,m),(m&4194240)===m)break;for(l=o.eventTimes,y=-1;0<m;){var D=31-hr(m);w=1<<D,D=l[D],D>y&&(y=D),m&=~w}if(m=y,m=gt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*DL(m/1960))-m,10<m){o.timeoutHandle=Sv(qa.bind(null,o,tr,_i),m);break}qa(o,tr,_i);break;case 5:qa(o,tr,_i);break;default:throw Error(n(329))}}}return nr(o,gt()),o.callbackNode===d?PE.bind(null,o):null}function m0(o,l){var d=Ud;return o.current.memoizedState.isDehydrated&&(za(o,l).flags|=256),o=Qp(o,l),o!==2&&(l=tr,tr=d,l!==null&&g0(l)),o}function g0(o){tr===null?tr=o:tr.push.apply(tr,o)}function AL(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var y=d[m],w=y.getSnapshot;y=y.value;try{if(!ns(w(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function No(o,l){for(l&=~d0,l&=~qp,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-hr(l),m=1<<d;o[d]=-1,l&=~m}}function jE(o){if((tt&6)!==0)throw Error(n(327));ju();var l=mi(o,0);if((l&1)===0)return nr(o,gt()),null;var d=Qp(o,l);if(o.tag!==0&&d===2){var m=ad(o);m!==0&&(l=m,d=m0(o,m))}if(d===1)throw d=Fd,za(o,0),No(o,l),nr(o,gt()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,qa(o,tr,_i),nr(o,gt()),null}function y0(o,l){var d=tt;tt|=1;try{return o(l)}finally{tt=d,tt===0&&(Pu=gt()+500,Sp&&Eo())}}function Ba(o){Do!==null&&Do.tag===0&&(tt&6)===0&&ju();var l=tt;tt|=1;var d=Mr.transition,m=Qe;try{if(Mr.transition=null,Qe=1,o)return o()}finally{Qe=m,Mr.transition=d,tt=l,(tt&6)===0&&Eo()}}function v0(){wr=Nu.current,vt(Nu)}function za(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,oL(d)),rn!==null)for(d=rn.return;d!==null;){var m=d;switch(Iv(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&bp();break;case 3:Iu(),vt(Jn),vt(An),Bv();break;case 5:Fv(m);break;case 4:Iu();break;case 13:vt(Et);break;case 19:vt(Et);break;case 10:Rv(m.type._context);break;case 22:case 23:v0()}d=d.return}if(gn=o,rn=o=Po(o.current,null),Cn=wr=l,cn=0,Fd=null,d0=qp=Ua=0,tr=Ud=null,La!==null){for(l=0;l<La.length;l++)if(d=La[l],m=d.interleaved,m!==null){d.interleaved=null;var y=m.next,w=d.pending;if(w!==null){var D=w.next;w.next=y,m.next=D}d.pending=m}La=null}return o}function RE(o,l){do{var d=rn;try{if(jv(),Pp.current=Mp,jp){for(var m=kt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}jp=!1}if(Fa=0,mn=un=kt=null,jd=!1,Rd=0,c0.current=null,d===null||d.return===null){cn=1,Fd=l,rn=null;break}e:{var w=o,D=d.return,V=d,B=l;if(l=Cn,V.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Z=B,ie=V,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=sE(D);if(fe!==null){fe.flags&=-257,iE(fe,D,V,w,l),fe.mode&1&&rE(w,Z,l),l=fe,B=Z;var be=l.updateQueue;if(be===null){var ke=new Set;ke.add(B),l.updateQueue=ke}else be.add(B);break e}else{if((l&1)===0){rE(w,Z,l),w0();break e}B=Error(n(426))}}else if(bt&&V.mode&1){var Xt=sE(D);if(Xt!==null){(Xt.flags&65536)===0&&(Xt.flags|=256),iE(Xt,D,V,w,l),Nv(Du(B,V));break e}}w=B=Du(B,V),cn!==4&&(cn=2),Ud===null?Ud=[w]:Ud.push(w),w=D;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var Y=tE(w,B,l);IC(w,Y);break e;case 1:V=B;var W=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Io===null||!Io.has(J)))){w.flags|=65536,l&=-l,w.lanes|=l;var ue=nE(w,V,l);IC(w,ue);break e}}w=w.return}while(w!==null)}LE(d)}catch(Te){l=Te,rn===d&&d!==null&&(rn=d=d.return);continue}break}while(!0)}function OE(){var o=zp.current;return zp.current=Mp,o===null?Mp:o}function w0(){(cn===0||cn===3||cn===2)&&(cn=4),gn===null||(Ua&268435455)===0&&(qp&268435455)===0||No(gn,Cn)}function Qp(o,l){var d=tt;tt|=2;var m=OE();(gn!==o||Cn!==l)&&(_i=null,za(o,l));do try{NL();break}catch(y){RE(o,y)}while(!0);if(jv(),tt=d,zp.current=m,rn!==null)throw Error(n(261));return gn=null,Cn=0,cn}function NL(){for(;rn!==null;)ME(rn)}function PL(){for(;rn!==null&&!Sa();)ME(rn)}function ME(o){var l=UE(o.alternate,o,wr);o.memoizedProps=o.pendingProps,l===null?LE(o):rn=l,c0.current=null}function LE(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=EL(d,l,wr),d!==null){rn=d;return}}else{if(d=kL(d,l),d!==null){d.flags&=32767,rn=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{cn=6,rn=null;return}}if(l=l.sibling,l!==null){rn=l;return}rn=l=o}while(l!==null);cn===0&&(cn=5)}function qa(o,l,d){var m=Qe,y=Mr.transition;try{Mr.transition=null,Qe=1,jL(o,l,d,m)}finally{Mr.transition=y,Qe=m}return null}function jL(o,l,d,m){do ju();while(Do!==null);if((tt&6)!==0)throw Error(n(327));d=o.finishedWork;var y=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var w=d.lanes|d.childLanes;if(ov(o,w),o===gn&&(rn=gn=null,Cn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Wp||(Wp=!0,BE(Ca,function(){return ju(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=Mr.transition,Mr.transition=null;var D=Qe;Qe=1;var V=tt;tt|=4,c0.current=null,_L(o,d),_E(d,o),Z4(bv),vi=!!wv,bv=wv=null,o.current=d,IL(d),pi(),tt=V,Qe=D,Mr.transition=w}else o.current=d;if(Wp&&(Wp=!1,Do=o,Hp=y),w=o.pendingLanes,w===0&&(Io=null),np(d.stateNode),nr(o,gt()),l!==null)for(m=o.onRecoverableError,d=0;d<l.length;d++)y=l[d],m(y.value,{componentStack:y.stack,digest:y.digest});if($p)throw $p=!1,o=f0,f0=null,o;return(Hp&1)!==0&&o.tag!==0&&ju(),w=o.pendingLanes,(w&1)!==0?o===p0?Bd++:(Bd=0,p0=o):Bd=0,Eo(),null}function ju(){if(Do!==null){var o=ks(Hp),l=Mr.transition,d=Qe;try{if(Mr.transition=null,Qe=16>o?16:o,Do===null)var m=!1;else{if(o=Do,Do=null,Hp=0,(tt&6)!==0)throw Error(n(331));var y=tt;for(tt|=4,we=o.current;we!==null;){var w=we,D=w.child;if((we.flags&16)!==0){var V=w.deletions;if(V!==null){for(var B=0;B<V.length;B++){var Z=V[B];for(we=Z;we!==null;){var ie=we;switch(ie.tag){case 0:case 11:case 15:Vd(8,ie,w)}var ae=ie.child;if(ae!==null)ae.return=ie,we=ae;else for(;we!==null;){ie=we;var se=ie.sibling,fe=ie.return;if(SE(ie),ie===Z){we=null;break}if(se!==null){se.return=fe,we=se;break}we=fe}}}var be=w.alternate;if(be!==null){var ke=be.child;if(ke!==null){be.child=null;do{var Xt=ke.sibling;ke.sibling=null,ke=Xt}while(ke!==null)}}we=w}}if((w.subtreeFlags&2064)!==0&&D!==null)D.return=w,we=D;else e:for(;we!==null;){if(w=we,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Vd(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,we=Y;break e}we=w.return}}var W=o.current;for(we=W;we!==null;){D=we;var J=D.child;if((D.subtreeFlags&2064)!==0&&J!==null)J.return=D,we=J;else e:for(D=W;we!==null;){if(V=we,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Bp(9,V)}}catch(Te){Nt(V,V.return,Te)}if(V===D){we=null;break e}var ue=V.sibling;if(ue!==null){ue.return=V.return,we=ue;break e}we=V.return}}if(tt=y,Eo(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Ea,o)}catch{}m=!0}return m}finally{Qe=d,Mr.transition=l}}return!1}function VE(o,l,d){l=Du(d,l),l=tE(o,l,1),o=To(o,l,1),l=zn(),o!==null&&(Ia(o,1,l),nr(o,l))}function Nt(o,l,d){if(o.tag===3)VE(o,o,d);else for(;l!==null;){if(l.tag===3){VE(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Io===null||!Io.has(m))){o=Du(d,o),o=nE(l,o,1),l=To(l,o,1),o=zn(),l!==null&&(Ia(l,1,o),nr(l,o));break}}l=l.return}}function RL(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),l=zn(),o.pingedLanes|=o.suspendedLanes&d,gn===o&&(Cn&d)===d&&(cn===4||cn===3&&(Cn&130023424)===Cn&&500>gt()-h0?za(o,0):d0|=d),nr(o,l)}function FE(o,l){l===0&&((o.mode&1)===0?l=1:(l=fo,fo<<=1,(fo&130023424)===0&&(fo=4194304)));var d=zn();o=Ei(o,l),o!==null&&(Ia(o,l,d),nr(o,d))}function OL(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),FE(o,d)}function ML(o,l){var d=0;switch(o.tag){case 13:var m=o.stateNode,y=o.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),FE(o,d)}var UE;UE=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||Jn.current)er=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return er=!1,CL(o,l,d);er=(o.flags&131072)!==0}else er=!1,bt&&(l.flags&1048576)!==0&&vC(l,Ep,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;Fp(o,l),o=l.pendingProps;var y=xu(l,An.current);_u(l,d),y=$v(null,l,m,o,y,d);var w=Wv();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Zn(m)?(w=!0,xp(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Lv(l),y.updater=Lp,l.stateNode=y,y._reactInternals=l,Xv(l,m,o,d),l=t0(null,l,m,!0,w,d)):(l.tag=0,bt&&w&&_v(l),Bn(null,l,y,d),l=l.child),l;case 16:m=l.elementType;e:{switch(Fp(o,l),o=l.pendingProps,y=m._init,m=y(m._payload),l.type=m,y=l.tag=VL(m),o=ss(m,o),y){case 0:l=e0(null,l,m,o,d);break e;case 1:l=dE(null,l,m,o,d);break e;case 11:l=oE(null,l,m,o,d);break e;case 14:l=aE(null,l,m,ss(m.type,o),d);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:ss(m,y),e0(o,l,m,y,d);case 1:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:ss(m,y),dE(o,l,m,y,d);case 3:e:{if(hE(l),o===null)throw Error(n(387));m=l.pendingProps,w=l.memoizedState,y=w.element,_C(o,l),Ap(l,m,null,d);var D=l.memoizedState;if(m=D.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){y=Du(Error(n(423)),l),l=fE(o,l,m,d,y);break e}else if(m!==y){y=Du(Error(n(424)),l),l=fE(o,l,m,d,y);break e}else for(vr=xo(l.stateNode.containerInfo.firstChild),yr=l,bt=!0,rs=null,d=kC(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Eu(),m===y){l=Ti(o,l,d);break e}Bn(o,l,m,d)}l=l.child}return l;case 5:return AC(l),o===null&&Av(l),m=l.type,y=l.pendingProps,w=o!==null?o.memoizedProps:null,D=y.children,xv(m,y)?D=null:w!==null&&xv(m,w)&&(l.flags|=32),cE(o,l),Bn(o,l,D,d),l.child;case 6:return o===null&&Av(l),null;case 13:return pE(o,l,d);case 4:return Vv(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=ku(l,null,m,d):Bn(o,l,m,d),l.child;case 11:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:ss(m,y),oE(o,l,m,y,d);case 7:return Bn(o,l,l.pendingProps,d),l.child;case 8:return Bn(o,l,l.pendingProps.children,d),l.child;case 12:return Bn(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,y=l.pendingProps,w=l.memoizedProps,D=y.value,ht(_p,m._currentValue),m._currentValue=D,w!==null)if(ns(w.value,D)){if(w.children===y.children&&!Jn.current){l=Ti(o,l,d);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var V=w.dependencies;if(V!==null){D=w.child;for(var B=V.firstContext;B!==null;){if(B.context===m){if(w.tag===1){B=ki(-1,d&-d),B.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?B.next=B:(B.next=ie.next,ie.next=B),Z.pending=B}}w.lanes|=d,B=w.alternate,B!==null&&(B.lanes|=d),Ov(w.return,d,l),V.lanes|=d;break}B=B.next}}else if(w.tag===10)D=w.type===l.type?null:w.child;else if(w.tag===18){if(D=w.return,D===null)throw Error(n(341));D.lanes|=d,V=D.alternate,V!==null&&(V.lanes|=d),Ov(D,d,l),D=w.sibling}else D=w.child;if(D!==null)D.return=w;else for(D=w;D!==null;){if(D===l){D=null;break}if(w=D.sibling,w!==null){w.return=D.return,D=w;break}D=D.return}w=D}Bn(o,l,y.children,d),l=l.child}return l;case 9:return y=l.type,m=l.pendingProps.children,_u(l,d),y=Rr(y),m=m(y),l.flags|=1,Bn(o,l,m,d),l.child;case 14:return m=l.type,y=ss(m,l.pendingProps),y=ss(m.type,y),aE(o,l,m,y,d);case 15:return lE(o,l,l.type,l.pendingProps,d);case 17:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:ss(m,y),Fp(o,l),l.tag=1,Zn(m)?(o=!0,xp(l)):o=!1,_u(l,d),ZC(l,m,y),Xv(l,m,y,d),t0(null,l,m,!0,o,d);case 19:return gE(o,l,d);case 22:return uE(o,l,d)}throw Error(n(156,l.tag))};function BE(o,l){return sd(o,l)}function LL(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(o,l,d,m){return new LL(o,l,d,m)}function b0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function VL(o){if(typeof o=="function")return b0(o)?1:0;if(o!=null){if(o=o.$$typeof,o===q)return 11;if(o===Pe)return 14}return 2}function Po(o,l){var d=o.alternate;return d===null?(d=Lr(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function Yp(o,l,d,m,y,w){var D=2;if(m=o,typeof o=="function")b0(o)&&(D=1);else if(typeof o=="string")D=5;else e:switch(o){case j:return $a(d.children,y,w,l);case I:D=8,y|=8;break;case N:return o=Lr(12,d,l,y|2),o.elementType=N,o.lanes=w,o;case L:return o=Lr(13,d,l,y),o.elementType=L,o.lanes=w,o;case Ee:return o=Lr(19,d,l,y),o.elementType=Ee,o.lanes=w,o;case ve:return Xp(d,y,w,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:D=10;break e;case F:D=9;break e;case q:D=11;break e;case Pe:D=14;break e;case ye:D=16,m=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=Lr(D,d,l,y),l.elementType=o,l.type=m,l.lanes=w,l}function $a(o,l,d,m){return o=Lr(7,o,m,l),o.lanes=d,o}function Xp(o,l,d,m){return o=Lr(22,o,m,l),o.elementType=ve,o.lanes=d,o.stateNode={isHidden:!1},o}function x0(o,l,d){return o=Lr(6,o,null,l),o.lanes=d,o}function S0(o,l,d){return l=Lr(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function FL(o,l,d,m,y){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ud(0),this.expirationTimes=ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ud(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function C0(o,l,d,m,y,w,D,V,B){return o=new FL(o,l,d,V,B),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Lr(3,null,null,l),o.current=w,w.stateNode=o,w.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lv(w),o}function UL(o,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:m==null?null:""+m,children:o,containerInfo:l,implementation:d}}function zE(o){if(!o)return Co;o=o._reactInternals;e:{if(es(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Zn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(Zn(d))return mC(o,d,l)}return l}function qE(o,l,d,m,y,w,D,V,B){return o=C0(d,m,!0,o,y,w,D,V,B),o.context=zE(null),d=o.current,m=zn(),y=Ao(d),w=ki(m,y),w.callback=l??null,To(d,w,y),o.current.lanes=y,Ia(o,y,m),nr(o,m),o}function Jp(o,l,d,m){var y=l.current,w=zn(),D=Ao(y);return d=zE(d),l.context===null?l.context=d:l.pendingContext=d,l=ki(w,D),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=To(y,l,D),o!==null&&(as(o,y,D,w),Dp(o,y,D)),D}function Zp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function $E(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function E0(o,l){$E(o,l),(o=o.alternate)&&$E(o,l)}function BL(){return null}var WE=typeof reportError=="function"?reportError:function(o){console.error(o)};function k0(o){this._internalRoot=o}em.prototype.render=k0.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));Jp(o,l,null,null)},em.prototype.unmount=k0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Ba(function(){Jp(null,o,null,null)}),l[bi]=null}};function em(o){this._internalRoot=o}em.prototype.unstable_scheduleHydration=function(o){if(o){var l=fd();o={blockedOn:null,target:o,priority:l};for(var d=0;d<fr.length&&l!==0&&l<fr[d].priority;d++);fr.splice(d,0,o),d===0&&iu(o)}};function T0(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function tm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function HE(){}function zL(o,l,d,m,y){if(y){if(typeof m=="function"){var w=m;m=function(){var Z=Zp(D);w.call(Z)}}var D=qE(l,m,o,0,null,!1,!1,"",HE);return o._reactRootContainer=D,o[bi]=D.current,kd(o.nodeType===8?o.parentNode:o),Ba(),D}for(;y=o.lastChild;)o.removeChild(y);if(typeof m=="function"){var V=m;m=function(){var Z=Zp(B);V.call(Z)}}var B=C0(o,0,!1,null,null,!1,!1,"",HE);return o._reactRootContainer=B,o[bi]=B.current,kd(o.nodeType===8?o.parentNode:o),Ba(function(){Jp(l,B,d,m)}),B}function nm(o,l,d,m,y){var w=d._reactRootContainer;if(w){var D=w;if(typeof y=="function"){var V=y;y=function(){var B=Zp(D);V.call(B)}}Jp(l,D,o,y)}else D=zL(d,l,o,y,m);return Zp(D)}dd=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=it(l.pendingLanes);d!==0&&(cd(l,d|1),nr(l,gt()),(tt&6)===0&&(Pu=gt()+500,Eo()))}break;case 13:Ba(function(){var m=Ei(o,1);if(m!==null){var y=zn();as(m,o,1,y)}}),E0(o,1)}},ru=function(o){if(o.tag===13){var l=Ei(o,134217728);if(l!==null){var d=zn();as(l,o,134217728,d)}E0(o,134217728)}},hd=function(o){if(o.tag===13){var l=Ao(o),d=Ei(o,l);if(d!==null){var m=zn();as(d,o,l,m)}E0(o,l)}},fd=function(){return Qe},pd=function(o,l){var d=Qe;try{return Qe=o,l()}finally{Qe=d}},di=function(o,l,d){switch(l){case"input":if(ci(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var y=wp(m);if(!y)throw Error(n(90));Dr(m),ci(m,y)}}}break;case"textarea":$f(o,d);break;case"select":l=d.value,l!=null&&Jr(o,!!d.multiple,l,!1)}},Gf=y0,Kf=Ba;var qL={usingClientEntryPoint:!1,Events:[Id,wu,wp,lo,uo,y0]},zd={findFiberByHostInstance:ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$L={bundleType:zd.bundleType,version:zd.version,rendererPackageName:zd.rendererPackageName,rendererConfig:zd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=tp(o),o===null?null:o.stateNode},findFiberByHostInstance:zd.findFiberByHostInstance||BL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rm.isDisabled&&rm.supportsFiber)try{Ea=rm.inject($L),dr=rm}catch{}}return rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qL,rr.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T0(l))throw Error(n(200));return UL(o,l,null,d)},rr.createRoot=function(o,l){if(!T0(o))throw Error(n(299));var d=!1,m="",y=WE;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=C0(o,1,!1,null,null,d,!1,m,y),o[bi]=l.current,kd(o.nodeType===8?o.parentNode:o),new k0(l)},rr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=tp(l),o=o===null?null:o.stateNode,o},rr.flushSync=function(o){return Ba(o)},rr.hydrate=function(o,l,d){if(!tm(l))throw Error(n(200));return nm(null,o,l,!0,d)},rr.hydrateRoot=function(o,l,d){if(!T0(o))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,y=!1,w="",D=WE;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(D=d.onRecoverableError)),l=qE(l,null,o,1,d??null,y,!1,w,D),o[bi]=l.current,kd(o),m)for(o=0;o<m.length;o++)d=m[o],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new em(l)},rr.render=function(o,l,d){if(!tm(l))throw Error(n(200));return nm(null,o,l,!1,d)},rr.unmountComponentAtNode=function(o){if(!tm(o))throw Error(n(40));return o._reactRootContainer?(Ba(function(){nm(null,null,o,!1,function(){o._reactRootContainer=null,o[bi]=null})}),!0):!1},rr.unstable_batchedUpdates=y0,rr.unstable_renderSubtreeIntoContainer=function(o,l,d,m){if(!tm(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return nm(o,l,d,!1,m)},rr.version="18.3.1-next-f1338f8080-20240426",rr}var dk;function lD(){if(dk)return _0.exports;dk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_0.exports=h3(),_0.exports}var hk;function f3(){if(hk)return sm;hk=1;var t=lD();return sm.createRoot=t.createRoot,sm.hydrateRoot=t.hydrateRoot,sm}var p3=f3();const m3=hx(p3),g3="modulepreload",y3=function(t){return"/"+t},fk={},Kt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=y3(c),c in fk)return;fk[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":g3,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,C)=>{g.addEventListener("load",v),g.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function pk({size:t="md",variant:e="circle",className:n=""}){const r={xs:{wrapper:"w-6 h-6",img:"w-5 h-5"},sm:{wrapper:"w-8 h-8",img:"w-6 h-6"},md:{wrapper:"w-12 h-12",img:"w-10 h-10"},lg:{wrapper:"w-20 h-20",img:"w-16 h-16"},xl:{wrapper:"w-32 h-32",img:"w-24 h-24"}},s=r[t]||r.md;return x.jsx("div",{className:`${e==="circle"?"bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full shadow-lg overflow-hidden flex items-center justify-center":""} ${s.wrapper} ${n}`.trim(),children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:`${s.img} object-contain ${e==="circle"?"transform -rotate-12":""}`,loading:"lazy"})})}const v3=()=>{};var mk={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},w3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],u=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},cD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,u=a?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,p=i>>2,g=(i&3)<<4|u>>4;let v=(u&15)<<2|h>>6,C=h&63;c||(C=64,a||(v=64)),r.push(n[p],n[g],n[v],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):w3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const c=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||c==null)throw new b3;const h=i<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),c!==64){const g=u<<6&192|c;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class b3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x3=function(t){const e=uD(t);return cD.encodeByteArray(e,!0)},cg=function(t){return x3(t).replace(/\./g,"")},dD=function(t){try{return cD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const S3=()=>hD().__FIREBASE_DEFAULTS__,C3=()=>{if(typeof process>"u"||typeof mk>"u")return;const t=mk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},E3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dD(t[1]);return e&&JSON.parse(e)},ry=()=>{try{return v3()||S3()||C3()||E3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fD=t=>{var e,n;return(n=(e=ry())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},pD=t=>{const e=fD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mD=()=>{var t;return(t=ry())==null?void 0:t.config},gD=t=>{var e;return(e=ry())==null?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Fl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mx(t){return(await fetch(t,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[cg(JSON.stringify(n)),cg(JSON.stringify(a)),""].join(".")}const Sh={};function T3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sh))Sh[e]?t.emulator.push(e):t.prod.push(e);return t}function _3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gk=!1;function gx(t,e){if(typeof window>"u"||typeof document>"u"||!Fl(window.location.host)||Sh[t]===e||Sh[t]||gk)return;Sh[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=T3().prod.length>0;function i(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{gk=!0,i()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=_3(r),v=n("text"),C=document.getElementById(v)||document.createElement("span"),_=n("learnmore"),k=document.getElementById(_)||document.createElement("a"),T=n("preprendIcon"),A=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const P=g.element;a(P),h(k,_);const O=c();u(A,T),P.append(A,C,k,O),document.body.appendChild(P)}s?(C.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function vD(){var t;const e=(t=ry())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N3(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wD(){return!vD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bD(){return!vD()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function sy(){try{return typeof indexedDB=="object"}catch{return!1}}function vx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function xD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const P3="FirebaseError";class Xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=P3,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?j3(i,r):"Error",u=`${this.serviceName}: ${a} (${s}).`;return new Xr(s,u,r)}}function j3(t,e){return t.replace(R3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const R3=/\{\$([^}]+)}/g;function O3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ra(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(yk(i)&&yk(a)){if(!ra(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function yk(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function ph(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function M3(t,e){const n=new L3(t,e);return n.subscribe.bind(n)}class L3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=I0),s.error===void 0&&(s.error=I0),s.complete===void 0&&(s.complete=I0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function I0(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const F3=1e3,U3=2,B3=14400*1e3,z3=.5;function vk(t,e=F3,n=U3){const r=e*Math.pow(n,t),s=Math.round(z3*r*(Math.random()-.5)*2);return Math.min(B3,r+s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Dt(t){return t&&t._delegate?t._delegate:t}class Yr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nl="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class q3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new k3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W3(e))try{this.getOrInitializeService({instanceIdentifier:nl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=nl){return this.instances.has(e)}getOptions(e=nl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=nl){return this.component?this.component.multipleInstances?e:nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $3(t){return t===nl?void 0:t}function W3(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class H3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new q3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const G3={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},K3=Ge.INFO,Q3={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},Y3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Q3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iy{constructor(e){this.name=e,this._logLevel=K3,this._logHandler=Y3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const X3=(t,e)=>e.some(n=>t instanceof n);let wk,bk;function J3(){return wk||(wk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z3(){return bk||(bk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SD=new WeakMap,Vw=new WeakMap,CD=new WeakMap,D0=new WeakMap,wx=new WeakMap;function e5(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Xo(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&SD.set(n,t)}).catch(()=>{}),wx.set(e,t),e}function t5(t){if(Vw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Vw.set(t,e)}let Fw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function n5(t){Fw=t(Fw)}function r5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(A0(this),e,...n);return CD.set(r,e.sort?e.sort():[e]),Xo(r)}:Z3().includes(t)?function(...e){return t.apply(A0(this),e),Xo(SD.get(this))}:function(...e){return Xo(t.apply(A0(this),e))}}function s5(t){return typeof t=="function"?r5(t):(t instanceof IDBTransaction&&t5(t),X3(t,J3())?new Proxy(t,Fw):t)}function Xo(t){if(t instanceof IDBRequest)return e5(t);if(D0.has(t))return D0.get(t);const e=s5(t);return e!==t&&(D0.set(t,e),wx.set(e,t)),e}const A0=t=>wx.get(t);function ED(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),u=Xo(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Xo(a.result),c.oldVersion,c.newVersion,Xo(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const i5=["get","getKey","getAll","getAllKeys","count"],o5=["put","add","delete","clear"],N0=new Map;function xk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(N0.get(e))return N0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=o5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||i5.includes(n)))return;const i=async function(a,...u){const c=this.transaction(a,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),s&&c.done]))[0]};return N0.set(e,i),i}n5(t=>({...t,get:(e,n,r)=>xk(e,n)||t.get(e,n,r),has:(e,n)=>!!xk(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class a5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(l5(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function l5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uw="@firebase/app",Sk="0.14.5";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fi=new iy("@firebase/app"),u5="@firebase/app-compat",c5="@firebase/analytics-compat",d5="@firebase/analytics",h5="@firebase/app-check-compat",f5="@firebase/app-check",p5="@firebase/auth",m5="@firebase/auth-compat",g5="@firebase/database",y5="@firebase/data-connect",v5="@firebase/database-compat",w5="@firebase/functions",b5="@firebase/functions-compat",x5="@firebase/installations",S5="@firebase/installations-compat",C5="@firebase/messaging",E5="@firebase/messaging-compat",k5="@firebase/performance",T5="@firebase/performance-compat",_5="@firebase/remote-config",I5="@firebase/remote-config-compat",D5="@firebase/storage",A5="@firebase/storage-compat",N5="@firebase/firestore",P5="@firebase/ai",j5="@firebase/firestore-compat",R5="firebase",O5="12.5.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bw="[DEFAULT]",M5={[Uw]:"fire-core",[u5]:"fire-core-compat",[d5]:"fire-analytics",[c5]:"fire-analytics-compat",[f5]:"fire-app-check",[h5]:"fire-app-check-compat",[p5]:"fire-auth",[m5]:"fire-auth-compat",[g5]:"fire-rtdb",[y5]:"fire-data-connect",[v5]:"fire-rtdb-compat",[w5]:"fire-fn",[b5]:"fire-fn-compat",[x5]:"fire-iid",[S5]:"fire-iid-compat",[C5]:"fire-fcm",[E5]:"fire-fcm-compat",[k5]:"fire-perf",[T5]:"fire-perf-compat",[_5]:"fire-rc",[I5]:"fire-rc-compat",[D5]:"fire-gcs",[A5]:"fire-gcs-compat",[N5]:"fire-fst",[j5]:"fire-fst-compat",[P5]:"fire-vertex","fire-js":"fire-js",[R5]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dg=new Map,L5=new Map,zw=new Map;function Ck(t,e){try{t.container.addComponent(e)}catch(n){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fs(t){const e=t.name;if(zw.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;zw.set(e,t);for(const n of dg.values())Ck(n,t);for(const n of L5.values())Ck(n,t);return!0}function fa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cr(t){return t==null?!1:t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new Ul("app","Firebase",V5);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class F5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bl=O5;function kD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Bw,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Jo.create("bad-app-name",{appName:String(s)});if(n||(n=mD()),!n)throw Jo.create("no-options");const i=dg.get(s);if(i){if(ra(n,i.options)&&ra(r,i.config))return i;throw Jo.create("duplicate-app",{appName:s})}const a=new H3(s);for(const c of zw.values())a.addComponent(c);const u=new F5(n,r,a);return dg.set(s,u),u}function oy(t=Bw){const e=dg.get(t);if(!e&&t===Bw&&mD())return kD();if(!e)throw Jo.create("no-app",{appName:t});return e}function ur(t,e,n){let r=M5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(a.join(" "));return}fs(new Yr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const U5="firebase-heartbeat-database",B5=1,Vh="firebase-heartbeat-store";let P0=null;function TD(){return P0||(P0=ED(U5,B5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),P0}async function z5(t){try{const e=(await TD()).transaction(Vh),n=await e.objectStore(Vh).get(_D(t));return await e.done,n}catch(e){if(e instanceof Xr)Fi.warn(e.message);else{const n=Jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(n.message)}}}async function Ek(t,e){try{const n=(await TD()).transaction(Vh,"readwrite");await n.objectStore(Vh).put(e,_D(t)),await n.done}catch(n){if(n instanceof Xr)Fi.warn(n.message);else{const r=Jo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fi.warn(r.message)}}}function _D(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const q5=1024,$5=30;class W5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kk();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>$5){const i=K5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kk(),{heartbeatsToSend:r,unsentEntries:s}=H5(this._heartbeatsCache.heartbeats),i=cg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Fi.warn(n),""}}}function kk(){return new Date().toISOString().substring(0,10)}function H5(t,e=q5){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Tk(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Tk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class G5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sy()?vx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await z5(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Ek(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Ek(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Tk(t){return cg(JSON.stringify({version:2,heartbeats:t})).length}function K5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Q5(t){fs(new Yr("platform-logger",e=>new a5(e),"PRIVATE")),fs(new Yr("heartbeat",e=>new W5(e),"PRIVATE")),ur(Uw,Sk,t),ur(Uw,Sk,"esm2020"),ur("fire-js","")}Q5("");function ID(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y5=ID,DD=new Ul("auth","Firebase",ID());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hg=new iy("@firebase/auth");function X5(t,...e){hg.logLevel<=Ge.WARN&&hg.warn(`Auth (${Bl}): ${t}`,...e)}function jm(t,...e){hg.logLevel<=Ge.ERROR&&hg.error(`Auth (${Bl}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ps(t,...e){throw bx(t,...e)}function Hs(t,...e){return bx(t,...e)}function AD(t,e,n){const r={...Y5(),[e]:n};return new Ul("auth","Firebase",r).create(e,{appName:t.name})}function Li(t){return AD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DD.create(t,...e)}function Oe(t,e,...n){if(!t)throw bx(e,...n)}function ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jm(e),new Error(e)}function Ui(t,e){t||ji(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function J5(){return _k()==="http:"||_k()==="https:"}function _k(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Z5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J5()||yx()||"connection"in navigator)?navigator.onLine:!0}function e6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=I3()||A3()}get(){return Z5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xx(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ND{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const t6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const n6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r6=new gf(3e4,6e4);function Qi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Yi(t,e,n,r,s={}){return PD(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const u=mf({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:c,...i};return D3()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Fl(t.emulatorConfig.host)&&(h.credentials="include"),ND.fetch()(await jD(t,t.config.apiHost,n,u),h)})}async function PD(t,e,n){t._canInitEmulator=!1;const r={...t6,...e};try{const s=new i6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw im(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const u=i.ok?a.errorMessage:a.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw im(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw im(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw im(t,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw AD(t,p,h);ps(t,p)}}catch(s){if(s instanceof Xr)throw s;ps(t,"network-request-failed",{message:String(s)})}}async function yf(t,e,n,r,s={}){const i=await Yi(t,e,n,r,s);return"mfaPendingCredential"in i&&ps(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function jD(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?xx(t.config,s):`${t.config.apiScheme}://${s}`;return n6.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function s6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hs(this.auth,"network-request-failed")),r6.get())})}}function im(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Hs(t,e,r);return s.customData._tokenResponse=n,s}function Ik(t){return t!==void 0&&t.enterprise!==void 0}class o6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return s6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function a6(t,e){return Yi(t,"GET","/v2/recaptchaConfig",Qi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function l6(t,e){return Yi(t,"POST","/v1/accounts:delete",e)}async function fg(t,e){return Yi(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ch(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u6(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),s=Sx(r);Oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ch(j0(s.auth_time)),issuedAtTime:Ch(j0(s.iat)),expirationTime:Ch(j0(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function j0(t){return Number(t)*1e3}function Sx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jm("JWT malformed, contained fewer than 3 sections"),null;try{const s=dD(n);return s?JSON.parse(s):(jm("Failed to decode base64 JWT payload"),null)}catch(s){return jm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Dk(t){const e=Sx(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Fh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xr&&c6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function c6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class d6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $w{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ch(this.lastLoginAt),this.creationTime=Ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function pg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Fh(t,fg(n,{idToken:r}));Oe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=(e=i.providerUserInfo)!=null&&e.length?RD(i.providerUserInfo):[],u=f6(t.providerData,a),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(u!=null&&u.length),p=c?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new $w(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function h6(t){const e=Dt(t);await pg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f6(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function RD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function p6(t,e){const n=await PD(t,{},async()=>{const r=mf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await jD(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&Fl(t.emulatorConfig.host)&&(c.credentials="include"),ND.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m6(t,e){return Yi(t,"POST","/v2/accounts:revokeToken",Qi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=Dk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await p6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new dc;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Oe(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Oe(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dc,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ro(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ds{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new d6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $w(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Fh(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return u6(this,e)}reload(){return h6(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cr(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await Fh(this,l6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:C,providerData:_,stsTokenManager:k}=n;Oe(g&&k,e,"internal-error");const T=dc.fromJSON(this.name,k);Oe(typeof g=="string",e,"internal-error"),Ro(r,e.name),Ro(s,e.name),Oe(typeof v=="boolean",e,"internal-error"),Oe(typeof C=="boolean",e,"internal-error"),Ro(i,e.name),Ro(a,e.name),Ro(u,e.name),Ro(c,e.name),Ro(h,e.name),Ro(p,e.name);const A=new ds({uid:g,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:C,photoURL:a,phoneNumber:i,tenantId:u,stsTokenManager:T,createdAt:h,lastLoginAt:p});return _&&Array.isArray(_)&&(A.providerData=_.map(P=>({...P}))),c&&(A._redirectEventId=c),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new dc;s.updateFromServerResponse(n);const i=new ds({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await pg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?RD(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new dc;u.updateFromIdToken(r);const c=new ds({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new $w(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,h),c}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ak=new Map;function Ri(t){Ui(t instanceof Function,"Expected a class definition");let e=Ak.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ak.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OD.type="NONE";const Nk=OD;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Rm(t,e,n){return`firebase:${t}:${e}:${n}`}class hc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Rm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Rm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fg(this.auth,{idToken:e}).catch(()=>{});return n?ds._fromGetAccountInfoResponse(this.auth,n,e):null}return ds._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hc(Ri(Nk),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Ri(Nk);const a=Rm(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(a);if(p){let g;if(typeof p=="string"){const v=await fg(e,{idToken:p}).catch(()=>{});if(!v)break;g=await ds._fromGetAccountInfoResponse(e,v,p)}else g=ds._fromJSON(e,p);h!==i&&(u=g),i=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new hc(i,e,r):(i=c[0],u&&await i._set(a,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(a)}catch{}})),new hc(i,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BD(e))return"Blackberry";if(zD(e))return"Webos";if(LD(e))return"Safari";if((e.includes("chrome/")||VD(e))&&!e.includes("edge/"))return"Chrome";if(UD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MD(t=fn()){return/firefox\//i.test(t)}function LD(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VD(t=fn()){return/crios\//i.test(t)}function FD(t=fn()){return/iemobile/i.test(t)}function UD(t=fn()){return/android/i.test(t)}function BD(t=fn()){return/blackberry/i.test(t)}function zD(t=fn()){return/webos/i.test(t)}function Cx(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g6(t=fn()){var e;return Cx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function y6(){return N3()&&document.documentMode===10}function qD(t=fn()){return Cx(t)||UD(t)||zD(t)||BD(t)||/windows phone/i.test(t)||FD(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $D(t,e=[]){let n;switch(t){case"Browser":n=Pk(fn());break;case"Worker":n=`${Pk(fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bl}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class v6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,u)=>{try{const c=e(i);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function w6(t,e={}){return Yi(t,"GET","/v2/passwordPolicy",Qi(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const b6=6;class x6{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??b6,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jk(this),this.idTokenSubscription=new jk(this),this.beforeStateQueue=new v6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ri(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await hc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fg(this,{idToken:e}),r=await ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)==null?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&c!=null&&c.user&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cr(this.app))return Promise.reject(Li(this));const n=e?Dt(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cr(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cr(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w6(this),n=new x6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ul("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await m6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ri(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await hc.create(this,[Ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(u,this,"internal-error"),u.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$D(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return n!=null&&n.error&&X5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pa(t){return Dt(t)}let jk=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=M3(e=>this.observer=e)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ay={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C6(t){ay=t}function WD(t){return ay.loadJS(t)}function E6(){return ay.recaptchaEnterpriseScript}function k6(){return ay.gapiScript}function T6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _6{constructor(){this.enterprise=new I6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class I6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const D6="recaptcha-enterprise",HD="NO_RECAPTCHA";class A6{constructor(e){this.type=D6,this.auth=pa(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,u)=>{a6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new o6(c);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,a(h.siteKey)}}).catch(c=>{u(c)})})}function s(i,a,u){const c=window.grecaptcha;Ik(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(h=>{a(h)}).catch(()=>{a(HD)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _6().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(u=>{if(!n&&Ik(window.grecaptcha))s(u,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=E6();c.length!==0&&(c+=u),WD(c).then(()=>{s(u,i,a)}).catch(h=>{a(h)})}}).catch(u=>{a(u)})})}}async function Rk(t,e,n,r=!1,s=!1){const i=new A6(t);let a;if(s)a=HD;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function mg(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Rk(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Rk(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function N6(t,e){const n=fa(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(ra(s,e??{}))return r;ps(r,"already-initialized")}return n.initialize({options:e})}function P6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function j6(t,e,n){const r=pa(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=GD(e),{host:a,port:u}=R6(e),c=u===null?"":`:${u}`,h={url:`${i}//${a}${c}/`},p=Object.freeze({host:a,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(ra(h,r.config.emulator)&&ra(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Fl(a)?(mx(`${i}//${a}${c}`),gx("Auth",!0)):O6()}function GD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function R6(t){const e=GD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Ok(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:Ok(a)}}}function Ok(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function O6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ex{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function M6(t,e){return Yi(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function L6(t,e){return yf(t,"POST","/v1/accounts:signInWithPassword",Qi(t,e))}async function V6(t,e){return Yi(t,"POST","/v1/accounts:sendOobCode",Qi(t,e))}async function F6(t,e){return V6(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function U6(t,e){return yf(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))}async function B6(t,e){return yf(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uh extends Ex{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Uh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Uh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mg(e,n,"signInWithPassword",L6);case"emailLink":return U6(e,{email:this._email,oobCode:this._password});default:ps(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mg(e,r,"signUpPassword",M6);case"emailLink":return B6(e,{idToken:n,email:this._email,oobCode:this._password});default:ps(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function fc(t,e){return yf(t,"POST","/v1/accounts:signInWithIdp",Qi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const z6="http://localhost";class El extends Ex{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new El(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ps("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new El(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return fc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fc(e,n)}buildRequest(){const e={requestUri:z6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mf(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function q6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $6(t){const e=fh(ph(t)).link,n=e?fh(ph(e)).deep_link_id:null,r=fh(ph(t)).deep_link_id;return(r?fh(ph(r)).link:null)||r||n||e||t}class kx{constructor(e){const n=fh(ph(e)),r=n.apiKey??null,s=n.oobCode??null,i=q6(n.mode??null);Oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=$6(e);try{return new kx(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mc{constructor(){this.providerId=Mc.PROVIDER_ID}static credential(e,n){return Uh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=kx.parseLink(n);return Oe(r,"argument-error"),Uh._fromEmailAndCode(e,r.code,r.tenantId)}}Mc.PROVIDER_ID="password";Mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vf extends KD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wo extends vf{constructor(){super("facebook.com")}static credential(e){return El._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wo.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ho extends vf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return El._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ho.credential(n,r)}catch{return null}}}Ho.GOOGLE_SIGN_IN_METHOD="google.com";Ho.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Go extends vf{constructor(){super("github.com")}static credential(e){return El._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Go.credential(e.oauthAccessToken)}catch{return null}}}Go.GITHUB_SIGN_IN_METHOD="github.com";Go.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ko extends vf{constructor(){super("twitter.com")}static credential(e,n){return El._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ko.credential(n,r)}catch{return null}}}Ko.TWITTER_SIGN_IN_METHOD="twitter.com";Ko.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function W6(t,e){return yf(t,"POST","/v1/accounts:signUp",Qi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ds._fromIdTokenResponse(e,r,s),a=Mk(r);return new kl({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Mk(r);return new kl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Mk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gg extends Xr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gg(e,n,r,s)}}function QD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gg._fromErrorAndOperation(t,s,e,r):s})}async function H6(t,e,n=!1){const r=await Fh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return kl._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function G6(t,e,n=!1){const{auth:r}=t;if(Cr(r.app))return Promise.reject(Li(r));const s="reauthenticate";try{const i=await Fh(t,QD(r,s,e,t),n);Oe(i.idToken,r,"internal-error");const a=Sx(i.idToken);Oe(a,r,"internal-error");const{sub:u}=a;return Oe(t.uid===u,r,"user-mismatch"),kl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ps(r,"user-mismatch"),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function YD(t,e,n=!1){if(Cr(t.app))return Promise.reject(Li(t));const r="signIn",s=await QD(t,r,e),i=await kl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function K6(t,e){return YD(pa(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function XD(t){const e=pa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Q6(t,e,n){const r=pa(t);await mg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",F6)}async function Y6(t,e,n){if(Cr(t.app))return Promise.reject(Li(t));const r=pa(t),s=await mg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",W6).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&XD(t),a}),i=await kl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function X6(t,e,n){return Cr(t.app)?Promise.reject(Li(t)):K6(Dt(t),Mc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XD(t),r})}function J6(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function Z6(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function eV(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function tV(t){return Dt(t).signOut()}const yg="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yg,"1"),this.storage.removeItem(yg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nV=1e3,rV=10;class ZD extends JD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);y6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,rV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},nV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZD.type="LOCAL";const sV=ZD;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eA extends JD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eA.type="SESSION";const tA=eA;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ly{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ly(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(a).map(async h=>h(n.origin,i)),c=await iV(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ly.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Tx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((u,c)=>{const h=Tx("",20);s.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(v.data.response);break;default:clearTimeout(p),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gs(){return window}function aV(t){Gs().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nA(){return typeof Gs().WorkerGlobalScope<"u"&&typeof Gs().importScripts=="function"}async function lV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function cV(){return nA()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rA="firebaseLocalStorageDb",dV=1,vg="firebaseLocalStorage",sA="fbase_key";class wf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uy(t,e){return t.transaction([vg],e?"readwrite":"readonly").objectStore(vg)}function hV(){const t=indexedDB.deleteDatabase(rA);return new wf(t).toPromise()}function Ww(){const t=indexedDB.open(rA,dV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vg,{keyPath:sA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vg)?e(r):(r.close(),await hV(),e(await Ww()))})})}async function Lk(t,e,n){const r=uy(t,!0).put({[sA]:e,value:n});return new wf(r).toPromise()}async function fV(t,e){const n=uy(t,!1).get(e),r=await new wf(n).toPromise();return r===void 0?null:r.value}function Vk(t,e){const n=uy(t,!0).delete(e);return new wf(n).toPromise()}const pV=800,mV=3;class iA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ww(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ly._getInstance(cV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lV(),!this.activeServiceWorker)return;this.sender=new oV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(e=r[0])!=null&&e.fulfilled&&(n=r[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ww();return await Lk(e,yg,"1"),await Vk(e,yg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=uy(s,!1).getAll();return new wf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iA.type="LOCAL";const gV=iA;new gf(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yV(t,e){return e?Ri(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _x extends Ex{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vV(t){return YD(t.auth,new _x(t),t.bypassAuthState)}function wV(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),G6(n,new _x(t),t.bypassAuthState)}async function bV(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),H6(n,new _x(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vV;case"linkViaPopup":case"linkViaRedirect":return bV;case"reauthViaPopup":case"reauthViaRedirect":return wV;default:ps(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xV=new gf(2e3,1e4);class ic extends oA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ic.currentPopupAction&&ic.currentPopupAction.cancel(),ic.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=Tx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ic.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xV.get())};e()}}ic.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const SV="pendingRedirect",Om=new Map;class CV extends oA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Om.get(this.auth._key());if(!e){try{const n=await EV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Om.set(this.auth._key(),e)}return this.bypassAuthState||Om.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EV(t,e){const n=_V(e),r=TV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function kV(t,e){Om.set(t._key(),e)}function TV(t){return Ri(t._redirectPersistence)}function _V(t){return Rm(SV,t.config.apiKey,t.name)}async function IV(t,e,n=!1){if(Cr(t.app))return Promise.reject(Li(t));const r=pa(t),s=yV(r,e),i=await new CV(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DV=600*1e3;class AV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aA(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fk(e))}saveEventToCache(e){this.cachedEventUids.add(Fk(e)),this.lastProcessedEventTime=Date.now()}}function Fk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aA(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function PV(t,e={}){return Yi(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RV=/^https?/;async function OV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PV(t);for(const n of e)try{if(MV(n))return}catch{}ps(t,"unauthorized-domain")}function MV(t){const e=qw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!RV.test(n))return!1;if(jV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const LV=new gf(3e4,6e4);function Uk(){const t=Gs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VV(t){return new Promise((e,n)=>{var r,s,i;function a(){Uk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Uk(),n(Hs(t,"network-request-failed"))},timeout:LV.get()})}if((s=(r=Gs().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((i=Gs().gapi)!=null&&i.load)a();else{const u=T6("iframefcb");return Gs()[u]=()=>{gapi.load?a():n(Hs(t,"network-request-failed"))},WD(`${k6()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Mm=null,e})}let Mm=null;function FV(t){return Mm=Mm||VV(t),Mm}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UV=new gf(5e3,15e3),BV="__/auth/iframe",zV="emulator/auth/iframe",qV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$V=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WV(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xx(e,zV):`https://${t.config.authDomain}/${BV}`,r={apiKey:e.apiKey,appName:t.name,v:Bl},s=$V.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${mf(r).slice(1)}`}async function HV(t){const e=await FV(t),n=Gs().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:WV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qV,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Hs(t,"network-request-failed"),u=Gs().setTimeout(()=>{i(a)},UV.get());function c(){Gs().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KV=500,QV=600,YV="_blank",XV="http://localhost";class Bk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JV(t,e,n,r=KV,s=QV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...GV,width:r.toString(),height:s.toString(),top:i,left:a},h=fn().toLowerCase();n&&(u=VD(h)?YV:n),MD(h)&&(e=e||XV,c.scrollbars="yes");const p=Object.entries(c).reduce((v,[C,_])=>`${v}${C}=${_},`,"");if(g6(h)&&u!=="_self")return ZV(e||"",u),new Bk(null);const g=window.open(e||"",u,p);Oe(g,t,"popup-blocked");try{g.focus()}catch{}return new Bk(g)}function ZV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eF="__/auth/handler",tF="emulator/auth/handler",nF=encodeURIComponent("fac");async function zk(t,e,n,r,s,i){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bl,eventId:s};if(e instanceof KD){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",O3(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))a[p]=g}if(e instanceof vf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),h=c?`#${nF}=${encodeURIComponent(c)}`:"";return`${rF(t)}?${mf(u).slice(1)}${h}`}function rF({config:t}){return t.emulator?xx(t,tF):`https://${t.authDomain}/${eF}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R0="webStorageSupport";class sF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tA,this._completeRedirectFn=IV,this._overrideRedirectResult=kV}async _openPopup(e,n,r,s){var i;Ui((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await zk(e,n,r,qw(),s);return JV(e,a,Tx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await zk(e,n,r,qw(),s);return aV(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ui(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await HV(e),r=new AV(e);return n.register("authEvent",s=>(Oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(R0,{type:R0},r=>{var s;const i=(s=r==null?void 0:r[0])==null?void 0:s[R0];i!==void 0&&n(!!i),ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qD()||LD()||Cx()}}const iF=sF;var qk="@firebase/auth",$k="1.11.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lF(t){fs(new Yr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Oe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$D(t)},h=new S6(r,s,i,c);return P6(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fs(new Yr("auth-internal",e=>{const n=pa(e.getProvider("auth").getImmediate());return(r=>new oF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(qk,$k,aF(t)),ur(qk,$k,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uF=300,cF=gD("authIdTokenMaxAge")||uF;let Wk=null;const dF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cF)return;const s=n==null?void 0:n.token;Wk!==s&&(Wk=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function cy(t=oy()){const e=fa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=N6(t,{popupRedirectResolver:iF,persistence:[gV,sV,tA]}),r=gD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=dF(i.toString());Z6(n,a,()=>a(n.currentUser)),J6(n,u=>a(u))}}const s=fD("auth");return s&&j6(n,`http://${s}`),n}function hF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}C6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Hs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",hF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lF("Browser");var fF="firebase",pF="12.5.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/ur(fF,pF,"app");var Hk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zo,lA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,I){function N(){}N.prototype=I.prototype,j.F=I.prototype,j.prototype=new N,j.prototype.constructor=j,j.D=function(M,F,q){for(var L=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)L[Ee-2]=arguments[Ee];return I.prototype[F].apply(M,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,I,N){N||(N=0);const M=Array(16);if(typeof I=="string")for(var F=0;F<16;++F)M[F]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(F=0;F<16;++F)M[F]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=j.g[0],N=j.g[1],F=j.g[2];let q=j.g[3],L;L=I+(q^N&(F^q))+M[0]+3614090360&4294967295,I=N+(L<<7&4294967295|L>>>25),L=q+(F^I&(N^F))+M[1]+3905402710&4294967295,q=I+(L<<12&4294967295|L>>>20),L=F+(N^q&(I^N))+M[2]+606105819&4294967295,F=q+(L<<17&4294967295|L>>>15),L=N+(I^F&(q^I))+M[3]+3250441966&4294967295,N=F+(L<<22&4294967295|L>>>10),L=I+(q^N&(F^q))+M[4]+4118548399&4294967295,I=N+(L<<7&4294967295|L>>>25),L=q+(F^I&(N^F))+M[5]+1200080426&4294967295,q=I+(L<<12&4294967295|L>>>20),L=F+(N^q&(I^N))+M[6]+2821735955&4294967295,F=q+(L<<17&4294967295|L>>>15),L=N+(I^F&(q^I))+M[7]+4249261313&4294967295,N=F+(L<<22&4294967295|L>>>10),L=I+(q^N&(F^q))+M[8]+1770035416&4294967295,I=N+(L<<7&4294967295|L>>>25),L=q+(F^I&(N^F))+M[9]+2336552879&4294967295,q=I+(L<<12&4294967295|L>>>20),L=F+(N^q&(I^N))+M[10]+4294925233&4294967295,F=q+(L<<17&4294967295|L>>>15),L=N+(I^F&(q^I))+M[11]+2304563134&4294967295,N=F+(L<<22&4294967295|L>>>10),L=I+(q^N&(F^q))+M[12]+1804603682&4294967295,I=N+(L<<7&4294967295|L>>>25),L=q+(F^I&(N^F))+M[13]+4254626195&4294967295,q=I+(L<<12&4294967295|L>>>20),L=F+(N^q&(I^N))+M[14]+2792965006&4294967295,F=q+(L<<17&4294967295|L>>>15),L=N+(I^F&(q^I))+M[15]+1236535329&4294967295,N=F+(L<<22&4294967295|L>>>10),L=I+(F^q&(N^F))+M[1]+4129170786&4294967295,I=N+(L<<5&4294967295|L>>>27),L=q+(N^F&(I^N))+M[6]+3225465664&4294967295,q=I+(L<<9&4294967295|L>>>23),L=F+(I^N&(q^I))+M[11]+643717713&4294967295,F=q+(L<<14&4294967295|L>>>18),L=N+(q^I&(F^q))+M[0]+3921069994&4294967295,N=F+(L<<20&4294967295|L>>>12),L=I+(F^q&(N^F))+M[5]+3593408605&4294967295,I=N+(L<<5&4294967295|L>>>27),L=q+(N^F&(I^N))+M[10]+38016083&4294967295,q=I+(L<<9&4294967295|L>>>23),L=F+(I^N&(q^I))+M[15]+3634488961&4294967295,F=q+(L<<14&4294967295|L>>>18),L=N+(q^I&(F^q))+M[4]+3889429448&4294967295,N=F+(L<<20&4294967295|L>>>12),L=I+(F^q&(N^F))+M[9]+568446438&4294967295,I=N+(L<<5&4294967295|L>>>27),L=q+(N^F&(I^N))+M[14]+3275163606&4294967295,q=I+(L<<9&4294967295|L>>>23),L=F+(I^N&(q^I))+M[3]+4107603335&4294967295,F=q+(L<<14&4294967295|L>>>18),L=N+(q^I&(F^q))+M[8]+1163531501&4294967295,N=F+(L<<20&4294967295|L>>>12),L=I+(F^q&(N^F))+M[13]+2850285829&4294967295,I=N+(L<<5&4294967295|L>>>27),L=q+(N^F&(I^N))+M[2]+4243563512&4294967295,q=I+(L<<9&4294967295|L>>>23),L=F+(I^N&(q^I))+M[7]+1735328473&4294967295,F=q+(L<<14&4294967295|L>>>18),L=N+(q^I&(F^q))+M[12]+2368359562&4294967295,N=F+(L<<20&4294967295|L>>>12),L=I+(N^F^q)+M[5]+4294588738&4294967295,I=N+(L<<4&4294967295|L>>>28),L=q+(I^N^F)+M[8]+2272392833&4294967295,q=I+(L<<11&4294967295|L>>>21),L=F+(q^I^N)+M[11]+1839030562&4294967295,F=q+(L<<16&4294967295|L>>>16),L=N+(F^q^I)+M[14]+4259657740&4294967295,N=F+(L<<23&4294967295|L>>>9),L=I+(N^F^q)+M[1]+2763975236&4294967295,I=N+(L<<4&4294967295|L>>>28),L=q+(I^N^F)+M[4]+1272893353&4294967295,q=I+(L<<11&4294967295|L>>>21),L=F+(q^I^N)+M[7]+4139469664&4294967295,F=q+(L<<16&4294967295|L>>>16),L=N+(F^q^I)+M[10]+3200236656&4294967295,N=F+(L<<23&4294967295|L>>>9),L=I+(N^F^q)+M[13]+681279174&4294967295,I=N+(L<<4&4294967295|L>>>28),L=q+(I^N^F)+M[0]+3936430074&4294967295,q=I+(L<<11&4294967295|L>>>21),L=F+(q^I^N)+M[3]+3572445317&4294967295,F=q+(L<<16&4294967295|L>>>16),L=N+(F^q^I)+M[6]+76029189&4294967295,N=F+(L<<23&4294967295|L>>>9),L=I+(N^F^q)+M[9]+3654602809&4294967295,I=N+(L<<4&4294967295|L>>>28),L=q+(I^N^F)+M[12]+3873151461&4294967295,q=I+(L<<11&4294967295|L>>>21),L=F+(q^I^N)+M[15]+530742520&4294967295,F=q+(L<<16&4294967295|L>>>16),L=N+(F^q^I)+M[2]+3299628645&4294967295,N=F+(L<<23&4294967295|L>>>9),L=I+(F^(N|~q))+M[0]+4096336452&4294967295,I=N+(L<<6&4294967295|L>>>26),L=q+(N^(I|~F))+M[7]+1126891415&4294967295,q=I+(L<<10&4294967295|L>>>22),L=F+(I^(q|~N))+M[14]+2878612391&4294967295,F=q+(L<<15&4294967295|L>>>17),L=N+(q^(F|~I))+M[5]+4237533241&4294967295,N=F+(L<<21&4294967295|L>>>11),L=I+(F^(N|~q))+M[12]+1700485571&4294967295,I=N+(L<<6&4294967295|L>>>26),L=q+(N^(I|~F))+M[3]+2399980690&4294967295,q=I+(L<<10&4294967295|L>>>22),L=F+(I^(q|~N))+M[10]+4293915773&4294967295,F=q+(L<<15&4294967295|L>>>17),L=N+(q^(F|~I))+M[1]+2240044497&4294967295,N=F+(L<<21&4294967295|L>>>11),L=I+(F^(N|~q))+M[8]+1873313359&4294967295,I=N+(L<<6&4294967295|L>>>26),L=q+(N^(I|~F))+M[15]+4264355552&4294967295,q=I+(L<<10&4294967295|L>>>22),L=F+(I^(q|~N))+M[6]+2734768916&4294967295,F=q+(L<<15&4294967295|L>>>17),L=N+(q^(F|~I))+M[13]+1309151649&4294967295,N=F+(L<<21&4294967295|L>>>11),L=I+(F^(N|~q))+M[4]+4149444226&4294967295,I=N+(L<<6&4294967295|L>>>26),L=q+(N^(I|~F))+M[11]+3174756917&4294967295,q=I+(L<<10&4294967295|L>>>22),L=F+(I^(q|~N))+M[2]+718787259&4294967295,F=q+(L<<15&4294967295|L>>>17),L=N+(q^(F|~I))+M[9]+3951481745&4294967295,j.g[0]=j.g[0]+I&4294967295,j.g[1]=j.g[1]+(F+(L<<21&4294967295|L>>>11))&4294967295,j.g[2]=j.g[2]+F&4294967295,j.g[3]=j.g[3]+q&4294967295}r.prototype.v=function(j,I){I===void 0&&(I=j.length);const N=I-this.blockSize,M=this.C;let F=this.h,q=0;for(;q<I;){if(F==0)for(;q<=N;)s(this,j,q),q+=this.blockSize;if(typeof j=="string"){for(;q<I;)if(M[F++]=j.charCodeAt(q++),F==this.blockSize){s(this,M),F=0;break}}else for(;q<I;)if(M[F++]=j[q++],F==this.blockSize){s(this,M),F=0;break}}this.h=F,this.o+=I},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var I=1;I<j.length-8;++I)j[I]=0;I=this.o*8;for(var N=j.length-8;N<j.length;++N)j[N]=I&255,I/=256;for(this.v(j),j=Array(16),I=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)j[I++]=this.g[N]>>>M&255;return j};function i(j,I){var N=u;return Object.prototype.hasOwnProperty.call(N,j)?N[j]:N[j]=I(j)}function a(j,I){this.h=I;const N=[];let M=!0;for(let F=j.length-1;F>=0;F--){const q=j[F]|0;M&&q==I||(N[F]=q,M=!1)}this.g=N}var u={};function c(j){return-128<=j&&j<128?i(j,function(I){return new a([I|0],I<0?-1:0)}):new a([j|0],j<0?-1:0)}function h(j){if(isNaN(j)||!isFinite(j))return g;if(j<0)return T(h(-j));const I=[];let N=1;for(let M=0;j>=N;M++)I[M]=j/N|0,N*=4294967296;return new a(I,0)}function p(j,I){if(j.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j.charAt(0)=="-")return T(p(j.substring(1),I));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=h(Math.pow(I,8));let M=g;for(let q=0;q<j.length;q+=8){var F=Math.min(8,j.length-q);const L=parseInt(j.substring(q,q+F),I);F<8?(F=h(Math.pow(I,F)),M=M.j(F).add(h(L))):(M=M.j(N),M=M.add(h(L)))}return M}var g=c(0),v=c(1),C=c(16777216);t=a.prototype,t.m=function(){if(k(this))return-T(this).m();let j=0,I=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);j+=(M>=0?M:4294967296+M)*I,I*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(_(this))return"0";if(k(this))return"-"+T(this).toString(j);const I=h(Math.pow(j,6));var N=this;let M="";for(;;){const F=U(N,I).g;N=A(N,F.j(I));let q=((N.g.length>0?N.g[0]:N.h)>>>0).toString(j);if(N=F,_(N))return q+M;for(;q.length<6;)q="0"+q;M=q+M}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function _(j){if(j.h!=0)return!1;for(let I=0;I<j.g.length;I++)if(j.g[I]!=0)return!1;return!0}function k(j){return j.h==-1}t.l=function(j){return j=A(this,j),k(j)?-1:_(j)?0:1};function T(j){const I=j.g.length,N=[];for(let M=0;M<I;M++)N[M]=~j.g[M];return new a(N,~j.h).add(v)}t.abs=function(){return k(this)?T(this):this},t.add=function(j){const I=Math.max(this.g.length,j.g.length),N=[];let M=0;for(let F=0;F<=I;F++){let q=M+(this.i(F)&65535)+(j.i(F)&65535),L=(q>>>16)+(this.i(F)>>>16)+(j.i(F)>>>16);M=L>>>16,q&=65535,L&=65535,N[F]=L<<16|q}return new a(N,N[N.length-1]&-2147483648?-1:0)};function A(j,I){return j.add(T(I))}t.j=function(j){if(_(this)||_(j))return g;if(k(this))return k(j)?T(this).j(T(j)):T(T(this).j(j));if(k(j))return T(this.j(T(j)));if(this.l(C)<0&&j.l(C)<0)return h(this.m()*j.m());const I=this.g.length+j.g.length,N=[];for(var M=0;M<2*I;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let F=0;F<j.g.length;F++){const q=this.i(M)>>>16,L=this.i(M)&65535,Ee=j.i(F)>>>16,Pe=j.i(F)&65535;N[2*M+2*F]+=L*Pe,P(N,2*M+2*F),N[2*M+2*F+1]+=q*Pe,P(N,2*M+2*F+1),N[2*M+2*F+1]+=L*Ee,P(N,2*M+2*F+1),N[2*M+2*F+2]+=q*Ee,P(N,2*M+2*F+2)}for(j=0;j<I;j++)N[j]=N[2*j+1]<<16|N[2*j];for(j=I;j<2*I;j++)N[j]=0;return new a(N,0)};function P(j,I){for(;(j[I]&65535)!=j[I];)j[I+1]+=j[I]>>>16,j[I]&=65535,I++}function O(j,I){this.g=j,this.h=I}function U(j,I){if(_(I))throw Error("division by zero");if(_(j))return new O(g,g);if(k(j))return I=U(T(j),I),new O(T(I.g),T(I.h));if(k(I))return I=U(j,T(I)),new O(T(I.g),I.h);if(j.g.length>30){if(k(j)||k(I))throw Error("slowDivide_ only works with positive integers.");for(var N=v,M=I;M.l(j)<=0;)N=z(N),M=z(M);var F=H(N,1),q=H(M,1);for(M=H(M,2),N=H(N,2);!_(M);){var L=q.add(M);L.l(j)<=0&&(F=F.add(N),q=L),M=H(M,1),N=H(N,1)}return I=A(j,F.j(I)),new O(F,I)}for(F=g;j.l(I)>=0;){for(N=Math.max(1,Math.floor(j.m()/I.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),q=h(N),L=q.j(I);k(L)||L.l(j)>0;)N-=M,q=h(N),L=q.j(I);_(q)&&(q=v),F=F.add(q),j=A(j,L)}return new O(F,j)}t.B=function(j){return U(this,j).h},t.and=function(j){const I=Math.max(this.g.length,j.g.length),N=[];for(let M=0;M<I;M++)N[M]=this.i(M)&j.i(M);return new a(N,this.h&j.h)},t.or=function(j){const I=Math.max(this.g.length,j.g.length),N=[];for(let M=0;M<I;M++)N[M]=this.i(M)|j.i(M);return new a(N,this.h|j.h)},t.xor=function(j){const I=Math.max(this.g.length,j.g.length),N=[];for(let M=0;M<I;M++)N[M]=this.i(M)^j.i(M);return new a(N,this.h^j.h)};function z(j){const I=j.g.length+1,N=[];for(let M=0;M<I;M++)N[M]=j.i(M)<<1|j.i(M-1)>>>31;return new a(N,j.h)}function H(j,I){const N=I>>5;I%=32;const M=j.g.length-N,F=[];for(let q=0;q<M;q++)F[q]=I>0?j.i(q+N)>>>I|j.i(q+N+1)<<32-I:j.i(q+N);return new a(F,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,lA=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=p,Zo=a}).apply(typeof Hk<"u"?Hk:typeof self<"u"?self:typeof window<"u"?window:{});var om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uA,mh,cA,Lm,Hw,dA,hA,fA;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof om=="object"&&om];for(var b=0;b<f.length;++b){var E=f[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var E=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var X=f[R];if(!(X in E))break e;E=E[X]}f=f[f.length-1],R=E[f],b=b(R),b!=R&&b!=null&&e(E,f,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(b){var E=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&E.push([R,b[R]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function u(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function c(f,b,E){return f.call.apply(f.bind,arguments)}function h(f,b,E){return h=c,h.apply(null,arguments)}function p(f,b){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function g(f,b){function E(){}E.prototype=b.prototype,f.Z=b.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(R,X,ee){for(var de=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)de[ze-2]=arguments[ze];return b.prototype[X].apply(R,de)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function C(f){const b=f.length;if(b>0){const E=Array(b);for(let R=0;R<b;R++)E[R]=f[R];return E}return[]}function _(f,b){for(let R=1;R<arguments.length;R++){const X=arguments[R];var E=typeof X;if(E=E!="object"?E:X?Array.isArray(X)?"array":E:"null",E=="array"||E=="object"&&typeof X.length=="number"){E=f.length||0;const ee=X.length||0;f.length=E+ee;for(let de=0;de<ee;de++)f[E+de]=X[de]}else f.push(X)}}class k{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function T(f){a.setTimeout(()=>{throw f},0)}function A(){var f=j;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class P{constructor(){this.h=this.g=null}add(b,E){const R=O.get();R.set(b,E),this.h?this.h.next=R:this.g=R,this.h=R}}var O=new k(()=>new U,f=>f.reset());class U{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let z,H=!1,j=new P,I=()=>{const f=Promise.resolve(void 0);z=()=>{f.then(N)}};function N(){for(var f;f=A();){try{f.h.call(f.g)}catch(E){T(E)}var b=O;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}H=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};a.addEventListener("test",E,b),a.removeEventListener("test",E,b)}catch{}return f})();function L(f){return/^[\s\xa0]*$/.test(f)}function Ee(f,b){F.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}g(Ee,F),Ee.prototype.init=function(f,b){const E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(E=="mouseover"?b=f.fromElement:E=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),ye=0;function ve(f,b,E,R,X){this.listener=f,this.proxy=null,this.src=b,this.type=E,this.capture=!!R,this.ha=X,this.key=++ye,this.da=this.fa=!1}function K(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,b,E){for(const R in f)b.call(E,f[R],R,f)}function oe(f,b){for(const E in f)b.call(void 0,f[E],E,f)}function G(f){const b={};for(const E in f)b[E]=f[E];return b}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(f,b){let E,R;for(let X=1;X<arguments.length;X++){R=arguments[X];for(E in R)f[E]=R[E];for(let ee=0;ee<re.length;ee++)E=re[ee],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,b,E,R,X){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const de=Be(f,b,R,X);return de>-1?(b=f[de],E||(b.fa=!1)):(b=new ve(b,this.src,ee,!!R,X),b.fa=E,f.push(b)),b};function je(f,b){const E=b.type;if(E in f.g){var R=f.g[E],X=Array.prototype.indexOf.call(R,b,void 0),ee;(ee=X>=0)&&Array.prototype.splice.call(R,X,1),ee&&(K(b),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Be(f,b,E,R){for(let X=0;X<f.length;++X){const ee=f[X];if(!ee.da&&ee.listener==b&&ee.capture==!!E&&ee.ha==R)return X}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),qe={};function Ue(f,b,E,R,X){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)Ue(f,b[ee],E,R,X);return null}return E=va(E),f&&f[Pe]?f.J(b,E,u(R)?!!R.capture:!1,X):pt(f,b,E,!1,R,X)}function pt(f,b,E,R,X,ee){if(!b)throw Error("Invalid event type");const de=u(X)?!!X.capture:!!X;let ze=no(f);if(ze||(f[Ie]=ze=new me(f)),E=ze.add(b,E,R,de,ee),E.proxy)return E;if(R=Ir(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)q||(X=de),X===void 0&&(X=!1),f.addEventListener(b.toString(),R,X);else if(f.attachEvent)f.attachEvent(to(b.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ir(){function f(E){return b.call(f.src,f.listener,E)}const b=Kl;return f}function Dr(f,b,E,R,X){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)Dr(f,b[ee],E,R,X);else R=u(R)?!!R.capture:!!R,E=va(E),f&&f[Pe]?(f=f.i,ee=String(b).toString(),ee in f.g&&(b=f.g[ee],E=Be(b,E,R,X),E>-1&&(K(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete f.g[ee],f.h--)))):f&&(f=no(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Be(b,E,R,X)),(E=f>-1?b[f]:null)&&Xn(E))}function Xn(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Pe])je(b.i,f);else{var E=f.type,R=f.proxy;b.removeEventListener?b.removeEventListener(E,R,f.capture):b.detachEvent?b.detachEvent(to(E),R):b.addListener&&b.removeListener&&b.removeListener(R),(E=no(b))?(je(E,f),E.h==0&&(E.src=null,b[Ie]=null)):K(f)}}}function to(f){return f in qe?qe[f]:qe[f]="on"+f}function Kl(f,b){if(f.da)f=!0;else{b=new Ee(b,this);const E=f.listener,R=f.ha||f.src;f.fa&&Xn(f),f=E.call(R,b)}return f}function no(f){return f=f[Ie],f instanceof me?f:null}var ci="__closure_events_fn_"+(Math.random()*1e9>>>0);function va(f){return typeof f=="function"?f:(f[ci]||(f[ci]=function(b){return f.handleEvent(b)}),f[ci])}function mt(){M.call(this),this.i=new me(this),this.M=this,this.G=null}g(mt,M),mt.prototype[Pe]=!0,mt.prototype.removeEventListener=function(f,b,E,R){Dr(this,f,b,E,R)};function Qt(f,b){var E,R=f.G;if(R)for(E=[];R;R=R.G)E.push(R);if(f=f.M,R=b.type||b,typeof b=="string")b=new F(b,f);else if(b instanceof F)b.target=b.target||f;else{var X=b;b=new F(R,f),pe(b,X)}X=!0;let ee,de;if(E)for(de=E.length-1;de>=0;de--)ee=b.g=E[de],X=Jr(ee,R,!0,b)&&X;if(ee=b.g=f,X=Jr(ee,R,!0,b)&&X,X=Jr(ee,R,!1,b)&&X,E)for(de=0;de<E.length;de++)ee=b.g=E[de],X=Jr(ee,R,!1,b)&&X}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const E=f.g[b];for(let R=0;R<E.length;R++)K(E[R]);delete f.g[b],f.h--}}this.G=null},mt.prototype.J=function(f,b,E,R){return this.i.add(String(f),b,!1,E,R)},mt.prototype.K=function(f,b,E,R){return this.i.add(String(f),b,!0,E,R)};function Jr(f,b,E,R){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let X=!0;for(let ee=0;ee<b.length;++ee){const de=b[ee];if(de&&!de.da&&de.capture==E){const ze=de.listener,Yt=de.ha||de.src;de.fa&&je(f.i,de),X=ze.call(Yt,R)!==!1&&X}}return X&&!R.defaultPrevented}function Xc(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:a.setTimeout(f,b||0)}function Jc(f){f.g=Xc(()=>{f.g=null,f.i&&(f.i=!1,Jc(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class $f extends M{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Jc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ro(f){M.call(this),this.h=f,this.g={}}g(ro,M);var Zc=[];function Ql(f){ne(f.g,function(b,E){this.g.hasOwnProperty(E)&&Xn(b)},f),f.g={}}ro.prototype.N=function(){ro.Z.N.call(this),Ql(this)},ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var so=a.JSON.stringify,Wf=a.JSON.parse,wa=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function io(){}function Hf(){}var oo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yl(){F.call(this,"d")}g(Yl,F);function ed(){F.call(this,"c")}g(ed,F);var Zr={},Xl=null;function ao(){return Xl=Xl||new mt}Zr.Ia="serverreachability";function Jl(f){F.call(this,Zr.Ia,f)}g(Jl,F);function di(f){const b=ao();Qt(b,new Jl(b))}Zr.STAT_EVENT="statevent";function hi(f,b){F.call(this,Zr.STAT_EVENT,f),this.stat=b}g(hi,F);function At(f){const b=ao();Qt(b,new hi(b,f))}Zr.Ja="timingevent";function td(f,b){F.call(this,Zr.Ja,f),this.size=b}g(td,F);function lo(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},b)}function uo(){this.g=!0}uo.prototype.ua=function(){this.g=!1};function Gf(f,b,E,R,X,ee){f.info(function(){if(f.g)if(ee){var de="",ze=ee.split("&");for(let dt=0;dt<ze.length;dt++){var Yt=ze[dt].split("=");if(Yt.length>1){const nn=Yt[0];Yt=Yt[1];const gr=nn.split("_");de=gr.length>=2&&gr[1]=="type"?de+(nn+"="+Yt+"&"):de+(nn+"=redacted&")}}}else de=null;else de=ee;return"XMLHTTP REQ ("+R+") [attempt "+X+"]: "+b+`
`+E+`
`+de})}function Kf(f,b,E,R,X,ee,de){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+X+"]: "+b+`
`+E+`
`+ee+" "+de})}function xs(f,b,E,R){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+ba(f,E)+(R?" "+R:"")})}function Qf(f,b){f.info(function(){return"TIMEOUT: "+b})}uo.prototype.info=function(){};function ba(f,b){if(!f.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var E=ee[f];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var X=R[0];if(X!="noop"&&X!="stop"&&X!="close")for(let de=1;de<R.length;de++)R[de]=""}}}}return so(ee)}catch{return b}}var co={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yf;function fi(){}g(fi,io),fi.prototype.g=function(){return new XMLHttpRequest},Yf=new fi;function Ss(f){return encodeURIComponent(String(f))}function Zl(f){var b=1;f=f.split(":");const E=[];for(;b>0&&f.length;)E.push(f.shift()),b--;return f.length&&E.push(f.join(":")),E}function Ar(f,b,E,R){this.j=f,this.i=b,this.l=E,this.S=R||1,this.V=new ro(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xf}function Xf(){this.i=null,this.g="",this.h=!1}var Jf={},nd={};function es(f,b,E){f.M=1,f.A=mi(Nr(b)),f.u=E,f.R=!0,rd(f,null)}function rd(f,b){f.F=Date.now(),xa(f),f.B=Nr(f.A);var E=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),fd(E.i,"t",R),f.C=0,E=f.j.L,f.h=new Xf,f.g=lp(f.j,E?b:null,!f.u),f.P>0&&(f.O=new $f(h(f.Y,f,f.g),f.P)),b=f.V,E=f.g,R=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(Zc[0]=X.toString()),X=Zc);for(let ee=0;ee<X.length;ee++){const de=Ue(E,X[ee],R||b.handleEvent,!1,b.h||b);if(!de)break;b.g[de.key]=de}b=f.J?G(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),di(),Gf(f.i,f.v,f.B,f.l,f.S,f.u)}Ar.prototype.ba=function(f){f=f.target;const b=this.O;b&&Ds(f)==3?b.j():this.Y(f)},Ar.prototype.Y=function(f){try{if(f==this.g)e:{const ze=Ds(this.g),Yt=this.g.ya(),dt=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||op(this.g)))){this.K||ze!=4||Yt==7||(Yt==8||dt<=0?di(3):di(2)),eu(this);var b=this.g.ca();this.X=b;var E=Zf(this);if(this.o=b==200,Kf(this.i,this.v,this.B,this.l,this.S,ze,b),this.o){if(this.U&&!this.L){t:{if(this.g){var R,X=this.g;if((R=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(R)){var ee=R;break t}}ee=null}if(f=ee)xs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gt(this,f);else{this.o=!1,this.m=3,At(12),pi(this),Sa(this);break e}}if(this.R){f=!0;let nn;for(;!this.K&&this.C<E.length;)if(nn=tp(this,E),nn==nd){ze==4&&(this.m=4,At(14),f=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Jf){this.m=4,At(15),xs(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else xs(this.i,this.l,nn,null),gt(this,nn);if(ep(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||E.length!=0||this.h.h||(this.m=1,At(16),f=!1),this.o=this.o&&f,!f)xs(this.i,this.l,E,"[Invalid Chunked Response]"),pi(this),Sa(this);else if(E.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Na(de),de.P=!0,At(11))}}else xs(this.i,this.l,E,null),gt(this,E);ze==4&&pi(this),this.o&&!this.K&&(ze==4?cu(this.j,this):(this.o=!1,xa(this)))}else md(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),pi(this),Sa(this)}}}catch{}finally{}};function Zf(f){if(!ep(f))return f.g.la();const b=op(f.g);if(b==="")return"";let E="";const R=b.length,X=Ds(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return pi(f),Sa(f),"";f.h.i=new a.TextDecoder}for(let ee=0;ee<R;ee++)f.h.h=!0,E+=f.h.i.decode(b[ee],{stream:!(X&&ee==R-1)});return b.length=0,f.h.g+=E,f.C=0,f.h.g}function ep(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function tp(f,b){var E=f.C,R=b.indexOf(`
`,E);return R==-1?nd:(E=Number(b.substring(E,R)),isNaN(E)?Jf:(R+=1,R+E>b.length?nd:(b=b.slice(R,R+E),f.C=R+E,b)))}Ar.prototype.cancel=function(){this.K=!0,pi(this)};function xa(f){f.T=Date.now()+f.H,sd(f,f.H)}function sd(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=lo(h(f.aa,f),b)}function eu(f){f.D&&(a.clearTimeout(f.D),f.D=null)}Ar.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Qf(this.i,this.B),this.M!=2&&(di(),At(17)),pi(this),this.m=2,Sa(this)):sd(this,this.T-f)};function Sa(f){f.j.I==0||f.K||cu(f.j,f)}function pi(f){eu(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Ql(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function gt(f,b){try{var E=f.j;if(E.I!=0&&(E.g==f||od(E.h,f))){if(!f.L&&od(E.h,f)&&E.I==3){try{var R=E.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var X=R;if(X[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)uu(E),pr(E);else break e;Ps(E),At(18)}}else E.xa=X[1],0<E.xa-E.K&&X[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=lo(h(E.Va,E),6e3));Ca(E.h)<=1&&E.ta&&(E.ta=void 0)}else mr(E,11)}else if((f.L||E.g==f)&&uu(E),!L(b))for(X=E.Ba.g.parse(b),b=0;b<X.length;b++){let dt=X[b];const nn=dt[0];if(!(nn<=E.K))if(E.K=nn,dt=dt[1],E.I==2)if(dt[0]=="c"){E.M=dt[1],E.ba=dt[2];const gr=dt[3];gr!=null&&(E.ka=gr,E.j.info("VER="+E.ka));const wo=dt[4];wo!=null&&(E.za=wo,E.j.info("SVER="+E.za));const js=dt[5];js!=null&&typeof js=="number"&&js>0&&(R=1.5*js,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Rs=f.g;if(Rs){const fu=Rs.g?Rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fu){var ee=R.h;ee.g||fu.indexOf("spdy")==-1&&fu.indexOf("quic")==-1&&fu.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(nu(ee,ee.h),ee.h=null))}if(R.G){const vd=Rs.g?Rs.g.getResponseHeader("X-HTTP-Session-Id"):null;vd&&(R.wa=vd,it(R.J,R.G,vd))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var de=f;if(R.na=yd(R,R.L?R.ba:null,R.W),de.L){Ea(R.h,de);var ze=de,Yt=R.O;Yt&&(ze.H=Yt),ze.D&&(eu(ze),xa(ze)),R.g=de}else Dn(R);E.i.length>0&&wi(E)}else dt[0]!="stop"&&dt[0]!="close"||mr(E,7);else E.I==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?mr(E,7):au(E):dt[0]!="noop"&&E.l&&E.l.qa(dt),E.A=0)}}di(4)}catch{}}var iv=class{constructor(f,b){this.g=f,this.map=b}};function tu(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function id(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ca(f){return f.h?1:f.g?f.g.size:0}function od(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function nu(f,b){f.g?f.g.add(b):f.h=b}function Ea(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}tu.prototype.cancel=function(){if(this.i=dr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function dr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const E of f.g.values())b=b.concat(E.G);return b}return C(f.i)}var np=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hr(f,b){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const R=f[E].indexOf("=");let X,ee=null;R>=0?(X=f[E].substring(0,R),ee=f[E].substring(R+1)):X=f[E],b(X,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Cs(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof Cs?(this.l=f.l,ka(this,f.j),this.o=f.o,this.g=f.g,Es(this,f.u),this.h=f.h,fo(this,pd(f.i)),this.m=f.m):f&&(b=String(f).match(np))?(this.l=!1,ka(this,b[1]||"",!0),this.o=Ta(b[2]||""),this.g=Ta(b[3]||"",!0),Es(this,b[4]),this.h=Ta(b[5]||"",!0),fo(this,b[6]||"",!0),this.m=Ta(b[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}Cs.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(_a(b,ld,!0),":");var E=this.g;return(E||b=="file")&&(f.push("//"),(b=this.o)&&f.push(_a(b,ld,!0),"@"),f.push(Ss(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(_a(E,E.charAt(0)=="/"?Ia:ud,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",_a(E,cd)),f.join("")},Cs.prototype.resolve=function(f){const b=Nr(this);let E=!!f.j;E?ka(b,f.j):E=!!f.o,E?b.o=f.o:E=!!f.g,E?b.g=f.g:E=f.u!=null;var R=f.h;if(E)Es(b,f.u);else if(E=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var X=b.h.lastIndexOf("/");X!=-1&&(R=b.h.slice(0,X+1)+R)}if(X=R,X==".."||X==".")R="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){R=X.lastIndexOf("/",0)==0,X=X.split("/");const ee=[];for(let de=0;de<X.length;){const ze=X[de++];ze=="."?R&&de==X.length&&ee.push(""):ze==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),R&&de==X.length&&ee.push("")):(ee.push(ze),R=!0)}R=ee.join("/")}else R=X}return E?b.h=R:E=f.i.toString()!=="",E?fo(b,pd(f.i)):E=!!f.m,E&&(b.m=f.m),b};function Nr(f){return new Cs(f)}function ka(f,b,E){f.j=E?Ta(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Es(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function fo(f,b,E){b instanceof Qe?(f.i=b,su(f.i,f.l)):(E||(b=_a(b,ov)),f.i=new Qe(b,f.l))}function it(f,b,E){f.i.set(b,E)}function mi(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ta(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function _a(f,b,E){return typeof f=="string"?(f=encodeURI(f).replace(b,ad),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ad(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ld=/[#\/\?@]/g,ud=/[#\?:]/g,Ia=/[#\?]/g,ov=/[#\?@]/g,cd=/#/g;function Qe(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function ks(f){f.g||(f.g=new Map,f.h=0,f.i&&hr(f.i,function(b,E){f.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=Qe.prototype,t.add=function(f,b){ks(this),this.i=null,f=Ts(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(b),this.h+=1,this};function dd(f,b){ks(f),b=Ts(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function ru(f,b){return ks(f),b=Ts(f,b),f.g.has(b)}t.forEach=function(f,b){ks(this),this.g.forEach(function(E,R){E.forEach(function(X){f.call(b,X,R,this)},this)},this)};function hd(f,b){ks(f);let E=[];if(typeof b=="string")ru(f,b)&&(E=E.concat(f.g.get(Ts(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)E=E.concat(f[b]);return E}t.set=function(f,b){return ks(this),this.i=null,f=Ts(this,f),ru(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=hd(this,f),f.length>0?String(f[0]):b):b};function fd(f,b,E){dd(f,b),E.length>0&&(f.i=null,f.g.set(Ts(f,b),C(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var E=b[R];const X=Ss(E);E=hd(this,E);for(let ee=0;ee<E.length;ee++){let de=X;E[ee]!==""&&(de+="="+Ss(E[ee])),f.push(de)}}return this.i=f.join("&")};function pd(f){const b=new Qe;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function Ts(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function su(f,b){b&&!f.j&&(ks(f),f.i=null,f.g.forEach(function(E,R){const X=R.toLowerCase();R!=X&&(dd(this,R),fd(this,X,E))},f)),f.j=b}function _s(f,b){const E=new uo;if(a.Image){const R=new Image;R.onload=p(bn,E,"TestLoadImage: loaded",!0,b,R),R.onerror=p(bn,E,"TestLoadImage: error",!1,b,R),R.onabort=p(bn,E,"TestLoadImage: abort",!1,b,R),R.ontimeout=p(bn,E,"TestLoadImage: timeout",!1,b,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else b(!1)}function Is(f,b){const E=new uo,R=new AbortController,X=setTimeout(()=>{R.abort(),bn(E,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:R.signal}).then(ee=>{clearTimeout(X),ee.ok?bn(E,"TestPingServer: ok",!0,b):bn(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),bn(E,"TestPingServer: error",!1,b)})}function bn(f,b,E,R,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),R(E)}catch{}}function Da(){this.g=new wa}function gi(f){this.i=f.Sb||null,this.h=f.ab||!1}g(gi,io),gi.prototype.g=function(){return new fr(this.i,this.h)};function fr(f,b){mt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(fr,mt),t=fr.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,ts(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||a).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,po(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rp(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function rp(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?po(this):ts(this),this.readyState==3&&rp(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,po(this))},t.Na=function(f){this.g&&(this.response=f,po(this))},t.ga=function(){this.g&&po(this)};function po(f){f.readyState=4,f.l=null,f.j=null,f.B=null,ts(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=b.next();return f.join(`\r
`)};function ts(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function sp(f){let b="";return ne(f,function(E,R){b+=R,b+=":",b+=E,b+=`\r
`}),b}function iu(f,b,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=sp(E),typeof f=="string"?E!=null&&Ss(E):it(f,b,E))}function ct(f){mt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ct,mt);var ip=/^https?$/i,av=["POST","PUT"];t=ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yf.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ee){mo(this,ee);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var X in R)E.set(X,R[X]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ee of R.keys())E.set(ee,R.get(ee));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),X=a.FormData&&f instanceof a.FormData,!(Array.prototype.indexOf.call(av,b,void 0)>=0)||R||X||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,de]of E)this.g.setRequestHeader(ee,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){mo(this,ee)}};function mo(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,go(f),vi(f)}function go(f){f.A||(f.A=!0,Qt(f,"complete"),Qt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Qt(this,"complete"),Qt(this,"abort"),vi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?yi(this):this.Xa())},t.Xa=function(){yi(this)};function yi(f){if(f.h&&typeof i<"u"){if(f.v&&Ds(f)==4)setTimeout(f.Ca.bind(f),0);else if(Qt(f,"readystatechange"),Ds(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var R;if(R=ee===0){let de=String(f.D).match(np)[1]||null;!de&&a.self&&a.self.location&&(de=a.self.location.protocol.slice(0,-1)),R=!ip.test(de?de.toLowerCase():"")}E=R}if(E)Qt(f,"complete"),Qt(f,"success");else{f.o=6;try{var X=Ds(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",go(f)}}finally{vi(f)}}}}function vi(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,b||Qt(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ds(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ds(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Wf(b)}};function op(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function md(f){const b={};f=(f.g&&Ds(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(L(f[R]))continue;var E=Zl(f[R]);const X=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=b[X]||[];b[X]=ee,ee.push(E)}oe(b,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(f,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||b}function ou(f){this.za=0,this.i=[],this.j=new uo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=As("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=As("baseRetryDelayMs",5e3,f),this.Za=As("retryDelaySeedMs",1e4,f),this.Ta=As("forwardChannelMaxRetries",2,f),this.va=As("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new tu(f&&f.concurrentRequestLimit),this.Ba=new Da,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ou.prototype,t.ka=8,t.I=1,t.connect=function(f,b,E,R){At(0),this.W=f,this.H=b||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=yd(this,null,this.W),wi(this)};function au(f){if(lu(f),f.I==3){var b=f.V++,E=Nr(f.J);if(it(E,"SID",f.M),it(E,"RID",b),it(E,"TYPE","terminate"),Ns(f,E),b=new Ar(f,f.j,b),b.M=2,b.A=mi(Nr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&a.Image&&(new Image().src=b.A,E=!0),E||(b.g=lp(b.j,null),b.g.ea(b.A)),b.F=Date.now(),xa(b)}Pa(f)}function pr(f){f.g&&(Na(f),f.g.cancel(),f.g=null)}function lu(f){pr(f),f.v&&(a.clearTimeout(f.v),f.v=null),uu(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&a.clearTimeout(f.m),f.m=null)}function wi(f){if(!id(f.h)&&!f.m){f.m=!0;var b=f.Ea;z||I(),H||(z(),H=!0),j.add(b,f),f.D=0}}function ap(f,b){return Ca(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=lo(h(f.Ea,f,b),du(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new Ar(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=G(ee),pe(ee,this.U)):ee=this.U),this.u!==null||this.R||(X.J=ee,ee=null),this.S)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=gd(this,X,b),E=Nr(this.J),it(E,"RID",f),it(E,"CVER",22),this.G&&it(E,"X-HTTP-Session-Id",this.G),Ns(this,E),ee&&(this.R?b="headers="+Ss(sp(ee))+"&"+b:this.u&&iu(E,this.u,ee)),nu(this.h,X),this.Ra&&it(E,"TYPE","init"),this.S?(it(E,"$req",b),it(E,"SID","null"),X.U=!0,es(X,E,null)):es(X,E,b),this.I=2}}else this.I==3&&(f?Aa(this,f):this.i.length==0||id(this.h)||Aa(this))};function Aa(f,b){var E;b?E=b.l:E=f.V++;const R=Nr(f.J);it(R,"SID",f.M),it(R,"RID",E),it(R,"AID",f.K),Ns(f,R),f.u&&f.o&&iu(R,f.u,f.o),E=new Ar(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),b&&(f.i=b.G.concat(f.i)),b=gd(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),nu(f.h,E),es(E,R,b)}function Ns(f,b){f.H&&ne(f.H,function(E,R){it(b,R,E)}),f.l&&ne({},function(E,R){it(b,R,E)})}function gd(f,b,E){E=Math.min(f.i.length,E);const R=f.l?h(f.l.Ka,f.l,f):null;e:{var X=f.i;let ze=-1;for(;;){const Yt=["count="+E];ze==-1?E>0?(ze=X[0].g,Yt.push("ofs="+ze)):ze=0:Yt.push("ofs="+ze);let dt=!0;for(let nn=0;nn<E;nn++){var ee=X[nn].g;const gr=X[nn].map;if(ee-=ze,ee<0)ze=Math.max(0,X[nn].g-100),dt=!1;else try{ee="req"+ee+"_"||"";try{var de=gr instanceof Map?gr:Object.entries(gr);for(const[wo,js]of de){let Rs=js;u(js)&&(Rs=so(js)),Yt.push(ee+wo+"="+encodeURIComponent(Rs))}}catch(wo){throw Yt.push(ee+"type="+encodeURIComponent("_badmap")),wo}}catch{R&&R(gr)}}if(dt){de=Yt.join("&");break e}}de=void 0}return f=f.i.splice(0,E),b.G=f,de}function Dn(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;z||I(),H||(z(),H=!0),j.add(b,f),f.A=0}}function Ps(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=lo(h(f.Da,f),du(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,yo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=lo(h(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),pr(this),yo(this))};function Na(f){f.B!=null&&(a.clearTimeout(f.B),f.B=null)}function yo(f){f.g=new Ar(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Nr(f.na);it(b,"RID","rpc"),it(b,"SID",f.M),it(b,"AID",f.K),it(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(b,"TO",f.ia),it(b,"TYPE","xmlhttp"),Ns(f,b),f.u&&f.o&&iu(b,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=mi(Nr(b)),E.u=null,E.R=!0,rd(E,f)}t.Va=function(){this.C!=null&&(this.C=null,pr(this),Ps(this),At(19))};function uu(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function cu(f,b){var E=null;if(f.g==b){uu(f),Na(f),f.g=null;var R=2}else if(od(f.h,b))E=b.G,Ea(f.h,b),R=1;else return;if(f.I!=0){if(b.o)if(R==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var X=f.D;R=ao(),Qt(R,new td(R,E)),wi(f)}else Dn(f);else if(X=b.m,X==3||X==0&&b.X>0||!(R==1&&ap(f,b)||R==2&&Ps(f)))switch(E&&E.length>0&&(b=f.h,b.i=b.i.concat(E)),X){case 1:mr(f,5);break;case 4:mr(f,10);break;case 3:mr(f,6);break;default:mr(f,2)}}}function du(f,b){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*b}function mr(f,b){if(f.j.info("Error code "+b),b==2){var E=h(f.bb,f),R=f.Ua;const X=!R;R=new Cs(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ka(R,"https"),mi(R),X?_s(R.toString(),E):Is(R.toString(),E)}else At(2);f.I=0,f.l&&f.l.pa(b),Pa(f),lu(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Pa(f){if(f.I=0,f.ja=[],f.l){const b=dr(f.h);(b.length!=0||f.i.length!=0)&&(_(f.ja,b),_(f.ja,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.oa()}}function yd(f,b,E){var R=E instanceof Cs?Nr(E):new Cs(E);if(R.g!="")b&&(R.g=b+"."+R.g),Es(R,R.u);else{var X=a.location;R=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;const ee=new Cs(null);R&&ka(ee,R),b&&(ee.g=b),X&&Es(ee,X),E&&(ee.h=E),R=ee}return E=f.G,b=f.wa,E&&b&&it(R,E,b),it(R,"VER",f.ka),Ns(f,R),R}function lp(f,b,E){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ct(new gi({ab:E})):new ct(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function up(){}t=up.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hu(){}hu.prototype.g=function(f,b){return new xn(f,b)};function xn(f,b){mt.call(this),this.g=new ou(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!L(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new vo(this)}g(xn,mt),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){au(this.g)},xn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=so(f),f=E);b.i.push(new iv(b.Ya++,f)),b.I==3&&wi(b)},xn.prototype.N=function(){this.g.l=null,delete this.j,au(this.g),delete this.g,xn.Z.N.call(this)};function cp(f){Yl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const E in b){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}g(cp,Yl);function dp(){ed.call(this),this.status=1}g(dp,ed);function vo(f){this.g=f}g(vo,up),vo.prototype.ra=function(){Qt(this.g,"a")},vo.prototype.qa=function(f){Qt(this.g,new cp(f))},vo.prototype.pa=function(f){Qt(this.g,new dp)},vo.prototype.oa=function(){Qt(this.g,"b")},hu.prototype.createWebChannel=hu.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,fA=function(){return new hu},hA=function(){return ao()},dA=Zr,Hw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},co.NO_ERROR=0,co.TIMEOUT=8,co.HTTP_ERROR=6,Lm=co,ho.COMPLETE="complete",cA=ho,Hf.EventType=oo,oo.OPEN="a",oo.CLOSE="b",oo.ERROR="c",oo.MESSAGE="d",mt.prototype.listen=mt.prototype.J,mh=Hf,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,uA=ct}).apply(typeof om<"u"?om:typeof self<"u"?self:typeof window<"u"?window:{});const Gk="@firebase/firestore",Kk="4.9.2";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Tn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Lc="12.3.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tl=new iy("@firebase/firestore");function ec(){return Tl.logLevel}function le(t,...e){if(Tl.logLevel<=Ge.DEBUG){const n=e.map(Ix);Tl.debug(`Firestore (${Lc}): ${t}`,...n)}}function qn(t,...e){if(Tl.logLevel<=Ge.ERROR){const n=e.map(Ix);Tl.error(`Firestore (${Lc}): ${t}`,...n)}}function _l(t,...e){if(Tl.logLevel<=Ge.WARN){const n=e.map(Ix);Tl.warn(`Firestore (${Lc}): ${t}`,...n)}}function Ix(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,pA(t,r,n)}function pA(t,e,n){let r=`FIRESTORE (${Lc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qn(r),new Error(r)}function _e(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||pA(e,s,r)}function Fe(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ks{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Tn.UNAUTHENTICATED)))}shutdown(){}}class gF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class yF{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ks,e.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},u=c=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ks)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new mA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class vF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Qk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Qk(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=xF(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function Gw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return O0(s)===O0(i)?Ve(s,i):O0(s)?1:-1}return Ve(t.length,e.length)}const SF=55296,CF=57343;function O0(t){const e=t.charCodeAt(0);return e>=SF&&e<=CF}function wc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function gA(t){return t+"\0"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Yk="__name__";class Bs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Bs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ve(e.length,n.length)}static compareSegments(e,n){const r=Bs.isNumericId(e),s=Bs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Bs.extractNumericId(e).compare(Bs.extractNumericId(n)):Gw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zo.fromString(e.substring(4,e.length-2))}}class ot extends Bs{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const EF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends Bs{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return EF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yk}static keyField(){return new Tt([Yk])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else u==="`"?(a=!a,s++):u!=="."||a?(r+=u,s++):(i(),s++)}if(i(),a)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class he{constructor(e){this.path=e}static fromPath(e){return new he(ot.fromString(e))}static fromName(e){return new he(ot.fromString(e).popFirst(5))}static empty(){return new he(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new ot(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yA(t,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kF(t,e,n,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Xk(t){if(!he.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jk(t){if(he.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dy(t);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function TF(t,e){if(e<=0)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function an(t,e){const n={typeString:t};return e&&(n.value=e),n}function bf(t,e){if(!vA(t))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zk=-62135596800,eT=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*eT);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Zk)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eT}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bf(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:an("string",rt._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new rt(0,0))}static max(){return new De(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bh=-1;class wg{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function Kw(t){return t.fields.find((e=>e.kind===2))}function rl(t){return t.fields.filter((e=>e.kind!==2))}wg.UNKNOWN_ID=-1;class Vm{constructor(e,n){this.fieldPath=e,this.kind=n}}class zh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new zh(0,_r.min())}}function _F(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new _r(s,he.empty(),e)}function wA(t){return new _r(t.readTime,t.key,Bh)}class _r{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _r(De.min(),he.empty(),Bh)}static max(){return new _r(De.max(),he.empty(),Bh)}}function Ax(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function zl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==bA)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let s=0,i=0,a=!1;e.forEach((u=>{++s,u.next((()=>{++i,a&&i===s&&n()}),(c=>r(c)))})),a=!0,i===s&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((s=>s?Q.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,s)=>{const i=e.length,a=new Array(i);let u=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next((p=>{a[h]=p,++u,u===i&&r(a)}),(p=>s(p)))}}))}static doWhile(e,n){return new Q(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xr="SimpleDb";class hy{static open(e,n,r,s){try{return new hy(n,e.transaction(s,r))}catch(i){throw new Eh(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ks,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Eh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=Nx(r.target.error);this.S.reject(new Eh(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(xr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new DF(n)}}class ea{static delete(e){return le(xr,"Removing database:",e),al(hD().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!sy())return!1;if(ea.F())return!0;const e=fn(),n=ea.M(e),r=0<n&&n<10,s=SA(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,ea.M(fn())===12.2&&qn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(xr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const a=i.target.result;n(a)},s.onblocked=()=>{r(new Eh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new ce(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new ce(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Eh(e,a))},s.onupgradeneeded=i=>{le(xr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.N.k(a,s.transaction,i.oldVersion,this.version).next((()=>{le(xr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const u=hy.open(this.db,e,i?"readonly":"readwrite",r),c=s(u).next((h=>(u.C(),h))).catch((h=>(u.abort(h),Q.reject(h)))).toPromise();return c.catch((()=>{})),await u.D,c}catch(u){const c=u,h=c.name!=="FirebaseError"&&a<3;if(le(xr,"Transaction failed with error:",c.message,"Retrying:",h),this.close(),!h)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function SA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class IF{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return al(this.U.delete())}}class Eh extends ce{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ma(t){return t.name==="IndexedDbTransactionError"}class DF{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(le(xr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(le(xr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),al(r)}add(e){return le(xr,"ADD",this.store.name,e,e),al(this.store.add(e))}get(e){return al(this.store.get(e)).next((n=>(n===void 0&&(n=null),le(xr,"GET",this.store.name,e,n),n)))}delete(e){return le(xr,"DELETE",this.store.name,e),al(this.store.delete(e))}count(){return le(xr,"COUNT",this.store.name),al(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Q(((a,u)=>{i.onerror=c=>{u(c.target.error)},i.onsuccess=c=>{a(c.target.result)}}))}{const i=this.cursor(r),a=[];return this.H(i,((u,c)=>{a.push(c)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((s,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{s(a.target.result)}}))}Z(e,n){le(xr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,a,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new Q(((r,s)=>{n.onerror=i=>{const a=Nx(i.target.error);s(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next((u=>{u?a.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((s,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const u=a.target.result;if(!u)return void s();const c=new IF(u),h=n(u.primaryKey,u.value,c);if(h instanceof Q){const p=h.catch((g=>(c.done(),Q.reject(g))));r.push(p)}c.isDone?s():c.G===null?u.continue():u.continue(c.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function al(t){return new Q(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Nx(r.target.error);n(s)}}))}let tT=!1;function Nx(t){const e=ea.M(fn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tT||(tT=!0,setTimeout((()=>{throw r}),0)),r}}return t}const kh="IndexBackfiller";class AF{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(kh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();le(kh,`Documents written: ${n}`)}catch(n){ma(n)?le(kh,"Ignoring IndexedDB error during index backfill: ",n):await zl(n)}await this.re(6e4)}))}}class NF{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return Q.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return le(kh,`Processing collection: ${a}`),this.oe(e,a,s).next((u=>{s-=u,r.add(a)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(s,i))).next((u=>(le(kh,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const a=wA(i);Ax(a,r)>0&&(r=a)})),new _r(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $r{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$r.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yl=-1;function fy(t){return t==null}function qh(t){return t===0&&1/t==-1/0}function PF(t){return typeof t=="number"&&Number.isInteger(t)&&!qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bg="";function Fn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=nT(e)),e=jF(t.get(n),e);return nT(e)}function jF(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case bg:n+="";break;default:n+=i}}return n}function nT(t){return t+bg+""}function qs(t){const e=t.length;if(_e(e>=2,64408,{path:t}),e===2)return _e(t.charAt(0)===bg&&t.charAt(1)==="",56145,{path:t}),ot.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const a=t.indexOf(bg,i);switch((a<0||a>n)&&Ce(50515,{path:t}),t.charAt(a+1)){case"":const u=t.substring(i,a);let c;s.length===0?c=u:(s+=u,c=s,s=""),r.push(c);break;case"":s+=t.substring(i,a),s+="\0";break;case"":s+=t.substring(i,a+1);break;default:Ce(61167,{path:t})}i=a+2}return new ot(r)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sl="remoteDocuments",xf="owner",Ru="owner",$h="mutationQueues",RF="userId",cs="mutations",rT="batchId",dl="userMutationsIndex",sT=["userId","batchId"];/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Fm(t,e){return[t,Fn(e)]}function CA(t,e,n){return[t,Fn(e),n]}const OF={},bc="documentMutations",xg="remoteDocumentsV14",MF=["prefixPath","collectionGroup","readTime","documentId"],Um="documentKeyIndex",LF=["prefixPath","collectionGroup","documentId"],EA="collectionGroupIndex",VF=["collectionGroup","readTime","prefixPath","documentId"],Wh="remoteDocumentGlobal",Qw="remoteDocumentGlobalKey",xc="targets",kA="queryTargetsIndex",FF=["canonicalId","targetId"],Sc="targetDocuments",UF=["targetId","path"],Px="documentTargetsIndex",BF=["path","targetId"],Sg="targetGlobalKey",vl="targetGlobal",Hh="collectionParents",zF=["collectionId","parent"],Cc="clientMetadata",qF="clientId",py="bundles",$F="bundleId",my="namedQueries",WF="name",jx="indexConfiguration",HF="indexId",Yw="collectionGroupIndex",GF="collectionGroup",Th="indexState",KF=["indexId","uid"],TA="sequenceNumberIndex",QF=["uid","sequenceNumber"],_h="indexEntries",YF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_A="documentKeyIndex",XF=["indexId","uid","orderedDocumentKey"],gy="documentOverlays",JF=["userId","collectionPath","documentId"],Xw="collectionPathOverlayIndex",ZF=["userId","collectionPath","largestBatchId"],IA="collectionGroupOverlayIndex",e9=["userId","collectionGroup","largestBatchId"],Rx="globals",t9="name",DA=[$h,cs,bc,sl,xc,xf,vl,Sc,Cc,Wh,Hh,py,my],n9=[...DA,gy],AA=[$h,cs,bc,xg,xc,xf,vl,Sc,Cc,Wh,Hh,py,my,gy],NA=AA,Ox=[...NA,jx,Th,_h],r9=Ox,PA=[...Ox,Rx],s9=PA;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jw extends xA{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function pn(t,e){const n=Fe(t);return ea.O(n.le,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ct{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new am(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new am(this.root,e,this.comparator,!1)}getReverseIterator(){return new am(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new am(this.root,e,this.comparator,!0)}}class am{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=i??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _n(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(t,e,n,r,s){return this}insert(t,e,n){return new _n(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ut{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oT(this.data.getIterator())}getIteratorFrom(e){return new oT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class oT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ou(t){return t.hasNext()?t.getNext():void 0}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ar{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new ar([])}unionWith(e){let n=new ut(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class RA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new RA("Invalid base64 string: "+s):s}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const i9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=i9.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zi(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const OA="server_timestamp",MA="__type__",LA="__previous_value__",VA="__local_write_time__";function Mx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[MA])==null?void 0:n.stringValue)===OA}function yy(t){const e=t.mapValue.fields[LA];return Mx(e)?yy(e):e}function Gh(t){const e=Bi(t.mapValue.fields[VA].timestampValue);return new rt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class o9{constructor(e,n,r,s,i,a,u,c,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=p}}const Cg="(default)";class Il{constructor(e,n){this.projectId=e,this.database=n||Cg}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===Cg}isEqual(e){return e instanceof Il&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Lx="__type__",FA="__max__",Yo={mapValue:{fields:{__type__:{stringValue:FA}}}},Vx="__vector__",Ec="value",Bm={nullValue:"NULL_VALUE"};function sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mx(t)?4:UA(t)?9007199254740991:vy(t)?10:11:Ce(28295,{value:t})}function ti(t,e){if(t===e)return!0;const n=sa(t);if(n!==sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gh(t).isEqual(Gh(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Bi(r.timestampValue),a=Bi(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,s){return zi(r.bytesValue).isEqual(zi(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,s){return xt(r.geoPointValue.latitude)===xt(s.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(s.geoPointValue.longitude)})(t,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return xt(r.integerValue)===xt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=xt(r.doubleValue),a=xt(s.doubleValue);return i===a?qh(i)===qh(a):isNaN(i)&&isNaN(a)}return!1})(t,e);case 9:return wc(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return(function(r,s){const i=r.mapValue.fields||{},a=s.mapValue.fields||{};if(iT(i)!==iT(a))return!1;for(const u in i)if(i.hasOwnProperty(u)&&(a[u]===void 0||!ti(i[u],a[u])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function Kh(t,e){return(t.values||[]).find((n=>ti(n,e)))!==void 0}function ia(t,e){if(t===e)return 0;const n=sa(t),r=sa(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return(function(s,i){const a=xt(s.integerValue||s.doubleValue),u=xt(i.integerValue||i.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return aT(t.timestampValue,e.timestampValue);case 4:return aT(Gh(t),Gh(e));case 5:return Gw(t.stringValue,e.stringValue);case 6:return(function(s,i){const a=zi(s),u=zi(i);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,i){const a=s.split("/"),u=i.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=Ve(a[c],u[c]);if(h!==0)return h}return Ve(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,i){const a=Ve(xt(s.latitude),xt(i.latitude));return a!==0?a:Ve(xt(s.longitude),xt(i.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return lT(t.arrayValue,e.arrayValue);case 10:return(function(s,i){var a,u,c,h;const p=s.fields||{},g=i.fields||{},v=(a=p[Ec])==null?void 0:a.arrayValue,C=(u=g[Ec])==null?void 0:u.arrayValue,_=Ve(((c=v==null?void 0:v.values)==null?void 0:c.length)||0,((h=C==null?void 0:C.values)==null?void 0:h.length)||0);return _!==0?_:lT(v,C)})(t.mapValue,e.mapValue);case 11:return(function(s,i){if(s===Yo.mapValue&&i===Yo.mapValue)return 0;if(s===Yo.mapValue)return 1;if(i===Yo.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=i.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const g=Gw(u[p],h[p]);if(g!==0)return g;const v=ia(a[u[p]],c[h[p]]);if(v!==0)return v}return Ve(u.length,h.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function aT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Bi(t),r=Bi(e),s=Ve(n.seconds,r.seconds);return s!==0?s:Ve(n.nanos,r.nanos)}function lT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ia(n[s],r[s]);if(i)return i}return Ve(n.length,r.length)}function kc(t){return Zw(t)}function Zw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(e){const n=Bi(e);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(e){return zi(e).toBase64()})(t.bytesValue):"referenceValue"in t?(function(e){return he.fromName(e).toString()})(t.referenceValue):"geoPointValue"in t?(function(e){return`geo(${e.latitude},${e.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(e){let n="[",r=!0;for(const s of e.values||[])r?r=!1:n+=",",n+=Zw(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(e){const n=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const i of n)s?s=!1:r+=",",r+=`${i}:${Zw(e.fields[i])}`;return r+"}"})(t.mapValue):Ce(61005,{value:t})}function zm(t){switch(sa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yy(t);return e?16+zm(e):16;case 5:return 2*t.stringValue.length;case 6:return zi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,s)=>r+zm(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let r=0;return ga(n.fields,((s,i)=>{r+=s.length+zm(i)})),r})(t.mapValue);default:throw Ce(13486,{value:t})}}function Qh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function eb(t){return!!t&&"integerValue"in t}function Yh(t){return!!t&&"arrayValue"in t}function uT(t){return!!t&&"nullValue"in t}function cT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qm(t){return!!t&&"mapValue"in t}function vy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[Lx])==null?void 0:n.stringValue)===Vx}function Ih(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ga(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ih(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ih(t.arrayValue.values[n]);return e}return{...t}}function UA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===FA}const BA={mapValue:{fields:{[Lx]:{stringValue:Vx},[Ec]:{arrayValue:{}}}}};function a9(t){return"nullValue"in t?Bm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Qh(Il.empty(),he.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?vy(t)?BA:{mapValue:{}}:Ce(35942,{value:t})}function l9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Qh(Il.empty(),he.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?BA:"mapValue"in t?vy(t)?{mapValue:{}}:Yo:Ce(61959,{value:t})}function dT(t,e){const n=ia(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function hT(t,e){const n=ia(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ih(n)}setAll(e){let n=Tt.emptyPath(),r={},s=[];e.forEach(((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=u.popLast()}a?r[u.lastSegment()]=Ih(a):s.push(u.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());qm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];qm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ga(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Mn(Ih(this.value))}}function zA(t){const e=[];return ga(t.fields,((n,r)=>{const s=new Tt([n]);if(qm(r)){const i=zA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)})),new ar(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rt{constructor(e,n,r,s,i,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Rt(e,0,De.min(),De.min(),De.min(),Mn.empty(),0)}static newFoundDocument(e,n,r,s){return new Rt(e,1,n,De.min(),r,s,0)}static newNoDocument(e,n){return new Rt(e,2,n,De.min(),De.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,De.min(),De.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tc{constructor(e,n){this.position=e,this.inclusive=n}}function fT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=he.comparator(he.fromName(a.referenceValue),n.key):r=ia(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function pT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function u9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qA{}class Ke extends qA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new c9(e,n,r):n==="array-contains"?new f9(e,r):n==="in"?new QA(e,r):n==="not-in"?new p9(e,r):n==="array-contains-any"?new m9(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new d9(e,r):new h9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ia(n,this.value)):n!==null&&sa(this.value)===sa(n)&&this.matchesComparison(ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends qA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lt(e,n)}matches(e){return _c(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _c(t){return t.op==="and"}function tb(t){return t.op==="or"}function Fx(t){return $A(t)&&_c(t)}function $A(t){for(const e of t.filters)if(e instanceof lt)return!1;return!0}function nb(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+kc(t.value);if(Fx(t))return t.filters.map((e=>nb(e))).join(",");{const e=t.filters.map((n=>nb(n))).join(",");return`${t.op}(${e})`}}function WA(t,e){return t instanceof Ke?(function(n,r){return r instanceof Ke&&n.op===r.op&&n.field.isEqual(r.field)&&ti(n.value,r.value)})(t,e):t instanceof lt?(function(n,r){return r instanceof lt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((s,i,a)=>s&&WA(i,r.filters[a])),!0):!1})(t,e):void Ce(19439)}function HA(t,e){const n=t.filters.concat(e);return lt.create(n,t.op)}function GA(t){return t instanceof Ke?(function(e){return`${e.field.canonicalString()} ${e.op} ${kc(e.value)}`})(t):t instanceof lt?(function(e){return e.op.toString()+" {"+e.getFilters().map(GA).join(" ,")+"}"})(t):"Filter"}class c9 extends Ke{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class d9 extends Ke{constructor(e,n){super(e,"in",n),this.keys=KA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class h9 extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=KA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function KA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>he.fromName(r.referenceValue)))}class f9 extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yh(n)&&Kh(n.arrayValue,this.value)}}class QA extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kh(this.value.arrayValue,n)}}class p9 extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kh(this.value.arrayValue,n)}}class m9 extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Kh(this.value.arrayValue,r)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class g9{constructor(e,n=null,r=[],s=[],i=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=u,this.Te=null}}function rb(t,e=null,n=[],r=[],s=null,i=null,a=null){return new g9(t,e,n,r,s,i,a)}function Dl(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>nb(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),fy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>kc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>kc(r))).join(",")),e.Te=n}return e.Te}function Sf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pT(t.startAt,e.startAt)&&pT(t.endAt,e.endAt)}function Eg(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function kg(t,e){return t.filters.filter((n=>n instanceof Ke&&n.field.isEqual(e)))}function mT(t,e,n){let r=Bm,s=!0;for(const i of kg(t,e)){let a=Bm,u=!0;switch(i.op){case"<":case"<=":a=a9(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,u=!1;break;case"!=":case"not-in":a=Bm}dT({value:r,inclusive:s},{value:a,inclusive:u})<0&&(r=a,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];dT({value:r,inclusive:s},{value:a,inclusive:n.inclusive})<0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}function gT(t,e,n){let r=Yo,s=!0;for(const i of kg(t,e)){let a=Yo,u=!0;switch(i.op){case">=":case">":a=l9(i.value),u=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,u=!1;break;case"!=":case"not-in":a=Yo}hT({value:r,inclusive:s},{value:a,inclusive:u})>0&&(r=a,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];hT({value:r,inclusive:s},{value:a,inclusive:n.inclusive})>0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vc{constructor(e,n=null,r=[],s=[],i=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function y9(t,e,n,r,s,i,a,u){return new Vc(t,e,n,r,s,i,a,u)}function Cf(t){return new Vc(t)}function yT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YA(t){return t.collectionGroup!==null}function Dh(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let i=new ut(Tt.comparator);return s.filters.forEach((a=>{a.getFlattenedFilters().forEach((u=>{u.isInequality()&&(i=i.add(u.field))}))})),i})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Xh(s,r))})),n.has(Tt.keyField().canonicalString())||e.Ie.push(new Xh(Tt.keyField(),r))}return e.Ie}function Gr(t){const e=Fe(t);return e.Ee||(e.Ee=v9(e,Dh(t))),e.Ee}function v9(t,e){if(t.limitType==="F")return rb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Xh(s.field,i)}));const n=t.endAt?new Tc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tc(t.startAt.position,t.startAt.inclusive):null;return rb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sb(t,e){const n=t.filters.concat([e]);return new Vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tg(t,e,n){return new Vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wy(t,e){return Sf(Gr(t),Gr(e))&&t.limitType===e.limitType}function XA(t){return`${Dl(Gr(t))}|lt:${t.limitType}`}function tc(t){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((r=>GA(r))).join(", ")}]`),fy(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((r=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(r))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>kc(r))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>kc(r))).join(",")),`Target(${n})`})(Gr(t))}; limitType=${t.limitType})`}function Ef(t,e){return e.isFoundDocument()&&(function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):he.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,r){for(const s of Dh(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0})(t,e)&&(function(n,r){return!(n.startAt&&!(function(s,i,a){const u=fT(s,i,a);return s.inclusive?u<=0:u<0})(n.startAt,Dh(n),r)||n.endAt&&!(function(s,i,a){const u=fT(s,i,a);return s.inclusive?u>=0:u>0})(n.endAt,Dh(n),r))})(t,e)}function w9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JA(t){return(e,n)=>{let r=!1;for(const s of Dh(t)){const i=b9(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function b9(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):(function(s,i,a){const u=i.data.field(s),c=a.data.field(s);return u!==null&&c!==null?ia(u,c):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return jA(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const x9=new Ct(he.comparator);function Er(){return x9}const ZA=new Ct(he.comparator);function gh(...t){let e=ZA;for(const n of t)e=e.insert(n.key,n);return e}function eN(t){let e=ZA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function $s(){return Ah()}function tN(){return Ah()}function Ah(){return new Xi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const S9=new Ct(he.comparator),C9=new ut(he.comparator);function We(...t){let e=C9;for(const n of t)e=e.add(n);return e}const E9=new ut(Ve);function k9(){return E9}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ux(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function nN(t){return{integerValue:""+t}}function T9(t,e){return PF(e)?nN(e):Ux(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class by{constructor(){this._=void 0}}function _9(t,e,n){return t instanceof Ic?(function(r,s){const i={fields:{[MA]:{stringValue:OA},[VA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Mx(s)&&(s=yy(s)),s&&(i.fields[LA]=s),{mapValue:i}})(n,e):t instanceof Dc?sN(t,e):t instanceof Ac?iN(t,e):(function(r,s){const i=rN(r,s),a=vT(i)+vT(r.Ae);return eb(i)&&eb(r.Ae)?nN(a):Ux(r.serializer,a)})(t,e)}function I9(t,e,n){return t instanceof Dc?sN(t,e):t instanceof Ac?iN(t,e):n}function rN(t,e){return t instanceof Jh?(function(n){return eb(n)||(function(r){return!!r&&"doubleValue"in r})(n)})(e)?e:{integerValue:0}:null}class Ic extends by{}class Dc extends by{constructor(e){super(),this.elements=e}}function sN(t,e){const n=oN(e);for(const r of t.elements)n.some((s=>ti(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Ac extends by{constructor(e){super(),this.elements=e}}function iN(t,e){let n=oN(e);for(const r of t.elements)n=n.filter((s=>!ti(s,r)));return{arrayValue:{values:n}}}class Jh extends by{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vT(t){return xt(t.integerValue||t.doubleValue)}function oN(t){return Yh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aN{constructor(e,n){this.field=e,this.transform=n}}function D9(t,e){return t.field.isEqual(e.field)&&(function(n,r){return n instanceof Dc&&r instanceof Dc||n instanceof Ac&&r instanceof Ac?wc(n.elements,r.elements,ti):n instanceof Jh&&r instanceof Jh?ti(n.Ae,r.Ae):n instanceof Ic&&r instanceof Ic})(t.transform,e.transform)}class A9{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $m(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let xy=class{};function lN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sy(t.key,Ln.none()):new Fc(t.key,t.data,Ln.none());{const n=t.data,r=Mn.empty();let s=new ut(Tt.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Ji(t.key,r,new ar(s.toArray()),Ln.none())}}function N9(t,e,n){t instanceof Fc?(function(r,s,i){const a=r.value.clone(),u=bT(r.fieldTransforms,s,i.transformResults);a.setAll(u),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Ji?(function(r,s,i){if(!$m(r.precondition,s))return void s.convertToUnknownDocument(i.version);const a=bT(r.fieldTransforms,s,i.transformResults),u=s.data;u.setAll(uN(r)),u.setAll(a),s.convertToFoundDocument(i.version,u).setHasCommittedMutations()})(t,e,n):(function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()})(0,e,n)}function Nh(t,e,n,r){return t instanceof Fc?(function(s,i,a,u){if(!$m(s.precondition,i))return a;const c=s.value.clone(),h=xT(s.fieldTransforms,u,i);return c.setAll(h),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ji?(function(s,i,a,u){if(!$m(s.precondition,i))return a;const c=xT(s.fieldTransforms,u,i),h=i.data;return h.setAll(uN(s)),h.setAll(c),i.convertToFoundDocument(i.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,i,a){return $m(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a})(t,e,n)}function P9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=rN(r.transform,s||null);i!=null&&(n===null&&(n=Mn.empty()),n.set(r.field,i))}return n||null}function wT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&wc(n,r,((s,i)=>D9(s,i)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fc extends xy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ji extends xy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function uN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function bT(t,e,n){const r=new Map;_e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,u=e.data.field(i.field);r.set(i.field,I9(a,u,n[s]))}return r}function xT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,_9(i,a,e))}return r}class Sy extends xy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cN extends xy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bx{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&N9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tN();return this.mutations.forEach((s=>{const i=e.get(s.key),a=i.overlayedDocument;let u=this.applyToLocalView(a,i.mutatedFields);u=n.has(s.key)?null:u;const c=lN(a,u);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&wc(this.mutations,e.mutations,((n,r)=>wT(n,r)))&&wc(this.baseMutations,e.baseMutations,((n,r)=>wT(n,r)))}}class zx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){_e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return S9})();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new zx(e,n,r,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class j9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var sn,Xe;function R9(t){switch(t){case te.OK:return Ce(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function dN(t){if(t===void 0)return qn("GRPC error has no .code"),te.UNKNOWN;switch(t){case sn.OK:return te.OK;case sn.CANCELLED:return te.CANCELLED;case sn.UNKNOWN:return te.UNKNOWN;case sn.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case sn.INTERNAL:return te.INTERNAL;case sn.UNAVAILABLE:return te.UNAVAILABLE;case sn.UNAUTHENTICATED:return te.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case sn.NOT_FOUND:return te.NOT_FOUND;case sn.ALREADY_EXISTS:return te.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return te.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case sn.ABORTED:return te.ABORTED;case sn.OUT_OF_RANGE:return te.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return te.UNIMPLEMENTED;case sn.DATA_LOSS:return te.DATA_LOSS;default:return Ce(39323,{code:t})}}(Xe=sn||(sn={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function O9(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const M9=new Zo([4294967295,4294967295],0);function ST(t){const e=O9().encode(t),n=new lA;return n.update(e),new Uint8Array(n.digest())}function CT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Zo([n,r],0),new Zo([s,i],0)]}class $x{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yh(`Invalid padding: ${n}`);if(r<0)throw new yh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Zo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Zo.fromNumber(r)));return s.compare(M9)===1&&(s=new Zo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ST(e),[r,s]=CT(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new $x(i,s,n);return r.forEach((u=>a.insert(u))),a}insert(e){if(this.ge===0)return;const n=ST(e),[r,s]=CT(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,kf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cy(De.min(),s,new Ct(Ve),Er(),We())}}class kf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kf(r,n,We(),We(),We())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wm{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class hN{constructor(e,n){this.targetId=e,this.Ce=n}}class fN{constructor(e,n,r=ln.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class ET{constructor(){this.ve=0,this.Fe=kT(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),r=We();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ce(38017,{changeType:i})}})),new kf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=kT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class L9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Er(),this.Je=lm(),this.He=lm(),this.Ye=new Ct(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Eg(i))if(r===0){const a=new he(i.path);this.et(n,a,Rt.newNoDocument(a,De.min()))}else _e(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const u=this.ut(e),c=u?this.ct(u,e,a):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,u;try{a=zi(r).toUint8Array()}catch(c){if(c instanceof RA)return _l("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new $x(a,s,i)}catch(c){return _l(c instanceof yh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,a)=>{const u=this.ot(a);if(u){if(i.current&&Eg(u.target)){const c=new he(u.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Rt.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}}));let r=We();this.He.forEach(((i,a)=>{let u=!0;a.forEachWhile((c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(e)));const s=new Cy(e,n,this.Ye,this.je,r);return this.je=Er(),this.Je=lm(),this.He=lm(),this.Ye=new Ct(Ve),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ET,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ut(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ut(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ET),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lm(){return new Ct(he.comparator)}function kT(){return new Ct(he.comparator)}const V9={asc:"ASCENDING",desc:"DESCENDING"},F9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U9={and:"AND",or:"OR"};class B9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ib(t,e){return t.useProto3Json||fy(e)?e:{value:e}}function Nc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z9(t,e){return Nc(t,e.toTimestamp())}function Gn(t){return _e(!!t,49232),De.fromTimestamp((function(e){const n=Bi(e);return new rt(n.seconds,n.nanos)})(t))}function Wx(t,e){return ob(t,e).canonicalString()}function ob(t,e){const n=(function(r){return new ot(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function mN(t){const e=ot.fromString(t);return _e(EN(e),10190,{key:e.toString()}),e}function _g(t,e){return Wx(t.databaseId,e.path)}function wl(t,e){const n=mN(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(vN(n))}function gN(t,e){return Wx(t.databaseId,e)}function yN(t){const e=mN(t);return e.length===4?ot.emptyPath():vN(e)}function ab(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vN(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TT(t,e,n){return{name:_g(t,e),fields:n.value.mapValue.fields}}function q9(t,e,n){const r=wl(t,e.name),s=Gn(e.updateTime),i=e.createTime?Gn(e.createTime):De.min(),a=new Mn({mapValue:{fields:e.fields}}),u=Rt.newFoundDocument(r,s,i,a);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function $9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ce(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(c,h){return c.useProto3Json?(_e(h===void 0||typeof h=="string",58123),ln.fromBase64String(h||"")):(_e(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ln.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(c){const h=c.code===void 0?te.UNKNOWN:dN(c.code);return new ce(h,c.message||"")})(a);n=new fN(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=wl(t,r.document.name),i=Gn(r.document.updateTime),a=r.document.createTime?Gn(r.document.createTime):De.min(),u=new Mn({mapValue:{fields:r.document.fields}}),c=Rt.newFoundDocument(s,i,a,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Wm(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=wl(t,r.document),i=r.readTime?Gn(r.readTime):De.min(),a=Rt.newNoDocument(s,i),u=r.removedTargetIds||[];n=new Wm([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=wl(t,r.document),i=r.removedTargetIds||[];n=new Wm([],i,s,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new j9(s,i),u=r.targetId;n=new hN(u,a)}}return n}function Ig(t,e){let n;if(e instanceof Fc)n={update:TT(t,e.key,e.value)};else if(e instanceof Sy)n={delete:_g(t,e.key)};else if(e instanceof Ji)n={update:TT(t,e.key,e.data),updateMask:Y9(e.fieldMask)};else{if(!(e instanceof cN))return Ce(16599,{Vt:e.type});n={verify:_g(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,i){const a=i.transform;if(a instanceof Ic)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ac)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jh)return{fieldPath:i.field.canonicalString(),increment:a.Ae};throw Ce(20930,{transform:i.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:z9(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce(27497)})(t,e.precondition)),n}function lb(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Ln.updateTime(Gn(s.updateTime)):s.exists!==void 0?Ln.exists(s.exists):Ln.none()})(e.currentDocument):Ln.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(i,a){let u=null;if("setToServerValue"in a)_e(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),u=new Ic;else if("appendMissingElements"in a){const h=a.appendMissingElements.values||[];u=new Dc(h)}else if("removeAllFromArray"in a){const h=a.removeAllFromArray.values||[];u=new Ac(h)}else"increment"in a?u=new Jh(i,a.increment):Ce(16584,{proto:a});const c=Tt.fromServerFormat(a.fieldPath);return new aN(c,u)})(t,s))):[];if(e.update){e.update.name;const s=wl(t,e.update.name),i=new Mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(u){const c=u.fieldPaths||[];return new ar(c.map((h=>Tt.fromServerFormat(h))))})(e.updateMask);return new Ji(s,i,a,n,r)}return new Fc(s,i,n,r)}if(e.delete){const s=wl(t,e.delete);return new Sy(s,n)}if(e.verify){const s=wl(t,e.verify);return new cN(s,n)}return Ce(1463,{proto:e})}function W9(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map((n=>(function(r,s){let i=r.updateTime?Gn(r.updateTime):Gn(s);return i.isEqual(De.min())&&(i=Gn(s)),new A9(i,r.transformResults||[])})(n,e)))):[]}function wN(t,e){return{documents:[gN(t,e.path)]}}function bN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gN(t,s);const i=(function(c){if(c.length!==0)return CN(lt.create(c,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(c){if(c.length!==0)return c.map((h=>(function(p){return{field:nc(p.field),direction:G9(p.dir)}})(h)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=ib(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:s}}function xN(t){let e=yN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){_e(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=(function(p){const g=SN(p);return g instanceof lt&&Fx(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(v){return new Xh(rc(v.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let g;return g=typeof p=="object"?p.value:p,fy(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new Tc(v,g)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const g=!p.before,v=p.values||[];return new Tc(v,g)})(n.endAt)),y9(e,s,a,i,u,"F",c,h)}function H9(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SN(t){return t.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=rc(e.unaryFilter.field);return Ke.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=rc(e.unaryFilter.field);return Ke.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rc(e.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=rc(e.unaryFilter.field);return Ke.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(e){return Ke.create(rc(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(e){return lt.create(e.compositeFilter.filters.map((n=>SN(n))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(e.compositeFilter.op))})(t):Ce(30097,{filter:t})}function G9(t){return V9[t]}function K9(t){return F9[t]}function Q9(t){return U9[t]}function nc(t){return{fieldPath:t.canonicalString()}}function rc(t){return Tt.fromServerFormat(t.fieldPath)}function CN(t){return t instanceof Ke?(function(e){if(e.op==="=="){if(cT(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NAN"}};if(uT(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(cT(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NOT_NAN"}};if(uT(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nc(e.field),op:K9(e.op),value:e.value}}})(t):t instanceof lt?(function(e){const n=e.getFilters().map((r=>CN(r)));return n.length===1?n[0]:{compositeFilter:{op:Q9(e.op),filters:n}}})(t):Ce(54877,{filter:t})}function Y9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function EN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Oi{constructor(e,n,r,s,i=De.min(),a=De.min(),u=ln.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kN{constructor(e){this.yt=e}}function X9(t,e){let n;if(e.document)n=q9(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=he.fromSegments(e.noDocument.path),s=Nl(e.noDocument.readTime);n=Rt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ce(56709);{const r=he.fromSegments(e.unknownDocument.path),s=Nl(e.unknownDocument.version);n=Rt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(r){const s=new rt(r[0],r[1]);return De.fromTimestamp(s)})(e.readTime)),n}function _T(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Dg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,i){return{name:_g(s,i.key),fields:i.data.value.mapValue.fields,updateTime:Nc(s,i.version.toTimestamp()),createTime:Nc(s,i.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Al(e.version)};else{if(!e.isUnknownDocument())return Ce(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Al(e.version)}}return r}function Dg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Al(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nl(t){const e=new rt(t.seconds,t.nanoseconds);return De.fromTimestamp(e)}function ll(t,e){const n=(e.baseMutations||[]).map((i=>lb(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];a.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>lb(t.yt,i))),s=rt.fromMillis(e.localWriteTimeMs);return new Bx(e.batchId,s,n,r)}function vh(t){const e=Nl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Nl(t.lastLimboFreeSnapshotVersion):De.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const i=s.documents.length;return _e(i===1,1966,{count:i}),Gr(Cf(yN(s.documents[0])))})(t.query):(function(s){return Gr(xN(s))})(t.query),new Oi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,ln.fromBase64String(t.resumeToken))}function TN(t,e){const n=Al(e.snapshotVersion),r=Al(e.lastLimboFreeSnapshotVersion);let s;s=Eg(e.target)?wN(t.yt,e.target):bN(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Dl(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function _N(t){const e=xN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tg(e,e.limit,"L"):e}function M0(t,e){return new qx(e.largestBatchId,lb(t.yt,e.overlayMutation))}function IT(t,e){const n=e.path.lastSegment();return[t,Fn(e.path.popLast()),n]}function DT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Al(r.readTime),documentKey:Fn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J9{getBundleMetadata(e,n){return AT(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Nl(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return AT(e).put((function(r){return{bundleId:r.id,createTime:Al(Gn(r.createTime)),version:r.version}})(n))}getNamedQuery(e,n){return NT(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:_N(s.bundledQuery),readTime:Nl(s.readTime)}})(r)}))}saveNamedQuery(e,n){return NT(e).put((function(r){return{name:r.name,readTime:Al(Gn(r.readTime)),bundledQuery:r.bundledQuery}})(n))}}function AT(t){return pn(t,py)}function NT(t){return pn(t,my)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ey{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Ey(e,r)}getOverlay(e,n){return $d(e).get(IT(this.userId,n)).next((r=>r?M0(this.serializer,r):null))}getOverlays(e,n){const r=$s();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,a)=>{const u=new qx(n,a);s.push(this.St(e,u))})),Q.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((a=>s.add(Fn(a.getCollectionPath()))));const i=[];return s.forEach((a=>{const u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);i.push($d(e).Z(Xw,u))})),Q.waitFor(i)}getOverlaysForCollection(e,n,r){const s=$s(),i=Fn(n),a=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return $d(e).J(Xw,a).next((u=>{for(const c of u){const h=M0(this.serializer,c);s.set(h.getKey(),h)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=$s();let a;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return $d(e).ee({index:IA,range:u},((c,h,p)=>{const g=M0(this.serializer,h);i.size()<s||g.largestBatchId===a?(i.set(g.getKey(),g),a=g.largestBatchId):p.done()})).next((()=>i))}St(e,n){return $d(e).put((function(r,s,i){const[a,u,c]=IT(s,i.mutation.key);return{userId:s,collectionPath:u,documentId:c,collectionGroup:i.mutation.key.getCollectionGroup(),largestBatchId:i.largestBatchId,overlayMutation:Ig(r.yt,i.mutation)}})(this.serializer,this.userId,n))}}function $d(t){return pn(t,gy)}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Z9{bt(e){return pn(e,Rx)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?ln.fromUint8Array(r):ln.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ul{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(xt(e.integerValue));else if("doubleValue"in e){const r=xt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),qh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Bi(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(zi(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?UA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):vy(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ce(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){var r,s;const i=e.fields||{};this.Ft(n,53);const a=Ec,u=((s=(r=i[a].arrayValue)==null?void 0:r.values)==null?void 0:s.length)||0;this.Ft(n,15),n.Mt(xt(u)),this.Ot(a,n),this.Ct(i[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),he.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}ul.Kt=new ul;/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law | agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Mu=255;function eU(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function PT(t){const e=64-(function(n){let r=0;for(let s=0;s<8;++s){const i=eU(255&n[s]);if(r+=i,i!==8)break}return r})(t);return Math.ceil(e/8)}class tU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=PT(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=PT(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(Mu),this.sn(255)}_n(){this.an(Mu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const i=new DataView(new ArrayBuffer(8));return i.setFloat64(0,s,!1),new Uint8Array(i.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Mu?(this.sn(Mu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Mu?(this.an(Mu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class nU{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class rU{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Wd{constructor(){this.cn=new tU,this.ln=new nU(this.cn),this.hn=new rU(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cl{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new cl(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Hm(this.En),directionalValue:Hm(this.dn),orderedDocumentKey:Hm(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Oo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=jT(t.En,e.En),n!==0?n:(n=jT(t.dn,e.dn),n!==0?n:he.comparator(t.In,e.In)))}function jT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Hm(t){return bD()?(function(e){let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return n})(t):t}function RT(t){return typeof t!="string"?t:(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(t)}class OT{constructor(e){this.mn=new ut(((n,r)=>Tt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(_e(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Kw(e);if(n!==void 0&&!this.wn(n))return!1;const r=rl(e);let s=new Set,i=0,a=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const c=r[i];if(!this.Sn(u,c)||!this.bn(this.fn[a++],c))return!1}++i}for(;i<r.length;++i){const u=r[i];if(a>=this.fn.length||!this.bn(this.fn[a++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new ut(Tt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Vm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Vm(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Vm(r.field,r.dir==="asc"?0:1)));return new wg(wg.UNKNOWN_ID,this.collectionId,n,zh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function IN(t){var e,n;if(_e(t instanceof Ke||t instanceof lt,20012),t instanceof Ke){if(t instanceof QA){const s=((n=(e=t.value.arrayValue)==null?void 0:e.values)==null?void 0:n.map((i=>Ke.create(t.field,"==",i))))||[];return lt.create(s,"or")}return t}const r=t.filters.map((s=>IN(s)));return lt.create(r,t.op)}function sU(t){if(t.getFilters().length===0)return[];const e=db(IN(t));return _e(DN(e),7391),ub(e)||cb(e)?[e]:e.getFilters()}function ub(t){return t instanceof Ke}function cb(t){return t instanceof lt&&Fx(t)}function DN(t){return ub(t)||cb(t)||(function(e){if(e instanceof lt&&tb(e)){for(const n of e.getFilters())if(!ub(n)&&!cb(n))return!1;return!0}return!1})(t)}function db(t){if(_e(t instanceof Ke||t instanceof lt,34018),t instanceof Ke)return t;if(t.filters.length===1)return db(t.filters[0]);const e=t.filters.map((r=>db(r)));let n=lt.create(e,t.op);return n=Ag(n),DN(n)?n:(_e(n instanceof lt,64498),_e(_c(n),40251),_e(n.filters.length>1,57927),n.filters.reduce(((r,s)=>Hx(r,s))))}function Hx(t,e){let n;return _e(t instanceof Ke||t instanceof lt,38388),_e(e instanceof Ke||e instanceof lt,25473),n=t instanceof Ke?e instanceof Ke?(function(r,s){return lt.create([r,s],"and")})(t,e):MT(t,e):e instanceof Ke?MT(e,t):(function(r,s){if(_e(r.filters.length>0&&s.filters.length>0,48005),_c(r)&&_c(s))return HA(r,s.getFilters());const i=tb(r)?r:s,a=tb(r)?s:r,u=i.filters.map((c=>Hx(c,a)));return lt.create(u,"or")})(t,e),Ag(n)}function MT(t,e){if(_c(e))return HA(e,t.getFilters());{const n=e.filters.map((r=>Hx(t,r)));return lt.create(n,"or")}}function Ag(t){if(_e(t instanceof Ke||t instanceof lt,11850),t instanceof Ke)return t;const e=t.getFilters();if(e.length===1)return Ag(e[0]);if($A(t))return t;const n=e.map((s=>Ag(s))),r=[];return n.forEach((s=>{s instanceof Ke?r.push(s):s instanceof lt&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:lt.create(r,t.op)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class iU{constructor(){this.Cn=new Gx}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(_r.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Gx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ut(ot.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ut(ot.comparator)).toArray()}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const LT="IndexedDbIndexManager",um=new Uint8Array(0);class oU{constructor(e,n){this.databaseId=n,this.vn=new Gx,this.Fn=new Xi((r=>Dl(r)),((r,s)=>Sf(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:Fn(s)};return VT(e).put(i)}return Q.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[gA(n),""],!1,!0);return VT(e).J(s).next((i=>{for(const a of i){if(a.collectionId!==n)break;r.push(qs(a.parent))}return r}))}addFieldIndex(e,n){const r=Hd(e),s=(function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const a=Vu(e);return i.next((u=>{a.put(DT(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=Hd(e),s=Vu(e),i=Lu(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Hd(e),r=Lu(e),s=Vu(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new OT(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=Lu(e);let s=!0;const i=new Map;return Q.forEach(this.Mn(n),(a=>this.xn(e,a).next((u=>{s&&(s=!!u),i.set(a,u)})))).next((()=>{if(s){let a=We();const u=[];return Q.forEach(i,((c,h)=>{le(LT,`Using index ${(function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map((O=>`${O.fieldPath}:${O.kind}`)).join(",")}`})(c)} to execute ${Dl(n)}`);const p=(function(P,O){const U=Kw(O);if(U===void 0)return null;for(const z of kg(P,U.fieldPath))switch(z.op){case"array-contains-any":return z.value.arrayValue.values||[];case"array-contains":return[z.value]}return null})(h,c),g=(function(P,O){const U=new Map;for(const z of rl(O))for(const H of kg(P,z.fieldPath))switch(H.op){case"==":case"in":U.set(z.fieldPath.canonicalString(),H.value);break;case"not-in":case"!=":return U.set(z.fieldPath.canonicalString(),H.value),Array.from(U.values())}return null})(h,c),v=(function(P,O){const U=[];let z=!0;for(const H of rl(O)){const j=H.kind===0?mT(P,H.fieldPath,P.startAt):gT(P,H.fieldPath,P.startAt);U.push(j.value),z&&(z=j.inclusive)}return new Tc(U,z)})(h,c),C=(function(P,O){const U=[];let z=!0;for(const H of rl(O)){const j=H.kind===0?gT(P,H.fieldPath,P.endAt):mT(P,H.fieldPath,P.endAt);U.push(j.value),z&&(z=j.inclusive)}return new Tc(U,z)})(h,c),_=this.On(c,h,v),k=this.On(c,h,C),T=this.Nn(c,h,g),A=this.Bn(c.indexId,p,_,v.inclusive,k,C.inclusive,T);return Q.forEach(A,(P=>r.Y(P,n.limit).next((O=>{O.forEach((U=>{const z=he.fromSegments(U.documentKey);a.has(z)||(a=a.add(z),u.push(z))}))}))))})).next((()=>u))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=sU(lt.create(e.filters,"and")).map((r=>rb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,a,u){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),h=c/(n!=null?n.length:1),p=[];for(let g=0;g<c;++g){const v=n?this.Ln(n[g/h]):um,C=this.kn(e,v,r[g%h],s),_=this.qn(e,v,i[g%h],a),k=u.map((T=>this.kn(e,v,T,!0)));p.push(...this.createRange(C,_,k))}return p}kn(e,n,r,s){const i=new cl(e,he.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new cl(e,he.empty(),n,r);return s?i.An():i}xn(e,n){const r=new OT(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let a=null;for(const u of i)r.yn(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return Q.forEach(s,(i=>this.xn(e,i).next((a=>{a?r!==0&&a.fields.length<(function(u){let c=new ut(Tt.comparator),h=!1;for(const p of u.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?h=!0:c=c.add(g.field));for(const p of u.orderBy)p.field.isKeyField()||(c=c.add(p.field));return c.size+(h?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(i){return i.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new Wd;for(const s of rl(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const a=r.Pn(s.kind);ul.Kt.Dt(i,a)}return r.un()}Ln(e){const n=new Wd;return ul.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Wd;return ul.Kt.Dt(Qh(this.databaseId,n),r.Pn((function(s){const i=rl(s);return i.length===0?0:i[i.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new Wd);let i=0;for(const a of rl(e)){const u=r[i++];for(const c of s)if(this.Un(n,a.fieldPath)&&Yh(u))s=this.Kn(s,a,u);else{const h=c.Pn(a.kind);ul.Kt.Dt(u,h)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const a of r.arrayValue.values||[])for(const u of s){const c=new Wd;c.seed(u.un()),ul.Kt.Dt(a,c.Pn(n.kind)),i.push(c)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof Ke&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Hd(e),s=Vu(e);return(n?r.J(Yw,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const a=[];return Q.forEach(i,(u=>s.get([u.indexId,this.uid]).next((c=>{a.push((function(h,p){const g=p?new zh(p.sequenceNumber,new _r(Nl(p.readTime),new he(qs(p.documentKey)),p.largestBatchId)):zh.empty(),v=h.fields.map((([C,_])=>new Vm(Tt.fromServerFormat(C),_)));return new wg(h.indexId,h.collectionGroup,v,g)})(u,c))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Ve(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=Hd(e),i=Vu(e);return this.Gn(e).next((a=>s.J(Yw,IDBKeyRange.bound(n,n)).next((u=>Q.forEach(u,(c=>i.put(DT(c.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((s,i)=>{const a=r.get(s.collectionGroup);return(a?Q.resolve(a):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Q.forEach(u,(c=>this.zn(e,s,c).next((h=>{const p=this.jn(i,c);return h.isEqual(p)?Q.resolve():this.Jn(e,i,c,h,p)})))))))}))}Hn(e,n,r,s){return Lu(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return Lu(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=Lu(e);let i=new ut(Oo);return s.ee({index:_A,range:IDBKeyRange.only([r.indexId,this.uid,Hm(this.$n(r,n))])},((a,u)=>{i=i.add(new cl(r.indexId,n,RT(u.arrayValue),RT(u.directionalValue)))})).next((()=>i))}jn(e,n){let r=new ut(Oo);const s=this.Qn(n,e);if(s==null)return r;const i=Kw(n);if(i!=null){const a=e.data.field(i.fieldPath);if(Yh(a))for(const u of a.arrayValue.values||[])r=r.add(new cl(n.indexId,e.key,this.Ln(u),s))}else r=r.add(new cl(n.indexId,e.key,um,s));return r}Jn(e,n,r,s,i){le(LT,"Updating index entries for document '%s'",n.key);const a=[];return(function(u,c,h,p,g){const v=u.getIterator(),C=c.getIterator();let _=Ou(v),k=Ou(C);for(;_||k;){let T=!1,A=!1;if(_&&k){const P=h(_,k);P<0?A=!0:P>0&&(T=!0)}else _!=null?A=!0:T=!0;T?(p(k),k=Ou(C)):A?(g(_),_=Ou(v)):(_=Ou(v),k=Ou(C))}})(s,i,Oo,(u=>{a.push(this.Hn(e,n,r,u))}),(u=>{a.push(this.Yn(e,n,r,u))})),Q.waitFor(a)}Gn(e){let n=1;return Vu(e).ee({index:TA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,u)=>Oo(a,u))).filter(((a,u,c)=>!u||Oo(a,c[u-1])!==0));const s=[];s.push(e);for(const a of r){const u=Oo(a,e),c=Oo(a,n);if(u===0)s[0]=e.An();else if(u>0&&c<0)s.push(a),s.push(a.An());else if(c>0)break}s.push(n);const i=[];for(let a=0;a<s.length;a+=2){if(this.Zn(s[a],s[a+1]))return[];const u=s[a].Vn(this.uid,um,he.empty()),c=s[a+1].Vn(this.uid,um,he.empty());i.push(IDBKeyRange.bound(u,c))}return i}Zn(e,n){return Oo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(FT)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||Ce(44426))))).next(FT)}}function VT(t){return pn(t,Hh)}function Lu(t){return pn(t,_h)}function Hd(t){return pn(t,jx)}function Vu(t){return pn(t,Th)}function FT(t){_e(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;Ax(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new _r(e.readTime,e.documentKey,n)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AN=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function NN(t,e,n){const r=t.store(cs),s=t.store(bc),i=[],a=IDBKeyRange.only(n.batchId);let u=0;const c=r.ee({range:a},((p,g,v)=>(u++,v.delete())));i.push(c.next((()=>{_e(u===1,47070,{batchId:n.batchId})})));const h=[];for(const p of n.mutations){const g=CA(e,p.key.path,n.batchId);i.push(s.delete(g)),h.push(p.key)}return Q.waitFor(i).next((()=>h))}function Ng(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ce(14731);e=t.noDocument}return JSON.stringify(e).length}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(AN,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class ky{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){_e(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new ky(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mo(e).ee({index:dl,range:r},((s,i,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=sc(e),a=Mo(e);return a.add({}).next((u=>{_e(typeof u=="number",49019);const c=new Bx(u,n,r,s),h=(function(v,C,_){const k=_.baseMutations.map((A=>Ig(v.yt,A))),T=_.mutations.map((A=>Ig(v.yt,A)));return{userId:C,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:k,mutations:T}})(this.serializer,this.userId,c),p=[];let g=new ut(((v,C)=>Ve(v.canonicalString(),C.canonicalString())));for(const v of s){const C=CA(this.userId,v.key.path,u);g=g.add(v.key.path.popLast()),p.push(a.put(h)),p.push(i.put(C,OF))}return g.forEach((v=>{p.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=c.keys()})),Q.waitFor(p).next((()=>c))}))}lookupMutationBatch(e,n){return Mo(e).get(n).next((r=>r?(_e(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),ll(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Mo(e).ee({index:dl,range:s},((a,u,c)=>{u.userId===this.userId&&(_e(u.batchId>=r,47524,{tr:r}),i=ll(this.serializer,u)),c.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=yl;return Mo(e).ee({index:dl,range:n,reverse:!0},((s,i,a)=>{r=i.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,yl],[this.userId,Number.POSITIVE_INFINITY]);return Mo(e).J(dl,n).next((r=>r.map((s=>ll(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Fm(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return sc(e).ee({range:s},((a,u,c)=>{const[h,p,g]=a,v=qs(p);if(h===this.userId&&n.path.isEqual(v))return Mo(e).get(g).next((C=>{if(!C)throw Ce(61480,{nr:a,batchId:g});_e(C.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:C.userId,batchId:g}),i.push(ll(this.serializer,C))}));c.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Ve);const s=[];return n.forEach((i=>{const a=Fm(this.userId,i.path),u=IDBKeyRange.lowerBound(a),c=sc(e).ee({range:u},((h,p,g)=>{const[v,C,_]=h,k=qs(C);v===this.userId&&i.path.isEqual(k)?r=r.add(_):g.done()}));s.push(c)})),Q.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Fm(this.userId,r),a=IDBKeyRange.lowerBound(i);let u=new ut(Ve);return sc(e).ee({range:a},((c,h,p)=>{const[g,v,C]=c,_=qs(v);g===this.userId&&r.isPrefixOf(_)?_.length===s&&(u=u.add(C)):p.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push(Mo(e).get(i).next((a=>{if(a===null)throw Ce(35274,{batchId:i});_e(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:i}),r.push(ll(this.serializer,a))})))})),Q.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return NN(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(i){return[i]})(this.userId)),s=[];return sc(e).ee({range:r},((i,a,u)=>{if(i[0]===this.userId){const c=qs(i[1]);s.push(c)}else u.done()})).next((()=>{_e(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return PN(e,this.userId,n)}_r(e){return jN(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:yl,lastStreamToken:""}))}}function PN(t,e,n){const r=Fm(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let a=!1;return sc(t).ee({range:i,X:!0},((u,c,h)=>{const[p,g,v]=u;p===e&&g===s&&(a=!0),h.done()})).next((()=>a))}function Mo(t){return pn(t,cs)}function sc(t){return pn(t,bc)}function jN(t){return pn(t,$h)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pl(0)}static cr(){return new Pl(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aU{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Pl(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>De.fromTimestamp(new rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Fu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(_e(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return Fu(e).ee(((a,u)=>{const c=vh(u);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))})).next((()=>Q.waitFor(i))).next((()=>s))}forEachTarget(e,n){return Fu(e).ee(((r,s)=>{const i=vh(s);n(i)}))}lr(e){return BT(e).get(Sg).next((n=>(_e(n!==null,2888),n)))}hr(e,n){return BT(e).put(Sg,n)}Pr(e,n){return Fu(e).put(TN(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Dl(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Fu(e).ee({range:s,index:kA},((a,u,c)=>{const h=vh(u);Sf(n,h.target)&&(i=h,c.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=Qo(e);return n.forEach((a=>{const u=Fn(a.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,a))})),Q.waitFor(s)}removeMatchingKeys(e,n,r){const s=Qo(e);return Q.forEach(n,(i=>{const a=Fn(i.path);return Q.waitFor([s.delete([r,a]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=Qo(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Qo(e);let i=We();return s.ee({range:r,X:!0},((a,u,c)=>{const h=qs(a[1]),p=new he(h);i=i.add(p)})).next((()=>i))}containsKey(e,n){const r=Fn(n.path),s=IDBKeyRange.bound([r],[gA(r)],!1,!0);let i=0;return Qo(e).ee({index:Px,X:!0,range:s},(([a,u],c,h)=>{a!==0&&(i++,h.done())})).next((()=>i>0))}At(e,n){return Fu(e).get(n).next((r=>r?vh(r):null))}}function Fu(t){return pn(t,xc)}function BT(t){return pn(t,vl)}function Qo(t){return pn(t,Sc)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zT="LruGarbageCollector",lU=1048576;function qT([t,e],[n,r]){const s=Ve(t,n);return s===0?Ve(e,r):s}class uU{constructor(e){this.Ir=e,this.buffer=new ut(qT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();qT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(zT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ma(n)?le(zT,"Ignoring IndexedDB error during garbage collection: ",n):await zl(n)}await this.Vr(3e5)}))}}class cU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve($r.ce);const r=new uU(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(UT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,u,c,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,a=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),ec()<=Ge.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${s} in `+(u-a)+`ms
	Removed ${i} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(h-c)+`ms
Total Duration: ${h-p}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function ON(t,e){return new cU(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dU{constructor(e,n){this.db=e,this.garbageCollector=ON(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return cm(e,r)}removeReference(e,n,r){return cm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return cm(e,n)}br(e,n){return(function(r,s){let i=!1;return jN(r).te((a=>PN(r,a,s).next((u=>(u&&(i=!0),Q.resolve(!u)))))).next((()=>i))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((a,u)=>{if(u<=n){const c=this.br(e,a).next((h=>{if(!h)return i++,r.getEntry(e,a).next((()=>(r.removeEntry(a,De.min()),Qo(e).delete((function(p){return[0,Fn(p.path)]})(a)))))}));s.push(c)}})).next((()=>Q.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return cm(e,n)}Sr(e,n){const r=Qo(e);let s,i=$r.ce;return r.ee({index:Px},(([a,u],{path:c,sequenceNumber:h})=>{a===0?(i!==$r.ce&&n(new he(qs(s)),i),i=h,s=c):i=$r.ce})).next((()=>{i!==$r.ce&&n(new he(qs(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cm(t,e){return Qo(t).put((function(n,r){return{targetId:0,path:Fn(n.path),sequenceNumber:r}})(e,t.currentSequenceNumber))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MN{constructor(){this.changes=new Xi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hU{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Wa(e).put(r)}removeEntry(e,n,r){return Wa(e).delete((function(s,i){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Dg(i),a[a.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Rt.newInvalidDocument(n);return Wa(e).ee({index:Um,range:IDBKeyRange.only(Gd(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:Rt.newInvalidDocument(n)};return Wa(e).ee({index:Um,range:IDBKeyRange.only(Gd(n))},((s,i)=>{r={document:this.Cr(n,i),size:Ng(i)}})).next((()=>r))}getEntries(e,n){let r=Er();return this.Fr(e,n,((s,i)=>{const a=this.Cr(s,i);r=r.insert(s,a)})).next((()=>r))}Mr(e,n){let r=Er(),s=new Ct(he.comparator);return this.Fr(e,n,((i,a)=>{const u=this.Cr(i,a);r=r.insert(i,u),s=s.insert(i,Ng(a))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let s=new ut(HT);n.forEach((c=>s=s.add(c)));const i=IDBKeyRange.bound(Gd(s.first()),Gd(s.last())),a=s.getIterator();let u=a.getNext();return Wa(e).ee({index:Um,range:i},((c,h,p)=>{const g=he.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;u&&HT(u,g)<0;)r(u,null),u=a.getNext();u&&u.isEqual(g)&&(r(u,h),u=a.hasNext()?a.getNext():null),u?p.j(Gd(u)):p.done()})).next((()=>{for(;u;)r(u,null),u=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const a=n.path,u=[a.popLast().toArray(),a.lastSegment(),Dg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wa(e).J(IDBKeyRange.bound(u,c,!0)).next((h=>{i==null||i.incrementDocumentReadCount(h.length);let p=Er();for(const g of h){const v=this.Cr(he.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(Ef(n,v)||s.has(v.key))&&(p=p.insert(v.key,v))}return p}))}getAllFromCollectionGroup(e,n,r,s){let i=Er();const a=WT(n,r),u=WT(n,_r.max());return Wa(e).ee({index:EA,range:IDBKeyRange.bound(a,u,!0)},((c,h,p)=>{const g=this.Cr(he.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);i=i.insert(g.key,g),i.size===s&&p.done()})).next((()=>i))}newChangeBuffer(e){return new fU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return $T(e).get(Qw).next((n=>(_e(!!n,20021),n)))}Dr(e,n){return $T(e).put(Qw,n)}Cr(e,n){if(n){const r=X9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(De.min())))return r}return Rt.newInvalidDocument(e)}}function LN(t){return new hU(t)}class fU extends MN{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Xi((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new ut(((i,a)=>Ve(i.canonicalString(),a.canonicalString())));return this.changes.forEach(((i,a)=>{const u=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,u.readTime)),a.isValidDocument()){const c=_T(this.Nr.serializer,a);s=s.add(i.path.popLast());const h=Ng(c);r+=h-u.size,n.push(this.Nr.addEntry(e,i,c))}else if(r-=u.size,this.trackRemovals){const c=_T(this.Nr.serializer,a.convertToNoDocument(De.min()));n.push(this.Nr.addEntry(e,i,c))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,a)=>{this.Br.set(i,{size:a,readTime:r.get(i).readTime})})),r)))}}function $T(t){return pn(t,Wh)}function Wa(t){return pn(t,xg)}function Gd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function WT(t,e){const n=e.documentKey.path.toArray();return[t,Dg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function HT(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Ve(n[i],r[i]),s)return s;return s=Ve(n.length,r.length),s||(s=Ve(n[n.length-2],r[r.length-2]),s||Ve(n[n.length-1],r[r.length-1]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VN{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Nh(r.mutation,s,ar.empty(),rt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=We()){const s=$s();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let a=gh();return i.forEach(((u,c)=>{a=a.insert(u,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=$s();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,We())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((a,u)=>{n.set(a,u)}))}))}computeViews(e,n,r,s){let i=Er();const a=Ah(),u=(function(){return Ah()})();return n.forEach(((c,h)=>{const p=r.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof Ji)?i=i.insert(h.key,h):p!==void 0?(a.set(h.key,p.mutation.getFieldMask()),Nh(p.mutation,h,p.mutation.getFieldMask(),rt.now())):a.set(h.key,ar.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((h,p)=>a.set(h,p))),n.forEach(((h,p)=>u.set(h,new pU(p,a.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Ah();let s=new Ct(((a,u)=>a-u)),i=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const u of a)u.keys().forEach((c=>{const h=n.get(c);if(h===null)return;let p=r.get(c)||ar.empty();p=u.applyToLocalView(h,p),r.set(c,p);const g=(s.get(u.batchId)||We()).add(c);s=s.insert(u.batchId,g)}))})).next((()=>{const a=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,p=c.value,g=tN();p.forEach((v=>{if(!i.has(v)){const C=lN(n.get(v),r.get(v));C!==null&&g.set(v,C),i=i.add(v)}})),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Q.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(i){return he.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve($s());let u=Bh,c=i;return a.next((h=>Q.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),i.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{c=c.insert(p,v)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,c,h,We()))).next((p=>({batchId:u,changes:eN(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next((r=>{let s=gh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=gh();return this.indexManager.getCollectionParents(e,i).next((u=>Q.forEach(u,(c=>{const h=(function(p,g){return new Vc(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((p=>{p.forEach(((g,v)=>{a=a.insert(g,v)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((a=>{i.forEach(((c,h)=>{const p=h.getKey();a.get(p)===null&&(a=a.insert(p,Rt.newInvalidDocument(p)))}));let u=gh();return a.forEach(((c,h)=>{const p=i.get(c);p!==void 0&&Nh(p.mutation,h,ar.empty(),rt.now()),Ef(n,h)&&(u=u.insert(c,h))})),u}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Gn(r.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:_N(r.bundledQuery),readTime:Gn(r.readTime)}})(n)),Q.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gU{constructor(){this.overlays=new Ct(he.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$s();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=$s(),i=n.length+1,a=new he(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ct(((h,p)=>h-p));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=i.get(h.largestBatchId);p===null&&(p=$s(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=$s(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=s)););return Q.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new qx(n,r));let i=this.qr.get(n);i===void 0&&(i=We(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yU{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kx{constructor(){this.Qr=new ut(vn.$r),this.Ur=new ut(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new vn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new vn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new he(new ot([])),r=new vn(n,e),s=new vn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new he(new ot([])),r=new vn(n,e),s=new vn(n,e+1);let i=We();return this.Ur.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new vn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return he.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||he.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ut(vn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Bx(i,n,r,s);this.mutationQueue.push(a);for(const u of s)this.Zr=this.Zr.add(new vn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?yl:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vn(n,0),s=new vn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(a=>{const u=this.Xr(a.Yr);i.push(u)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Ve);return n.forEach((s=>{const i=new vn(s,0),a=new vn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(u=>{r=r.add(u.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;he.isDocumentKey(i)||(i=i.child(""));const a=new vn(new he(i),0);let u=new ut(Ve);return this.Zr.forEachWhile((c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(u=u.add(c.Yr)),!0)}),a),Q.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(s=>{const i=new vn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new vn(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wU{constructor(e){this.ri=e,this.docs=(function(){return new Ct(he.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=Er();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Rt.newInvalidDocument(s))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Er();const a=n.path,u=new he(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||Ax(wA(p),r)<=0||(s.has(p.key)||Ef(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ce(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new bU(this)}getSize(e){return Q.resolve(this.size)}}class bU extends MN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xU{constructor(e){this.persistence=e,this.si=new Xi((n=>Dl(n)),Sf),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new Kx,this.targetCount=0,this.ai=Pl.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Pl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Q.waitFor(i).next((()=>s))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(e,a))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qx{constructor(e,n){this.ui={},this.overlays={},this.ci=new $r(0),this.li=!1,this.li=!0,this.hi=new yU,this.referenceDelegate=e(this),this.Pi=new xU(this),this.indexManager=new iU,this.remoteDocumentCache=(function(r){return new wU(r)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new kN(n),this.Ii=new mU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new vU(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new SU(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class SU extends xA{constructor(e){super(),this.currentSequenceNumber=e}}class Ty{constructor(e){this.persistence=e,this.Ri=new Kx,this.Vi=null}static mi(e){return new Ty(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const s=he.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Pg{constructor(e,n){this.persistence=e,this.pi=new Xi((r=>Fn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=ON(this,n)}static mi(e,n){return new Pg(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Q.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(a=>this.br(e,a,n).next((u=>{u||(r++,i.removeEntry(a,De.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zm(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CU{constructor(e){this.serializer=e}k(e,n,r,s){const i=new hy("createOrUpgrade",n);r<1&&s>=1&&((function(u){u.createObjectStore(xf)})(e),(function(u){u.createObjectStore($h,{keyPath:RF}),u.createObjectStore(cs,{keyPath:rT,autoIncrement:!0}).createIndex(dl,sT,{unique:!0}),u.createObjectStore(bc)})(e),GT(e),(function(u){u.createObjectStore(sl)})(e));let a=Q.resolve();return r<3&&s>=3&&(r!==0&&((function(u){u.deleteObjectStore(Sc),u.deleteObjectStore(xc),u.deleteObjectStore(vl)})(e),GT(e)),a=a.next((()=>(function(u){const c=u.store(vl),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:De.min().toTimestamp(),targetCount:0};return c.put(Sg,h)})(i)))),r<4&&s>=4&&(r!==0&&(a=a.next((()=>(function(u,c){return c.store(cs).J().next((h=>{u.deleteObjectStore(cs),u.createObjectStore(cs,{keyPath:rT,autoIncrement:!0}).createIndex(dl,sT,{unique:!0});const p=c.store(cs),g=h.map((v=>p.put(v)));return Q.waitFor(g)}))})(e,i)))),a=a.next((()=>{(function(u){u.createObjectStore(Cc,{keyPath:qF})})(e)}))),r<5&&s>=5&&(a=a.next((()=>this.yi(i)))),r<6&&s>=6&&(a=a.next((()=>((function(u){u.createObjectStore(Wh)})(e),this.wi(i))))),r<7&&s>=7&&(a=a.next((()=>this.Si(i)))),r<8&&s>=8&&(a=a.next((()=>this.bi(e,i)))),r<9&&s>=9&&(a=a.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(a=a.next((()=>this.Di(i)))),r<11&&s>=11&&(a=a.next((()=>{(function(u){u.createObjectStore(py,{keyPath:$F})})(e),(function(u){u.createObjectStore(my,{keyPath:WF})})(e)}))),r<12&&s>=12&&(a=a.next((()=>{(function(u){const c=u.createObjectStore(gy,{keyPath:JF});c.createIndex(Xw,ZF,{unique:!1}),c.createIndex(IA,e9,{unique:!1})})(e)}))),r<13&&s>=13&&(a=a.next((()=>(function(u){const c=u.createObjectStore(xg,{keyPath:MF});c.createIndex(Um,LF),c.createIndex(EA,VF)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(sl)))),r<14&&s>=14&&(a=a.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(a=a.next((()=>(function(u){u.createObjectStore(jx,{keyPath:HF,autoIncrement:!0}).createIndex(Yw,GF,{unique:!1}),u.createObjectStore(Th,{keyPath:KF}).createIndex(TA,QF,{unique:!1}),u.createObjectStore(_h,{keyPath:YF}).createIndex(_A,XF,{unique:!1})})(e)))),r<16&&s>=16&&(a=a.next((()=>{n.objectStore(Th).clear()})).next((()=>{n.objectStore(_h).clear()}))),r<17&&s>=17&&(a=a.next((()=>{(function(u){u.createObjectStore(Rx,{keyPath:t9})})(e)}))),r<18&&s>=18&&bD()&&(a=a.next((()=>{n.objectStore(Th).clear()})).next((()=>{n.objectStore(_h).clear()}))),a}wi(e){let n=0;return e.store(sl).ee(((r,s)=>{n+=Ng(s)})).next((()=>{const r={byteSize:n};return e.store(Wh).put(Qw,r)}))}yi(e){const n=e.store($h),r=e.store(cs);return n.J().next((s=>Q.forEach(s,(i=>{const a=IDBKeyRange.bound([i.userId,yl],[i.userId,i.lastAcknowledgedBatchId]);return r.J(dl,a).next((u=>Q.forEach(u,(c=>{_e(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const h=ll(this.serializer,c);return NN(e,i.userId,h).next((()=>{}))}))))}))))}Si(e){const n=e.store(Sc),r=e.store(sl);return e.store(vl).get(Sg).next((s=>{const i=[];return r.ee(((a,u)=>{const c=new ot(a),h=(function(p){return[0,Fn(p)]})(c);i.push(n.get(h).next((p=>p?Q.resolve():(g=>n.put({targetId:0,path:Fn(g),sequenceNumber:s.highestListenSequenceNumber}))(c))))})).next((()=>Q.waitFor(i)))}))}bi(e,n){e.createObjectStore(Hh,{keyPath:zF});const r=n.store(Hh),s=new Gx,i=a=>{if(s.add(a)){const u=a.lastSegment(),c=a.popLast();return r.put({collectionId:u,parent:Fn(c)})}};return n.store(sl).ee({X:!0},((a,u)=>{const c=new ot(a);return i(c.popLast())})).next((()=>n.store(bc).ee({X:!0},(([a,u,c],h)=>{const p=qs(u);return i(p.popLast())}))))}Di(e){const n=e.store(xc);return n.ee(((r,s)=>{const i=vh(s),a=TN(this.serializer,i);return n.put(a)}))}Ci(e,n){const r=n.store(sl),s=[];return r.ee(((i,a)=>{const u=n.store(xg),c=(function(p){return p.document?new he(ot.fromString(p.document.name).popFirst(5)):p.noDocument?he.fromSegments(p.noDocument.path):p.unknownDocument?he.fromSegments(p.unknownDocument.path):Ce(36783)})(a).path.toArray(),h={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};s.push(u.put(h))})).next((()=>Q.waitFor(s)))}Fi(e,n){const r=n.store(cs),s=LN(this.serializer),i=new Qx(Ty.mi,this.serializer.yt);return r.J().next((a=>{const u=new Map;return a.forEach((c=>{let h=u.get(c.userId)??We();ll(this.serializer,c).keys().forEach((p=>h=h.add(p))),u.set(c.userId,h)})),Q.forEach(u,((c,h)=>{const p=new Tn(h),g=Ey.wt(this.serializer,p),v=i.getIndexManager(p),C=ky.wt(p,this.serializer,v,i.referenceDelegate);return new VN(s,C,g,v).recalculateAndSaveOverlaysForDocumentKeys(new Jw(n,$r.ce),c).next()}))}))}}function GT(t){t.createObjectStore(Sc,{keyPath:UF}).createIndex(Px,BF,{unique:!0}),t.createObjectStore(xc,{keyPath:"targetId"}).createIndex(kA,FF,{unique:!0}),t.createObjectStore(vl)}const Lo="IndexedDbPersistence",L0=18e5,V0=5e3,F0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",EU="main";class Yx{constructor(e,n,r,s,i,a,u,c,h,p,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=a,this.document=u,this.xi=h,this.Oi=p,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!Yx.v())throw new ce(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dU(this,s),this.$i=n+EU,this.serializer=new kN(c),this.Ui=new ea(this.$i,this.Ni,new CU(this.serializer)),this.hi=new Z9,this.Pi=new aU(this.referenceDelegate,this.serializer),this.remoteDocumentCache=LN(this.serializer),this.Ii=new J9,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&qn(Lo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,F0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new $r(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>dm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ma(e))return le(Lo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(Lo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Kd(e).get(Ru).next((n=>Q.resolve(this.es(n))))}ts(e){return dm(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,L0)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=pn(n,Cc);return r.J().next((s=>{const i=this.ss(s,L0),a=s.filter((u=>i.indexOf(u)===-1));return Q.forEach(a,(u=>r.delete(u.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):Kd(e).get(Ru).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,V0)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,F0);return!1}}return!(!this.networkEnabled||!this.inForeground)||dm(e).J().next((r=>this.ss(r,V0).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,a=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||a&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&le(Lo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[xf,Cc],(e=>{const n=new Jw(e,$r.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>dm(e).J().next((n=>this.ss(n,L0).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return ky.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new oU(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Ey.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){le(Lo,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(u){return u===18?s9:u===17?PA:u===16?r9:u===15?Ox:u===14?NA:u===13?AA:u===12?n9:u===11?DA:void Ce(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,s,i,(u=>(a=new Jw(u,this.ci?this.ci.next():$r.ce),n==="readwrite-primary"?this.Hi(a).next((c=>!!c||this.Yi(a))).next((c=>{if(!c)throw qn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ce(te.FAILED_PRECONDITION,bA);return r(a)})).next((c=>this.Xi(a).next((()=>c)))):this.Is(a).next((()=>r(a)))))).then((u=>(a.raiseOnCommittedEvent(),u)))}Is(e){return Kd(e).get(Ru).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,V0)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(te.FAILED_PRECONDITION,F0)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kd(e).put(Ru,n)}static v(){return ea.v()}Zi(e){const n=Kd(e);return n.get(Ru).next((r=>this.es(r)?(le(Lo,"Releasing primary lease."),n.delete(Ru)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(qn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;wD()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return le(Lo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return qn(Lo,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){qn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Kd(t){return pn(t,xf)}function dm(t){return pn(t,Cc)}function kU(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=We(),s=We();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Xx(e,n.fromCache,r,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wD()?8:SA(fn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new TU;return this.Ss(e,n,a).next((u=>{if(i.result=u,this.Vs)return this.bs(e,n,a,u.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(ec()<=Ge.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",tc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(ec()<=Ge.DEBUG&&le("QueryEngine","Query:",tc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ec()<=Ge.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",tc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gr(n))):Q.resolve())}ys(e,n){if(yT(n))return Q.resolve(null);let r=Gr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Tg(n,null,"F"),r=Gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const a=We(...i);return this.ps.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const h=this.Ds(n,u);return this.Cs(n,h,a,c.readTime)?this.ys(e,Tg(n,null,"F")):this.vs(e,h,n,c)}))))})))))}ws(e,n,r,s){return yT(n)||s.isEqual(De.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?Q.resolve(null):(ec()<=Ge.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),tc(n)),this.vs(e,a,n,_F(s,Bh)).next((u=>u)))}))}Ds(e,n){let r=new ut(JA(e));return n.forEach(((s,i)=>{Ef(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ec()<=Ge.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",tc(n)),this.ps.getDocumentsMatchingQuery(e,n,_r.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jx="LocalStore",_U=3e8;class IU{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ct(Ve),this.xs=new Xi((i=>Dl(i)),Sf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function UN(t,e,n,r){return new IU(t,e,n,r)}async function BN(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],u=[];let c=We();for(const h of s){a.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of i){u.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:u})))}))}))}function DU(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,u,c,h){const p=c.batch,g=p.keys();let v=Q.resolve();return g.forEach((C=>{v=v.next((()=>h.getEntry(u,C))).next((_=>{const k=c.docVersions.get(C);_e(k!==null,48541),_.version.compareTo(k)<0&&(p.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),h.addEntry(_)))}))})),v.next((()=>a.mutationQueue.removeMutationBatch(u,p)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=We();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function zN(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function AU(t,e){const n=Fe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const v=s.get(g);if(!v)return;u.push(n.Pi.removeMatchingKeys(i,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,p.addedDocuments,g))));let C=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?C=C.withResumeToken(ln.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):p.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(p.resumeToken,r)),s=s.insert(g,C),(function(_,k,T){return _.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=_U?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(v,C,p)&&u.push(n.Pi.updateTargetData(i,C))}));let c=Er(),h=We();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))})),u.push(NU(i,a,e.documentUpdates).next((p=>{c=p.ks,h=p.qs}))),!r.isEqual(De.min())){const p=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(p)}return Q.waitFor(u).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,h))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function NU(t,e,n){let r=We(),s=We();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let a=Er();return n.forEach(((u,c)=>{const h=i.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(De.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):le(Jx,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)})),{ks:a,qs:s}}))}function PU(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=yl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function jU(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Q.resolve(s)):n.Pi.allocateTargetId(r).next((a=>(s=new Oi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function hb(t,e,n){const r=Fe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!ma(a))throw a;le(Jx,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function KT(t,e,n){const r=Fe(t);let s=De.min(),i=We();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,c,h){const p=Fe(u),g=p.xs.get(h);return g!==void 0?Q.resolve(p.Ms.get(g)):p.Pi.getTargetData(c,h)})(r,a,Gr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,u.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:De.min(),n?i:We()))).next((u=>(RU(r,w9(e),u),{documents:u,Qs:i})))))}function RU(t,e,n){let r=t.Os.get(e)||De.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class QT{constructor(){this.activeTargetIds=k9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qN{constructor(){this.Mo=new QT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new QT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OU{Oo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const YT="ConnectivityMonitor";class XT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(YT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(YT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let hm=null;function fb(){return hm===null?hm=(function(){return 268435456+Math.round(2147483648*Math.random())})():hm++,"0x"+hm.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const U0="RestConnection",MU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Cg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=fb(),u=this.zo(e,n.toUriEncodedString());le(U0,`Sending RPC '${e}' ${a}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:h}=new URL(u),p=Fl(h);return this.Jo(e,u,c,r,p).then((g=>(le(U0,`Received RPC '${e}' ${a}: `,g),g)),(g=>{throw _l(U0,`RPC '${e}' ${a} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=MU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rn="WebChannelConnection";class FU extends LU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=fb();return new Promise(((u,c)=>{const h=new uA;h.setWithCredentials(!0),h.listenOnce(cA.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Lm.NO_ERROR:const g=h.getResponseJson();le(Rn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Lm.TIMEOUT:le(Rn,`RPC '${e}' ${a} timed out`),c(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case Lm.HTTP_ERROR:const v=h.getStatus();if(le(Rn,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let C=h.getResponseJson();Array.isArray(C)&&(C=C[0]);const _=C==null?void 0:C.error;if(_&&_.status&&_.message){const k=(function(T){const A=T.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(A)>=0?A:te.UNKNOWN})(_.status);c(new ce(k,_.message))}else c(new ce(te.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{le(Rn,`RPC '${e}' ${a} completed.`)}}));const p=JSON.stringify(s);le(Rn,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const s=fb(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=fA(),u=hA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=i.join("");le(Rn,`Creating RPC '${e}' stream ${s}: ${p}`,c);const g=a.createWebChannel(p,c);this.I_(g);let v=!1,C=!1;const _=new VU({Yo:T=>{C?le(Rn,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(v||(le(Rn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),le(Rn,`RPC '${e}' stream ${s} sending:`,T),g.send(T))},Zo:()=>g.close()}),k=(T,A,P)=>{T.listen(A,(O=>{try{P(O)}catch(U){setTimeout((()=>{throw U}),0)}}))};return k(g,mh.EventType.OPEN,(()=>{C||(le(Rn,`RPC '${e}' stream ${s} transport opened.`),_.o_())})),k(g,mh.EventType.CLOSE,(()=>{C||(C=!0,le(Rn,`RPC '${e}' stream ${s} transport closed`),_.a_(),this.E_(g))})),k(g,mh.EventType.ERROR,(T=>{C||(C=!0,_l(Rn,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),_.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),k(g,mh.EventType.MESSAGE,(T=>{var A;if(!C){const P=T.data[0];_e(!!P,16349);const O=P,U=(O==null?void 0:O.error)||((A=O[0])==null?void 0:A.error);if(U){le(Rn,`RPC '${e}' stream ${s} received error:`,U);const z=U.status;let H=(function(I){const N=sn[I];if(N!==void 0)return dN(N)})(z),j=U.message;H===void 0&&(H=te.INTERNAL,j="Unknown error status: "+z+" with message "+U.message),C=!0,_.a_(new ce(H,j)),g.close()}else le(Rn,`RPC '${e}' stream ${s} received:`,P),_.u_(P)}})),k(u,dA.STAT_EVENT,(T=>{T.stat===Hw.PROXY?le(Rn,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Hw.NOPROXY&&le(Rn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function UU(){return typeof window<"u"?window:null}function Gm(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _y(t){return new B9(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $N{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JT="PersistentStream";class WN{constructor(e,n,r,s,i,a,u,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $N(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(qn(n.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(JT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(JT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BU extends WN{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$9(this.serializer,e),r=(function(s){if(!("targetChange"in s))return De.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?De.min():i.readTime?Gn(i.readTime):De.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ab(this.serializer),n.addTarget=(function(s,i){let a;const u=i.target;if(a=Eg(u)?{documents:wN(s,u)}:{query:bN(s,u).ft},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=pN(s,i.resumeToken);const c=ib(s,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(De.min())>0){a.readTime=Nc(s,i.snapshotVersion.toTimestamp());const c=ib(s,i.expectedCount);c!==null&&(a.expectedCount=c)}return a})(this.serializer,e);const r=H9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ab(this.serializer),n.removeTarget=e,this.q_(n)}}class zU extends WN{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=W9(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ab(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Ig(this.serializer,r)))};this.q_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qU{}class $U extends qU{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,ob(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(te.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Ho(e,ob(n,r),s,a,u,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(te.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class WU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qn(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jl="RemoteStore";class HU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{ql(this)&&(le(jl,"Restarting streams for network reachability change."),await(async function(u){const c=Fe(u);c.Ea.add(4),await Tf(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Iy(c)})(this))}))})),this.Ra=new WU(r,s)}}async function Iy(t){if(ql(t))for(const e of t.da)await e(!0)}async function Tf(t){for(const e of t.da)await e(!1)}function HN(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),n1(n)?t1(n):Uc(n).O_()&&e1(n,e))}function Zx(t,e){const n=Fe(t),r=Uc(n);n.Ia.delete(e),r.O_()&&GN(n,e),n.Ia.size===0&&(r.O_()?r.L_():ql(n)&&n.Ra.set("Unknown"))}function e1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uc(t).Y_(e)}function GN(t,e){t.Va.Ue(e),Uc(t).Z_(e)}function t1(t){t.Va=new L9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Uc(t).start(),t.Ra.ua()}function n1(t){return ql(t)&&!Uc(t).x_()&&t.Ia.size>0}function ql(t){return Fe(t).Ea.size===0}function KN(t){t.Va=void 0}async function GU(t){t.Ra.set("Online")}async function KU(t){t.Ia.forEach(((e,n)=>{e1(t,e)}))}async function QU(t,e){KN(t),n1(t)?(t.Ra.ha(e),t1(t)):t.Ra.set("Unknown")}async function YU(t,e,n){if(t.Ra.set("Online"),e instanceof fN&&e.state===2&&e.cause)try{await(async function(r,s){const i=s.cause;for(const a of s.targetIds)r.Ia.has(a)&&(await r.remoteSyncer.rejectListen(a,i),r.Ia.delete(a),r.Va.removeTarget(a))})(t,e)}catch(r){le(jl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jg(t,r)}else if(e instanceof Wm?t.Va.Ze(e):e instanceof hN?t.Va.st(e):t.Va.tt(e),!n.isEqual(De.min()))try{const r=await zN(t.localStore);n.compareTo(r)>=0&&await(function(s,i){const a=s.Va.Tt(i);return a.targetChanges.forEach(((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(u.resumeToken,i))}})),a.targetMismatches.forEach(((u,c)=>{const h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(ln.EMPTY_BYTE_STRING,h.snapshotVersion)),GN(s,u);const p=new Oi(h.target,u,c,h.sequenceNumber);e1(s,p)})),s.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){le(jl,"Failed to raise snapshot:",r),await jg(t,r)}}async function jg(t,e,n){if(!ma(e))throw e;t.Ea.add(1),await Tf(t),t.Ra.set("Offline"),n||(n=()=>zN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(jl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Iy(t)}))}function QN(t,e){return e().catch((n=>jg(t,n,e)))}async function _f(t){const e=Fe(t),n=oa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yl;for(;XU(e);)try{const s=await PU(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,JU(e,s)}catch(s){await jg(e,s)}YN(e)&&XN(e)}function XU(t){return ql(t)&&t.Ta.length<10}function JU(t,e){t.Ta.push(e);const n=oa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function YN(t){return ql(t)&&!oa(t).x_()&&t.Ta.length>0}function XN(t){oa(t).start()}async function ZU(t){oa(t).ra()}async function eB(t){const e=oa(t);for(const n of t.Ta)e.ea(n.mutations)}async function tB(t,e,n){const r=t.Ta.shift(),s=zx.from(r,e,n);await QN(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await _f(t)}async function nB(t,e){e&&oa(t).X_&&await(async function(n,r){if((function(s){return R9(s)&&s!==te.ABORTED})(r.code)){const s=n.Ta.shift();oa(n).B_(),await QN(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r))),await _f(n)}})(t,e),YN(t)&&XN(t)}async function ZT(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),le(jl,"RemoteStore received new credentials");const r=ql(n);n.Ea.add(3),await Tf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Iy(n)}async function rB(t,e){const n=Fe(t);e?(n.Ea.delete(2),await Iy(n)):e||(n.Ea.add(2),await Tf(n),n.Ra.set("Unknown"))}function Uc(t){return t.ma||(t.ma=(function(e,n,r){const s=Fe(e);return s.sa(),new BU(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:GU.bind(null,t),t_:KU.bind(null,t),r_:QU.bind(null,t),H_:YU.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),n1(t)?t1(t):t.Ra.set("Unknown")):(await t.ma.stop(),KN(t))}))),t.ma}function oa(t){return t.fa||(t.fa=(function(e,n,r){const s=Fe(e);return s.sa(),new zU(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZU.bind(null,t),r_:nB.bind(null,t),ta:eB.bind(null,t),na:tB.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await _f(t)):(await t.fa.stop(),t.Ta.length>0&&(le(jl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,u=new r1(e,n,a,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s1(t,e){if(qn("AsyncQueue",`${e}: ${t}`),ma(t))return new ce(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pc{static emptySet(e){return new pc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=gh(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class e_{constructor(){this.ga=new Ct(he.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Pc{constructor(e,n,r,s,i,a,u,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach((u=>{a.push({type:0,doc:u})})),new Pc(e,n,pc.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iB{constructor(){this.queries=t_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const r=Fe(e),s=r.queries;r.queries=t_(),s.forEach(((i,a)=>{for(const u of a.Sa)u.onError(n)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function t_(){return new Xi((t=>XA(t)),wy)}async function i1(t,e){const n=Fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new sB,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const u=s1(a,`Initialization of query '${tc(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&a1(n)}async function o1(t,e){const n=Fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oB(t,e){const n=Fe(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const u of a.Sa)u.Fa(s)&&(r=!0);a.wa=s}}r&&a1(n)}function aB(t,e,n){const r=Fe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function a1(t){t.Ca.forEach((e=>{e.next()}))}var pb,n_;(n_=pb||(pb={})).Ma="default",n_.Cache="cache";class l1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pb.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JN{constructor(e){this.key=e}}class ZN{constructor(e){this.key=e}}class lB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=JA(e),this.tu=new pc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new e_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,g)=>{const v=s.get(p),C=Ef(this.query,g)?g:null,_=!!v&&this.mutatedKeys.has(v.key),k=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let T=!1;v&&C?v.data.isEqual(C.data)?_!==k&&(r.track({type:3,doc:C}),T=!0):this.su(v,C)||(r.track({type:2,doc:C}),T=!0,(c&&this.eu(C,c)>0||h&&this.eu(C,h)<0)&&(u=!0)):!v&&C?(r.track({type:0,doc:C}),T=!0):v&&!C&&(r.track({type:1,doc:v}),T=!0,(c||h)&&(u=!0)),T&&(C?(a=a.add(C),i=k?i.add(p):i.delete(p)):(a=a.delete(p),i=i.delete(p)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{tu:a,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((p,g)=>(function(v,C){const _=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:k})}};return _(v)-_(C)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,h=c!==this.Za;return this.Za=c,a.length!==0||h?{snapshot:new Pc(this.query,e.tu,i,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new e_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new ZN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new JN(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Pc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const u1="SyncEngine";class uB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cB{constructor(e){this.key=e,this.hu=!1}}class dB{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Xi((u=>XA(u)),wy),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(he.comparator),this.Au=new Map,this.Ru=new Kx,this.Vu={},this.mu=new Map,this.fu=Pl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hB(t,e,n=!0){const r=iP(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await eP(r,e,n,!0),s}async function fB(t,e){const n=iP(t);await eP(n,e,!0,!1)}async function eP(t,e,n,r){const s=await jU(t.localStore,Gr(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await pB(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&HN(t.remoteStore,s),u}async function pB(t,e,n,r,s){t.pu=(g,v,C)=>(async function(_,k,T,A){let P=k.view.ru(T);P.Cs&&(P=await KT(_.localStore,k.query,!1).then((({documents:H})=>k.view.ru(H,P))));const O=A&&A.targetChanges.get(k.targetId),U=A&&A.targetMismatches.get(k.targetId)!=null,z=k.view.applyChanges(P,_.isPrimaryClient,O,U);return s_(_,k.targetId,z.au),z.snapshot})(t,g,v,C);const i=await KT(t.localStore,e,!0),a=new lB(e,i.Qs),u=a.ru(i.documents),c=kf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=a.applyChanges(u,t.isPrimaryClient,c);s_(t,n,h.au);const p=new uB(e,n,a);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function mB(t,e,n){const r=Fe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((a=>!wy(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await hb(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Zx(r.remoteStore,s.targetId),mb(r,s.targetId)})).catch(zl)):(mb(r,s.targetId),await hb(r.localStore,s.targetId,!0))}async function gB(t,e){const n=Fe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zx(n.remoteStore,r.targetId))}async function yB(t,e,n){const r=oP(t);try{const s=await(function(i,a){const u=Fe(i),c=rt.now(),h=a.reduce(((v,C)=>v.add(C.key)),We());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let C=Er(),_=We();return u.Ns.getEntries(v,h).next((k=>{C=k,C.forEach(((T,A)=>{A.isValidDocument()||(_=_.add(T))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,C))).next((k=>{p=k;const T=[];for(const A of a){const P=P9(A,p.get(A.key).overlayedDocument);P!=null&&T.push(new Ji(A.key,P,zA(P.value.mapValue),Ln.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,T,a)})).next((k=>{g=k;const T=k.applyToLocalDocumentSet(p,_);return u.documentOverlayCache.saveOverlays(v,k.batchId,T)}))})).then((()=>({batchId:g.batchId,changes:eN(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(i,a,u){let c=i.Vu[i.currentUser.toKey()];c||(c=new Ct(Ve)),c=c.insert(a,u),i.Vu[i.currentUser.toKey()]=c})(r,s.batchId,n),await If(r,s.changes),await _f(r.remoteStore)}catch(s){const i=s1(s,"Failed to persist write");n.reject(i)}}async function tP(t,e){const n=Fe(t);try{const r=await AU(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const a=n.Au.get(i);a&&(_e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?_e(a.hu,14607):s.removedDocuments.size>0&&(_e(a.hu,42227),a.hu=!1))})),await If(n,r,e)}catch(r){await zl(r)}}function r_(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,a)=>{const u=a.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(i,a){const u=Fe(i);u.onlineState=a;let c=!1;u.queries.forEach(((h,p)=>{for(const g of p.Sa)g.va(a)&&(c=!0)})),c&&a1(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vB(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Ct(he.comparator);a=a.insert(i,Rt.newNoDocument(i,De.min()));const u=We().add(i),c=new Cy(De.min(),new Map,new Ct(Ve),a,u);await tP(r,c),r.du=r.du.remove(i),r.Au.delete(e),c1(r)}else await hb(r.localStore,e,!1).then((()=>mb(r,e,n))).catch(zl)}async function wB(t,e){const n=Fe(t),r=e.batch.batchId;try{const s=await DU(n.localStore,e);rP(n,r,null),nP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await If(n,s)}catch(s){await zl(s)}}async function bB(t,e,n){const r=Fe(t);try{const s=await(function(i,a){const u=Fe(i);return u.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next((p=>(_e(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(c,p)))).next((()=>u.mutationQueue.performConsistencyCheck(c))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h))).next((()=>u.localDocuments.getDocuments(c,h)))}))})(r.localStore,e);rP(r,e,n),nP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await If(r,s)}catch(s){await zl(s)}}function nP(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function rP(t,e,n){const r=Fe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function mb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||sP(t,r)}))}function sP(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Zx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),c1(t))}function s_(t,e,n){for(const r of n)r instanceof JN?(t.Ru.addReference(r.key,e),xB(t,r)):r instanceof ZN?(le(u1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||sP(t,r.key)):Ce(19791,{wu:r})}function xB(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(u1,"New document in limbo: "+n),t.Eu.add(r),c1(t))}function c1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new he(ot.fromString(e)),r=t.fu.next();t.Au.set(r,new cB(n)),t.du=t.du.insert(n,r),HN(t.remoteStore,new Oi(Gr(Cf(n.path)),r,"TargetPurposeLimboResolution",$r.ce))}}async function If(t,e,n){const r=Fe(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{a.push(r.pu(c,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(h){s.push(h);const g=Xx.As(c.targetId,h);i.push(g)}})))})),await Promise.all(a),r.Pu.H_(s),await(async function(u,c){const h=Fe(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Q.forEach(c,(g=>Q.forEach(g.Es,(v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>Q.forEach(g.ds,(v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!ma(p))throw p;le(Jx,"Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const v=h.Ms.get(g),C=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(C);h.Ms=h.Ms.insert(g,_)}}})(r.localStore,i))}async function SB(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){le(u1,"User change. New user:",e.toKey());const r=await BN(n.localStore,e);n.currentUser=e,(function(s,i){s.mu.forEach((a=>{a.forEach((u=>{u.reject(new ce(te.CANCELLED,i))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await If(n,r.Ls)}}function CB(t,e){const n=Fe(t),r=n.Au.get(e);if(r&&r.hu)return We().add(r.key);{let s=We();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const u=n.Tu.get(a);s=s.unionWith(u.view.nu)}return s}}function iP(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vB.bind(null,e),e.Pu.H_=oB.bind(null,e.eventManager),e.Pu.yu=aB.bind(null,e.eventManager),e}function oP(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bB.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_y(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return UN(this.persistence,new FN,e.initialUser,this.serializer)}Cu(e){return new Qx(Ty.mi,this.serializer)}Du(e){return new qN}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class EB extends Zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_e(this.persistence.referenceDelegate instanceof Pg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new RN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new Qx((r=>Pg.mi(r,n)),this.serializer)}}class kB extends Zh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await oP(this.xu.syncEngine),await _f(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return UN(this.persistence,new FN,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new RN(r,e.asyncQueue,n)}Mu(e,n){const r=new NF(n,this.persistence);return new AF(e.asyncQueue,r)}Cu(e){const n=kU(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new Yx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,UU(),Gm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new qN}}class Rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>r_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SB.bind(null,this.syncEngine),await rB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iB})()}createDatastore(e){const n=_y(e.databaseInfo.databaseId),r=(function(s){return new FU(s)})(e.databaseInfo);return(function(s,i,a,u){return new $U(s,i,a,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(n,r,s,i,a){return new HU(n,r,s,i,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>r_(this.syncEngine,n,0)),(function(){return XT.v()?new XT:new OU})())}createSyncEngine(e,n){return(function(r,s,i,a,u,c,h){const p=new dB(r,s,i,a,u,c);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const s=Fe(r);le(jl,"RemoteStore shutting down."),s.Ea.add(5),await Tf(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Rg.provider={build:()=>new Rg};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class d1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aa="FirestoreClient";class TB{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Tn.UNAUTHENTICATED,this.clientId=Dx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{le(aa,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(le(aa,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=s1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function B0(t,e){t.asyncQueue.verifyOperationInProgress(),le(aa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await BN(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function i_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _B(t);le(aa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>ZT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>ZT(e.remoteStore,s))),t._onlineComponents=e}async function _B(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(aa,"Using user provided OfflineComponentProvider");try{await B0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===te.FAILED_PRECONDITION||r.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;_l("Error using user provided cache. Falling back to memory cache: "+n),await B0(t,new Zh)}}else le(aa,"Using default OfflineComponentProvider"),await B0(t,new EB(void 0));return t._offlineComponents}async function aP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(aa,"Using user provided OnlineComponentProvider"),await i_(t,t._uninitializedComponentsProvider._online)):(le(aa,"Using default OnlineComponentProvider"),await i_(t,new Rg))),t._onlineComponents}function IB(t){return aP(t).then((e=>e.syncEngine))}async function Og(t){const e=await aP(t),n=e.eventManager;return n.onListen=hB.bind(null,e.syncEngine),n.onUnlisten=mB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gB.bind(null,e.syncEngine),n}function DB(t,e,n={}){const r=new Ks;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,a,u,c){const h=new d1({next:g=>{h.Nu(),i.enqueueAndForget((()=>o1(s,p)));const v=g.docs.has(a);!v&&g.fromCache?c.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new l1(Cf(a.path),h,{includeMetadataChanges:!0,qa:!0});return i1(s,p)})(await Og(t),t.asyncQueue,e,n,r))),r.promise}function AB(t,e,n={}){const r=new Ks;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,a,u,c){const h=new d1({next:g=>{h.Nu(),i.enqueueAndForget((()=>o1(s,p))),g.fromCache&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new l1(a,h,{includeMetadataChanges:!0,qa:!0});return i1(s,p)})(await Og(t),t.asyncQueue,e,n,r))),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const o_=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uP="firestore.googleapis.com",a_=!0;class l_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uP,this.ssl=a_}else this.host=e.host,this.ssl=e.ssl??a_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lU)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lP(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new mF;switch(n.type){case"firstParty":return new wF(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=o_.get(e);n&&(le("ComponentProvider","Removing Datastore"),o_.delete(e),n.terminate())})(this),Promise.resolve()}}function NB(t,e,n,r={}){var s;t=Hn(t,Dy);const i=Fl(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(mx(`https://${c}`),gx("Firestore",!0)),a.host!==uP&&a.host!==c&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:c,ssl:i,emulatorOptions:r};if(!ra(h,u)&&(t._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Tn.MOCK_USER;else{p=yD(r.mockUserToken,(s=t._app)==null?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Tn(v)}t._authCredentials=new gF(new mA(p,g))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let $l=class cP{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cP(this.firestore,e,this._query)}};class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bf(n,Ot._jsonSchema))return new Ot(e,r||null,new he(ot.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:an("string",Ot._jsonSchemaVersion),referencePath:an("string")};class ta extends $l{constructor(e,n,r){super(e,n,Cf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new he(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function Un(t,e,...n){if(t=Dt(t),yA("collection","path",e),t instanceof Dy){const r=ot.fromString(e,...n);return Jk(r),new ta(t,null,r)}{if(!(t instanceof Ot||t instanceof ta))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return Jk(r),new ta(t.firestore,null,r)}}function oi(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=Dx.newId()),yA("doc","path",e),t instanceof Dy){const r=ot.fromString(e,...n);return Xk(r),new Ot(t,null,new he(r))}{if(!(t instanceof Ot||t instanceof ta))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return Xk(r),new Ot(t.firestore,t instanceof ta?t.converter:null,new he(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const u_="AsyncQueue";class c_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $N(this,"async_queue_retry"),this._c=()=>{const r=Gm();r&&le(u_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ma(e))throw e;le(u_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qn("INTERNAL UNHANDLED ERROR: ",d_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=r1.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Ce(47125,{Pc:d_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function d_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function h_(t){return(function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1})(t,["next","error","complete"])}class ni extends Dy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new c_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new c_(e),this._firestoreClient=void 0,await e}}}function Ay(t,e){const n=typeof t=="object"?t:oy(),r=typeof t=="string"?t:Cg,s=fa(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=pD("firestore");i&&NB(s,...i)}return s}function Ny(t){if(t._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dP(t),t._firestoreClient}function dP(t){var e,n,r;const s=t._freezeSettings(),i=(function(a,u,c,h){return new o9(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,lP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)==null?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||(n=s.localCache)!=null&&n._offlineComponentProvider&&(r=s.localCache)!=null&&r._onlineComponentProvider&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new TB(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}})(t._componentsProvider))}function PB(t,e){_l("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return jB(t,Rg.provider,{build:r=>new kB(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function jB(t,e,n){if((t=Hn(t,ni))._firestoreClient||t._terminated)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ce(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},dP(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qr(ln.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qr(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bf(e,qr._jsonSchema))return qr.fromBase64String(e.bytes)}}qr._jsonSchemaVersion="firestore/bytes/1.0",qr._jsonSchema={type:an("string",qr._jsonSchemaVersion),bytes:an("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Py{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jy{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qs._jsonSchemaVersion}}static fromJSON(e){if(bf(e,Qs._jsonSchema))return new Qs(e.latitude,e.longitude)}}Qs._jsonSchemaVersion="firestore/geoPoint/1.0",Qs._jsonSchema={type:an("string",Qs._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ys{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ys._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bf(e,Ys._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ys(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ys._jsonSchemaVersion="firestore/vectorValue/1.0",Ys._jsonSchema={type:an("string",Ys._jsonSchemaVersion),vectorValues:an("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const RB=/^__.*__$/;class OB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fc(e,this.data,n,this.fieldTransforms)}}class hP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class h1{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new h1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fP(this.Ac)&&RB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class MB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_y(e)}Cc(e,n,r,s=!1){return new h1({Ac:e,methodName:n,Dc:r,path:Tt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ry(t){const e=t._freezeSettings(),n=_y(t._databaseId);return new MB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pP(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);p1("Data must be an object, but it was:",a,r);const u=mP(r,a);let c,h;if(i.merge)c=new ar(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const v=gb(e,g,n);if(!a.contains(v))throw new ce(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);yP(p,v)||p.push(v)}c=new ar(p),h=a.fieldTransforms.filter((g=>c.covers(g.field)))}else c=null,h=a.fieldTransforms;return new OB(new Mn(u),c,h)}class Oy extends jy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oy}}class f1 extends jy{_toFieldTransform(e){return new aN(e.path,new Ic)}isEqual(e){return e instanceof f1}}function LB(t,e,n,r){const s=t.Cc(1,e,n);p1("Data must be an object, but it was:",s,r);const i=[],a=Mn.empty();ga(r,((c,h)=>{const p=m1(e,c,n);h=Dt(h);const g=s.yc(p);if(h instanceof Oy)i.push(p);else{const v=Df(h,g);v!=null&&(i.push(p),a.set(p,v))}}));const u=new ar(i);return new hP(a,u,s.fieldTransforms)}function VB(t,e,n,r,s,i){const a=t.Cc(1,e,n),u=[gb(e,r,n)],c=[s];if(i.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)u.push(gb(e,i[v])),c.push(i[v+1]);const h=[],p=Mn.empty();for(let v=u.length-1;v>=0;--v)if(!yP(h,u[v])){const C=u[v];let _=c[v];_=Dt(_);const k=a.yc(C);if(_ instanceof Oy)h.push(C);else{const T=Df(_,k);T!=null&&(h.push(C),p.set(C,T))}}const g=new ar(h);return new hP(p,g,a.fieldTransforms)}function FB(t,e,n,r=!1){return Df(n,t.Cc(r?4:3,e))}function Df(t,e){if(gP(t=Dt(t)))return p1("Unsupported field value:",e,t),mP(t,e);if(t instanceof jy)return(function(n,r){if(!fP(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const s=[];let i=0;for(const a of n){let u=Df(a,r.wc(i));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),i++}return{arrayValue:{values:s}}})(t,e)}return(function(n,r){if((n=Dt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return T9(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=rt.fromDate(n);return{timestampValue:Nc(r.serializer,s)}}if(n instanceof rt){const s=new rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Nc(r.serializer,s)}}if(n instanceof Qs)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof qr)return{bytesValue:pN(r.serializer,n._byteString)};if(n instanceof Ot){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Wx(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Ys)return(function(s,i){return{mapValue:{fields:{[Lx]:{stringValue:Vx},[Ec]:{arrayValue:{values:s.toArray().map((a=>{if(typeof a!="number")throw i.Sc("VectorValues must only contain numeric values.");return Ux(i.serializer,a)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${dy(n)}`)})(t,e)}function mP(t,e){const n={};return jA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(t,((r,s)=>{const i=Df(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function gP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Qs||t instanceof qr||t instanceof Ot||t instanceof jy||t instanceof Ys)}function p1(t,e,n){if(!gP(n)||!vA(n)){const r=dy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function gb(t,e,n){if((e=Dt(e))instanceof Py)return e._internalPath;if(typeof e=="string")return m1(t,e);throw Mg("Field path arguments must be of type string or ",t,!1,void 0,n)}const UB=new RegExp("[~\\*/\\[\\]]");function m1(t,e,n){if(e.search(UB)>=0)throw Mg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Py(...e.split("."))._internalPath}catch{throw Mg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mg(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new ce(te.INVALID_ARGUMENT,u+t+c)}function yP(t,e){return t.some((n=>n.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vP{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(My("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BB extends vP{data(){return super.data()}}function My(t,e){return typeof e=="string"?m1(t,e):e instanceof Py?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g1{}class y1 extends g1{}function ms(t,e,...n){let r=[];e instanceof g1&&r.push(e),r=r.concat(n),(function(s){const i=s.filter((u=>u instanceof v1)).length,a=s.filter((u=>u instanceof Ly)).length;if(i>1||i>0&&a>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Ly extends y1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ly(e,n,r)}_apply(e){const n=this._parse(e);return bP(e._query,n),new $l(e.firestore,e.converter,sb(e._query,n))}_parse(e){const n=Ry(e.firestore);return(function(r,s,i,a,u,c,h){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){p_(h,c);const g=[];for(const v of h)g.push(f_(a,r,v));p={arrayValue:{values:g}}}else p=f_(a,r,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||p_(h,c),p=FB(i,s,h,c==="in"||c==="not-in");return Ke.create(u,c,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wr(t,e,n){const r=e,s=My("where",t);return Ly._create(s,r,n)}class v1 extends g1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new v1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:lt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,s){let i=r;const a=s.getFlattenedFilters();for(const u of a)bP(i,u),i=sb(i,u)})(e._query,n),new $l(e.firestore,e.converter,sb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class w1 extends y1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new w1(e,n)}_apply(e){const n=(function(r,s,i){if(r.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xh(s,i)})(e._query,this._field,this._direction);return new $l(e.firestore,e.converter,(function(r,s){const i=r.explicitOrderBy.concat([s]);return new Vc(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function Bc(t,e="asc"){const n=e,r=My("orderBy",t);return w1._create(r,n)}class b1 extends y1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new b1(e,n,r)}_apply(e){return new $l(e.firestore,e.converter,Tg(e._query,this._limit,this._limitType))}}function x1(t){return TF("limit",t),b1._create("limit",t,"F")}function f_(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YA(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!he.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qh(t,new he(r))}if(n instanceof Ot)return Qh(t,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dy(n)}.`)}function p_(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bP(t,e){const n=(function(r,s){for(const i of r)for(const a of i.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zB{convertValue(e,n="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ga(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)==null?void 0:n[Ec].arrayValue)==null?void 0:r.values)==null?void 0:s.map((a=>xt(a.doubleValue)));return new Ys(i)}convertGeoPoint(e){return new Qs(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gh(e));default:return null}}convertTimestamp(e){const n=Bi(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);_e(EN(r),9688,{name:e});const s=new Il(r.get(1),r.get(3)),i=new he(r.popFirst(5));return s.isEqual(n)||qn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class wh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bl extends vP{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(My("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=bl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),n}}bl._jsonSchemaVersion="firestore/documentSnapshot/1.0",bl._jsonSchema={type:an("string",bl._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class Km extends bl{data(e={}){return super.data(e)}}class xl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new wh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Km(this._firestore,this._userDataWriter,r.key,r,new wh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map((a=>{const u=new Km(r._firestore,r._userDataWriter,a.doc.key,a.doc,new wh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:i++}}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const u=new Km(r._firestore,r._userDataWriter,a.doc.key,a.doc,new wh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),h=i.indexOf(a.doc.key)),{type:qB(a.type),doc:u,oldIndex:c,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function SP(t){t=Hn(t,Ot);const e=Hn(t.firestore,ni);return DB(Ny(e),t._key).then((n=>EP(e,t,n)))}xl._jsonSchemaVersion="firestore/querySnapshot/1.0",xl._jsonSchema={type:an("string",xl._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class S1 extends zB{constructor(e){super(),this.firestore=e}convertBytes(e){return new qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function gs(t){t=Hn(t,$l);const e=Hn(t.firestore,ni),n=Ny(e),r=new S1(e);return wP(t._query),AB(n,t._query).then((s=>new xl(e,r,t,s)))}function Vy(t,e,n){t=Hn(t,Ot);const r=Hn(t.firestore,ni),s=xP(t.converter,e,n);return Uy(r,[pP(Ry(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ln.none())])}function Fy(t,e,n,...r){t=Hn(t,Ot);const s=Hn(t.firestore,ni),i=Ry(s);let a;return a=typeof(e=Dt(e))=="string"||e instanceof Py?VB(i,"updateDoc",t._key,e,n,r):LB(i,"updateDoc",t._key,e),Uy(s,[a.toMutation(t._key,Ln.exists(!0))])}function Mne(t){return Uy(Hn(t.firestore,ni),[new Sy(t._key,Ln.none())])}function C1(t,e){const n=Hn(t.firestore,ni),r=oi(t),s=xP(t.converter,e);return Uy(n,[pP(Ry(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ln.exists(!1))]).then((()=>r))}function CP(t,...e){var n,r,s;t=Dt(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||h_(e[a])||(i=e[a++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(h_(e[a])){const g=e[a];e[a]=(n=g.next)==null?void 0:n.bind(g),e[a+1]=(r=g.error)==null?void 0:r.bind(g),e[a+2]=(s=g.complete)==null?void 0:s.bind(g)}let c,h,p;if(t instanceof Ot)h=Hn(t.firestore,ni),p=Cf(t._key.path),c={next:g=>{e[a]&&e[a](EP(h,t,g))},error:e[a+1],complete:e[a+2]};else{const g=Hn(t,$l);h=Hn(g.firestore,ni),p=g._query;const v=new S1(h);c={next:C=>{e[a]&&e[a](new xl(h,v,g,C))},error:e[a+1],complete:e[a+2]},wP(t._query)}return(function(g,v,C,_){const k=new d1(_),T=new l1(v,k,C);return g.asyncQueue.enqueueAndForget((async()=>i1(await Og(g),T))),()=>{k.Nu(),g.asyncQueue.enqueueAndForget((async()=>o1(await Og(g),T)))}})(Ny(h),p,u,c)}function Uy(t,e){return(function(n,r){const s=new Ks;return n.asyncQueue.enqueueAndForget((async()=>yB(await IB(n),r,s))),s.promise})(Ny(t),e)}function EP(t,e,n){const r=n.docs.get(e._key),s=new S1(t);return new bl(t,s,e._key,r,new wh(n.hasPendingWrites,n.fromCache),e.converter)}function $n(){return new f1("serverTimestamp")}(function(t,e=!0){(function(n){Lc=n})(Bl),fs(new Yr("firestore",((n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),a=new ni(new yF(n.getProvider("auth-internal")),new bF(i,n.getProvider("app-check-internal")),(function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(u.options.projectId,c)})(i,r),i);return s={useFetchStreams:e,...s},a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),ur(Gk,Kk,t),ur(Gk,Kk,"esm2020")})();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kP="firebasestorage.googleapis.com",$B="storageBucket",WB=120*1e3,HB=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ai extends Xr{constructor(e,n,r=0){super(z0(e),`Firebase Storage: ${n} (${z0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ai.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return z0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ri;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ri||(ri={}));function z0(t){return"storage/"+t}function GB(){const t="An unknown error occurred, please check the error payload for server response.";return new ai(ri.UNKNOWN,t)}function KB(){return new ai(ri.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QB(){return new ai(ri.CANCELED,"User canceled the upload/download.")}function YB(t){return new ai(ri.INVALID_URL,"Invalid URL '"+t+"'.")}function XB(t){return new ai(ri.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function m_(t){return new ai(ri.INVALID_ARGUMENT,t)}function TP(){return new ai(ri.APP_DELETED,"The Firebase app was deleted.")}function JB(t){return new ai(ri.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hs.makeFromUrl(e,n)}catch{return new hs(e,"")}if(r.path==="")return r;throw XB(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function h(O){O.path_=decodeURIComponent(O.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",C=new RegExp(`^https?://${g}/${p}/b/${s}/o${v}`,"i"),_={bucket:1,path:3},k=n===kP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",A=new RegExp(`^https?://${k}/${s}/${T}`,"i"),P=[{regex:u,indices:c,postModify:i},{regex:C,indices:_,postModify:h},{regex:A,indices:{bucket:1,path:2},postModify:h}];for(let O=0;O<P.length;O++){const U=P[O],z=U.regex.exec(e);if(z){const H=z[U.indices.bucket];let j=z[U.indices.path];j||(j=""),r=new hs(H,j),U.postModify(r);break}}if(r==null)throw YB(e);return r}}class ZB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function e8(t,e,n){let r=1,s=null,i=null,a=!1,u=0;function c(){return u===2}let h=!1;function p(...T){h||(h=!0,e.apply(null,T))}function g(T){s=setTimeout(()=>{s=null,t(C,c())},T)}function v(){i&&clearTimeout(i)}function C(T,...A){if(h){v();return}if(T){v(),p.call(null,T,...A);return}if(c()||a){v(),p.call(null,T,...A);return}r<64&&(r*=2);let P;u===1?(u=2,P=0):P=(r+Math.random())*1e3,g(P)}let _=!1;function k(T){_||(_=!0,v(),!h&&(s!==null?(T||(u=2),clearTimeout(s),g(0)):T||(u=1)))}return g(0),i=setTimeout(()=>{a=!0,k(!0)},n),k}function t8(t){t(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function n8(t){return t!==void 0}function g_(t,e,n,r){if(r<e)throw m_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw m_(`Invalid value for '${t}'. Expected ${n} or less.`)}function r8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Lg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Lg||(Lg={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function s8(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class i8{constructor(e,n,r,s,i,a,u,c,h,p,g,v=!0,C=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,k)=>{this.resolve_=_,this.reject_=k,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new fm(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=u=>{const c=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const u=i.getErrorCode()===Lg.NO_ERROR,c=i.getStatus();if(!u||s8(c,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===Lg.ABORT;r(!1,new fm(!1,null,p));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new fm(h,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());n8(c)?i(c):i()}catch(c){a(c)}else if(u!==null){const c=GB();c.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,c)):a(c)}else if(s.canceled){const c=this.appDelete_?TP():QB();a(c)}else{const c=KB();a(c)}};this.canceled_?n(!1,new fm(!1,null,!0)):this.backoffId_=e8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&t8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function o8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function a8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function l8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function u8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function c8(t,e,n,r,s,i,a=!0,u=!1){const c=r8(t.urlParams),h=t.url+c,p=Object.assign({},t.headers);return l8(p,e),o8(p,n),a8(p,i),u8(p,r),new i8(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,u)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function d8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function h8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vg{constructor(e,n){this._service=e,n instanceof hs?this._location=n:this._location=hs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Vg(e,n)}get root(){const e=new hs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h8(this._location.path)}get storage(){return this._service}get parent(){const e=d8(this._location.path);if(e===null)return null;const n=new hs(this._location.bucket,e);return new Vg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw JB(e)}}function y_(t,e){const n=e==null?void 0:e[$B];return n==null?null:hs.makeFromBucketSpec(n,t)}function f8(t,e,n,r={}){t.host=`${e}:${n}`;const s=Fl(e);s&&(mx(`https://${t.host}/b`),gx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:yD(i,t.app.options.projectId))}class p8{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=kP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WB,this._maxUploadRetryTime=HB,this._requests=new Set,s!=null?this._bucket=hs.makeFromBucketSpec(s,this._host):this._bucket=y_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hs.makeFromBucketSpec(this._url,e):this._bucket=y_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){g_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){g_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vg(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new ZB(TP());{const a=c8(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const v_="@firebase/storage",w_="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _P="storage";function m8(t=oy(),e){t=Dt(t);const n=fa(t,_P).getImmediate({identifier:e}),r=pD("storage");return r&&g8(n,...r),n}function g8(t,e,n,r={}){f8(t,e,n,r)}function y8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new p8(n,r,s,e,Bl)}function v8(){fs(new Yr(_P,y8,"PUBLIC").setMultipleInstances(!0)),ur(v_,w_,""),ur(v_,w_,"esm2020")}v8();const IP="@firebase/installations",E1="0.6.19";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DP=1e4,AP=`w:${E1}`,NP="FIS_v2",w8="https://firebaseinstallations.googleapis.com/v1",b8=3600*1e3,x8="installations",S8="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const C8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rl=new Ul(x8,S8,C8);function PP(t){return t instanceof Xr&&t.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jP({projectId:t}){return`${w8}/projects/${t}/installations`}function RP(t){return{token:t.token,requestStatus:2,expiresIn:k8(t.expiresIn),creationTime:Date.now()}}async function OP(t,e){const n=(await e.json()).error;return Rl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function MP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function E8(t,{refreshToken:e}){const n=MP(t);return n.append("Authorization",T8(e)),n}async function LP(t){const e=await t();return e.status>=500&&e.status<600?t():e}function k8(t){return Number(t.replace("s","000"))}function T8(t){return`${NP} ${t}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function _8({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=jP(t),s=MP(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={fid:n,authVersion:NP,appId:t.appId,sdkVersion:AP},u={method:"POST",headers:s,body:JSON.stringify(a)},c=await LP(()=>fetch(r,u));if(c.ok){const h=await c.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:RP(h.authToken)}}else throw await OP("Create Installation",c)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function VP(t){return new Promise(e=>{setTimeout(e,t)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function I8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const D8=/^[cdef][\w-]{21}$/,yb="";function A8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=N8(t);return D8.test(e)?e:yb}catch{return yb}}function N8(t){return I8(t).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function By(t){return`${t.appName}!${t.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const FP=new Map;function UP(t,e){const n=By(t);BP(n,e),P8(n,e)}function BP(t,e){const n=FP.get(t);if(n)for(const r of n)r(e)}function P8(t,e){const n=j8();n&&n.postMessage({key:t,fid:e}),R8()}let hl=null;function j8(){return!hl&&"BroadcastChannel"in self&&(hl=new BroadcastChannel("[Firebase] FID Change"),hl.onmessage=t=>{BP(t.data.key,t.data.fid)}),hl}function R8(){FP.size===0&&hl&&(hl.close(),hl=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const O8="firebase-installations-database",M8=1,Ol="firebase-installations-store";let q0=null;function k1(){return q0||(q0=ED(O8,M8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ol)}}})),q0}async function Fg(t,e){const n=By(t),r=(await k1()).transaction(Ol,"readwrite"),s=r.objectStore(Ol),i=await s.get(n);return await s.put(e,n),await r.done,(!i||i.fid!==e.fid)&&UP(t,e.fid),e}async function zP(t){const e=By(t),n=(await k1()).transaction(Ol,"readwrite");await n.objectStore(Ol).delete(e),await n.done}async function zy(t,e){const n=By(t),r=(await k1()).transaction(Ol,"readwrite"),s=r.objectStore(Ol),i=await s.get(n),a=e(i);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!i||i.fid!==a.fid)&&UP(t,a.fid),a}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function T1(t){let e;const n=await zy(t.appConfig,r=>{const s=L8(r),i=V8(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===yb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function L8(t){const e=t||{fid:A8(),registrationStatus:0};return qP(e)}function V8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Rl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=F8(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:U8(t)}:{installationEntry:e}}async function F8(t,e){try{const n=await _8(t,e);return Fg(t.appConfig,n)}catch(n){throw PP(n)&&n.customData.serverCode===409?await zP(t.appConfig):await Fg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function U8(t){let e=await b_(t.appConfig);for(;e.registrationStatus===1;)await VP(100),e=await b_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await T1(t);return r||n}return e}function b_(t){return zy(t,e=>{if(!e)throw Rl.create("installation-not-found");return qP(e)})}function qP(t){return B8(t)?{fid:t.fid,registrationStatus:0}:t}function B8(t){return t.registrationStatus===1&&t.registrationTime+DP<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function z8({appConfig:t,heartbeatServiceProvider:e},n){const r=q8(t,n),s=E8(t,n),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={installation:{sdkVersion:AP,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(a)},c=await LP(()=>fetch(r,u));if(c.ok){const h=await c.json();return RP(h)}else throw await OP("Generate Auth Token",c)}function q8(t,{fid:e}){return`${jP(t)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function _1(t,e=!1){let n;const r=await zy(t.appConfig,s=>{if(!$P(s))throw Rl.create("not-registered");const i=s.authToken;if(!e&&H8(i))return s;if(i.requestStatus===1)return n=$8(t,e),s;{if(!navigator.onLine)throw Rl.create("app-offline");const a=K8(s);return n=W8(t,a),a}});return n?await n:r.authToken}async function $8(t,e){let n=await x_(t.appConfig);for(;n.authToken.requestStatus===1;)await VP(100),n=await x_(t.appConfig);const r=n.authToken;return r.requestStatus===0?_1(t,e):r}function x_(t){return zy(t,e=>{if(!$P(e))throw Rl.create("not-registered");const n=e.authToken;return Q8(n)?{...e,authToken:{requestStatus:0}}:e})}async function W8(t,e){try{const n=await z8(t,e),r={...e,authToken:n};return await Fg(t.appConfig,r),n}catch(n){if(PP(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await zP(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Fg(t.appConfig,r)}throw n}}function $P(t){return t!==void 0&&t.registrationStatus===2}function H8(t){return t.requestStatus===2&&!G8(t)}function G8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+b8}function K8(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Q8(t){return t.requestStatus===1&&t.requestTime+DP<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Y8(t){const e=t,{installationEntry:n,registrationPromise:r}=await T1(e);return r?r.catch(console.error):_1(e).catch(console.error),n.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function X8(t,e=!1){const n=t;return await J8(n),(await _1(n,e)).token}async function J8(t){const{registrationPromise:e}=await T1(t);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Z8(t){if(!t||!t.options)throw $0("App Configuration");if(!t.name)throw $0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw $0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function $0(t){return Rl.create("missing-app-config-values",{valueName:t})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const WP="installations",ez="installations-internal",tz=t=>{const e=t.getProvider("app").getImmediate(),n=Z8(e),r=fa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},nz=t=>{const e=t.getProvider("app").getImmediate(),n=fa(e,WP).getImmediate();return{getId:()=>Y8(n),getToken:r=>X8(n,r)}};function rz(){fs(new Yr(WP,tz,"PUBLIC")),fs(new Yr(ez,nz,"PRIVATE"))}rz();ur(IP,E1);ur(IP,E1,"esm2020");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ug="analytics",sz="firebase_id",iz="origin",oz=60*1e3,az="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",I1="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Kn=new iy("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kr=new Ul("analytics","Analytics",lz);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uz(t){if(!t.startsWith(I1)){const e=kr.create("invalid-gtag-resource",{gtagURL:t});return Kn.warn(e.message),""}return t}function HP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function cz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function dz(t,e){const n=cz("firebase-js-sdk-policy",{createScriptURL:uz}),r=document.createElement("script"),s=`${I1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function hz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function fz(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const u=(await HP(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(u){Kn.error(u)}t("config",s,i)}async function pz(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const u=await HP(n);for(const c of a){const h=u.find(g=>g.measurementId===c),p=h&&e[h.appId];if(p)i.push(p);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Kn.error(i)}}function mz(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[u,c]=a;await pz(t,e,n,u,c)}else if(i==="config"){const[u,c]=a;await fz(t,e,n,r,u,c)}else if(i==="consent"){const[u,c]=a;t("consent",u,c)}else if(i==="get"){const[u,c,h]=a;t("get",u,c,h)}else if(i==="set"){const[u]=a;t("set",u)}else t(i,...a)}catch(u){Kn.error(u)}}return s}function gz(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=mz(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function yz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(I1)&&n.src.includes(t))return n;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vz=30,wz=1e3;class bz{constructor(e={},n=wz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const GP=new bz;function xz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Sz(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:xz(r)},i=az.replace("{app-id}",n),a=await fetch(i,s);if(a.status!==200&&a.status!==304){let u="";try{const c=await a.json();(e=c.error)!=null&&e.message&&(u=c.error.message)}catch{}throw kr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function Cz(t,e=GP,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw kr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw kr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Tz;return setTimeout(async()=>{u.abort()},oz),KP({appId:r,apiKey:s,measurementId:i},a,u,e)}async function KP(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=GP){var i;const{appId:a,measurementId:u}=t;try{await Ez(r,e)}catch(c){if(u)return Kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:u};throw c}try{const c=await Sz(t);return s.deleteThrottleMetadata(a),c}catch(c){const h=c;if(!kz(h)){if(s.deleteThrottleMetadata(a),u)return Kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:a,measurementId:u};throw c}const p=Number((i=h==null?void 0:h.customData)==null?void 0:i.httpStatus)===503?vk(n,s.intervalMillis,vz):vk(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(a,g),Kn.debug(`Calling attemptFetch again in ${p} millis`),KP(t,g,r,s)}}function Ez(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(kr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function kz(t){if(!(t instanceof Xr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Tz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _z(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a={...r,send_to:i};t("event",n,a)}}async function Iz(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Dz(){if(sy())try{await vx()}catch(t){return Kn.warn(kr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Kn.warn(kr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Az(t,e,n,r,s,i,a){const u=Cz(t);u.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Kn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Kn.error(v)),e.push(u);const c=Dz().then(v=>{if(v)return r.getId()}),[h,p]=await Promise.all([u,c]);yz(i)||dz(i,h.measurementId),s("js",new Date);const g=(a==null?void 0:a.config)??{};return g[iz]="firebase",g.update=!0,p!=null&&(g[sz]=p),s("config",h.measurementId,g),h.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nz{constructor(e){this.app=e}_delete(){return delete mc[this.app.options.appId],Promise.resolve()}}let mc={},S_=[];const C_={};let W0="dataLayer",Pz="gtag",E_,D1,k_=!1;function jz(){const t=[];if(yx()&&t.push("This is a browser extension environment."),xD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=kr.create("invalid-analytics-context",{errorInfo:e});Kn.warn(n.message)}}function Rz(t,e,n){jz();const r=t.options.appId;if(!r)throw kr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kr.create("no-api-key");if(mc[r]!=null)throw kr.create("already-exists",{id:r});if(!k_){hz(W0);const{wrappedGtag:s,gtagCore:i}=gz(mc,S_,C_,W0,Pz);D1=s,E_=i,k_=!0}return mc[r]=Az(t,S_,C_,e,E_,W0,n),new Nz(t)}function QP(t=oy()){t=Dt(t);const e=fa(t,Ug);return e.isInitialized()?e.getImmediate():Oz(t)}function Oz(t,e={}){const n=fa(t,Ug);if(n.isInitialized()){const r=n.getImmediate();if(ra(e,n.getOptions()))return r;throw kr.create("already-initialized")}return n.initialize({options:e})}async function YP(){if(yx()||!xD()||!sy())return!1;try{return await vx()}catch{return!1}}function Mz(t,e,n){t=Dt(t),Iz(D1,mc[t.app.options.appId],e,n).catch(r=>Kn.error(r))}function XP(t,e,n,r){t=Dt(t),_z(D1,mc[t.app.options.appId],e,n,r).catch(s=>Kn.error(s))}const T_="@firebase/analytics",__="0.10.19";function Lz(){fs(new Yr(Ug,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Rz(r,s,n)},"PUBLIC")),fs(new Yr("analytics-internal",t,"PRIVATE")),ur(T_,__),ur(T_,__,"esm2020");function t(e){try{const n=e.getProvider(Ug).getImmediate();return{logEvent:(r,s,i)=>XP(n,r,s,i),setUserProperties:(r,s)=>Mz(n,r,s)}}catch(n){throw kr.create("interop-component-reg-failed",{reason:n})}}}Lz();const Vz={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},ys=kD(Vz),H0=cy(ys),Fz=Ay(ys);m8(ys);try{PB(Fz).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence: Not supported in this browser")})}catch(t){console.warn("Firestore persistence init failed:",t)}let JP=null;try{YP().then(t=>{t&&(JP=QP(ys))}).catch(()=>{})}catch{}const Uz=JP;/**
* react-router v7.9.5
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var I_="popstate";function Bz(t={}){function e(r,s){let{pathname:i,search:a,hash:u}=r.location;return vb("",{pathname:i,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ef(s)}return qz(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function si(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zz(){return Math.random().toString(36).substring(2,10)}function D_(t,e){return{usr:t.state,key:t.key,idx:e}}function vb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?zc(e):e,state:n,key:e&&e.key||r||zz()}}function ef({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function qz(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,u="POP",c=null,h=p();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function p(){return(a.state||{idx:null}).idx}function g(){u="POP";let T=p(),A=T==null?null:T-h;h=T,c&&c({action:u,location:k.location,delta:A})}function v(T,A){u="PUSH";let P=vb(k.location,T,A);h=p()+1;let O=D_(P,h),U=k.createHref(P);try{a.pushState(O,"",U)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(U)}i&&c&&c({action:u,location:k.location,delta:1})}function C(T,A){u="REPLACE";let P=vb(k.location,T,A);h=p();let O=D_(P,h),U=k.createHref(P);a.replaceState(O,"",U),i&&c&&c({action:u,location:k.location,delta:0})}function _(T){return $z(T)}let k={get action(){return u},get location(){return t(s,a)},listen(T){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(I_,g),c=T,()=>{s.removeEventListener(I_,g),c=null}},createHref(T){return e(s,T)},createURL:_,encodeLocation(T){let A=_(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:C,go(T){return a.go(T)}};return k}function $z(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ef(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function ZP(t,e,n="/"){return Wz(t,e,n,!1)}function Wz(t,e,n,r){let s=typeof e=="string"?zc(e):e,i=qi(s.pathname||"/",n);if(i==null)return null;let a=ej(t);Hz(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let h=r7(i);u=t7(a[c],h,r)}return u}function ej(t,e=[],n=[],r="",s=!1){let i=(a,u,c=s,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&c)return;It(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Vi([r,p.relativePath]),v=n.concat(p);a.children&&a.children.length>0&&(It(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),ej(a.children,e,v,g,c)),!(a.path==null&&!a.index)&&e.push({path:g,score:Zz(g,a.index),routesMeta:v})};return t.forEach((a,u)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,u);else for(let h of tj(a.path))i(a,u,!0,h)}),e}function tj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=tj(r.join("/")),u=[];return u.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function Hz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:e7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Gz=/^:[\w-]+$/,Kz=3,Qz=2,Yz=1,Xz=10,Jz=-2,A_=t=>t==="*";function Zz(t,e){let n=t.split("/"),r=n.length;return n.some(A_)&&(r+=Jz),e&&(r+=Qz),n.filter(s=>!A_(s)).reduce((s,i)=>s+(Gz.test(i)?Kz:i===""?Yz:Xz),r)}function e7(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function t7(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=Bg({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),v=c.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Bg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:Vi([i,g.pathname]),pathnameBase:a7(Vi([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=Vi([i,g.pathnameBase]))}return a}function Bg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=n7(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:p},g)=>{if(h==="*"){let C=u[g]||"";a=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const v=u[g];return p&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function n7(t,e=!1,n=!0){si(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function r7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function s7(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?zc(t):t;return{pathname:n?n.startsWith("/")?n:i7(n,e):e,search:l7(r),hash:u7(s)}}function i7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function G0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nj(t){let e=o7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function rj(t,e,n,r=!1){let s;typeof t=="string"?s=zc(t):(s={...t},It(!s.pathname||!s.pathname.includes("?"),G0("?","pathname","search",s)),It(!s.pathname||!s.pathname.includes("#"),G0("#","pathname","hash",s)),It(!s.search||!s.search.includes("#"),G0("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,u;if(a==null)u=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?e[g]:"/"}let c=s7(s,u),h=a&&a!=="/"&&a.endsWith("/"),p=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}var Vi=t=>t.join("/").replace(/\/\/+/g,"/"),a7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),l7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,u7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function c7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sj=["POST","PUT","PATCH","DELETE"];new Set(sj);var d7=["GET",...sj];new Set(d7);var qc=S.createContext(null);qc.displayName="DataRouter";var qy=S.createContext(null);qy.displayName="DataRouterState";S.createContext(!1);var ij=S.createContext({isTransitioning:!1});ij.displayName="ViewTransition";var h7=S.createContext(new Map);h7.displayName="Fetchers";var f7=S.createContext(null);f7.displayName="Await";var li=S.createContext(null);li.displayName="Navigation";var Af=S.createContext(null);Af.displayName="Location";var Zi=S.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var A1=S.createContext(null);A1.displayName="RouteError";function p7(t,{relative:e}={}){It(Nf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(li),{hash:s,pathname:i,search:a}=Pf(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:Vi([n,i])),r.createHref({pathname:u,search:a,hash:s})}function Nf(){return S.useContext(Af)!=null}function eo(){return It(Nf(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Af).location}var oj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aj(t){S.useContext(li).static||S.useLayoutEffect(t)}function N1(){let{isDataRoute:t}=S.useContext(Zi);return t?_7():m7()}function m7(){It(Nf(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(qc),{basename:e,navigator:n}=S.useContext(li),{matches:r}=S.useContext(Zi),{pathname:s}=eo(),i=JSON.stringify(nj(r)),a=S.useRef(!1);return aj(()=>{a.current=!0}),S.useCallback((u,c={})=>{if(si(a.current,oj),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=rj(u,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vi([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,i,s,t])}S.createContext(null);function Pf(t,{relative:e}={}){let{matches:n}=S.useContext(Zi),{pathname:r}=eo(),s=JSON.stringify(nj(n));return S.useMemo(()=>rj(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function g7(t,e){return lj(t,e)}function lj(t,e,n,r,s){var i;It(Nf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(li),{matches:u}=S.useContext(Zi),c=u[u.length-1],h=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let O=v&&v.path||"";uj(p,!v||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let C=eo(),_;if(e){let O=typeof e=="string"?zc(e):e;It(g==="/"||((i=O.pathname)==null?void 0:i.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${O.pathname}" was given in the \`location\` prop.`),_=O}else _=C;let k=_.pathname||"/",T=k;if(g!=="/"){let O=g.replace(/^\//,"").split("/");T="/"+k.replace(/^\//,"").split("/").slice(O.length).join("/")}let A=ZP(t,{pathname:T});si(v||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),si(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=x7(A&&A.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:Vi([g,a.encodeLocation?a.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?g:Vi([g,a.encodeLocation?a.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),u,n,r,s);return e&&P?S.createElement(Af.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},P):P}function y7(){let t=T7(),e=c7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,a)}var v7=S.createElement(y7,null),w7=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(Zi.Provider,{value:this.props.routeContext},S.createElement(A1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b7({routeContext:t,match:e,children:n}){let r=S.useContext(qc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Zi.Provider,{value:t},n)}function x7(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let h=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);It(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:v}=n,C=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||C){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let v,C=!1,_=null,k=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,_=p.route.errorElement||v7,u&&(c<0&&g===0?(uj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,k=null):c===g&&(C=!0,k=p.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,g+1)),A=()=>{let P;return v?P=_:C?P=k:p.route.Component?P=S.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=h,S.createElement(b7,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:P})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?S.createElement(w7,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:A(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:r}):A()},null)}function P1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S7(t){let e=S.useContext(qc);return It(e,P1(t)),e}function C7(t){let e=S.useContext(qy);return It(e,P1(t)),e}function E7(t){let e=S.useContext(Zi);return It(e,P1(t)),e}function j1(t){let e=E7(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function k7(){return j1("useRouteId")}function T7(){var t;let e=S.useContext(A1),n=C7("useRouteError"),r=j1("useRouteError");return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _7(){let{router:t}=S7("useNavigate"),e=j1("useNavigate"),n=S.useRef(!1);return aj(()=>{n.current=!0}),S.useCallback(async(r,s={})=>{si(n.current,oj),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var N_={};function uj(t,e,n){!e&&!N_[t]&&(N_[t]=!0,si(!1,n))}S.memo(I7);function I7({routes:t,future:e,state:n,unstable_onError:r}){return lj(t,void 0,n,r,e)}function Pt(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function D7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){It(!Nf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=zc(n));let{pathname:c="/",search:h="",hash:p="",state:g=null,key:v="default"}=n,C=S.useMemo(()=>{let _=qi(c,a);return _==null?null:{location:{pathname:_,search:h,hash:p,state:g,key:v},navigationType:r}},[a,c,h,p,g,v,r]);return si(C!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:S.createElement(li.Provider,{value:u},S.createElement(Af.Provider,{children:e,value:C}))}function A7({children:t,location:e}){return g7(wb(t),e)}function wb(t,e=[]){let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,wb(r.props.children,i));return}It(r.type===Pt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=wb(r.props.children,i)),n.push(a)}),n}var Qm="get",Ym="application/x-www-form-urlencoded";function $y(t){return t!=null&&typeof t.tagName=="string"}function N7(t){return $y(t)&&t.tagName.toLowerCase()==="button"}function P7(t){return $y(t)&&t.tagName.toLowerCase()==="form"}function j7(t){return $y(t)&&t.tagName.toLowerCase()==="input"}function R7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O7(t,e){return t.button===0&&(!e||e==="_self")&&!R7(t)}var pm=null;function M7(){if(pm===null)try{new FormData(document.createElement("form"),0),pm=!1}catch{pm=!0}return pm}var L7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function K0(t){return t!=null&&!L7.has(t)?(si(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ym}"`),null):t}function V7(t,e){let n,r,s,i,a;if(P7(t)){let u=t.getAttribute("action");r=u?qi(u,e):null,n=t.getAttribute("method")||Qm,s=K0(t.getAttribute("enctype"))||Ym,i=new FormData(t)}else if(N7(t)||j7(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?qi(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Qm,s=K0(t.getAttribute("formenctype"))||K0(u.getAttribute("enctype"))||Ym,i=new FormData(u,t),!M7()){let{name:h,type:p,value:g}=t;if(p==="image"){let v=h?`${h}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else h&&i.append(h,g)}}else{if($y(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qm,r=null,s=Ym,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function R1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function F7(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&qi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function U7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function z7(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await U7(i,n);return a.links?a.links():[]}return[]}));return H7(r.flat(1).filter(B7).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function P_(t,e,n,r,s,i){let a=(c,h)=>n[h]?c.route.id!==n[h].route.id:!0,u=(c,h)=>{var p;return n[h].pathname!==c.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,h)=>a(c,h)||u(c,h)):i==="data"?e.filter((c,h)=>{var p;let g=r.routes[c.route.id];if(!g||!g.hasLoader)return!1;if(a(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function q7(t,e,{includeHydrateFallback:n}={}){return $7(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function $7(t){return[...new Set(t)]}function W7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function H7(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(W7(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function cj(){let t=S.useContext(qc);return R1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function G7(){let t=S.useContext(qy);return R1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var O1=S.createContext(void 0);O1.displayName="FrameworkContext";function dj(){let t=S.useContext(O1);return R1(t,"You must render this element inside a <HydratedRouter> element"),t}function K7(t,e){let n=S.useContext(O1),[r,s]=S.useState(!1),[i,a]=S.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,v=S.useRef(null);S.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let k=A=>{A.forEach(P=>{a(P.isIntersecting)})},T=new IntersectionObserver(k,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[t]),S.useEffect(()=>{if(r){let k=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(k)}}},[r]);let C=()=>{s(!0)},_=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Qd(u,C),onBlur:Qd(c,_),onMouseEnter:Qd(h,C),onMouseLeave:Qd(p,_),onTouchStart:Qd(g,C)}]:[!1,v,{}]}function Qd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Q7({page:t,...e}){let{router:n}=cj(),r=S.useMemo(()=>ZP(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(X7,{page:t,matches:r,...e}):null}function Y7(t){let{manifest:e,routeModules:n}=dj(),[r,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return z7(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function X7({page:t,matches:e,...n}){let r=eo(),{manifest:s,routeModules:i}=dj(),{basename:a}=cj(),{loaderData:u,matches:c}=G7(),h=S.useMemo(()=>P_(t,e,c,s,r,"data"),[t,e,c,s,r]),p=S.useMemo(()=>P_(t,e,c,s,r,"assets"),[t,e,c,s,r]),g=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,k=!1;if(e.forEach(A=>{var P;let O=s.routes[A.route.id];!O||!O.hasLoader||(!h.some(U=>U.route.id===A.route.id)&&A.route.id in u&&(P=i[A.route.id])!=null&&P.shouldRevalidate||O.hasClientLoader?k=!0:_.add(A.route.id))}),_.size===0)return[];let T=F7(t,a,"data");return k&&_.size>0&&T.searchParams.set("_routes",e.filter(A=>_.has(A.route.id)).map(A=>A.route.id).join(",")),[T.pathname+T.search]},[a,u,r,s,h,e,t,i]),v=S.useMemo(()=>q7(p,s),[p,s]),C=Y7(p);return S.createElement(S.Fragment,null,g.map(_=>S.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),v.map(_=>S.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),C.map(({key:_,link:k})=>S.createElement("link",{key:_,nonce:n.nonce,...k})))}function J7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hj&&(window.__reactRouterVersion="7.9.5")}catch{}function Z7({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=Bz({window:n,v5Compat:!0}));let s=r.current,[i,a]=S.useState({action:s.action,location:s.location}),u=S.useCallback(c=>{S.startTransition(()=>a(c))},[a]);return S.useLayoutEffect(()=>s.listen(u),[s,u]),S.createElement(D7,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var fj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=S.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:s,replace:i,state:a,target:u,to:c,preventScrollReset:h,viewTransition:p,...g},v){let{basename:C}=S.useContext(li),_=typeof c=="string"&&fj.test(c),k,T=!1;if(typeof c=="string"&&_&&(k=c,hj))try{let I=new URL(window.location.href),N=c.startsWith("//")?new URL(I.protocol+c):new URL(c),M=qi(N.pathname,C);N.origin===I.origin&&M!=null?c=M+N.search+N.hash:T=!0}catch{si(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=p7(c,{relative:r}),[P,O,U]=K7(n,g),z=rq(c,{replace:i,state:a,target:u,preventScrollReset:h,relative:r,viewTransition:p});function H(I){t&&t(I),I.defaultPrevented||z(I)}let j=S.createElement("a",{...g,...U,href:k||A,onClick:T||s?t:H,ref:J7(v,O),target:u,"data-discover":!_&&e==="render"?"true":void 0});return P&&!_?S.createElement(S.Fragment,null,j,S.createElement(Q7,{page:A})):j});ft.displayName="Link";var eq=S.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:s,to:i,viewTransition:a,children:u,...c},h){let p=Pf(i,{relative:c.relative}),g=eo(),v=S.useContext(qy),{navigator:C,basename:_}=S.useContext(li),k=v!=null&&lq(p)&&a===!0,T=C.encodeLocation?C.encodeLocation(p).pathname:p.pathname,A=g.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(A=A.toLowerCase(),P=P?P.toLowerCase():null,T=T.toLowerCase()),P&&_&&(P=qi(P,_)||P);const O=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let U=A===T||!r&&A.startsWith(T)&&A.charAt(O)==="/",z=P!=null&&(P===T||!r&&P.startsWith(T)&&P.charAt(T.length)==="/"),H={isActive:U,isPending:z,isTransitioning:k},j=U?t:void 0,I;typeof n=="function"?I=n(H):I=[n,U?"active":null,z?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(H):s;return S.createElement(ft,{...c,"aria-current":j,className:I,ref:h,style:N,to:i,viewTransition:a},typeof u=="function"?u(H):u)});eq.displayName="NavLink";var tq=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Qm,action:u,onSubmit:c,relative:h,preventScrollReset:p,viewTransition:g,...v},C)=>{let _=oq(),k=aq(u,{relative:h}),T=a.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&fj.test(u),P=O=>{if(c&&c(O),O.defaultPrevented)return;O.preventDefault();let U=O.nativeEvent.submitter,z=(U==null?void 0:U.getAttribute("formmethod"))||a;_(U||O.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:s,state:i,relative:h,preventScrollReset:p,viewTransition:g})};return S.createElement("form",{ref:C,method:T,action:k,onSubmit:r?c:P,...v,"data-discover":!A&&t==="render"?"true":void 0})});tq.displayName="Form";function nq(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pj(t){let e=S.useContext(qc);return It(e,nq(t)),e}function rq(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let u=N1(),c=eo(),h=Pf(t,{relative:i});return S.useCallback(p=>{if(O7(p,e)){p.preventDefault();let g=n!==void 0?n:ef(c)===ef(h);u(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[c,u,h,n,r,e,t,s,i,a])}var sq=0,iq=()=>`__${String(++sq)}__`;function oq(){let{router:t}=pj("useSubmit"),{basename:e}=S.useContext(li),n=k7();return S.useCallback(async(r,s={})=>{let{action:i,method:a,encType:u,formData:c,body:h}=V7(r,e);if(s.navigate===!1){let p=s.fetcherKey||iq();await t.fetch(p,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||a,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||a,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function aq(t,{relative:e}={}){let{basename:n}=S.useContext(li),r=S.useContext(Zi);It(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Pf(t||".",{relative:e})},a=eo();if(t==null){i.search=a.search;let u=new URLSearchParams(i.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Vi([n,i.pathname])),ef(i)}function lq(t,{relative:e}={}){let n=S.useContext(ij);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pj("useViewTransitionState"),s=Pf(t,{relative:e});if(!n.isTransitioning)return!1;let i=qi(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=qi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Bg(s.pathname,a)!=null||Bg(s.pathname,i)!=null}var M1=lD();const uq=hx(M1);function nt(t){if(!t)return"/";const[e,n]=t.split("?"),r="/"+e.replace(/\s+/g,"");return n?`${r}?${n}`:r}var jf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cq={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ha,j_,R_,dq=(R_=class{constructor(){Re(this,Ha,cq),Re(this,j_,!1)}setTimeoutProvider(t){ge(this,Ha,t)}setTimeout(t,e){return $(this,Ha).setTimeout(t,e)}clearTimeout(t){$(this,Ha).clearTimeout(t)}setInterval(t,e){return $(this,Ha).setInterval(t,e)}clearInterval(t){$(this,Ha).clearInterval(t)}},Ha=new WeakMap,j_=new WeakMap,R_),fl=new dq;function hq(t){setTimeout(t,0)}var Ml=typeof window>"u"||"Deno"in globalThis;function or(){}function fq(t,e){return typeof t=="function"?t(e):t}function bb(t){return typeof t=="number"&&t>=0&&t!==1/0}function mj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function na(t,e){return typeof t=="function"?t(e):t}function zr(t,e){return typeof t=="function"?t(e):t}function O_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:u}=t;if(a){if(r){if(e.queryHash!==L1(a,e.options))return!1}else if(!nf(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||i&&!i(e))}function M_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(tf(e.options.mutationKey)!==tf(i))return!1}else if(!nf(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function L1(t,e){return((e==null?void 0:e.queryKeyHashFn)||tf)(t)}function tf(t){return JSON.stringify(t,(e,n)=>Sb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function nf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>nf(t[n],e[n])):!1}var pq=Object.prototype.hasOwnProperty;function gj(t,e){if(t===e)return t;const n=L_(t)&&L_(e);if(!n&&!(Sb(t)&&Sb(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),i=s.length,a=n?new Array(i):{};let u=0;for(let c=0;c<i;c++){const h=n?c:s[c],p=t[h],g=e[h];if(p===g){a[h]=p,(n?c<r:pq.call(t,h))&&u++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){a[h]=g;continue}const v=gj(p,g);a[h]=v,v===p&&u++}return r===i&&u===r?t:a}function xb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function L_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sb(t){if(!V_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!V_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function V_(t){return Object.prototype.toString.call(t)==="[object Object]"}function mq(t){return new Promise(e=>{fl.setTimeout(e,t)})}function Cb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?gj(t,e):e}function gq(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function yq(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var V1=Symbol();function yj(t,e){return!t.queryFn&&e!=null&&e.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===V1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function vq(t,e){return typeof t=="function"?t(...e):!!t}var Uu,Ga,Yd,F_,wq=(F_=class extends jf{constructor(){super(),Re(this,Uu),Re(this,Ga),Re(this,Yd),ge(this,Yd,t=>{if(!Ml&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){$(this,Ga)||this.setEventListener($(this,Yd))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Ga))==null||t.call(this),ge(this,Ga,void 0))}setEventListener(t){var e;ge(this,Yd,t),(e=$(this,Ga))==null||e.call(this),ge(this,Ga,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,Uu)!==t&&(ge(this,Uu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof $(this,Uu)=="boolean"?$(this,Uu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Uu=new WeakMap,Ga=new WeakMap,Yd=new WeakMap,F_),F1=new wq;function Eb(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var bq=hq;function xq(){let t=[],e=0,n=u=>{u()},r=u=>{u()},s=bq;const i=u=>{e?t.push(u):s(()=>{n(u)})},a=()=>{const u=t;t=[],u.length&&s(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;e++;try{c=u()}finally{e--,e||a()}return c},batchCalls:u=>(...c)=>{i(()=>{u(...c)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var In=xq(),Xd,Ka,Jd,U_,Sq=(U_=class extends jf{constructor(){super(),Re(this,Xd,!0),Re(this,Ka),Re(this,Jd),ge(this,Jd,t=>{if(!Ml&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,Ka)||this.setEventListener($(this,Jd))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Ka))==null||t.call(this),ge(this,Ka,void 0))}setEventListener(t){var e;ge(this,Jd,t),(e=$(this,Ka))==null||e.call(this),ge(this,Ka,t(this.setOnline.bind(this)))}setOnline(t){$(this,Xd)!==t&&(ge(this,Xd,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return $(this,Xd)}},Xd=new WeakMap,Ka=new WeakMap,Jd=new WeakMap,U_),zg=new Sq;function Cq(t){return Math.min(1e3*2**t,3e4)}function vj(t){return(t??"online")==="online"?zg.isOnline():!0}var kb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function wj(t){let e=!1,n=0,r;const s=Eb(),i=()=>s.status!=="pending",a=k=>{var T;if(!i()){const A=new kb(k);v(A),(T=t.onCancel)==null||T.call(t,A)}},u=()=>{e=!0},c=()=>{e=!1},h=()=>F1.isFocused()&&(t.networkMode==="always"||zg.isOnline())&&t.canRun(),p=()=>vj(t.networkMode)&&t.canRun(),g=k=>{i()||(r==null||r(),s.resolve(k))},v=k=>{i()||(r==null||r(),s.reject(k))},C=()=>new Promise(k=>{var T;r=A=>{(i()||h())&&k(A)},(T=t.onPause)==null||T.call(t)}).then(()=>{var k;r=void 0,i()||(k=t.onContinue)==null||k.call(t)}),_=()=>{if(i())return;let k;const T=n===0?t.initialPromise:void 0;try{k=T??t.fn()}catch(A){k=Promise.reject(A)}Promise.resolve(k).then(g).catch(A=>{var P;if(i())return;const O=t.retry??(Ml?0:3),U=t.retryDelay??Cq,z=typeof U=="function"?U(n,A):U,H=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,A);if(e||!H){v(A);return}n++,(P=t.onFail)==null||P.call(t,n,A),mq(z).then(()=>h()?void 0:C()).then(()=>{e?v(A):_()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:c,canStart:p,start:()=>(p()?_():C().then(_),s)}}var Bu,B_,bj=(B_=class{constructor(){Re(this,Bu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bb(this.gcTime)&&ge(this,Bu,fl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ml?1/0:300*1e3))}clearGcTimeout(){$(this,Bu)&&(fl.clearTimeout($(this,Bu)),ge(this,Bu,void 0))}},Bu=new WeakMap,B_),zu,Zd,ls,qu,En,mm,$u,Fs,Ii,z_,Eq=(z_=class extends bj{constructor(t){super(),Re(this,Fs),Re(this,zu),Re(this,Zd),Re(this,ls),Re(this,qu),Re(this,En),Re(this,mm),Re(this,$u),ge(this,$u,!1),ge(this,mm,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,qu,t.client),ge(this,ls,$(this,qu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,zu,$_(this.options)),this.state=t.state??$(this,zu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,En))==null?void 0:t.promise}setOptions(t){if(this.options={...$(this,mm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=$_(this.options);e.data!==void 0&&(this.setState(q_(e.data,e.dataUpdatedAt)),ge(this,zu,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,ls).remove(this)}setData(t,e){const n=Cb(this.state.data,t,this.options);return Ze(this,Fs,Ii).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){Ze(this,Fs,Ii).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var e,n;const r=(e=$(this,En))==null?void 0:e.promise;return(n=$(this,En))==null||n.cancel(t),r?r.then(or).catch(or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,zu))}isActive(){return this.observers.some(t=>zr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===V1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>na(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!mj(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=$(this,En))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=$(this,En))==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,ls).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||($(this,En)&&($(this,$u)?$(this,En).cancel({revert:!0}):$(this,En).cancelRetry()),this.scheduleGc()),$(this,ls).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Fs,Ii).call(this,{type:"invalidate"})}async fetch(t,e){var n,r,s,i,a,u,c,h,p,g,v,C;if(this.state.fetchStatus!=="idle"&&((n=$(this,En))==null?void 0:n.status())!=="rejected"){if(this.state.data!==void 0&&e!=null&&e.cancelRefetch)this.cancel({silent:!0});else if($(this,En))return $(this,En).continueRetry(),$(this,En).promise}if(t&&this.setOptions(t),!this.options.queryFn){const P=this.observers.find(O=>O.options.queryFn);P&&this.setOptions(P.options)}const _=new AbortController,k=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(ge(this,$u,!0),_.signal)})},T=()=>{const P=yj(this.options,e),O=(()=>{const U={client:$(this,qu),queryKey:this.queryKey,meta:this.meta};return k(U),U})();return ge(this,$u,!1),this.options.persister?this.options.persister(P,O,this):P(O)},A=(()=>{const P={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:$(this,qu),state:this.state,fetchFn:T};return k(P),P})();(r=this.options.behavior)==null||r.onFetch(A,this),ge(this,Zd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=A.fetchOptions)==null?void 0:s.meta))&&Ze(this,Fs,Ii).call(this,{type:"fetch",meta:(i=A.fetchOptions)==null?void 0:i.meta}),ge(this,En,wj({initialPromise:e==null?void 0:e.initialPromise,fn:A.fetchFn,onCancel:P=>{P instanceof kb&&P.revert&&this.setState({...$(this,Zd),fetchStatus:"idle"}),_.abort()},onFail:(P,O)=>{Ze(this,Fs,Ii).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{Ze(this,Fs,Ii).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Fs,Ii).call(this,{type:"continue"})},retry:A.options.retry,retryDelay:A.options.retryDelay,networkMode:A.options.networkMode,canRun:()=>!0}));try{const P=await $(this,En).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(u=(a=$(this,ls).config).onSuccess)==null||u.call(a,P,this),(h=(c=$(this,ls).config).onSettled)==null||h.call(c,P,this.state.error,this),P}catch(P){if(P instanceof kb){if(P.silent)return $(this,En).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw Ze(this,Fs,Ii).call(this,{type:"error",error:P}),(g=(p=$(this,ls).config).onError)==null||g.call(p,P,this),(C=(v=$(this,ls).config).onSettled)==null||C.call(v,this.state.data,P,this),P}finally{this.scheduleGc()}}},zu=new WeakMap,Zd=new WeakMap,ls=new WeakMap,qu=new WeakMap,En=new WeakMap,mm=new WeakMap,$u=new WeakMap,Fs=new WeakSet,Ii=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...xj(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...q_(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,Zd,t.manual?r:void 0),r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),In.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,ls).notify({query:this,type:"updated",action:t})})},z_);function xj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vj(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function q_(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function $_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var br,Je,gm,sr,Wu,eh,Vo,Qa,ym,th,nh,Hu,Gu,Ya,rh,Jt,sh,Q0,Y0,X0,J0,Z0,ew,tw,W_,H_,kq=(H_=class extends jf{constructor(t,e){super(),Re(this,Jt),Re(this,br),Re(this,Je),Re(this,gm),Re(this,sr),Re(this,Wu),Re(this,eh),Re(this,Vo),Re(this,Qa),Re(this,ym),Re(this,th),Re(this,nh),Re(this,Hu),Re(this,Gu),Re(this,Ya),Re(this,rh,new Set),this.options=e,ge(this,br,t),ge(this,Qa,null),ge(this,Vo,Eb()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,Je).addObserver(this),G_($(this,Je),this.options)?Ze(this,Jt,sh).call(this):this.updateResult(),Ze(this,Jt,J0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Tb($(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Tb($(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,Jt,Z0).call(this),Ze(this,Jt,ew).call(this),$(this,Je).removeObserver(this)}setOptions(t){const e=this.options,n=$(this,Je);if(this.options=$(this,br).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zr(this.options.enabled,$(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,Jt,tw).call(this),$(this,Je).setOptions(this.options),e._defaulted&&!xb(this.options,e)&&$(this,br).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,Je),observer:this});const r=this.hasListeners();r&&K_($(this,Je),n,this.options,e)&&Ze(this,Jt,sh).call(this),this.updateResult(),r&&($(this,Je)!==n||zr(this.options.enabled,$(this,Je))!==zr(e.enabled,$(this,Je))||na(this.options.staleTime,$(this,Je))!==na(e.staleTime,$(this,Je)))&&Ze(this,Jt,Q0).call(this);const s=Ze(this,Jt,Y0).call(this);r&&($(this,Je)!==n||zr(this.options.enabled,$(this,Je))!==zr(e.enabled,$(this,Je))||s!==$(this,Ya))&&Ze(this,Jt,X0).call(this,s)}getOptimisticResult(t){const e=$(this,br).getQueryCache().build($(this,br),t),n=this.createResult(e,t);return _q(this,n)&&(ge(this,sr,n),ge(this,eh,this.options),ge(this,Wu,$(this,Je).state)),n}getCurrentResult(){return $(this,sr)}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e==null||e(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&$(this,Vo).status==="pending"&&$(this,Vo).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){$(this,rh).add(t)}getCurrentQuery(){return $(this,Je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=$(this,br).defaultQueryOptions(t),n=$(this,br).getQueryCache().build($(this,br),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return Ze(this,Jt,sh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,sr)))}createResult(t,e){var n;const r=$(this,Je),s=this.options,i=$(this,sr),a=$(this,Wu),u=$(this,eh),c=t!==r?t.state:$(this,gm),{state:h}=t;let p={...h},g=!1,v;if(e._optimisticResults){const j=this.hasListeners(),I=!j&&G_(t,e),N=j&&K_(t,r,e,s);(I||N)&&(p={...p,...xj(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:C,errorUpdatedAt:_,status:k}=p;v=p.data;let T=!1;if(e.placeholderData!==void 0&&v===void 0&&k==="pending"){let j;i!=null&&i.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData)?(j=i.data,T=!0):j=typeof e.placeholderData=="function"?e.placeholderData((n=$(this,nh))==null?void 0:n.state.data,$(this,nh)):e.placeholderData,j!==void 0&&(k="success",v=Cb(i==null?void 0:i.data,j,e),g=!0)}if(e.select&&v!==void 0&&!T)if(i&&v===(a==null?void 0:a.data)&&e.select===$(this,ym))v=$(this,th);else try{ge(this,ym,e.select),v=e.select(v),v=Cb(i==null?void 0:i.data,v,e),ge(this,th,v),ge(this,Qa,null)}catch(j){ge(this,Qa,j)}$(this,Qa)&&(C=$(this,Qa),v=$(this,th),_=Date.now(),k="error");const A=p.fetchStatus==="fetching",P=k==="pending",O=k==="error",U=P&&A,z=v!==void 0,H={status:k,fetchStatus:p.fetchStatus,isPending:P,isSuccess:k==="success",isError:O,isInitialLoading:U,isLoading:U,data:v,dataUpdatedAt:p.dataUpdatedAt,error:C,errorUpdatedAt:_,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:A,isRefetching:A&&!P,isLoadingError:O&&!z,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:O&&z,isStale:U1(t,e),refetch:this.refetch,promise:$(this,Vo),isEnabled:zr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const j=M=>{H.status==="error"?M.reject(H.error):H.data!==void 0&&M.resolve(H.data)},I=()=>{const M=ge(this,Vo,H.promise=Eb());j(M)},N=$(this,Vo);switch(N.status){case"pending":t.queryHash===r.queryHash&&j(N);break;case"fulfilled":(H.status==="error"||H.data!==N.value)&&I();break;case"rejected":(H.status!=="error"||H.error!==N.reason)&&I();break}}return H}updateResult(){const t=$(this,sr),e=this.createResult($(this,Je),this.options);if(ge(this,Wu,$(this,Je).state),ge(this,eh,this.options),$(this,Wu).data!==void 0&&ge(this,nh,$(this,Je)),xb(e,t))return;ge(this,sr,e);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!$(this,rh).size)return!0;const i=new Set(s??$(this,rh));return this.options.throwOnError&&i.add("error"),Object.keys($(this,sr)).some(a=>{const u=a;return $(this,sr)[u]!==t[u]&&i.has(u)})};Ze(this,Jt,W_).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,Jt,J0).call(this)}},br=new WeakMap,Je=new WeakMap,gm=new WeakMap,sr=new WeakMap,Wu=new WeakMap,eh=new WeakMap,Vo=new WeakMap,Qa=new WeakMap,ym=new WeakMap,th=new WeakMap,nh=new WeakMap,Hu=new WeakMap,Gu=new WeakMap,Ya=new WeakMap,rh=new WeakMap,Jt=new WeakSet,sh=function(t){Ze(this,Jt,tw).call(this);let e=$(this,Je).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(or)),e},Q0=function(){Ze(this,Jt,Z0).call(this);const t=na(this.options.staleTime,$(this,Je));if(Ml||$(this,sr).isStale||!bb(t))return;const e=mj($(this,sr).dataUpdatedAt,t)+1;ge(this,Hu,fl.setTimeout(()=>{$(this,sr).isStale||this.updateResult()},e))},Y0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,Je)):this.options.refetchInterval)??!1},X0=function(t){Ze(this,Jt,ew).call(this),ge(this,Ya,t),!(Ml||zr(this.options.enabled,$(this,Je))===!1||!bb($(this,Ya))||$(this,Ya)===0)&&ge(this,Gu,fl.setInterval(()=>{(this.options.refetchIntervalInBackground||F1.isFocused())&&Ze(this,Jt,sh).call(this)},$(this,Ya)))},J0=function(){Ze(this,Jt,Q0).call(this),Ze(this,Jt,X0).call(this,Ze(this,Jt,Y0).call(this))},Z0=function(){$(this,Hu)&&(fl.clearTimeout($(this,Hu)),ge(this,Hu,void 0))},ew=function(){$(this,Gu)&&(fl.clearInterval($(this,Gu)),ge(this,Gu,void 0))},tw=function(){const t=$(this,br).getQueryCache().build($(this,br),this.options);if(t===$(this,Je))return;const e=$(this,Je);ge(this,Je,t),ge(this,gm,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},W_=function(t){In.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e($(this,sr))}),$(this,br).getQueryCache().notify({query:$(this,Je),type:"observerResultsUpdated"})})},H_);function Tq(t,e){return zr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function G_(t,e){return Tq(t,e)||t.state.data!==void 0&&Tb(t,e,e.refetchOnMount)}function Tb(t,e,n){if(zr(e.enabled,t)!==!1&&na(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&U1(t,e)}return!1}function K_(t,e,n,r){return(t!==e||zr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&U1(t,n)}function U1(t,e){return zr(e.enabled,t)!==!1&&t.isStaleByTime(na(e.staleTime,t))}function _q(t,e){return!xb(t.getCurrentResult(),e)}function Q_(t){return{onFetch:(e,n)=>{var r,s,i,a,u;const c=e.options,h=(i=(s=(r=e.fetchOptions)==null?void 0:r.meta)==null?void 0:s.fetchMore)==null?void 0:i.direction,p=((a=e.state.data)==null?void 0:a.pages)||[],g=((u=e.state.data)==null?void 0:u.pageParams)||[];let v={pages:[],pageParams:[]},C=0;const _=async()=>{let k=!1;const T=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?k=!0:e.signal.addEventListener("abort",()=>{k=!0}),e.signal)})},A=yj(e.options,e.fetchOptions),P=async(O,U,z)=>{if(k)return Promise.reject();if(U==null&&O.pages.length)return Promise.resolve(O);const H=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:U,direction:z?"backward":"forward",meta:e.options.meta};return T(M),M})(),j=await A(H),{maxPages:I}=e.options,N=z?yq:gq;return{pages:N(O.pages,j,I),pageParams:N(O.pageParams,U,I)}};if(h&&p.length){const O=h==="backward",U=O?Iq:Y_,z={pages:p,pageParams:g},H=U(c,z);v=await P(z,H,O)}else{const O=t??p.length;do{const U=C===0?g[0]??c.initialPageParam:Y_(c,v);if(C>0&&U==null)break;v=await P(v,U),C++}while(C<O)}return v};e.options.persister?e.fetchFn=()=>{var k,T;return(T=(k=e.options).persister)==null?void 0:T.call(k,_,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=_}}}function Y_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Iq(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var vm,Di,ir,Ku,Ai,Fo,X_,Dq=(X_=class extends bj{constructor(t){super(),Re(this,Ai),Re(this,vm),Re(this,Di),Re(this,ir),Re(this,Ku),ge(this,vm,t.client),this.mutationId=t.mutationId,ge(this,ir,t.mutationCache),ge(this,Di,[]),this.state=t.state||Aq(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,Di).includes(t)||($(this,Di).push(t),this.clearGcTimeout(),$(this,ir).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,Di,$(this,Di).filter(e=>e!==t)),this.scheduleGc(),$(this,ir).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,Di).length||(this.state.status==="pending"?this.scheduleGc():$(this,ir).remove(this))}continue(){var t;return((t=$(this,Ku))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var e,n,r,s,i,a,u,c,h,p,g,v,C,_,k,T,A,P,O,U;const z=()=>{Ze(this,Ai,Fo).call(this,{type:"continue"})},H={client:$(this,vm),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,Ku,wj({fn:()=>this.options.mutationFn?this.options.mutationFn(t,H):Promise.reject(new Error("No mutationFn found")),onFail:(N,M)=>{Ze(this,Ai,Fo).call(this,{type:"failed",failureCount:N,error:M})},onPause:()=>{Ze(this,Ai,Fo).call(this,{type:"pause"})},onContinue:z,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,ir).canRun(this)}));const j=this.state.status==="pending",I=!$(this,Ku).canStart();try{if(j)z();else{Ze(this,Ai,Fo).call(this,{type:"pending",variables:t,isPaused:I}),await((n=(e=$(this,ir).config).onMutate)==null?void 0:n.call(e,t,this,H));const M=await((s=(r=this.options).onMutate)==null?void 0:s.call(r,t,H));M!==this.state.context&&Ze(this,Ai,Fo).call(this,{type:"pending",context:M,variables:t,isPaused:I})}const N=await $(this,Ku).start();return await((a=(i=$(this,ir).config).onSuccess)==null?void 0:a.call(i,N,t,this.state.context,this,H)),await((c=(u=this.options).onSuccess)==null?void 0:c.call(u,N,t,this.state.context,H)),await((p=(h=$(this,ir).config).onSettled)==null?void 0:p.call(h,N,null,this.state.variables,this.state.context,this,H)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,N,null,t,this.state.context,H)),Ze(this,Ai,Fo).call(this,{type:"success",data:N}),N}catch(N){try{throw await((_=(C=$(this,ir).config).onError)==null?void 0:_.call(C,N,t,this.state.context,this,H)),await((T=(k=this.options).onError)==null?void 0:T.call(k,N,t,this.state.context,H)),await((P=(A=$(this,ir).config).onSettled)==null?void 0:P.call(A,void 0,N,this.state.variables,this.state.context,this,H)),await((U=(O=this.options).onSettled)==null?void 0:U.call(O,void 0,N,t,this.state.context,H)),N}finally{Ze(this,Ai,Fo).call(this,{type:"error",error:N})}}finally{$(this,ir).runNext(this)}}},vm=new WeakMap,Di=new WeakMap,ir=new WeakMap,Ku=new WeakMap,Ai=new WeakSet,Fo=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),In.batch(()=>{$(this,Di).forEach(n=>{n.onMutationUpdate(t)}),$(this,ir).notify({mutation:this,type:"updated",action:t})})},X_);function Aq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Uo,Us,wm,J_,Nq=(J_=class extends jf{constructor(t={}){super(),Re(this,Uo),Re(this,Us),Re(this,wm),this.config=t,ge(this,Uo,new Set),ge(this,Us,new Map),ge(this,wm,0)}build(t,e,n){const r=new Dq({client:t,mutationCache:this,mutationId:++Lw(this,wm)._,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){$(this,Uo).add(t);const e=bm(t);if(typeof e=="string"){const n=$(this,Us).get(e);n?n.push(t):$(this,Us).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,Uo).delete(t)){const e=bm(t);if(typeof e=="string"){const n=$(this,Us).get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&$(this,Us).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=bm(t);if(typeof e=="string"){const n=$(this,Us).get(e),r=n==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){var e;const n=bm(t);if(typeof n=="string"){const r=(e=$(this,Us).get(n))==null?void 0:e.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){In.batch(()=>{$(this,Uo).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,Uo).clear(),$(this,Us).clear()})}getAll(){return Array.from($(this,Uo))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>M_(e,n))}findAll(t={}){return this.getAll().filter(e=>M_(t,e))}notify(t){In.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return In.batch(()=>Promise.all(t.map(e=>e.continue().catch(or))))}},Uo=new WeakMap,Us=new WeakMap,wm=new WeakMap,J_);function bm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ni,Z_,Pq=(Z_=class extends jf{constructor(t={}){super(),Re(this,Ni),this.config=t,ge(this,Ni,new Map)}build(t,e,n){const r=e.queryKey,s=e.queryHash??L1(r,e);let i=this.get(s);return i||(i=new Eq({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){$(this,Ni).has(t.queryHash)||($(this,Ni).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=$(this,Ni).get(t.queryHash);e&&(t.destroy(),e===t&&$(this,Ni).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){In.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,Ni).get(t)}getAll(){return[...$(this,Ni).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>O_(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>O_(t,n)):e}notify(t){In.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){In.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){In.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ni=new WeakMap,Z_),Zt,Xa,Ja,ih,oh,Za,ah,lh,e2,jq=(e2=class{constructor(t={}){Re(this,Zt),Re(this,Xa),Re(this,Ja),Re(this,ih),Re(this,oh),Re(this,Za),Re(this,ah),Re(this,lh),ge(this,Zt,t.queryCache||new Pq),ge(this,Xa,t.mutationCache||new Nq),ge(this,Ja,t.defaultOptions||{}),ge(this,ih,new Map),ge(this,oh,new Map),ge(this,Za,0)}mount(){Lw(this,Za)._++,$(this,Za)===1&&(ge(this,ah,F1.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Zt).onFocus())})),ge(this,lh,zg.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Zt).onOnline())})))}unmount(){var t,e;Lw(this,Za)._--,$(this,Za)===0&&((t=$(this,ah))==null||t.call(this),ge(this,ah,void 0),(e=$(this,lh))==null||e.call(this),ge(this,lh,void 0))}isFetching(t){return $(this,Zt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,Xa).findAll({...t,status:"pending"}).length}getQueryData(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=$(this,Zt).get(n.queryHash))==null?void 0:e.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=$(this,Zt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(na(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return $(this,Zt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,Zt).get(r.queryHash),i=s==null?void 0:s.state.data,a=fq(e,i);if(a!==void 0)return $(this,Zt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return In.batch(()=>$(this,Zt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=$(this,Zt).get(n.queryHash))==null?void 0:e.state}removeQueries(t){const e=$(this,Zt);In.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,Zt);return In.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=In.batch(()=>$(this,Zt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(or).catch(or)}invalidateQueries(t,e={}){return In.batch(()=>($(this,Zt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=In.batch(()=>$(this,Zt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(or)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(or)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,Zt).build(this,e);return n.isStaleByTime(na(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(or).catch(or)}fetchInfiniteQuery(t){return t.behavior=Q_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(or).catch(or)}ensureInfiniteQueryData(t){return t.behavior=Q_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zg.isOnline()?$(this,Xa).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Zt)}getMutationCache(){return $(this,Xa)}getDefaultOptions(){return $(this,Ja)}setDefaultOptions(t){ge(this,Ja,t)}setQueryDefaults(t,e){$(this,ih).set(tf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,ih).values()],n={};return e.forEach(r=>{nf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){$(this,oh).set(tf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,oh).values()],n={};return e.forEach(r=>{nf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,Ja).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=L1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===V1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,Ja).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,Zt).clear(),$(this,Xa).clear()}},Zt=new WeakMap,Xa=new WeakMap,Ja=new WeakMap,ih=new WeakMap,oh=new WeakMap,Za=new WeakMap,ah=new WeakMap,lh=new WeakMap,e2),Sj=S.createContext(void 0),Rq=t=>{const e=S.useContext(Sj);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Oq=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(Sj.Provider,{value:t,children:e})),Cj=S.createContext(!1),Mq=()=>S.useContext(Cj);Cj.Provider;function Lq(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Vq=S.createContext(Lq()),Fq=()=>S.useContext(Vq),Uq=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Bq=t=>{S.useEffect(()=>{t.clearReset()},[t])},zq=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||vq(n,[t.error,r])),qq=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},$q=(t,e)=>t.isLoading&&t.isFetching&&!e,Wq=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,t2=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Hq(t,e,n){var r,s,i,a,u;const c=Mq(),h=Fq(),p=Rq(),g=p.defaultQueryOptions(t);(s=(r=p.getDefaultOptions().queries)==null?void 0:r._experimental_beforeQuery)==null||s.call(r,g),g._optimisticResults=c?"isRestoring":"optimistic",qq(g),Uq(g,h),Bq(h);const v=!p.getQueryCache().get(g.queryHash),[C]=S.useState(()=>new e(p,g)),_=C.getOptimisticResult(g),k=!c&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(T=>{const A=k?C.subscribe(In.batchCalls(T)):or;return C.updateResult(),A},[C,k]),()=>C.getCurrentResult(),()=>C.getCurrentResult()),S.useEffect(()=>{C.setOptions(g)},[g,C]),Wq(g,_))throw t2(g,C,h);if(zq({result:_,errorResetBoundary:h,throwOnError:g.throwOnError,query:p.getQueryCache().get(g.queryHash),suspense:g.suspense}))throw _.error;if((a=(i=p.getDefaultOptions().queries)==null?void 0:i._experimental_afterQuery)==null||a.call(i,g,_),g.experimental_prefetchInRender&&!Ml&&$q(_,c)){const T=v?t2(g,C,h):(u=p.getQueryCache().get(g.queryHash))==null?void 0:u.promise;T==null||T.catch(or).finally(()=>{C.updateResult()})}return g.notifyOnChangeProps?_:C.trackResult(_)}function Gq(t,e){return Hq(t,kq)}/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Kq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ej=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var Qq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Yq=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...u},c)=>S.createElement("svg",{ref:c,...Qq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ej("lucide",s),...u},[...a.map(([h,p])=>S.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ye=(t,e)=>{const n=S.forwardRef(({className:r,...s},i)=>S.createElement(Yq,{ref:i,iconNode:e,className:Ej(`lucide-${Kq(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Xq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Jq=Ye("ArrowRight",Xq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Zq=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],e$=Ye("Award",Zq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const t$=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Xm=Ye("Brain",t$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const n$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nw=Ye("Calendar",n$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const r$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],s$=Ye("ChartColumn",r$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const i$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],o$=Ye("Check",i$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const a$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],l$=Ye("ChevronDown",a$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const u$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],c$=Ye("ChevronRight",u$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const d$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],h$=Ye("CircleCheckBig",d$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const f$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],p$=Ye("CircleX",f$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const m$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],g$=Ye("Circle",m$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const y$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],v$=Ye("Clock",y$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const w$=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],n2=Ye("Coins",w$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const b$=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],x$=Ye("CreditCard",b$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const S$=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],pl=Ye("Crown",S$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const C$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],r2=Ye("EyeOff",C$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const E$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],s2=Ye("Eye",E$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const k$=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],T$=Ye("Gamepad2",k$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _$=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],i2=Ye("GraduationCap",_$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const I$=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],o2=Ye("Heart",I$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const D$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],a2=Ye("House",D$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const A$=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],l2=Ye("LogOut",A$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const N$=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],u2=Ye("Mail",N$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const P$=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],j$=Ye("Menu",P$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const R$=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],O$=Ye("PartyPopper",R$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const M$=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],L$=Ye("Rocket",M$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const V$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c2=Ye("Settings",V$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const F$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],U$=Ye("Shield",F$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const B$=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],rw=Ye("ShoppingBag",B$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const z$=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],kj=Ye("Sparkles",z$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const q$=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],sw=Ye("Star",q$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $$=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],_b=Ye("Trophy",$$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const W$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iw=Ye("User",W$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const H$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ib=Ye("Users",H$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const G$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],B1=Ye("X",G$);function Tj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Tj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _j(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Tj(t))&&(r&&(r+=" "),r+=e);return r}const d2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,h2=_j,Wy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return h2(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(h=>{const p=n==null?void 0:n[h],g=i==null?void 0:i[h];if(p===null)return null;const v=d2(p)||d2(g);return s[h][v]}),u=n&&Object.entries(n).reduce((h,p)=>{let[g,v]=p;return v===void 0||(h[g]=v),h},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:g,className:v,...C}=p;return Object.entries(C).every(_=>{let[k,T]=_;return Array.isArray(T)?T.includes({...i,...u}[k]):{...i,...u}[k]===T})?[...h,g,v]:h},[]);return h2(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},z1="-",K$=t=>{const e=Y$(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const i=s.split(z1);return i[0]===""&&i.length!==1&&i.shift(),Ij(i,e)||Q$(s)},getConflictingClassGroupIds:(s,i)=>{const a=n[s]||[];return i&&r[s]?[...a,...r[s]]:a}}},Ij=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),i=s?Ij(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(z1);return(n=e.validators.find(({validator:u})=>u(a)))==null?void 0:n.classGroupId},f2=/^\[(.+)\]$/,Q$=t=>{if(f2.test(t)){const e=f2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Y$=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Db(n[s],r,s,e);return r},Db=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:p2(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(X$(s)){Db(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Db(a,p2(e,i),n,r)})})},p2=(t,e)=>{let n=t;return e.split(z1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},X$=t=>t.isThemeGetter,J$=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},Ab="!",Nb=":",Z$=Nb.length,eW=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let a=0,u=0,c=0,h;for(let _=0;_<s.length;_++){let k=s[_];if(a===0&&u===0){if(k===Nb){i.push(s.slice(c,_)),c=_+Z$;continue}if(k==="/"){h=_;continue}}k==="["?a++:k==="]"?a--:k==="("?u++:k===")"&&u--}const p=i.length===0?s:s.substring(c),g=tW(p),v=g!==p,C=h&&h>c?h-c:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:C}};if(e){const s=e+Nb,i=r;r=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},tW=t=>t.endsWith(Ab)?t.substring(0,t.length-1):t.startsWith(Ab)?t.substring(1):t,nW=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r}},rW=t=>({cache:J$(t.cacheSize),parseClassName:eW(t),sortModifiers:nW(t),...K$(t)}),sW=/\s+/,iW=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],u=t.trim().split(sW);let c="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{isExternal:g,modifiers:v,hasImportantModifier:C,baseClassName:_,maybePostfixModifierPosition:k}=n(p);if(g){c=p+(c.length>0?" "+c:c);continue}let T=!!k,A=r(T?_.substring(0,k):_);if(!A){if(!T){c=p+(c.length>0?" "+c:c);continue}if(A=r(_),!A){c=p+(c.length>0?" "+c:c);continue}T=!1}const P=i(v).join(":"),O=C?P+Ab:P,U=O+A;if(a.includes(U))continue;a.push(U);const z=s(A,T);for(let H=0;H<z.length;++H){const j=z[H];a.push(O+j)}c=p+(c.length>0?" "+c:c)}return c};function oW(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Dj(e))&&(r&&(r+=" "),r+=n);return r}const Dj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Dj(t[r]))&&(n&&(n+=" "),n+=e);return n};function aW(t,...e){let n,r,s,i=a;function a(c){const h=e.reduce((p,g)=>g(p),t());return n=rW(h),r=n.cache.get,s=n.cache.set,i=u,u(c)}function u(c){const h=r(c);if(h)return h;const p=iW(c,n);return s(c,p),p}return function(){return i(oW.apply(null,arguments))}}const dn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Aj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Nj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lW=/^\d+\/\d+$/,uW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,hW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qu=t=>lW.test(t),$e=t=>!!t&&!Number.isNaN(Number(t)),Bo=t=>!!t&&Number.isInteger(Number(t)),ow=t=>t.endsWith("%")&&$e(t.slice(0,-1)),Pi=t=>uW.test(t),pW=()=>!0,mW=t=>cW.test(t)&&!dW.test(t),Pj=()=>!1,gW=t=>hW.test(t),yW=t=>fW.test(t),vW=t=>!xe(t)&&!Se(t),wW=t=>$c(t,Oj,Pj),xe=t=>Aj.test(t),el=t=>$c(t,Mj,mW),aw=t=>$c(t,EW,$e),m2=t=>$c(t,jj,Pj),bW=t=>$c(t,Rj,yW),xm=t=>$c(t,Lj,gW),Se=t=>Nj.test(t),uh=t=>Wc(t,Mj),xW=t=>Wc(t,kW),g2=t=>Wc(t,jj),SW=t=>Wc(t,Oj),CW=t=>Wc(t,Rj),Sm=t=>Wc(t,Lj,!0),$c=(t,e,n)=>{const r=Aj.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Wc=(t,e,n=!1)=>{const r=Nj.exec(t);return r?r[1]?e(r[1]):n:!1},jj=t=>t==="position"||t==="percentage",Rj=t=>t==="image"||t==="url",Oj=t=>t==="length"||t==="size"||t==="bg-size",Mj=t=>t==="length",EW=t=>t==="number",kW=t=>t==="family-name",Lj=t=>t==="shadow",TW=()=>{const t=dn("color"),e=dn("font"),n=dn("text"),r=dn("font-weight"),s=dn("tracking"),i=dn("leading"),a=dn("breakpoint"),u=dn("container"),c=dn("spacing"),h=dn("radius"),p=dn("shadow"),g=dn("inset-shadow"),v=dn("text-shadow"),C=dn("drop-shadow"),_=dn("blur"),k=dn("perspective"),T=dn("aspect"),A=dn("ease"),P=dn("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...U(),Se,xe],H=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],I=()=>[Se,xe,c],N=()=>[Qu,"full","auto",...I()],M=()=>[Bo,"none","subgrid",Se,xe],F=()=>["auto",{span:["full",Bo,Se,xe]},Bo,Se,xe],q=()=>[Bo,"auto",Se,xe],L=()=>["auto","min","max","fr",Se,xe],Ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Pe=()=>["start","end","center","stretch","center-safe","end-safe"],ye=()=>["auto",...I()],ve=()=>[Qu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],K=()=>[t,Se,xe],ne=()=>[...U(),g2,m2,{position:[Se,xe]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",SW,wW,{size:[Se,xe]}],re=()=>[ow,uh,el],pe=()=>["","none","full",h,Se,xe],me=()=>["",$e,uh,el],je=()=>["solid","dashed","dotted","double"],Be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ie=()=>[$e,ow,g2,m2],qe=()=>["","none",_,Se,xe],Ue=()=>["none",$e,Se,xe],pt=()=>["none",$e,Se,xe],Ir=()=>[$e,Se,xe],Dr=()=>[Qu,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pi],breakpoint:[Pi],color:[pW],container:[Pi],"drop-shadow":[Pi],ease:["in","out","in-out"],font:[vW],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pi],shadow:[Pi],spacing:["px",$e],text:[Pi],"text-shadow":[Pi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qu,xe,Se,T]}],container:["container"],columns:[{columns:[$e,xe,Se,u]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Bo,"auto",Se,xe]}],basis:[{basis:[Qu,"full","auto",u,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,Qu,"auto","initial","none",xe]}],grow:[{grow:["",$e,Se,xe]}],shrink:[{shrink:["",$e,Se,xe]}],order:[{order:[Bo,"first","last","none",Se,xe]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...Ee(),"normal"]}],"justify-items":[{"justify-items":[...Pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Pe()]}],"align-content":[{content:["normal",...Ee()]}],"align-items":[{items:[...Pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ee()}],"place-items":[{"place-items":[...Pe(),"baseline"]}],"place-self":[{"place-self":["auto",...Pe()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:ye()}],mx:[{mx:ye()}],my:[{my:ye()}],ms:[{ms:ye()}],me:[{me:ye()}],mt:[{mt:ye()}],mr:[{mr:ye()}],mb:[{mb:ye()}],ml:[{ml:ye()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:ve()}],w:[{w:[u,"screen",...ve()]}],"min-w":[{"min-w":[u,"screen","none",...ve()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[a]},...ve()]}],h:[{h:["screen","lh",...ve()]}],"min-h":[{"min-h":["screen","lh","none",...ve()]}],"max-h":[{"max-h":["screen","lh",...ve()]}],"font-size":[{text:["base",n,uh,el]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Se,aw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ow,xe]}],"font-family":[{font:[xW,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Se,xe]}],"line-clamp":[{"line-clamp":[$e,"none",Se,aw]}],leading:[{leading:[i,...I()]}],"list-image":[{"list-image":["none",Se,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...je(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",Se,el]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[$e,"auto",Se,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Bo,Se,xe],radial:["",Se,xe],conic:[Bo,Se,xe]},CW,bW]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...je(),"hidden","none"]}],"divide-style":[{divide:[...je(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,Se,xe]}],"outline-w":[{outline:["",$e,uh,el]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",p,Sm,xm]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",g,Sm,xm]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[$e,el]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",v,Sm,xm]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[$e,Se,xe]}],"mix-blend":[{"mix-blend":[...Be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ie()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":Ie()}],"mask-image-t-to-pos":[{"mask-t-to":Ie()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":Ie()}],"mask-image-r-to-pos":[{"mask-r-to":Ie()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":Ie()}],"mask-image-b-to-pos":[{"mask-b-to":Ie()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":Ie()}],"mask-image-l-to-pos":[{"mask-l-to":Ie()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":Ie()}],"mask-image-x-to-pos":[{"mask-x-to":Ie()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":Ie()}],"mask-image-y-to-pos":[{"mask-y-to":Ie()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Se,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ie()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ie()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,xe]}],filter:[{filter:["","none",Se,xe]}],blur:[{blur:qe()}],brightness:[{brightness:[$e,Se,xe]}],contrast:[{contrast:[$e,Se,xe]}],"drop-shadow":[{"drop-shadow":["","none",C,Sm,xm]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",$e,Se,xe]}],"hue-rotate":[{"hue-rotate":[$e,Se,xe]}],invert:[{invert:["",$e,Se,xe]}],saturate:[{saturate:[$e,Se,xe]}],sepia:[{sepia:["",$e,Se,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,xe]}],"backdrop-blur":[{"backdrop-blur":qe()}],"backdrop-brightness":[{"backdrop-brightness":[$e,Se,xe]}],"backdrop-contrast":[{"backdrop-contrast":[$e,Se,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,Se,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,Se,xe]}],"backdrop-invert":[{"backdrop-invert":["",$e,Se,xe]}],"backdrop-opacity":[{"backdrop-opacity":[$e,Se,xe]}],"backdrop-saturate":[{"backdrop-saturate":[$e,Se,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,Se,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",Se,xe]}],ease:[{ease:["linear","initial",A,Se,xe]}],delay:[{delay:[$e,Se,xe]}],animate:[{animate:["none",P,Se,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,Se,xe]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:Ue()}],"rotate-x":[{"rotate-x":Ue()}],"rotate-y":[{"rotate-y":Ue()}],"rotate-z":[{"rotate-z":Ue()}],scale:[{scale:pt()}],"scale-x":[{"scale-x":pt()}],"scale-y":[{"scale-y":pt()}],"scale-z":[{"scale-z":pt()}],"scale-3d":["scale-3d"],skew:[{skew:Ir()}],"skew-x":[{"skew-x":Ir()}],"skew-y":[{"skew-y":Ir()}],transform:[{transform:[Se,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Dr()}],"translate-x":[{"translate-x":Dr()}],"translate-y":[{"translate-y":Dr()}],"translate-z":[{"translate-z":Dr()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,xe]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[$e,uh,el,aw]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},_W=aW(TW);function wt(...t){return _W(_j(t))}function Pb(t){const e=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];if(t<20)return e[t];if(t<100)return n[Math.floor(t/10)]+(t%10?"-"+e[t%10]:"");if(t<1e3){const r=t%100,s=e[Math.floor(t/100)]+" hundred";return r?s+" "+Pb(r):s}return String(t)}function jb(t){const e=["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","diecisis","diecisiete","dieciocho","diecinueve"],n=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];if(t<20)return e[t];if(t<30)return t===20?"veinte":"veinti"+e[t-20];if(t<100)return n[Math.floor(t/10)]+(t%10?" y "+e[t%10]:"");if(t<200)return"ciento"+(t%100?" "+jb(t%100):"");if(t<1e3){const r=["cero","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"][Math.floor(t/100)],s=t%100;return r+(s?" "+jb(s):"")}return String(t)}function Lne(t,e={}){if(!t||typeof t!="string")return t;const{numberToWords:n="auto",language:r,pauseOperators:s=!0}=e;let i="en";try{i=r||(localStorage.getItem("tts.lang")==="es"?"es":"en")||"en"}catch{}let a=t;a=a.replace(//g,"-").replace(/|/g,"");const u={2:"half",3:"third",4:"fourth",5:"fifth",6:"sixth",7:"seventh",8:"eighth",9:"ninth",10:"tenth",12:"twelfth"},c={2:"medios",3:"tercios",4:"cuartos",5:"quintos",6:"sextos",7:"sptimos",8:"octavos",9:"novenos",10:"dcimos",12:"duodcimos"};if([{pattern:/\s*\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\/\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\s*/g,spoken:i==="es"?" por ":" times "},{pattern:/\s*\*\s*/g,spoken:" times "},{pattern:/(\d+)\s*[xX]\s*(\d+)/g,spoken:i==="es"?"$1 por $2":"$1 times $2"},{pattern:/\s*\+\s*/g,spoken:i==="es"?" ms ":" plus "},{pattern:/(\d+)\s*-\s*(\d+)/g,spoken:i==="es"?"$1 menos $2":"$1 minus $2"},{pattern:/\s*=\s*/g,spoken:i==="es"?" igual a ":" equals "},{pattern:/\s*>\s*/g,spoken:i==="es"?" es mayor que ":" is greater than "},{pattern:/\s*<\s*/g,spoken:i==="es"?" es menor que ":" is less than "},{pattern:/\s*\s*/g,spoken:i==="es"?" es mayor o igual que ":" is greater than or equal to "},{pattern:/\s*\s*/g,spoken:i==="es"?" es menor o igual que ":" is less than or equal to "},{pattern:/(\d+)\/(\d+)/g,spoken:(h,p,g)=>i==="es"?`${p} ${c[g]||"sobre "+g}`:u[g]?`${p==="1"?"one":Pb(Number(p))} ${u[g]}${p!=="1"?"s":""}`:`${p} over ${g}`},{pattern:/%/g,spoken:i==="es"?" por ciento":" percent"},{pattern:/\^(\d+)/g,spoken:i==="es"?" a la potencia de $1":" to the power of $1"},{pattern:/(\d+)/g,spoken:i==="es"?"raz cuadrada de $1":"square root of $1"}].forEach(({pattern:h,spoken:p})=>{a=a.replace(h,p)}),a=a.replace(/(\d)\.(\d)/g,i==="es"?"$1 coma $2":"$1 point $2"),a=a.replace(/\s*(,)?\s*(\?+|_+)\s*(,)?\s*/g,(h,p,g,v)=>p&&v?", ":" "),a=a.replace(/\?\s*$/g,""),s&&(i==="es"?[" ms "," menos "," por "," dividido entre "," igual a "]:[" plus "," minus "," times "," divided by "," equals "]).forEach(h=>{const p=new RegExp(h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(?!,)","g");a=a.replace(p,h+", ")}),n!=="none"){const h=i==="es"?jb:Pb;a=a.replace(/\b\d+\b/g,(p,g)=>{const v=parseInt(p,10);if(!Number.isFinite(v))return p;if(n==="all")return h(v);const C=v<=20,_=a[g-1]||"",k=a[g+p.length]||"";return C||_===","||k===","?h(v):p})}return a=a.replace(/\s+,/g,",").replace(/,\s*,/g,", ").replace(/\s+/g," ").replace(/\s+,\s*$/g,"").trim(),a}const IW=Wy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Br({className:t,variant:e,...n}){return x.jsx("div",{className:wt(IW({variant:e}),t),...n})}function y2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Wl(...t){return e=>{let n=!1;const r=t.map(s=>{const i=y2(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():y2(t[s],null)}}}}function cr(...t){return S.useCallback(Wl(...t),t)}var DW=Symbol.for("react.lazy"),qg=px[" use ".trim().toString()];function AW(t){return typeof t=="object"&&t!==null&&"then"in t}function Vj(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===DW&&"_payload"in t&&AW(t._payload)}function NW(t){const e=jW(t),n=S.forwardRef((r,s)=>{let{children:i,...a}=r;Vj(i)&&typeof qg=="function"&&(i=qg(i._payload));const u=S.Children.toArray(i),c=u.find(OW);if(c){const h=c.props.children,p=u.map(g=>g===c?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var PW=NW("Slot");function jW(t){const e=S.forwardRef((n,r)=>{let{children:s,...i}=n;if(Vj(s)&&typeof qg=="function"&&(s=qg(s._payload)),S.isValidElement(s)){const a=LW(s),u=MW(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Wl(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var RW=Symbol("radix.slottable");function OW(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===RW}function MW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function LW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}const VW=Wy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Xs=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?PW:"button";return x.jsx(a,{className:wt(VW({variant:e,size:n,className:t})),ref:i,...s})});Xs.displayName="Button";const wn=Ay(ys);cy(ys);const Fj=async(t,e={})=>{const n=oi(wn,"users",t),r={email:t,subscription_tier:"free",subscription_expires_at:null,subscription_auto_renew:!1,trial_start_date:$n(),trial_expires_at:null,trial_used:!1,trial_grace_used:!1,coins:0,stars_spent:0,total_stars_earned:0,owned_pets:[],active_pet:null,purchased_items:[],unlocked_items:[],power_ups:{},pet_experience:{},daily_login_streak:0,total_login_days:0,last_login_date:null,parental_controls:{enabled:!1,allowed_operations:[],allowed_levels:[],focus_operations:[],daily_time_limit_minutes:0,enforce_time_limits:!1},daily_usage_tracking:{},is_parent_mode:!1,is_premium_parent:!1,is_family_teacher:!1,parent_email:null,child_name:null,full_name:null,created_at:$n(),updated_at:$n(),...e};await Vy(n,r);const s=(await SP(n)).data();let i=null;if(s&&s.trial_start_date&&s.trial_start_date.toDate?i=s.trial_start_date.toDate():s&&s.trial_start_date&&s.trial_start_date.seconds&&(i=new Date(s.trial_start_date.seconds*1e3)),i){const a=new Date(i.getTime()+6048e5);return await Fy(n,{trial_expires_at:rt.fromDate(a),updated_at:$n()}),{...s,trial_expires_at:rt.fromDate(a)}}return s||r},Uj=async t=>{const e=oi(wn,"users",t),n=await SP(e);return n.exists()?{id:n.id,...n.data()}:await Fj(t)},Cm=async(t,e)=>{const n=oi(wn,"users",t);await Fy(n,{...e,updated_at:$n()})},Vne=async()=>{const t=Un(wn,"users");return(await gs(t)).docs.map(e=>({id:e.id,...e.data()}))},Fne=async(t,e)=>{const n=Un(wn,"gameProgress"),r=oi(n),s={user_email:t,operation:e.operation,level:e.level,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,coins_earned:e.coins_earned||0,accuracy:e.accuracy||0,completed_at:$n(),...e};return await Vy(r,s),{id:r.id,...s}},Une=async t=>{const e=Un(wn,"gameProgress"),n=ms(e,Wr("user_email","==",t),Bc("completed_at","desc"));return(await gs(n)).docs.map(r=>({id:r.id,...r.data()}))},Bne=(t,e)=>{const n=Un(wn,"gameProgress"),r=ms(n,Wr("user_email","==",t),Bc("completed_at","desc"));return CP(r,s=>{const i=s.docs.map(a=>({id:a.id,...a.data()}));e(i)})},zne=async()=>{const t=Un(wn,"gameProgress"),e=ms(t,Bc("score","desc"),x1(100));return(await gs(e)).docs.map(n=>({id:n.id,...n.data()}))},qne=async(t,e)=>{const n=Un(wn,"dailyChallenges"),r=oi(n),s={user_email:t,challenge_type:e.challenge_type,challenge_date:e.challenge_date,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,bonus_coins:e.bonus_coins||0,completed_at:$n(),...e};return await Vy(r,s),{id:r.id,...s}},$ne=async t=>{const e=Un(wn,"dailyChallenges"),n=ms(e,Wr("user_email","==",t),Bc("completed_at","desc"));return(await gs(n)).docs.map(r=>({id:r.id,...r.data()}))},Wne=async()=>{const t=Un(wn,"dailyChallenges"),e=ms(t,Bc("score","desc"),x1(100));return(await gs(e)).docs.map(n=>({id:n.id,...n.data()}))},Hne=async t=>{const e=Un(wn,"teamChallenges"),n=ms(e,Wr("creator_email","==",t)),r=ms(e,Wr("team_members","array-contains",t)),[s,i]=await Promise.all([gs(n),gs(r)]),a=new Map;return s.docs.forEach(u=>a.set(u.id,{id:u.id,...u.data()})),i.docs.forEach(u=>a.set(u.id,{id:u.id,...u.data()})),Array.from(a.values())},Gne=async(t,e)=>{const n=oi(wn,"teamChallenges",t);await Fy(n,{...e,updated_at:$n()})},Kne=async t=>{const e=Un(wn,"tutorSessions"),n=ms(e,Wr("user_email","==",t),Bc("created_at","desc"),x1(50));return(await gs(n)).docs.map(r=>({id:r.id,...r.data()}))},Qne=async(t,e)=>{const n=Un(wn,"friendConnections"),r=oi(n),s={user_email:t,friend_email:e,status:"pending",sent_at:$n()};return await Vy(r,s),{id:r.id,...s}},Yne=async t=>{const e=Un(wn,"friendConnections"),n=ms(e,Wr("user_email","==",t),Wr("status","==","accepted")),r=ms(e,Wr("friend_email","==",t),Wr("status","==","accepted")),[s,i]=await Promise.all([gs(n),gs(r)]);return[...s.docs.map(a=>({id:a.id,...a.data()})),...i.docs.map(a=>({id:a.id,...a.data()}))]},Xne=async t=>{const e=Un(wn,"friendConnections"),n=ms(e,Wr("friend_email","==",t),Wr("status","==","pending"));return(await gs(n)).docs.map(r=>({id:r.id,...r.data()}))},Jne=async(t,e)=>{const n=oi(wn,"friendConnections",t);await Fy(n,{status:e,updated_at:$n()})},Jm=S.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:wt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Jm.displayName="Input";function Bj(){const[t,e]=S.useState("sign-in"),[n,r]=S.useState(""),[s,i]=S.useState(""),[a,u]=S.useState(""),[c,h]=S.useState(!1),[p,g]=S.useState(""),[v,C]=S.useState(""),[_,k]=S.useState(!1),[T,A]=S.useState(!1),P=()=>{C(""),g("")},O=async()=>{if(P(),!n){C("Email required");return}if(t==="sign-up"){if(!s){C("Password required");return}if(s!==a){C("Passwords do not match");return}}if(t==="sign-in"&&!s){C("Password required");return}h(!0);try{t==="sign-up"?(await Y6(H0,n,s),await Fj(n),g("Account created. You are signed in.")):t==="sign-in"?(await X6(H0,n,s),await Uj(n),g("Signed in.")):t==="reset"&&(await Q6(H0,n),g("Reset link sent. Check your email."))}catch(z){C((z==null?void 0:z.message)||"Auth failed")}finally{h(!1)}},U=z=>{P(),e(z)};return x.jsxs("div",{className:"w-full max-w-sm mx-auto bg-white/90 rounded-xl shadow-lg p-5 space-y-4",children:[x.jsxs("h2",{className:"text-xl font-bold text-purple-700 text-center",children:[t==="sign-in"&&"Sign In",t==="sign-up"&&"Create Account",t==="reset"&&"Reset Password"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Jm,{type:"email",autoComplete:"email",placeholder:"Email",value:n,onChange:z=>r(z.target.value)}),t!=="reset"&&x.jsxs("div",{className:"relative",children:[x.jsx(Jm,{type:_?"text":"password",autoComplete:t==="sign-up"?"new-password":"current-password",placeholder:"Password",value:s,onChange:z=>i(z.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>k(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:_?x.jsx(r2,{className:"w-4 h-4"}):x.jsx(s2,{className:"w-4 h-4"})})]}),t==="sign-up"&&x.jsxs("div",{className:"relative",children:[x.jsx(Jm,{type:T?"text":"password",placeholder:"Confirm Password",value:a,onChange:z=>u(z.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>A(!T),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:T?x.jsx(r2,{className:"w-4 h-4"}):x.jsx(s2,{className:"w-4 h-4"})})]})]}),(v||p)&&x.jsx("div",{className:`text-sm rounded-md p-2 ${v?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:v||p}),x.jsx(Xs,{onClick:O,disabled:c,className:"w-full bg-purple-600 hover:bg-purple-700",children:c?"Please wait":t==="sign-in"?"Sign In":t==="sign-up"?"Sign Up":"Send Reset Link"}),x.jsxs("div",{className:"text-xs text-center text-gray-600 space-y-1",children:[t==="sign-in"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>U("sign-up"),className:"text-purple-600 hover:underline block w-full",children:"Need an account? Sign up"}),x.jsx("button",{onClick:()=>U("reset"),className:"text-purple-600 hover:underline block w-full",children:"Forgot password?"})]}),t==="sign-up"&&x.jsx("button",{onClick:()=>U("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Have an account? Sign in"}),t==="reset"&&x.jsx("button",{onClick:()=>U("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Back to sign in"})]})]})}const zj=t=>{if(!t)return!1;if(!t.trial_start_date||!t.trial_expires_at)return t.subscription_tier==="free"&&t.trial_used!==!0;if(t.subscription_tier!=="free"||t.trial_used===!0)return!1;const e=new Date,n=t.trial_expires_at.toDate();return e<n},FW=t=>{if(!t||!t.trial_start_date||!t.trial_expires_at||t.subscription_tier!=="free")return!1;const e=new Date,n=t.trial_expires_at.toDate();return e>=n},UW=t=>{if(!t||!t.trial_expires_at||t.subscription_tier!=="free")return 0;const e=new Date,n=t.trial_expires_at.toDate()-e;return n<=0?0:Math.ceil(n/(1e3*60*60*24))},BW=t=>t?!!(t.subscription_tier&&t.subscription_tier!=="free"||zj(t)&&t.trial_used!==!0):!1;let $g=Uz;(async()=>{try{!$g&&await YP()&&($g=QP(ys))}catch{}})();function Hy(t,e={}){if($g)try{XP($g,t,e)}catch(n){console.warn("analytics log skipped",t,n==null?void 0:n.message)}}const zW=t=>Hy("trial_start",{method:"auto",user_email:t}),qW=(t,e)=>Hy("trial_day",{day:e,user_email:t}),$W=t=>Hy("trial_expired",{user_email:t}),WW=t=>Hy("trial_grace_lock",{user_email:t}),q1=Ay(ys);async function HW(t){try{await C1(Un(q1,"notifications"),{user_email:t,type:"trial_day6_warning",title:"Trial Ending Soon!",message:"Your 7-day trial ends tomorrow. Upgrade now to keep unlimited access to premium features!",is_read:!1,created_at:$n(),action_url:"/subscription"})}catch(e){console.warn("Failed to create day6 notification:",e.message)}}async function GW(t){try{await C1(Un(q1,"notifications"),{user_email:t,type:"trial_expired",title:"Trial Ended",message:"Your 7-day trial has ended. You are now on the free plan. Upgrade anytime to regain premium features.",is_read:!1,created_at:$n(),action_url:"/subscription"})}catch(e){console.warn("Failed to create trial expired notification:",e.message)}}async function KW(t){try{await C1(Un(q1,"notifications"),{user_email:t,type:"trial_grace_day",title:"Grace Day: Final Chance!",message:"Your trial expired, but you still have premium access today only. Upgrade now before it locks tomorrow.",is_read:!1,created_at:$n(),action_url:"/subscription"})}catch(e){console.warn("Failed to create grace day notification:",e.message)}}function QW(){const[t,e]=S.useState(null),[n,r]=S.useState(!0),[s,i]=S.useState(null);return S.useEffect(()=>{const a=cy(ys),u=Ay(ys);let c=null;const h=eV(a,async p=>{var g;if(!p){e(null),r(!1);return}try{e(v=>v||{email:p.email,subscription_tier:"free",coins:0}),i(null);try{const v=(g=p==null?void 0:p.metadata)!=null&&g.creationTime?new Date(p.metadata.creationTime).getTime():null,C=v?Date.now()-v<1440*60*1e3:!1,_=`optimistic_trial_${p.email}`,k=typeof window<"u"?localStorage.getItem(_):null;C&&!k&&(e(T=>({...T||{},email:p.email,subscription_tier:"free",coins:0,isOnTrial:!0,trialExpired:!1,trialDaysRemaining:7,inGraceDay:!1,hasPremiumAccess:!0,_optimisticTrial:!0})),localStorage.setItem(_,"true"))}catch{}try{if(typeof window<"u"&&window.location.search.includes("reset_trial=true")){const v=Date.now(),C=new Date(v+10080*60*1e3);await Cm(p.email,{trial_start_date:$n(),trial_expires_at:rt.fromDate(C),trial_used:!1,trial_grace_used:!1}),localStorage.removeItem(`trial_log_${p.email}`);const _=new URL(window.location.href);_.searchParams.delete("reset_trial"),window.history.replaceState({},"",_.toString()),console.info("[trial] Trial reset performed for",p.email)}}catch(v){console.warn("[trial] Trial reset attempt failed:",v==null?void 0:v.message)}c&&c(),c=CP(oi(u,"users",p.email),v=>{var C,_;if(v.exists()){const k={id:v.id,...v.data()};(async()=>{try{if(!k.trial_start_date||!k.trial_expires_at){const F=Date.now(),q=new Date(F+10080*60*1e3);await Cm(p.email,{trial_start_date:$n(),trial_expires_at:rt.fromDate(q),trial_used:!1,trial_grace_used:!1})}}catch{}})();const T=zj(k)||!k.trial_start_date||!k.trial_expires_at,A=FW(k),P=UW(k),O=7,U=(C=k.trial_start_date)!=null&&C.toDate?Math.floor((Date.now()-k.trial_start_date.toDate().getTime())/(1e3*60*60*24)):null,z=A&&U===O&&k.trial_grace_used!==!0;e({...k,isOnTrial:T,trialExpired:A,trialDaysRemaining:P,inGraceDay:z,hasPremiumAccess:BW(k)||T||z});const H=v.id,j=`trial_log_${H}`,I=localStorage.getItem(j);let N=I?JSON.parse(I):{};const M=(_=k.trial_start_date)!=null&&_.toDate?k.trial_start_date.toDate().getTime():null;if(M){const F=N.trial_start_timestamp||null;(!F||F!==M)&&(N={})}if(k.trial_start_date&&!N.trial_start&&(zW(H),N.trial_start=!0,M&&(N.trial_start_timestamp=M)),T&&P>=0&&P<=7){const F=`day_${7-P}`;N[F]||(qW(H,7-P),N[F]=!0),P===1&&!N.notif_day6&&(HW(H),N.notif_day6=!0)}A&&k.subscription_tier==="free"&&!N.trial_expired&&($W(H),N.trial_expired=!0,k.trial_used!==!0&&Cm(v.id,{trial_used:!0}).catch(()=>{}),N.notif_expired||(GW(H),N.notif_expired=!0)),z&&!N.grace_lock&&(WW(H),N.grace_lock=!0,k.trial_grace_used!==!0&&Cm(v.id,{trial_grace_used:!0}).catch(()=>{}),N.notif_grace||(KW(H),N.notif_grace=!0));try{localStorage.setItem(j,JSON.stringify(N))}catch{}}},v=>{console.error("Firestore snapshot error:",v)}),Uj(p.email).catch(v=>{console.error("Failed to ensure user profile",v),i(v)})}catch(v){console.error("Failed to initialize user session",v),i(v),e({email:p.email,subscription_tier:"free",coins:0})}finally{r(!1)}});return()=>{c&&c(),h()}},[]),{user:t,loading:n,error:s}}const qj=S.createContext({user:null,loading:!0,error:null});function YW({children:t}){const e=QW();return x.jsx(qj.Provider,{value:e,children:t})}function $1(){return S.useContext(qj)}const XW=Wy("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$j=S.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,role:"alert",className:wt(XW({variant:e}),t),...n}));$j.displayName="Alert";const JW=S.forwardRef(({className:t,...e},n)=>x.jsx("h5",{ref:n,className:wt("mb-1 font-medium leading-none tracking-tight",t),...e}));JW.displayName="AlertTitle";const Wj=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm [&_p]:leading-relaxed",t),...e}));Wj.displayName="AlertDescription";function ZW(){const{user:t}=$1(),e=N1(),[n,r]=hn.useState(!1),[s,i]=hn.useState(!0);if(!t||n===!0||s===!1||!(t.isOnTrial||t.trialExpired||t.inGraceDay))return null;const a=t.trialExpired&&!t.inGraceDay,u=t.trialDaysRemaining||0,c=t.inGraceDay;return x.jsx($j,{className:`mb-4 ${a?"bg-red-50 border-red-300":u<=2?"bg-orange-50 border-orange-300":"bg-blue-50 border-blue-300"}`,children:x.jsxs("div",{className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c?x.jsx(pl,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}):a?x.jsx(pl,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):x.jsx(v$,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),x.jsx(Wj,{className:c?"text-orange-800":a?"text-red-800":"text-blue-800",children:x.jsx("div",{className:"space-y-2",children:c?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Grace Day: Final Chance!"}),x.jsx("p",{className:"text-sm",children:"Your trial expired, but you still have premium access today only. Upgrade now to keep everything before it locks tomorrow."})]}):a?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Your 7-day trial has ended"}),x.jsx("p",{className:"text-sm",children:"You're now on the free plan with limited access. Upgrade to continue enjoying premium features like unlimited games, AI tutor, and more!"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:u===0?" Trial ends today!":`${u} day${u===1?"":"s"} left in your trial`}),x.jsx("p",{className:"text-sm",children:"You're currently enjoying premium features. Upgrade now to keep unlimited access after your trial ends!"})]})})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(Xs,{onClick:()=>e("/subscription"),className:`${c?"bg-orange-600 hover:bg-orange-700":a?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white whitespace-nowrap`,size:"sm",children:[x.jsx(pl,{className:"w-4 h-4 mr-1"}),"Upgrade Now"]}),x.jsx(Xs,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"flex-shrink-0",children:x.jsx(B1,{className:"w-4 h-4"})})]})]})})}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Zne(t,e){const n=S.createContext(e),r=i=>{const{children:a,...u}=i,c=S.useMemo(()=>u,Object.values(u));return x.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=S.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Rf(t,e=[]){let n=[];function r(i,a){const u=S.createContext(a),c=n.length;n=[...n,a];const h=g=>{var v;const{scope:C,children:_,...k}=g,T=((v=C==null?void 0:C[t])==null?void 0:v[c])||u,A=S.useMemo(()=>k,Object.values(k));return x.jsx(T.Provider,{value:A,children:_})};h.displayName=i+"Provider";function p(g,v){var C;const _=((C=v==null?void 0:v[t])==null?void 0:C[c])||u,k=S.useContext(_);if(k)return k;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,p]}const s=()=>{const i=n.map(a=>S.createContext(a));return function(a){const u=(a==null?void 0:a[t])||i;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,eH(s,...e)]}function eH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const i=r.reduce((a,{useScope:u,scopeName:c})=>{const h=u(s)[`__scope${c}`];return{...a,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var la=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},tH=px[" useInsertionEffect ".trim().toString()]||la;function Hj({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=nH({defaultProp:e,onChange:n}),u=t!==void 0,c=u?t:s;{const p=S.useRef(t!==void 0);S.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const h=S.useCallback(p=>{var g;if(u){const v=rH(p)?p(t):p;v!==t&&((g=a.current)==null||g.call(a,v))}else i(p)},[u,t,i,a]);return[c,h]}function nH({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),s=S.useRef(n),i=S.useRef(e);return tH(()=>{i.current=e},[e]),S.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function rH(t){return typeof t=="function"}function sH(t){const e=iH(t),n=S.forwardRef((r,s)=>{const{children:i,...a}=r,u=S.Children.toArray(i),c=u.find(aH);if(c){const h=c.props.children,p=u.map(g=>g===c?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function iH(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const a=uH(s),u=lH(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Wl(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oH=Symbol("radix.slottable");function aH(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oH}function lH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function uH(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var cH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qn=cH.reduce((t,e)=>{const n=sH(`Primitive.${e}`),r=S.forwardRef((s,i)=>{const{asChild:a,...u}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(c,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Gj(t,e){t&&M1.flushSync(()=>t.dispatchEvent(e))}function v2(t){const e=dH(t),n=S.forwardRef((r,s)=>{const{children:i,...a}=r,u=S.Children.toArray(i),c=u.find(fH);if(c){const h=c.props.children,p=u.map(g=>g===c?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function dH(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const a=mH(s),u=pH(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Wl(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var hH=Symbol("radix.slottable");function fH(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===hH}function pH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function mH(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function Kj(t){const e=t+"CollectionProvider",[n,r]=Rf(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=k=>{const{scope:T,children:A}=k,P=hn.useRef(null),O=hn.useRef(new Map).current;return x.jsx(s,{scope:T,itemMap:O,collectionRef:P,children:A})};a.displayName=e;const u=t+"CollectionSlot",c=v2(u),h=hn.forwardRef((k,T)=>{const{scope:A,children:P}=k,O=i(u,A),U=cr(T,O.collectionRef);return x.jsx(c,{ref:U,children:P})});h.displayName=u;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=v2(p),C=hn.forwardRef((k,T)=>{const{scope:A,children:P,...O}=k,U=hn.useRef(null),z=cr(T,U),H=i(p,A);return hn.useEffect(()=>(H.itemMap.set(U,{ref:U,...O}),()=>void H.itemMap.delete(U))),x.jsx(v,{[g]:"",ref:z,children:P})});C.displayName=p;function _(k){const T=i(t+"CollectionConsumer",k);return hn.useCallback(()=>{const A=T.collectionRef.current;if(!A)return[];const P=Array.from(A.querySelectorAll(`[${g}]`));return Array.from(T.itemMap.values()).sort((O,U)=>P.indexOf(O.ref.current)-P.indexOf(U.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:a,Slot:h,ItemSlot:C},_,r]}var gH=S.createContext(void 0);function Qj(t){const e=S.useContext(gH);return t||e||"ltr"}function $i(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function yH(t,e=globalThis==null?void 0:globalThis.document){const n=$i(t);S.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var vH="DismissableLayer",Rb="dismissableLayer.update",wH="dismissableLayer.pointerDownOutside",bH="dismissableLayer.focusOutside",w2,Yj=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xj=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:u,...c}=t,h=S.useContext(Yj),[p,g]=S.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=S.useState({}),_=cr(e,j=>g(j)),k=Array.from(h.layers),[T]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),A=k.indexOf(T),P=p?k.indexOf(p):-1,O=h.layersWithOutsidePointerEventsDisabled.size>0,U=P>=A,z=CH(j=>{const I=j.target,N=[...h.branches].some(M=>M.contains(I));!U||N||(s==null||s(j),a==null||a(j),j.defaultPrevented||u==null||u())},v),H=EH(j=>{const I=j.target;[...h.branches].some(N=>N.contains(I))||(i==null||i(j),a==null||a(j),j.defaultPrevented||u==null||u())},v);return yH(j=>{P===h.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&u&&(j.preventDefault(),u()))},v),S.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(w2=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),b2(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=w2)}},[p,v,n,h]),S.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),b2())},[p,h]),S.useEffect(()=>{const j=()=>C({});return document.addEventListener(Rb,j),()=>document.removeEventListener(Rb,j)},[]),x.jsx(Qn.div,{...c,ref:_,style:{pointerEvents:O?U?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,H.onFocusCapture),onBlurCapture:et(t.onBlurCapture,H.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,z.onPointerDownCapture)})});Xj.displayName=vH;var xH="DismissableLayerBranch",SH=S.forwardRef((t,e)=>{const n=S.useContext(Yj),r=S.useRef(null),s=cr(e,r);return S.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(Qn.div,{...t,ref:s})});SH.displayName=xH;function CH(t,e=globalThis==null?void 0:globalThis.document){const n=$i(t),r=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let c=function(){Jj(wH,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function EH(t,e=globalThis==null?void 0:globalThis.document){const n=$i(t),r=S.useRef(!1);return S.useEffect(()=>{const s=i=>{i.target&&!r.current&&Jj(bH,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function b2(){const t=new CustomEvent(Rb);document.dispatchEvent(t)}function Jj(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Gj(s,i):s.dispatchEvent(i)}var lw=0;function kH(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??x2()),document.body.insertAdjacentElement("beforeend",t[1]??x2()),lw++,()=>{lw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),lw--}},[])}function x2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var uw="focusScope.autoFocusOnMount",cw="focusScope.autoFocusOnUnmount",S2={bubbles:!1,cancelable:!0},TH="FocusScope",Zj=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[u,c]=S.useState(null),h=$i(s),p=$i(i),g=S.useRef(null),v=cr(e,k=>c(k)),C=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let k=function(O){if(C.paused||!u)return;const U=O.target;u.contains(U)?g.current=U:qo(g.current,{select:!0})},T=function(O){if(C.paused||!u)return;const U=O.relatedTarget;U!==null&&(u.contains(U)||qo(g.current,{select:!0}))},A=function(O){if(document.activeElement===document.body)for(const U of O)U.removedNodes.length>0&&qo(u)};document.addEventListener("focusin",k),document.addEventListener("focusout",T);const P=new MutationObserver(A);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",T),P.disconnect()}}},[r,u,C.paused]),S.useEffect(()=>{if(u){E2.add(C);const k=document.activeElement;if(!u.contains(k)){const T=new CustomEvent(uw,S2);u.addEventListener(uw,h),u.dispatchEvent(T),T.defaultPrevented||(_H(PH(eR(u)),{select:!0}),document.activeElement===k&&qo(u))}return()=>{u.removeEventListener(uw,h),setTimeout(()=>{const T=new CustomEvent(cw,S2);u.addEventListener(cw,p),u.dispatchEvent(T),T.defaultPrevented||qo(k??document.body,{select:!0}),u.removeEventListener(cw,p),E2.remove(C)},0)}}},[u,h,p,C]);const _=S.useCallback(k=>{if(!n&&!r||C.paused)return;const T=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,A=document.activeElement;if(T&&A){const P=k.currentTarget,[O,U]=IH(P);O&&U?!k.shiftKey&&A===U?(k.preventDefault(),n&&qo(O,{select:!0})):k.shiftKey&&A===O&&(k.preventDefault(),n&&qo(U,{select:!0})):A===P&&k.preventDefault()}},[n,r,C.paused]);return x.jsx(Qn.div,{tabIndex:-1,...a,ref:v,onKeyDown:_})});Zj.displayName=TH;function _H(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(qo(r,{select:e}),document.activeElement!==n)return}function IH(t){const e=eR(t),n=C2(e,t),r=C2(e.reverse(),t);return[n,r]}function eR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function C2(t,e){for(const n of t)if(!DH(n,{upTo:e}))return n}function DH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function AH(t){return t instanceof HTMLInputElement&&"select"in t}function qo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&AH(t)&&e&&t.select()}}var E2=NH();function NH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=k2(t,e),t.unshift(e)},remove(e){var n;t=k2(t,e),(n=t[0])==null||n.resume()}}}function k2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function PH(t){return t.filter(e=>e.tagName!=="A")}var jH=px[" useId ".trim().toString()]||(()=>{}),RH=0;function Ob(t){const[e,n]=S.useState(jH());return la(()=>{n(r=>r??String(RH++))},[t]),e?`radix-${e}`:""}const OH=["top","right","bottom","left"],ua=Math.min,Sr=Math.max,Wg=Math.round,Em=Math.floor,Js=t=>({x:t,y:t}),MH={left:"right",right:"left",bottom:"top",top:"bottom"},LH={start:"end",end:"start"};function Mb(t,e,n){return Sr(t,ua(e,n))}function Wi(t,e){return typeof t=="function"?t(e):t}function Hi(t){return t.split("-")[0]}function Hc(t){return t.split("-")[1]}function W1(t){return t==="x"?"y":"x"}function H1(t){return t==="y"?"height":"width"}const VH=new Set(["top","bottom"]);function Ws(t){return VH.has(Hi(t))?"y":"x"}function G1(t){return W1(Ws(t))}function FH(t,e,n){n===void 0&&(n=!1);const r=Hc(t),s=G1(t),i=H1(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Hg(a)),[a,Hg(a)]}function UH(t){const e=Hg(t);return[Lb(t),e,Lb(e)]}function Lb(t){return t.replace(/start|end/g,e=>LH[e])}const T2=["left","right"],_2=["right","left"],BH=["top","bottom"],zH=["bottom","top"];function qH(t,e,n){switch(t){case"top":case"bottom":return n?e?_2:T2:e?T2:_2;case"left":case"right":return e?BH:zH;default:return[]}}function $H(t,e,n,r){const s=Hc(t);let i=qH(Hi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(Lb)))),i}function Hg(t){return t.replace(/left|right|bottom|top/g,e=>MH[e])}function WH(t){return{top:0,right:0,bottom:0,left:0,...t}}function tR(t){return typeof t!="number"?WH(t):{top:t,right:t,bottom:t,left:t}}function Gg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function I2(t,e,n){let{reference:r,floating:s}=t;const i=Ws(e),a=G1(e),u=H1(a),c=Hi(e),h=i==="y",p=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let C;switch(c){case"top":C={x:p,y:r.y-s.height};break;case"bottom":C={x:p,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y:g};break;case"left":C={x:r.x-s.width,y:g};break;default:C={x:r.x,y:r.y}}switch(Hc(e)){case"start":C[a]-=v*(n&&h?-1:1);break;case"end":C[a]+=v*(n&&h?-1:1);break}return C}const HH=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,u=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:g}=I2(h,r,c),v=r,C={},_=0;for(let k=0;k<u.length;k++){const{name:T,fn:A}=u[k],{x:P,y:O,data:U,reset:z}=await A({x:p,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:C,rects:h,platform:a,elements:{reference:t,floating:e}});p=P??p,g=O??g,C={...C,[T]:{...C[T],...U}},z&&_<=50&&(_++,typeof z=="object"&&(z.placement&&(v=z.placement),z.rects&&(h=z.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):z.rects),{x:p,y:g}=I2(h,v,c)),k=-1)}return{x:p,y:g,placement:v,strategy:s,middlewareData:C}};async function rf(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:u,strategy:c}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:C=0}=Wi(e,t),_=tR(C),k=u[v?g==="floating"?"reference":"floating":g],T=Gg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(k)))==null||n?k:k.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:c})),A=g==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),O=await(i.isElement==null?void 0:i.isElement(P))?await(i.getScale==null?void 0:i.getScale(P))||{x:1,y:1}:{x:1,y:1},U=Gg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:A,offsetParent:P,strategy:c}):A);return{top:(T.top-U.top+_.top)/O.y,bottom:(U.bottom-T.bottom+_.bottom)/O.y,left:(T.left-U.left+_.left)/O.x,right:(U.right-T.right+_.right)/O.x}}const GH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:u,middlewareData:c}=e,{element:h,padding:p=0}=Wi(t,e)||{};if(h==null)return{};const g=tR(p),v={x:n,y:r},C=G1(s),_=H1(C),k=await a.getDimensions(h),T=C==="y",A=T?"top":"left",P=T?"bottom":"right",O=T?"clientHeight":"clientWidth",U=i.reference[_]+i.reference[C]-v[C]-i.floating[_],z=v[C]-i.reference[C],H=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let j=H?H[O]:0;(!j||!await(a.isElement==null?void 0:a.isElement(H)))&&(j=u.floating[O]||i.floating[_]);const I=U/2-z/2,N=j/2-k[_]/2-1,M=ua(g[A],N),F=ua(g[P],N),q=M,L=j-k[_]-F,Ee=j/2-k[_]/2+I,Pe=Mb(q,Ee,L),ye=!c.arrow&&Hc(s)!=null&&Ee!==Pe&&i.reference[_]/2-(Ee<q?M:F)-k[_]/2<0,ve=ye?Ee<q?Ee-q:Ee-L:0;return{[C]:v[C]+ve,data:{[C]:Pe,centerOffset:Ee-Pe-ve,...ye&&{alignmentOffset:ve}},reset:ye}}}),KH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:u,platform:c,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:k=!0,...T}=Wi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const A=Hi(s),P=Ws(u),O=Hi(u)===u,U=await(c.isRTL==null?void 0:c.isRTL(h.floating)),z=v||(O||!k?[Hg(u)]:UH(u)),H=_!=="none";!v&&H&&z.push(...$H(u,k,_,U));const j=[u,...z],I=await rf(e,T),N=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&N.push(I[A]),g){const Ee=FH(s,a,U);N.push(I[Ee[0]],I[Ee[1]])}if(M=[...M,{placement:s,overflows:N}],!N.every(Ee=>Ee<=0)){var F,q;const Ee=(((F=i.flip)==null?void 0:F.index)||0)+1,Pe=j[Ee];if(Pe&&(!(g==="alignment"&&P!==Ws(Pe))||M.every(ve=>Ws(ve.placement)===P?ve.overflows[0]>0:!0)))return{data:{index:Ee,overflows:M},reset:{placement:Pe}};let ye=(q=M.filter(ve=>ve.overflows[0]<=0).sort((ve,K)=>ve.overflows[1]-K.overflows[1])[0])==null?void 0:q.placement;if(!ye)switch(C){case"bestFit":{var L;const ve=(L=M.filter(K=>{if(H){const ne=Ws(K.placement);return ne===P||ne==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(ne=>ne>0).reduce((ne,oe)=>ne+oe,0)]).sort((K,ne)=>K[1]-ne[1])[0])==null?void 0:L[0];ve&&(ye=ve);break}case"initialPlacement":ye=u;break}if(s!==ye)return{reset:{placement:ye}}}return{}}}};function D2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function A2(t){return OH.some(e=>t[e]>=0)}const QH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Wi(t,e);switch(r){case"referenceHidden":{const i=await rf(e,{...s,elementContext:"reference"}),a=D2(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:A2(a)}}}case"escaped":{const i=await rf(e,{...s,altBoundary:!0}),a=D2(i,n.floating);return{data:{escapedOffsets:a,escaped:A2(a)}}}default:return{}}}}},nR=new Set(["left","top"]);async function YH(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Hi(n),u=Hc(n),c=Ws(n)==="y",h=nR.has(a)?-1:1,p=i&&c?-1:1,g=Wi(e,t);let{mainAxis:v,crossAxis:C,alignmentAxis:_}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof _=="number"&&(C=u==="end"?_*-1:_),c?{x:C*p,y:v*h}:{x:v*h,y:C*p}}const XH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:u}=e,c=await YH(e,t);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},JH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:u={fn:T=>{let{x:A,y:P}=T;return{x:A,y:P}}},...c}=Wi(t,e),h={x:n,y:r},p=await rf(e,c),g=Ws(Hi(s)),v=W1(g);let C=h[v],_=h[g];if(i){const T=v==="y"?"top":"left",A=v==="y"?"bottom":"right",P=C+p[T],O=C-p[A];C=Mb(P,C,O)}if(a){const T=g==="y"?"top":"left",A=g==="y"?"bottom":"right",P=_+p[T],O=_-p[A];_=Mb(P,_,O)}const k=u.fn({...e,[v]:C,[g]:_});return{...k,data:{x:k.x-n,y:k.y-r,enabled:{[v]:i,[g]:a}}}}}},ZH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:u=0,mainAxis:c=!0,crossAxis:h=!0}=Wi(t,e),p={x:n,y:r},g=Ws(s),v=W1(g);let C=p[v],_=p[g];const k=Wi(u,e),T=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(c){const O=v==="y"?"height":"width",U=i.reference[v]-i.floating[O]+T.mainAxis,z=i.reference[v]+i.reference[O]-T.mainAxis;C<U?C=U:C>z&&(C=z)}if(h){var A,P;const O=v==="y"?"width":"height",U=nR.has(Hi(s)),z=i.reference[g]-i.floating[O]+(U&&((A=a.offset)==null?void 0:A[g])||0)+(U?0:T.crossAxis),H=i.reference[g]+i.reference[O]+(U?0:((P=a.offset)==null?void 0:P[g])||0)-(U?T.crossAxis:0);_<z?_=z:_>H&&(_=H)}return{[v]:C,[g]:_}}}},eG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:u}=e,{apply:c=()=>{},...h}=Wi(t,e),p=await rf(e,h),g=Hi(s),v=Hc(s),C=Ws(s)==="y",{width:_,height:k}=i.floating;let T,A;g==="top"||g==="bottom"?(T=g,A=v===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(A=g,T=v==="end"?"top":"bottom");const P=k-p.top-p.bottom,O=_-p.left-p.right,U=ua(k-p[T],P),z=ua(_-p[A],O),H=!e.middlewareData.shift;let j=U,I=z;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=P),H&&!v){const M=Sr(p.left,0),F=Sr(p.right,0),q=Sr(p.top,0),L=Sr(p.bottom,0);C?I=_-2*(M!==0||F!==0?M+F:Sr(p.left,p.right)):j=k-2*(q!==0||L!==0?q+L:Sr(p.top,p.bottom))}await c({...e,availableWidth:I,availableHeight:j});const N=await a.getDimensions(u.floating);return _!==N.width||k!==N.height?{reset:{rects:!0}}:{}}}};function Gy(){return typeof window<"u"}function Gc(t){return rR(t)?(t.nodeName||"").toLowerCase():"#document"}function Tr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ui(t){var e;return(e=(rR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function rR(t){return Gy()?t instanceof Node||t instanceof Tr(t).Node:!1}function vs(t){return Gy()?t instanceof Element||t instanceof Tr(t).Element:!1}function ii(t){return Gy()?t instanceof HTMLElement||t instanceof Tr(t).HTMLElement:!1}function N2(t){return!Gy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tr(t).ShadowRoot}const tG=new Set(["inline","contents"]);function Of(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ws(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!tG.has(s)}const nG=new Set(["table","td","th"]);function rG(t){return nG.has(Gc(t))}const sG=[":popover-open",":modal"];function Ky(t){return sG.some(e=>{try{return t.matches(e)}catch{return!1}})}const iG=["transform","translate","scale","rotate","perspective"],oG=["transform","translate","scale","rotate","perspective","filter"],aG=["paint","layout","strict","content"];function K1(t){const e=Q1(),n=vs(t)?ws(t):t;return iG.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||oG.some(r=>(n.willChange||"").includes(r))||aG.some(r=>(n.contain||"").includes(r))}function lG(t){let e=ca(t);for(;ii(e)&&!jc(e);){if(K1(e))return e;if(Ky(e))return null;e=ca(e)}return null}function Q1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uG=new Set(["html","body","#document"]);function jc(t){return uG.has(Gc(t))}function ws(t){return Tr(t).getComputedStyle(t)}function Qy(t){return vs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ca(t){if(Gc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||N2(t)&&t.host||ui(t);return N2(e)?e.host:e}function sR(t){const e=ca(t);return jc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ii(e)&&Of(e)?e:sR(e)}function sf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=sR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Tr(s);if(i){const u=Vb(a);return e.concat(a,a.visualViewport||[],Of(s)?s:[],u&&n?sf(u):[])}return e.concat(s,sf(s,[],n))}function Vb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function iR(t){const e=ws(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ii(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,u=Wg(n)!==i||Wg(r)!==a;return u&&(n=i,r=a),{width:n,height:r,$:u}}function Y1(t){return vs(t)?t:t.contextElement}function gc(t){const e=Y1(t);if(!ii(e))return Js(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=iR(e);let a=(i?Wg(n.width):n.width)/r,u=(i?Wg(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const cG=Js(0);function oR(t){const e=Tr(t);return!Q1()||!e.visualViewport?cG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tr(t)?!1:e}function Ll(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Y1(t);let a=Js(1);e&&(r?vs(r)&&(a=gc(r)):a=gc(t));const u=dG(i,n,r)?oR(i):Js(0);let c=(s.left+u.x)/a.x,h=(s.top+u.y)/a.y,p=s.width/a.x,g=s.height/a.y;if(i){const v=Tr(i),C=r&&vs(r)?Tr(r):r;let _=v,k=Vb(_);for(;k&&r&&C!==_;){const T=gc(k),A=k.getBoundingClientRect(),P=ws(k),O=A.left+(k.clientLeft+parseFloat(P.paddingLeft))*T.x,U=A.top+(k.clientTop+parseFloat(P.paddingTop))*T.y;c*=T.x,h*=T.y,p*=T.x,g*=T.y,c+=O,h+=U,_=Tr(k),k=Vb(_)}}return Gg({width:p,height:g,x:c,y:h})}function Yy(t,e){const n=Qy(t).scrollLeft;return e?e.left+n:Ll(ui(t)).left+n}function aR(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Yy(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function hG(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=ui(r),u=e?Ky(e.floating):!1;if(r===a||u&&i)return n;let c={scrollLeft:0,scrollTop:0},h=Js(1);const p=Js(0),g=ii(r);if((g||!g&&!i)&&((Gc(r)!=="body"||Of(a))&&(c=Qy(r)),ii(r))){const C=Ll(r);h=gc(r),p.x=C.x+r.clientLeft,p.y=C.y+r.clientTop}const v=a&&!g&&!i?aR(a,c):Js(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-c.scrollLeft*h.x+p.x+v.x,y:n.y*h.y-c.scrollTop*h.y+p.y+v.y}}function fG(t){return Array.from(t.getClientRects())}function pG(t){const e=ui(t),n=Qy(t),r=t.ownerDocument.body,s=Sr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Sr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Yy(t);const u=-n.scrollTop;return ws(r).direction==="rtl"&&(a+=Sr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:u}}const P2=25;function mG(t,e){const n=Tr(t),r=ui(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,u=0,c=0;if(s){i=s.width,a=s.height;const p=Q1();(!p||p&&e==="fixed")&&(u=s.offsetLeft,c=s.offsetTop)}const h=Yy(r);if(h<=0){const p=r.ownerDocument,g=p.body,v=getComputedStyle(g),C=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,_=Math.abs(r.clientWidth-g.clientWidth-C);_<=P2&&(i-=_)}else h<=P2&&(i+=h);return{width:i,height:a,x:u,y:c}}const gG=new Set(["absolute","fixed"]);function yG(t,e){const n=Ll(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ii(t)?gc(t):Js(1),a=t.clientWidth*i.x,u=t.clientHeight*i.y,c=s*i.x,h=r*i.y;return{width:a,height:u,x:c,y:h}}function j2(t,e,n){let r;if(e==="viewport")r=mG(t,n);else if(e==="document")r=pG(ui(t));else if(vs(e))r=yG(e,n);else{const s=oR(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Gg(r)}function lR(t,e){const n=ca(t);return n===e||!vs(n)||jc(n)?!1:ws(n).position==="fixed"||lR(n,e)}function vG(t,e){const n=e.get(t);if(n)return n;let r=sf(t,[],!1).filter(u=>vs(u)&&Gc(u)!=="body"),s=null;const i=ws(t).position==="fixed";let a=i?ca(t):t;for(;vs(a)&&!jc(a);){const u=ws(a),c=K1(a);!c&&u.position==="fixed"&&(s=null),(i?!c&&!s:!c&&u.position==="static"&&s&&gG.has(s.position)||Of(a)&&!c&&lR(t,a))?r=r.filter(h=>h!==a):s=u,a=ca(a)}return e.set(t,r),r}function wG(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Ky(e)?[]:vG(e,this._c):[].concat(n),r],a=i[0],u=i.reduce((c,h)=>{const p=j2(e,h,s);return c.top=Sr(p.top,c.top),c.right=ua(p.right,c.right),c.bottom=ua(p.bottom,c.bottom),c.left=Sr(p.left,c.left),c},j2(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function bG(t){const{width:e,height:n}=iR(t);return{width:e,height:n}}function xG(t,e,n){const r=ii(e),s=ui(e),i=n==="fixed",a=Ll(t,!0,i,e);let u={scrollLeft:0,scrollTop:0};const c=Js(0);function h(){c.x=Yy(s)}if(r||!r&&!i)if((Gc(e)!=="body"||Of(s))&&(u=Qy(e)),r){const C=Ll(e,!0,i,e);c.x=C.x+e.clientLeft,c.y=C.y+e.clientTop}else s&&h();i&&!r&&s&&h();const p=s&&!r&&!i?aR(s,u):Js(0),g=a.left+u.scrollLeft-c.x-p.x,v=a.top+u.scrollTop-c.y-p.y;return{x:g,y:v,width:a.width,height:a.height}}function dw(t){return ws(t).position==="static"}function R2(t,e){if(!ii(t)||ws(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ui(t)===n&&(n=n.ownerDocument.body),n}function uR(t,e){const n=Tr(t);if(Ky(t))return n;if(!ii(t)){let s=ca(t);for(;s&&!jc(s);){if(vs(s)&&!dw(s))return s;s=ca(s)}return n}let r=R2(t,e);for(;r&&rG(r)&&dw(r);)r=R2(r,e);return r&&jc(r)&&dw(r)&&!K1(r)?n:r||lG(t)||n}const SG=async function(t){const e=this.getOffsetParent||uR,n=this.getDimensions,r=await n(t.floating);return{reference:xG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function CG(t){return ws(t).direction==="rtl"}const EG={convertOffsetParentRelativeRectToViewportRelativeRect:hG,getDocumentElement:ui,getClippingRect:wG,getOffsetParent:uR,getElementRects:SG,getClientRects:fG,getDimensions:bG,getScale:gc,isElement:vs,isRTL:CG};function cR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function kG(t,e){let n=null,r;const s=ui(t);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),i();const h=t.getBoundingClientRect(),{left:p,top:g,width:v,height:C}=h;if(u||e(),!v||!C)return;const _=Em(g),k=Em(s.clientWidth-(p+v)),T=Em(s.clientHeight-(g+C)),A=Em(p),P={rootMargin:-_+"px "+-k+"px "+-T+"px "+-A+"px",threshold:Sr(0,ua(1,c))||1};let O=!0;function U(z){const H=z[0].intersectionRatio;if(H!==c){if(!O)return a();H?a(!1,H):r=setTimeout(()=>{a(!1,1e-7)},1e3)}H===1&&!cR(h,t.getBoundingClientRect())&&a(),O=!1}try{n=new IntersectionObserver(U,{...P,root:s.ownerDocument})}catch{n=new IntersectionObserver(U,P)}n.observe(t)}return a(!0),i}function TG(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,h=Y1(t),p=s||i?[...h?sf(h):[],...sf(e)]:[];p.forEach(A=>{s&&A.addEventListener("scroll",n,{passive:!0}),i&&A.addEventListener("resize",n)});const g=h&&u?kG(h,n):null;let v=-1,C=null;a&&(C=new ResizeObserver(A=>{let[P]=A;P&&P.target===h&&C&&(C.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var O;(O=C)==null||O.observe(e)})),n()}),h&&!c&&C.observe(h),C.observe(e));let _,k=c?Ll(t):null;c&&T();function T(){const A=Ll(t);k&&!cR(k,A)&&n(),k=A,_=requestAnimationFrame(T)}return n(),()=>{var A;p.forEach(P=>{s&&P.removeEventListener("scroll",n),i&&P.removeEventListener("resize",n)}),g==null||g(),(A=C)==null||A.disconnect(),C=null,c&&cancelAnimationFrame(_)}}const _G=XH,IG=JH,DG=KH,AG=eG,NG=QH,O2=GH,PG=ZH,jG=(t,e,n)=>{const r=new Map,s={platform:EG,...n},i={...s.platform,_c:r};return HH(t,e,{...s,platform:i})};var RG=typeof document<"u",OG=function(){},Zm=RG?S.useLayoutEffect:OG;function Kg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Kg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Kg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function dR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function M2(t,e){const n=dR(t);return Math.round(e*n)/n}function hw(t){const e=S.useRef(t);return Zm(()=>{e.current=t}),e}function MG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:u=!0,whileElementsMounted:c,open:h}=t,[p,g]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,C]=S.useState(r);Kg(v,r)||C(r);const[_,k]=S.useState(null),[T,A]=S.useState(null),P=S.useCallback(K=>{K!==H.current&&(H.current=K,k(K))},[]),O=S.useCallback(K=>{K!==j.current&&(j.current=K,A(K))},[]),U=i||_,z=a||T,H=S.useRef(null),j=S.useRef(null),I=S.useRef(p),N=c!=null,M=hw(c),F=hw(s),q=hw(h),L=S.useCallback(()=>{if(!H.current||!j.current)return;const K={placement:e,strategy:n,middleware:v};F.current&&(K.platform=F.current),jG(H.current,j.current,K).then(ne=>{const oe={...ne,isPositioned:q.current!==!1};Ee.current&&!Kg(I.current,oe)&&(I.current=oe,M1.flushSync(()=>{g(oe)}))})},[v,e,n,F,q]);Zm(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g(K=>({...K,isPositioned:!1})))},[h]);const Ee=S.useRef(!1);Zm(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]),Zm(()=>{if(U&&(H.current=U),z&&(j.current=z),U&&z){if(M.current)return M.current(U,z,L);L()}},[U,z,L,M,N]);const Pe=S.useMemo(()=>({reference:H,floating:j,setReference:P,setFloating:O}),[P,O]),ye=S.useMemo(()=>({reference:U,floating:z}),[U,z]),ve=S.useMemo(()=>{const K={position:n,left:0,top:0};if(!ye.floating)return K;const ne=M2(ye.floating,p.x),oe=M2(ye.floating,p.y);return u?{...K,transform:"translate("+ne+"px, "+oe+"px)",...dR(ye.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:oe}},[n,u,ye.floating,p.x,p.y]);return S.useMemo(()=>({...p,update:L,refs:Pe,elements:ye,floatingStyles:ve}),[p,L,Pe,ye,ve])}const LG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?O2({element:r.current,padding:s}).fn(n):{}:r?O2({element:r,padding:s}).fn(n):{}}}},VG=(t,e)=>({..._G(t),options:[t,e]}),FG=(t,e)=>({...IG(t),options:[t,e]}),UG=(t,e)=>({...PG(t),options:[t,e]}),BG=(t,e)=>({...DG(t),options:[t,e]}),zG=(t,e)=>({...AG(t),options:[t,e]}),qG=(t,e)=>({...NG(t),options:[t,e]}),$G=(t,e)=>({...LG(t),options:[t,e]});var WG="Arrow",hR=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx(Qn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});hR.displayName=WG;var HG=hR;function GG(t){const[e,n]=S.useState(void 0);return la(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,u;if("borderBoxSize"in i){const c=i.borderBoxSize,h=Array.isArray(c)?c[0]:c;a=h.inlineSize,u=h.blockSize}else a=t.offsetWidth,u=t.offsetHeight;n({width:a,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var X1="Popper",[fR,pR]=Rf(X1),[KG,mR]=fR(X1),gR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=S.useState(null);return x.jsx(KG,{scope:e,anchor:r,onAnchorChange:s,children:n})};gR.displayName=X1;var yR="PopperAnchor",vR=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=mR(yR,n),a=S.useRef(null),u=cr(e,a),c=S.useRef(null);return S.useEffect(()=>{const h=c.current;c.current=(r==null?void 0:r.current)||a.current,h!==c.current&&i.onAnchorChange(c.current)}),r?null:x.jsx(Qn.div,{...s,ref:u})});vR.displayName=yR;var J1="PopperContent",[QG,YG]=fR(J1),wR=S.forwardRef((t,e)=>{var n,r,s,i,a,u;const{__scopePopper:c,side:h="bottom",sideOffset:p=0,align:g="center",alignOffset:v=0,arrowPadding:C=0,avoidCollisions:_=!0,collisionBoundary:k=[],collisionPadding:T=0,sticky:A="partial",hideWhenDetached:P=!1,updatePositionStrategy:O="optimized",onPlaced:U,...z}=t,H=mR(J1,c),[j,I]=S.useState(null),N=cr(e,Xn=>I(Xn)),[M,F]=S.useState(null),q=GG(M),L=(q==null?void 0:q.width)??0,Ee=(q==null?void 0:q.height)??0,Pe=h+(g!=="center"?"-"+g:""),ye=typeof T=="number"?T:{top:0,right:0,bottom:0,left:0,...T},ve=Array.isArray(k)?k:[k],K=ve.length>0,ne={padding:ye,boundary:ve.filter(JG),altBoundary:K},{refs:oe,floatingStyles:G,placement:re,isPositioned:pe,middlewareData:me}=MG({strategy:"fixed",placement:Pe,whileElementsMounted:(...Xn)=>TG(...Xn,{animationFrame:O==="always"}),elements:{reference:H.anchor},middleware:[VG({mainAxis:p+Ee,alignmentAxis:v}),_&&FG({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?UG():void 0,...ne}),_&&BG({...ne}),zG({...ne,apply:({elements:Xn,rects:to,availableWidth:Kl,availableHeight:no})=>{const{width:ci,height:va}=to.reference,mt=Xn.floating.style;mt.setProperty("--radix-popper-available-width",`${Kl}px`),mt.setProperty("--radix-popper-available-height",`${no}px`),mt.setProperty("--radix-popper-anchor-width",`${ci}px`),mt.setProperty("--radix-popper-anchor-height",`${va}px`)}}),M&&$G({element:M,padding:C}),ZG({arrowWidth:L,arrowHeight:Ee}),P&&qG({strategy:"referenceHidden",...ne})]}),[je,Be]=SR(re),Ie=$i(U);la(()=>{pe&&(Ie==null||Ie())},[pe,Ie]);const qe=(n=me.arrow)==null?void 0:n.x,Ue=(r=me.arrow)==null?void 0:r.y,pt=((s=me.arrow)==null?void 0:s.centerOffset)!==0,[Ir,Dr]=S.useState();return la(()=>{j&&Dr(window.getComputedStyle(j).zIndex)},[j]),x.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:pe?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ir,"--radix-popper-transform-origin":[(i=me.transformOrigin)==null?void 0:i.x,(a=me.transformOrigin)==null?void 0:a.y].join(" "),...((u=me.hide)==null?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(QG,{scope:c,placedSide:je,onArrowChange:F,arrowX:qe,arrowY:Ue,shouldHideArrow:pt,children:x.jsx(Qn.div,{"data-side":je,"data-align":Be,...z,ref:N,style:{...z.style,animation:pe?void 0:"none"}})})})});wR.displayName=J1;var bR="PopperArrow",XG={top:"bottom",right:"left",bottom:"top",left:"right"},xR=S.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,s=YG(bR,n),i=XG[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(HG,{...r,ref:e,style:{...r.style,display:"block"}})})});xR.displayName=bR;function JG(t){return t!==null}var ZG=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s;const{placement:i,rects:a,middlewareData:u}=e,c=((n=u.arrow)==null?void 0:n.centerOffset)!==0,h=c?0:t.arrowWidth,p=c?0:t.arrowHeight,[g,v]=SR(i),C={start:"0%",center:"50%",end:"100%"}[v],_=(((r=u.arrow)==null?void 0:r.x)??0)+h/2,k=(((s=u.arrow)==null?void 0:s.y)??0)+p/2;let T="",A="";return g==="bottom"?(T=c?C:`${_}px`,A=`${-p}px`):g==="top"?(T=c?C:`${_}px`,A=`${a.floating.height+p}px`):g==="right"?(T=`${-p}px`,A=c?C:`${k}px`):g==="left"&&(T=`${a.floating.width+p}px`,A=c?C:`${k}px`),{data:{x:T,y:A}}}});function SR(t){const[e,n="center"]=t.split("-");return[e,n]}var eK=gR,tK=vR,nK=wR,rK=xR,sK="Portal",CR=S.forwardRef((t,e)=>{var n;const{container:r,...s}=t,[i,a]=S.useState(!1);la(()=>a(!0),[]);const u=r||i&&((n=globalThis==null?void 0:globalThis.document)==null?void 0:n.body);return u?uq.createPortal(x.jsx(Qn.div,{...s,ref:e}),u):null});CR.displayName=sK;function iK(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var Mf=t=>{const{present:e,children:n}=t,r=oK(e),s=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),i=cr(r.ref,aK(s));return typeof n=="function"||r.isPresent?S.cloneElement(s,{ref:i}):null};Mf.displayName="Presence";function oK(t){const[e,n]=S.useState(),r=S.useRef(null),s=S.useRef(t),i=S.useRef("none"),a=t?"mounted":"unmounted",[u,c]=iK(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const h=km(r.current);i.current=u==="mounted"?h:"none"},[u]),la(()=>{const h=r.current,p=s.current;if(p!==t){const g=i.current,v=km(h);t?c("MOUNT"):v==="none"||(h==null?void 0:h.display)==="none"?c("UNMOUNT"):c(p&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),la(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=C=>{const _=km(r.current).includes(CSS.escape(C.animationName));if(C.target===e&&_&&(c("ANIMATION_END"),!s.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},v=C=>{C.target===e&&(i.current=km(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:S.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function km(t){return(t==null?void 0:t.animationName)||"none"}function aK(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var fw="rovingFocusGroup.onEntryFocus",lK={bubbles:!1,cancelable:!0},Lf="RovingFocusGroup",[Fb,ER,uK]=Kj(Lf),[cK,kR]=Rf(Lf,[uK]),[dK,hK]=cK(Lf),TR=S.forwardRef((t,e)=>x.jsx(Fb.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(Fb.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(fK,{...t,ref:e})})}));TR.displayName=Lf;var fK=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=t,v=S.useRef(null),C=cr(e,v),_=Qj(i),[k,T]=Hj({prop:a,defaultProp:u??null,onChange:c,caller:Lf}),[A,P]=S.useState(!1),O=$i(h),U=ER(n),z=S.useRef(!1),[H,j]=S.useState(0);return S.useEffect(()=>{const I=v.current;if(I)return I.addEventListener(fw,O),()=>I.removeEventListener(fw,O)},[O]),x.jsx(dK,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:k,onItemFocus:S.useCallback(I=>T(I),[T]),onItemShiftTab:S.useCallback(()=>P(!0),[]),onFocusableItemAdd:S.useCallback(()=>j(I=>I+1),[]),onFocusableItemRemove:S.useCallback(()=>j(I=>I-1),[]),children:x.jsx(Qn.div,{tabIndex:A||H===0?-1:0,"data-orientation":r,...g,ref:C,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{z.current=!0}),onFocus:et(t.onFocus,I=>{const N=!z.current;if(I.target===I.currentTarget&&N&&!A){const M=new CustomEvent(fw,lK);if(I.currentTarget.dispatchEvent(M),!M.defaultPrevented){const F=U().filter(Pe=>Pe.focusable),q=F.find(Pe=>Pe.active),L=F.find(Pe=>Pe.id===k),Ee=[q,L,...F].filter(Boolean).map(Pe=>Pe.ref.current);DR(Ee,p)}}z.current=!1}),onBlur:et(t.onBlur,()=>P(!1))})})}),_R="RovingFocusGroupItem",IR=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...u}=t,c=Ob(),h=i||c,p=hK(_R,n),g=p.currentTabStopId===h,v=ER(n),{onFocusableItemAdd:C,onFocusableItemRemove:_,currentTabStopId:k}=p;return S.useEffect(()=>{if(r)return C(),()=>_()},[r,C,_]),x.jsx(Fb.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:x.jsx(Qn.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:et(t.onMouseDown,T=>{r?p.onItemFocus(h):T.preventDefault()}),onFocus:et(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:et(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){p.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const A=gK(T,p.orientation,p.dir);if(A!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let P=v().filter(O=>O.focusable).map(O=>O.ref.current);if(A==="last")P.reverse();else if(A==="prev"||A==="next"){A==="prev"&&P.reverse();const O=P.indexOf(T.currentTarget);P=p.loop?yK(P,O+1):P.slice(O+1)}setTimeout(()=>DR(P))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:k!=null}):a})})});IR.displayName=_R;var pK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function gK(t,e,n){const r=mK(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return pK[r]}function DR(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function yK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vK=TR,wK=IR;function bK(t){const e=xK(t),n=S.forwardRef((r,s)=>{const{children:i,...a}=r,u=S.Children.toArray(i),c=u.find(CK);if(c){const h=c.props.children,p=u.map(g=>g===c?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function xK(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const a=kK(s),u=EK(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Wl(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SK=Symbol("radix.slottable");function CK(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SK}function EK(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function kK(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var TK=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Yu=new WeakMap,Tm=new WeakMap,_m={},pw=0,AR=function(t){return t&&(t.host||AR(t.parentNode))},_K=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=AR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},IK=function(t,e,n,r){var s=_K(e,Array.isArray(t)?t:[t]);_m[n]||(_m[n]=new WeakMap);var i=_m[n],a=[],u=new Set,c=new Set(s),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};s.forEach(h);var p=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))p(v);else try{var C=v.getAttribute(r),_=C!==null&&C!=="false",k=(Yu.get(v)||0)+1,T=(i.get(v)||0)+1;Yu.set(v,k),i.set(v,T),a.push(v),k===1&&_&&Tm.set(v,!0),T===1&&v.setAttribute(n,"true"),_||v.setAttribute(r,"true")}catch(A){console.error("aria-hidden: cannot operate on ",v,A)}})};return p(e),u.clear(),pw++,function(){a.forEach(function(g){var v=Yu.get(g)-1,C=i.get(g)-1;Yu.set(g,v),i.set(g,C),v||(Tm.has(g)||g.removeAttribute(r),Tm.delete(g)),C||g.removeAttribute(n)}),pw--,pw||(Yu=new WeakMap,Yu=new WeakMap,Tm=new WeakMap,_m={})}},DK=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=TK(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),IK(r,s,n,"aria-hidden")):function(){return null}},zs=function(){return zs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},zs.apply(this,arguments)};function NR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function AK(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var eg="right-scroll-bar-position",tg="width-before-scroll-bar",NK="with-scroll-bars-hidden",PK="--removed-body-scroll-bar-size";function mw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function jK(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var RK=typeof window<"u"?S.useLayoutEffect:S.useEffect,L2=new WeakMap;function OK(t,e){var n=jK(null,function(r){return t.forEach(function(s){return mw(s,r)})});return RK(function(){var r=L2.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(u){i.has(u)||mw(u,null)}),i.forEach(function(u){s.has(u)||mw(u,a)})}L2.set(n,t)},[t]),n}function MK(t){return t}function LK(t,e){e===void 0&&(e=MK);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(u){return u!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var u=n;n=[],u.forEach(i),a=n}var c=function(){var p=a;a=[],p.forEach(i)},h=function(){return Promise.resolve().then(c)};h(),n={push:function(p){a.push(p),h()},filter:function(p){return a=a.filter(p),n}}}};return s}function VK(t){t===void 0&&(t={});var e=LK(null);return e.options=zs({async:!0,ssr:!1},t),e}var PR=function(t){var e=t.sideCar,n=NR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,zs({},n))};PR.isSideCarExport=!0;function FK(t,e){return t.useMedium(e),PR}var jR=VK(),gw=function(){},Xy=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:gw,onWheelCapture:gw,onTouchMoveCapture:gw}),s=r[0],i=r[1],a=t.forwardProps,u=t.children,c=t.className,h=t.removeScrollBar,p=t.enabled,g=t.shards,v=t.sideCar,C=t.noRelative,_=t.noIsolation,k=t.inert,T=t.allowPinchZoom,A=t.as,P=A===void 0?"div":A,O=t.gapMode,U=NR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=v,H=OK([n,e]),j=zs(zs({},U),s);return S.createElement(S.Fragment,null,p&&S.createElement(z,{sideCar:jR,removeScrollBar:h,shards:g,noRelative:C,noIsolation:_,inert:k,setCallbacks:i,allowPinchZoom:!!T,lockRef:n,gapMode:O}),a?S.cloneElement(S.Children.only(u),zs(zs({},j),{ref:H})):S.createElement(P,zs({},j,{className:c,ref:H}),u))});Xy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xy.classNames={fullWidth:tg,zeroRight:eg};var UK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BK(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=UK();return e&&t.setAttribute("nonce",e),t}function zK(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function qK(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $K=function(){var t=0,e=null;return{add:function(n){t==0&&(e=BK())&&(zK(e,n),qK(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},WK=function(){var t=$K();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},RR=function(){var t=WK(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},HK={left:0,top:0,right:0,gap:0},yw=function(t){return parseInt(t||"",10)||0},GK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[yw(n),yw(r),yw(s)]},KK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return HK;var e=GK(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},QK=RR(),yc="data-scroll-locked",YK=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(NK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(yc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(eg,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(tg,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(eg," .").concat(eg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tg," .").concat(tg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(yc,`] {
    `).concat(PK,": ").concat(u,`px;
  }
`)},V2=function(){var t=parseInt(document.body.getAttribute(yc)||"0",10);return isFinite(t)?t:0},XK=function(){S.useEffect(function(){return document.body.setAttribute(yc,(V2()+1).toString()),function(){var t=V2()-1;t<=0?document.body.removeAttribute(yc):document.body.setAttribute(yc,t.toString())}},[])},JK=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;XK();var i=S.useMemo(function(){return KK(s)},[s]);return S.createElement(QK,{styles:YK(i,!e,s,n?"":"!important")})},Ub=!1;if(typeof window<"u")try{var Im=Object.defineProperty({},"passive",{get:function(){return Ub=!0,!0}});window.addEventListener("test",Im,Im),window.removeEventListener("test",Im,Im)}catch{Ub=!1}var Xu=Ub?{passive:!1}:!1,ZK=function(t){return t.tagName==="TEXTAREA"},OR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!ZK(t)&&n[e]==="visible")},eQ=function(t){return OR(t,"overflowY")},tQ=function(t){return OR(t,"overflowX")},F2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=MR(t,r);if(s){var i=LR(t,r),a=i[1],u=i[2];if(a>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},rQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},MR=function(t,e){return t==="v"?eQ(e):tQ(e)},LR=function(t,e){return t==="v"?nQ(e):rQ(e)},sQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},iQ=function(t,e,n,r,s){var i=sQ(t,window.getComputedStyle(e).direction),a=i*r,u=n.target,c=e.contains(u),h=!1,p=a>0,g=0,v=0;do{if(!u)break;var C=LR(t,u),_=C[0],k=C[1],T=C[2],A=k-T-i*_;(_||A)&&MR(t,u)&&(g+=A,v+=_);var P=u.parentNode;u=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!c&&u!==document.body||c&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(h=!0),h},Dm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},U2=function(t){return[t.deltaX,t.deltaY]},B2=function(t){return t&&"current"in t?t.current:t},oQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},aQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lQ=0,Ju=[];function uQ(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),s=S.useState(lQ++)[0],i=S.useState(RR)[0],a=S.useRef(t);S.useEffect(function(){a.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var k=AK([t.lockRef.current],(t.shards||[]).map(B2)).filter(Boolean);return k.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),k.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=S.useCallback(function(k,T){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!a.current.allowPinchZoom;var A=Dm(k),P=n.current,O="deltaX"in k?k.deltaX:P[0]-A[0],U="deltaY"in k?k.deltaY:P[1]-A[1],z,H=k.target,j=Math.abs(O)>Math.abs(U)?"h":"v";if("touches"in k&&j==="h"&&H.type==="range")return!1;var I=F2(j,H);if(!I)return!0;if(I?z=j:(z=j==="v"?"h":"v",I=F2(j,H)),!I)return!1;if(!r.current&&"changedTouches"in k&&(O||U)&&(r.current=z),!z)return!0;var N=r.current||z;return iQ(N,T,k,N==="h"?O:U)},[]),c=S.useCallback(function(k){var T=k;if(!(!Ju.length||Ju[Ju.length-1]!==i)){var A="deltaY"in T?U2(T):Dm(T),P=e.current.filter(function(z){return z.name===T.type&&(z.target===T.target||T.target===z.shadowParent)&&oQ(z.delta,A)})[0];if(P&&P.should){T.cancelable&&T.preventDefault();return}if(!P){var O=(a.current.shards||[]).map(B2).filter(Boolean).filter(function(z){return z.contains(T.target)}),U=O.length>0?u(T,O[0]):!a.current.noIsolation;U&&T.cancelable&&T.preventDefault()}}},[]),h=S.useCallback(function(k,T,A,P){var O={name:k,delta:T,target:A,should:P,shadowParent:cQ(A)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(U){return U!==O})},1)},[]),p=S.useCallback(function(k){n.current=Dm(k),r.current=void 0},[]),g=S.useCallback(function(k){h(k.type,U2(k),k.target,u(k,t.lockRef.current))},[]),v=S.useCallback(function(k){h(k.type,Dm(k),k.target,u(k,t.lockRef.current))},[]);S.useEffect(function(){return Ju.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",c,Xu),document.addEventListener("touchmove",c,Xu),document.addEventListener("touchstart",p,Xu),function(){Ju=Ju.filter(function(k){return k!==i}),document.removeEventListener("wheel",c,Xu),document.removeEventListener("touchmove",c,Xu),document.removeEventListener("touchstart",p,Xu)}},[]);var C=t.removeScrollBar,_=t.inert;return S.createElement(S.Fragment,null,_?S.createElement(i,{styles:aQ(s)}):null,C?S.createElement(JK,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function cQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const dQ=FK(jR,uQ);var VR=S.forwardRef(function(t,e){return S.createElement(Xy,zs({},t,{ref:e,sideCar:dQ}))});VR.classNames=Xy.classNames;var Bb=["Enter"," "],hQ=["ArrowDown","PageUp","Home"],FR=["ArrowUp","PageDown","End"],fQ=[...hQ,...FR],pQ={ltr:[...Bb,"ArrowRight"],rtl:[...Bb,"ArrowLeft"]},mQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vf="Menu",[of,gQ,yQ]=Kj(Vf),[Hl,UR]=Rf(Vf,[yQ,pR,kR]),Jy=pR(),BR=kR(),[vQ,Gl]=Hl(Vf),[wQ,Ff]=Hl(Vf),zR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,u=Jy(e),[c,h]=S.useState(null),p=S.useRef(!1),g=$i(i),v=Qj(s);return S.useEffect(()=>{const C=()=>{p.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>p.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),x.jsx(eK,{...u,children:x.jsx(vQ,{scope:e,open:n,onOpenChange:g,content:c,onContentChange:h,children:x.jsx(wQ,{scope:e,onClose:S.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:a,children:r})})})};zR.displayName=Vf;var bQ="MenuAnchor",Z1=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Jy(n);return x.jsx(tK,{...s,...r,ref:e})});Z1.displayName=bQ;var eS="MenuPortal",[xQ,qR]=Hl(eS,{forceMount:void 0}),$R=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Gl(eS,e);return x.jsx(xQ,{scope:e,forceMount:n,children:x.jsx(Mf,{present:n||i.open,children:x.jsx(CR,{asChild:!0,container:s,children:r})})})};$R.displayName=eS;var Kr="MenuContent",[SQ,tS]=Hl(Kr),WR=S.forwardRef((t,e)=>{const n=qR(Kr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Gl(Kr,t.__scopeMenu),a=Ff(Kr,t.__scopeMenu);return x.jsx(of.Provider,{scope:t.__scopeMenu,children:x.jsx(Mf,{present:r||i.open,children:x.jsx(of.Slot,{scope:t.__scopeMenu,children:a.modal?x.jsx(CQ,{...s,ref:e}):x.jsx(EQ,{...s,ref:e})})})})}),CQ=S.forwardRef((t,e)=>{const n=Gl(Kr,t.__scopeMenu),r=S.useRef(null),s=cr(e,r);return S.useEffect(()=>{const i=r.current;if(i)return DK(i)},[]),x.jsx(nS,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),EQ=S.forwardRef((t,e)=>{const n=Gl(Kr,t.__scopeMenu);return x.jsx(nS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),kQ=bK("MenuContent.ScrollLock"),nS=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEntryFocus:c,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:C,disableOutsideScroll:_,...k}=t,T=Gl(Kr,n),A=Ff(Kr,n),P=Jy(n),O=BR(n),U=gQ(n),[z,H]=S.useState(null),j=S.useRef(null),I=cr(e,j,T.onContentChange),N=S.useRef(0),M=S.useRef(""),F=S.useRef(0),q=S.useRef(null),L=S.useRef("right"),Ee=S.useRef(0),Pe=_?VR:S.Fragment,ye=_?{as:kQ,allowPinchZoom:!0}:void 0,ve=ne=>{var oe,G;const re=M.current+ne,pe=U().filter(Ue=>!Ue.disabled),me=document.activeElement,je=(oe=pe.find(Ue=>Ue.ref.current===me))==null?void 0:oe.textValue,Be=pe.map(Ue=>Ue.textValue),Ie=LQ(Be,re,je),qe=(G=pe.find(Ue=>Ue.textValue===Ie))==null?void 0:G.ref.current;(function Ue(pt){M.current=pt,window.clearTimeout(N.current),pt!==""&&(N.current=window.setTimeout(()=>Ue(""),1e3))})(re),qe&&setTimeout(()=>qe.focus())};S.useEffect(()=>()=>window.clearTimeout(N.current),[]),kH();const K=S.useCallback(ne=>{var oe,G;return L.current===((oe=q.current)==null?void 0:oe.side)&&FQ(ne,(G=q.current)==null?void 0:G.area)},[]);return x.jsx(SQ,{scope:n,searchRef:M,onItemEnter:S.useCallback(ne=>{K(ne)&&ne.preventDefault()},[K]),onItemLeave:S.useCallback(ne=>{var oe;K(ne)||((oe=j.current)==null||oe.focus(),H(null))},[K]),onTriggerLeave:S.useCallback(ne=>{K(ne)&&ne.preventDefault()},[K]),pointerGraceTimerRef:F,onPointerGraceIntentChange:S.useCallback(ne=>{q.current=ne},[]),children:x.jsx(Pe,{...ye,children:x.jsx(Zj,{asChild:!0,trapped:s,onMountAutoFocus:et(i,ne=>{var oe;ne.preventDefault(),(oe=j.current)==null||oe.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:x.jsx(Xj,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:C,children:x.jsx(vK,{asChild:!0,...O,dir:A.dir,orientation:"vertical",loop:r,currentTabStopId:z,onCurrentTabStopIdChange:H,onEntryFocus:et(c,ne=>{A.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(nK,{role:"menu","aria-orientation":"vertical","data-state":aO(T.open),"data-radix-menu-content":"",dir:A.dir,...P,...k,ref:I,style:{outline:"none",...k.style},onKeyDown:et(k.onKeyDown,ne=>{const oe=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,G=ne.ctrlKey||ne.altKey||ne.metaKey,re=ne.key.length===1;oe&&(ne.key==="Tab"&&ne.preventDefault(),!G&&re&&ve(ne.key));const pe=j.current;if(ne.target!==pe||!fQ.includes(ne.key))return;ne.preventDefault();const me=U().filter(je=>!je.disabled).map(je=>je.ref.current);FR.includes(ne.key)&&me.reverse(),OQ(me)}),onBlur:et(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(N.current),M.current="")}),onPointerMove:et(t.onPointerMove,af(ne=>{const oe=ne.target,G=Ee.current!==ne.clientX;if(ne.currentTarget.contains(oe)&&G){const re=ne.clientX>Ee.current?"right":"left";L.current=re,Ee.current=ne.clientX}}))})})})})})})});WR.displayName=Kr;var TQ="MenuGroup",rS=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Qn.div,{role:"group",...r,ref:e})});rS.displayName=TQ;var _Q="MenuLabel",HR=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Qn.div,{...r,ref:e})});HR.displayName=_Q;var Qg="MenuItem",z2="menu.itemSelect",Zy=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=S.useRef(null),a=Ff(Qg,t.__scopeMenu),u=tS(Qg,t.__scopeMenu),c=cr(e,i),h=S.useRef(!1),p=()=>{const g=i.current;if(!n&&g){const v=new CustomEvent(z2,{bubbles:!0,cancelable:!0});g.addEventListener(z2,C=>r==null?void 0:r(C),{once:!0}),Gj(g,v),v.defaultPrevented?h.current=!1:a.onClose()}};return x.jsx(GR,{...s,ref:c,disabled:n,onClick:et(t.onClick,p),onPointerDown:g=>{var v;(v=t.onPointerDown)==null||v.call(t,g),h.current=!0},onPointerUp:et(t.onPointerUp,g=>{var v;h.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:et(t.onKeyDown,g=>{const v=u.searchRef.current!=="";n||v&&g.key===" "||Bb.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Zy.displayName=Qg;var GR=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=tS(Qg,n),u=BR(n),c=S.useRef(null),h=cr(e,c),[p,g]=S.useState(!1),[v,C]=S.useState("");return S.useEffect(()=>{const _=c.current;_&&C((_.textContent??"").trim())},[i.children]),x.jsx(of.ItemSlot,{scope:n,disabled:r,textValue:s??v,children:x.jsx(wK,{asChild:!0,...u,focusable:!r,children:x.jsx(Qn.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:h,onPointerMove:et(t.onPointerMove,af(_=>{r?a.onItemLeave(_):(a.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,af(_=>a.onItemLeave(_))),onFocus:et(t.onFocus,()=>g(!0)),onBlur:et(t.onBlur,()=>g(!1))})})})}),IQ="MenuCheckboxItem",KR=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return x.jsx(ZR,{scope:t.__scopeMenu,checked:n,children:x.jsx(Zy,{role:"menuitemcheckbox","aria-checked":Yg(n)?"mixed":n,...s,ref:e,"data-state":iS(n),onSelect:et(s.onSelect,()=>r==null?void 0:r(Yg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});KR.displayName=IQ;var QR="MenuRadioGroup",[DQ,AQ]=Hl(QR,{value:void 0,onValueChange:()=>{}}),YR=S.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=$i(r);return x.jsx(DQ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:x.jsx(rS,{...s,ref:e})})});YR.displayName=QR;var XR="MenuRadioItem",JR=S.forwardRef((t,e)=>{const{value:n,...r}=t,s=AQ(XR,t.__scopeMenu),i=n===s.value;return x.jsx(ZR,{scope:t.__scopeMenu,checked:i,children:x.jsx(Zy,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":iS(i),onSelect:et(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});JR.displayName=XR;var sS="MenuItemIndicator",[ZR,NQ]=Hl(sS,{checked:!1}),eO=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=NQ(sS,n);return x.jsx(Mf,{present:r||Yg(i.checked)||i.checked===!0,children:x.jsx(Qn.span,{...s,ref:e,"data-state":iS(i.checked)})})});eO.displayName=sS;var PQ="MenuSeparator",tO=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Qn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});tO.displayName=PQ;var jQ="MenuArrow",nO=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Jy(n);return x.jsx(rK,{...s,...r,ref:e})});nO.displayName=jQ;var RQ="MenuSub",[ere,rO]=Hl(RQ),bh="MenuSubTrigger",sO=S.forwardRef((t,e)=>{const n=Gl(bh,t.__scopeMenu),r=Ff(bh,t.__scopeMenu),s=rO(bh,t.__scopeMenu),i=tS(bh,t.__scopeMenu),a=S.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:c}=i,h={__scopeMenu:t.__scopeMenu},p=S.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return S.useEffect(()=>p,[p]),S.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),c(null)}},[u,c]),x.jsx(Z1,{asChild:!0,...h,children:x.jsx(GR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":aO(n.open),...t,ref:Wl(e,s.onTriggerChange),onClick:g=>{var v;(v=t.onClick)==null||v.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,af(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:et(t.onPointerLeave,af(g=>{var v,C;p();const _=(v=n.content)==null?void 0:v.getBoundingClientRect();if(_){const k=(C=n.content)==null?void 0:C.dataset.side,T=k==="right",A=T?-5:5,P=_[T?"left":"right"],O=_[T?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+A,y:g.clientY},{x:P,y:_.top},{x:O,y:_.top},{x:O,y:_.bottom},{x:P,y:_.bottom}],side:k}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,g=>{var v;const C=i.searchRef.current!=="";t.disabled||C&&g.key===" "||pQ[r.dir].includes(g.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),g.preventDefault())})})})});sO.displayName=bh;var iO="MenuSubContent",oO=S.forwardRef((t,e)=>{const n=qR(Kr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Gl(Kr,t.__scopeMenu),a=Ff(Kr,t.__scopeMenu),u=rO(iO,t.__scopeMenu),c=S.useRef(null),h=cr(e,c);return x.jsx(of.Provider,{scope:t.__scopeMenu,children:x.jsx(Mf,{present:r||i.open,children:x.jsx(of.Slot,{scope:t.__scopeMenu,children:x.jsx(nS,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:h,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;a.isUsingKeyboardRef.current&&((g=c.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:et(t.onFocusOutside,p=>{p.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,p=>{a.onClose(),p.preventDefault()}),onKeyDown:et(t.onKeyDown,p=>{var g;const v=p.currentTarget.contains(p.target),C=mQ[a.dir].includes(p.key);v&&C&&(i.onOpenChange(!1),(g=u.trigger)==null||g.focus(),p.preventDefault())})})})})})});oO.displayName=iO;function aO(t){return t?"open":"closed"}function Yg(t){return t==="indeterminate"}function iS(t){return Yg(t)?"indeterminate":t?"checked":"unchecked"}function OQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function MQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function LQ(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=MQ(t,Math.max(s,0));r.length===1&&(i=i.filter(u=>u!==n));const a=i.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return a!==n?a:void 0}function VQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const u=e[i],c=e[a],h=u.x,p=u.y,g=c.x,v=c.y;p>r!=v>r&&n<(g-h)*(r-p)/(v-p)+h&&(s=!s)}return s}function FQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return VQ(n,e)}function af(t){return e=>e.pointerType==="mouse"?t(e):void 0}var UQ=zR,BQ=Z1,zQ=$R,qQ=WR,$Q=rS,WQ=HR,HQ=Zy,GQ=KR,KQ=YR,QQ=JR,YQ=eO,XQ=tO,JQ=nO,ZQ=sO,eY=oO,ev="DropdownMenu",[tY]=Rf(ev,[UR]),Yn=UR(),[nY,lO]=tY(ev),uO=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:u=!0}=t,c=Yn(e),h=S.useRef(null),[p,g]=Hj({prop:s,defaultProp:i??!1,onChange:a,caller:ev});return x.jsx(nY,{scope:e,triggerId:Ob(),triggerRef:h,contentId:Ob(),open:p,onOpenChange:g,onOpenToggle:S.useCallback(()=>g(v=>!v),[g]),modal:u,children:x.jsx(UQ,{...c,open:p,onOpenChange:g,dir:r,modal:u,children:n})})};uO.displayName=ev;var cO="DropdownMenuTrigger",dO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=lO(cO,n),a=Yn(n);return x.jsx(BQ,{asChild:!0,...a,children:x.jsx(Qn.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Wl(e,i.triggerRef),onPointerDown:et(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:et(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});dO.displayName=cO;var rY="DropdownMenuPortal",hO=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Yn(e);return x.jsx(zQ,{...r,...n})};hO.displayName=rY;var fO="DropdownMenuContent",pO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=lO(fO,n),i=Yn(n),a=S.useRef(!1);return x.jsx(qQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,u=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,u.preventDefault()}),onInteractOutside:et(t.onInteractOutside,u=>{const c=u.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0,p=c.button===2||h;(!s.modal||p)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pO.displayName=fO;var sY="DropdownMenuGroup",iY=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Yn(n);return x.jsx($Q,{...s,...r,ref:e})});iY.displayName=sY;var oY="DropdownMenuLabel",mO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Yn(n);return x.jsx(WQ,{...s,...r,ref:e})});mO.displayName=oY;var aY="DropdownMenuItem",gO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Yn(n);return x.jsx(HQ,{...s,...r,ref:e})});gO.displayName=aY;var lY="DropdownMenuCheckboxItem",yO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Yn(n);return x.jsx(GQ,{...s,...r,ref:e})});yO.displayName=lY;var uY="DropdownMenuRadioGroup",cY=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Yn(n);return x.jsx(KQ,{...s,...r,ref:e})});cY.displayName=uY;var dY="DropdownMenuRadioItem",vO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Yn(n);return x.jsx(QQ,{...s,...r,ref:e})});vO.displayName=dY;var hY="DropdownMenuItemIndicator",wO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Yn(n);return x.jsx(YQ,{...s,...r,ref:e})});wO.displayName=hY;var fY="DropdownMenuSeparator",bO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Yn(n);return x.jsx(XQ,{...s,...r,ref:e})});bO.displayName=fY;var pY="DropdownMenuArrow",mY=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Yn(n);return x.jsx(JQ,{...s,...r,ref:e})});mY.displayName=pY;var gY="DropdownMenuSubTrigger",xO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Yn(n);return x.jsx(ZQ,{...s,...r,ref:e})});xO.displayName=gY;var yY="DropdownMenuSubContent",SO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Yn(n);return x.jsx(eY,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SO.displayName=yY;var vY=uO,wY=dO,bY=hO,CO=pO,EO=mO,kO=gO,TO=yO,_O=vO,IO=wO,DO=bO,AO=xO,NO=SO;const xY=vY,SY=wY,CY=S.forwardRef(({className:t,inset:e,children:n,...r},s)=>x.jsxs(AO,{ref:s,className:wt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,x.jsx(c$,{className:"ml-auto"})]}));CY.displayName=AO.displayName;const EY=S.forwardRef(({className:t,...e},n)=>x.jsx(NO,{ref:n,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));EY.displayName=NO.displayName;const PO=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(bY,{children:x.jsx(CO,{ref:r,sideOffset:e,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));PO.displayName=CO.displayName;const Fr=S.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(kO,{ref:r,className:wt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Fr.displayName=kO.displayName;const kY=S.forwardRef(({className:t,children:e,checked:n,...r},s)=>x.jsxs(TO,{ref:s,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(IO,{children:x.jsx(o$,{className:"h-4 w-4"})})}),e]}));kY.displayName=TO.displayName;const TY=S.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(_O,{ref:r,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(IO,{children:x.jsx(g$,{className:"h-2 w-2 fill-current"})})}),e]}));TY.displayName=_O.displayName;const jO=S.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(EO,{ref:r,className:wt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));jO.displayName=EO.displayName;const ng=S.forwardRef(({className:t,...e},n)=>x.jsx(DO,{ref:n,className:wt("-mx-1 my-1 h-px bg-muted",t),...e}));ng.displayName=DO.displayName;function bs(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Vl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const RO=6048e5,_Y=864e5;let IY={};function tv(){return IY}function lf(t,e){var n,r,s,i;const a=tv(),u=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??a.weekStartsOn??((i=(s=a.locale)==null?void 0:s.options)==null?void 0:i.weekStartsOn)??0,c=bs(t),h=c.getDay(),p=(h<u?7:0)+h-u;return c.setDate(c.getDate()-p),c.setHours(0,0,0,0),c}function Xg(t){return lf(t,{weekStartsOn:1})}function OO(t){const e=bs(t),n=e.getFullYear(),r=Vl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Xg(r),i=Vl(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Xg(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function zb(t){const e=bs(t);return e.setHours(0,0,0,0),e}function q2(t){const e=bs(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function DY(t,e){const n=zb(t),r=zb(e),s=+n-q2(n),i=+r-q2(r);return Math.round((s-i)/_Y)}function AY(t){const e=OO(t),n=Vl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Xg(n)}function NY(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function PY(t){if(!NY(t)&&typeof t!="number")return!1;const e=bs(t);return!isNaN(Number(e))}function jY(t){const e=bs(t),n=Vl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const RY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OY=(t,e,n)=>{let r;const s=RY[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function vw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const MY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},LY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},FY={date:vw({formats:MY,defaultWidth:"full"}),time:vw({formats:LY,defaultWidth:"full"}),dateTime:vw({formats:VY,defaultWidth:"full"})},UY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},BY=(t,e,n,r)=>UY[t];function ch(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):a;s=t.formattingValues[u]||t.formattingValues[a]}else{const a=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const zY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$Y={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},WY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},HY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},GY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},KY=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},QY={ordinalNumber:KY,era:ch({values:zY,defaultWidth:"wide"}),quarter:ch({values:qY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ch({values:$Y,defaultWidth:"wide"}),day:ch({values:WY,defaultWidth:"wide"}),dayPeriod:ch({values:HY,defaultWidth:"wide",formattingValues:GY,defaultFormattingWidth:"wide"})};function dh(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?XY(u,g=>g.test(a)):YY(u,g=>g.test(a));let h;h=t.valueCallback?t.valueCallback(c):c,h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(a.length);return{value:h,rest:p}}}function YY(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function XY(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function JY(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const u=e.slice(s.length);return{value:a,rest:u}}}const ZY=/^(\d+)(th|st|nd|rd)?/i,eX=/\d+/i,tX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nX={any:[/^b/i,/^(a|c)/i]},rX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sX={any:[/1/i,/2/i,/3/i,/4/i]},iX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dX={ordinalNumber:JY({matchPattern:ZY,parsePattern:eX,valueCallback:t=>parseInt(t,10)}),era:dh({matchPatterns:tX,defaultMatchWidth:"wide",parsePatterns:nX,defaultParseWidth:"any"}),quarter:dh({matchPatterns:rX,defaultMatchWidth:"wide",parsePatterns:sX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:dh({matchPatterns:iX,defaultMatchWidth:"wide",parsePatterns:oX,defaultParseWidth:"any"}),day:dh({matchPatterns:aX,defaultMatchWidth:"wide",parsePatterns:lX,defaultParseWidth:"any"}),dayPeriod:dh({matchPatterns:uX,defaultMatchWidth:"any",parsePatterns:cX,defaultParseWidth:"any"})},hX={code:"en-US",formatDistance:OY,formatLong:FY,formatRelative:BY,localize:QY,match:dX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fX(t){const e=bs(t);return DY(e,jY(e))+1}function pX(t){const e=bs(t),n=+Xg(e)-+AY(e);return Math.round(n/RO)+1}function MO(t,e){var n,r,s,i;const a=bs(t),u=a.getFullYear(),c=tv(),h=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??c.firstWeekContainsDate??((i=(s=c.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,p=Vl(t,0);p.setFullYear(u+1,0,h),p.setHours(0,0,0,0);const g=lf(p,e),v=Vl(t,0);v.setFullYear(u,0,h),v.setHours(0,0,0,0);const C=lf(v,e);return a.getTime()>=g.getTime()?u+1:a.getTime()>=C.getTime()?u:u-1}function mX(t,e){var n,r,s,i;const a=tv(),u=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??a.firstWeekContainsDate??((i=(s=a.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,c=MO(t,e),h=Vl(t,0);return h.setFullYear(c,0,u),h.setHours(0,0,0,0),lf(h,e)}function gX(t,e){const n=bs(t),r=+lf(n,e)-+mX(n,e);return Math.round(r/RO)+1}function at(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const zo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return at(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):at(n+1,2)},d(t,e){return at(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return at(t.getHours()%12||12,e.length)},H(t,e){return at(t.getHours(),e.length)},m(t,e){return at(t.getMinutes(),e.length)},s(t,e){return at(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return at(s,e.length)}},Zu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$2={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return zo.y(t,e)},Y:function(t,e,n,r){const s=MO(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return at(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):at(i,e.length)},R:function(t,e){const n=OO(t);return at(n,e.length)},u:function(t,e){const n=t.getFullYear();return at(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return at(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return at(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return zo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return at(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=gX(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):at(s,e.length)},I:function(t,e,n){const r=pX(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):at(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):zo.d(t,e)},D:function(t,e,n){const r=fX(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):at(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return at(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return at(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return at(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Zu.noon:r===0?s=Zu.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Zu.evening:r>=12?s=Zu.afternoon:r>=4?s=Zu.morning:s=Zu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return zo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):zo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):zo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):zo.s(t,e)},S:function(t,e){return zo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return H2(r);case"XXXX":case"XX":return il(r);case"XXXXX":case"XXX":default:return il(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return H2(r);case"xxxx":case"xx":return il(r);case"xxxxx":case"xxx":default:return il(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+W2(r,":");case"OOOO":default:return"GMT"+il(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+W2(r,":");case"zzzz":default:return"GMT"+il(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return at(r,e.length)},T:function(t,e,n){const r=t.getTime();return at(r,e.length)}};function W2(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+at(i,2)}function H2(t,e){return t%60===0?(t>0?"-":"+")+at(Math.abs(t)/60,2):il(t,e)}function il(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=at(Math.trunc(r/60),2),i=at(r%60,2);return n+s+e+i}const G2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},LO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},yX=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return G2(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",G2(r,e)).replace("{{time}}",LO(s,e))},vX={p:LO,P:yX},wX=/^D+$/,bX=/^Y+$/,xX=["D","DD","YY","YYYY"];function SX(t){return wX.test(t)}function CX(t){return bX.test(t)}function EX(t,e,n){const r=kX(t,e,n);if(console.warn(r),xX.includes(t))throw new RangeError(r)}function kX(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_X=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,IX=/^'([^]*?)'?$/,DX=/''/g,AX=/[a-zA-Z]/;function NX(t,e,n){var r,s,i,a;const u=tv(),c=u.locale??hX,h=u.firstWeekContainsDate??((s=(r=u.locale)==null?void 0:r.options)==null?void 0:s.firstWeekContainsDate)??1,p=u.weekStartsOn??((a=(i=u.locale)==null?void 0:i.options)==null?void 0:a.weekStartsOn)??0,g=bs(t);if(!PY(g))throw new RangeError("Invalid time value");let v=e.match(_X).map(_=>{const k=_[0];if(k==="p"||k==="P"){const T=vX[k];return T(_,c.formatLong)}return _}).join("").match(TX).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const k=_[0];if(k==="'")return{isToken:!1,value:PX(_)};if($2[k])return{isToken:!0,value:_};if(k.match(AX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:_}});c.localize.preprocessor&&(v=c.localize.preprocessor(g,v));const C={firstWeekContainsDate:h,weekStartsOn:p,locale:c};return v.map(_=>{if(!_.isToken)return _.value;const k=_.value;(CX(k)||SX(k))&&EX(k,e,String(t));const T=$2[k[0]];return T(g,k,c.localize,C)}).join("")}function PX(t){const e=t.match(IX);return e?e[1].replace(DX,"'"):t}class rg extends hn.Component{constructor(e){super(e),ZE(this,"hardReload",()=>{window.location.reload(!0)}),ZE(this,"clearCachesAndReload",async()=>{try{if("caches"in window){const n=await caches.keys();await Promise.all(n.map(r=>caches.delete(r)))}if("serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistrations();await Promise.all(n.map(r=>r.unregister()))}}catch(n){console.warn("Failed to clear caches or unregister SW",n)}finally{window.location.reload()}}),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ChunkErrorBoundary caught an error:",e,n)}render(){var e,n,r,s;if(this.state.hasError){const i=((e=this.state.error)==null?void 0:e.message)||"";return((n=this.state.error)==null?void 0:n.name)==="ChunkLoadError"||((r=this.state.error)==null?void 0:r.name)==="CSSChunkLoadError"||/Loading chunk|Failed to fetch dynamically imported module|Importing a module script failed/i.test(i)?x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Update available"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The app was updated. Please refresh to load the latest version."}),x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("button",{onClick:this.hardReload,className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"}),x.jsx("button",{onClick:this.clearCachesAndReload,className:"px-4 py-2 rounded-lg bg-gray-200",children:"Reset cache & reload"})]}),x.jsxs("details",{className:"mt-4 text-left text-xs text-gray-500",children:[x.jsx("summary",{children:"Details"}),x.jsx("pre",{className:"whitespace-pre-wrap break-words",children:((s=this.state.error)==null?void 0:s.stack)||i})]})]})}):x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"Try refreshing the page."}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"})]})})}return this.props.children}}const ww=hn.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_-DZaDo8HZ-Bd77omDN.js"),[]),[]),[]),[]),[]),[]),[])),jX=hn.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC-i35konQI-CjlSaAQR.js"),__vite__mapDeps([0,1])),Lt([0,1])),Ft([0,1])),Bt([0,1])),qt([0,1])),Wt([0,1])),Gt([0,1]))),RX=hn.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc-CAXKM_tn-BSUotW_a.js"),__vite__mapDeps([2,3])),Lt([2,3])),Ft([2,3])),Bt([2,3])),qt([2,3])),Wt([2,3])),Gt([2,3])));function OX({children:t,currentPageName:e}){var n;const r=eo(),[s,i]=S.useState(!1),{user:a,loading:u}=$1(),[c,h]=S.useState(()=>localStorage.getItem("app.theme")==="dark");S.useEffect(()=>{const H=()=>{h(localStorage.getItem("app.theme")==="dark")};H(),window.addEventListener("storage",H);const j=setInterval(H,500);return()=>{window.removeEventListener("storage",H),clearInterval(j)}},[]),S.useEffect(()=>{const H=document.createElement("link");H.rel="manifest",H.href="/manifest.json",document.head.appendChild(H);const j=document.createElement("meta");j.name="theme-color",j.content=c?"#1e293b":"#9333ea",document.head.appendChild(j);const I=document.createElement("meta");I.name="apple-mobile-web-app-capable",I.content="yes",document.head.appendChild(I);const N=document.createElement("meta");N.name="apple-mobile-web-app-status-bar-style",N.content="default",document.head.appendChild(N);const M=document.createElement("meta");M.name="apple-mobile-web-app-title",M.content="Math Adventure",document.head.appendChild(M);const F=document.createElement("link");return F.rel="apple-touch-icon",document.head.appendChild(F),()=>{F.parentNode&&F.remove()}},[c]);const[p,g]=S.useState(0);S.useEffect(()=>{a!=null&&a.email&&g(0)},[a==null?void 0:a.email]);const v=NX(zb(new Date),"yyyy-MM-dd"),{data:C=[]}=Gq({queryKey:["dailyChallenges",v],initialData:[],enabled:!!a});if(e==="Landing")return x.jsx(x.Fragment,{children:t});if(e==="Home"&&!a)return x.jsx(x.Fragment,{children:t});if(!a)return u?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center max-w-md w-full",children:[x.jsx(pk,{size:"xl",variant:"circle",className:"mx-auto mb-6"}),x.jsx("h1",{className:"text-4xl font-extrabold text-white mb-3 drop-shadow-2xl",children:"Math Adventure"}),x.jsx("p",{className:"text-lg text-white mb-6 drop-shadow-lg",children:"Sign in or create an account to start."}),x.jsx(Bj,{})]})});const _=C.some(H=>H.created_by===(a==null?void 0:a.email)),k=a?{avatar_skin_tone:a.avatar_skin_tone||"medium",avatar_hair_style:a.avatar_hair_style||"short",avatar_hair_color:a.avatar_hair_color||"brown",avatar_eyes:a.avatar_eyes||"normal",avatar_outfit:a.avatar_outfit||"casual",avatar_accessory:a.avatar_accessory||"none"}:null,T=a==null?void 0:a.active_pet,A=T?{id:T,name:"Pet",emoji:T==="dragon"?"":T==="owl"?"":T==="fox"?"":"",gradient:T==="dragon"?"from-red-400 to-orange-500":T==="owl"?"from-indigo-400 to-purple-500":T==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500",evolveLevel:5}:null,P=(a==null?void 0:a.subscription_tier)||"free",O=P!=="free",U=async()=>{const H=cy(ys);await tV(H),localStorage.clear(),window.location.href="/"},z=({to:H,icon:j,label:I,badge:N,badgeColor:M="red",isDarkMode:F})=>{const q=r.pathname===nt(H);return x.jsxs(ft,{to:nt(H),onClick:()=>i(!1),className:`relative flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${q?"bg-purple-500 text-white shadow-lg":F?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[x.jsx(j,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:I}),N&&x.jsx(Br,{className:`absolute -top-1 -right-1 bg-${M}-500 text-white text-xs px-1.5 py-0.5 ${M==="red"?"animate-pulse":""}`,children:N})]})};return x.jsxs("div",{className:`min-h-screen ${c?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[x.jsx(ZW,{}),x.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${c?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),x.jsx("header",{className:`${c?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:x.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-2 md:py-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(ft,{to:nt("Home"),className:"flex items-center gap-3",children:[x.jsx(pk,{size:"md",variant:"circle"}),x.jsx("div",{children:x.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${c&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[a&&x.jsx(ft,{to:nt("Home"),className:"hidden md:inline-block",children:x.jsxs(Xs,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold shadow-lg",children:[x.jsx(kj,{className:"w-4 h-4 mr-2"}),"Play Now"]})}),a&&x.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white px-3 py-2 rounded-xl shadow-md",children:[x.jsx(n2,{className:"w-4 h-4"}),x.jsx("span",{className:"font-bold text-sm",children:a.coins||0})]}),P!=="free"?x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(Br,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 px-3 py-1.5 cursor-pointer",children:[x.jsx(pl,{className:"w-3 h-3 mr-1"}),P==="family_teacher"?"Family":P==="premium_player"?"Premium":"Parent"]})}):x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(Br,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 px-3 py-1.5 cursor-pointer animate-pulse",children:[x.jsx(pl,{className:"w-3 h-3 mr-1"}),"Upgrade"]})}),a&&x.jsx("div",{className:"hidden lg:block",children:x.jsxs(xY,{children:[x.jsx(SY,{asChild:!0,children:x.jsx(Xs,{variant:"ghost",className:`${c?"hover:bg-slate-700 text-gray-50":"hover:bg-purple-50 text-gray-900"} h-auto p-2`,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex items-center gap-1",children:x.jsx(rg,{children:x.jsxs(hn.Suspense,{fallback:x.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 animate-pulse"}),children:[k&&x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(ww,{avatarData:k,size:"small"})}),A&&x.jsx("div",{className:"scale-50 origin-center -ml-2",children:x.jsx(jX,{pet:A,experience:((n=a==null?void 0:a.pet_experience)==null?void 0:n[T])||0,size:"small"})})]})})}),x.jsxs("div",{className:"text-left",children:[x.jsx("p",{className:`text-sm font-semibold ${c?"text-gray-50":"text-gray-900"}`,children:a.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:a.email})]}),x.jsx(l$,{className:`w-4 h-4 ${c?"text-gray-300":"text-gray-500"}`})]})})}),x.jsxs(PO,{align:"end",className:`${c?"bg-slate-800 border-slate-700 text-gray-50":"bg-white"} w-56`,children:[x.jsx(jO,{children:x.jsxs("div",{className:"flex flex-col space-y-1",children:[x.jsx("p",{className:`text-sm font-medium ${c?"text-gray-50":"text-gray-900"}`,children:a.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:a.email})]})}),x.jsx(ng,{className:c?"bg-slate-700":""}),x.jsx(Fr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Avatar"),className:"cursor-pointer",children:[x.jsx(iw,{className:"w-4 h-4 mr-2"}),"View Profile"]})}),x.jsx(Fr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Messages"),className:"cursor-pointer",children:[x.jsx(u2,{className:"w-4 h-4 mr-2"}),"Messages",p>0&&x.jsx(Br,{className:"ml-auto bg-blue-500 text-white text-xs",children:p})]})}),x.jsx(Fr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("DailyChallenge"),className:"cursor-pointer",children:[x.jsx(nw,{className:"w-4 h-4 mr-2"}),"Daily Challenge",!_&&x.jsx(Br,{className:"ml-auto bg-red-500 text-white text-xs animate-pulse",children:"!"})]})}),x.jsx(Fr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("AITutor"),className:"cursor-pointer",children:[x.jsx(Xm,{className:"w-4 h-4 mr-2"}),"AI Tutor"]})}),x.jsx(Fr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Progress"),className:"cursor-pointer",children:[x.jsx(s$,{className:"w-4 h-4 mr-2"}),"Progress & Stats"]})}),x.jsx(Fr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Shop"),className:"cursor-pointer",children:[x.jsx(rw,{className:"w-4 h-4 mr-2"}),"Rewards Shop"]})}),x.jsx(Fr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("ParentPortal"),className:"cursor-pointer",children:[x.jsx(i2,{className:"w-4 h-4 mr-2"}),"Parent Portal",(a==null?void 0:a.is_parent_mode)&&x.jsx(Br,{className:"ml-2 bg-blue-500 text-white text-xs",children:"ON"})]})}),x.jsx(ng,{className:c?"bg-slate-700":""}),x.jsx(Fr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Settings"),className:"cursor-pointer",children:[x.jsx(c2,{className:"w-4 h-4 mr-2"}),"App Settings"]})}),x.jsx(Fr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer",children:[x.jsx(x$,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})}),O&&(a==null?void 0:a.subscription_auto_renew)!==!1&&x.jsx(Fr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer text-orange-600 focus:text-orange-600",children:[x.jsx(p$,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})}),x.jsx(ng,{className:c?"bg-slate-700":""}),x.jsxs(Fr,{onClick:U,className:`${c?"text-red-400 focus:bg-slate-700 focus:text-red-400":"text-red-600 focus:text-red-600"} cursor-pointer`,children:[x.jsx(l2,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),x.jsx(Xs,{variant:"ghost",size:"icon",onClick:()=>i(!s),className:`lg:hidden ${c?"text-gray-50 hover:bg-slate-700":""}`,children:s?x.jsx(B1,{className:"w-6 h-6"}):x.jsx(j$,{className:"w-6 h-6"})})]})]}),s&&x.jsxs("div",{className:`mt-4 pb-4 space-y-2 border-t pt-4 max-h-[calc(100vh-140px)] overflow-y-auto ${c?"border-slate-700":""}`,children:[a&&x.jsxs("div",{className:`${c?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx(hn.Suspense,{fallback:null,children:k&&x.jsx("div",{className:"scale-90 origin-center",children:x.jsx(ww,{avatarData:k,size:"small"})})}),x.jsxs("div",{children:[x.jsx("p",{className:`font-bold ${c?"text-gray-50":"text-gray-900"}`,children:a.full_name||"Player"}),x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:a.email})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(Br,{className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white",children:[x.jsx(n2,{className:"w-3 h-3 mr-1"}),a.coins||0," Coins"]}),P!=="free"&&x.jsxs(Br,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[x.jsx(pl,{className:"w-3 h-3 mr-1"}),P==="family_teacher"?"Family":P==="premium_player"?"Premium":"Parent"]})]})]}),x.jsx(z,{to:"Home",icon:a2,label:"Home",isDarkMode:c}),x.jsx(z,{to:"DailyChallenge",icon:nw,label:"Daily Challenge",badge:_?null:"!",isDarkMode:c}),x.jsx(z,{to:"Progress",icon:_b,label:"Progress",isDarkMode:c}),x.jsx(z,{to:"AITutor",icon:Xm,label:"AI Tutor",isDarkMode:c}),x.jsx(z,{to:"Messages",icon:u2,label:"Messages",badge:p>0?p:null,badgeColor:"blue",isDarkMode:c}),x.jsx(z,{to:"Leaderboards",icon:e$,label:"Leaderboards",isDarkMode:c}),x.jsx(z,{to:"Shop",icon:rw,label:"Shop",isDarkMode:c}),x.jsx(z,{to:"TeamChallenges",icon:Ib,label:"Team Challenges",isDarkMode:c}),x.jsx(z,{to:"ParentPortal",icon:i2,label:"Parent Portal",badge:a!=null&&a.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:c}),x.jsx(z,{to:"Avatar",icon:iw,label:"Profile",isDarkMode:c}),x.jsx("div",{className:`pt-2 mt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Settings"),onClick:()=>i(!1),children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-gradient-to-r from-gray-700 to-gray-800 text-gray-50 hover:bg-gray-700":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[x.jsx(c2,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"App Settings"})]})})}),x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Subscription"),onClick:()=>i(!1),className:"w-full block",children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${P!=="free"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 text-white animate-pulse"}`,children:[x.jsx(pl,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:P!=="free"?"Manage Subscription":"Upgrade to Premium"})]})})}),a&&x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsxs("button",{onClick:()=>{i(!1),U()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[x.jsx(l2,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]})}),x.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${c?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:x.jsxs("div",{className:"grid grid-cols-5 gap-1 px-2 py-2",children:[x.jsxs(ft,{to:nt("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Home")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(a2,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),x.jsxs(ft,{to:nt("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("DailyChallenge")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(nw,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!_&&x.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),x.jsxs(ft,{to:nt("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("AITutor")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(Xm,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),x.jsxs(ft,{to:nt("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Shop")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(rw,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),x.jsx(ft,{to:nt("Avatar"),className:`flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Avatar")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:k?x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(ww,{avatarData:k,size:"small"})}):x.jsx(iw,{className:"w-6 h-6"})})]})}),x.jsx(rg,{children:x.jsx(hn.Suspense,{fallback:null,children:x.jsx(RX,{})})}),x.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:x.jsx(rg,{children:x.jsx(hn.Suspense,{fallback:x.jsx("div",{className:"min-h-[40vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-3"}),x.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),children:t})})}),x.jsx("footer",{className:`${c?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:x.jsx("div",{className:"max-w-7xl mx-auto px-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),x.jsx("p",{className:`text-xs ${c?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[x.jsx(ft,{to:nt("PrivacyPolicy"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx(ft,{to:nt("Subscription"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}const MX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));MX.displayName="Card";const LX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex flex-col space-y-1.5 p-6",t),...e}));LX.displayName="CardHeader";const VX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("font-semibold leading-none tracking-tight",t),...e}));VX.displayName="CardTitle";const FX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm text-muted-foreground",t),...e}));FX.displayName="CardDescription";const UX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("p-6 pt-0",t),...e}));UX.displayName="CardContent";const BX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex items-center p-6 pt-0",t),...e}));BX.displayName="CardFooter";const VO=S.createContext({});function zX(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const oS=typeof window<"u",qX=oS?S.useLayoutEffect:S.useEffect,aS=S.createContext(null);function lS(t,e){t.indexOf(e)===-1&&t.push(e)}function uS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Gi=(t,e,n)=>n>e?e:n<t?t:n;let cS=()=>{};const Ki={},FO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function UO(t){return typeof t=="object"&&t!==null}const BO=t=>/^0[^.\s]+$/u.test(t);function dS(t){let e;return()=>(e===void 0&&(e=t()),e)}const Qr=t=>t,$X=(t,e)=>n=>e(t(n)),Uf=(...t)=>t.reduce($X),uf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class hS{constructor(){this.subscriptions=[]}add(e){return lS(this.subscriptions,e),()=>uS(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zs=t=>t*1e3,Hr=t=>t/1e3;function zO(t,e){return e?t*(1e3/e):0}const qO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,WX=1e-7,HX=12;function GX(t,e,n,r,s){let i,a,u=0;do a=e+(n-e)/2,i=qO(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>WX&&++u<HX);return a}function Bf(t,e,n,r){if(t===e&&n===r)return Qr;const s=i=>GX(i,0,1,t,n);return i=>i===0||i===1?i:qO(s(i),e,r)}const $O=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,WO=t=>e=>1-t(1-e),HO=Bf(.33,1.53,.69,.99),fS=WO(HO),GO=$O(fS),KO=t=>(t*=2)<1?.5*fS(t):.5*(2-Math.pow(2,-10*(t-1))),pS=t=>1-Math.sin(Math.acos(t)),QO=WO(pS),YO=$O(pS),KX=Bf(.42,0,1,1),QX=Bf(0,0,.58,1),XO=Bf(.42,0,.58,1),YX=t=>Array.isArray(t)&&typeof t[0]!="number",JO=t=>Array.isArray(t)&&typeof t[0]=="number",XX={linear:Qr,easeIn:KX,easeInOut:XO,easeOut:QX,circIn:pS,circInOut:YO,circOut:QO,backIn:fS,backInOut:GO,backOut:HO,anticipate:KO},JX=t=>typeof t=="string",K2=t=>{if(JO(t)){cS(t.length===4);const[e,n,r,s]=t;return Bf(e,n,r,s)}else if(JX(t))return XX[t];return t},Am=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ZX(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(h.schedule(p),t()),p(u)}const h={schedule:(p,g=!1,v=!1)=>{const C=v&&s?n:r;return g&&a.add(p),C.has(p)||C.add(p),p},cancel:p=>{r.delete(p),a.delete(p)},process:p=>{if(u=p,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,h.process(p))}};return h}const eJ=40;function ZO(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Am.reduce((A,P)=>(A[P]=ZX(i),A),{}),{setup:u,read:c,resolveKeyframes:h,preUpdate:p,update:g,preRender:v,render:C,postRender:_}=a,k=()=>{const A=Ki.useManualTiming?s.timestamp:performance.now();n=!1,Ki.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(A-s.timestamp,eJ),1)),s.timestamp=A,s.isProcessing=!0,u.process(s),c.process(s),h.process(s),p.process(s),g.process(s),v.process(s),C.process(s),_.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(k))},T=()=>{n=!0,r=!0,s.isProcessing||t(k)};return{schedule:Am.reduce((A,P)=>{const O=a[P];return A[P]=(U,z=!1,H=!1)=>(n||T(),O.schedule(U,z,H)),A},{}),cancel:A=>{for(let P=0;P<Am.length;P++)a[Am[P]].cancel(A)},state:s,steps:a}}const{schedule:St,cancel:da,state:kn,steps:bw}=ZO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qr,!0);let sg;function tJ(){sg=void 0}const lr={now:()=>(sg===void 0&&lr.set(kn.isProcessing||Ki.useManualTiming?kn.timestamp:performance.now()),sg),set:t=>{sg=t,queueMicrotask(tJ)}},eM=t=>e=>typeof e=="string"&&e.startsWith(t),mS=eM("--"),nJ=eM("var(--"),gS=t=>nJ(t)?rJ.test(t.split("/*")[0].trim()):!1,rJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Kc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cf={...Kc,transform:t=>Gi(0,1,t)},Nm={...Kc,default:1},Ph=t=>Math.round(t*1e5)/1e5,yS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sJ(t){return t==null}const iJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vS=(t,e)=>n=>!!(typeof n=="string"&&iJ.test(n)&&n.startsWith(t)||e&&!sJ(n)&&Object.prototype.hasOwnProperty.call(n,e)),tM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,u]=r.match(yS);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},oJ=t=>Gi(0,255,t),xw={...Kc,transform:t=>Math.round(oJ(t))},ml={test:vS("rgb","red"),parse:tM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+xw.transform(t)+", "+xw.transform(e)+", "+xw.transform(n)+", "+Ph(cf.transform(r))+")"};function aJ(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const qb={test:vS("#"),parse:aJ,transform:ml.transform},zf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$o=zf("deg"),ei=zf("%"),Me=zf("px"),lJ=zf("vh"),uJ=zf("vw"),Q2={...ei,parse:t=>ei.parse(t)/100,transform:t=>ei.transform(t*100)},oc={test:vS("hsl","hue"),parse:tM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ei.transform(Ph(e))+", "+ei.transform(Ph(n))+", "+Ph(cf.transform(r))+")"},on={test:t=>ml.test(t)||qb.test(t)||oc.test(t),parse:t=>ml.test(t)?ml.parse(t):oc.test(t)?oc.parse(t):qb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ml.transform(t):oc.transform(t),getAnimatableNone:t=>{const e=on.parse(t);return e.alpha=0,on.transform(e)}},cJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dJ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(yS))==null?void 0:e.length)||0)+(((n=t.match(cJ))==null?void 0:n.length)||0)>0}const nM="number",rM="color",hJ="var",fJ="var(",Y2="${}",pJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function df(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(pJ,u=>(on.test(u)?(r.color.push(i),s.push(rM),n.push(on.parse(u))):u.startsWith(fJ)?(r.var.push(i),s.push(hJ),n.push(u)):(r.number.push(i),s.push(nM),n.push(parseFloat(u))),++i,Y2)).split(Y2);return{values:n,split:a,indexes:r,types:s}}function sM(t){return df(t).values}function iM(t){const{split:e,types:n}=df(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const u=n[a];u===nM?i+=Ph(s[a]):u===rM?i+=on.transform(s[a]):i+=s[a]}return i}}const mJ=t=>typeof t=="number"?0:on.test(t)?on.getAnimatableNone(t):t;function gJ(t){const e=sM(t);return iM(t)(e.map(mJ))}const ha={test:dJ,parse:sM,createTransformer:iM,getAnimatableNone:gJ};function Sw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yJ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;s=Sw(c,u,t+1/3),i=Sw(c,u,t),a=Sw(c,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Jg(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,Cw=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},vJ=[qb,ml,oc],wJ=t=>vJ.find(e=>e.test(t));function X2(t){const e=wJ(t);if(!e)return!1;let n=e.parse(t);return e===oc&&(n=yJ(n)),n}const J2=(t,e)=>{const n=X2(t),r=X2(e);if(!n||!r)return Jg(t,e);const s={...n};return i=>(s.red=Cw(n.red,r.red,i),s.green=Cw(n.green,r.green,i),s.blue=Cw(n.blue,r.blue,i),s.alpha=_t(n.alpha,r.alpha,i),ml.transform(s))},$b=new Set(["none","hidden"]);function bJ(t,e){return $b.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function xJ(t,e){return n=>_t(t,e,n)}function wS(t){return typeof t=="number"?xJ:typeof t=="string"?gS(t)?Jg:on.test(t)?J2:EJ:Array.isArray(t)?oM:typeof t=="object"?on.test(t)?J2:SJ:Jg}function oM(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>wS(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function SJ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=wS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function CJ(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],u=t.values[a]??0;n[s]=u,r[i]++}return n}const EJ=(t,e)=>{const n=ha.createTransformer(e),r=df(t),s=df(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?$b.has(t)&&!s.values.length||$b.has(e)&&!r.values.length?bJ(t,e):Uf(oM(CJ(r,s),s.values),n):Jg(t,e)};function aM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):wS(t)(t,e)}const kJ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>St.update(e,n),stop:()=>da(e),now:()=>kn.isProcessing?kn.timestamp:lr.now()}},lM=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Zg=2e4;function bS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Zg;)e+=n,r=t.next(e);return e>=Zg?1/0:e}function TJ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(bS(r),Zg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Hr(s)}}const _J=5;function uM(t,e,n){const r=Math.max(e-_J,0);return zO(n-t(r),e-r)}const jt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ew=.001;function IJ({duration:t=jt.duration,bounce:e=jt.bounce,velocity:n=jt.velocity,mass:r=jt.mass}){let s,i,a=1-e;a=Gi(jt.minDamping,jt.maxDamping,a),t=Gi(jt.minDuration,jt.maxDuration,Hr(t)),a<1?(s=h=>{const p=h*a,g=p*t,v=p-n,C=Wb(h,a),_=Math.exp(-g);return Ew-v/C*_},i=h=>{const p=h*a*t,g=p*n+n,v=Math.pow(a,2)*Math.pow(h,2)*t,C=Math.exp(-p),_=Wb(Math.pow(h,2),a);return(-s(h)+Ew>0?-1:1)*((g-v)*C)/_}):(s=h=>{const p=Math.exp(-h*t),g=(h-n)*t+1;return-Ew+p*g},i=h=>{const p=Math.exp(-h*t),g=(n-h)*(t*t);return p*g});const u=5/t,c=AJ(s,i,u);if(t=Zs(t),isNaN(c))return{stiffness:jt.stiffness,damping:jt.damping,duration:t};{const h=Math.pow(c,2)*r;return{stiffness:h,damping:a*2*Math.sqrt(r*h),duration:t}}}const DJ=12;function AJ(t,e,n){let r=n;for(let s=1;s<DJ;s++)r=r-t(r)/e(r);return r}function Wb(t,e){return t*Math.sqrt(1-e*e)}const NJ=["duration","bounce"],PJ=["stiffness","damping","mass"];function Z2(t,e){return e.some(n=>t[n]!==void 0)}function jJ(t){let e={velocity:jt.velocity,stiffness:jt.stiffness,damping:jt.damping,mass:jt.mass,isResolvedFromDuration:!1,...t};if(!Z2(t,PJ)&&Z2(t,NJ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Gi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:jt.mass,stiffness:s,damping:i}}else{const n=IJ(t);e={...e,...n,mass:jt.mass},e.isResolvedFromDuration=!0}return e}function ey(t=jt.visualDuration,e=jt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:c,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:C}=jJ({...n,velocity:-Hr(n.velocity||0)}),_=v||0,k=h/(2*Math.sqrt(c*p)),T=a-i,A=Hr(Math.sqrt(c/p)),P=Math.abs(T)<5;r||(r=P?jt.restSpeed.granular:jt.restSpeed.default),s||(s=P?jt.restDelta.granular:jt.restDelta.default);let O;if(k<1){const z=Wb(A,k);O=H=>{const j=Math.exp(-k*A*H);return a-j*((_+k*A*T)/z*Math.sin(z*H)+T*Math.cos(z*H))}}else if(k===1)O=z=>a-Math.exp(-A*z)*(T+(_+A*T)*z);else{const z=A*Math.sqrt(k*k-1);O=H=>{const j=Math.exp(-k*A*H),I=Math.min(z*H,300);return a-j*((_+k*A*T)*Math.sinh(I)+z*T*Math.cosh(I))/z}}const U={calculatedDuration:C&&g||null,next:z=>{const H=O(z);if(C)u.done=z>=g;else{let j=z===0?_:0;k<1&&(j=z===0?Zs(_):uM(O,z,H));const I=Math.abs(j)<=r,N=Math.abs(a-H)<=s;u.done=I&&N}return u.value=u.done?a:H,u},toString:()=>{const z=Math.min(bS(U),Zg),H=lM(j=>U.next(z*j).value,z,30);return z+"ms "+H},toTransition:()=>{}};return U}ey.applyToOptions=t=>{const e=TJ(t,100,ey);return t.ease=e.ease,t.duration=Zs(e.duration),t.type="keyframes",t};function Hb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:u,max:c,restDelta:h=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},C=I=>u!==void 0&&I<u||c!==void 0&&I>c,_=I=>u===void 0?c:c===void 0||Math.abs(u-I)<Math.abs(c-I)?u:c;let k=n*e;const T=g+k,A=a===void 0?T:a(T);A!==T&&(k=A-g);const P=I=>-k*Math.exp(-I/r),O=I=>A+P(I),U=I=>{const N=P(I),M=O(I);v.done=Math.abs(N)<=h,v.value=v.done?A:M};let z,H;const j=I=>{C(v.value)&&(z=I,H=ey({keyframes:[v.value,_(v.value)],velocity:uM(O,I,v.value),damping:s,stiffness:i,restDelta:h,restSpeed:p}))};return j(0),{calculatedDuration:null,next:I=>{let N=!1;return!H&&z===void 0&&(N=!0,U(I),j(I)),z!==void 0&&I>=z?H.next(I-z):(!N&&U(I),v)}}}function RJ(t,e,n){const r=[],s=n||Ki.mix||aM,i=t.length-1;for(let a=0;a<i;a++){let u=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Qr:e;u=Uf(c,u)}r.push(u)}return r}function OJ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(cS(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=RJ(e,r,s),c=u.length,h=p=>{if(a&&p<t[0])return e[0];let g=0;if(c>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=uf(t[g],t[g+1],p);return u[g](v)};return n?p=>h(Gi(t[0],t[i-1],p)):h}function MJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=uf(0,e,r);t.push(_t(n,1,s))}}function LJ(t){const e=[0];return MJ(e,t.length-1),e}function VJ(t,e){return t.map(n=>n*e)}function FJ(t,e){return t.map(()=>e||XO).splice(0,t.length-1)}function jh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=YX(r)?r.map(K2):K2(r),i={done:!1,value:e[0]},a=VJ(n&&n.length===e.length?n:LJ(e),t),u=OJ(a,e,{ease:Array.isArray(s)?s:FJ(e,s)});return{calculatedDuration:t,next:c=>(i.value=u(c),i.done=c>=t,i)}}const UJ=t=>t!==null;function xS(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(UJ),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const BJ={decay:Hb,inertia:Hb,tween:jh,keyframes:jh,spring:ey};function cM(t){typeof t.type=="string"&&(t.type=BJ[t.type])}class SS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const zJ=t=>t/100;class CS extends SS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==lr.now()&&this.tick(lr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;cM(e);const{type:n=jh,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:u}=e;const c=n||jh;c!==jh&&typeof u[0]!="number"&&(this.mixKeyframes=Uf(zJ,aM(u[0],u[1])),u=[0,100]);const h=c({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=bS(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:C,type:_,onUpdate:k,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-h*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?A<0:A>s;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let O=this.currentTime,U=r;if(g){const I=Math.min(this.currentTime,s)/u;let N=Math.floor(I),M=I%1;!M&&I>=1&&(M=1),M===1&&N--,N=Math.min(N,g+1),N%2&&(v==="reverse"?(M=1-M,C&&(M-=C/u)):v==="mirror"&&(U=a)),O=Gi(0,1,M)*u}const z=P?{done:!1,value:p[0]}:U.next(O);i&&(z.value=i(z.value));let{done:H}=z;!P&&c!==null&&(H=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return j&&_!==Hb&&(z.value=xS(p,this.options,T,this.speed)),k&&k(z.value),j&&this.finish(),z}then(e,n){return this.finished.then(e,n)}get duration(){return Hr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Hr(e)}get time(){return Hr(this.currentTime)}set time(e){var n;e=Zs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(lr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Hr(this.currentTime))}play(){var e,n;if(this.isStopped)return;const{driver:r=kJ,startTime:s}=this.options;this.driver||(this.driver=r(a=>this.tick(a))),(n=(e=this.options).onPlay)==null||n.call(e);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(lr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function qJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const gl=t=>t*180/Math.PI,Gb=t=>{const e=gl(Math.atan2(t[1],t[0]));return Kb(e)},$J={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Gb,rotateZ:Gb,skewX:t=>gl(Math.atan(t[1])),skewY:t=>gl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Kb=t=>(t=t%360,t<0&&(t+=360),t),eI=Gb,tI=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),nI=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),WJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tI,scaleY:nI,scale:t=>(tI(t)+nI(t))/2,rotateX:t=>Kb(gl(Math.atan2(t[6],t[5]))),rotateY:t=>Kb(gl(Math.atan2(-t[2],t[0]))),rotateZ:eI,rotate:eI,skewX:t=>gl(Math.atan(t[4])),skewY:t=>gl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Qb(t){return t.includes("scale")?1:0}function Yb(t,e){if(!t||t==="none")return Qb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=WJ,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$J,s=u}if(!s)return Qb(e);const i=r[e],a=s[1].split(",").map(GJ);return typeof i=="function"?i(a):a[i]}const HJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Yb(n,e)};function GJ(t){return parseFloat(t.trim())}const Qc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yc=new Set(Qc),rI=t=>t===Kc||t===Me,KJ=new Set(["x","y","z"]),QJ=Qc.filter(t=>!KJ.has(t));function YJ(t){const e=[];return QJ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Sl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Yb(e,"x"),y:(t,{transform:e})=>Yb(e,"y")};Sl.translateX=Sl.x;Sl.translateY=Sl.y;const Cl=new Set;let Xb=!1,Jb=!1,Zb=!1;function dM(){if(Jb){const t=Array.from(Cl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=YJ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var u;(u=r.getValue(i))==null||u.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jb=!1,Xb=!1,Cl.forEach(t=>t.complete(Zb)),Cl.clear()}function hM(){Cl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Jb=!0)})}function XJ(){Zb=!0,hM(),dM(),Zb=!1}class ES{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Cl.add(this),Xb||(Xb=!0,St.read(hM),St.resolveKeyframes(dM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}qJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Cl.delete(this)}cancel(){this.state==="scheduled"&&(Cl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const JJ=t=>t.startsWith("--");function ZJ(t,e,n){JJ(e)?t.style.setProperty(e,n):t.style[e]=n}const eZ=dS(()=>window.ScrollTimeline!==void 0),tZ={};function nZ(t,e){const n=dS(t);return()=>tZ[e]??n()}const fM=nZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,sI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xh([0,.65,.55,1]),circOut:xh([.55,0,1,.45]),backIn:xh([.31,.01,.66,-.59]),backOut:xh([.33,1.53,.69,.99])};function pM(t,e){if(t)return typeof t=="function"?fM()?lM(t,e):"ease-out":JO(t)?xh(t):Array.isArray(t)?t.map(n=>pM(n,e)||sI.easeOut):sI[t]}function rZ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:u="easeOut",times:c}={},h=void 0){const p={[e]:n};c&&(p.offset=c);const g=pM(u,s);Array.isArray(g)&&(p.easing=g);const v={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),t.animate(p,v)}function mM(t){return typeof t=="function"&&"applyToOptions"in t}function sZ({type:t,...e}){return mM(t)&&fM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class iZ extends SS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,cS(typeof e.type!="string");const h=sZ(e);this.animation=rZ(n,r,s,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=xS(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):ZJ(n,r,p),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var e,n;const r=((n=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:n.call(e).duration)||0;return Hr(Number(r))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Hr(e)}get time(){return Hr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Zs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&eZ()?(this.animation.timeline=e,Qr):n(this)}}const gM={anticipate:KO,backInOut:GO,circInOut:YO};function oZ(t){return t in gM}function aZ(t){typeof t.ease=="string"&&oZ(t.ease)&&(t.ease=gM[t.ease])}const iI=10;class lZ extends iZ{constructor(e){aZ(e),cM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new CS({...a,autoplay:!1}),c=Zs(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-iI).value,u.sample(c).value,iI),u.stop()}}const oI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ha.test(t)||t==="0")&&!t.startsWith("url("));function uZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function cZ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=oI(s,e),u=oI(i,e);return!a||!u?!1:uZ(t)||(n==="spring"||mM(n))&&r}function ex(t){t.duration=0,t.type="keyframes"}const dZ=new Set(["opacity","clipPath","filter","transform"]),hZ=dS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fZ(t){var e;const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:u}=t;if(!(((e=n==null?void 0:n.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=n.owner.getProps();return hZ()&&r&&dZ.has(r)&&(r!=="transform"||!h)&&!c&&!s&&i!=="mirror"&&a!==0&&u!=="inertia"}const pZ=40;class mZ extends SS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:u,name:c,motionValue:h,element:p,...g}){var v;super(),this.stop=()=>{var k,T;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=lr.now();const C={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:h,element:p,...g},_=(p==null?void 0:p.KeyframeResolver)||ES;this.keyframeResolver=new _(u,(k,T,A)=>this.onKeyframesResolved(k,T,C,!A),c,h,p),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:u,delay:c,isHandoff:h,onUpdate:p}=r;this.resolvedAt=lr.now(),cZ(e,i,a,u)||((Ki.instantAnimations||!c)&&(p==null||p(xS(e,r,n))),e[0]=e[e.length-1],ex(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>pZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!h&&fZ(g)?new lZ({...g,element:g.motionValue.owner.current}):new CS(g);v.finished.then(()=>this.notifyFinished()).catch(Qr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),XJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const gZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yZ(t){const e=gZ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function yM(t,e,n=1){const[r,s]=yZ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return FO(a)?parseFloat(a):a}return gS(s)?yM(s,e,n+1):s}function kS(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const vM=new Set(["width","height","top","left","right","bottom",...Qc]),vZ={test:t=>t==="auto",parse:t=>t},wM=t=>e=>e.test(t),bM=[Kc,Me,ei,$o,uJ,lJ,vZ],aI=t=>bM.find(wM(t));function wZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||BO(t):!0}const bZ=new Set(["brightness","contrast","saturate","opacity"]);function xZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(yS)||[];if(!r)return t;const s=n.replace(r,"");let i=bZ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const SZ=/\b([a-z-]*)\(.*?\)/gu,tx={...ha,getAnimatableNone:t=>{const e=t.match(SZ);return e?e.map(xZ).join(" "):t}},lI={...Kc,transform:Math.round},CZ={rotate:$o,rotateX:$o,rotateY:$o,rotateZ:$o,scale:Nm,scaleX:Nm,scaleY:Nm,scaleZ:Nm,skew:$o,skewX:$o,skewY:$o,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:cf,originX:Q2,originY:Q2,originZ:Me},TS={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...CZ,zIndex:lI,fillOpacity:cf,strokeOpacity:cf,numOctaves:lI},EZ={...TS,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:tx,WebkitFilter:tx},xM=t=>EZ[t];function SM(t,e){let n=xM(t);return n!==tx&&(n=ha),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kZ=new Set(["auto","none","0"]);function TZ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!kZ.has(i)&&df(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=SM(n,s)}class _Z extends ES{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),gS(h))){const p=yM(h,n.current);p!==void 0&&(e[c]=p),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!vM.has(r)||e.length!==2)return;const[s,i]=e,a=aI(s),u=aI(i);if(a!==u)if(rI(a)&&rI(u))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else Sl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||wZ(e[s]))&&r.push(s);r.length&&TZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,u=s[a];s[a]=Sl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([c,h])=>{n.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function IZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const CM=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function DZ(t){return UO(t)&&"offsetHeight"in t}const uI=30,AZ=t=>!isNaN(parseFloat(t));class NZ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=lr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=lr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=AZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hS);const r=this.events[e].add(n);return e==="change"?()=>{r(),St.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>uI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,uI);return zO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rc(t,e){return new NZ(t,e)}const{schedule:_S}=ZO(queueMicrotask,!1),us={x:!1,y:!1};function EM(){return us.x||us.y}function PZ(t){return t==="x"||t==="y"?us[t]?null:(us[t]=!0,()=>{us[t]=!1}):us.x||us.y?null:(us.x=us.y=!0,()=>{us.x=us.y=!1})}function kM(t,e){const n=IZ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function cI(t){return!(t.pointerType==="touch"||EM())}function jZ(t,e,n={}){const[r,s,i]=kM(t,n),a=u=>{if(!cI(u))return;const{target:c}=u,h=e(c,u);if(typeof h!="function"||!c)return;const p=g=>{cI(g)&&(h(g),c.removeEventListener("pointerleave",p))};c.addEventListener("pointerleave",p,s)};return r.forEach(u=>{u.addEventListener("pointerenter",a,s)}),i}const TM=(t,e)=>e?t===e?!0:TM(t,e.parentElement):!1,IS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,RZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OZ(t){return RZ.has(t.tagName)||t.tabIndex!==-1}const ig=new WeakSet;function dI(t){return e=>{e.key==="Enter"&&t(e)}}function kw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const MZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=dI(()=>{if(ig.has(n))return;kw(n,"down");const s=dI(()=>{kw(n,"up")}),i=()=>kw(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function hI(t){return IS(t)&&!EM()}function LZ(t,e,n={}){const[r,s,i]=kM(t,n),a=u=>{const c=u.currentTarget;if(!hI(u))return;ig.add(c);const h=e(c,u),p=(C,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),ig.has(c)&&ig.delete(c),hI(C)&&typeof h=="function"&&h(C,{success:_})},g=C=>{p(C,c===window||c===document||n.useGlobalTarget||TM(c,C.target))},v=C=>{p(C,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",a,s),DZ(u)&&(u.addEventListener("focus",c=>MZ(c,s)),!OZ(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function _M(t){return UO(t)&&"ownerSVGElement"in t}function VZ(t){return _M(t)&&t.tagName==="svg"}const Vn=t=>!!(t&&t.getVelocity),FZ=[...bM,on,ha],UZ=t=>FZ.find(wM(t)),IM=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function BZ(t=!0){const e=S.useContext(aS);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=S.useId();S.useEffect(()=>{if(t)return s(i)},[t]);const a=S.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const DM=S.createContext({strict:!1}),fI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Oc={};for(const t in fI)Oc[t]={isEnabled:e=>fI[t].some(n=>!!e[n])};function zZ(t){for(const e in t)Oc[e]={...Oc[e],...t[e]}}const qZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ty(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qZ.has(t)}let AM=t=>!ty(t);function $Z(t){typeof t=="function"&&(AM=e=>e.startsWith("on")?!ty(e):t(e))}try{$Z(require("@emotion/is-prop-valid").default)}catch{}function WZ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(AM(s)||n===!0&&ty(s)||!e&&!ty(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const nv=S.createContext({});function rv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function hf(t){return typeof t=="string"||Array.isArray(t)}const DS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AS=["initial",...DS];function sv(t){return rv(t.animate)||AS.some(e=>hf(t[e]))}function NM(t){return!!(sv(t)||t.variants)}function HZ(t,e){if(sv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||hf(n)?n:void 0,animate:hf(r)?r:void 0}}return t.inherit!==!1?e:{}}function GZ(t){const{initial:e,animate:n}=HZ(t,S.useContext(nv));return S.useMemo(()=>({initial:e,animate:n}),[pI(e),pI(n)])}function pI(t){return Array.isArray(t)?t.join(" "):t}const ff={};function KZ(t){for(const e in t)ff[e]=t[e],mS(e)&&(ff[e].isCSSVariable=!0)}function PM(t,{layout:e,layoutId:n}){return Yc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ff[t]||t==="opacity")}const QZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YZ=Qc.length;function XZ(t,e,n){let r="",s=!0;for(let i=0;i<YZ;i++){const a=Qc[i],u=t[a];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(a.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const h=CM(u,TS[a]);if(!c){s=!1;const p=QZ[a]||a;r+=`${p}(${h}) `}n&&(e[a]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function NS(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,u=!1;for(const c in e){const h=e[c];if(Yc.has(c)){a=!0;continue}else if(mS(c)){s[c]=h;continue}else{const p=CM(h,TS[c]);c.startsWith("origin")?(u=!0,i[c]=p):r[c]=p}}if(e.transform||(a||n?r.transform=XZ(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:h="50%",originZ:p=0}=i;r.transformOrigin=`${c} ${h} ${p}`}}const PS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jM(t,e,n){for(const r in e)!Vn(e[r])&&!PM(r,n)&&(t[r]=e[r])}function JZ({transformTemplate:t},e){return S.useMemo(()=>{const n=PS();return NS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ZZ(t,e){const n=t.style||{},r={};return jM(r,n,t),Object.assign(r,JZ(t,e)),r}function eee(t,e){const n={},r=ZZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const tee={offset:"stroke-dashoffset",array:"stroke-dasharray"},nee={offset:"strokeDashoffset",array:"strokeDasharray"};function ree(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?tee:nee;t[i.offset]=Me.transform(-r);const a=Me.transform(e),u=Me.transform(n);t[i.array]=`${a} ${u}`}function RM(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...u},c,h,p){if(NS(t,u,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&ree(g,s,i,a,!1)}const OM=()=>({...PS(),attrs:{}}),MM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function see(t,e,n,r){const s=S.useMemo(()=>{const i=OM();return RM(i,e,MM(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};jM(i,t.style,t),s.style={...i,...s.style}}return s}const iee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jS(t){return typeof t!="string"||t.includes("-")?!1:!!(iee.indexOf(t)>-1||/[A-Z]/u.test(t))}function oee(t,e,n,{latestValues:r},s,i=!1){const a=(jS(t)?see:eee)(e,r,s,t),u=WZ(e,typeof t=="string",i),c=t!==S.Fragment?{...u,...a,ref:n}:{},{children:h}=e,p=S.useMemo(()=>Vn(h)?h.get():h,[h]);return S.createElement(t,{...c,children:p})}function mI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function RS(t,e,n,r){if(typeof e=="function"){const[s,i]=mI(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=mI(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function og(t){return Vn(t)?t.get():t}function aee({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:lee(n,r,s,t),renderState:e()}}function lee(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=og(i[v]);let{initial:a,animate:u}=t;const c=sv(t),h=NM(t);e&&h&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const g=p?u:a;if(g&&typeof g!="boolean"&&!rv(g)){const v=Array.isArray(g)?g:[g];for(let C=0;C<v.length;C++){const _=RS(t,v[C]);if(_){const{transitionEnd:k,transition:T,...A}=_;for(const P in A){let O=A[P];if(Array.isArray(O)){const U=p?O.length-1:0;O=O[U]}O!==null&&(s[P]=O)}for(const P in k)s[P]=k[P]}}}return s}const LM=t=>(e,n)=>{const r=S.useContext(nv),s=S.useContext(aS),i=()=>aee(t,e,r,s);return n?i():zX(i)};function OS(t,e,n){var r;const{style:s}=t,i={};for(const a in s)(Vn(s[a])||e.style&&Vn(e.style[a])||PM(a,t)||((r=n==null?void 0:n.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}const uee=LM({scrapeMotionValuesFromProps:OS,createRenderState:PS});function VM(t,e,n){const r=OS(t,e,n);for(const s in t)if(Vn(t[s])||Vn(e[s])){const i=Qc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const cee=LM({scrapeMotionValuesFromProps:VM,createRenderState:OM}),dee=Symbol.for("motionComponentSymbol");function ac(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function hee(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ac(n)&&(n.current=r))},[e])}const MS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fee="framerAppearId",FM="data-"+MS(fee),UM=S.createContext({});function pee(t,e,n,r,s){var i,a;const{visualElement:u}=S.useContext(nv),c=S.useContext(DM),h=S.useContext(aS),p=S.useContext(IM).reducedMotion,g=S.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,C=S.useContext(UM);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&mee(g.current,n,s,C);const _=S.useRef(!1);S.useInsertionEffect(()=>{v&&_.current&&v.update(n,h)});const k=n[FM],T=S.useRef(!!k&&!((i=window.MotionHandoffIsComplete)!=null&&i.call(window,k))&&((a=window.MotionHasOptimisedAnimation)==null?void 0:a.call(window,k)));return qX(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),T.current&&v.animationState&&v.animationState.animateChanges())}),S.useEffect(()=>{v&&(!T.current&&v.animationState&&v.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,k)}),T.current=!1),v.enteringChildren=void 0)}),v}function mee(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:u,layoutScroll:c,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:BM(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||u&&ac(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:c,layoutRoot:h})}function BM(t){if(t)return t.options.allowProjection!==!1?t.projection:BM(t.parent)}function Tw(t,{forwardMotionProps:e=!1}={},n,r){n&&zZ(n);const s=jS(t)?cee:uee;function i(u,c){let h;const p={...S.useContext(IM),...u,layoutId:gee(u)},{isStatic:g}=p,v=GZ(u),C=s(u,g);if(!g&&oS){yee();const _=vee(p);h=_.MeasureLayout,v.visualElement=pee(t,C,p,r,_.ProjectionNode)}return x.jsxs(nv.Provider,{value:v,children:[h&&v.visualElement?x.jsx(h,{visualElement:v.visualElement,...p}):null,oee(t,u,hee(C,v.visualElement,c),C,g,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=S.forwardRef(i);return a[dee]=t,a}function gee({layoutId:t}){const e=S.useContext(VO).id;return e&&t!==void 0?e+"-"+t:t}function yee(t,e){S.useContext(DM).strict}function vee(t){const{drag:e,layout:n}=Oc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function wee(t,e){if(typeof Proxy>"u")return Tw;const n=new Map,r=(i,a)=>Tw(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,Tw(a,void 0,t,e)),n.get(a))})}function zM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function bee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xee(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _w(t){return t===void 0||t===1}function nx({scale:t,scaleX:e,scaleY:n}){return!_w(t)||!_w(e)||!_w(n)}function ol(t){return nx(t)||qM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function qM(t){return gI(t.x)||gI(t.y)}function gI(t){return t&&t!=="0%"}function ny(t,e,n){const r=t-n,s=e*r;return n+s}function yI(t,e,n,r,s){return s!==void 0&&(t=ny(t,s,r)),ny(t,n,r)+e}function rx(t,e=0,n=1,r,s){t.min=yI(t.min,e,n,r,s),t.max=yI(t.max,e,n,r,s)}function $M(t,{x:e,y:n}){rx(t.x,e.translate,e.scale,e.originPoint),rx(t.y,n.translate,n.scale,n.originPoint)}const vI=.999999999999,wI=1.0000000000001;function See(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let u=0;u<s;u++){i=n[u],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&uc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,$M(t,a)),r&&ol(i.latestValues)&&uc(t,i.latestValues))}e.x<wI&&e.x>vI&&(e.x=1),e.y<wI&&e.y>vI&&(e.y=1)}function lc(t,e){t.min=t.min+e,t.max=t.max+e}function bI(t,e,n,r,s=.5){const i=_t(t.min,t.max,s);rx(t,e,n,i,r)}function uc(t,e){bI(t.x,e.x,e.scaleX,e.scale,e.originX),bI(t.y,e.y,e.scaleY,e.scale,e.originY)}function WM(t,e){return zM(xee(t.getBoundingClientRect(),e))}function Cee(t,e,n){const r=WM(t,n),{scroll:s}=e;return s&&(lc(r.x,s.offset.x),lc(r.y,s.offset.y)),r}const xI=()=>({translate:0,scale:1,origin:0,originPoint:0}),cc=()=>({x:xI(),y:xI()}),SI=()=>({min:0,max:0}),tn=()=>({x:SI(),y:SI()}),sx={current:null},HM={current:!1};function Eee(){if(HM.current=!0,!!oS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>sx.current=t.matches;t.addEventListener("change",e),e()}else sx.current=!1}const kee=new WeakMap;function Tee(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Vn(s))t.addValue(r,s);else if(Vn(i))t.addValue(r,Rc(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Rc(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const CI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _ee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ES,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=lr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,St.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=sv(n),this.isVariantNode=NM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const C=g[v];c[v]!==void 0&&Vn(C)&&C.set(c[v])}}mount(e){var n;this.current=e,kee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),HM.current||Eee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sx.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),da(this.notifyUpdate),da(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Yc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&St.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Oc){const n=Oc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CI.length;r++){const s=CI[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Tee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Rc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(FO(r)||BO(r))?r=parseFloat(r):!UZ(r)&&ha.test(n)&&(r=SM(e,n)),this.setBaseTarget(e,Vn(r)?r.get():r)),Vn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=RS(this.props,r,(n=this.presenceContext)==null?void 0:n.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Vn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){_S.render(this.render)}}class GM extends _ee{constructor(){super(...arguments),this.KeyframeResolver=_Z}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function KM(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function Iee(t){return window.getComputedStyle(t)}class Dee extends GM{constructor(){super(...arguments),this.type="html",this.renderInstance=KM}readValueFromInstance(e,n){var r;if(Yc.has(n))return(r=this.projection)!=null&&r.isProjecting?Qb(n):HJ(e,n);{const s=Iee(e),i=(mS(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return WM(e,n)}build(e,n,r){NS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return OS(e,n,r)}}const QM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Aee(t,e,n,r){KM(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(QM.has(s)?s:MS(s),e.attrs[s])}class Nee extends GM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yc.has(n)){const r=xM(n);return r&&r.default||0}return n=QM.has(n)?n:MS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return VM(e,n,r)}build(e,n,r){RM(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Aee(e,n,r,s)}mount(e){this.isSVGTag=MM(e.tagName),super.mount(e)}}const Pee=(t,e)=>jS(t)?new Nee(e):new Dee(e,{allowProjection:t!==S.Fragment});function vc(t,e,n){const r=t.getProps();return RS(r,e,n!==void 0?n:r.custom,t)}const ix=t=>Array.isArray(t);function jee(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Rc(n))}function Ree(t){return ix(t)?t[t.length-1]||0:t}function Oee(t,e){const n=vc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const u=Ree(i[a]);jee(t,a,u)}}function Mee(t){return!!(Vn(t)&&t.add)}function ox(t,e){const n=t.getValue("willChange");if(Mee(n))return n.add(e);if(!n&&Ki.WillChange){const r=new Ki.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function YM(t){return t.props[FM]}const Lee=t=>t!==null;function Vee(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Lee),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const Fee={type:"spring",stiffness:500,damping:25,restSpeed:10},Uee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Bee={type:"keyframes",duration:.8},zee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qee=(t,{keyframes:e})=>e.length>2?Bee:Yc.has(t)?t.startsWith("scale")?Uee(e[1]):Fee:zee;function $ee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:u,from:c,elapsed:h,...p}){return!!Object.keys(p).length}const LS=(t,e,n,r={},s,i)=>a=>{const u=kS(r,t)||{},c=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Zs(c);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:s};$ee(u)||Object.assign(p,qee(t,p)),p.duration&&(p.duration=Zs(p.duration)),p.repeatDelay&&(p.repeatDelay=Zs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(ex(p),p.delay===0&&(g=!0)),(Ki.instantAnimations||Ki.skipAnimations)&&(g=!0,ex(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!i&&e.get()!==void 0){const v=Vee(p.keyframes,u);if(v!==void 0){St.update(()=>{p.onUpdate(v),p.onComplete()});return}}return u.isSync?new CS(p):new mZ(p)};function Wee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function XM(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...u}=e;r&&(i=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),v=u[p];if(v===void 0||h&&Wee(h,p))continue;const C={delay:n,...kS(i||{},p)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===_&&!C.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const A=YM(t);if(A){const P=window.MotionHandoffAnimation(A,p,St);P!==null&&(C.startTime=P,k=!0)}}ox(t,p),g.start(LS(p,g,v,t.shouldReduceMotion&&vM.has(p)?{type:!1}:C,t,k));const T=g.animation;T&&c.push(T)}return a&&Promise.all(c).then(()=>{St.update(()=>{a&&Oee(t,a)})}),c}function JM(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),a=t.size,u=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:u-i*r}function ax(t,e,n={}){var r;const s=vc(t,e,n.type==="exit"?(r=t.presenceContext)==null?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(XM(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=i;return Hee(t,e,h,p,g,v,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,p]=c==="beforeChildren"?[a,u]:[u,a];return h().then(()=>p())}else return Promise.all([a(),u(n.delay)])}function Hee(t,e,n=0,r=0,s=0,i=1,a){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(ax(c,e,{...a,delay:n+(typeof r=="function"?0:r)+JM(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function Gee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>ax(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=ax(t,e,n);else{const s=typeof e=="function"?vc(t,e,n.custom):e;r=Promise.all(XM(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function ZM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Kee=AS.length;function e4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?e4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Kee;n++){const r=AS[n],s=t.props[r];(hf(s)||s===!1)&&(e[r]=s)}return e}const Qee=[...DS].reverse(),Yee=DS.length;function Xee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Gee(t,n,r)))}function Jee(t){let e=Xee(t),n=EI(),r=!0;const s=c=>(h,p)=>{var g;const v=vc(t,p,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(v){const{transition:C,transitionEnd:_,...k}=v;h={...h,...k,..._}}return h};function i(c){e=c(t)}function a(c){const{props:h}=t,p=e4(t.parent)||{},g=[],v=new Set;let C={},_=1/0;for(let T=0;T<Yee;T++){const A=Qee[T],P=n[A],O=h[A]!==void 0?h[A]:p[A],U=hf(O),z=A===c?P.isActive:null;z===!1&&(_=T);let H=O===p[A]&&O!==h[A]&&U;if(H&&r&&t.manuallyAnimateOnMount&&(H=!1),P.protectedKeys={...C},!P.isActive&&z===null||!O&&!P.prevProp||rv(O)||typeof O=="boolean")continue;const j=Zee(P.prevProp,O);let I=j||A===c&&P.isActive&&!H&&U||T>_&&U,N=!1;const M=Array.isArray(O)?O:[O];let F=M.reduce(s(A),{});z===!1&&(F={});const{prevResolvedValues:q={}}=P,L={...q,...F},Ee=ye=>{I=!0,v.has(ye)&&(N=!0,v.delete(ye)),P.needsAnimating[ye]=!0;const ve=t.getValue(ye);ve&&(ve.liveStyle=!1)};for(const ye in L){const ve=F[ye],K=q[ye];if(C.hasOwnProperty(ye))continue;let ne=!1;ix(ve)&&ix(K)?ne=!ZM(ve,K):ne=ve!==K,ne?ve!=null?Ee(ye):v.add(ye):ve!==void 0&&v.has(ye)?Ee(ye):P.protectedKeys[ye]=!0}P.prevProp=O,P.prevResolvedValues=F,P.isActive&&(C={...C,...F}),r&&t.blockInitialAnimation&&(I=!1);const Pe=H&&j;I&&(!Pe||N)&&g.push(...M.map(ye=>{const ve={type:A};if(typeof ye=="string"&&r&&!Pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,ne=vc(K,ye);if(K.enteringChildren&&ne){const{delayChildren:oe}=ne.transition||{};ve.delay=JM(K.enteringChildren,t,oe)}}return{animation:ye,options:ve}}))}if(v.size){const T={};if(typeof h.initial!="boolean"){const A=vc(t,Array.isArray(h.initial)?h.initial[0]:h.initial);A&&A.transition&&(T.transition=A.transition)}v.forEach(A=>{const P=t.getBaseTarget(A),O=t.getValue(A);O&&(O.liveStyle=!0),T[A]=P??null}),g.push({animation:T})}let k=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(g):Promise.resolve()}function u(c,h){var p;if(n[c].isActive===h)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(v=>{var C;return(C=v.animationState)==null?void 0:C.setActive(c,h)}),n[c].isActive=h;const g=a(c);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:a,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=EI()}}}function Zee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ZM(e,t):!1}function tl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function EI(){return{animate:tl(!0),whileInView:tl(),whileHover:tl(),whileTap:tl(),whileDrag:tl(),whileFocus:tl(),exit:tl()}}class ya{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ete extends ya{constructor(e){super(e),e.animationState||(e.animationState=Jee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let tte=0;class nte extends ya{constructor(){super(...arguments),this.id=tte++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const rte={animation:{Feature:ete},exit:{Feature:nte}};function pf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function qf(t){return{point:{x:t.pageX,y:t.pageY}}}const ste=t=>e=>IS(e)&&t(e,qf(e));function Rh(t,e,n,r){return pf(t,e,ste(n),r)}const t4=1e-4,ite=1-t4,ote=1+t4,n4=.01,ate=0-n4,lte=0+n4;function Wn(t){return t.max-t.min}function ute(t,e,n){return Math.abs(t-e)<=n}function kI(t,e,n,r=.5){t.origin=r,t.originPoint=_t(e.min,e.max,t.origin),t.scale=Wn(n)/Wn(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ite&&t.scale<=ote||isNaN(t.scale))&&(t.scale=1),(t.translate>=ate&&t.translate<=lte||isNaN(t.translate))&&(t.translate=0)}function Oh(t,e,n,r){kI(t.x,e.x,n.x,r?r.originX:void 0),kI(t.y,e.y,n.y,r?r.originY:void 0)}function TI(t,e,n){t.min=n.min+e.min,t.max=t.min+Wn(e)}function cte(t,e,n){TI(t.x,e.x,n.x),TI(t.y,e.y,n.y)}function _I(t,e,n){t.min=e.min-n.min,t.max=t.min+Wn(e)}function Mh(t,e,n){_I(t.x,e.x,n.x),_I(t.y,e.y,n.y)}function Ur(t){return[t("x"),t("y")]}const r4=({current:t})=>t?t.ownerDocument.defaultView:null,II=(t,e)=>Math.abs(t-e);function dte(t,e){const n=II(t.x,e.x),r=II(t.y,e.y);return Math.sqrt(n**2+r**2)}class s4{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Dw(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,_=dte(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!_)return;const{point:k}=v,{timestamp:T}=kn;this.history.push({...k,timestamp:T});const{onStart:A,onMove:P}=this.handlers;C||(A&&A(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,v)},this.handlePointerMove=(v,C)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Iw(C,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(v,C)=>{this.end();const{onEnd:_,onSessionEnd:k,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Dw(v.type==="pointercancel"?this.lastMoveEventInfo:Iw(C,this.transformPagePoint),this.history);this.startEvent&&_&&_(v,A),k&&k(v,A)},!IS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const u=qf(e),c=Iw(u,this.transformPagePoint),{point:h}=c,{timestamp:p}=kn;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Dw(c,this.history)),this.removeListeners=Uf(Rh(this.contextWindow,"pointermove",this.handlePointerMove),Rh(this.contextWindow,"pointerup",this.handlePointerUp),Rh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),da(this.updatePoint)}}function Iw(t,e){return e?{point:e(t.point)}:t}function DI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dw({point:t},e){return{point:t,delta:DI(t,i4(e)),offset:DI(t,hte(e)),velocity:fte(e,.1)}}function hte(t){return t[0]}function i4(t){return t[t.length-1]}function fte(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=i4(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Zs(e)));)n--;if(!r)return{x:0,y:0};const i=Hr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function pte(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_t(n,t,r.max):Math.min(t,n)),t}function AI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function mte(t,{top:e,left:n,bottom:r,right:s}){return{x:AI(t.x,n,s),y:AI(t.y,e,r)}}function NI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function gte(t,e){return{x:NI(t.x,e.x),y:NI(t.y,e.y)}}function yte(t,e){let n=.5;const r=Wn(t),s=Wn(e);return s>r?n=uf(e.min,e.max-r,t.min):r>s&&(n=uf(t.min,t.max-s,e.min)),Gi(0,1,n)}function vte(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const lx=.35;function wte(t=lx){return t===!1?t=0:t===!0&&(t=lx),{x:PI(t,"left","right"),y:PI(t,"top","bottom")}}function PI(t,e,n){return{min:jI(t,e),max:jI(t,n)}}function jI(t,e){return typeof t=="number"?t:t[e]||0}const bte=new WeakMap;class xte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(qf(g).point)},a=(g,v)=>{const{drag:C,dragPropagation:_,onDragStart:k}=this.getProps();if(C&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PZ(C),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ur(A=>{let P=this.getAxisMotionValue(A).get()||0;if(ei.test(P)){const{projection:O}=this.visualElement;if(O&&O.layout){const U=O.layout.layoutBox[A];U&&(P=Wn(U)*(parseFloat(P)/100))}}this.originPoint[A]=P}),k&&St.postRender(()=>k(g,v)),ox(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:C,dragDirectionLock:_,onDirectionLock:k,onDrag:T}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:A}=v;if(_&&this.currentDirection===null){this.currentDirection=Ste(A),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),T&&T(g,v)},c=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Ur(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new s4(e,{onSessionStart:i,onStart:a,onMove:u,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:r4(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&St.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Pm(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=pte(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,i=this.constraints;n&&ac(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=mte(s.layoutBox,n):this.constraints=!1,this.elastic=wte(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ur(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=vte(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ac(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Cee(r,s.root,this.visualElement.getTransformPagePoint());let a=gte(s.layout.layoutBox,i);if(n){const u=n(bee(a));this.hasMutatedConstraints=!!u,u&&(a=zM(u))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},h=Ur(p=>{if(!Pm(p,n,this.currentDirection))return;let g=c&&c[p]||{};a&&(g={min:0,max:0});const v=s?200:1e6,C=s?40:1e7,_={type:"inertia",velocity:r?e[p]:0,bounceStiffness:v,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(p,_)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ox(this.visualElement,e),r.start(LS(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ur(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ur(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ur(n=>{const{drag:r}=this.getProps();if(!Pm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:u}=s.layout.layoutBox[n];i.set(e[n]-_t(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ac(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ur(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const c=u.get();s[a]=yte({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ur(a=>{if(!Pm(a,e,null))return;const u=this.getAxisMotionValue(a),{min:c,max:h}=this.constraints[a];u.set(_t(c,h,s[a]))})}addListeners(){if(!this.visualElement.current)return;bte.set(this.visualElement,this);const e=this.visualElement.current,n=Rh(e,"pointerdown",c=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ac(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),St.read(r);const a=pf(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ur(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=c[p].translate,g.set(g.get()+c[p].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=lx,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:u}}}function Pm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ste(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Cte extends ya{constructor(e){super(e),this.removeGroupControls=Qr,this.removeListeners=Qr,this.controls=new xte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qr}unmount(){this.removeGroupControls(),this.removeListeners()}}const RI=t=>(e,n)=>{t&&St.postRender(()=>t(e,n))};class Ete extends ya{constructor(){super(...arguments),this.removePointerDownListener=Qr}onPointerDown(e){this.session=new s4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:r4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:RI(e),onStart:RI(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&St.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Rh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ag={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Me.test(t))t=parseFloat(t);else return t;const n=OI(t,e.target.x),r=OI(t,e.target.y);return`${n}% ${r}%`}},kte={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ha.parse(t);if(s.length>5)return r;const i=ha.createTransformer(t),a=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=u,s[1+a]/=c;const h=_t(u,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=h),typeof s[3+a]=="number"&&(s[3+a]/=h),i(s)}};let Aw=!1;class Tte extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;KZ(_te),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Aw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ag.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,Aw=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||St.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_S.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Aw=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function o4(t){const[e,n]=BZ(),r=S.useContext(VO);return x.jsx(Tte,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(UM),isPresent:e,safeToRemove:n})}const _te={borderRadius:{...hh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hh,borderTopRightRadius:hh,borderBottomLeftRadius:hh,borderBottomRightRadius:hh,boxShadow:kte};function Ite(t,e,n){const r=Vn(t)?t:Rc(t);return r.start(LS("",r,e,n)),r.animation}const Dte=(t,e)=>t.depth-e.depth;class Ate{constructor(){this.children=[],this.isDirty=!1}add(e){lS(this.children,e),this.isDirty=!0}remove(e){uS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Dte),this.isDirty=!1,this.children.forEach(e)}}function Nte(t,e){const n=lr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(da(r),t(i-e))};return St.setup(r,!0),()=>da(r)}const a4=["TopLeft","TopRight","BottomLeft","BottomRight"],Pte=a4.length,MI=t=>typeof t=="string"?parseFloat(t):t,LI=t=>typeof t=="number"||Me.test(t);function jte(t,e,n,r,s,i){s?(t.opacity=_t(0,n.opacity??1,Rte(r)),t.opacityExit=_t(e.opacity??1,0,Ote(r))):i&&(t.opacity=_t(e.opacity??1,n.opacity??1,r));for(let a=0;a<Pte;a++){const u=`border${a4[a]}Radius`;let c=VI(e,u),h=VI(n,u);c===void 0&&h===void 0||(c||(c=0),h||(h=0),c===0||h===0||LI(c)===LI(h)?(t[u]=Math.max(_t(MI(c),MI(h),r),0),(ei.test(h)||ei.test(c))&&(t[u]+="%")):t[u]=h)}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,r))}function VI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Rte=l4(0,.5,QO),Ote=l4(.5,.95,Qr);function l4(t,e,n){return r=>r<t?0:r>e?1:n(uf(t,e,r))}function FI(t,e){t.min=e.min,t.max=e.max}function Vr(t,e){FI(t.x,e.x),FI(t.y,e.y)}function UI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function BI(t,e,n,r,s){return t-=e,t=ny(t,1/n,r),s!==void 0&&(t=ny(t,1/s,r)),t}function Mte(t,e=0,n=1,r=.5,s,i=t,a=t){if(ei.test(e)&&(e=parseFloat(e),e=_t(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=_t(i.min,i.max,r);t===i&&(u-=e),t.min=BI(t.min,e,n,u,s),t.max=BI(t.max,e,n,u,s)}function zI(t,e,[n,r,s],i,a){Mte(t,e[n],e[r],e[s],e.scale,i,a)}const Lte=["x","scaleX","originX"],Vte=["y","scaleY","originY"];function qI(t,e,n,r){zI(t.x,e,Lte,n?n.x:void 0,r?r.x:void 0),zI(t.y,e,Vte,n?n.y:void 0,r?r.y:void 0)}function $I(t){return t.translate===0&&t.scale===1}function u4(t){return $I(t.x)&&$I(t.y)}function WI(t,e){return t.min===e.min&&t.max===e.max}function Fte(t,e){return WI(t.x,e.x)&&WI(t.y,e.y)}function HI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function c4(t,e){return HI(t.x,e.x)&&HI(t.y,e.y)}function GI(t){return Wn(t.x)/Wn(t.y)}function KI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Ute{constructor(){this.members=[]}add(e){lS(this.members,e),e.scheduleRender()}remove(e){if(uS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bte(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:v,skewX:C,skewY:_}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),C&&(r+=`skewX(${C}deg) `),_&&(r+=`skewY(${_}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const Nw=["","X","Y","Z"],zte=1e3;let qte=0;function Pw(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function d4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=YM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&d4(r)}function h4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},a=e==null?void 0:e()){this.id=qte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Hte),this.nodes.forEach(Yte),this.nodes.forEach(Xte),this.nodes.forEach(Gte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ate)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new hS),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const u=this.eventHandlers.get(i);u&&u.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=_M(i)&&!VZ(i),this.instance=i;const{layoutId:a,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||a)&&(this.isLayoutDirty=!0),t){let h,p=0;const g=()=>this.root.updateBlockedByResize=!1;St.read(()=>{p=window.innerWidth}),t(i,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,h&&h(),h=Nte(g,250),ag.hasAnimatedSinceResize&&(ag.hasAnimatedSinceResize=!1,this.nodes.forEach(XI)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||c.getDefaultTransition()||nne,{onLayoutAnimationStart:_,onLayoutAnimationComplete:k}=c.getProps(),T=!this.targetLayout||!c4(this.targetLayout,v),A=!p&&g;if(this.options.layoutRoot||this.resumeFrom||A||p&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...kS(C,"layout"),onPlay:_,onComplete:k};(c.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(h,A)}else p||XI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),da(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jte),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&d4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(YI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Qte),this.nodes.forEach($te),this.nodes.forEach(Wte)):this.nodes.forEach(YI),this.clearAllSnapshots();const i=lr.now();kn.delta=Gi(0,1e3/60,i-kn.timestamp),kn.timestamp=i,kn.isProcessing=!0,bw.update.process(kn),bw.preRender.process(kn),bw.render.process(kn),kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_S.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Kte),this.sharedNodes.forEach(Zte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wn(this.snapshot.measuredBox.x)&&!Wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!u4(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;i&&this.instance&&(a||ol(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return i&&(u=this.removeTransform(u)),rne(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return tn();const u=a.measureViewportBox();if(!((i=this.scroll)!=null&&i.wasRoot||this.path.some(sne))){const{scroll:c}=this.root;c&&(lc(u.x,c.offset.x),lc(u.y,c.offset.y))}return u}removeElementScroll(i){var a;const u=tn();if(Vr(u,i),(a=this.scroll)!=null&&a.wasRoot)return u;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Vr(u,i),lc(u.x,p.offset.x),lc(u.y,p.offset.y))}return u}applyTransform(i,a=!1){const u=tn();Vr(u,i);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&uc(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ol(h.latestValues)&&uc(u,h.latestValues)}return ol(this.latestValues)&&uc(u,this.latestValues),u}removeTransform(i){const a=tn();Vr(a,i);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!ol(c.latestValues))continue;nx(c.latestValues)&&c.updateSnapshot();const h=tn(),p=c.measurePageBox();Vr(h,p),qI(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return ol(this.latestValues)&&qI(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(a=this.parent)!=null&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=kn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Mh(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vr(this.target,this.layout.layoutBox),$M(this.target,this.targetDelta)):Vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Mh(this.relativeTargetOrigin,this.target,g.target),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nx(this.parent.latestValues)||qM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(i=this.parent)!=null&&i.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===kn.timestamp&&(c=!1),c)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Vr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;See(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=tn());const{target:C}=a;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UI(this.prevProjectionDelta.x,this.projectionDelta.x),UI(this.prevProjectionDelta.y,this.projectionDelta.y)),Oh(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!KI(this.projectionDelta.x,this.prevProjectionDelta.x)||!KI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),i){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cc(),this.projectionDelta=cc(),this.projectionDeltaWithTransform=cc()}setAnimationOrigin(i,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},p=cc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=tn(),v=u?u.source:void 0,C=this.layout?this.layout.source:void 0,_=v!==C,k=this.getStack(),T=!k||k.members.length<=1,A=!!(_&&!T&&this.options.crossfade===!0&&!this.path.some(tne));this.animationProgress=0;let P;this.mixTargetDelta=O=>{const U=O/1e3;JI(p.x,i.x,U),JI(p.y,i.y,U),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mh(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ene(this.relativeTarget,this.relativeTargetOrigin,g,U),P&&Fte(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=tn()),Vr(P,this.relativeTarget)),_&&(this.animationValues=h,jte(h,c,this.latestValues,U,A,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var a,u,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(da(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{ag.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Rc(0)),this.currentAnimation=Ite(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),i.onUpdate&&i.onUpdate(h)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=i;if(!(!a||!u||!c)){if(this!==i&&this.layout&&c&&f4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||tn();const p=Wn(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+p;const g=Wn(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+g}Vr(a,u),uc(a,h),Oh(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Ute),this.sharedNodes.get(i).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())==null?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())==null?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const c={};u.z&&Pw("z",i,c,this.animationValues);for(let h=0;h<Nw.length;h++)Pw(`rotate${Nw[h]}`,i,c,this.animationValues),Pw(`skew${Nw[h]}`,i,c,this.animationValues);i.render();for(const h in c)i.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);i.scheduleRender()}applyProjectionStyles(i,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=og(a==null?void 0:a.pointerEvents)||"",i.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=og(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ol(this.latestValues)&&(i.transform=u?u({},""):"none",this.hasProjected=!1);return}i.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let p=Bte(this.projectionDeltaWithTransform,this.treeScale,h);u&&(p=u(h,p)),i.transform=p;const{x:g,y:v}=this.projectionDelta;i.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,c.animationValues?i.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:i.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const C in ff){if(h[C]===void 0)continue;const{correct:_,applyTo:k,isCSSVariable:T}=ff[C],A=p==="none"?h[C]:_(h[C],c);if(k){const P=k.length;for(let O=0;O<P;O++)i[k[O]]=A}else T?this.options.visualElement.renderState.vars[C]=A:i[C]=A}this.options.layoutId&&(i.pointerEvents=c===this?og(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(QI),this.root.sharedNodes.clear()}}}function $te(t){t.updateLayout()}function Wte(t){var e;const n=((e=t.resumeFrom)==null?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?Ur(g=>{const v=a?n.measuredBox[g]:n.layoutBox[g],C=Wn(v);v.min=r[g].min,v.max=v.min+C}):f4(i,n.layoutBox,r)&&Ur(g=>{const v=a?n.measuredBox[g]:n.layoutBox[g],C=Wn(r[g]);v.max=v.min+C,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+C)});const u=cc();Oh(u,r,n.layoutBox);const c=cc();a?Oh(c,t.applyTransform(s,!0),n.measuredBox):Oh(c,r,n.layoutBox);const h=!u4(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:C}=g;if(v&&C){const _=tn();Mh(_,n.layoutBox,v.layoutBox);const k=tn();Mh(k,r,C.layoutBox),c4(_,k)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=_,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Hte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Gte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Kte(t){t.clearSnapshot()}function QI(t){t.clearMeasurements()}function YI(t){t.isLayoutDirty=!1}function Qte(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function XI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Yte(t){t.resolveTargetDelta()}function Xte(t){t.calcProjection()}function Jte(t){t.resetSkewAndRotation()}function Zte(t){t.removeLeadSnapshot()}function JI(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ZI(t,e,n,r){t.min=_t(e.min,n.min,r),t.max=_t(e.max,n.max,r)}function ene(t,e,n,r){ZI(t.x,e.x,n.x,r),ZI(t.y,e.y,n.y,r)}function tne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nne={duration:.45,ease:[.4,0,.1,1]},eD=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),tD=eD("applewebkit/")&&!eD("chrome/")?Math.round:Qr;function nD(t){t.min=tD(t.min),t.max=tD(t.max)}function rne(t){nD(t.x),nD(t.y)}function f4(t,e,n){return t==="position"||t==="preserve-aspect"&&!ute(GI(e),GI(n),.2)}function sne(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ine=h4({attachResizeListener:(t,e)=>pf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jw={current:void 0},p4=h4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jw.current){const t=new ine({});t.mount(window),t.setOptions({layoutScroll:!0}),jw.current=t}return jw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),one={pan:{Feature:Ete},drag:{Feature:Cte,ProjectionNode:p4,MeasureLayout:o4}};function rD(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&St.postRender(()=>i(e,qf(e)))}class ane extends ya{mount(){const{current:e}=this.node;e&&(this.unmount=jZ(e,(n,r)=>(rD(this.node,r,"Start"),s=>rD(this.node,s,"End"))))}unmount(){}}class lne extends ya{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uf(pf(this.node.current,"focus",()=>this.onFocus()),pf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sD(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&St.postRender(()=>i(e,qf(e)))}class une extends ya{mount(){const{current:e}=this.node;e&&(this.unmount=LZ(e,(n,r)=>(sD(this.node,r,"Start"),(s,{success:i})=>sD(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ux=new WeakMap,Rw=new WeakMap,cne=t=>{const e=ux.get(t.target);e&&e(t)},dne=t=>{t.forEach(cne)};function hne({root:t,...e}){const n=t||document;Rw.has(n)||Rw.set(n,{});const r=Rw.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(dne,{root:t,...e})),r[s]}function fne(t,e,n){const r=hne(e);return ux.set(t,n),r.observe(t),()=>{ux.delete(t),r.unobserve(t)}}const pne={some:0,all:1};class mne extends ya{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:pne[s]},u=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=h?p:g;v&&v(c)};return fne(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(gne(e,n))&&this.startObserver()}unmount(){}}function gne({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yne={inView:{Feature:mne},tap:{Feature:une},focus:{Feature:lne},hover:{Feature:ane}},vne={layout:{ProjectionNode:p4,MeasureLayout:o4}},wne={...rte,...yne,...one,...vne},en=wee(wne,Pee);function cx(){const t=N1(),{user:e,loading:n}=$1(),[r,s]=hn.useState(!1);S.useEffect(()=>{!n&&e&&t(nt("Home"))},[e,n,t]);const i=()=>{e?t(nt("Home")):s(!0)};if(n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const a=[{icon:T$,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:Xm,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:_b,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:sw,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:Ib,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:U$,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],u=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],c=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],h=[{icon:_b,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:sw,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:Ib,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:o2,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],p=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx(en.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),x.jsx(en.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),x.jsx(en.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),x.jsx(en.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),x.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:x.jsxs("div",{className:"text-center",children:[x.jsx(en.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse overflow-hidden",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-24 h-24 object-contain transform -rotate-12"})}),x.jsx(en.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),x.jsx(en.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),x.jsx(en.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),x.jsx(en.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),x.jsxs(en.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[x.jsxs(Br,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 text-lg font-bold shadow-xl border-0 animate-pulse",children:[x.jsx(h$,{className:"w-5 h-5 mr-2"}),"7-Day FREE Trial - All Features!"]}),x.jsxs(Br,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(o2,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),x.jsxs(Br,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(kj,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),x.jsxs(en.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[x.jsxs(Xs,{onClick:i,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[x.jsx(L$,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),x.jsxs(Xs,{onClick:()=>{var g;return(g=document.getElementById("features"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white bg-transparent hover:bg-white hover:text-purple-600 shadow-xl transition-all",children:["See What's Inside",x.jsx(Jq,{className:"w-6 h-6 ml-2"})]})]}),x.jsx(en.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:h.map((g,v)=>{const C=g.icon;return x.jsxs(en.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[x.jsx(C,{className:`w-10 h-10 mx-auto mb-3 ${g.color}`}),x.jsx("div",{className:"text-3xl font-black text-gray-800",children:g.value}),x.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:g.label})]},v)})})]})}),x.jsxs("div",{style:{background:"linear-gradient(90deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",padding:"14px 0 12px 0",textAlign:"center",fontWeight:"bold",fontSize:"1.1rem",letterSpacing:"0.01em",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)",borderBottom:"2px solid #fff",borderRadius:8,margin:"0 auto 24px auto",maxWidth:900},className:"mx-auto mb-8",children:[x.jsx("span",{role:"img","aria-label":"lightbulb",style:{marginRight:8},children:""}),"Best Experience: ",x.jsx("span",{style:{fontWeight:700},children:"Math Adventure"})," works best on ",x.jsx("span",{style:{textDecoration:"underline"},children:"tablets"})," and ",x.jsx("span",{style:{textDecoration:"underline"},children:"desktop computers"})," for optimal gameplay and features."]}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),x.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:p.map((g,v)=>x.jsxs(en.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[x.jsx("div",{className:"text-7xl mb-4",children:g.emoji}),x.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:g.name}),x.jsx("p",{className:"text-gray-700 font-semibold",children:g.desc})]},v))}),x.jsxs("div",{className:"mb-16",children:[x.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:u.map((g,v)=>x.jsxs(en.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[x.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),x.jsx("div",{className:"font-bold text-sm text-gray-800",children:g.name}),x.jsx(Br,{className:"mt-2 bg-purple-500 text-white text-xs",children:g.grade})]},v))})]})]})}),x.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((g,v)=>{const C=g.icon;return x.jsxs(en.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[x.jsxs("div",{className:`h-32 bg-gradient-to-br ${g.gradient} flex items-center justify-center relative`,children:[x.jsx("div",{className:"text-7xl",children:g.emoji}),x.jsx("div",{className:"absolute top-3 right-3",children:x.jsx(C,{className:"w-10 h-10 text-white opacity-50"})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:g.title}),x.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:g.description})]})]},v)})})]})}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsxs(en.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),x.jsxs(en.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),x.jsxs(en.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:c.map((g,v)=>x.jsxs(en.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[x.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(g.rating)].map((C,_)=>x.jsx(sw,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},_))}),x.jsx("div",{className:"text-6xl mb-4",children:g.emoji}),x.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',g.text,'"']}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-lg text-gray-800",children:g.author}),x.jsx("p",{className:"text-sm text-gray-600 font-bold",children:g.role})]})]},v))})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[x.jsx(en.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),x.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),x.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),x.jsxs(Xs,{onClick:i,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[x.jsx(O$,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),x.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),x.jsx("div",{className:"bg-gray-900 text-white py-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[x.jsx("div",{className:"mb-4 flex items-center justify-center",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-16 h-16 object-contain"})}),x.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),x.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),x.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[x.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:""}),x.jsx(Bj,{onSuccess:()=>t(nt("Home"))})]})})]})}const m4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD-CfwVKCbF-DwKF90JC.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12,13,14,15,16])),Lt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Ft([4,5,6,7,8,9,10,11,12,13,14,15,16])),Bt([4,5,6,7,8,9,10,11,12,13,14,15,16])),qt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Wt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Gt([4,5,6,7,8,9,10,11,12,13,14,15,16]))),g4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o-DlsB7OV4-CfhTL5-j.js"),__vite__mapDeps([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Lt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Ft([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Bt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),qt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Wt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Gt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7]))),y4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk-DghFmtyw-DjB8J4yd.js"),__vite__mapDeps([27,7,5,9,28,10,29])),Lt([27,7,5,9,28,10,29])),Ft([27,7,5,9,28,10,29])),Bt([27,7,5,9,28,10,29])),qt([27,7,5,9,28,10,29])),Wt([27,7,5,9,28,10,29])),Gt([27,7,5,9,28,10,29]))),v4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9-CbEJ5snd-CjkzqJFV.js"),__vite__mapDeps([30,18,31,32,33,34,14,0,1,35,23])),Lt([30,18,31,32,33,34,14,0,1,35,23])),Ft([30,18,31,32,33,34,14,0,1,35,23])),Bt([30,18,31,32,33,34,14,0,1,35,23])),qt([30,18,31,32,33,34,14,0,1,35,23])),Wt([30,18,31,32,33,34,14,0,1,35,23])),Gt([30,18,31,32,33,34,14,0,1,35,23]))),w4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv-Bp24DiAJ-BrPJAgIo.js"),__vite__mapDeps([36,18,1,19,20,10,37,24,26,5,7])),Lt([36,18,1,19,20,10,37,24,26,5,7])),Ft([36,18,1,19,20,10,37,24,26,5,7])),Bt([36,18,1,19,20,10,37,24,26,5,7])),qt([36,18,1,19,20,10,37,24,26,5,7])),Wt([36,18,1,19,20,10,37,24,26,5,7])),Gt([36,18,1,19,20,10,37,24,26,5,7]))),b4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr-Ffel_h2u-C8GXHf8T.js"),__vite__mapDeps([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Lt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Ft([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Bt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),qt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Wt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Gt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25]))),x4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u-CCYcbo7R-Oj5x0VMM.js"),__vite__mapDeps([45,18,32,0,1,14,29,25,16,7])),Lt([45,18,32,0,1,14,29,25,16,7])),Ft([45,18,32,0,1,14,29,25,16,7])),Bt([45,18,32,0,1,14,29,25,16,7])),qt([45,18,32,0,1,14,29,25,16,7])),Wt([45,18,32,0,1,14,29,25,16,7])),Gt([45,18,32,0,1,14,29,25,16,7]))),S4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb-uuJZ4FGW-ruYVavqy.js"),__vite__mapDeps([46,18,32,47,9,7,12,10,37,44])),Lt([46,18,32,47,9,7,12,10,37,44])),Ft([46,18,32,47,9,7,12,10,37,44])),Bt([46,18,32,47,9,7,12,10,37,44])),qt([46,18,32,47,9,7,12,10,37,44])),Wt([46,18,32,47,9,7,12,10,37,44])),Gt([46,18,32,47,9,7,12,10,37,44]))),C4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4-BmOdg69B-CPQ46To1.js"),__vite__mapDeps([48,18,1,9,10])),Lt([48,18,1,9,10])),Ft([48,18,1,9,10])),Bt([48,18,1,9,10])),qt([48,18,1,9,10])),Wt([48,18,1,9,10])),Gt([48,18,1,9,10]))),E4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f-MccA_3E3-DQhvjEee.js"),__vite__mapDeps([49,18,6,23])),Lt([49,18,6,23])),Ft([49,18,6,23])),Bt([49,18,6,23])),qt([49,18,6,23])),Wt([49,18,6,23])),Gt([49,18,6,23]))),k4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN-oTa863JD-0sbYUKBU.js"),__vite__mapDeps([50,51,23,3,8])),Lt([50,51,23,3,8])),Ft([50,51,23,3,8])),Bt([50,51,23,3,8])),qt([50,51,23,3,8])),Wt([50,51,23,3,8])),Gt([50,51,23,3,8]))),T4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv-Dzw5lkMP-MKYQRKjk.js"),__vite__mapDeps([52,51])),Lt([52,51])),Ft([52,51])),Bt([52,51])),qt([52,51])),Wt([52,51])),Gt([52,51]))),_4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC-CpqL9fon-Cde4ofN_.js"),__vite__mapDeps([53,18,39,43,15,42])),Lt([53,18,39,43,15,42])),Ft([53,18,39,43,15,42])),Bt([53,18,39,43,15,42])),qt([53,18,39,43,15,42])),Wt([53,18,39,43,15,42])),Gt([53,18,39,43,15,42]))),I4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb-t4dmRNZn-07iJlHeK.js"),__vite__mapDeps([54,18,40,41,34,26,16,12,13,43,21,3,55])),Lt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Ft([54,18,40,41,34,26,16,12,13,43,21,3,55])),Bt([54,18,40,41,34,26,16,12,13,43,21,3,55])),qt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Wt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Gt([54,18,40,41,34,26,16,12,13,43,21,3,55]))),D4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7-Dcz3eR3L-8JW9s778.js"),__vite__mapDeps([56,41,20,16,43,10,12,13,55,21,23,42])),Lt([56,41,20,16,43,10,12,13,55,21,23,42])),Ft([56,41,20,16,43,10,12,13,55,21,23,42])),Bt([56,41,20,16,43,10,12,13,55,21,23,42])),qt([56,41,20,16,43,10,12,13,55,21,23,42])),Wt([56,41,20,16,43,10,12,13,55,21,23,42])),Gt([56,41,20,16,43,10,12,13,55,21,23,42]))),A4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q-BfTbXhxt-BVC_lLSA.js"),__vite__mapDeps([57,23,14])),Lt([57,23,14])),Ft([57,23,14])),Bt([57,23,14])),qt([57,23,14])),Wt([57,23,14])),Gt([57,23,14]))),N4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw-Cla6mJUP-D58jAMXH.js"),__vite__mapDeps([58,32,10,22,15,7,24,1,9,28,25,14,11])),Lt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Ft([58,32,10,22,15,7,24,1,9,28,25,14,11])),Bt([58,32,10,22,15,7,24,1,9,28,25,14,11])),qt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Wt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Gt([58,32,10,22,15,7,24,1,9,28,25,14,11]))),P4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg-qnXeUsv8-CRQgaPIC.js"),__vite__mapDeps([59,31,47,23])),Lt([59,31,47,23])),Ft([59,31,47,23])),Bt([59,31,47,23])),qt([59,31,47,23])),Wt([59,31,47,23])),Gt([59,31,47,23]))),j4=S.lazy(()=>Kt(()=>Ht(()=>$t(()=>zt(()=>Ut(()=>Vt(()=>Mt(()=>import("./Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499-NSoB4kZx-C1AH7B5I.js"),__vite__mapDeps([60,51])),Lt([60,51])),Ft([60,51])),Bt([60,51])),qt([60,51])),Wt([60,51])),Gt([60,51]))),iD={Home:m4,Game:g4,Progress:y4,Avatar:v4,DailyChallenge:w4,ParentPortal:b4,Shop:x4,Leaderboards:S4,TeamChallenges:C4,Subscription:E4,GenerateIcons:k4,TestIconGeneration:T4,Landing:cx,Messages:_4,ColorByNumbers:I4,Settings:D4,PrivacyPolicy:A4,AITutor:N4,AdminTestAccount:P4,Subscribe:j4};function bne(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(iD).find(n=>n.toLowerCase()===e.toLowerCase())||Object.keys(iD)[0]}const xne=()=>x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})});function Sne(){const t=eo(),e=bne(t.pathname);return x.jsx(OX,{currentPageName:e,children:x.jsx(rg,{children:x.jsx(S.Suspense,{fallback:x.jsx(xne,{}),children:x.jsxs(A7,{children:[x.jsx(Pt,{path:"/",element:x.jsx(cx,{})}),x.jsx(Pt,{path:"/Home",element:x.jsx(m4,{})}),x.jsx(Pt,{path:"/Game",element:x.jsx(g4,{})}),x.jsx(Pt,{path:"/Progress",element:x.jsx(y4,{})}),x.jsx(Pt,{path:"/Avatar",element:x.jsx(v4,{})}),x.jsx(Pt,{path:"/DailyChallenge",element:x.jsx(w4,{})}),x.jsx(Pt,{path:"/ParentPortal",element:x.jsx(b4,{})}),x.jsx(Pt,{path:"/Shop",element:x.jsx(x4,{})}),x.jsx(Pt,{path:"/Leaderboards",element:x.jsx(S4,{})}),x.jsx(Pt,{path:"/TeamChallenges",element:x.jsx(C4,{})}),x.jsx(Pt,{path:"/Subscription",element:x.jsx(E4,{})}),x.jsx(Pt,{path:"/GenerateIcons",element:x.jsx(k4,{})}),x.jsx(Pt,{path:"/TestIconGeneration",element:x.jsx(T4,{})}),x.jsx(Pt,{path:"/Landing",element:x.jsx(cx,{})}),x.jsx(Pt,{path:"/Messages",element:x.jsx(_4,{})}),x.jsx(Pt,{path:"/ColorByNumbers",element:x.jsx(I4,{})}),x.jsx(Pt,{path:"/Settings",element:x.jsx(D4,{})}),x.jsx(Pt,{path:"/PrivacyPolicy",element:x.jsx(A4,{})}),x.jsx(Pt,{path:"/AITutor",element:x.jsx(N4,{})}),x.jsx(Pt,{path:"/AdminTestAccount",element:x.jsx(P4,{})}),x.jsx(Pt,{path:"/Subscribe",element:x.jsx(j4,{})})]})})})})}function Cne(){return x.jsx(Z7,{children:x.jsx(Sne,{})})}const Ene=20,kne=1e6,Mi={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Ow=0;function Tne(){return Ow=(Ow+1)%Number.MAX_VALUE,Ow.toString()}const Mw=new Map,oD=t=>{if(Mw.has(t))return;const e=setTimeout(()=>{Mw.delete(t),Lh({type:Mi.REMOVE_TOAST,toastId:t})},kne);Mw.set(t,e)},_ne=(t,e)=>{switch(e.type){case Mi.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Ene)};case Mi.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Mi.DISMISS_TOAST:{const{toastId:n}=e;return n?oD(n):t.toasts.forEach(r=>{oD(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Mi.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},lg=[];let ug={toasts:[]};function Lh(t){ug=_ne(ug,t),lg.forEach(e=>{e(ug)})}function Ine({...t}){const e=Tne(),n=s=>Lh({type:Mi.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>Lh({type:Mi.DISMISS_TOAST,toastId:e});return Lh({type:Mi.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Dne(){const[t,e]=S.useState(ug);return S.useEffect(()=>(lg.push(e),()=>{const n=lg.indexOf(e);n>-1&&lg.splice(n,1)}),[t]),{...t,toast:Ine,dismiss:n=>Lh({type:Mi.DISMISS_TOAST,toastId:n})}}const R4=S.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));R4.displayName="ToastProvider";const O4=S.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));O4.displayName="ToastViewport";const Ane=Wy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),M4=S.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,className:wt(Ane({variant:e}),t),...n}));M4.displayName="Toast";const Nne=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Nne.displayName="ToastAction";const L4=S.forwardRef(({className:t,...e},n)=>x.jsx("button",{ref:n,className:wt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(B1,{className:"h-4 w-4"})}));L4.displayName="ToastClose";const V4=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm font-semibold",t),...e}));V4.displayName="ToastTitle";const F4=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm opacity-90",t),...e}));F4.displayName="ToastDescription";function Pne(){const{toasts:t}=Dne();return x.jsxs(R4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(M4,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(V4,{children:n}),r&&x.jsx(F4,{children:r})]}),s,x.jsx(L4,{})]},e)}),x.jsx(O4,{})]})}function jne(){return x.jsxs(x.Fragment,{children:[x.jsx(Cne,{}),x.jsx(Pne,{})]})}const Rne=new jq({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});m3.createRoot(document.getElementById("root")).render(x.jsx(Oq,{client:Rne,children:x.jsx(YW,{children:x.jsx(jne,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{Une as $,LX as A,B1 as B,h$ as C,wt as D,S as E,qX as F,i2 as G,o$ as H,Ay as I,en as J,ys as K,zX as L,VX as M,MX as N,UX as O,Rq as P,Xs as Q,ms as R,Wr as S,IM as T,$1 as U,zb as V,Un as W,Ye as X,gs as Y,s$ as Z,Ib as _,VO as a,Wl as a$,Hne as a0,N1 as a1,QW as a2,Lne as a3,n2 as a4,a2 as a5,Jq as a6,p$ as a7,c$ as a8,Fne as a9,C1 as aA,Mne as aB,Fy as aC,o2 as aD,u2 as aE,bs as aF,Vl as aG,_j as aH,GG as aI,hx as aJ,SP as aK,Dne as aL,DY as aM,gX as aN,Jne as aO,Qne as aP,Vne as aQ,zne as aR,Wne as aS,Yne as aT,Xne as aU,Gne as aV,DK as aW,VR as aX,kH as aY,Zj as aZ,Zne as a_,Cm as aa,rw as ab,In as ac,$ne as ad,Kne as ae,iw as af,Jm as ag,Vy as ah,oi as ai,Rf as aj,pR as ak,Ob as al,Hj as am,eK as an,cr as ao,tK as ap,Qn as aq,et as ar,Mf as as,CR as at,Xj as au,nK as av,rK as aw,qne as ax,c2 as ay,lf as az,Gq as b,Qj as b0,Kj as b1,l$ as b2,la as b3,M1 as b4,$i as b5,or as b6,vq as b7,jf as b8,xb as b9,tf as ba,Aq as bb,s2 as bc,One as bd,kR as be,vK as bf,wK as bg,NW as bh,Wy as bi,Bne as c,Xm as d,nw as e,v$ as f,_b as g,pl as h,aS as i,BZ as j,DZ as k,Br as l,NX as m,sw as n,ft as o,nt as p,x$ as q,Wj as r,e$ as s,kj as t,pk as u,Bj as v,hn as w,x,U$ as y,$j as z};
