import{r as l,j as e,C as b,I as j,J as N,p as f,d as w,A as i,y as c,af as y,h as v,b as A,i as S,k as C,m as T,l as E,ag as _,ah as F}from"./index-C0XnwW1J.js";import{L as P}from"./label-BaWOfaZ4.js";import{U as D}from"./user-plus-BnLNyW7y.js";import{T as k}from"./triangle-alert-Dd6OicLx.js";function R(){const[r,h]=l.useState("googlereview@mathadventure.com"),[n,o]=l.useState(!1),[a,d]=l.useState(null),[m,u]=l.useState(null),p=async()=>{try{o(!0),u(null),d(null);const s=S(C),x=(await T(E(s,"users"))).docs.find(g=>g.data().email===r);if(!x)throw new Error(`User with email ${r} not found. Please create the account first.`);const t=new Date;t.setFullYear(t.getFullYear()+1),await _(F(s,"users",x.id),{subscription_tier:"family_teacher",subscription_started_at:new Date().toISOString(),subscription_expires_at:t.toISOString(),subscription_auto_renew:!1,is_family_teacher:!0,is_premium_parent:!0,is_premium_player:!0,coins:500,total_stars_earned:100},{merge:!0}),d({email:r,expiresAt:t.toISOString(),tier:"family_teacher"})}catch(s){console.error("Error granting access:",s),u(s.message)}finally{o(!1)}};return e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:e.jsxs(b,{className:"border-4 border-purple-300 shadow-xl",children:[e.jsxs(j,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white",children:[e.jsxs(N,{className:"flex items-center gap-2 text-2xl",children:[e.jsx(f,{className:"w-6 h-6"}),"Test Account Manager"]}),e.jsx("p",{className:"text-sm opacity-90 mt-2",children:"Quickly grant premium access to test accounts for Google Play Review"})]}),e.jsxs(w,{className:"p-6 space-y-6",children:[e.jsx(i,{className:"bg-blue-50 border-blue-200",children:e.jsxs(c,{className:"text-blue-800",children:[e.jsx("strong",{children:"Steps:"}),e.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1 text-sm",children:[e.jsx("li",{children:"First, manually create the account in your app (sign up)"}),e.jsx("li",{children:"Enter the account email below"}),e.jsx("li",{children:'Click "Grant Premium Access"'}),e.jsx("li",{children:"Use this account for Google Play Console review"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(P,{htmlFor:"email",className:"text-base font-semibold mb-2 block",children:"Test Account Email"}),e.jsx(y,{id:"email",type:"email",value:r,onChange:s=>h(s.target.value),placeholder:"googlereview@mathadventure.com",className:"h-12 text-base"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the email of an existing account"})]}),e.jsx(v,{onClick:p,disabled:n||!r,className:"w-full h-12 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-lg",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-5 h-5 mr-2"}),"Grant Premium Access"]})})]}),a&&e.jsxs(i,{className:"bg-green-50 border-green-300",children:[e.jsx(A,{className:"w-5 h-5 text-green-600"}),e.jsxs(c,{className:"text-green-800",children:[e.jsx("strong",{className:"block mb-2",children:"âœ… Success! Premium Access Granted"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",a.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tier:"})," Family/Teacher (Full Access)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Expires:"})," ",new Date(a.expiresAt).toLocaleDateString()]}),e.jsxs("p",{className:"mt-3 pt-3 border-t border-green-200",children:[e.jsx("strong",{children:"Test Credentials:"}),e.jsx("br",{}),"Email: ",a.email,e.jsx("br",{}),"Password: (The password you set during signup)"]})]})]})]}),m&&e.jsxs(i,{className:"bg-red-50 border-red-300",children:[e.jsx(k,{className:"w-5 h-5 text-red-600"}),e.jsxs(c,{className:"text-red-800",children:[e.jsx("strong",{className:"block mb-1",children:"Error"}),m]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border-2 border-purple-200",children:[e.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"What This Does:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-purple-800",children:[e.jsx("li",{children:"âœ“ Sets subscription tier to Family/Teacher"}),e.jsx("li",{children:"âœ“ Grants all premium features"}),e.jsx("li",{children:"âœ“ Sets expiration to 1 year from now"}),e.jsx("li",{children:"âœ“ Adds 500 coins and 100 stars"}),e.jsx("li",{children:"âœ“ Disables auto-renewal"})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-2 border-gray-200",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"ðŸ“‹ For Google Play Console:"}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Provide these instructions to reviewers:"}),e.jsx("pre",{className:"bg-white p-3 rounded text-xs border overflow-x-auto",children:`TEST ACCOUNT CREDENTIALS:
Email: ${r}
Password: (Your password)

INSTRUCTIONS:
1. Open Math Adventure app
2. Click "Sign In / Sign Up"  
3. Use credentials above
4. All premium features are unlocked

ACCOUNT FEATURES:
- Family/Teacher subscription active
- All premium content accessible
- Parental controls available
- No payment required

CONTACT:
support@math-adventure.com`})]})]})]})})}export{R as default};
