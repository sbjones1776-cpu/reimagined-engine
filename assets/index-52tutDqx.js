const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PetDisplay-T8ztPqrq.js","assets/progress-DswiN-jt.js","assets/InstallPrompt-CYulZlIm.js","assets/download-k8BXtbsE.js","assets/Home-B1e5oU6L.js","assets/flame-Z4NDYWf0.js","assets/AppTrialPromo-fh-8uCNN.js","assets/zap-BUGd4PS-.js","assets/external-link-B3vh6vLr.js","assets/trending-up-DOxCo9I6.js","assets/target-1p2ICMDN.js","assets/book-open-CsZLkRie.js","assets/plus-CzE6Y-vE.js","assets/minus-CxnUEU8f.js","assets/lock-DVJmOJtR.js","assets/circle-alert-D0KxAb-N.js","assets/palette-C1tdbQoO.js","assets/Game-BSxN8OV2.js","assets/useMutation-Dw-sPjxD.js","assets/CelebrationAnimation-Dc0BowXO.js","assets/TextToSpeech-AHz3T4an.js","assets/rotate-ccw-D8vHVTX7.js","assets/trending-down-CtEqn-BB.js","assets/triangle-alert-BF04o9wv.js","assets/QuestionGenerator-z-c728t7.js","assets/PremiumFeatureLock-DUuDI_YH.js","assets/arrow-left-8gFWt4dJ.js","assets/Progress-CJyc2nxx.js","assets/LineChart-Boznw0oC.js","assets/gift-gU3fLUyU.js","assets/Avatar-DWsPiGGF.js","assets/label-ClTmKTiT.js","assets/tabs-BCUfDdd3.js","assets/AvatarDisplay-BzkYfhqx.js","assets/index-DytiPzxp.js","assets/save-WpcaPzdX.js","assets/DailyChallenge-Bdw758IQ.js","assets/medal-iK-ypg-g.js","assets/ParentPortal-ujdsGIsq.js","assets/textarea-CqrSSpqj.js","assets/select-CEEjSQMd.js","assets/index-K24GeIQO.js","assets/trash-2-jwsEREBw.js","assets/info-BwmiXNr9.js","assets/startOfMonth-D3h4jTlt.js","assets/Shop-CVZgRxJn.js","assets/Leaderboards-Bm79OtXC.js","assets/user-plus-DvDth6Co.js","assets/TeamChallenges-YLDuyulC.js","assets/Subscription-BXM5wPAK.js","assets/GenerateIcons-irEsrbiy.js","assets/loader-circle-BANzzYJc.js","assets/TestIconGeneration-oHdXBYrX.js","assets/Messages-BRMZI1jn.js","assets/ColorByNumbers-JzUc735X.js","assets/paint-bucket-C2C9L7S8.js","assets/Settings-DBhk2Jxw.js","assets/PrivacyPolicy-CiiZkyoZ.js","assets/AITutor-CiJvOfzv.js","assets/AdminTestAccount-DOgC3vLm.js","assets/Subscribe-D5mtZK-4.js"])))=>i.map(i=>d[i]);
var PF=Object.defineProperty;var Bb=t=>{throw TypeError(t)};var CF=(t,e,n)=>e in t?PF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var yw=(t,e,n)=>CF(t,typeof e!="symbol"?e+"":e,n),vw=(t,e,n)=>e.has(t)||Bb("Cannot "+n);var W=(t,e,n)=>(vw(t,e,"read from private field"),n?n.call(t):e.get(t)),Ne=(t,e,n)=>e.has(t)?Bb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),me=(t,e,n,r)=>(vw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ye=(t,e,n)=>(vw(t,e,"access private method"),n);var Xp=(t,e,n,r)=>({set _(s){me(t,e,s,n)},get _(){return W(t,e,r)}});function RF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var one=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ax(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ww={exports:{}},zd={},_w={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function kF(){if($b)return He;$b=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,I={};function S(q,re,ye){this.props=q,this.context=re,this.refs=I,this.updater=ye||E}S.prototype.isReactComponent={},S.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function R(){}R.prototype=S.prototype;function L(q,re,ye){this.props=q,this.context=re,this.refs=I,this.updater=ye||E}var M=L.prototype=new R;M.constructor=L,A(M,S.prototype),M.isPureReactComponent=!0;var F=Array.isArray,B=Object.prototype.hasOwnProperty,G={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function P(q,re,ye){var Ee,Fe={},Oe=null,Se=null;if(re!=null)for(Ee in re.ref!==void 0&&(Se=re.ref),re.key!==void 0&&(Oe=""+re.key),re)B.call(re,Ee)&&!k.hasOwnProperty(Ee)&&(Fe[Ee]=re[Ee]);var ze=arguments.length-2;if(ze===1)Fe.children=ye;else if(1<ze){for(var je=Array(ze),ft=0;ft<ze;ft++)je[ft]=arguments[ft+2];Fe.children=je}if(q&&q.defaultProps)for(Ee in ze=q.defaultProps,ze)Fe[Ee]===void 0&&(Fe[Ee]=ze[Ee]);return{$$typeof:t,type:q,key:Oe,ref:Se,props:Fe,_owner:G.current}}function N(q,re){return{$$typeof:t,type:q.type,key:re,ref:q.ref,props:q.props,_owner:q._owner}}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function j(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ye){return re[ye]})}var z=/\/+/g;function V(q,re){return typeof q=="object"&&q!==null&&q.key!=null?j(""+q.key):re.toString(36)}function Ie(q,re,ye,Ee,Fe){var Oe=typeof q;(Oe==="undefined"||Oe==="boolean")&&(q=null);var Se=!1;if(q===null)Se=!0;else switch(Oe){case"string":case"number":Se=!0;break;case"object":switch(q.$$typeof){case t:case e:Se=!0}}if(Se)return Se=q,Fe=Fe(Se),q=Ee===""?"."+V(Se,0):Ee,F(Fe)?(ye="",q!=null&&(ye=q.replace(z,"$&/")+"/"),Ie(Fe,re,ye,"",function(ft){return ft})):Fe!=null&&(O(Fe)&&(Fe=N(Fe,ye+(!Fe.key||Se&&Se.key===Fe.key?"":(""+Fe.key).replace(z,"$&/")+"/")+q)),re.push(Fe)),1;if(Se=0,Ee=Ee===""?".":Ee+":",F(q))for(var ze=0;ze<q.length;ze++){Oe=q[ze];var je=Ee+V(Oe,ze);Se+=Ie(Oe,re,ye,je,Fe)}else if(je=y(q),typeof je=="function")for(q=je.call(q),ze=0;!(Oe=q.next()).done;)Oe=Oe.value,je=Ee+V(Oe,ze++),Se+=Ie(Oe,re,ye,je,Fe);else if(Oe==="object")throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Se}function Le(q,re,ye){if(q==null)return q;var Ee=[],Fe=0;return Ie(q,Ee,"","",function(Oe){return re.call(ye,Oe,Fe++)}),Ee}function Pe(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(ye){(q._status===0||q._status===-1)&&(q._status=1,q._result=ye)},function(ye){(q._status===0||q._status===-1)&&(q._status=2,q._result=ye)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var fe={current:null},K={transition:null},ne={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:K,ReactCurrentOwner:G};function ie(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:Le,forEach:function(q,re,ye){Le(q,function(){re.apply(this,arguments)},ye)},count:function(q){var re=0;return Le(q,function(){re++}),re},toArray:function(q){return Le(q,function(re){return re})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},He.Component=S,He.Fragment=n,He.Profiler=s,He.PureComponent=L,He.StrictMode=r,He.Suspense=u,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,He.act=ie,He.cloneElement=function(q,re,ye){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Ee=A({},q.props),Fe=q.key,Oe=q.ref,Se=q._owner;if(re!=null){if(re.ref!==void 0&&(Oe=re.ref,Se=G.current),re.key!==void 0&&(Fe=""+re.key),q.type&&q.type.defaultProps)var ze=q.type.defaultProps;for(je in re)B.call(re,je)&&!k.hasOwnProperty(je)&&(Ee[je]=re[je]===void 0&&ze!==void 0?ze[je]:re[je])}var je=arguments.length-2;if(je===1)Ee.children=ye;else if(1<je){ze=Array(je);for(var ft=0;ft<je;ft++)ze[ft]=arguments[ft+2];Ee.children=ze}return{$$typeof:t,type:q.type,key:Fe,ref:Oe,props:Ee,_owner:Se}},He.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:i,_context:q},q.Consumer=q},He.createElement=P,He.createFactory=function(q){var re=P.bind(null,q);return re.type=q,re},He.createRef=function(){return{current:null}},He.forwardRef=function(q){return{$$typeof:c,render:q}},He.isValidElement=O,He.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:Pe}},He.memo=function(q,re){return{$$typeof:h,type:q,compare:re===void 0?null:re}},He.startTransition=function(q){var re=K.transition;K.transition={};try{q()}finally{K.transition=re}},He.unstable_act=ie,He.useCallback=function(q,re){return fe.current.useCallback(q,re)},He.useContext=function(q){return fe.current.useContext(q)},He.useDebugValue=function(){},He.useDeferredValue=function(q){return fe.current.useDeferredValue(q)},He.useEffect=function(q,re){return fe.current.useEffect(q,re)},He.useId=function(){return fe.current.useId()},He.useImperativeHandle=function(q,re,ye){return fe.current.useImperativeHandle(q,re,ye)},He.useInsertionEffect=function(q,re){return fe.current.useInsertionEffect(q,re)},He.useLayoutEffect=function(q,re){return fe.current.useLayoutEffect(q,re)},He.useMemo=function(q,re){return fe.current.useMemo(q,re)},He.useReducer=function(q,re,ye){return fe.current.useReducer(q,re,ye)},He.useRef=function(q){return fe.current.useRef(q)},He.useState=function(q){return fe.current.useState(q)},He.useSyncExternalStore=function(q,re,ye){return fe.current.useSyncExternalStore(q,re,ye)},He.useTransition=function(){return fe.current.useTransition()},He.version="18.3.1",He}var zb;function lx(){return zb||(zb=1,_w.exports=kF()),_w.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function NF(){if(Wb)return zd;Wb=1;var t=lx(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,h){var p,g={},y=null,E=null;h!==void 0&&(y=""+h),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(E=u.ref);for(p in u)r.call(u,p)&&!i.hasOwnProperty(p)&&(g[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)g[p]===void 0&&(g[p]=u[p]);return{$$typeof:e,type:c,key:y,ref:E,props:g,_owner:s.current}}return zd.Fragment=n,zd.jsx=a,zd.jsxs=a,zd}var qb;function DF(){return qb||(qb=1,ww.exports=NF()),ww.exports}var x=DF(),T=lx();const Zt=ax(T),cx=RF({__proto__:null,default:Zt},[T]);var Jp={},xw={exports:{}},Gn={},Ew={exports:{}},Tw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function MF(){return Hb||(Hb=1,(function(t){function e(K,ne){var ie=K.length;K.push(ne);e:for(;0<ie;){var q=ie-1>>>1,re=K[q];if(0<s(re,ne))K[q]=ne,K[ie]=re,ie=q;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ne=K[0],ie=K.pop();if(ie!==ne){K[0]=ie;e:for(var q=0,re=K.length,ye=re>>>1;q<ye;){var Ee=2*(q+1)-1,Fe=K[Ee],Oe=Ee+1,Se=K[Oe];if(0>s(Fe,ie))Oe<re&&0>s(Se,Fe)?(K[q]=Se,K[Oe]=ie,q=Oe):(K[q]=Fe,K[Ee]=ie,q=Ee);else if(Oe<re&&0>s(Se,ie))K[q]=Se,K[Oe]=ie,q=Oe;else break e}}return ne}function s(K,ne){var ie=K.sortIndex-ne.sortIndex;return ie!==0?ie:K.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],h=[],p=1,g=null,y=3,E=!1,A=!1,I=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(K){for(var ne=n(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=K)r(h),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=n(h)}}function F(K){if(I=!1,M(K),!A)if(n(u)!==null)A=!0,Pe(B);else{var ne=n(h);ne!==null&&fe(F,ne.startTime-K)}}function B(K,ne){A=!1,I&&(I=!1,R(P),P=-1),E=!0;var ie=y;try{for(M(ne),g=n(u);g!==null&&(!(g.expirationTime>ne)||K&&!j());){var q=g.callback;if(typeof q=="function"){g.callback=null,y=g.priorityLevel;var re=q(g.expirationTime<=ne);ne=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(u)&&r(u),M(ne)}else r(u);g=n(u)}if(g!==null)var ye=!0;else{var Ee=n(h);Ee!==null&&fe(F,Ee.startTime-ne),ye=!1}return ye}finally{g=null,y=ie,E=!1}}var G=!1,k=null,P=-1,N=5,O=-1;function j(){return!(t.unstable_now()-O<N)}function z(){if(k!==null){var K=t.unstable_now();O=K;var ne=!0;try{ne=k(!0,K)}finally{ne?V():(G=!1,k=null)}}else G=!1}var V;if(typeof L=="function")V=function(){L(z)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,Le=Ie.port2;Ie.port1.onmessage=z,V=function(){Le.postMessage(null)}}else V=function(){S(z,0)};function Pe(K){k=K,G||(G=!0,V())}function fe(K,ne){P=S(function(){K(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){A||E||(A=!0,Pe(B))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(K){switch(y){case 1:case 2:case 3:var ne=3;break;default:ne=y}var ie=y;y=ne;try{return K()}finally{y=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ie=y;y=K;try{return ne()}finally{y=ie}},t.unstable_scheduleCallback=function(K,ne,ie){var q=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?q+ie:q):ie=q,K){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ie+re,K={id:p++,callback:ne,priorityLevel:K,startTime:ie,expirationTime:re,sortIndex:-1},ie>q?(K.sortIndex=ie,e(h,K),n(u)===null&&K===n(h)&&(I?(R(P),P=-1):I=!0,fe(F,ie-q))):(K.sortIndex=re,e(u,K),A||E||(A=!0,Pe(B))),K},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(K){var ne=y;return function(){var ie=y;y=ne;try{return K.apply(this,arguments)}finally{y=ie}}}})(Tw)),Tw}var Gb;function OF(){return Gb||(Gb=1,Ew.exports=MF()),Ew.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function VF(){if(Kb)return Gn;Kb=1;var t=lx(),e=OF();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(s[o]=l,o=0;o<l.length;o++)r.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(o){return u.call(g,o)?!0:u.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function E(o,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function A(o,l,d,m){if(l===null||typeof l>"u"||E(o,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function I(o,l,d,m,v,w,C){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=w,this.removeEmptyString=C}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new I(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];S[l]=new I(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new I(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new I(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new I(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new I(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new I(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new I(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new I(o,5,!1,o.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(R,L);S[l]=new I(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(R,L);S[l]=new I(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(R,L);S[l]=new I(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new I(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new I(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,l,d,m){var v=S.hasOwnProperty(l)?S[l]:null;(v!==null?v.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(A(l,d,v,m)&&(d=null),m||v===null?y(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):v.mustUseProperty?o[v.propertyName]=d===null?v.type===3?!1:"":d:(l=v.attributeName,m=v.attributeNamespace,d===null?o.removeAttribute(l):(v=v.type,d=v===3||v===4&&d===!0?"":""+d,m?o.setAttributeNS(m,l,d):o.setAttribute(l,d))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),G=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),K=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=K&&o[K]||o["@@iterator"],typeof o=="function"?o:null)}var ie=Object.assign,q;function re(o){if(q===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+o}var ye=!1;function Ee(o,l){if(!o||ye)return"";ye=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var m=Z}Reflect.construct(o,[],l)}else{try{l.call()}catch(Z){m=Z}o.call(l.prototype)}else{try{throw Error()}catch(Z){m=Z}o()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var v=Z.stack.split(`
`),w=m.stack.split(`
`),C=v.length-1,U=w.length-1;1<=C&&0<=U&&v[C]!==w[U];)U--;for(;1<=C&&0<=U;C--,U--)if(v[C]!==w[U]){if(C!==1||U!==1)do if(C--,U--,0>U||v[C]!==w[U]){var $=`
`+v[C].replace(" at new "," at ");return o.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",o.displayName)),$}while(1<=C&&0<=U);break}}}finally{ye=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?re(o):""}function Fe(o){switch(o.tag){case 5:return re(o.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return o=Ee(o.type,!1),o;case 11:return o=Ee(o.type.render,!1),o;case 1:return o=Ee(o.type,!0),o;default:return""}}function Oe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case G:return"Portal";case N:return"Profiler";case P:return"StrictMode";case V:return"Suspense";case Ie:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case j:return(o.displayName||"Context")+".Consumer";case O:return(o._context.displayName||"Context")+".Provider";case z:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Le:return l=o.displayName||null,l!==null?l:Oe(o.type)||"Memo";case Pe:l=o._payload,o=o._init;try{return Oe(o(l))}catch{}}return null}function Se(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(l);case 8:return l===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ze(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function je(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ft(o){var l=je(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,w=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return v.call(this)},set:function(C){m=""+C,w.call(this,C)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(C){m=""+C},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function er(o){o._valueTracker||(o._valueTracker=ft(o))}function tr(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=je(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function Bn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ti(o,l){var d=l.checked;return ie({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function ql(o,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=ze(l.value!=null?l.value:d),o._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Gi(o,l){l=l.checked,l!=null&&M(o,"checked",l,!1)}function ni(o,l){Gi(o,l);var d=ze(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?gt(o,l.type,d):l.hasOwnProperty("defaultValue")&&gt(o,l.type,ze(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function pa(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function gt(o,l,d){(l!=="number"||Bn(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var jt=Array.isArray;function Br(o,l,d,m){if(o=o.options,l){l={};for(var v=0;v<d.length;v++)l["$"+d[v]]=!0;for(d=0;d<o.length;d++)v=l.hasOwnProperty("$"+o[d].value),o[d].selected!==v&&(o[d].selected=v),v&&m&&(o[d].defaultSelected=!0)}else{for(d=""+ze(d),l=null,v=0;v<o.length;v++){if(o[v].value===d){o[v].selected=!0,m&&(o[v].defaultSelected=!0);return}l!==null||o[v].disabled||(l=o[v])}l!==null&&(l.selected=!0)}}function Xu(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ju(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(jt(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:ze(d)}}function Lf(o,l){var d=ze(l.value),m=ze(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),m!=null&&(o.defaultValue=""+m)}function Ki(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Zu(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hl(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Zu(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Qi,Ff=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,v){MSApp.execUnsafeLocalFunction(function(){return o(l,d,m,v)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Qi=Qi||document.createElement("div"),Qi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Qi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function ma(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jf=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(o){jf.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Yi[l]=Yi[o]})});function Xi(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Yi.hasOwnProperty(o)&&Yi[o]?(""+l).trim():l+"px"}function Gl(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,v=Xi(d,l[d],m);d==="float"&&(d="cssFloat"),m?o.setProperty(d,v):o[d]=v}}var ed=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $r(o,l){if(l){if(ed[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Kl(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ji=null;function Ql(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ri=null,si=null,kt=null;function td(o){if(o=Pd(o)){if(typeof ri!="function")throw Error(n(280));var l=o.stateNode;l&&(l=hp(l),ri(o.stateNode,o.type,l))}}function Zi(o){si?kt?kt.push(o):kt=[o]:si=o}function eo(){if(si){var o=si,l=kt;if(kt=si=null,td(o),l)for(o=0;o<l.length;o++)td(l[o])}}function Uf(o,l){return o(l)}function Bf(){}var ds=!1;function $f(o,l,d){if(ds)return o(l,d);ds=!0;try{return Uf(o,l,d)}finally{ds=!1,(si!==null||kt!==null)&&(Bf(),eo())}}function ga(o,l){var d=o.stateNode;if(d===null)return null;var m=hp(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var to=!1;if(c)try{var no={};Object.defineProperty(no,"passive",{get:function(){to=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{to=!1}function zf(o,l,d,m,v,w,C,U,$){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(d,Z)}catch(oe){this.onError(oe)}}var ii=!1,hs=null,Yl=!1,vr=null,Wf={onError:function(o){ii=!0,hs=o}};function qf(o,l,d,m,v,w,C,U,$){ii=!1,hs=null,zf.apply(Wf,arguments)}function nd(o,l,d,m,v,w,C,U,$){if(qf.apply(this,arguments),ii){if(ii){var Z=hs;ii=!1,hs=null}else throw Error(n(198));Yl||(Yl=!0,vr=Z)}}function zr(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function rd(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Hf(o){if(zr(o)!==o)throw Error(n(188))}function Gf(o){var l=o.alternate;if(!l){if(l=zr(o),l===null)throw Error(n(188));return l!==o?null:o}for(var d=o,m=l;;){var v=d.return;if(v===null)break;var w=v.alternate;if(w===null){if(m=v.return,m!==null){d=m;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===d)return Hf(v),o;if(w===m)return Hf(v),l;w=w.sibling}throw Error(n(188))}if(d.return!==m.return)d=v,m=w;else{for(var C=!1,U=v.child;U;){if(U===d){C=!0,d=v,m=w;break}if(U===m){C=!0,m=v,d=w;break}U=U.sibling}if(!C){for(U=w.child;U;){if(U===d){C=!0,d=w,m=v;break}if(U===m){C=!0,m=w,d=v;break}U=U.sibling}if(!C)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:l}function Kf(o){return o=Gf(o),o!==null?ya(o):null}function ya(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=ya(o);if(l!==null)return l;o=o.sibling}return null}var sd=e.unstable_scheduleCallback,Xl=e.unstable_cancelCallback,va=e.unstable_shouldYield,oi=e.unstable_requestPaint,yt=e.unstable_now,Ky=e.unstable_getCurrentPriorityLevel,Jl=e.unstable_ImmediatePriority,id=e.unstable_UserBlockingPriority,wa=e.unstable_NormalPriority,od=e.unstable_LowPriority,Zl=e.unstable_IdlePriority,_a=null,nr=null;function Qf(o){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(_a,o,void 0,(o.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:xa,fs=Math.log,wr=Math.LN2;function xa(o){return o>>>=0,o===0?32:31-(fs(o)/wr|0)|0}var ps=64,ro=4194304;function it(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ai(o,l){var d=o.pendingLanes;if(d===0)return 0;var m=0,v=o.suspendedLanes,w=o.pingedLanes,C=d&268435455;if(C!==0){var U=C&~v;U!==0?m=it(U):(w&=C,w!==0&&(m=it(w)))}else C=d&~v,C!==0?m=it(C):w!==0&&(m=it(w));if(m===0)return 0;if(l!==0&&l!==m&&(l&v)===0&&(v=m&-m,w=l&-l,v>=w||v===16&&(w&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=m;0<l;)d=31-rr(l),v=1<<d,m|=o[d],l&=~v;return m}function Ea(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ta(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,v=o.expirationTimes,w=o.pendingLanes;0<w;){var C=31-rr(w),U=1<<C,$=v[C];$===-1?((U&d)===0||(U&m)!==0)&&(v[C]=Ea(U,l)):$<=l&&(o.expiredLanes|=U),w&=~U}}function ad(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ld(){var o=ps;return ps<<=1,(ps&4194240)===0&&(ps=64),o}function cd(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Ia(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-rr(l),o[l]=d}function Qy(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<d;){var v=31-rr(d),w=1<<v;l[v]=0,m[v]=-1,o[v]=-1,d&=~w}}function ud(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-rr(d),v=1<<m;v&l|o[m]&l&&(o[m]|=l),d&=~v}}var Qe=0;function ms(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var dd,ec,hd,fd,pd,gs=!1,tc=[],ys=null,vs=null,cn=null,ba=new Map,li=new Map,sr=[],Yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function so(o,l){switch(o){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":ba.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(l.pointerId)}}function Wr(o,l,d,m,v,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[v]},l!==null&&(l=Pd(l),l!==null&&ec(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),o)}function Xf(o,l,d,m,v){switch(l){case"focusin":return ys=Wr(ys,o,l,d,m,v),!0;case"dragenter":return vs=Wr(vs,o,l,d,m,v),!0;case"mouseover":return cn=Wr(cn,o,l,d,m,v),!0;case"pointerover":var w=v.pointerId;return ba.set(w,Wr(ba.get(w)||null,o,l,d,m,v)),!0;case"gotpointercapture":return w=v.pointerId,li.set(w,Wr(li.get(w)||null,o,l,d,m,v)),!0}return!1}function nc(o){var l=Ca(o.target);if(l!==null){var d=zr(l);if(d!==null){if(l=d.tag,l===13){if(l=rd(d),l!==null){o.blockedOn=l,pd(o.priority,function(){hd(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ht(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=rc(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);Ji=m,d.target.dispatchEvent(m),Ji=null}else return l=Pd(d),l!==null&&ec(l),o.blockedOn=d,!1;l.shift()}return!0}function Jf(o,l,d){ht(o)&&d.delete(l)}function Yy(){gs=!1,ys!==null&&ht(ys)&&(ys=null),vs!==null&&ht(vs)&&(vs=null),cn!==null&&ht(cn)&&(cn=null),ba.forEach(Jf),li.forEach(Jf)}function io(o,l){o.blockedOn===l&&(o.blockedOn=null,gs||(gs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yy)))}function oo(o){function l(v){return io(v,o)}if(0<tc.length){io(tc[0],o);for(var d=1;d<tc.length;d++){var m=tc[d];m.blockedOn===o&&(m.blockedOn=null)}}for(ys!==null&&io(ys,o),vs!==null&&io(vs,o),cn!==null&&io(cn,o),ba.forEach(l),li.forEach(l),d=0;d<sr.length;d++)m=sr[d],m.blockedOn===o&&(m.blockedOn=null);for(;0<sr.length&&(d=sr[0],d.blockedOn===null);)nc(d),d.blockedOn===null&&sr.shift()}var ci=F.ReactCurrentBatchConfig,ui=!0;function ws(o,l,d,m){var v=Qe,w=ci.transition;ci.transition=null;try{Qe=1,md(o,l,d,m)}finally{Qe=v,ci.transition=w}}function Zf(o,l,d,m){var v=Qe,w=ci.transition;ci.transition=null;try{Qe=4,md(o,l,d,m)}finally{Qe=v,ci.transition=w}}function md(o,l,d,m){if(ui){var v=rc(o,l,d,m);if(v===null)av(o,l,m,_s,d),so(o,m);else if(Xf(v,o,l,d,m))m.stopPropagation();else if(so(o,m),l&4&&-1<Yf.indexOf(o)){for(;v!==null;){var w=Pd(v);if(w!==null&&dd(w),w=rc(o,l,d,m),w===null&&av(o,l,m,_s,d),w===v)break;v=w}v!==null&&m.stopPropagation()}else av(o,l,m,null,d)}}var _s=null;function rc(o,l,d,m){if(_s=null,o=Ql(m),o=Ca(o),o!==null)if(l=zr(o),l===null)o=null;else if(d=l.tag,d===13){if(o=rd(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return _s=o,null}function sc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ky()){case Jl:return 1;case id:return 4;case wa:case od:return 16;case Zl:return 536870912;default:return 16}default:return 16}}var ir=null,ic=null,di=null;function ep(){if(di)return di;var o,l=ic,d=l.length,m,v="value"in ir?ir.value:ir.textContent,w=v.length;for(o=0;o<d&&l[o]===v[o];o++);var C=d-o;for(m=1;m<=C&&l[d-m]===v[w-m];m++);return di=v.slice(o,1<m?1-m:void 0)}function Sa(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function xs(){return!0}function gd(){return!1}function yn(o){function l(d,m,v,w,C){this._reactName=d,this._targetInst=v,this.type=m,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(d=o[U],this[U]=d?d(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?xs:gd,this.isPropagationStopped=gd,this}return ie(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),l}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=yn(Es),ao=ie({},Es,{view:0,detail:0}),oc=yn(ao),ac,lc,or,Pa=ie({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$e,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==or&&(or&&o.type==="mousemove"?(ac=o.screenX-or.screenX,lc=o.screenY-or.screenY):lc=ac=0,or=o),ac)},movementY:function(o){return"movementY"in o?o.movementY:lc}}),yd=yn(Pa),tp=ie({},Pa,{dataTransfer:0}),np=yn(tp),cc=ie({},ao,{relatedTarget:0}),un=yn(cc),rp=ie({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),sp=yn(rp),lo=ie({},Es,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),f=yn(lo),_=ie({},Es,{data:0}),b=yn(_),D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function de(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=ee[o])?!!l[o]:!1}function $e(){return de}var Ut=ie({},ao,{key:function(o){if(o.key){var l=D[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Sa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?X[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$e,charCode:function(o){return o.type==="keypress"?Sa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Sa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),lt=yn(Ut),Wt=ie({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ar=yn(Wt),hi=ie({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$e}),Ts=yn(hi),Is=ie({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),uc=yn(Is),vd=ie({},Pa,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),EL=yn(vd),TL=[9,13,27,32],Xy=c&&"CompositionEvent"in window,wd=null;c&&"documentMode"in document&&(wd=document.documentMode);var IL=c&&"TextEvent"in window&&!wd,DT=c&&(!Xy||wd&&8<wd&&11>=wd),MT=" ",OT=!1;function VT(o,l){switch(o){case"keyup":return TL.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LT(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var dc=!1;function bL(o,l){switch(o){case"compositionend":return LT(l);case"keypress":return l.which!==32?null:(OT=!0,MT);case"textInput":return o=l.data,o===MT&&OT?null:o;default:return null}}function SL(o,l){if(dc)return o==="compositionend"||!Xy&&VT(o,l)?(o=ep(),di=ic=ir=null,dc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return DT&&l.locale!=="ko"?null:l.data;default:return null}}var AL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FT(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!AL[o.type]:l==="textarea"}function jT(o,l,d,m){Zi(m),l=cp(l,"onChange"),0<l.length&&(d=new Aa("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var _d=null,xd=null;function PL(o){rI(o,0)}function ip(o){var l=gc(o);if(tr(l))return o}function CL(o,l){if(o==="change")return l}var UT=!1;if(c){var Jy;if(c){var Zy="oninput"in document;if(!Zy){var BT=document.createElement("div");BT.setAttribute("oninput","return;"),Zy=typeof BT.oninput=="function"}Jy=Zy}else Jy=!1;UT=Jy&&(!document.documentMode||9<document.documentMode)}function $T(){_d&&(_d.detachEvent("onpropertychange",zT),xd=_d=null)}function zT(o){if(o.propertyName==="value"&&ip(xd)){var l=[];jT(l,xd,o,Ql(o)),$f(PL,l)}}function RL(o,l,d){o==="focusin"?($T(),_d=l,xd=d,_d.attachEvent("onpropertychange",zT)):o==="focusout"&&$T()}function kL(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ip(xd)}function NL(o,l){if(o==="click")return ip(l)}function DL(o,l){if(o==="input"||o==="change")return ip(l)}function ML(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var qr=typeof Object.is=="function"?Object.is:ML;function Ed(o,l){if(qr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var v=d[m];if(!u.call(l,v)||!qr(o[v],l[v]))return!1}return!0}function WT(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function qT(o,l){var d=WT(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=WT(d)}}function HT(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?HT(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function GT(){for(var o=window,l=Bn();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=Bn(o.document)}return l}function ev(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function OL(o){var l=GT(),d=o.focusedElem,m=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&HT(d.ownerDocument.documentElement,d)){if(m!==null&&ev(d)){if(l=m.start,o=m.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var v=d.textContent.length,w=Math.min(m.start,v);m=m.end===void 0?w:Math.min(m.end,v),!o.extend&&w>m&&(v=m,m=w,w=v),v=qT(d,w);var C=qT(d,m);v&&C&&(o.rangeCount!==1||o.anchorNode!==v.node||o.anchorOffset!==v.offset||o.focusNode!==C.node||o.focusOffset!==C.offset)&&(l=l.createRange(),l.setStart(v.node,v.offset),o.removeAllRanges(),w>m?(o.addRange(l),o.extend(C.node,C.offset)):(l.setEnd(C.node,C.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var VL=c&&"documentMode"in document&&11>=document.documentMode,hc=null,tv=null,Td=null,nv=!1;function KT(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;nv||hc==null||hc!==Bn(m)||(m=hc,"selectionStart"in m&&ev(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Td&&Ed(Td,m)||(Td=m,m=cp(tv,"onSelect"),0<m.length&&(l=new Aa("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=hc)))}function op(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var fc={animationend:op("Animation","AnimationEnd"),animationiteration:op("Animation","AnimationIteration"),animationstart:op("Animation","AnimationStart"),transitionend:op("Transition","TransitionEnd")},rv={},QT={};c&&(QT=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function ap(o){if(rv[o])return rv[o];if(!fc[o])return o;var l=fc[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in QT)return rv[o]=l[d];return o}var YT=ap("animationend"),XT=ap("animationiteration"),JT=ap("animationstart"),ZT=ap("transitionend"),eI=new Map,tI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(o,l){eI.set(o,l),i(l,[o])}for(var sv=0;sv<tI.length;sv++){var iv=tI[sv],LL=iv.toLowerCase(),FL=iv[0].toUpperCase()+iv.slice(1);co(LL,"on"+FL)}co(YT,"onAnimationEnd"),co(XT,"onAnimationIteration"),co(JT,"onAnimationStart"),co("dblclick","onDoubleClick"),co("focusin","onFocus"),co("focusout","onBlur"),co(ZT,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Id));function nI(o,l,d){var m=o.type||"unknown-event";o.currentTarget=d,nd(m,l,void 0,o),o.currentTarget=null}function rI(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],v=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var C=m.length-1;0<=C;C--){var U=m[C],$=U.instance,Z=U.currentTarget;if(U=U.listener,$!==w&&v.isPropagationStopped())break e;nI(v,U,Z),w=$}else for(C=0;C<m.length;C++){if(U=m[C],$=U.instance,Z=U.currentTarget,U=U.listener,$!==w&&v.isPropagationStopped())break e;nI(v,U,Z),w=$}}}if(Yl)throw o=vr,Yl=!1,vr=null,o}function vt(o,l){var d=l[fv];d===void 0&&(d=l[fv]=new Set);var m=o+"__bubble";d.has(m)||(sI(l,o,2,!1),d.add(m))}function ov(o,l,d){var m=0;l&&(m|=4),sI(d,o,m,l)}var lp="_reactListening"+Math.random().toString(36).slice(2);function bd(o){if(!o[lp]){o[lp]=!0,r.forEach(function(d){d!=="selectionchange"&&(jL.has(d)||ov(d,!1,o),ov(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[lp]||(l[lp]=!0,ov("selectionchange",!1,l))}}function sI(o,l,d,m){switch(sc(l)){case 1:var v=ws;break;case 4:v=Zf;break;default:v=md}d=v.bind(null,l,d,o),v=void 0,!to||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?o.addEventListener(l,d,{capture:!0,passive:v}):o.addEventListener(l,d,!0):v!==void 0?o.addEventListener(l,d,{passive:v}):o.addEventListener(l,d,!1)}function av(o,l,d,m,v){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var U=m.stateNode.containerInfo;if(U===v||U.nodeType===8&&U.parentNode===v)break;if(C===4)for(C=m.return;C!==null;){var $=C.tag;if(($===3||$===4)&&($=C.stateNode.containerInfo,$===v||$.nodeType===8&&$.parentNode===v))return;C=C.return}for(;U!==null;){if(C=Ca(U),C===null)return;if($=C.tag,$===5||$===6){m=w=C;continue e}U=U.parentNode}}m=m.return}$f(function(){var Z=w,oe=Ql(d),ae=[];e:{var se=eI.get(o);if(se!==void 0){var pe=Aa,ve=o;switch(o){case"keypress":if(Sa(d)===0)break e;case"keydown":case"keyup":pe=lt;break;case"focusin":ve="focus",pe=un;break;case"focusout":ve="blur",pe=un;break;case"beforeblur":case"afterblur":pe=un;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=np;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Ts;break;case YT:case XT:case JT:pe=sp;break;case ZT:pe=uc;break;case"scroll":pe=oc;break;case"wheel":pe=EL;break;case"copy":case"cut":case"paste":pe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=ar}var Te=(l&4)!==0,Bt=!Te&&o==="scroll",Y=Te?se!==null?se+"Capture":null:se;Te=[];for(var H=Z,J;H!==null;){J=H;var ce=J.stateNode;if(J.tag===5&&ce!==null&&(J=ce,Y!==null&&(ce=ga(H,Y),ce!=null&&Te.push(Sd(H,ce,J)))),Bt)break;H=H.return}0<Te.length&&(se=new pe(se,ve,null,d,oe),ae.push({event:se,listeners:Te}))}}if((l&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",pe=o==="mouseout"||o==="pointerout",se&&d!==Ji&&(ve=d.relatedTarget||d.fromElement)&&(Ca(ve)||ve[fi]))break e;if((pe||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,pe?(ve=d.relatedTarget||d.toElement,pe=Z,ve=ve?Ca(ve):null,ve!==null&&(Bt=zr(ve),ve!==Bt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=Z),pe!==ve)){if(Te=yd,ce="onMouseLeave",Y="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Te=ar,ce="onPointerLeave",Y="onPointerEnter",H="pointer"),Bt=pe==null?se:gc(pe),J=ve==null?se:gc(ve),se=new Te(ce,H+"leave",pe,d,oe),se.target=Bt,se.relatedTarget=J,ce=null,Ca(oe)===Z&&(Te=new Te(Y,H+"enter",ve,d,oe),Te.target=J,Te.relatedTarget=Bt,ce=Te),Bt=ce,pe&&ve)t:{for(Te=pe,Y=ve,H=0,J=Te;J;J=pc(J))H++;for(J=0,ce=Y;ce;ce=pc(ce))J++;for(;0<H-J;)Te=pc(Te),H--;for(;0<J-H;)Y=pc(Y),J--;for(;H--;){if(Te===Y||Y!==null&&Te===Y.alternate)break t;Te=pc(Te),Y=pc(Y)}Te=null}else Te=null;pe!==null&&iI(ae,se,pe,Te,!1),ve!==null&&Bt!==null&&iI(ae,Bt,ve,Te,!0)}}e:{if(se=Z?gc(Z):window,pe=se.nodeName&&se.nodeName.toLowerCase(),pe==="select"||pe==="input"&&se.type==="file")var be=CL;else if(FT(se))if(UT)be=DL;else{be=kL;var Re=RL}else(pe=se.nodeName)&&pe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(be=NL);if(be&&(be=be(o,Z))){jT(ae,be,d,oe);break e}Re&&Re(o,se,Z),o==="focusout"&&(Re=se._wrapperState)&&Re.controlled&&se.type==="number"&&gt(se,"number",se.value)}switch(Re=Z?gc(Z):window,o){case"focusin":(FT(Re)||Re.contentEditable==="true")&&(hc=Re,tv=Z,Td=null);break;case"focusout":Td=tv=hc=null;break;case"mousedown":nv=!0;break;case"contextmenu":case"mouseup":case"dragend":nv=!1,KT(ae,d,oe);break;case"selectionchange":if(VL)break;case"keydown":case"keyup":KT(ae,d,oe)}var ke;if(Xy)e:{switch(o){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else dc?VT(o,d)&&(Ve="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Ve="onCompositionStart");Ve&&(DT&&d.locale!=="ko"&&(dc||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&dc&&(ke=ep()):(ir=oe,ic="value"in ir?ir.value:ir.textContent,dc=!0)),Re=cp(Z,Ve),0<Re.length&&(Ve=new b(Ve,o,null,d,oe),ae.push({event:Ve,listeners:Re}),ke?Ve.data=ke:(ke=LT(d),ke!==null&&(Ve.data=ke)))),(ke=IL?bL(o,d):SL(o,d))&&(Z=cp(Z,"onBeforeInput"),0<Z.length&&(oe=new b("onBeforeInput","beforeinput",null,d,oe),ae.push({event:oe,listeners:Z}),oe.data=ke))}rI(ae,l)})}function Sd(o,l,d){return{instance:o,listener:l,currentTarget:d}}function cp(o,l){for(var d=l+"Capture",m=[];o!==null;){var v=o,w=v.stateNode;v.tag===5&&w!==null&&(v=w,w=ga(o,d),w!=null&&m.unshift(Sd(o,w,v)),w=ga(o,l),w!=null&&m.push(Sd(o,w,v))),o=o.return}return m}function pc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function iI(o,l,d,m,v){for(var w=l._reactName,C=[];d!==null&&d!==m;){var U=d,$=U.alternate,Z=U.stateNode;if($!==null&&$===m)break;U.tag===5&&Z!==null&&(U=Z,v?($=ga(d,w),$!=null&&C.unshift(Sd(d,$,U))):v||($=ga(d,w),$!=null&&C.push(Sd(d,$,U)))),d=d.return}C.length!==0&&o.push({event:l,listeners:C})}var UL=/\r\n?/g,BL=/\u0000|\uFFFD/g;function oI(o){return(typeof o=="string"?o:""+o).replace(UL,`
`).replace(BL,"")}function up(o,l,d){if(l=oI(l),oI(o)!==l&&d)throw Error(n(425))}function dp(){}var lv=null,cv=null;function uv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var dv=typeof setTimeout=="function"?setTimeout:void 0,$L=typeof clearTimeout=="function"?clearTimeout:void 0,aI=typeof Promise=="function"?Promise:void 0,zL=typeof queueMicrotask=="function"?queueMicrotask:typeof aI<"u"?function(o){return aI.resolve(null).then(o).catch(WL)}:dv;function WL(o){setTimeout(function(){throw o})}function hv(o,l){var d=l,m=0;do{var v=d.nextSibling;if(o.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(m===0){o.removeChild(v),oo(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=v}while(d);oo(l)}function uo(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function lI(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var mc=Math.random().toString(36).slice(2),bs="__reactFiber$"+mc,Ad="__reactProps$"+mc,fi="__reactContainer$"+mc,fv="__reactEvents$"+mc,qL="__reactListeners$"+mc,HL="__reactHandles$"+mc;function Ca(o){var l=o[bs];if(l)return l;for(var d=o.parentNode;d;){if(l=d[fi]||d[bs]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=lI(o);o!==null;){if(d=o[bs])return d;o=lI(o)}return l}o=d,d=o.parentNode}return null}function Pd(o){return o=o[bs]||o[fi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function gc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function hp(o){return o[Ad]||null}var pv=[],yc=-1;function ho(o){return{current:o}}function wt(o){0>yc||(o.current=pv[yc],pv[yc]=null,yc--)}function pt(o,l){yc++,pv[yc]=o.current,o.current=l}var fo={},vn=ho(fo),$n=ho(!1),Ra=fo;function vc(o,l){var d=o.type.contextTypes;if(!d)return fo;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in d)v[w]=l[w];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=v),v}function zn(o){return o=o.childContextTypes,o!=null}function fp(){wt($n),wt(vn)}function cI(o,l,d){if(vn.current!==fo)throw Error(n(168));pt(vn,l),pt($n,d)}function uI(o,l,d){var m=o.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var v in m)if(!(v in l))throw Error(n(108,Se(o)||"Unknown",v));return ie({},d,m)}function pp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||fo,Ra=vn.current,pt(vn,o),pt($n,$n.current),!0}function dI(o,l,d){var m=o.stateNode;if(!m)throw Error(n(169));d?(o=uI(o,l,Ra),m.__reactInternalMemoizedMergedChildContext=o,wt($n),wt(vn),pt(vn,o)):wt($n),pt($n,d)}var pi=null,mp=!1,mv=!1;function hI(o){pi===null?pi=[o]:pi.push(o)}function GL(o){mp=!0,hI(o)}function po(){if(!mv&&pi!==null){mv=!0;var o=0,l=Qe;try{var d=pi;for(Qe=1;o<d.length;o++){var m=d[o];do m=m(!0);while(m!==null)}pi=null,mp=!1}catch(v){throw pi!==null&&(pi=pi.slice(o+1)),sd(Jl,po),v}finally{Qe=l,mv=!1}}return null}var wc=[],_c=0,gp=null,yp=0,_r=[],xr=0,ka=null,mi=1,gi="";function Na(o,l){wc[_c++]=yp,wc[_c++]=gp,gp=o,yp=l}function fI(o,l,d){_r[xr++]=mi,_r[xr++]=gi,_r[xr++]=ka,ka=o;var m=mi;o=gi;var v=32-rr(m)-1;m&=~(1<<v),d+=1;var w=32-rr(l)+v;if(30<w){var C=v-v%5;w=(m&(1<<C)-1).toString(32),m>>=C,v-=C,mi=1<<32-rr(l)+v|d<<v|m,gi=w+o}else mi=1<<w|d<<v|m,gi=o}function gv(o){o.return!==null&&(Na(o,1),fI(o,1,0))}function yv(o){for(;o===gp;)gp=wc[--_c],wc[_c]=null,yp=wc[--_c],wc[_c]=null;for(;o===ka;)ka=_r[--xr],_r[xr]=null,gi=_r[--xr],_r[xr]=null,mi=_r[--xr],_r[xr]=null}var lr=null,cr=null,xt=!1,Hr=null;function pI(o,l){var d=br(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function mI(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,lr=o,cr=uo(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,lr=o,cr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=ka!==null?{id:mi,overflow:gi}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=br(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,lr=o,cr=null,!0):!1;default:return!1}}function vv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function wv(o){if(xt){var l=cr;if(l){var d=l;if(!mI(o,l)){if(vv(o))throw Error(n(418));l=uo(d.nextSibling);var m=lr;l&&mI(o,l)?pI(m,d):(o.flags=o.flags&-4097|2,xt=!1,lr=o)}}else{if(vv(o))throw Error(n(418));o.flags=o.flags&-4097|2,xt=!1,lr=o}}}function gI(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;lr=o}function vp(o){if(o!==lr)return!1;if(!xt)return gI(o),xt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!uv(o.type,o.memoizedProps)),l&&(l=cr)){if(vv(o))throw yI(),Error(n(418));for(;l;)pI(o,l),l=uo(l.nextSibling)}if(gI(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){cr=uo(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}cr=null}}else cr=lr?uo(o.stateNode.nextSibling):null;return!0}function yI(){for(var o=cr;o;)o=uo(o.nextSibling)}function xc(){cr=lr=null,xt=!1}function _v(o){Hr===null?Hr=[o]:Hr.push(o)}var KL=F.ReactCurrentBatchConfig;function Cd(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,o));var v=m,w=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(C){var U=v.refs;C===null?delete U[w]:U[w]=C},l._stringRef=w,l)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function wp(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function vI(o){var l=o._init;return l(o._payload)}function wI(o){function l(Y,H){if(o){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function d(Y,H){if(!o)return null;for(;H!==null;)l(Y,H),H=H.sibling;return null}function m(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function v(Y,H){return Y=Eo(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=2,H):J):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function C(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,H,J,ce){return H===null||H.tag!==6?(H=dw(J,Y.mode,ce),H.return=Y,H):(H=v(H,J),H.return=Y,H)}function $(Y,H,J,ce){var be=J.type;return be===k?oe(Y,H,J.props.children,ce,J.key):H!==null&&(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Pe&&vI(be)===H.type)?(ce=v(H,J.props),ce.ref=Cd(Y,H,J),ce.return=Y,ce):(ce=zp(J.type,J.key,J.props,null,Y.mode,ce),ce.ref=Cd(Y,H,J),ce.return=Y,ce)}function Z(Y,H,J,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=hw(J,Y.mode,ce),H.return=Y,H):(H=v(H,J.children||[]),H.return=Y,H)}function oe(Y,H,J,ce,be){return H===null||H.tag!==7?(H=Ua(J,Y.mode,ce,be),H.return=Y,H):(H=v(H,J),H.return=Y,H)}function ae(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=dw(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case B:return J=zp(H.type,H.key,H.props,null,Y.mode,J),J.ref=Cd(Y,null,H),J.return=Y,J;case G:return H=hw(H,Y.mode,J),H.return=Y,H;case Pe:var ce=H._init;return ae(Y,ce(H._payload),J)}if(jt(H)||ne(H))return H=Ua(H,Y.mode,J,null),H.return=Y,H;wp(Y,H)}return null}function se(Y,H,J,ce){var be=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return be!==null?null:U(Y,H,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case B:return J.key===be?$(Y,H,J,ce):null;case G:return J.key===be?Z(Y,H,J,ce):null;case Pe:return be=J._init,se(Y,H,be(J._payload),ce)}if(jt(J)||ne(J))return be!==null?null:oe(Y,H,J,ce,null);wp(Y,J)}return null}function pe(Y,H,J,ce,be){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Y=Y.get(J)||null,U(H,Y,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case B:return Y=Y.get(ce.key===null?J:ce.key)||null,$(H,Y,ce,be);case G:return Y=Y.get(ce.key===null?J:ce.key)||null,Z(H,Y,ce,be);case Pe:var Re=ce._init;return pe(Y,H,J,Re(ce._payload),be)}if(jt(ce)||ne(ce))return Y=Y.get(J)||null,oe(H,Y,ce,be,null);wp(H,ce)}return null}function ve(Y,H,J,ce){for(var be=null,Re=null,ke=H,Ve=H=0,sn=null;ke!==null&&Ve<J.length;Ve++){ke.index>Ve?(sn=ke,ke=null):sn=ke.sibling;var st=se(Y,ke,J[Ve],ce);if(st===null){ke===null&&(ke=sn);break}o&&ke&&st.alternate===null&&l(Y,ke),H=w(st,H,Ve),Re===null?be=st:Re.sibling=st,Re=st,ke=sn}if(Ve===J.length)return d(Y,ke),xt&&Na(Y,Ve),be;if(ke===null){for(;Ve<J.length;Ve++)ke=ae(Y,J[Ve],ce),ke!==null&&(H=w(ke,H,Ve),Re===null?be=ke:Re.sibling=ke,Re=ke);return xt&&Na(Y,Ve),be}for(ke=m(Y,ke);Ve<J.length;Ve++)sn=pe(ke,Y,Ve,J[Ve],ce),sn!==null&&(o&&sn.alternate!==null&&ke.delete(sn.key===null?Ve:sn.key),H=w(sn,H,Ve),Re===null?be=sn:Re.sibling=sn,Re=sn);return o&&ke.forEach(function(To){return l(Y,To)}),xt&&Na(Y,Ve),be}function Te(Y,H,J,ce){var be=ne(J);if(typeof be!="function")throw Error(n(150));if(J=be.call(J),J==null)throw Error(n(151));for(var Re=be=null,ke=H,Ve=H=0,sn=null,st=J.next();ke!==null&&!st.done;Ve++,st=J.next()){ke.index>Ve?(sn=ke,ke=null):sn=ke.sibling;var To=se(Y,ke,st.value,ce);if(To===null){ke===null&&(ke=sn);break}o&&ke&&To.alternate===null&&l(Y,ke),H=w(To,H,Ve),Re===null?be=To:Re.sibling=To,Re=To,ke=sn}if(st.done)return d(Y,ke),xt&&Na(Y,Ve),be;if(ke===null){for(;!st.done;Ve++,st=J.next())st=ae(Y,st.value,ce),st!==null&&(H=w(st,H,Ve),Re===null?be=st:Re.sibling=st,Re=st);return xt&&Na(Y,Ve),be}for(ke=m(Y,ke);!st.done;Ve++,st=J.next())st=pe(ke,Y,Ve,st.value,ce),st!==null&&(o&&st.alternate!==null&&ke.delete(st.key===null?Ve:st.key),H=w(st,H,Ve),Re===null?be=st:Re.sibling=st,Re=st);return o&&ke.forEach(function(AF){return l(Y,AF)}),xt&&Na(Y,Ve),be}function Bt(Y,H,J,ce){if(typeof J=="object"&&J!==null&&J.type===k&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case B:e:{for(var be=J.key,Re=H;Re!==null;){if(Re.key===be){if(be=J.type,be===k){if(Re.tag===7){d(Y,Re.sibling),H=v(Re,J.props.children),H.return=Y,Y=H;break e}}else if(Re.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Pe&&vI(be)===Re.type){d(Y,Re.sibling),H=v(Re,J.props),H.ref=Cd(Y,Re,J),H.return=Y,Y=H;break e}d(Y,Re);break}else l(Y,Re);Re=Re.sibling}J.type===k?(H=Ua(J.props.children,Y.mode,ce,J.key),H.return=Y,Y=H):(ce=zp(J.type,J.key,J.props,null,Y.mode,ce),ce.ref=Cd(Y,H,J),ce.return=Y,Y=ce)}return C(Y);case G:e:{for(Re=J.key;H!==null;){if(H.key===Re)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){d(Y,H.sibling),H=v(H,J.children||[]),H.return=Y,Y=H;break e}else{d(Y,H);break}else l(Y,H);H=H.sibling}H=hw(J,Y.mode,ce),H.return=Y,Y=H}return C(Y);case Pe:return Re=J._init,Bt(Y,H,Re(J._payload),ce)}if(jt(J))return ve(Y,H,J,ce);if(ne(J))return Te(Y,H,J,ce);wp(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(d(Y,H.sibling),H=v(H,J),H.return=Y,Y=H):(d(Y,H),H=dw(J,Y.mode,ce),H.return=Y,Y=H),C(Y)):d(Y,H)}return Bt}var Ec=wI(!0),_I=wI(!1),_p=ho(null),xp=null,Tc=null,xv=null;function Ev(){xv=Tc=xp=null}function Tv(o){var l=_p.current;wt(_p),o._currentValue=l}function Iv(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function Ic(o,l){xp=o,xv=Tc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Wn=!0),o.firstContext=null)}function Er(o){var l=o._currentValue;if(xv!==o)if(o={context:o,memoizedValue:l,next:null},Tc===null){if(xp===null)throw Error(n(308));Tc=o,xp.dependencies={lanes:0,firstContext:o}}else Tc=Tc.next=o;return l}var Da=null;function bv(o){Da===null?Da=[o]:Da.push(o)}function xI(o,l,d,m){var v=l.interleaved;return v===null?(d.next=d,bv(l)):(d.next=v.next,v.next=d),l.interleaved=d,yi(o,m)}function yi(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var mo=!1;function Sv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EI(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function vi(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function go(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(tt&2)!==0){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,yi(o,d)}return v=m.interleaved,v===null?(l.next=l,bv(m)):(l.next=v.next,v.next=l),m.interleaved=l,yi(o,d)}function Ep(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,ud(o,d)}}function TI(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var v=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var C={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?v=w=C:w=w.next=C,d=d.next}while(d!==null);w===null?v=w=l:w=w.next=l}else v=w=l;d={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:m.shared,effects:m.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function Tp(o,l,d,m){var v=o.updateQueue;mo=!1;var w=v.firstBaseUpdate,C=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var $=U,Z=$.next;$.next=null,C===null?w=Z:C.next=Z,C=$;var oe=o.alternate;oe!==null&&(oe=oe.updateQueue,U=oe.lastBaseUpdate,U!==C&&(U===null?oe.firstBaseUpdate=Z:U.next=Z,oe.lastBaseUpdate=$))}if(w!==null){var ae=v.baseState;C=0,oe=Z=$=null,U=w;do{var se=U.lane,pe=U.eventTime;if((m&se)===se){oe!==null&&(oe=oe.next={eventTime:pe,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var ve=o,Te=U;switch(se=l,pe=d,Te.tag){case 1:if(ve=Te.payload,typeof ve=="function"){ae=ve.call(pe,ae,se);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Te.payload,se=typeof ve=="function"?ve.call(pe,ae,se):ve,se==null)break e;ae=ie({},ae,se);break e;case 2:mo=!0}}U.callback!==null&&U.lane!==0&&(o.flags|=64,se=v.effects,se===null?v.effects=[U]:se.push(U))}else pe={eventTime:pe,lane:se,tag:U.tag,payload:U.payload,callback:U.callback,next:null},oe===null?(Z=oe=pe,$=ae):oe=oe.next=pe,C|=se;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;se=U,U=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);if(oe===null&&($=ae),v.baseState=$,v.firstBaseUpdate=Z,v.lastBaseUpdate=oe,l=v.shared.interleaved,l!==null){v=l;do C|=v.lane,v=v.next;while(v!==l)}else w===null&&(v.shared.lanes=0);Va|=C,o.lanes=C,o.memoizedState=ae}}function II(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var m=o[l],v=m.callback;if(v!==null){if(m.callback=null,m=d,typeof v!="function")throw Error(n(191,v));v.call(m)}}}var Rd={},Ss=ho(Rd),kd=ho(Rd),Nd=ho(Rd);function Ma(o){if(o===Rd)throw Error(n(174));return o}function Av(o,l){switch(pt(Nd,l),pt(kd,o),pt(Ss,Rd),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Hl(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Hl(l,o)}wt(Ss),pt(Ss,l)}function bc(){wt(Ss),wt(kd),wt(Nd)}function bI(o){Ma(Nd.current);var l=Ma(Ss.current),d=Hl(l,o.type);l!==d&&(pt(kd,o),pt(Ss,d))}function Pv(o){kd.current===o&&(wt(Ss),wt(kd))}var bt=ho(0);function Ip(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Cv=[];function Rv(){for(var o=0;o<Cv.length;o++)Cv[o]._workInProgressVersionPrimary=null;Cv.length=0}var bp=F.ReactCurrentDispatcher,kv=F.ReactCurrentBatchConfig,Oa=0,St=null,Yt=null,nn=null,Sp=!1,Dd=!1,Md=0,QL=0;function wn(){throw Error(n(321))}function Nv(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!qr(o[d],l[d]))return!1;return!0}function Dv(o,l,d,m,v,w){if(Oa=w,St=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,bp.current=o===null||o.memoizedState===null?ZL:eF,o=d(m,v),Dd){w=0;do{if(Dd=!1,Md=0,25<=w)throw Error(n(301));w+=1,nn=Yt=null,l.updateQueue=null,bp.current=tF,o=d(m,v)}while(Dd)}if(bp.current=Cp,l=Yt!==null&&Yt.next!==null,Oa=0,nn=Yt=St=null,Sp=!1,l)throw Error(n(300));return o}function Mv(){var o=Md!==0;return Md=0,o}function As(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?St.memoizedState=nn=o:nn=nn.next=o,nn}function Tr(){if(Yt===null){var o=St.alternate;o=o!==null?o.memoizedState:null}else o=Yt.next;var l=nn===null?St.memoizedState:nn.next;if(l!==null)nn=l,Yt=o;else{if(o===null)throw Error(n(310));Yt=o,o={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},nn===null?St.memoizedState=nn=o:nn=nn.next=o}return nn}function Od(o,l){return typeof l=="function"?l(o):l}function Ov(o){var l=Tr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=Yt,v=m.baseQueue,w=d.pending;if(w!==null){if(v!==null){var C=v.next;v.next=w.next,w.next=C}m.baseQueue=v=w,d.pending=null}if(v!==null){w=v.next,m=m.baseState;var U=C=null,$=null,Z=w;do{var oe=Z.lane;if((Oa&oe)===oe)$!==null&&($=$.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:o(m,Z.action);else{var ae={lane:oe,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};$===null?(U=$=ae,C=m):$=$.next=ae,St.lanes|=oe,Va|=oe}Z=Z.next}while(Z!==null&&Z!==w);$===null?C=m:$.next=U,qr(m,l.memoizedState)||(Wn=!0),l.memoizedState=m,l.baseState=C,l.baseQueue=$,d.lastRenderedState=m}if(o=d.interleaved,o!==null){v=o;do w=v.lane,St.lanes|=w,Va|=w,v=v.next;while(v!==o)}else v===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Vv(o){var l=Tr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=d.dispatch,v=d.pending,w=l.memoizedState;if(v!==null){d.pending=null;var C=v=v.next;do w=o(w,C.action),C=C.next;while(C!==v);qr(w,l.memoizedState)||(Wn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,m]}function SI(){}function AI(o,l){var d=St,m=Tr(),v=l(),w=!qr(m.memoizedState,v);if(w&&(m.memoizedState=v,Wn=!0),m=m.queue,Lv(RI.bind(null,d,m,o),[o]),m.getSnapshot!==l||w||nn!==null&&nn.memoizedState.tag&1){if(d.flags|=2048,Vd(9,CI.bind(null,d,m,v,l),void 0,null),rn===null)throw Error(n(349));(Oa&30)!==0||PI(d,l,v)}return v}function PI(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=St.updateQueue,l===null?(l={lastEffect:null,stores:null},St.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function CI(o,l,d,m){l.value=d,l.getSnapshot=m,kI(l)&&NI(o)}function RI(o,l,d){return d(function(){kI(l)&&NI(o)})}function kI(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!qr(o,d)}catch{return!0}}function NI(o){var l=yi(o,1);l!==null&&Yr(l,o,1,-1)}function DI(o){var l=As();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:o},l.queue=o,o=o.dispatch=JL.bind(null,St,o),[l.memoizedState,o]}function Vd(o,l,d,m){return o={tag:o,create:l,destroy:d,deps:m,next:null},l=St.updateQueue,l===null?(l={lastEffect:null,stores:null},St.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o)),o}function MI(){return Tr().memoizedState}function Ap(o,l,d,m){var v=As();St.flags|=o,v.memoizedState=Vd(1|l,d,void 0,m===void 0?null:m)}function Pp(o,l,d,m){var v=Tr();m=m===void 0?null:m;var w=void 0;if(Yt!==null){var C=Yt.memoizedState;if(w=C.destroy,m!==null&&Nv(m,C.deps)){v.memoizedState=Vd(l,d,w,m);return}}St.flags|=o,v.memoizedState=Vd(1|l,d,w,m)}function OI(o,l){return Ap(8390656,8,o,l)}function Lv(o,l){return Pp(2048,8,o,l)}function VI(o,l){return Pp(4,2,o,l)}function LI(o,l){return Pp(4,4,o,l)}function FI(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function jI(o,l,d){return d=d!=null?d.concat([o]):null,Pp(4,4,FI.bind(null,l,o),d)}function Fv(){}function UI(o,l){var d=Tr();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Nv(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function BI(o,l){var d=Tr();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Nv(l,m[1])?m[0]:(o=o(),d.memoizedState=[o,l],o)}function $I(o,l,d){return(Oa&21)===0?(o.baseState&&(o.baseState=!1,Wn=!0),o.memoizedState=d):(qr(d,l)||(d=ld(),St.lanes|=d,Va|=d,o.baseState=!0),l)}function YL(o,l){var d=Qe;Qe=d!==0&&4>d?d:4,o(!0);var m=kv.transition;kv.transition={};try{o(!1),l()}finally{Qe=d,kv.transition=m}}function zI(){return Tr().memoizedState}function XL(o,l,d){var m=_o(o);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},WI(o))qI(l,d);else if(d=xI(o,l,d,m),d!==null){var v=Rn();Yr(d,o,m,v),HI(d,l,m)}}function JL(o,l,d){var m=_o(o),v={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(WI(o))qI(l,v);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var C=l.lastRenderedState,U=w(C,d);if(v.hasEagerState=!0,v.eagerState=U,qr(U,C)){var $=l.interleaved;$===null?(v.next=v,bv(l)):(v.next=$.next,$.next=v),l.interleaved=v;return}}catch{}finally{}d=xI(o,l,v,m),d!==null&&(v=Rn(),Yr(d,o,m,v),HI(d,l,m))}}function WI(o){var l=o.alternate;return o===St||l!==null&&l===St}function qI(o,l){Dd=Sp=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function HI(o,l,d){if((d&4194240)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,ud(o,d)}}var Cp={readContext:Er,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},ZL={readContext:Er,useCallback:function(o,l){return As().memoizedState=[o,l===void 0?null:l],o},useContext:Er,useEffect:OI,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,Ap(4194308,4,FI.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Ap(4194308,4,o,l)},useInsertionEffect:function(o,l){return Ap(4,2,o,l)},useMemo:function(o,l){var d=As();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var m=As();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},m.queue=o,o=o.dispatch=XL.bind(null,St,o),[m.memoizedState,o]},useRef:function(o){var l=As();return o={current:o},l.memoizedState=o},useState:DI,useDebugValue:Fv,useDeferredValue:function(o){return As().memoizedState=o},useTransition:function(){var o=DI(!1),l=o[0];return o=YL.bind(null,o[1]),As().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var m=St,v=As();if(xt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),rn===null)throw Error(n(349));(Oa&30)!==0||PI(m,l,d)}v.memoizedState=d;var w={value:d,getSnapshot:l};return v.queue=w,OI(RI.bind(null,m,w,o),[o]),m.flags|=2048,Vd(9,CI.bind(null,m,w,d,l),void 0,null),d},useId:function(){var o=As(),l=rn.identifierPrefix;if(xt){var d=gi,m=mi;d=(m&~(1<<32-rr(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=Md++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=QL++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},eF={readContext:Er,useCallback:UI,useContext:Er,useEffect:Lv,useImperativeHandle:jI,useInsertionEffect:VI,useLayoutEffect:LI,useMemo:BI,useReducer:Ov,useRef:MI,useState:function(){return Ov(Od)},useDebugValue:Fv,useDeferredValue:function(o){var l=Tr();return $I(l,Yt.memoizedState,o)},useTransition:function(){var o=Ov(Od)[0],l=Tr().memoizedState;return[o,l]},useMutableSource:SI,useSyncExternalStore:AI,useId:zI,unstable_isNewReconciler:!1},tF={readContext:Er,useCallback:UI,useContext:Er,useEffect:Lv,useImperativeHandle:jI,useInsertionEffect:VI,useLayoutEffect:LI,useMemo:BI,useReducer:Vv,useRef:MI,useState:function(){return Vv(Od)},useDebugValue:Fv,useDeferredValue:function(o){var l=Tr();return Yt===null?l.memoizedState=o:$I(l,Yt.memoizedState,o)},useTransition:function(){var o=Vv(Od)[0],l=Tr().memoizedState;return[o,l]},useMutableSource:SI,useSyncExternalStore:AI,useId:zI,unstable_isNewReconciler:!1};function Gr(o,l){if(o&&o.defaultProps){l=ie({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function jv(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:ie({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Rp={isMounted:function(o){return(o=o._reactInternals)?zr(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var m=Rn(),v=_o(o),w=vi(m,v);w.payload=l,d!=null&&(w.callback=d),l=go(o,w,v),l!==null&&(Yr(l,o,v,m),Ep(l,o,v))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=Rn(),v=_o(o),w=vi(m,v);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=go(o,w,v),l!==null&&(Yr(l,o,v,m),Ep(l,o,v))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Rn(),m=_o(o),v=vi(d,m);v.tag=2,l!=null&&(v.callback=l),l=go(o,v,m),l!==null&&(Yr(l,o,m,d),Ep(l,o,m))}};function GI(o,l,d,m,v,w,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,w,C):l.prototype&&l.prototype.isPureReactComponent?!Ed(d,m)||!Ed(v,w):!0}function KI(o,l,d){var m=!1,v=fo,w=l.contextType;return typeof w=="object"&&w!==null?w=Er(w):(v=zn(l)?Ra:vn.current,m=l.contextTypes,w=(m=m!=null)?vc(o,v):fo),l=new l(d,w),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Rp,o.stateNode=l,l._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=v,o.__reactInternalMemoizedMaskedChildContext=w),l}function QI(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&Rp.enqueueReplaceState(l,l.state,null)}function Uv(o,l,d,m){var v=o.stateNode;v.props=d,v.state=o.memoizedState,v.refs={},Sv(o);var w=l.contextType;typeof w=="object"&&w!==null?v.context=Er(w):(w=zn(l)?Ra:vn.current,v.context=vc(o,w)),v.state=o.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(jv(o,l,w,d),v.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(l=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),l!==v.state&&Rp.enqueueReplaceState(v,v.state,null),Tp(o,d,v,m),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308)}function Sc(o,l){try{var d="",m=l;do d+=Fe(m),m=m.return;while(m);var v=d}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:l,stack:v,digest:null}}function Bv(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function $v(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var nF=typeof WeakMap=="function"?WeakMap:Map;function YI(o,l,d){d=vi(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){Lp||(Lp=!0,rw=m),$v(o,l)},d}function XI(o,l,d){d=vi(-1,d),d.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=l.value;d.payload=function(){return m(v)},d.callback=function(){$v(o,l)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){$v(o,l),typeof m!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})}),d}function JI(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new nF;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(d)||(v.add(d),o=gF.bind(null,o,l,d),l.then(o,o))}function ZI(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function eb(o,l,d,m,v){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=vi(-1,1),l.tag=2,go(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=v,o)}var rF=F.ReactCurrentOwner,Wn=!1;function Cn(o,l,d,m){l.child=o===null?_I(l,null,d,m):Ec(l,o.child,d,m)}function tb(o,l,d,m,v){d=d.render;var w=l.ref;return Ic(l,v),m=Dv(o,l,d,m,w,v),d=Mv(),o!==null&&!Wn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~v,wi(o,l,v)):(xt&&d&&gv(l),l.flags|=1,Cn(o,l,m,v),l.child)}function nb(o,l,d,m,v){if(o===null){var w=d.type;return typeof w=="function"&&!uw(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=w,rb(o,l,w,m,v)):(o=zp(d.type,null,m,l,l.mode,v),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,(o.lanes&v)===0){var C=w.memoizedProps;if(d=d.compare,d=d!==null?d:Ed,d(C,m)&&o.ref===l.ref)return wi(o,l,v)}return l.flags|=1,o=Eo(w,m),o.ref=l.ref,o.return=l,l.child=o}function rb(o,l,d,m,v){if(o!==null){var w=o.memoizedProps;if(Ed(w,m)&&o.ref===l.ref)if(Wn=!1,l.pendingProps=m=w,(o.lanes&v)!==0)(o.flags&131072)!==0&&(Wn=!0);else return l.lanes=o.lanes,wi(o,l,v)}return zv(o,l,d,m,v)}function sb(o,l,d){var m=l.pendingProps,v=m.children,w=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Pc,ur),ur|=d;else{if((d&1073741824)===0)return o=w!==null?w.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,pt(Pc,ur),ur|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:d,pt(Pc,ur),ur|=m}else w!==null?(m=w.baseLanes|d,l.memoizedState=null):m=d,pt(Pc,ur),ur|=m;return Cn(o,l,v,d),l.child}function ib(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function zv(o,l,d,m,v){var w=zn(d)?Ra:vn.current;return w=vc(l,w),Ic(l,v),d=Dv(o,l,d,m,w,v),m=Mv(),o!==null&&!Wn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~v,wi(o,l,v)):(xt&&m&&gv(l),l.flags|=1,Cn(o,l,d,v),l.child)}function ob(o,l,d,m,v){if(zn(d)){var w=!0;pp(l)}else w=!1;if(Ic(l,v),l.stateNode===null)Np(o,l),KI(l,d,m),Uv(l,d,m,v),m=!0;else if(o===null){var C=l.stateNode,U=l.memoizedProps;C.props=U;var $=C.context,Z=d.contextType;typeof Z=="object"&&Z!==null?Z=Er(Z):(Z=zn(d)?Ra:vn.current,Z=vc(l,Z));var oe=d.getDerivedStateFromProps,ae=typeof oe=="function"||typeof C.getSnapshotBeforeUpdate=="function";ae||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U!==m||$!==Z)&&QI(l,C,m,Z),mo=!1;var se=l.memoizedState;C.state=se,Tp(l,m,C,v),$=l.memoizedState,U!==m||se!==$||$n.current||mo?(typeof oe=="function"&&(jv(l,d,oe,m),$=l.memoizedState),(U=mo||GI(l,d,U,m,se,$,Z))?(ae||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=$),C.props=m,C.state=$,C.context=Z,m=U):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{C=l.stateNode,EI(o,l),U=l.memoizedProps,Z=l.type===l.elementType?U:Gr(l.type,U),C.props=Z,ae=l.pendingProps,se=C.context,$=d.contextType,typeof $=="object"&&$!==null?$=Er($):($=zn(d)?Ra:vn.current,$=vc(l,$));var pe=d.getDerivedStateFromProps;(oe=typeof pe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U!==ae||se!==$)&&QI(l,C,m,$),mo=!1,se=l.memoizedState,C.state=se,Tp(l,m,C,v);var ve=l.memoizedState;U!==ae||se!==ve||$n.current||mo?(typeof pe=="function"&&(jv(l,d,pe,m),ve=l.memoizedState),(Z=mo||GI(l,d,Z,m,se,ve,$)||!1)?(oe||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,ve,$),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,ve,$)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||U===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ve),C.props=m,C.state=ve,C.context=$,m=Z):(typeof C.componentDidUpdate!="function"||U===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),m=!1)}return Wv(o,l,d,m,w,v)}function Wv(o,l,d,m,v,w){ib(o,l);var C=(l.flags&128)!==0;if(!m&&!C)return v&&dI(l,d,!1),wi(o,l,w);m=l.stateNode,rF.current=l;var U=C&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,o!==null&&C?(l.child=Ec(l,o.child,null,w),l.child=Ec(l,null,U,w)):Cn(o,l,U,w),l.memoizedState=m.state,v&&dI(l,d,!0),l.child}function ab(o){var l=o.stateNode;l.pendingContext?cI(o,l.pendingContext,l.pendingContext!==l.context):l.context&&cI(o,l.context,!1),Av(o,l.containerInfo)}function lb(o,l,d,m,v){return xc(),_v(v),l.flags|=256,Cn(o,l,d,m),l.child}var qv={dehydrated:null,treeContext:null,retryLane:0};function Hv(o){return{baseLanes:o,cachePool:null,transitions:null}}function cb(o,l,d){var m=l.pendingProps,v=bt.current,w=!1,C=(l.flags&128)!==0,U;if((U=C)||(U=o!==null&&o.memoizedState===null?!1:(v&2)!==0),U?(w=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(v|=1),pt(bt,v&1),o===null)return wv(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(C=m.children,o=m.fallback,w?(m=l.mode,w=l.child,C={mode:"hidden",children:C},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=C):w=Wp(C,m,0,null),o=Ua(o,m,d,null),w.return=l,o.return=l,w.sibling=o,l.child=w,l.child.memoizedState=Hv(d),l.memoizedState=qv,o):Gv(l,C));if(v=o.memoizedState,v!==null&&(U=v.dehydrated,U!==null))return sF(o,l,C,m,U,v,d);if(w){w=m.fallback,C=l.mode,v=o.child,U=v.sibling;var $={mode:"hidden",children:m.children};return(C&1)===0&&l.child!==v?(m=l.child,m.childLanes=0,m.pendingProps=$,l.deletions=null):(m=Eo(v,$),m.subtreeFlags=v.subtreeFlags&14680064),U!==null?w=Eo(U,w):(w=Ua(w,C,d,null),w.flags|=2),w.return=l,m.return=l,m.sibling=w,l.child=m,m=w,w=l.child,C=o.child.memoizedState,C=C===null?Hv(d):{baseLanes:C.baseLanes|d,cachePool:null,transitions:C.transitions},w.memoizedState=C,w.childLanes=o.childLanes&~d,l.memoizedState=qv,m}return w=o.child,o=w.sibling,m=Eo(w,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=m,l.memoizedState=null,m}function Gv(o,l){return l=Wp({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function kp(o,l,d,m){return m!==null&&_v(m),Ec(l,o.child,null,d),o=Gv(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function sF(o,l,d,m,v,w,C){if(d)return l.flags&256?(l.flags&=-257,m=Bv(Error(n(422))),kp(o,l,C,m)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(w=m.fallback,v=l.mode,m=Wp({mode:"visible",children:m.children},v,0,null),w=Ua(w,v,C,null),w.flags|=2,m.return=l,w.return=l,m.sibling=w,l.child=m,(l.mode&1)!==0&&Ec(l,o.child,null,C),l.child.memoizedState=Hv(C),l.memoizedState=qv,w);if((l.mode&1)===0)return kp(o,l,C,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var U=m.dgst;return m=U,w=Error(n(419)),m=Bv(w,m,void 0),kp(o,l,C,m)}if(U=(C&o.childLanes)!==0,Wn||U){if(m=rn,m!==null){switch(C&-C){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|C))!==0?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,yi(o,v),Yr(m,o,v,-1))}return cw(),m=Bv(Error(n(421))),kp(o,l,C,m)}return v.data==="$?"?(l.flags|=128,l.child=o.child,l=yF.bind(null,o),v._reactRetry=l,null):(o=w.treeContext,cr=uo(v.nextSibling),lr=l,xt=!0,Hr=null,o!==null&&(_r[xr++]=mi,_r[xr++]=gi,_r[xr++]=ka,mi=o.id,gi=o.overflow,ka=l),l=Gv(l,m.children),l.flags|=4096,l)}function ub(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),Iv(o.return,l,d)}function Kv(o,l,d,m,v){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:v}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=d,w.tailMode=v)}function db(o,l,d){var m=l.pendingProps,v=m.revealOrder,w=m.tail;if(Cn(o,l,m.children,d),m=bt.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ub(o,d,l);else if(o.tag===19)ub(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(pt(bt,m),(l.mode&1)===0)l.memoizedState=null;else switch(v){case"forwards":for(d=l.child,v=null;d!==null;)o=d.alternate,o!==null&&Ip(o)===null&&(v=d),d=d.sibling;d=v,d===null?(v=l.child,l.child=null):(v=d.sibling,d.sibling=null),Kv(l,!1,v,d,w);break;case"backwards":for(d=null,v=l.child,l.child=null;v!==null;){if(o=v.alternate,o!==null&&Ip(o)===null){l.child=v;break}o=v.sibling,v.sibling=d,d=v,v=o}Kv(l,!0,d,null,w);break;case"together":Kv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Np(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function wi(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Va|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,d=Eo(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Eo(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function iF(o,l,d){switch(l.tag){case 3:ab(l),xc();break;case 5:bI(l);break;case 1:zn(l.type)&&pp(l);break;case 4:Av(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,v=l.memoizedProps.value;pt(_p,m._currentValue),m._currentValue=v;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(pt(bt,bt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?cb(o,l,d):(pt(bt,bt.current&1),o=wi(o,l,d),o!==null?o.sibling:null);pt(bt,bt.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(o.flags&128)!==0){if(m)return db(o,l,d);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),pt(bt,bt.current),m)break;return null;case 22:case 23:return l.lanes=0,sb(o,l,d)}return wi(o,l,d)}var hb,Qv,fb,pb;hb=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Qv=function(){},fb=function(o,l,d,m){var v=o.memoizedProps;if(v!==m){o=l.stateNode,Ma(Ss.current);var w=null;switch(d){case"input":v=ti(o,v),m=ti(o,m),w=[];break;case"select":v=ie({},v,{value:void 0}),m=ie({},m,{value:void 0}),w=[];break;case"textarea":v=Xu(o,v),m=Xu(o,m),w=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=dp)}$r(d,m);var C;d=null;for(Z in v)if(!m.hasOwnProperty(Z)&&v.hasOwnProperty(Z)&&v[Z]!=null)if(Z==="style"){var U=v[Z];for(C in U)U.hasOwnProperty(C)&&(d||(d={}),d[C]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in m){var $=m[Z];if(U=v!=null?v[Z]:void 0,m.hasOwnProperty(Z)&&$!==U&&($!=null||U!=null))if(Z==="style")if(U){for(C in U)!U.hasOwnProperty(C)||$&&$.hasOwnProperty(C)||(d||(d={}),d[C]="");for(C in $)$.hasOwnProperty(C)&&U[C]!==$[C]&&(d||(d={}),d[C]=$[C])}else d||(w||(w=[]),w.push(Z,d)),d=$;else Z==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,U=U?U.__html:void 0,$!=null&&U!==$&&(w=w||[]).push(Z,$)):Z==="children"?typeof $!="string"&&typeof $!="number"||(w=w||[]).push(Z,""+$):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?($!=null&&Z==="onScroll"&&vt("scroll",o),w||U===$||(w=[])):(w=w||[]).push(Z,$))}d&&(w=w||[]).push("style",d);var Z=w;(l.updateQueue=Z)&&(l.flags|=4)}},pb=function(o,l,d,m){d!==m&&(l.flags|=4)};function Ld(o,l){if(!xt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function _n(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var v=o.child;v!==null;)d|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)d|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function oF(o,l,d){var m=l.pendingProps;switch(yv(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(l),null;case 1:return zn(l.type)&&fp(),_n(l),null;case 3:return m=l.stateNode,bc(),wt($n),wt(vn),Rv(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(vp(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Hr!==null&&(ow(Hr),Hr=null))),Qv(o,l),_n(l),null;case 5:Pv(l);var v=Ma(Nd.current);if(d=l.type,o!==null&&l.stateNode!=null)fb(o,l,d,m,v),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return _n(l),null}if(o=Ma(Ss.current),vp(l)){m=l.stateNode,d=l.type;var w=l.memoizedProps;switch(m[bs]=l,m[Ad]=w,o=(l.mode&1)!==0,d){case"dialog":vt("cancel",m),vt("close",m);break;case"iframe":case"object":case"embed":vt("load",m);break;case"video":case"audio":for(v=0;v<Id.length;v++)vt(Id[v],m);break;case"source":vt("error",m);break;case"img":case"image":case"link":vt("error",m),vt("load",m);break;case"details":vt("toggle",m);break;case"input":ql(m,w),vt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},vt("invalid",m);break;case"textarea":Ju(m,w),vt("invalid",m)}$r(d,w),v=null;for(var C in w)if(w.hasOwnProperty(C)){var U=w[C];C==="children"?typeof U=="string"?m.textContent!==U&&(w.suppressHydrationWarning!==!0&&up(m.textContent,U,o),v=["children",U]):typeof U=="number"&&m.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&up(m.textContent,U,o),v=["children",""+U]):s.hasOwnProperty(C)&&U!=null&&C==="onScroll"&&vt("scroll",m)}switch(d){case"input":er(m),pa(m,w,!0);break;case"textarea":er(m),Ki(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=dp)}m=v,l.updateQueue=m,m!==null&&(l.flags|=4)}else{C=v.nodeType===9?v:v.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Zu(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=C.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=C.createElement(d,{is:m.is}):(o=C.createElement(d),d==="select"&&(C=o,m.multiple?C.multiple=!0:m.size&&(C.size=m.size))):o=C.createElementNS(o,d),o[bs]=l,o[Ad]=m,hb(o,l,!1,!1),l.stateNode=o;e:{switch(C=Kl(d,m),d){case"dialog":vt("cancel",o),vt("close",o),v=m;break;case"iframe":case"object":case"embed":vt("load",o),v=m;break;case"video":case"audio":for(v=0;v<Id.length;v++)vt(Id[v],o);v=m;break;case"source":vt("error",o),v=m;break;case"img":case"image":case"link":vt("error",o),vt("load",o),v=m;break;case"details":vt("toggle",o),v=m;break;case"input":ql(o,m),v=ti(o,m),vt("invalid",o);break;case"option":v=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},v=ie({},m,{value:void 0}),vt("invalid",o);break;case"textarea":Ju(o,m),v=Xu(o,m),vt("invalid",o);break;default:v=m}$r(d,v),U=v;for(w in U)if(U.hasOwnProperty(w)){var $=U[w];w==="style"?Gl(o,$):w==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Ff(o,$)):w==="children"?typeof $=="string"?(d!=="textarea"||$!=="")&&ma(o,$):typeof $=="number"&&ma(o,""+$):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?$!=null&&w==="onScroll"&&vt("scroll",o):$!=null&&M(o,w,$,C))}switch(d){case"input":er(o),pa(o,m,!1);break;case"textarea":er(o),Ki(o);break;case"option":m.value!=null&&o.setAttribute("value",""+ze(m.value));break;case"select":o.multiple=!!m.multiple,w=m.value,w!=null?Br(o,!!m.multiple,w,!1):m.defaultValue!=null&&Br(o,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(o.onclick=dp)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return _n(l),null;case 6:if(o&&l.stateNode!=null)pb(o,l,o.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(d=Ma(Nd.current),Ma(Ss.current),vp(l)){if(m=l.stateNode,d=l.memoizedProps,m[bs]=l,(w=m.nodeValue!==d)&&(o=lr,o!==null))switch(o.tag){case 3:up(m.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&up(m.nodeValue,d,(o.mode&1)!==0)}w&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[bs]=l,l.stateNode=m}return _n(l),null;case 13:if(wt(bt),m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(xt&&cr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)yI(),xc(),l.flags|=98560,w=!1;else if(w=vp(l),m!==null&&m.dehydrated!==null){if(o===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[bs]=l}else xc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_n(l),w=!1}else Hr!==null&&(ow(Hr),Hr=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(bt.current&1)!==0?Xt===0&&(Xt=3):cw())),l.updateQueue!==null&&(l.flags|=4),_n(l),null);case 4:return bc(),Qv(o,l),o===null&&bd(l.stateNode.containerInfo),_n(l),null;case 10:return Tv(l.type._context),_n(l),null;case 17:return zn(l.type)&&fp(),_n(l),null;case 19:if(wt(bt),w=l.memoizedState,w===null)return _n(l),null;if(m=(l.flags&128)!==0,C=w.rendering,C===null)if(m)Ld(w,!1);else{if(Xt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(C=Ip(o),C!==null){for(l.flags|=128,Ld(w,!1),m=C.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)w=d,o=m,w.flags&=14680066,C=w.alternate,C===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=C.childLanes,w.lanes=C.lanes,w.child=C.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=C.memoizedProps,w.memoizedState=C.memoizedState,w.updateQueue=C.updateQueue,w.type=C.type,o=C.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return pt(bt,bt.current&1|2),l.child}o=o.sibling}w.tail!==null&&yt()>Cc&&(l.flags|=128,m=!0,Ld(w,!1),l.lanes=4194304)}else{if(!m)if(o=Ip(C),o!==null){if(l.flags|=128,m=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Ld(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!xt)return _n(l),null}else 2*yt()-w.renderingStartTime>Cc&&d!==1073741824&&(l.flags|=128,m=!0,Ld(w,!1),l.lanes=4194304);w.isBackwards?(C.sibling=l.child,l.child=C):(d=w.last,d!==null?d.sibling=C:l.child=C,w.last=C)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=yt(),l.sibling=null,d=bt.current,pt(bt,m?d&1|2:d&1),l):(_n(l),null);case 22:case 23:return lw(),m=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(ur&1073741824)!==0&&(_n(l),l.subtreeFlags&6&&(l.flags|=8192)):_n(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function aF(o,l){switch(yv(l),l.tag){case 1:return zn(l.type)&&fp(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return bc(),wt($n),wt(vn),Rv(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Pv(l),null;case 13:if(wt(bt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));xc()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return wt(bt),null;case 4:return bc(),null;case 10:return Tv(l.type._context),null;case 22:case 23:return lw(),null;case 24:return null;default:return null}}var Dp=!1,xn=!1,lF=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Ac(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Nt(o,l,m)}else d.current=null}function Yv(o,l,d){try{d()}catch(m){Nt(o,l,m)}}var mb=!1;function cF(o,l){if(lv=ui,o=GT(),ev(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var v=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var C=0,U=-1,$=-1,Z=0,oe=0,ae=o,se=null;t:for(;;){for(var pe;ae!==d||v!==0&&ae.nodeType!==3||(U=C+v),ae!==w||m!==0&&ae.nodeType!==3||($=C+m),ae.nodeType===3&&(C+=ae.nodeValue.length),(pe=ae.firstChild)!==null;)se=ae,ae=pe;for(;;){if(ae===o)break t;if(se===d&&++Z===v&&(U=C),se===w&&++oe===m&&($=C),(pe=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=pe}d=U===-1||$===-1?null:{start:U,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(cv={focusedElem:o,selectionRange:d},ui=!1,ge=l;ge!==null;)if(l=ge,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,ge=o;else for(;ge!==null;){l=ge;try{var ve=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var Te=ve.memoizedProps,Bt=ve.memoizedState,Y=l.stateNode,H=Y.getSnapshotBeforeUpdate(l.elementType===l.type?Te:Gr(l.type,Te),Bt);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){Nt(l,l.return,ce)}if(o=l.sibling,o!==null){o.return=l.return,ge=o;break}ge=l.return}return ve=mb,mb=!1,ve}function Fd(o,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&o)===o){var w=v.destroy;v.destroy=void 0,w!==void 0&&Yv(l,d,w)}v=v.next}while(v!==m)}}function Mp(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function Xv(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function gb(o){var l=o.alternate;l!==null&&(o.alternate=null,gb(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[bs],delete l[Ad],delete l[fv],delete l[qL],delete l[HL])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function yb(o){return o.tag===5||o.tag===3||o.tag===4}function vb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||yb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Jv(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=dp));else if(m!==4&&(o=o.child,o!==null))for(Jv(o,l,d),o=o.sibling;o!==null;)Jv(o,l,d),o=o.sibling}function Zv(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(Zv(o,l,d),o=o.sibling;o!==null;)Zv(o,l,d),o=o.sibling}var dn=null,Kr=!1;function yo(o,l,d){for(d=d.child;d!==null;)wb(o,l,d),d=d.sibling}function wb(o,l,d){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(_a,d)}catch{}switch(d.tag){case 5:xn||Ac(d,l);case 6:var m=dn,v=Kr;dn=null,yo(o,l,d),dn=m,Kr=v,dn!==null&&(Kr?(o=dn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):dn.removeChild(d.stateNode));break;case 18:dn!==null&&(Kr?(o=dn,d=d.stateNode,o.nodeType===8?hv(o.parentNode,d):o.nodeType===1&&hv(o,d),oo(o)):hv(dn,d.stateNode));break;case 4:m=dn,v=Kr,dn=d.stateNode.containerInfo,Kr=!0,yo(o,l,d),dn=m,Kr=v;break;case 0:case 11:case 14:case 15:if(!xn&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var w=v,C=w.destroy;w=w.tag,C!==void 0&&((w&2)!==0||(w&4)!==0)&&Yv(d,l,C),v=v.next}while(v!==m)}yo(o,l,d);break;case 1:if(!xn&&(Ac(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(U){Nt(d,l,U)}yo(o,l,d);break;case 21:yo(o,l,d);break;case 22:d.mode&1?(xn=(m=xn)||d.memoizedState!==null,yo(o,l,d),xn=m):yo(o,l,d);break;default:yo(o,l,d)}}function _b(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new lF),l.forEach(function(m){var v=vF.bind(null,o,m);d.has(m)||(d.add(m),m.then(v,v))})}}function Qr(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];try{var w=o,C=l,U=C;e:for(;U!==null;){switch(U.tag){case 5:dn=U.stateNode,Kr=!1;break e;case 3:dn=U.stateNode.containerInfo,Kr=!0;break e;case 4:dn=U.stateNode.containerInfo,Kr=!0;break e}U=U.return}if(dn===null)throw Error(n(160));wb(w,C,v),dn=null,Kr=!1;var $=v.alternate;$!==null&&($.return=null),v.return=null}catch(Z){Nt(v,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)xb(l,o),l=l.sibling}function xb(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Qr(l,o),Ps(o),m&4){try{Fd(3,o,o.return),Mp(3,o)}catch(Te){Nt(o,o.return,Te)}try{Fd(5,o,o.return)}catch(Te){Nt(o,o.return,Te)}}break;case 1:Qr(l,o),Ps(o),m&512&&d!==null&&Ac(d,d.return);break;case 5:if(Qr(l,o),Ps(o),m&512&&d!==null&&Ac(d,d.return),o.flags&32){var v=o.stateNode;try{ma(v,"")}catch(Te){Nt(o,o.return,Te)}}if(m&4&&(v=o.stateNode,v!=null)){var w=o.memoizedProps,C=d!==null?d.memoizedProps:w,U=o.type,$=o.updateQueue;if(o.updateQueue=null,$!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&Gi(v,w),Kl(U,C);var Z=Kl(U,w);for(C=0;C<$.length;C+=2){var oe=$[C],ae=$[C+1];oe==="style"?Gl(v,ae):oe==="dangerouslySetInnerHTML"?Ff(v,ae):oe==="children"?ma(v,ae):M(v,oe,ae,Z)}switch(U){case"input":ni(v,w);break;case"textarea":Lf(v,w);break;case"select":var se=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!w.multiple;var pe=w.value;pe!=null?Br(v,!!w.multiple,pe,!1):se!==!!w.multiple&&(w.defaultValue!=null?Br(v,!!w.multiple,w.defaultValue,!0):Br(v,!!w.multiple,w.multiple?[]:"",!1))}v[Ad]=w}catch(Te){Nt(o,o.return,Te)}}break;case 6:if(Qr(l,o),Ps(o),m&4){if(o.stateNode===null)throw Error(n(162));v=o.stateNode,w=o.memoizedProps;try{v.nodeValue=w}catch(Te){Nt(o,o.return,Te)}}break;case 3:if(Qr(l,o),Ps(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{oo(l.containerInfo)}catch(Te){Nt(o,o.return,Te)}break;case 4:Qr(l,o),Ps(o);break;case 13:Qr(l,o),Ps(o),v=o.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(nw=yt())),m&4&&_b(o);break;case 22:if(oe=d!==null&&d.memoizedState!==null,o.mode&1?(xn=(Z=xn)||oe,Qr(l,o),xn=Z):Qr(l,o),Ps(o),m&8192){if(Z=o.memoizedState!==null,(o.stateNode.isHidden=Z)&&!oe&&(o.mode&1)!==0)for(ge=o,oe=o.child;oe!==null;){for(ae=ge=oe;ge!==null;){switch(se=ge,pe=se.child,se.tag){case 0:case 11:case 14:case 15:Fd(4,se,se.return);break;case 1:Ac(se,se.return);var ve=se.stateNode;if(typeof ve.componentWillUnmount=="function"){m=se,d=se.return;try{l=m,ve.props=l.memoizedProps,ve.state=l.memoizedState,ve.componentWillUnmount()}catch(Te){Nt(m,d,Te)}}break;case 5:Ac(se,se.return);break;case 22:if(se.memoizedState!==null){Ib(ae);continue}}pe!==null?(pe.return=se,ge=pe):Ib(ae)}oe=oe.sibling}e:for(oe=null,ae=o;;){if(ae.tag===5){if(oe===null){oe=ae;try{v=ae.stateNode,Z?(w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=ae.stateNode,$=ae.memoizedProps.style,C=$!=null&&$.hasOwnProperty("display")?$.display:null,U.style.display=Xi("display",C))}catch(Te){Nt(o,o.return,Te)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=Z?"":ae.memoizedProps}catch(Te){Nt(o,o.return,Te)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===o)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===o)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===o)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Qr(l,o),Ps(o),m&4&&_b(o);break;case 21:break;default:Qr(l,o),Ps(o)}}function Ps(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(yb(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(ma(v,""),m.flags&=-33);var w=vb(o);Zv(o,w,v);break;case 3:case 4:var C=m.stateNode.containerInfo,U=vb(o);Jv(o,U,C);break;default:throw Error(n(161))}}catch($){Nt(o,o.return,$)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function uF(o,l,d){ge=o,Eb(o)}function Eb(o,l,d){for(var m=(o.mode&1)!==0;ge!==null;){var v=ge,w=v.child;if(v.tag===22&&m){var C=v.memoizedState!==null||Dp;if(!C){var U=v.alternate,$=U!==null&&U.memoizedState!==null||xn;U=Dp;var Z=xn;if(Dp=C,(xn=$)&&!Z)for(ge=v;ge!==null;)C=ge,$=C.child,C.tag===22&&C.memoizedState!==null?bb(v):$!==null?($.return=C,ge=$):bb(v);for(;w!==null;)ge=w,Eb(w),w=w.sibling;ge=v,Dp=U,xn=Z}Tb(o)}else(v.subtreeFlags&8772)!==0&&w!==null?(w.return=v,ge=w):Tb(o)}}function Tb(o){for(;ge!==null;){var l=ge;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:xn||Mp(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!xn)if(d===null)m.componentDidMount();else{var v=l.elementType===l.type?d.memoizedProps:Gr(l.type,d.memoizedProps);m.componentDidUpdate(v,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&II(l,w,m);break;case 3:var C=l.updateQueue;if(C!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}II(l,C,d)}break;case 5:var U=l.stateNode;if(d===null&&l.flags&4){d=U;var $=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&d.focus();break;case"img":$.src&&(d.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var oe=Z.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&oo(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}xn||l.flags&512&&Xv(l)}catch(se){Nt(l,l.return,se)}}if(l===o){ge=null;break}if(d=l.sibling,d!==null){d.return=l.return,ge=d;break}ge=l.return}}function Ib(o){for(;ge!==null;){var l=ge;if(l===o){ge=null;break}var d=l.sibling;if(d!==null){d.return=l.return,ge=d;break}ge=l.return}}function bb(o){for(;ge!==null;){var l=ge;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Mp(4,l)}catch($){Nt(l,d,$)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var v=l.return;try{m.componentDidMount()}catch($){Nt(l,v,$)}}var w=l.return;try{Xv(l)}catch($){Nt(l,w,$)}break;case 5:var C=l.return;try{Xv(l)}catch($){Nt(l,C,$)}}}catch($){Nt(l,l.return,$)}if(l===o){ge=null;break}var U=l.sibling;if(U!==null){U.return=l.return,ge=U;break}ge=l.return}}var dF=Math.ceil,Op=F.ReactCurrentDispatcher,ew=F.ReactCurrentOwner,Ir=F.ReactCurrentBatchConfig,tt=0,rn=null,qt=null,hn=0,ur=0,Pc=ho(0),Xt=0,jd=null,Va=0,Vp=0,tw=0,Ud=null,qn=null,nw=0,Cc=1/0,_i=null,Lp=!1,rw=null,vo=null,Fp=!1,wo=null,jp=0,Bd=0,sw=null,Up=-1,Bp=0;function Rn(){return(tt&6)!==0?yt():Up!==-1?Up:Up=yt()}function _o(o){return(o.mode&1)===0?1:(tt&2)!==0&&hn!==0?hn&-hn:KL.transition!==null?(Bp===0&&(Bp=ld()),Bp):(o=Qe,o!==0||(o=window.event,o=o===void 0?16:sc(o.type)),o)}function Yr(o,l,d,m){if(50<Bd)throw Bd=0,sw=null,Error(n(185));Ia(o,d,m),((tt&2)===0||o!==rn)&&(o===rn&&((tt&2)===0&&(Vp|=d),Xt===4&&xo(o,hn)),Hn(o,m),d===1&&tt===0&&(l.mode&1)===0&&(Cc=yt()+500,mp&&po()))}function Hn(o,l){var d=o.callbackNode;Ta(o,l);var m=ai(o,o===rn?hn:0);if(m===0)d!==null&&Xl(d),o.callbackNode=null,o.callbackPriority=0;else if(l=m&-m,o.callbackPriority!==l){if(d!=null&&Xl(d),l===1)o.tag===0?GL(Ab.bind(null,o)):hI(Ab.bind(null,o)),zL(function(){(tt&6)===0&&po()}),d=null;else{switch(ms(m)){case 1:d=Jl;break;case 4:d=id;break;case 16:d=wa;break;case 536870912:d=Zl;break;default:d=wa}d=Ob(d,Sb.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function Sb(o,l){if(Up=-1,Bp=0,(tt&6)!==0)throw Error(n(327));var d=o.callbackNode;if(Rc()&&o.callbackNode!==d)return null;var m=ai(o,o===rn?hn:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||l)l=$p(o,m);else{l=m;var v=tt;tt|=2;var w=Cb();(rn!==o||hn!==l)&&(_i=null,Cc=yt()+500,Fa(o,l));do try{pF();break}catch(U){Pb(o,U)}while(!0);Ev(),Op.current=w,tt=v,qt!==null?l=0:(rn=null,hn=0,l=Xt)}if(l!==0){if(l===2&&(v=ad(o),v!==0&&(m=v,l=iw(o,v))),l===1)throw d=jd,Fa(o,0),xo(o,m),Hn(o,yt()),d;if(l===6)xo(o,m);else{if(v=o.current.alternate,(m&30)===0&&!hF(v)&&(l=$p(o,m),l===2&&(w=ad(o),w!==0&&(m=w,l=iw(o,w))),l===1))throw d=jd,Fa(o,0),xo(o,m),Hn(o,yt()),d;switch(o.finishedWork=v,o.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:ja(o,qn,_i);break;case 3:if(xo(o,m),(m&130023424)===m&&(l=nw+500-yt(),10<l)){if(ai(o,0)!==0)break;if(v=o.suspendedLanes,(v&m)!==m){Rn(),o.pingedLanes|=o.suspendedLanes&v;break}o.timeoutHandle=dv(ja.bind(null,o,qn,_i),l);break}ja(o,qn,_i);break;case 4:if(xo(o,m),(m&4194240)===m)break;for(l=o.eventTimes,v=-1;0<m;){var C=31-rr(m);w=1<<C,C=l[C],C>v&&(v=C),m&=~w}if(m=v,m=yt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*dF(m/1960))-m,10<m){o.timeoutHandle=dv(ja.bind(null,o,qn,_i),m);break}ja(o,qn,_i);break;case 5:ja(o,qn,_i);break;default:throw Error(n(329))}}}return Hn(o,yt()),o.callbackNode===d?Sb.bind(null,o):null}function iw(o,l){var d=Ud;return o.current.memoizedState.isDehydrated&&(Fa(o,l).flags|=256),o=$p(o,l),o!==2&&(l=qn,qn=d,l!==null&&ow(l)),o}function ow(o){qn===null?qn=o:qn.push.apply(qn,o)}function hF(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var v=d[m],w=v.getSnapshot;v=v.value;try{if(!qr(w(),v))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function xo(o,l){for(l&=~tw,l&=~Vp,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-rr(l),m=1<<d;o[d]=-1,l&=~m}}function Ab(o){if((tt&6)!==0)throw Error(n(327));Rc();var l=ai(o,0);if((l&1)===0)return Hn(o,yt()),null;var d=$p(o,l);if(o.tag!==0&&d===2){var m=ad(o);m!==0&&(l=m,d=iw(o,m))}if(d===1)throw d=jd,Fa(o,0),xo(o,l),Hn(o,yt()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,ja(o,qn,_i),Hn(o,yt()),null}function aw(o,l){var d=tt;tt|=1;try{return o(l)}finally{tt=d,tt===0&&(Cc=yt()+500,mp&&po())}}function La(o){wo!==null&&wo.tag===0&&(tt&6)===0&&Rc();var l=tt;tt|=1;var d=Ir.transition,m=Qe;try{if(Ir.transition=null,Qe=1,o)return o()}finally{Qe=m,Ir.transition=d,tt=l,(tt&6)===0&&po()}}function lw(){ur=Pc.current,wt(Pc)}function Fa(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,$L(d)),qt!==null)for(d=qt.return;d!==null;){var m=d;switch(yv(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&fp();break;case 3:bc(),wt($n),wt(vn),Rv();break;case 5:Pv(m);break;case 4:bc();break;case 13:wt(bt);break;case 19:wt(bt);break;case 10:Tv(m.type._context);break;case 22:case 23:lw()}d=d.return}if(rn=o,qt=o=Eo(o.current,null),hn=ur=l,Xt=0,jd=null,tw=Vp=Va=0,qn=Ud=null,Da!==null){for(l=0;l<Da.length;l++)if(d=Da[l],m=d.interleaved,m!==null){d.interleaved=null;var v=m.next,w=d.pending;if(w!==null){var C=w.next;w.next=v,m.next=C}d.pending=m}Da=null}return o}function Pb(o,l){do{var d=qt;try{if(Ev(),bp.current=Cp,Sp){for(var m=St.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}Sp=!1}if(Oa=0,nn=Yt=St=null,Dd=!1,Md=0,ew.current=null,d===null||d.return===null){Xt=1,jd=l,qt=null;break}e:{var w=o,C=d.return,U=d,$=l;if(l=hn,U.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Z=$,oe=U,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var pe=ZI(C);if(pe!==null){pe.flags&=-257,eb(pe,C,U,w,l),pe.mode&1&&JI(w,Z,l),l=pe,$=Z;var ve=l.updateQueue;if(ve===null){var Te=new Set;Te.add($),l.updateQueue=Te}else ve.add($);break e}else{if((l&1)===0){JI(w,Z,l),cw();break e}$=Error(n(426))}}else if(xt&&U.mode&1){var Bt=ZI(C);if(Bt!==null){(Bt.flags&65536)===0&&(Bt.flags|=256),eb(Bt,C,U,w,l),_v(Sc($,U));break e}}w=$=Sc($,U),Xt!==4&&(Xt=2),Ud===null?Ud=[w]:Ud.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var Y=YI(w,$,l);TI(w,Y);break e;case 1:U=$;var H=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(vo===null||!vo.has(J)))){w.flags|=65536,l&=-l,w.lanes|=l;var ce=XI(w,U,l);TI(w,ce);break e}}w=w.return}while(w!==null)}kb(d)}catch(be){l=be,qt===d&&d!==null&&(qt=d=d.return);continue}break}while(!0)}function Cb(){var o=Op.current;return Op.current=Cp,o===null?Cp:o}function cw(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),rn===null||(Va&268435455)===0&&(Vp&268435455)===0||xo(rn,hn)}function $p(o,l){var d=tt;tt|=2;var m=Cb();(rn!==o||hn!==l)&&(_i=null,Fa(o,l));do try{fF();break}catch(v){Pb(o,v)}while(!0);if(Ev(),tt=d,Op.current=m,qt!==null)throw Error(n(261));return rn=null,hn=0,Xt}function fF(){for(;qt!==null;)Rb(qt)}function pF(){for(;qt!==null&&!va();)Rb(qt)}function Rb(o){var l=Mb(o.alternate,o,ur);o.memoizedProps=o.pendingProps,l===null?kb(o):qt=l,ew.current=null}function kb(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=oF(d,l,ur),d!==null){qt=d;return}}else{if(d=aF(d,l),d!==null){d.flags&=32767,qt=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Xt=6,qt=null;return}}if(l=l.sibling,l!==null){qt=l;return}qt=l=o}while(l!==null);Xt===0&&(Xt=5)}function ja(o,l,d){var m=Qe,v=Ir.transition;try{Ir.transition=null,Qe=1,mF(o,l,d,m)}finally{Ir.transition=v,Qe=m}return null}function mF(o,l,d,m){do Rc();while(wo!==null);if((tt&6)!==0)throw Error(n(327));d=o.finishedWork;var v=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var w=d.lanes|d.childLanes;if(Qy(o,w),o===rn&&(qt=rn=null,hn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Fp||(Fp=!0,Ob(wa,function(){return Rc(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=Ir.transition,Ir.transition=null;var C=Qe;Qe=1;var U=tt;tt|=4,ew.current=null,cF(o,d),xb(d,o),OL(cv),ui=!!lv,cv=lv=null,o.current=d,uF(d),oi(),tt=U,Qe=C,Ir.transition=w}else o.current=d;if(Fp&&(Fp=!1,wo=o,jp=v),w=o.pendingLanes,w===0&&(vo=null),Qf(d.stateNode),Hn(o,yt()),l!==null)for(m=o.onRecoverableError,d=0;d<l.length;d++)v=l[d],m(v.value,{componentStack:v.stack,digest:v.digest});if(Lp)throw Lp=!1,o=rw,rw=null,o;return(jp&1)!==0&&o.tag!==0&&Rc(),w=o.pendingLanes,(w&1)!==0?o===sw?Bd++:(Bd=0,sw=o):Bd=0,po(),null}function Rc(){if(wo!==null){var o=ms(jp),l=Ir.transition,d=Qe;try{if(Ir.transition=null,Qe=16>o?16:o,wo===null)var m=!1;else{if(o=wo,wo=null,jp=0,(tt&6)!==0)throw Error(n(331));var v=tt;for(tt|=4,ge=o.current;ge!==null;){var w=ge,C=w.child;if((ge.flags&16)!==0){var U=w.deletions;if(U!==null){for(var $=0;$<U.length;$++){var Z=U[$];for(ge=Z;ge!==null;){var oe=ge;switch(oe.tag){case 0:case 11:case 15:Fd(8,oe,w)}var ae=oe.child;if(ae!==null)ae.return=oe,ge=ae;else for(;ge!==null;){oe=ge;var se=oe.sibling,pe=oe.return;if(gb(oe),oe===Z){ge=null;break}if(se!==null){se.return=pe,ge=se;break}ge=pe}}}var ve=w.alternate;if(ve!==null){var Te=ve.child;if(Te!==null){ve.child=null;do{var Bt=Te.sibling;Te.sibling=null,Te=Bt}while(Te!==null)}}ge=w}}if((w.subtreeFlags&2064)!==0&&C!==null)C.return=w,ge=C;else e:for(;ge!==null;){if(w=ge,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Fd(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,ge=Y;break e}ge=w.return}}var H=o.current;for(ge=H;ge!==null;){C=ge;var J=C.child;if((C.subtreeFlags&2064)!==0&&J!==null)J.return=C,ge=J;else e:for(C=H;ge!==null;){if(U=ge,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Mp(9,U)}}catch(be){Nt(U,U.return,be)}if(U===C){ge=null;break e}var ce=U.sibling;if(ce!==null){ce.return=U.return,ge=ce;break e}ge=U.return}}if(tt=v,po(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(_a,o)}catch{}m=!0}return m}finally{Qe=d,Ir.transition=l}}return!1}function Nb(o,l,d){l=Sc(d,l),l=YI(o,l,1),o=go(o,l,1),l=Rn(),o!==null&&(Ia(o,1,l),Hn(o,l))}function Nt(o,l,d){if(o.tag===3)Nb(o,o,d);else for(;l!==null;){if(l.tag===3){Nb(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(vo===null||!vo.has(m))){o=Sc(d,o),o=XI(l,o,1),l=go(l,o,1),o=Rn(),l!==null&&(Ia(l,1,o),Hn(l,o));break}}l=l.return}}function gF(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),l=Rn(),o.pingedLanes|=o.suspendedLanes&d,rn===o&&(hn&d)===d&&(Xt===4||Xt===3&&(hn&130023424)===hn&&500>yt()-nw?Fa(o,0):tw|=d),Hn(o,l)}function Db(o,l){l===0&&((o.mode&1)===0?l=1:(l=ro,ro<<=1,(ro&130023424)===0&&(ro=4194304)));var d=Rn();o=yi(o,l),o!==null&&(Ia(o,l,d),Hn(o,d))}function yF(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),Db(o,d)}function vF(o,l){var d=0;switch(o.tag){case 13:var m=o.stateNode,v=o.memoizedState;v!==null&&(d=v.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),Db(o,d)}var Mb;Mb=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||$n.current)Wn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return Wn=!1,iF(o,l,d);Wn=(o.flags&131072)!==0}else Wn=!1,xt&&(l.flags&1048576)!==0&&fI(l,yp,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;Np(o,l),o=l.pendingProps;var v=vc(l,vn.current);Ic(l,d),v=Dv(null,l,m,o,v,d);var w=Mv();return l.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,zn(m)?(w=!0,pp(l)):w=!1,l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Sv(l),v.updater=Rp,l.stateNode=v,v._reactInternals=l,Uv(l,m,o,d),l=Wv(null,l,m,!0,w,d)):(l.tag=0,xt&&w&&gv(l),Cn(null,l,v,d),l=l.child),l;case 16:m=l.elementType;e:{switch(Np(o,l),o=l.pendingProps,v=m._init,m=v(m._payload),l.type=m,v=l.tag=_F(m),o=Gr(m,o),v){case 0:l=zv(null,l,m,o,d);break e;case 1:l=ob(null,l,m,o,d);break e;case 11:l=tb(null,l,m,o,d);break e;case 14:l=nb(null,l,m,Gr(m.type,o),d);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Gr(m,v),zv(o,l,m,v,d);case 1:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Gr(m,v),ob(o,l,m,v,d);case 3:e:{if(ab(l),o===null)throw Error(n(387));m=l.pendingProps,w=l.memoizedState,v=w.element,EI(o,l),Tp(l,m,null,d);var C=l.memoizedState;if(m=C.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){v=Sc(Error(n(423)),l),l=lb(o,l,m,d,v);break e}else if(m!==v){v=Sc(Error(n(424)),l),l=lb(o,l,m,d,v);break e}else for(cr=uo(l.stateNode.containerInfo.firstChild),lr=l,xt=!0,Hr=null,d=_I(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(xc(),m===v){l=wi(o,l,d);break e}Cn(o,l,m,d)}l=l.child}return l;case 5:return bI(l),o===null&&wv(l),m=l.type,v=l.pendingProps,w=o!==null?o.memoizedProps:null,C=v.children,uv(m,v)?C=null:w!==null&&uv(m,w)&&(l.flags|=32),ib(o,l),Cn(o,l,C,d),l.child;case 6:return o===null&&wv(l),null;case 13:return cb(o,l,d);case 4:return Av(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=Ec(l,null,m,d):Cn(o,l,m,d),l.child;case 11:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Gr(m,v),tb(o,l,m,v,d);case 7:return Cn(o,l,l.pendingProps,d),l.child;case 8:return Cn(o,l,l.pendingProps.children,d),l.child;case 12:return Cn(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,v=l.pendingProps,w=l.memoizedProps,C=v.value,pt(_p,m._currentValue),m._currentValue=C,w!==null)if(qr(w.value,C)){if(w.children===v.children&&!$n.current){l=wi(o,l,d);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var U=w.dependencies;if(U!==null){C=w.child;for(var $=U.firstContext;$!==null;){if($.context===m){if(w.tag===1){$=vi(-1,d&-d),$.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var oe=Z.pending;oe===null?$.next=$:($.next=oe.next,oe.next=$),Z.pending=$}}w.lanes|=d,$=w.alternate,$!==null&&($.lanes|=d),Iv(w.return,d,l),U.lanes|=d;break}$=$.next}}else if(w.tag===10)C=w.type===l.type?null:w.child;else if(w.tag===18){if(C=w.return,C===null)throw Error(n(341));C.lanes|=d,U=C.alternate,U!==null&&(U.lanes|=d),Iv(C,d,l),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===l){C=null;break}if(w=C.sibling,w!==null){w.return=C.return,C=w;break}C=C.return}w=C}Cn(o,l,v.children,d),l=l.child}return l;case 9:return v=l.type,m=l.pendingProps.children,Ic(l,d),v=Er(v),m=m(v),l.flags|=1,Cn(o,l,m,d),l.child;case 14:return m=l.type,v=Gr(m,l.pendingProps),v=Gr(m.type,v),nb(o,l,m,v,d);case 15:return rb(o,l,l.type,l.pendingProps,d);case 17:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Gr(m,v),Np(o,l),l.tag=1,zn(m)?(o=!0,pp(l)):o=!1,Ic(l,d),KI(l,m,v),Uv(l,m,v,d),Wv(null,l,m,!0,o,d);case 19:return db(o,l,d);case 22:return sb(o,l,d)}throw Error(n(156,l.tag))};function Ob(o,l){return sd(o,l)}function wF(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(o,l,d,m){return new wF(o,l,d,m)}function uw(o){return o=o.prototype,!(!o||!o.isReactComponent)}function _F(o){if(typeof o=="function")return uw(o)?1:0;if(o!=null){if(o=o.$$typeof,o===z)return 11;if(o===Le)return 14}return 2}function Eo(o,l){var d=o.alternate;return d===null?(d=br(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function zp(o,l,d,m,v,w){var C=2;if(m=o,typeof o=="function")uw(o)&&(C=1);else if(typeof o=="string")C=5;else e:switch(o){case k:return Ua(d.children,v,w,l);case P:C=8,v|=8;break;case N:return o=br(12,d,l,v|2),o.elementType=N,o.lanes=w,o;case V:return o=br(13,d,l,v),o.elementType=V,o.lanes=w,o;case Ie:return o=br(19,d,l,v),o.elementType=Ie,o.lanes=w,o;case fe:return Wp(d,v,w,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:C=10;break e;case j:C=9;break e;case z:C=11;break e;case Le:C=14;break e;case Pe:C=16,m=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=br(C,d,l,v),l.elementType=o,l.type=m,l.lanes=w,l}function Ua(o,l,d,m){return o=br(7,o,m,l),o.lanes=d,o}function Wp(o,l,d,m){return o=br(22,o,m,l),o.elementType=fe,o.lanes=d,o.stateNode={isHidden:!1},o}function dw(o,l,d){return o=br(6,o,null,l),o.lanes=d,o}function hw(o,l,d){return l=br(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function xF(o,l,d,m,v){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cd(0),this.expirationTimes=cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cd(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function fw(o,l,d,m,v,w,C,U,$){return o=new xF(o,l,d,U,$),l===1?(l=1,w===!0&&(l|=8)):l=0,w=br(3,null,null,l),o.current=w,w.stateNode=o,w.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sv(w),o}function EF(o,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:m==null?null:""+m,children:o,containerInfo:l,implementation:d}}function Vb(o){if(!o)return fo;o=o._reactInternals;e:{if(zr(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(zn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(zn(d))return uI(o,d,l)}return l}function Lb(o,l,d,m,v,w,C,U,$){return o=fw(d,m,!0,o,v,w,C,U,$),o.context=Vb(null),d=o.current,m=Rn(),v=_o(d),w=vi(m,v),w.callback=l??null,go(d,w,v),o.current.lanes=v,Ia(o,v,m),Hn(o,m),o}function qp(o,l,d,m){var v=l.current,w=Rn(),C=_o(v);return d=Vb(d),l.context===null?l.context=d:l.pendingContext=d,l=vi(w,C),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=go(v,l,C),o!==null&&(Yr(o,v,C,w),Ep(o,v,C)),C}function Hp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Fb(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function pw(o,l){Fb(o,l),(o=o.alternate)&&Fb(o,l)}function TF(){return null}var jb=typeof reportError=="function"?reportError:function(o){console.error(o)};function mw(o){this._internalRoot=o}Gp.prototype.render=mw.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));qp(o,l,null,null)},Gp.prototype.unmount=mw.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;La(function(){qp(null,o,null,null)}),l[fi]=null}};function Gp(o){this._internalRoot=o}Gp.prototype.unstable_scheduleHydration=function(o){if(o){var l=fd();o={blockedOn:null,target:o,priority:l};for(var d=0;d<sr.length&&l!==0&&l<sr[d].priority;d++);sr.splice(d,0,o),d===0&&nc(o)}};function gw(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Kp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Ub(){}function IF(o,l,d,m,v){if(v){if(typeof m=="function"){var w=m;m=function(){var Z=Hp(C);w.call(Z)}}var C=Lb(l,m,o,0,null,!1,!1,"",Ub);return o._reactRootContainer=C,o[fi]=C.current,bd(o.nodeType===8?o.parentNode:o),La(),C}for(;v=o.lastChild;)o.removeChild(v);if(typeof m=="function"){var U=m;m=function(){var Z=Hp($);U.call(Z)}}var $=fw(o,0,!1,null,null,!1,!1,"",Ub);return o._reactRootContainer=$,o[fi]=$.current,bd(o.nodeType===8?o.parentNode:o),La(function(){qp(l,$,d,m)}),$}function Qp(o,l,d,m,v){var w=d._reactRootContainer;if(w){var C=w;if(typeof v=="function"){var U=v;v=function(){var $=Hp(C);U.call($)}}qp(l,C,o,v)}else C=IF(d,l,o,v,m);return Hp(C)}dd=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=it(l.pendingLanes);d!==0&&(ud(l,d|1),Hn(l,yt()),(tt&6)===0&&(Cc=yt()+500,po()))}break;case 13:La(function(){var m=yi(o,1);if(m!==null){var v=Rn();Yr(m,o,1,v)}}),pw(o,1)}},ec=function(o){if(o.tag===13){var l=yi(o,134217728);if(l!==null){var d=Rn();Yr(l,o,134217728,d)}pw(o,134217728)}},hd=function(o){if(o.tag===13){var l=_o(o),d=yi(o,l);if(d!==null){var m=Rn();Yr(d,o,l,m)}pw(o,l)}},fd=function(){return Qe},pd=function(o,l){var d=Qe;try{return Qe=o,l()}finally{Qe=d}},ri=function(o,l,d){switch(l){case"input":if(ni(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var v=hp(m);if(!v)throw Error(n(90));tr(m),ni(m,v)}}}break;case"textarea":Lf(o,d);break;case"select":l=d.value,l!=null&&Br(o,!!d.multiple,l,!1)}},Uf=aw,Bf=La;var bF={usingClientEntryPoint:!1,Events:[Pd,gc,hp,Zi,eo,aw]},$d={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SF={bundleType:$d.bundleType,version:$d.version,rendererPackageName:$d.rendererPackageName,rendererConfig:$d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Kf(o),o===null?null:o.stateNode},findFiberByHostInstance:$d.findFiberByHostInstance||TF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{_a=Yp.inject(SF),nr=Yp}catch{}}return Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bF,Gn.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gw(l))throw Error(n(200));return EF(o,l,null,d)},Gn.createRoot=function(o,l){if(!gw(o))throw Error(n(299));var d=!1,m="",v=jb;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),l=fw(o,1,!1,null,null,d,!1,m,v),o[fi]=l.current,bd(o.nodeType===8?o.parentNode:o),new mw(l)},Gn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Kf(l),o=o===null?null:o.stateNode,o},Gn.flushSync=function(o){return La(o)},Gn.hydrate=function(o,l,d){if(!Kp(l))throw Error(n(200));return Qp(null,o,l,!0,d)},Gn.hydrateRoot=function(o,l,d){if(!gw(o))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,v=!1,w="",C=jb;if(d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(C=d.onRecoverableError)),l=Lb(l,null,o,1,d??null,v,!1,w,C),o[fi]=l.current,bd(o),m)for(o=0;o<m.length;o++)d=m[o],v=d._getVersion,v=v(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,v]:l.mutableSourceEagerHydrationData.push(d,v);return new Gp(l)},Gn.render=function(o,l,d){if(!Kp(l))throw Error(n(200));return Qp(null,o,l,!1,d)},Gn.unmountComponentAtNode=function(o){if(!Kp(o))throw Error(n(40));return o._reactRootContainer?(La(function(){Qp(null,null,o,!1,function(){o._reactRootContainer=null,o[fi]=null})}),!0):!1},Gn.unstable_batchedUpdates=aw,Gn.unstable_renderSubtreeIntoContainer=function(o,l,d,m){if(!Kp(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Qp(o,l,d,!1,m)},Gn.version="18.3.1-next-f1338f8080-20240426",Gn}var Qb;function zC(){if(Qb)return xw.exports;Qb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xw.exports=VF(),xw.exports}var Yb;function LF(){if(Yb)return Jp;Yb=1;var t=zC();return Jp.createRoot=t.createRoot,Jp.hydrateRoot=t.hydrateRoot,Jp}var FF=LF();const jF=ax(FF),UF="modulepreload",BF=function(t){return"/"+t},Xb={},Ft=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let a=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=a(n.map(h=>{if(h=BF(h),h in Xb)return;Xb[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":UF,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((E,A)=>{y.addEventListener("load",E),y.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};function Jb({size:t="md",variant:e="circle",className:n=""}){const r={xs:{wrapper:"w-6 h-6",img:"w-5 h-5"},sm:{wrapper:"w-8 h-8",img:"w-6 h-6"},md:{wrapper:"w-12 h-12",img:"w-10 h-10"},lg:{wrapper:"w-20 h-20",img:"w-16 h-16"},xl:{wrapper:"w-32 h-32",img:"w-24 h-24"}},s=r[t]||r.md;return x.jsx("div",{className:`${e==="circle"?"bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full shadow-lg overflow-hidden flex items-center justify-center":""} ${s.wrapper} ${n}`.trim(),children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:`${s.img} object-contain ${e==="circle"?"transform -rotate-12":""}`,loading:"lazy"})})}const $F=()=>{};var Zb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},zF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],c=t[n++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},qC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,c=a?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,p=i>>2,g=(i&3)<<4|c>>4;let y=(c&15)<<2|h>>6,E=h&63;u||(E=64,a||(y=64)),r.push(n[p],n[g],n[y],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||h==null||g==null)throw new WF;const y=i<<2|c>>4;if(r.push(y),h!==64){const E=c<<4&240|h>>2;if(r.push(E),g!==64){const A=h<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qF=function(t){const e=WC(t);return qC.encodeByteArray(e,!0)},Zm=function(t){return qF(t).replace(/\./g,"")},HC=function(t){try{return qC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=()=>GC().__FIREBASE_DEFAULTS__,GF=()=>{if(typeof process>"u"||typeof Zb>"u")return;const t=Zb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HC(t[1]);return e&&JSON.parse(e)},Hg=()=>{try{return $F()||HF()||GF()||KF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KC=t=>{var e,n;return(n=(e=Hg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},QC=t=>{const e=KC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YC=()=>{var t;return(t=Hg())==null?void 0:t.config},XC=t=>{var e;return(e=Hg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ux(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zm(JSON.stringify(n)),Zm(JSON.stringify(a)),""].join(".")}const uh={};function YF(){const t={prod:[],emulator:[]};for(const e of Object.keys(uh))uh[e]?t.emulator.push(e):t.prod.push(e);return t}function XF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let eS=!1;function dx(t,e){if(typeof window>"u"||typeof document>"u"||!Vl(window.location.host)||uh[t]===e||uh[t]||eS)return;uh[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",i=YF().prod.length>0;function a(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,E){y.setAttribute("width","24"),y.setAttribute("id",E),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{eS=!0,a()},y}function p(y,E){y.setAttribute("id",E),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=XF(r),E=n("text"),A=document.getElementById(E)||document.createElement("span"),I=n("learnmore"),S=document.getElementById(I)||document.createElement("a"),R=n("preprendIcon"),L=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const M=y.element;c(M),p(S,I);const F=h();u(L,R),M.append(L,A,S,F),document.body.appendChild(M)}i?(A.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function ZC(){var e;const t=(e=Hg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ej(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tj(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eR(){return!ZC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tR(){return!ZC()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Gg(){try{return typeof indexedDB=="object"}catch{return!1}}function fx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function nR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="FirebaseError";class Ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nj,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?rj(i,r):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new Ur(s,c,r)}}function rj(t,e){return t.replace(sj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const sj=/\{\$([^}]+)}/g;function ij(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(tS(i)&&tS(a)){if(!Zo(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function tS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function th(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oj(t,e){const n=new aj(t,e);return n.subscribe.bind(n)}class aj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lj(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Iw),s.error===void 0&&(s.error=Iw),s.complete===void 0&&(s.complete=Iw);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Iw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=1e3,uj=2,dj=14400*1e3,hj=.5;function nS(t,e=cj,n=uj){const r=e*Math.pow(n,t),s=Math.round(hj*r*(Math.random()-.5)*2);return Math.min(dj,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mj(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pj(t){return t===Wa?void 0:t}function mj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const yj={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},vj=Ge.INFO,wj={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},_j=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=wj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kg{constructor(e){this.name=e,this._logLevel=vj,this._logHandler=_j,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const xj=(t,e)=>e.some(n=>t instanceof n);let rS,sS;function Ej(){return rS||(rS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tj(){return sS||(sS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rR=new WeakMap,S_=new WeakMap,sR=new WeakMap,bw=new WeakMap,px=new WeakMap;function Ij(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Go(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&rR.set(n,t)}).catch(()=>{}),px.set(e,t),e}function bj(t){if(S_.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});S_.set(t,e)}let A_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return S_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Sj(t){A_=t(A_)}function Aj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sw(this),e,...n);return sR.set(r,e.sort?e.sort():[e]),Go(r)}:Tj().includes(t)?function(...e){return t.apply(Sw(this),e),Go(rR.get(this))}:function(...e){return Go(t.apply(Sw(this),e))}}function Pj(t){return typeof t=="function"?Aj(t):(t instanceof IDBTransaction&&bj(t),xj(t,Ej())?new Proxy(t,A_):t)}function Go(t){if(t instanceof IDBRequest)return Ij(t);if(bw.has(t))return bw.get(t);const e=Pj(t);return e!==t&&(bw.set(t,e),px.set(e,t)),e}const Sw=t=>px.get(t);function iR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),c=Go(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Go(a.result),u.oldVersion,u.newVersion,Go(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const Cj=["get","getKey","getAll","getAllKeys","count"],Rj=["put","add","delete","clear"],Aw=new Map;function iS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Aw.get(e))return Aw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Rj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Cj.includes(n)))return;const i=async function(a,...c){const u=this.transaction(a,s?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&u.done]))[0]};return Aw.set(e,i),i}Sj(t=>({...t,get:(e,n,r)=>iS(e,n)||t.get(e,n,r),has:(e,n)=>!!iS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Nj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Nj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const P_="@firebase/app",oS="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Kg("@firebase/app"),Dj="@firebase/app-compat",Mj="@firebase/analytics-compat",Oj="@firebase/analytics",Vj="@firebase/app-check-compat",Lj="@firebase/app-check",Fj="@firebase/auth",jj="@firebase/auth-compat",Uj="@firebase/database",Bj="@firebase/data-connect",$j="@firebase/database-compat",zj="@firebase/functions",Wj="@firebase/functions-compat",qj="@firebase/installations",Hj="@firebase/installations-compat",Gj="@firebase/messaging",Kj="@firebase/messaging-compat",Qj="@firebase/performance",Yj="@firebase/performance-compat",Xj="@firebase/remote-config",Jj="@firebase/remote-config-compat",Zj="@firebase/storage",e4="@firebase/storage-compat",t4="@firebase/firestore",n4="@firebase/ai",r4="@firebase/firestore-compat",s4="firebase",i4="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="[DEFAULT]",o4={[P_]:"fire-core",[Dj]:"fire-core-compat",[Oj]:"fire-analytics",[Mj]:"fire-analytics-compat",[Lj]:"fire-app-check",[Vj]:"fire-app-check-compat",[Fj]:"fire-auth",[jj]:"fire-auth-compat",[Uj]:"fire-rtdb",[Bj]:"fire-data-connect",[$j]:"fire-rtdb-compat",[zj]:"fire-fn",[Wj]:"fire-fn-compat",[qj]:"fire-iid",[Hj]:"fire-iid-compat",[Gj]:"fire-fcm",[Kj]:"fire-fcm-compat",[Qj]:"fire-perf",[Yj]:"fire-perf-compat",[Xj]:"fire-rc",[Jj]:"fire-rc-compat",[Zj]:"fire-gcs",[e4]:"fire-gcs-compat",[t4]:"fire-fst",[r4]:"fire-fst-compat",[n4]:"fire-vertex","fire-js":"fire-js",[s4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=new Map,a4=new Map,R_=new Map;function aS(t,e){try{t.container.addComponent(e)}catch(n){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rs(t){const e=t.name;if(R_.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;R_.set(e,t);for(const n of eg.values())aS(n,t);for(const n of a4.values())aS(n,t);return!0}function ca(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ko=new Ll("app","Firebase",l4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=i4;function oR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:C_,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ko.create("bad-app-name",{appName:String(s)});if(n||(n=YC()),!n)throw Ko.create("no-options");const i=eg.get(s);if(i){if(Zo(n,i.options)&&Zo(r,i.config))return i;throw Ko.create("duplicate-app",{appName:s})}const a=new gj(s);for(const u of R_.values())a.addComponent(u);const c=new c4(n,r,a);return eg.set(s,c),c}function Qg(t=C_){const e=eg.get(t);if(!e&&t===C_&&YC())return oR();if(!e)throw Ko.create("no-app",{appName:t});return e}function Jn(t,e,n){let r=o4[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(a.join(" "));return}rs(new jr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="firebase-heartbeat-database",d4=1,Sh="firebase-heartbeat-store";let Pw=null;function aR(){return Pw||(Pw=iR(u4,d4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ko.create("idb-open",{originalErrorMessage:t.message})})),Pw}async function h4(t){try{const n=(await aR()).transaction(Sh),r=await n.objectStore(Sh).get(lR(t));return await n.done,r}catch(e){if(e instanceof Ur)ki.warn(e.message);else{const n=Ko.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(n.message)}}}async function lS(t,e){try{const r=(await aR()).transaction(Sh,"readwrite");await r.objectStore(Sh).put(e,lR(t)),await r.done}catch(n){if(n instanceof Ur)ki.warn(n.message);else{const r=Ko.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ki.warn(r.message)}}}function lR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=1024,p4=30;class m4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=cS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>p4){const a=v4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ki.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cS(),{heartbeatsToSend:r,unsentEntries:s}=g4(this._heartbeatsCache.heartbeats),i=Zm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ki.warn(n),""}}}function cS(){return new Date().toISOString().substring(0,10)}function g4(t,e=f4){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),uS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),uS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class y4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gg()?fx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await h4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function uS(t){return Zm(JSON.stringify({version:2,heartbeats:t})).length}function v4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){rs(new jr("platform-logger",e=>new kj(e),"PRIVATE")),rs(new jr("heartbeat",e=>new m4(e),"PRIVATE")),Jn(P_,oS,t),Jn(P_,oS,"esm2020"),Jn("fire-js","")}w4("");function cR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _4=cR,uR=new Ll("auth","Firebase",cR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=new Kg("@firebase/auth");function x4(t,...e){tg.logLevel<=Ge.WARN&&tg.warn(`Auth (${Fl}): ${t}`,...e)}function Em(t,...e){tg.logLevel<=Ge.ERROR&&tg.error(`Auth (${Fl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,...e){throw mx(t,...e)}function Ls(t,...e){return mx(t,...e)}function dR(t,e,n){const r={..._4(),[e]:n};return new Ll("auth","Firebase",r).create(e,{appName:t.name})}function Ci(t){return dR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uR.create(t,...e)}function De(t,e,...n){if(!t)throw mx(e,...n)}function bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Em(e),new Error(e)}function Ni(t,e){t||bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function E4(){return dS()==="http:"||dS()==="https:"}function dS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E4()||hx()||"connection"in navigator)?navigator.onLine:!0}function I4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ni(n>e,"Short delay should be less than long delay!"),this.isMobile=JF()||ej()}get(){return T4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e){Ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A4=new cf(3e4,6e4);function Bi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $i(t,e,n,r,s={}){return fR(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const c=lf({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...i};return ZF()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Vl(t.emulatorConfig.host)&&(h.credentials="include"),hR.fetch()(await pR(t,t.config.apiHost,n,c),h)})}async function fR(t,e,n){t._canInitEmulator=!1;const r={...b4,...e};try{const s=new C4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Zp(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const c=i.ok?a.errorMessage:a.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zp(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Zp(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Zp(t,"user-disabled",a);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw dR(t,p,h);ss(t,p)}}catch(s){if(s instanceof Ur)throw s;ss(t,"network-request-failed",{message:String(s)})}}async function uf(t,e,n,r,s={}){const i=await $i(t,e,n,r,s);return"mfaPendingCredential"in i&&ss(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function pR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?gx(t.config,s):`${t.config.apiScheme}://${s}`;return S4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function P4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class C4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ls(this.auth,"network-request-failed")),A4.get())})}}function Zp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ls(t,e,r);return s.customData._tokenResponse=n,s}function hS(t){return t!==void 0&&t.enterprise!==void 0}class R4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function k4(t,e){return $i(t,"GET","/v2/recaptchaConfig",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e){return $i(t,"POST","/v1/accounts:delete",e)}async function ng(t,e){return $i(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D4(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),s=yx(r);De(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:dh(Cw(s.auth_time)),issuedAtTime:dh(Cw(s.iat)),expirationTime:dh(Cw(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Cw(t){return Number(t)*1e3}function yx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Em("JWT malformed, contained fewer than 3 sections"),null;try{const s=HC(n);return s?JSON.parse(s):(Em("Failed to decode base64 JWT payload"),null)}catch(s){return Em("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function fS(t){const e=yx(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ur&&M4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function M4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(t){var g;const e=t.auth,n=await t.getIdToken(),r=await Ah(t,ng(e,{idToken:n}));De(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(g=s.providerUserInfo)!=null&&g.length?mR(s.providerUserInfo):[],a=L4(t.providerData,i),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=c?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new N_(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function V4(t){const e=Rt(t);await rg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function L4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function mR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e){const n=await fR(t,{},async()=>{const r=lf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await pR(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return t.emulatorConfig&&Vl(t.emulatorConfig.host)&&(u.credentials="include"),hR.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function j4(t,e){return $i(t,"POST","/v2/accounts:revokeToken",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=fS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await F4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Zc;return r&&(De(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(De(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zc,this.toJSON())}_performRefresh(){return bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ts{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new O4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new N_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ah(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return D4(this,e)}reload(){return V4(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await Ah(this,N4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,c=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:y,isAnonymous:E,providerData:A,stsTokenManager:I}=n;De(g&&I,e,"internal-error");const S=Zc.fromJSON(this.name,I);De(typeof g=="string",e,"internal-error"),Io(r,e.name),Io(s,e.name),De(typeof y=="boolean",e,"internal-error"),De(typeof E=="boolean",e,"internal-error"),Io(i,e.name),Io(a,e.name),Io(c,e.name),Io(u,e.name),Io(h,e.name),Io(p,e.name);const R=new ts({uid:g,auth:e,email:s,emailVerified:y,displayName:r,isAnonymous:E,photoURL:a,phoneNumber:i,tenantId:c,stsTokenManager:S,createdAt:h,lastLoginAt:p});return A&&Array.isArray(A)&&(R.providerData=A.map(L=>({...L}))),u&&(R._redirectEventId=u),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new Zc;s.updateFromServerResponse(n);const i=new ts({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await rg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];De(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?mR(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new Zc;c.updateFromIdToken(r);const u=new ts({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new N_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=new Map;function Si(t){Ni(t instanceof Function,"Expected a class definition");let e=pS.get(t);return e?(Ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gR.type="NONE";const mS=gR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t,e,n){return`firebase:${t}:${e}:${n}`}class eu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Tm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Tm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ng(this.auth,{idToken:e}).catch(()=>{});return n?ts._fromGetAccountInfoResponse(this.auth,n,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new eu(Si(mS),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Si(mS);const a=Tm(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(a);if(p){let g;if(typeof p=="string"){const y=await ng(e,{idToken:p}).catch(()=>{});if(!y)break;g=await ts._fromGetAccountInfoResponse(e,y,p)}else g=ts._fromJSON(e,p);h!==i&&(c=g),i=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new eu(i,e,r):(i=u[0],c&&await i._set(a,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(a)}catch{}})),new eu(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_R(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ER(e))return"Blackberry";if(TR(e))return"Webos";if(vR(e))return"Safari";if((e.includes("chrome/")||wR(e))&&!e.includes("edge/"))return"Chrome";if(xR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yR(t=en()){return/firefox\//i.test(t)}function vR(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wR(t=en()){return/crios\//i.test(t)}function _R(t=en()){return/iemobile/i.test(t)}function xR(t=en()){return/android/i.test(t)}function ER(t=en()){return/blackberry/i.test(t)}function TR(t=en()){return/webos/i.test(t)}function vx(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function U4(t=en()){var e;return vx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function B4(){return tj()&&document.documentMode===10}function IR(t=en()){return vx(t)||xR(t)||TR(t)||ER(t)||/windows phone/i.test(t)||_R(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t,e=[]){let n;switch(t){case"Browser":n=gS(en());break;case"Worker":n=`${gS(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,c)=>{try{const u=e(i);a(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t,e={}){return $i(t,"GET","/v2/passwordPolicy",Bi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=6;class q4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??W4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yS(this),this.idTokenSubscription=new yS(this),this.beforeStateQueue=new $4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Si(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await eu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ng(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(fr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(Ci(this));const n=e?Rt(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z4(this),n=new q4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ll("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await j4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Si(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await eu.create(this,[Si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(c,this,"internal-error"),c.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&x4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ua(t){return Rt(t)}let yS=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=oj(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G4(t){Yg=t}function SR(t){return Yg.loadJS(t)}function K4(){return Yg.recaptchaEnterpriseScript}function Q4(){return Yg.gapiScript}function Y4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class X4{constructor(){this.enterprise=new J4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class J4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Z4="recaptcha-enterprise",AR="NO_RECAPTCHA";class e5{constructor(e){this.type=Z4,this.auth=ua(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,c)=>{k4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new R4(u);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,a(h.siteKey)}}).catch(u=>{c(u)})})}function s(i,a,c){const u=window.grecaptcha;hS(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(h=>{a(h)}).catch(()=>{a(AR)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new X4().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(c=>{if(!n&&hS(window.grecaptcha))s(c,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=K4();u.length!==0&&(u+=c),SR(u).then(()=>{s(c,i,a)}).catch(h=>{a(h)})}}).catch(c=>{a(c)})})}}async function vS(t,e,n,r=!1,s=!1){const i=new e5(t);let a;if(s)a=AR;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function sg(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await vS(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await vS(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t,e){const n=ca(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Zo(i,e??{}))return s;ss(s,"already-initialized")}return n.initialize({options:e})}function n5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function r5(t,e,n){const r=ua(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=PR(e),{host:a,port:c}=s5(e),u=c===null?"":`:${c}`,h={url:`${i}//${a}${u}/`},p=Object.freeze({host:a,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(Zo(h,r.config.emulator)&&Zo(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Vl(a)?(ux(`${i}//${a}${u}`),dx("Auth",!0)):i5()}function PR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s5(t){const e=PR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:wS(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:wS(a)}}}function wS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function i5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,n){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}}async function o5(t,e){return $i(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(t,e){return uf(t,"POST","/v1/accounts:signInWithPassword",Bi(t,e))}async function l5(t,e){return $i(t,"POST","/v1/accounts:sendOobCode",Bi(t,e))}async function c5(t,e){return l5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u5(t,e){return uf(t,"POST","/v1/accounts:signInWithEmailLink",Bi(t,e))}async function d5(t,e){return uf(t,"POST","/v1/accounts:signInWithEmailLink",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends wx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ph(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ph(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sg(e,n,"signInWithPassword",a5);case"emailLink":return u5(e,{email:this._email,oobCode:this._password});default:ss(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sg(e,r,"signUpPassword",o5);case"emailLink":return d5(e,{idToken:n,email:this._email,oobCode:this._password});default:ss(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t,e){return uf(t,"POST","/v1/accounts:signInWithIdp",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="http://localhost";class xl extends wx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new xl(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return tu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tu(e,n)}buildRequest(){const e={requestUri:h5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p5(t){const e=eh(th(t)).link,n=e?eh(th(e)).deep_link_id:null,r=eh(th(t)).deep_link_id;return(r?eh(th(r)).link:null)||r||n||e||t}class _x{constructor(e){const n=eh(th(e)),r=n.apiKey??null,s=n.oobCode??null,i=f5(n.mode??null);De(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=p5(e);try{return new _x(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.providerId=Vu.PROVIDER_ID}static credential(e,n){return Ph._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=_x.parseLink(n);return De(r,"argument-error"),Ph._fromEmailAndCode(e,r.code,r.tenantId)}}Vu.PROVIDER_ID="password";Vu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends CR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends df{constructor(){super("facebook.com")}static credential(e){return xl._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Do.credential(e.oauthAccessToken)}catch{return null}}}Do.FACEBOOK_SIGN_IN_METHOD="facebook.com";Do.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends df{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xl._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mo.credential(n,r)}catch{return null}}}Mo.GOOGLE_SIGN_IN_METHOD="google.com";Mo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends df{constructor(){super("github.com")}static credential(e){return xl._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oo.credential(e.oauthAccessToken)}catch{return null}}}Oo.GITHUB_SIGN_IN_METHOD="github.com";Oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends df{constructor(){super("twitter.com")}static credential(e,n){return xl._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vo.credential(n,r)}catch{return null}}}Vo.TWITTER_SIGN_IN_METHOD="twitter.com";Vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e){return uf(t,"POST","/v1/accounts:signUp",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ts._fromIdTokenResponse(e,r,s),a=_S(r);return new El({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=_S(r);return new El({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function _S(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends Ur{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ig.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ig(e,n,r,s)}}function RR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ig._fromErrorAndOperation(t,i,e,r):i})}async function g5(t,e,n=!1){const r=await Ah(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return El._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(Ci(r));const s="reauthenticate";try{const i=await Ah(t,RR(r,s,e,t),n);De(i.idToken,r,"internal-error");const a=yx(i.idToken);De(a,r,"internal-error");const{sub:c}=a;return De(t.uid===c,r,"user-mismatch"),El._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ss(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(t,e,n=!1){if(fr(t.app))return Promise.reject(Ci(t));const r="signIn",s=await RR(t,r,e),i=await El._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function v5(t,e){return kR(ua(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(t){const e=ua(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function w5(t,e,n){const r=ua(t);await sg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",c5)}async function _5(t,e,n){if(fr(t.app))return Promise.reject(Ci(t));const r=ua(t),a=await sg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",m5).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&NR(t),u}),c=await El._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function x5(t,e,n){return fr(t.app)?Promise.reject(Ci(t)):v5(Rt(t),Vu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&NR(t),r})}function E5(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function T5(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function I5(t,e,n,r){return Rt(t).onAuthStateChanged(e,n,r)}function b5(t){return Rt(t).signOut()}const og="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(og,"1"),this.storage.removeItem(og),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=1e3,A5=10;class MR extends DR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);B4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,A5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},S5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MR.type="LOCAL";const P5=MR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR extends DR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OR.type="SESSION";const VR=OR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Xg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(a).map(async h=>h(n.origin,i)),u=await C5(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((c,u)=>{const h=xx("",20);s.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(y.data.response);break;default:clearTimeout(p),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(){return window}function k5(t){Fs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){return typeof Fs().WorkerGlobalScope<"u"&&typeof Fs().importScripts=="function"}async function N5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function M5(){return LR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firebaseLocalStorageDb",O5=1,ag="firebaseLocalStorage",jR="fbase_key";class hf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jg(t,e){return t.transaction([ag],e?"readwrite":"readonly").objectStore(ag)}function V5(){const t=indexedDB.deleteDatabase(FR);return new hf(t).toPromise()}function D_(){const t=indexedDB.open(FR,O5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ag,{keyPath:jR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ag)?e(r):(r.close(),await V5(),e(await D_()))})})}async function xS(t,e,n){const r=Jg(t,!0).put({[jR]:e,value:n});return new hf(r).toPromise()}async function L5(t,e){const n=Jg(t,!1).get(e),r=await new hf(n).toPromise();return r===void 0?null:r.value}function ES(t,e){const n=Jg(t,!0).delete(e);return new hf(n).toPromise()}const F5=800,j5=3;class UR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await D_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xg._getInstance(M5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await N5(),!this.activeServiceWorker)return;this.sender=new R5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||D5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await D_();return await xS(e,og,"1"),await ES(e,og),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>L5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ES(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Jg(s,!1).getAll();return new hf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UR.type="LOCAL";const U5=UR;new cf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(t,e){return e?Si(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex extends wx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $5(t){return kR(t.auth,new Ex(t),t.bypassAuthState)}function z5(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),y5(n,new Ex(t),t.bypassAuthState)}async function W5(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),g5(n,new Ex(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $5;case"linkViaPopup":case"linkViaRedirect":return W5;case"reauthViaPopup":case"reauthViaRedirect":return z5;default:ss(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=new cf(2e3,1e4);class Gc extends BR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Gc.currentPopupAction&&Gc.currentPopupAction.cancel(),Gc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=xx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q5.get())};e()}}Gc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="pendingRedirect",Im=new Map;class G5 extends BR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Im.get(this.auth._key());if(!e){try{const r=await K5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Im.set(this.auth._key(),e)}return this.bypassAuthState||Im.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K5(t,e){const n=X5(e),r=Y5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Q5(t,e){Im.set(t._key(),e)}function Y5(t){return Si(t._redirectPersistence)}function X5(t){return Tm(H5,t.config.apiKey,t.name)}async function J5(t,e,n=!1){if(fr(t.app))return Promise.reject(Ci(t));const r=ua(t),s=B5(r,e),a=await new G5(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=600*1e3;class e3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$R(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ls(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z5&&this.cachedEventUids.clear(),this.cachedEventUids.has(TS(e))}saveEventToCache(e){this.cachedEventUids.add(TS(e)),this.lastProcessedEventTime=Date.now()}}function TS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $R({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $R(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t,e={}){return $i(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s3=/^https?/;async function i3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await n3(t);for(const n of e)try{if(o3(n))return}catch{}ss(t,"unauthorized-domain")}function o3(t){const e=k_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!s3.test(n))return!1;if(r3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=new cf(3e4,6e4);function IS(){const t=Fs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l3(t){return new Promise((e,n)=>{var s,i,a;function r(){IS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IS(),n(Ls(t,"network-request-failed"))},timeout:a3.get()})}if((i=(s=Fs().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=Fs().gapi)!=null&&a.load)r();else{const c=Y4("iframefcb");return Fs()[c]=()=>{gapi.load?r():n(Ls(t,"network-request-failed"))},SR(`${Q4()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw bm=null,e})}let bm=null;function c3(t){return bm=bm||l3(t),bm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=new cf(5e3,15e3),d3="__/auth/iframe",h3="emulator/auth/iframe",f3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m3(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gx(e,h3):`https://${t.config.authDomain}/${d3}`,r={apiKey:e.apiKey,appName:t.name,v:Fl},s=p3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${lf(r).slice(1)}`}async function g3(t){const e=await c3(t),n=Fs().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:m3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Ls(t,"network-request-failed"),c=Fs().setTimeout(()=>{i(a)},u3.get());function u(){Fs().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v3=500,w3=600,_3="_blank",x3="http://localhost";class bS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E3(t,e,n,r=v3,s=w3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...y3,width:r.toString(),height:s.toString(),top:i,left:a},h=en().toLowerCase();n&&(c=wR(h)?_3:n),yR(h)&&(e=e||x3,u.scrollbars="yes");const p=Object.entries(u).reduce((y,[E,A])=>`${y}${E}=${A},`,"");if(U4(h)&&c!=="_self")return T3(e||"",c),new bS(null);const g=window.open(e||"",c,p);De(g,t,"popup-blocked");try{g.focus()}catch{}return new bS(g)}function T3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="__/auth/handler",b3="emulator/auth/handler",S3=encodeURIComponent("fac");async function SS(t,e,n,r,s,i){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fl,eventId:s};if(e instanceof CR){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",ij(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))a[p]=g}if(e instanceof df){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await t._getAppCheckToken(),h=u?`#${S3}=${encodeURIComponent(u)}`:"";return`${A3(t)}?${lf(c).slice(1)}${h}`}function A3({config:t}){return t.emulator?gx(t,b3):`https://${t.authDomain}/${I3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="webStorageSupport";class P3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VR,this._completeRedirectFn=J5,this._overrideRedirectResult=Q5}async _openPopup(e,n,r,s){var a;Ni((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await SS(e,n,r,k_(),s);return E3(e,i,xx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await SS(e,n,r,k_(),s);return k5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ni(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await g3(e),r=new e3(e);return n.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rw,{type:Rw},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[Rw];i!==void 0&&n(!!i),ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=i3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IR()||vR()||vx()}}const C3=P3;var AS="@firebase/auth",PS="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N3(t){rs(new jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;De(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bR(t)},h=new H4(r,s,i,u);return n5(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rs(new jr("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(r=>new R3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(AS,PS,k3(t)),Jn(AS,PS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=300,M3=XC("authIdTokenMaxAge")||D3;let CS=null;const O3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>M3)return;const s=n==null?void 0:n.token;CS!==s&&(CS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Zg(t=Qg()){const e=ca(t,"auth");if(e.isInitialized())return e.getImmediate();const n=t5(t,{popupRedirectResolver:C3,persistence:[U5,P5,VR]}),r=XC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=O3(i.toString());T5(n,a,()=>a(n.currentUser)),E5(n,c=>a(c))}}const s=KC("auth");return s&&r5(n,`http://${s}`),n}function V3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}G4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ls("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",V3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N3("Browser");var L3="firebase",F3="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(L3,F3,"app");var RS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qo,zR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,P){function N(){}N.prototype=P.prototype,k.F=P.prototype,k.prototype=new N,k.prototype.constructor=k,k.D=function(O,j,z){for(var V=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)V[Ie-2]=arguments[Ie];return P.prototype[j].apply(O,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,P,N){N||(N=0);const O=Array(16);if(typeof P=="string")for(var j=0;j<16;++j)O[j]=P.charCodeAt(N++)|P.charCodeAt(N++)<<8|P.charCodeAt(N++)<<16|P.charCodeAt(N++)<<24;else for(j=0;j<16;++j)O[j]=P[N++]|P[N++]<<8|P[N++]<<16|P[N++]<<24;P=k.g[0],N=k.g[1],j=k.g[2];let z=k.g[3],V;V=P+(z^N&(j^z))+O[0]+3614090360&4294967295,P=N+(V<<7&4294967295|V>>>25),V=z+(j^P&(N^j))+O[1]+3905402710&4294967295,z=P+(V<<12&4294967295|V>>>20),V=j+(N^z&(P^N))+O[2]+606105819&4294967295,j=z+(V<<17&4294967295|V>>>15),V=N+(P^j&(z^P))+O[3]+3250441966&4294967295,N=j+(V<<22&4294967295|V>>>10),V=P+(z^N&(j^z))+O[4]+4118548399&4294967295,P=N+(V<<7&4294967295|V>>>25),V=z+(j^P&(N^j))+O[5]+1200080426&4294967295,z=P+(V<<12&4294967295|V>>>20),V=j+(N^z&(P^N))+O[6]+2821735955&4294967295,j=z+(V<<17&4294967295|V>>>15),V=N+(P^j&(z^P))+O[7]+4249261313&4294967295,N=j+(V<<22&4294967295|V>>>10),V=P+(z^N&(j^z))+O[8]+1770035416&4294967295,P=N+(V<<7&4294967295|V>>>25),V=z+(j^P&(N^j))+O[9]+2336552879&4294967295,z=P+(V<<12&4294967295|V>>>20),V=j+(N^z&(P^N))+O[10]+4294925233&4294967295,j=z+(V<<17&4294967295|V>>>15),V=N+(P^j&(z^P))+O[11]+2304563134&4294967295,N=j+(V<<22&4294967295|V>>>10),V=P+(z^N&(j^z))+O[12]+1804603682&4294967295,P=N+(V<<7&4294967295|V>>>25),V=z+(j^P&(N^j))+O[13]+4254626195&4294967295,z=P+(V<<12&4294967295|V>>>20),V=j+(N^z&(P^N))+O[14]+2792965006&4294967295,j=z+(V<<17&4294967295|V>>>15),V=N+(P^j&(z^P))+O[15]+1236535329&4294967295,N=j+(V<<22&4294967295|V>>>10),V=P+(j^z&(N^j))+O[1]+4129170786&4294967295,P=N+(V<<5&4294967295|V>>>27),V=z+(N^j&(P^N))+O[6]+3225465664&4294967295,z=P+(V<<9&4294967295|V>>>23),V=j+(P^N&(z^P))+O[11]+643717713&4294967295,j=z+(V<<14&4294967295|V>>>18),V=N+(z^P&(j^z))+O[0]+3921069994&4294967295,N=j+(V<<20&4294967295|V>>>12),V=P+(j^z&(N^j))+O[5]+3593408605&4294967295,P=N+(V<<5&4294967295|V>>>27),V=z+(N^j&(P^N))+O[10]+38016083&4294967295,z=P+(V<<9&4294967295|V>>>23),V=j+(P^N&(z^P))+O[15]+3634488961&4294967295,j=z+(V<<14&4294967295|V>>>18),V=N+(z^P&(j^z))+O[4]+3889429448&4294967295,N=j+(V<<20&4294967295|V>>>12),V=P+(j^z&(N^j))+O[9]+568446438&4294967295,P=N+(V<<5&4294967295|V>>>27),V=z+(N^j&(P^N))+O[14]+3275163606&4294967295,z=P+(V<<9&4294967295|V>>>23),V=j+(P^N&(z^P))+O[3]+4107603335&4294967295,j=z+(V<<14&4294967295|V>>>18),V=N+(z^P&(j^z))+O[8]+1163531501&4294967295,N=j+(V<<20&4294967295|V>>>12),V=P+(j^z&(N^j))+O[13]+2850285829&4294967295,P=N+(V<<5&4294967295|V>>>27),V=z+(N^j&(P^N))+O[2]+4243563512&4294967295,z=P+(V<<9&4294967295|V>>>23),V=j+(P^N&(z^P))+O[7]+1735328473&4294967295,j=z+(V<<14&4294967295|V>>>18),V=N+(z^P&(j^z))+O[12]+2368359562&4294967295,N=j+(V<<20&4294967295|V>>>12),V=P+(N^j^z)+O[5]+4294588738&4294967295,P=N+(V<<4&4294967295|V>>>28),V=z+(P^N^j)+O[8]+2272392833&4294967295,z=P+(V<<11&4294967295|V>>>21),V=j+(z^P^N)+O[11]+1839030562&4294967295,j=z+(V<<16&4294967295|V>>>16),V=N+(j^z^P)+O[14]+4259657740&4294967295,N=j+(V<<23&4294967295|V>>>9),V=P+(N^j^z)+O[1]+2763975236&4294967295,P=N+(V<<4&4294967295|V>>>28),V=z+(P^N^j)+O[4]+1272893353&4294967295,z=P+(V<<11&4294967295|V>>>21),V=j+(z^P^N)+O[7]+4139469664&4294967295,j=z+(V<<16&4294967295|V>>>16),V=N+(j^z^P)+O[10]+3200236656&4294967295,N=j+(V<<23&4294967295|V>>>9),V=P+(N^j^z)+O[13]+681279174&4294967295,P=N+(V<<4&4294967295|V>>>28),V=z+(P^N^j)+O[0]+3936430074&4294967295,z=P+(V<<11&4294967295|V>>>21),V=j+(z^P^N)+O[3]+3572445317&4294967295,j=z+(V<<16&4294967295|V>>>16),V=N+(j^z^P)+O[6]+76029189&4294967295,N=j+(V<<23&4294967295|V>>>9),V=P+(N^j^z)+O[9]+3654602809&4294967295,P=N+(V<<4&4294967295|V>>>28),V=z+(P^N^j)+O[12]+3873151461&4294967295,z=P+(V<<11&4294967295|V>>>21),V=j+(z^P^N)+O[15]+530742520&4294967295,j=z+(V<<16&4294967295|V>>>16),V=N+(j^z^P)+O[2]+3299628645&4294967295,N=j+(V<<23&4294967295|V>>>9),V=P+(j^(N|~z))+O[0]+4096336452&4294967295,P=N+(V<<6&4294967295|V>>>26),V=z+(N^(P|~j))+O[7]+1126891415&4294967295,z=P+(V<<10&4294967295|V>>>22),V=j+(P^(z|~N))+O[14]+2878612391&4294967295,j=z+(V<<15&4294967295|V>>>17),V=N+(z^(j|~P))+O[5]+4237533241&4294967295,N=j+(V<<21&4294967295|V>>>11),V=P+(j^(N|~z))+O[12]+1700485571&4294967295,P=N+(V<<6&4294967295|V>>>26),V=z+(N^(P|~j))+O[3]+2399980690&4294967295,z=P+(V<<10&4294967295|V>>>22),V=j+(P^(z|~N))+O[10]+4293915773&4294967295,j=z+(V<<15&4294967295|V>>>17),V=N+(z^(j|~P))+O[1]+2240044497&4294967295,N=j+(V<<21&4294967295|V>>>11),V=P+(j^(N|~z))+O[8]+1873313359&4294967295,P=N+(V<<6&4294967295|V>>>26),V=z+(N^(P|~j))+O[15]+4264355552&4294967295,z=P+(V<<10&4294967295|V>>>22),V=j+(P^(z|~N))+O[6]+2734768916&4294967295,j=z+(V<<15&4294967295|V>>>17),V=N+(z^(j|~P))+O[13]+1309151649&4294967295,N=j+(V<<21&4294967295|V>>>11),V=P+(j^(N|~z))+O[4]+4149444226&4294967295,P=N+(V<<6&4294967295|V>>>26),V=z+(N^(P|~j))+O[11]+3174756917&4294967295,z=P+(V<<10&4294967295|V>>>22),V=j+(P^(z|~N))+O[2]+718787259&4294967295,j=z+(V<<15&4294967295|V>>>17),V=N+(z^(j|~P))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+P&4294967295,k.g[1]=k.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+z&4294967295}r.prototype.v=function(k,P){P===void 0&&(P=k.length);const N=P-this.blockSize,O=this.C;let j=this.h,z=0;for(;z<P;){if(j==0)for(;z<=N;)s(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<P;)if(O[j++]=k.charCodeAt(z++),j==this.blockSize){s(this,O),j=0;break}}else for(;z<P;)if(O[j++]=k[z++],j==this.blockSize){s(this,O),j=0;break}}this.h=j,this.o+=P},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var P=1;P<k.length-8;++P)k[P]=0;P=this.o*8;for(var N=k.length-8;N<k.length;++N)k[N]=P&255,P/=256;for(this.v(k),k=Array(16),P=0,N=0;N<4;++N)for(let O=0;O<32;O+=8)k[P++]=this.g[N]>>>O&255;return k};function i(k,P){var N=c;return Object.prototype.hasOwnProperty.call(N,k)?N[k]:N[k]=P(k)}function a(k,P){this.h=P;const N=[];let O=!0;for(let j=k.length-1;j>=0;j--){const z=k[j]|0;O&&z==P||(N[j]=z,O=!1)}this.g=N}var c={};function u(k){return-128<=k&&k<128?i(k,function(P){return new a([P|0],P<0?-1:0)}):new a([k|0],k<0?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return g;if(k<0)return S(h(-k));const P=[];let N=1;for(let O=0;k>=N;O++)P[O]=k/N|0,N*=4294967296;return new a(P,0)}function p(k,P){if(k.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(k.charAt(0)=="-")return S(p(k.substring(1),P));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=h(Math.pow(P,8));let O=g;for(let z=0;z<k.length;z+=8){var j=Math.min(8,k.length-z);const V=parseInt(k.substring(z,z+j),P);j<8?(j=h(Math.pow(P,j)),O=O.j(j).add(h(V))):(O=O.j(N),O=O.add(h(V)))}return O}var g=u(0),y=u(1),E=u(16777216);t=a.prototype,t.m=function(){if(I(this))return-S(this).m();let k=0,P=1;for(let N=0;N<this.g.length;N++){const O=this.i(N);k+=(O>=0?O:4294967296+O)*P,P*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(I(this))return"-"+S(this).toString(k);const P=h(Math.pow(k,6));var N=this;let O="";for(;;){const j=F(N,P).g;N=R(N,j.j(P));let z=((N.g.length>0?N.g[0]:N.h)>>>0).toString(k);if(N=j,A(N))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(let P=0;P<k.g.length;P++)if(k.g[P]!=0)return!1;return!0}function I(k){return k.h==-1}t.l=function(k){return k=R(this,k),I(k)?-1:A(k)?0:1};function S(k){const P=k.g.length,N=[];for(let O=0;O<P;O++)N[O]=~k.g[O];return new a(N,~k.h).add(y)}t.abs=function(){return I(this)?S(this):this},t.add=function(k){const P=Math.max(this.g.length,k.g.length),N=[];let O=0;for(let j=0;j<=P;j++){let z=O+(this.i(j)&65535)+(k.i(j)&65535),V=(z>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);O=V>>>16,z&=65535,V&=65535,N[j]=V<<16|z}return new a(N,N[N.length-1]&-2147483648?-1:0)};function R(k,P){return k.add(S(P))}t.j=function(k){if(A(this)||A(k))return g;if(I(this))return I(k)?S(this).j(S(k)):S(S(this).j(k));if(I(k))return S(this.j(S(k)));if(this.l(E)<0&&k.l(E)<0)return h(this.m()*k.m());const P=this.g.length+k.g.length,N=[];for(var O=0;O<2*P;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(let j=0;j<k.g.length;j++){const z=this.i(O)>>>16,V=this.i(O)&65535,Ie=k.i(j)>>>16,Le=k.i(j)&65535;N[2*O+2*j]+=V*Le,L(N,2*O+2*j),N[2*O+2*j+1]+=z*Le,L(N,2*O+2*j+1),N[2*O+2*j+1]+=V*Ie,L(N,2*O+2*j+1),N[2*O+2*j+2]+=z*Ie,L(N,2*O+2*j+2)}for(k=0;k<P;k++)N[k]=N[2*k+1]<<16|N[2*k];for(k=P;k<2*P;k++)N[k]=0;return new a(N,0)};function L(k,P){for(;(k[P]&65535)!=k[P];)k[P+1]+=k[P]>>>16,k[P]&=65535,P++}function M(k,P){this.g=k,this.h=P}function F(k,P){if(A(P))throw Error("division by zero");if(A(k))return new M(g,g);if(I(k))return P=F(S(k),P),new M(S(P.g),S(P.h));if(I(P))return P=F(k,S(P)),new M(S(P.g),P.h);if(k.g.length>30){if(I(k)||I(P))throw Error("slowDivide_ only works with positive integers.");for(var N=y,O=P;O.l(k)<=0;)N=B(N),O=B(O);var j=G(N,1),z=G(O,1);for(O=G(O,2),N=G(N,2);!A(O);){var V=z.add(O);V.l(k)<=0&&(j=j.add(N),z=V),O=G(O,1),N=G(N,1)}return P=R(k,j.j(P)),new M(j,P)}for(j=g;k.l(P)>=0;){for(N=Math.max(1,Math.floor(k.m()/P.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=h(N),V=z.j(P);I(V)||V.l(k)>0;)N-=O,z=h(N),V=z.j(P);A(z)&&(z=y),j=j.add(z),k=R(k,V)}return new M(j,k)}t.B=function(k){return F(this,k).h},t.and=function(k){const P=Math.max(this.g.length,k.g.length),N=[];for(let O=0;O<P;O++)N[O]=this.i(O)&k.i(O);return new a(N,this.h&k.h)},t.or=function(k){const P=Math.max(this.g.length,k.g.length),N=[];for(let O=0;O<P;O++)N[O]=this.i(O)|k.i(O);return new a(N,this.h|k.h)},t.xor=function(k){const P=Math.max(this.g.length,k.g.length),N=[];for(let O=0;O<P;O++)N[O]=this.i(O)^k.i(O);return new a(N,this.h^k.h)};function B(k){const P=k.g.length+1,N=[];for(let O=0;O<P;O++)N[O]=k.i(O)<<1|k.i(O-1)>>>31;return new a(N,k.h)}function G(k,P){const N=P>>5;P%=32;const O=k.g.length-N,j=[];for(let z=0;z<O;z++)j[z]=P>0?k.i(z+N)>>>P|k.i(z+N+1)<<32-P:k.i(z+N);return new a(j,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,zR=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=p,Qo=a}).apply(typeof RS<"u"?RS:typeof self<"u"?self:typeof window<"u"?window:{});var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WR,nh,qR,Sm,M_,HR,GR,KR;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof em=="object"&&em];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(f,_){if(_)e:{var b=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var X=f[D];if(!(X in b))break e;b=b[X]}f=f[f.length-1],D=b[f],_=_(D),_!=D&&_!=null&&e(b,f,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(_){var b=[],D;for(D in _)Object.prototype.hasOwnProperty.call(_,D)&&b.push([D,_[D]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function c(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function u(f,_,b){return f.call.apply(f.bind,arguments)}function h(f,_,b){return h=u,h.apply(null,arguments)}function p(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var D=b.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function g(f,_){function b(){}b.prototype=_.prototype,f.Z=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(D,X,ee){for(var de=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)de[$e-2]=arguments[$e];return _.prototype[X].apply(D,de)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function E(f){const _=f.length;if(_>0){const b=Array(_);for(let D=0;D<_;D++)b[D]=f[D];return b}return[]}function A(f,_){for(let D=1;D<arguments.length;D++){const X=arguments[D];var b=typeof X;if(b=b!="object"?b:X?Array.isArray(X)?"array":b:"null",b=="array"||b=="object"&&typeof X.length=="number"){b=f.length||0;const ee=X.length||0;f.length=b+ee;for(let de=0;de<ee;de++)f[b+de]=X[de]}else f.push(X)}}class I{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function S(f){a.setTimeout(()=>{throw f},0)}function R(){var f=k;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class L{constructor(){this.h=this.g=null}add(_,b){const D=M.get();D.set(_,b),this.h?this.h.next=D:this.g=D,this.h=D}}var M=new I(()=>new F,f=>f.reset());class F{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let B,G=!1,k=new L,P=()=>{const f=Promise.resolve(void 0);B=()=>{f.then(N)}};function N(){for(var f;f=R();){try{f.h.call(f.g)}catch(b){S(b)}var _=M;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}G=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};a.addEventListener("test",b,_),a.removeEventListener("test",b,_)}catch{}return f})();function V(f){return/^[\s\xa0]*$/.test(f)}function Ie(f,_){j.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}g(Ie,j),Ie.prototype.init=function(f,_){const b=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),Pe=0;function fe(f,_,b,D,X){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!D,this.ha=X,this.key=++Pe,this.da=this.fa=!1}function K(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,_,b){for(const D in f)_.call(b,f[D],D,f)}function ie(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function q(f){const _={};for(const b in f)_[b]=f[b];return _}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(f,_){let b,D;for(let X=1;X<arguments.length;X++){D=arguments[X];for(b in D)f[b]=D[b];for(let ee=0;ee<re.length;ee++)b=re[ee],Object.prototype.hasOwnProperty.call(D,b)&&(f[b]=D[b])}}function Ee(f){this.src=f,this.g={},this.h=0}Ee.prototype.add=function(f,_,b,D,X){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const de=Oe(f,_,D,X);return de>-1?(_=f[de],b||(_.fa=!1)):(_=new fe(_,this.src,ee,!!D,X),_.fa=b,f.push(_)),_};function Fe(f,_){const b=_.type;if(b in f.g){var D=f.g[b],X=Array.prototype.indexOf.call(D,_,void 0),ee;(ee=X>=0)&&Array.prototype.splice.call(D,X,1),ee&&(K(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Oe(f,_,b,D){for(let X=0;X<f.length;++X){const ee=f[X];if(!ee.da&&ee.listener==_&&ee.capture==!!b&&ee.ha==D)return X}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),ze={};function je(f,_,b,D,X){if(Array.isArray(_)){for(let ee=0;ee<_.length;ee++)je(f,_[ee],b,D,X);return null}return b=pa(b),f&&f[Le]?f.J(_,b,c(D)?!!D.capture:!1,X):ft(f,_,b,!1,D,X)}function ft(f,_,b,D,X,ee){if(!_)throw Error("Invalid event type");const de=c(X)?!!X.capture:!!X;let $e=Gi(f);if($e||(f[Se]=$e=new Ee(f)),b=$e.add(_,b,D,de,ee),b.proxy)return b;if(D=er(),b.proxy=D,D.src=f,D.listener=b,f.addEventListener)z||(X=de),X===void 0&&(X=!1),f.addEventListener(_.toString(),D,X);else if(f.attachEvent)f.attachEvent(ti(_.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return b}function er(){function f(b){return _.call(f.src,f.listener,b)}const _=ql;return f}function tr(f,_,b,D,X){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)tr(f,_[ee],b,D,X);else D=c(D)?!!D.capture:!!D,b=pa(b),f&&f[Le]?(f=f.i,ee=String(_).toString(),ee in f.g&&(_=f.g[ee],b=Oe(_,b,D,X),b>-1&&(K(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete f.g[ee],f.h--)))):f&&(f=Gi(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Oe(_,b,D,X)),(b=f>-1?_[f]:null)&&Bn(b))}function Bn(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Le])Fe(_.i,f);else{var b=f.type,D=f.proxy;_.removeEventListener?_.removeEventListener(b,D,f.capture):_.detachEvent?_.detachEvent(ti(b),D):_.addListener&&_.removeListener&&_.removeListener(D),(b=Gi(_))?(Fe(b,f),b.h==0&&(b.src=null,_[Se]=null)):K(f)}}}function ti(f){return f in ze?ze[f]:ze[f]="on"+f}function ql(f,_){if(f.da)f=!0;else{_=new Ie(_,this);const b=f.listener,D=f.ha||f.src;f.fa&&Bn(f),f=b.call(D,_)}return f}function Gi(f){return f=f[Se],f instanceof Ee?f:null}var ni="__closure_events_fn_"+(Math.random()*1e9>>>0);function pa(f){return typeof f=="function"?f:(f[ni]||(f[ni]=function(_){return f.handleEvent(_)}),f[ni])}function gt(){O.call(this),this.i=new Ee(this),this.M=this,this.G=null}g(gt,O),gt.prototype[Le]=!0,gt.prototype.removeEventListener=function(f,_,b,D){tr(this,f,_,b,D)};function jt(f,_){var b,D=f.G;if(D)for(b=[];D;D=D.G)b.push(D);if(f=f.M,D=_.type||_,typeof _=="string")_=new j(_,f);else if(_ instanceof j)_.target=_.target||f;else{var X=_;_=new j(D,f),ye(_,X)}X=!0;let ee,de;if(b)for(de=b.length-1;de>=0;de--)ee=_.g=b[de],X=Br(ee,D,!0,_)&&X;if(ee=_.g=f,X=Br(ee,D,!0,_)&&X,X=Br(ee,D,!1,_)&&X,b)for(de=0;de<b.length;de++)ee=_.g=b[de],X=Br(ee,D,!1,_)&&X}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const b=f.g[_];for(let D=0;D<b.length;D++)K(b[D]);delete f.g[_],f.h--}}this.G=null},gt.prototype.J=function(f,_,b,D){return this.i.add(String(f),_,!1,b,D)},gt.prototype.K=function(f,_,b,D){return this.i.add(String(f),_,!0,b,D)};function Br(f,_,b,D){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let X=!0;for(let ee=0;ee<_.length;++ee){const de=_[ee];if(de&&!de.da&&de.capture==b){const $e=de.listener,Ut=de.ha||de.src;de.fa&&Fe(f.i,de),X=$e.call(Ut,D)!==!1&&X}}return X&&!D.defaultPrevented}function Xu(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:a.setTimeout(f,_||0)}function Ju(f){f.g=Xu(()=>{f.g=null,f.i&&(f.i=!1,Ju(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Lf extends O{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ju(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(f){O.call(this),this.h=f,this.g={}}g(Ki,O);var Zu=[];function Hl(f){ne(f.g,function(_,b){this.g.hasOwnProperty(b)&&Bn(_)},f),f.g={}}Ki.prototype.N=function(){Ki.Z.N.call(this),Hl(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qi=a.JSON.stringify,Ff=a.JSON.parse,ma=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Yi(){}function jf(){}var Xi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gl(){j.call(this,"d")}g(Gl,j);function ed(){j.call(this,"c")}g(ed,j);var $r={},Kl=null;function Ji(){return Kl=Kl||new gt}$r.Ia="serverreachability";function Ql(f){j.call(this,$r.Ia,f)}g(Ql,j);function ri(f){const _=Ji();jt(_,new Ql(_))}$r.STAT_EVENT="statevent";function si(f,_){j.call(this,$r.STAT_EVENT,f),this.stat=_}g(si,j);function kt(f){const _=Ji();jt(_,new si(_,f))}$r.Ja="timingevent";function td(f,_){j.call(this,$r.Ja,f),this.size=_}g(td,j);function Zi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},_)}function eo(){this.g=!0}eo.prototype.ua=function(){this.g=!1};function Uf(f,_,b,D,X,ee){f.info(function(){if(f.g)if(ee){var de="",$e=ee.split("&");for(let lt=0;lt<$e.length;lt++){var Ut=$e[lt].split("=");if(Ut.length>1){const Wt=Ut[0];Ut=Ut[1];const ar=Wt.split("_");de=ar.length>=2&&ar[1]=="type"?de+(Wt+"="+Ut+"&"):de+(Wt+"=redacted&")}}}else de=null;else de=ee;return"XMLHTTP REQ ("+D+") [attempt "+X+"]: "+_+`
`+b+`
`+de})}function Bf(f,_,b,D,X,ee,de){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+X+"]: "+_+`
`+b+`
`+ee+" "+de})}function ds(f,_,b,D){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+ga(f,b)+(D?" "+D:"")})}function $f(f,_){f.info(function(){return"TIMEOUT: "+_})}eo.prototype.info=function(){};function ga(f,_){if(!f.g)return _;if(!_)return null;try{const ee=JSON.parse(_);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var b=ee[f];if(!(b.length<2)){var D=b[1];if(Array.isArray(D)&&!(D.length<1)){var X=D[0];if(X!="noop"&&X!="stop"&&X!="close")for(let de=1;de<D.length;de++)D[de]=""}}}}return Qi(ee)}catch{return _}}var to={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},no={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zf;function ii(){}g(ii,Yi),ii.prototype.g=function(){return new XMLHttpRequest},zf=new ii;function hs(f){return encodeURIComponent(String(f))}function Yl(f){var _=1;f=f.split(":");const b=[];for(;_>0&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function vr(f,_,b,D){this.j=f,this.i=_,this.l=b,this.S=D||1,this.V=new Ki(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wf}function Wf(){this.i=null,this.g="",this.h=!1}var qf={},nd={};function zr(f,_,b){f.M=1,f.A=ai(wr(_)),f.u=b,f.R=!0,rd(f,null)}function rd(f,_){f.F=Date.now(),ya(f),f.B=wr(f.A);var b=f.B,D=f.S;Array.isArray(D)||(D=[String(D)]),fd(b.i,"t",D),f.C=0,b=f.j.L,f.h=new Wf,f.g=tp(f.j,b?_:null,!f.u),f.P>0&&(f.O=new Lf(h(f.Y,f,f.g),f.P)),_=f.V,b=f.g,D=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(Zu[0]=X.toString()),X=Zu);for(let ee=0;ee<X.length;ee++){const de=je(b,X[ee],D||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=f.J?q(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),ri(),Uf(f.i,f.v,f.B,f.l,f.S,f.u)}vr.prototype.ba=function(f){f=f.target;const _=this.O;_&&ws(f)==3?_.j():this.Y(f)},vr.prototype.Y=function(f){try{if(f==this.g)e:{const $e=ws(this.g),Ut=this.g.ya(),lt=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||Zf(this.g)))){this.K||$e!=4||Ut==7||(Ut==8||lt<=0?ri(3):ri(2)),Xl(this);var _=this.g.ca();this.X=_;var b=Hf(this);if(this.o=_==200,Bf(this.i,this.v,this.B,this.l,this.S,$e,_),this.o){if(this.U&&!this.L){t:{if(this.g){var D,X=this.g;if((D=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(D)){var ee=D;break t}}ee=null}if(f=ee)ds(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yt(this,f);else{this.o=!1,this.m=3,kt(12),oi(this),va(this);break e}}if(this.R){f=!0;let Wt;for(;!this.K&&this.C<b.length;)if(Wt=Kf(this,b),Wt==nd){$e==4&&(this.m=4,kt(14),f=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==qf){this.m=4,kt(15),ds(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else ds(this.i,this.l,Wt,null),yt(this,Wt);if(Gf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||b.length!=0||this.h.h||(this.m=1,kt(16),f=!1),this.o=this.o&&f,!f)ds(this.i,this.l,b,"[Invalid Chunked Response]"),oi(this),va(this);else if(b.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Aa(de),de.P=!0,kt(11))}}else ds(this.i,this.l,b,null),yt(this,b);$e==4&&oi(this),this.o&&!this.K&&($e==4?ac(this.j,this):(this.o=!1,ya(this)))}else md(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),oi(this),va(this)}}}catch{}finally{}};function Hf(f){if(!Gf(f))return f.g.la();const _=Zf(f.g);if(_==="")return"";let b="";const D=_.length,X=ws(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return oi(f),va(f),"";f.h.i=new a.TextDecoder}for(let ee=0;ee<D;ee++)f.h.h=!0,b+=f.h.i.decode(_[ee],{stream:!(X&&ee==D-1)});return _.length=0,f.h.g+=b,f.C=0,f.h.g}function Gf(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Kf(f,_){var b=f.C,D=_.indexOf(`
`,b);return D==-1?nd:(b=Number(_.substring(b,D)),isNaN(b)?qf:(D+=1,D+b>_.length?nd:(_=_.slice(D,D+b),f.C=D+b,_)))}vr.prototype.cancel=function(){this.K=!0,oi(this)};function ya(f){f.T=Date.now()+f.H,sd(f,f.H)}function sd(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Zi(h(f.aa,f),_)}function Xl(f){f.D&&(a.clearTimeout(f.D),f.D=null)}vr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?($f(this.i,this.B),this.M!=2&&(ri(),kt(17)),oi(this),this.m=2,va(this)):sd(this,this.T-f)};function va(f){f.j.I==0||f.K||ac(f.j,f)}function oi(f){Xl(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Hl(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function yt(f,_){try{var b=f.j;if(b.I!=0&&(b.g==f||od(b.h,f))){if(!f.L&&od(b.h,f)&&b.I==3){try{var D=b.Ba.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var X=D;if(X[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)oc(b),ir(b);else break e;Es(b),kt(18)}}else b.xa=X[1],0<b.xa-b.K&&X[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Zi(h(b.Va,b),6e3));wa(b.h)<=1&&b.ta&&(b.ta=void 0)}else or(b,11)}else if((f.L||b.g==f)&&oc(b),!V(_))for(X=b.Ba.g.parse(_),_=0;_<X.length;_++){let lt=X[_];const Wt=lt[0];if(!(Wt<=b.K))if(b.K=Wt,lt=lt[1],b.I==2)if(lt[0]=="c"){b.M=lt[1],b.ba=lt[2];const ar=lt[3];ar!=null&&(b.ka=ar,b.j.info("VER="+b.ka));const hi=lt[4];hi!=null&&(b.za=hi,b.j.info("SVER="+b.za));const Ts=lt[5];Ts!=null&&typeof Ts=="number"&&Ts>0&&(D=1.5*Ts,b.O=D,b.j.info("backChannelRequestTimeoutMs_="+D)),D=b;const Is=f.g;if(Is){const uc=Is.g?Is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uc){var ee=D.h;ee.g||uc.indexOf("spdy")==-1&&uc.indexOf("quic")==-1&&uc.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Zl(ee,ee.h),ee.h=null))}if(D.G){const vd=Is.g?Is.g.getResponseHeader("X-HTTP-Session-Id"):null;vd&&(D.wa=vd,it(D.J,D.G,vd))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),D=b;var de=f;if(D.na=yd(D,D.L?D.ba:null,D.W),de.L){_a(D.h,de);var $e=de,Ut=D.O;Ut&&($e.H=Ut),$e.D&&(Xl($e),ya($e)),D.g=de}else yn(D);b.i.length>0&&di(b)}else lt[0]!="stop"&&lt[0]!="close"||or(b,7);else b.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?or(b,7):sc(b):lt[0]!="noop"&&b.l&&b.l.qa(lt),b.A=0)}}ri(4)}catch{}}var Ky=class{constructor(f,_){this.g=f,this.map=_}};function Jl(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function id(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function wa(f){return f.h?1:f.g?f.g.size:0}function od(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Zl(f,_){f.g?f.g.add(_):f.h=_}function _a(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Jl.prototype.cancel=function(){if(this.i=nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function nr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.G);return _}return E(f.i)}var Qf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rr(f,_){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const D=f[b].indexOf("=");let X,ee=null;D>=0?(X=f[b].substring(0,D),ee=f[b].substring(D+1)):X=f[b],_(X,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function fs(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof fs?(this.l=f.l,xa(this,f.j),this.o=f.o,this.g=f.g,ps(this,f.u),this.h=f.h,ro(this,pd(f.i)),this.m=f.m):f&&(_=String(f).match(Qf))?(this.l=!1,xa(this,_[1]||"",!0),this.o=Ea(_[2]||""),this.g=Ea(_[3]||"",!0),ps(this,_[4]),this.h=Ea(_[5]||"",!0),ro(this,_[6]||"",!0),this.m=Ea(_[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}fs.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(Ta(_,ld,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Ta(_,ld,!0),"@"),f.push(hs(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Ta(b,b.charAt(0)=="/"?Ia:cd,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Ta(b,ud)),f.join("")},fs.prototype.resolve=function(f){const _=wr(this);let b=!!f.j;b?xa(_,f.j):b=!!f.o,b?_.o=f.o:b=!!f.g,b?_.g=f.g:b=f.u!=null;var D=f.h;if(b)ps(_,f.u);else if(b=!!f.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var X=_.h.lastIndexOf("/");X!=-1&&(D=_.h.slice(0,X+1)+D)}if(X=D,X==".."||X==".")D="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){D=X.lastIndexOf("/",0)==0,X=X.split("/");const ee=[];for(let de=0;de<X.length;){const $e=X[de++];$e=="."?D&&de==X.length&&ee.push(""):$e==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),D&&de==X.length&&ee.push("")):(ee.push($e),D=!0)}D=ee.join("/")}else D=X}return b?_.h=D:b=f.i.toString()!=="",b?ro(_,pd(f.i)):b=!!f.m,b&&(_.m=f.m),_};function wr(f){return new fs(f)}function xa(f,_,b){f.j=b?Ea(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ps(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function ro(f,_,b){_ instanceof Qe?(f.i=_,tc(f.i,f.l)):(b||(_=Ta(_,Qy)),f.i=new Qe(_,f.l))}function it(f,_,b){f.i.set(_,b)}function ai(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ea(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ta(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,ad),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ad(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ld=/[#\/\?@]/g,cd=/[#\?:]/g,Ia=/[#\?]/g,Qy=/[#\?@]/g,ud=/#/g;function Qe(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function ms(f){f.g||(f.g=new Map,f.h=0,f.i&&rr(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}t=Qe.prototype,t.add=function(f,_){ms(this),this.i=null,f=gs(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function dd(f,_){ms(f),_=gs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function ec(f,_){return ms(f),_=gs(f,_),f.g.has(_)}t.forEach=function(f,_){ms(this),this.g.forEach(function(b,D){b.forEach(function(X){f.call(_,X,D,this)},this)},this)};function hd(f,_){ms(f);let b=[];if(typeof _=="string")ec(f,_)&&(b=b.concat(f.g.get(gs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)b=b.concat(f[_]);return b}t.set=function(f,_){return ms(this),this.i=null,f=gs(this,f),ec(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=hd(this,f),f.length>0?String(f[0]):_):_};function fd(f,_,b){dd(f,_),b.length>0&&(f.i=null,f.g.set(gs(f,_),E(b)),f.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let D=0;D<_.length;D++){var b=_[D];const X=hs(b);b=hd(this,b);for(let ee=0;ee<b.length;ee++){let de=X;b[ee]!==""&&(de+="="+hs(b[ee])),f.push(de)}}return this.i=f.join("&")};function pd(f){const _=new Qe;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function gs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function tc(f,_){_&&!f.j&&(ms(f),f.i=null,f.g.forEach(function(b,D){const X=D.toLowerCase();D!=X&&(dd(this,D),fd(this,X,b))},f)),f.j=_}function ys(f,_){const b=new eo;if(a.Image){const D=new Image;D.onload=p(cn,b,"TestLoadImage: loaded",!0,_,D),D.onerror=p(cn,b,"TestLoadImage: error",!1,_,D),D.onabort=p(cn,b,"TestLoadImage: abort",!1,_,D),D.ontimeout=p(cn,b,"TestLoadImage: timeout",!1,_,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else _(!1)}function vs(f,_){const b=new eo,D=new AbortController,X=setTimeout(()=>{D.abort(),cn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:D.signal}).then(ee=>{clearTimeout(X),ee.ok?cn(b,"TestPingServer: ok",!0,_):cn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),cn(b,"TestPingServer: error",!1,_)})}function cn(f,_,b,D,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),D(b)}catch{}}function ba(){this.g=new ma}function li(f){this.i=f.Sb||null,this.h=f.ab||!1}g(li,Yi),li.prototype.g=function(){return new sr(this.i,this.h)};function sr(f,_){gt.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(sr,gt),t=sr.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Wr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||a).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,so(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yf(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yf(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?so(this):Wr(this),this.readyState==3&&Yf(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,so(this))},t.Na=function(f){this.g&&(this.response=f,so(this))},t.ga=function(){this.g&&so(this)};function so(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Wr(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function Wr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xf(f){let _="";return ne(f,function(b,D){_+=D,_+=":",_+=b,_+=`\r
`}),_}function nc(f,_,b){e:{for(D in b){var D=!1;break e}D=!0}D||(b=Xf(b),typeof f=="string"?b!=null&&hs(b):it(f,_,b))}function ht(f){gt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ht,gt);var Jf=/^https?$/i,Yy=["POST","PUT"];t=ht.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,b,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zf.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(ee){io(this,ee);return}if(f=b||"",b=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var X in D)b.set(X,D[X]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ee of D.keys())b.set(ee,D.get(ee));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(b.keys()).find(ee=>ee.toLowerCase()=="content-type"),X=a.FormData&&f instanceof a.FormData,!(Array.prototype.indexOf.call(Yy,_,void 0)>=0)||D||X||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,de]of b)this.g.setRequestHeader(ee,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){io(this,ee)}};function io(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,oo(f),ui(f)}function oo(f){f.A||(f.A=!0,jt(f,"complete"),jt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,jt(this,"complete"),jt(this,"abort"),ui(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),ht.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ci(this):this.Xa())},t.Xa=function(){ci(this)};function ci(f){if(f.h&&typeof i<"u"){if(f.v&&ws(f)==4)setTimeout(f.Ca.bind(f),0);else if(jt(f,"readystatechange"),ws(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var D;if(D=ee===0){let de=String(f.D).match(Qf)[1]||null;!de&&a.self&&a.self.location&&(de=a.self.location.protocol.slice(0,-1)),D=!Jf.test(de?de.toLowerCase():"")}b=D}if(b)jt(f,"complete"),jt(f,"success");else{f.o=6;try{var X=ws(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",oo(f)}}finally{ui(f)}}}}function ui(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,_||jt(f,"ready");try{b.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ws(f){return f.g?f.g.readyState:0}t.ca=function(){try{return ws(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Ff(_)}};function Zf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function md(f){const _={};f=(f.g&&ws(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(V(f[D]))continue;var b=Yl(f[D]);const X=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ee=_[X]||[];_[X]=ee,ee.push(b)}ie(_,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function rc(f){this.za=0,this.i=[],this.j=new eo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_s("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_s("baseRetryDelayMs",5e3,f),this.Za=_s("retryDelaySeedMs",1e4,f),this.Ta=_s("forwardChannelMaxRetries",2,f),this.va=_s("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Jl(f&&f.concurrentRequestLimit),this.Ba=new ba,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=rc.prototype,t.ka=8,t.I=1,t.connect=function(f,_,b,D){kt(0),this.W=f,this.H=_||{},b&&D!==void 0&&(this.H.OSID=b,this.H.OAID=D),this.F=this.X,this.J=yd(this,null,this.W),di(this)};function sc(f){if(ic(f),f.I==3){var _=f.V++,b=wr(f.J);if(it(b,"SID",f.M),it(b,"RID",_),it(b,"TYPE","terminate"),xs(f,b),_=new vr(f,f.j,_),_.M=2,_.A=ai(wr(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&a.Image&&(new Image().src=_.A,b=!0),b||(_.g=tp(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ya(_)}Pa(f)}function ir(f){f.g&&(Aa(f),f.g.cancel(),f.g=null)}function ic(f){ir(f),f.v&&(a.clearTimeout(f.v),f.v=null),oc(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&a.clearTimeout(f.m),f.m=null)}function di(f){if(!id(f.h)&&!f.m){f.m=!0;var _=f.Ea;B||P(),G||(B(),G=!0),k.add(_,f),f.D=0}}function ep(f,_){return wa(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Zi(h(f.Ea,f,_),lc(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new vr(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=q(ee),ye(ee,this.U)):ee=this.U),this.u!==null||this.R||(X.J=ee,ee=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var D=this.i[b];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(_+=D,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=gd(this,X,_),b=wr(this.J),it(b,"RID",f),it(b,"CVER",22),this.G&&it(b,"X-HTTP-Session-Id",this.G),xs(this,b),ee&&(this.R?_="headers="+hs(Xf(ee))+"&"+_:this.u&&nc(b,this.u,ee)),Zl(this.h,X),this.Ra&&it(b,"TYPE","init"),this.S?(it(b,"$req",_),it(b,"SID","null"),X.U=!0,zr(X,b,null)):zr(X,b,_),this.I=2}}else this.I==3&&(f?Sa(this,f):this.i.length==0||id(this.h)||Sa(this))};function Sa(f,_){var b;_?b=_.l:b=f.V++;const D=wr(f.J);it(D,"SID",f.M),it(D,"RID",b),it(D,"AID",f.K),xs(f,D),f.u&&f.o&&nc(D,f.u,f.o),b=new vr(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),_&&(f.i=_.G.concat(f.i)),_=gd(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Zl(f.h,b),zr(b,D,_)}function xs(f,_){f.H&&ne(f.H,function(b,D){it(_,D,b)}),f.l&&ne({},function(b,D){it(_,D,b)})}function gd(f,_,b){b=Math.min(f.i.length,b);const D=f.l?h(f.l.Ka,f.l,f):null;e:{var X=f.i;let $e=-1;for(;;){const Ut=["count="+b];$e==-1?b>0?($e=X[0].g,Ut.push("ofs="+$e)):$e=0:Ut.push("ofs="+$e);let lt=!0;for(let Wt=0;Wt<b;Wt++){var ee=X[Wt].g;const ar=X[Wt].map;if(ee-=$e,ee<0)$e=Math.max(0,X[Wt].g-100),lt=!1;else try{ee="req"+ee+"_"||"";try{var de=ar instanceof Map?ar:Object.entries(ar);for(const[hi,Ts]of de){let Is=Ts;c(Ts)&&(Is=Qi(Ts)),Ut.push(ee+hi+"="+encodeURIComponent(Is))}}catch(hi){throw Ut.push(ee+"type="+encodeURIComponent("_badmap")),hi}}catch{D&&D(ar)}}if(lt){de=Ut.join("&");break e}}de=void 0}return f=f.i.splice(0,b),_.G=f,de}function yn(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;B||P(),G||(B(),G=!0),k.add(_,f),f.A=0}}function Es(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Zi(h(f.Da,f),lc(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,ao(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Zi(h(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),ir(this),ao(this))};function Aa(f){f.B!=null&&(a.clearTimeout(f.B),f.B=null)}function ao(f){f.g=new vr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=wr(f.na);it(_,"RID","rpc"),it(_,"SID",f.M),it(_,"AID",f.K),it(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(_,"TO",f.ia),it(_,"TYPE","xmlhttp"),xs(f,_),f.u&&f.o&&nc(_,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=ai(wr(_)),b.u=null,b.R=!0,rd(b,f)}t.Va=function(){this.C!=null&&(this.C=null,ir(this),Es(this),kt(19))};function oc(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function ac(f,_){var b=null;if(f.g==_){oc(f),Aa(f),f.g=null;var D=2}else if(od(f.h,_))b=_.G,_a(f.h,_),D=1;else return;if(f.I!=0){if(_.o)if(D==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var X=f.D;D=Ji(),jt(D,new td(D,b)),di(f)}else yn(f);else if(X=_.m,X==3||X==0&&_.X>0||!(D==1&&ep(f,_)||D==2&&Es(f)))switch(b&&b.length>0&&(_=f.h,_.i=_.i.concat(b)),X){case 1:or(f,5);break;case 4:or(f,10);break;case 3:or(f,6);break;default:or(f,2)}}}function lc(f,_){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*_}function or(f,_){if(f.j.info("Error code "+_),_==2){var b=h(f.bb,f),D=f.Ua;const X=!D;D=new fs(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xa(D,"https"),ai(D),X?ys(D.toString(),b):vs(D.toString(),b)}else kt(2);f.I=0,f.l&&f.l.pa(_),Pa(f),ic(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Pa(f){if(f.I=0,f.ja=[],f.l){const _=nr(f.h);(_.length!=0||f.i.length!=0)&&(A(f.ja,_),A(f.ja,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.oa()}}function yd(f,_,b){var D=b instanceof fs?wr(b):new fs(b);if(D.g!="")_&&(D.g=_+"."+D.g),ps(D,D.u);else{var X=a.location;D=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;const ee=new fs(null);D&&xa(ee,D),_&&(ee.g=_),X&&ps(ee,X),b&&(ee.h=b),D=ee}return b=f.G,_=f.wa,b&&_&&it(D,b,_),it(D,"VER",f.ka),xs(f,D),D}function tp(f,_,b){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new ht(new li({ab:b})):new ht(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function np(){}t=np.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function cc(){}cc.prototype.g=function(f,_){return new un(f,_)};function un(f,_){gt.call(this),this.g=new rc(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!V(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new lo(this)}g(un,gt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){sc(this.g)},un.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=Qi(f),f=b);_.i.push(new Ky(_.Ya++,f)),_.I==3&&di(_)},un.prototype.N=function(){this.g.l=null,delete this.j,sc(this.g),delete this.g,un.Z.N.call(this)};function rp(f){Gl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const b in _){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}g(rp,Gl);function sp(){ed.call(this),this.status=1}g(sp,ed);function lo(f){this.g=f}g(lo,np),lo.prototype.ra=function(){jt(this.g,"a")},lo.prototype.qa=function(f){jt(this.g,new rp(f))},lo.prototype.pa=function(f){jt(this.g,new sp)},lo.prototype.oa=function(){jt(this.g,"b")},cc.prototype.createWebChannel=cc.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,KR=function(){return new cc},GR=function(){return Ji()},HR=$r,M_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},to.NO_ERROR=0,to.TIMEOUT=8,to.HTTP_ERROR=6,Sm=to,no.COMPLETE="complete",qR=no,jf.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",gt.prototype.listen=gt.prototype.J,nh=jf,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,WR=ht}).apply(typeof em<"u"?em:typeof self<"u"?self:typeof window<"u"?window:{});const kS="@firebase/firestore",NS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new Kg("@firebase/firestore");function $c(){return Tl.logLevel}function le(t,...e){if(Tl.logLevel<=Ge.DEBUG){const n=e.map(Tx);Tl.debug(`Firestore (${Lu}): ${t}`,...n)}}function Dn(t,...e){if(Tl.logLevel<=Ge.ERROR){const n=e.map(Tx);Tl.error(`Firestore (${Lu}): ${t}`,...n)}}function Il(t,...e){if(Tl.logLevel<=Ge.WARN){const n=e.map(Tx);Tl.warn(`Firestore (${Lu}): ${t}`,...n)}}function Tx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,QR(t,r,n)}function QR(t,e,n){let r=`FIRESTORE (${Lu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Dn(r),new Error(r)}function Ae(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||QR(e,s,r)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class U3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class B3{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new js;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new js,e.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await s(this.currentUser)}))},c=u=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new js)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new YR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class $3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=q3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function O_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return kw(s)===kw(i)?Ue(s,i):kw(s)?1:-1}return Ue(t.length,e.length)}const H3=55296,G3=57343;function kw(t){const e=t.charCodeAt(0);return e>=H3&&e<=G3}function wu(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function XR(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="__name__";class Cs{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Cs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Cs.isNumericId(e),s=Cs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Cs.extractNumericId(e).compare(Cs.extractNumericId(n)):O_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qo.fromString(e.substring(4,e.length-2))}}class ot extends Cs{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const K3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Cs{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return K3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===MS}static keyField(){return new At([MS])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ue(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ue(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ue(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(r+=c,s++):(i(),s++)}if(i(),a)throw new ue(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(ot.fromString(e))}static fromName(e){return new he(ot.fromString(e).popFirst(5))}static empty(){return new he(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t,e,n){if(!n)throw new ue(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q3(t,e,n,r){if(e===!0&&r===!0)throw new ue(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OS(t){if(!he.isDocumentKey(t))throw new ue(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VS(t){if(he.isDocumentKey(t))throw new ue(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ey(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Vn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ey(t);throw new ue(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Y3(t,e){if(e<=0)throw new ue(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ff(t,e){if(!ZR(t))throw new ue(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ue(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=-62135596800,FS=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*FS);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<LS)throw new ue(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FS}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ff(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-LS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Kt("string",rt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new rt(0,0))}static max(){return new Ce(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=-1;class lg{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function V_(t){return t.fields.find((e=>e.kind===2))}function qa(t){return t.fields.filter((e=>e.kind!==2))}lg.UNKNOWN_ID=-1;class Am{constructor(e,n){this.fieldPath=e,this.kind=n}}class Rh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Rh(0,yr.min())}}function X3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new yr(s,he.empty(),e)}function ek(t){return new yr(t.readTime,t.key,Ch)}class yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yr(Ce.min(),he.empty(),Ch)}static max(){return new yr(Ce.max(),he.empty(),Ch)}}function bx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==tk)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let s=0,i=0,a=!1;e.forEach((c=>{++s,c.next((()=>{++i,a&&i===s&&n()}),(u=>r(u)))})),a=!0,i===s&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((s=>s?Q.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,s)=>{const i=e.length,a=new Array(i);let c=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next((p=>{a[h]=p,++c,c===i&&r(a)}),(p=>s(p)))}}))}static doWhile(e,n){return new Q(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="SimpleDb";class ty{static open(e,n,r,s){try{return new ty(n,e.transaction(s,r))}catch(i){throw new hh(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new js,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new hh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=Sx(r.target.error);this.S.reject(new hh(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(dr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Z3(n)}}class Yo{static delete(e){return le(dr,"Removing database:",e),Qa(GC().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Gg())return!1;if(Yo.F())return!0;const e=en(),n=Yo.M(e),r=0<n&&n<10,s=rk(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Yo.M(en())===12.2&&Dn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(dr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const a=i.target.result;n(a)},s.onblocked=()=>{r(new hh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new ue(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new ue(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new hh(e,a))},s.onupgradeneeded=i=>{le(dr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.N.k(a,s.transaction,i.oldVersion,this.version).next((()=>{le(dr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const c=ty.open(this.db,e,i?"readonly":"readwrite",r),u=s(c).next((h=>(c.C(),h))).catch((h=>(c.abort(h),Q.reject(h)))).toPromise();return u.catch((()=>{})),await c.D,u}catch(c){const u=c,h=u.name!=="FirebaseError"&&a<3;if(le(dr,"Transaction failed with error:",u.message,"Retrying:",h),this.close(),!h)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function rk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class J3{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Qa(this.U.delete())}}class hh extends ue{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function da(t){return t.name==="IndexedDbTransactionError"}class Z3{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(le(dr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(le(dr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Qa(r)}add(e){return le(dr,"ADD",this.store.name,e,e),Qa(this.store.add(e))}get(e){return Qa(this.store.get(e)).next((n=>(n===void 0&&(n=null),le(dr,"GET",this.store.name,e,n),n)))}delete(e){return le(dr,"DELETE",this.store.name,e),Qa(this.store.delete(e))}count(){return le(dr,"COUNT",this.store.name),Qa(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Q(((a,c)=>{i.onerror=u=>{c(u.target.error)},i.onsuccess=u=>{a(u.target.result)}}))}{const i=this.cursor(r),a=[];return this.H(i,((c,u)=>{a.push(u)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((s,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{s(a.target.result)}}))}Z(e,n){le(dr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,a,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new Q(((r,s)=>{n.onerror=i=>{const a=Sx(i.target.error);s(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next((c=>{c?a.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((s,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const c=a.target.result;if(!c)return void s();const u=new J3(c),h=n(c.primaryKey,c.value,u);if(h instanceof Q){const p=h.catch((g=>(u.done(),Q.reject(g))));r.push(p)}u.isDone?s():u.G===null?c.continue():c.continue(u.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Qa(t){return new Q(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Sx(r.target.error);n(s)}}))}let jS=!1;function Sx(t){const e=Yo.M(en());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jS||(jS=!0,setTimeout((()=>{throw r}),0)),r}}return t}const fh="IndexBackfiller";class e6{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(fh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();le(fh,`Documents written: ${n}`)}catch(n){da(n)?le(fh,"Ignoring IndexedDB error during index backfill: ",n):await jl(n)}await this.re(6e4)}))}}class t6{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return Q.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return le(fh,`Processing collection: ${a}`),this.oe(e,a,s).next((c=>{s-=c,r.add(a)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(s,i))).next((c=>(le(fh,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const a=ek(i);bx(a,r)>0&&(r=a)})),new yr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=-1;function ny(t){return t==null}function kh(t){return t===0&&1/t==-1/0}function n6(t){return typeof t=="number"&&Number.isInteger(t)&&!kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="";function An(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=US(e)),e=r6(t.get(n),e);return US(e)}function r6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case cg:n+="";break;default:n+=i}}return n}function US(t){return t+cg+""}function Ms(t){const e=t.length;if(Ae(e>=2,64408,{path:t}),e===2)return Ae(t.charAt(0)===cg&&t.charAt(1)==="",56145,{path:t}),ot.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const a=t.indexOf(cg,i);switch((a<0||a>n)&&xe(50515,{path:t}),t.charAt(a+1)){case"":const c=t.substring(i,a);let u;s.length===0?u=c:(s+=c,u=s,s=""),r.push(u);break;case"":s+=t.substring(i,a),s+="\0";break;case"":s+=t.substring(i,a+1);break;default:xe(61167,{path:t})}i=a+2}return new ot(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="remoteDocuments",pf="owner",kc="owner",Nh="mutationQueues",s6="userId",es="mutations",BS="batchId",Za="userMutationsIndex",$S=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e){return[t,An(e)]}function sk(t,e,n){return[t,An(e),n]}const i6={},_u="documentMutations",ug="remoteDocumentsV14",o6=["prefixPath","collectionGroup","readTime","documentId"],Cm="documentKeyIndex",a6=["prefixPath","collectionGroup","documentId"],ik="collectionGroupIndex",l6=["collectionGroup","readTime","prefixPath","documentId"],Dh="remoteDocumentGlobal",L_="remoteDocumentGlobalKey",xu="targets",ok="queryTargetsIndex",c6=["canonicalId","targetId"],Eu="targetDocuments",u6=["targetId","path"],Ax="documentTargetsIndex",d6=["path","targetId"],dg="targetGlobalKey",ml="targetGlobal",Mh="collectionParents",h6=["collectionId","parent"],Tu="clientMetadata",f6="clientId",ry="bundles",p6="bundleId",sy="namedQueries",m6="name",Px="indexConfiguration",g6="indexId",F_="collectionGroupIndex",y6="collectionGroup",ph="indexState",v6=["indexId","uid"],ak="sequenceNumberIndex",w6=["uid","sequenceNumber"],mh="indexEntries",_6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lk="documentKeyIndex",x6=["indexId","uid","orderedDocumentKey"],iy="documentOverlays",E6=["userId","collectionPath","documentId"],j_="collectionPathOverlayIndex",T6=["userId","collectionPath","largestBatchId"],ck="collectionGroupOverlayIndex",I6=["userId","collectionGroup","largestBatchId"],Cx="globals",b6="name",uk=[Nh,es,_u,Ha,xu,pf,ml,Eu,Tu,Dh,Mh,ry,sy],S6=[...uk,iy],dk=[Nh,es,_u,ug,xu,pf,ml,Eu,Tu,Dh,Mh,ry,sy,iy],hk=dk,Rx=[...hk,Px,ph,mh],A6=Rx,fk=[...Rx,Cx],P6=fk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_ extends nk{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function tn(t,e){const n=Be(t);return Yo.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tm(this.root,e,this.comparator,!1)}getReverseIterator(){return new tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tm(this.root,e,this.comparator,!0)}}class tm{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??mn.RED,this.left=s??mn.EMPTY,this.right=i??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new mn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return mn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WS(this.data.getIterator())}getIteratorFrom(e){return new WS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class WS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Nc(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new dt(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mk("Invalid base64 string: "+i):i}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const C6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=C6.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mi(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="server_timestamp",yk="__type__",vk="__previous_value__",wk="__local_write_time__";function kx(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yk])==null?void 0:r.stringValue)===gk}function oy(t){const e=t.mapValue.fields[vk];return kx(e)?oy(e):e}function Oh(t){const e=Di(t.mapValue.fields[wk].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n,r,s,i,a,c,u,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=p}}const hg="(default)";class bl{constructor(e,n){this.projectId=e,this.database=n||hg}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===hg}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="__type__",_k="__max__",Ho={mapValue:{fields:{__type__:{stringValue:_k}}}},Dx="__vector__",Iu="value",Rm={nullValue:"NULL_VALUE"};function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kx(t)?4:xk(t)?9007199254740991:ay(t)?10:11:xe(28295,{value:t})}function Hs(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oh(t).isEqual(Oh(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Di(s.timestampValue),c=Di(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Mi(s.bytesValue).isEqual(Mi(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Et(s.geoPointValue.latitude)===Et(i.geoPointValue.latitude)&&Et(s.geoPointValue.longitude)===Et(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Et(s.integerValue)===Et(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Et(s.doubleValue),c=Et(i.doubleValue);return a===c?kh(a)===kh(c):isNaN(a)&&isNaN(c)}return!1})(t,e);case 9:return wu(t.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return(function(s,i){const a=s.mapValue.fields||{},c=i.mapValue.fields||{};if(zS(a)!==zS(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!Hs(a[u],c[u])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function Vh(t,e){return(t.values||[]).find((n=>Hs(n,e)))!==void 0}function ta(t,e){if(t===e)return 0;const n=ea(t),r=ea(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return(function(i,a){const c=Et(i.integerValue||i.doubleValue),u=Et(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return qS(t.timestampValue,e.timestampValue);case 4:return qS(Oh(t),Oh(e));case 5:return O_(t.stringValue,e.stringValue);case 6:return(function(i,a){const c=Mi(i),u=Mi(a);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(i,a){const c=i.split("/"),u=a.split("/");for(let h=0;h<c.length&&h<u.length;h++){const p=Ue(c[h],u[h]);if(p!==0)return p}return Ue(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,a){const c=Ue(Et(i.latitude),Et(a.latitude));return c!==0?c:Ue(Et(i.longitude),Et(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return HS(t.arrayValue,e.arrayValue);case 10:return(function(i,a){var y,E,A,I;const c=i.fields||{},u=a.fields||{},h=(y=c[Iu])==null?void 0:y.arrayValue,p=(E=u[Iu])==null?void 0:E.arrayValue,g=Ue(((A=h==null?void 0:h.values)==null?void 0:A.length)||0,((I=p==null?void 0:p.values)==null?void 0:I.length)||0);return g!==0?g:HS(h,p)})(t.mapValue,e.mapValue);case 11:return(function(i,a){if(i===Ho.mapValue&&a===Ho.mapValue)return 0;if(i===Ho.mapValue)return 1;if(a===Ho.mapValue)return-1;const c=i.fields||{},u=Object.keys(c),h=a.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const y=O_(u[g],p[g]);if(y!==0)return y;const E=ta(c[u[g]],h[p[g]]);if(E!==0)return E}return Ue(u.length,p.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function qS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Di(t),r=Di(e),s=Ue(n.seconds,r.seconds);return s!==0?s:Ue(n.nanos,r.nanos)}function HS(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ta(n[s],r[s]);if(i)return i}return Ue(n.length,r.length)}function bu(t){return B_(t)}function B_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Mi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return he.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=B_(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${B_(n.fields[a])}`;return s+"}"})(t.mapValue):xe(61005,{value:t})}function km(t){switch(ea(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oy(t);return e?16+km(e):16;case 5:return 2*t.stringValue.length;case 6:return Mi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+km(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return ha(r.fields,((i,a)=>{s+=i.length+km(a)})),s})(t.mapValue);default:throw xe(13486,{value:t})}}function Lh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $_(t){return!!t&&"integerValue"in t}function Fh(t){return!!t&&"arrayValue"in t}function GS(t){return!!t&&"nullValue"in t}function KS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nm(t){return!!t&&"mapValue"in t}function ay(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Nx])==null?void 0:r.stringValue)===Dx}function gh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ha(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=gh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gh(t.arrayValue.values[n]);return e}return{...t}}function xk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_k}const Ek={mapValue:{fields:{[Nx]:{stringValue:Dx},[Iu]:{arrayValue:{}}}}};function k6(t){return"nullValue"in t?Rm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Lh(bl.empty(),he.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?ay(t)?Ek:{mapValue:{}}:xe(35942,{value:t})}function N6(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Lh(bl.empty(),he.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?Ek:"mapValue"in t?ay(t)?{mapValue:{}}:Ho:xe(61959,{value:t})}function QS(t,e){const n=ta(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function YS(t,e){const n=ta(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gh(n)}setAll(e){let n=At.emptyPath(),r={},s=[];e.forEach(((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=c.popLast()}a?r[c.lastSegment()]=gh(a):s.push(c.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Nm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Nm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ha(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new In(gh(this.value))}}function Tk(t){const e=[];return ha(t.fields,((n,r)=>{const s=new At([n]);if(Nm(r)){const i=Tk(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)})),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,r,s,i,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Vt(e,0,Ce.min(),Ce.min(),Ce.min(),In.empty(),0)}static newFoundDocument(e,n,r,s){return new Vt(e,1,n,Ce.min(),r,s,0)}static newNoDocument(e,n){return new Vt(e,2,n,Ce.min(),Ce.min(),In.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,Ce.min(),Ce.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.position=e,this.inclusive=n}}function XS(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=he.comparator(he.fromName(a.referenceValue),n.key):r=ta(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function JS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function D6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{}class Ke extends Ik{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new M6(e,n,r):n==="array-contains"?new L6(e,r):n==="in"?new Rk(e,r):n==="not-in"?new F6(e,r):n==="array-contains-any"?new j6(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new O6(e,r):new V6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ta(n,this.value)):n!==null&&ea(this.value)===ea(n)&&this.matchesComparison(ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ut extends Ik{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ut(e,n)}matches(e){return Au(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Au(t){return t.op==="and"}function z_(t){return t.op==="or"}function Mx(t){return bk(t)&&Au(t)}function bk(t){for(const e of t.filters)if(e instanceof ut)return!1;return!0}function W_(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+bu(t.value);if(Mx(t))return t.filters.map((e=>W_(e))).join(",");{const e=t.filters.map((n=>W_(n))).join(",");return`${t.op}(${e})`}}function Sk(t,e){return t instanceof Ke?(function(r,s){return s instanceof Ke&&r.op===s.op&&r.field.isEqual(s.field)&&Hs(r.value,s.value)})(t,e):t instanceof ut?(function(r,s){return s instanceof ut&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,a,c)=>i&&Sk(a,s.filters[c])),!0):!1})(t,e):void xe(19439)}function Ak(t,e){const n=t.filters.concat(e);return ut.create(n,t.op)}function Pk(t){return t instanceof Ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${bu(n.value)}`})(t):t instanceof ut?(function(n){return n.op.toString()+" {"+n.getFilters().map(Pk).join(" ,")+"}"})(t):"Filter"}class M6 extends Ke{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class O6 extends Ke{constructor(e,n){super(e,"in",n),this.keys=Ck("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class V6 extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=Ck("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ck(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>he.fromName(r.referenceValue)))}class L6 extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fh(n)&&Vh(n.arrayValue,this.value)}}class Rk extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vh(this.value.arrayValue,n)}}class F6 extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vh(this.value.arrayValue,n)}}class j6 extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Vh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n=null,r=[],s=[],i=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=c,this.Te=null}}function q_(t,e=null,n=[],r=[],s=null,i=null,a=null){return new U6(t,e,n,r,s,i,a)}function Sl(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>W_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),ny(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>bu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>bu(r))).join(",")),e.Te=n}return e.Te}function mf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!D6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Sk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JS(t.startAt,e.startAt)&&JS(t.endAt,e.endAt)}function fg(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function pg(t,e){return t.filters.filter((n=>n instanceof Ke&&n.field.isEqual(e)))}function ZS(t,e,n){let r=Rm,s=!0;for(const i of pg(t,e)){let a=Rm,c=!0;switch(i.op){case"<":case"<=":a=k6(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,c=!1;break;case"!=":case"not-in":a=Rm}QS({value:r,inclusive:s},{value:a,inclusive:c})<0&&(r=a,s=c)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];QS({value:r,inclusive:s},{value:a,inclusive:n.inclusive})<0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}function e1(t,e,n){let r=Ho,s=!0;for(const i of pg(t,e)){let a=Ho,c=!0;switch(i.op){case">=":case">":a=N6(i.value),c=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,c=!1;break;case"!=":case"not-in":a=Ho}YS({value:r,inclusive:s},{value:a,inclusive:c})>0&&(r=a,s=c)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];YS({value:r,inclusive:s},{value:a,inclusive:n.inclusive})>0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n=null,r=[],s=[],i=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B6(t,e,n,r,s,i,a,c){return new Fu(t,e,n,r,s,i,a,c)}function gf(t){return new Fu(t)}function t1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kk(t){return t.collectionGroup!==null}function yh(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new dt(At.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new jh(i,r))})),n.has(At.keyField().canonicalString())||e.Ie.push(new jh(At.keyField(),r))}return e.Ie}function Vr(t){const e=Be(t);return e.Ee||(e.Ee=$6(e,yh(t))),e.Ee}function $6(t,e){if(t.limitType==="F")return q_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new jh(s.field,i)}));const n=t.endAt?new Su(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Su(t.startAt.position,t.startAt.inclusive):null;return q_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function H_(t,e){const n=t.filters.concat([e]);return new Fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mg(t,e,n){return new Fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ly(t,e){return mf(Vr(t),Vr(e))&&t.limitType===e.limitType}function Nk(t){return`${Sl(Vr(t))}|lt:${t.limitType}`}function zc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>Pk(s))).join(", ")}]`),ny(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>bu(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>bu(s))).join(",")),`Target(${r})`})(Vr(t))}; limitType=${t.limitType})`}function yf(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):he.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of yh(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(a,c,u){const h=XS(a,c,u);return a.inclusive?h<=0:h<0})(r.startAt,yh(r),s)||r.endAt&&!(function(a,c,u){const h=XS(a,c,u);return a.inclusive?h>=0:h>0})(r.endAt,yh(r),s))})(t,e)}function z6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Dk(t){return(e,n)=>{let r=!1;for(const s of yh(t)){const i=W6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function W6(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):(function(i,a,c){const u=a.data.field(i),h=c.data.field(i);return u!==null&&h!==null?ta(u,h):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return pk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=new It(he.comparator);function pr(){return q6}const Mk=new It(he.comparator);function rh(...t){let e=Mk;for(const n of t)e=e.insert(n.key,n);return e}function Ok(t){let e=Mk;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Os(){return vh()}function Vk(){return vh()}function vh(){return new zi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const H6=new It(he.comparator),G6=new dt(he.comparator);function qe(...t){let e=G6;for(const n of t)e=e.add(n);return e}const K6=new dt(Ue);function Q6(){return K6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function Lk(t){return{integerValue:""+t}}function Y6(t,e){return n6(e)?Lk(e):Ox(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(){this._=void 0}}function X6(t,e,n){return t instanceof Pu?(function(s,i){const a={fields:{[yk]:{stringValue:gk},[wk]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&kx(i)&&(i=oy(i)),i&&(a.fields[vk]=i),{mapValue:a}})(n,e):t instanceof Cu?jk(t,e):t instanceof Ru?Uk(t,e):(function(s,i){const a=Fk(s,i),c=n1(a)+n1(s.Ae);return $_(a)&&$_(s.Ae)?Lk(c):Ox(s.serializer,c)})(t,e)}function J6(t,e,n){return t instanceof Cu?jk(t,e):t instanceof Ru?Uk(t,e):n}function Fk(t,e){return t instanceof Uh?(function(r){return $_(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Pu extends cy{}class Cu extends cy{constructor(e){super(),this.elements=e}}function jk(t,e){const n=Bk(e);for(const r of t.elements)n.some((s=>Hs(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Ru extends cy{constructor(e){super(),this.elements=e}}function Uk(t,e){let n=Bk(e);for(const r of t.elements)n=n.filter((s=>!Hs(s,r)));return{arrayValue:{values:n}}}class Uh extends cy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function n1(t){return Et(t.integerValue||t.doubleValue)}function Bk(t){return Fh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n){this.field=e,this.transform=n}}function Z6(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Cu&&s instanceof Cu||r instanceof Ru&&s instanceof Ru?wu(r.elements,s.elements,Hs):r instanceof Uh&&s instanceof Uh?Hs(r.Ae,s.Ae):r instanceof Pu&&s instanceof Pu})(t.transform,e.transform)}class eU{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let uy=class{};function zk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dy(t.key,bn.none()):new ju(t.key,t.data,bn.none());{const n=t.data,r=In.empty();let s=new dt(At.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Wi(t.key,r,new Yn(s.toArray()),bn.none())}}function tU(t,e,n){t instanceof ju?(function(s,i,a){const c=s.value.clone(),u=s1(s.fieldTransforms,i,a.transformResults);c.setAll(u),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Wi?(function(s,i,a){if(!Dm(s.precondition,i))return void i.convertToUnknownDocument(a.version);const c=s1(s.fieldTransforms,i,a.transformResults),u=i.data;u.setAll(Wk(s)),u.setAll(c),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):(function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function wh(t,e,n,r){return t instanceof ju?(function(i,a,c,u){if(!Dm(i.precondition,a))return c;const h=i.value.clone(),p=i1(i.fieldTransforms,u,a);return h.setAll(p),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Wi?(function(i,a,c,u){if(!Dm(i.precondition,a))return c;const h=i1(i.fieldTransforms,u,a),p=a.data;return p.setAll(Wk(i)),p.setAll(h),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(i,a,c){return Dm(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c})(t,e,n)}function nU(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Fk(r.transform,s||null);i!=null&&(n===null&&(n=In.empty()),n.set(r.field,i))}return n||null}function r1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&wu(r,s,((i,a)=>Z6(i,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ju extends uy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wi extends uy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Wk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function s1(t,e,n){const r=new Map;Ae(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,c=e.data.field(i.field);r.set(i.field,J6(a,c,n[s]))}return r}function i1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,X6(i,a,e))}return r}class dy extends uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qk extends uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&tU(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Vk();return this.mutations.forEach((s=>{const i=e.get(s.key),a=i.overlayedDocument;let c=this.applyToLocalView(a,i.mutatedFields);c=n.has(s.key)?null:c;const u=zk(a,c);u!==null&&r.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&wu(this.mutations,e.mutations,((n,r)=>r1(n,r)))&&wu(this.baseMutations,e.baseMutations,((n,r)=>r1(n,r)))}}class Lx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return H6})();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Lx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,Ze;function sU(t){switch(t){case te.OK:return xe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function Hk(t){if(t===void 0)return Dn("GRPC error has no .code"),te.UNKNOWN;switch(t){case Ht.OK:return te.OK;case Ht.CANCELLED:return te.CANCELLED;case Ht.UNKNOWN:return te.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return te.INTERNAL;case Ht.UNAVAILABLE:return te.UNAVAILABLE;case Ht.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ht.NOT_FOUND:return te.NOT_FOUND;case Ht.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ht.ABORTED:return te.ABORTED;case Ht.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ht.DATA_LOSS:return te.DATA_LOSS;default:return xe(39323,{code:t})}}(Ze=Ht||(Ht={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=new Qo([4294967295,4294967295],0);function o1(t){const e=iU().encode(t),n=new zR;return n.update(e),new Uint8Array(n.digest())}function a1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Qo([n,r],0),new Qo([s,i],0)]}class jx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sh(`Invalid padding: ${n}`);if(r<0)throw new sh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Qo.fromNumber(r)));return s.compare(oU)===1&&(s=new Qo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=o1(e),[r,s]=a1(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new jx(i,s,n);return r.forEach((c=>a.insert(c))),a}insert(e){if(this.ge===0)return;const n=o1(e),[r,s]=a1(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,vf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hy(Ce.min(),s,new It(Ue),pr(),qe())}}class vf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vf(r,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Gk{constructor(e,n){this.targetId=e,this.Ce=n}}class Kk{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class l1{constructor(){this.ve=0,this.Fe=c1(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),r=qe();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:xe(38017,{changeType:i})}})),new vf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=c1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aU{constructor(e){this.Ge=e,this.ze=new Map,this.je=pr(),this.Je=nm(),this.He=nm(),this.Ye=new It(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(fg(i))if(r===0){const a=new he(i.path);this.et(n,a,Vt.newNoDocument(a,Ce.min()))}else Ae(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const c=this.ut(e),u=c?this.ct(c,e,a):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,c;try{a=Mi(r).toUint8Array()}catch(u){if(u instanceof mk)return Il("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new jx(a,s,i)}catch(u){return Il(u instanceof sh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Ge.ht(),c=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,a)=>{const c=this.ot(a);if(c){if(i.current&&fg(c.target)){const u=new he(c.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,Vt.newNoDocument(u,e))}i.Be&&(n.set(a,i.ke()),i.qe())}}));let r=qe();this.He.forEach(((i,a)=>{let c=!0;a.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(e)));const s=new hy(e,n,this.Ye,this.je,r);return this.je=pr(),this.Je=nm(),this.He=nm(),this.Ye=new It(Ue),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new l1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new dt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new dt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nm(){return new It(he.comparator)}function c1(){return new It(he.comparator)}const lU={asc:"ASCENDING",desc:"DESCENDING"},cU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uU={and:"AND",or:"OR"};class dU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function G_(t,e){return t.useProto3Json||ny(e)?e:{value:e}}function ku(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hU(t,e){return ku(t,e.toTimestamp())}function Ln(t){return Ae(!!t,49232),Ce.fromTimestamp((function(n){const r=Di(n);return new rt(r.seconds,r.nanos)})(t))}function Ux(t,e){return K_(t,e).canonicalString()}function K_(t,e){const n=(function(s){return new ot(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Yk(t){const e=ot.fromString(t);return Ae(iN(e),10190,{key:e.toString()}),e}function gg(t,e){return Ux(t.databaseId,e.path)}function gl(t,e){const n=Yk(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(Zk(n))}function Xk(t,e){return Ux(t.databaseId,e)}function Jk(t){const e=Yk(t);return e.length===4?ot.emptyPath():Zk(e)}function Q_(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zk(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function u1(t,e,n){return{name:gg(t,e),fields:n.value.mapValue.fields}}function fU(t,e,n){const r=gl(t,e.name),s=Ln(e.updateTime),i=e.createTime?Ln(e.createTime):Ce.min(),a=new In({mapValue:{fields:e.fields}}),c=Vt.newFoundDocument(r,s,i,a);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function pU(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:xe(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(h,p){return h.useProto3Json?(Ae(p===void 0||typeof p=="string",58123),Qt.fromBase64String(p||"")):(Ae(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Qt.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&(function(h){const p=h.code===void 0?te.UNKNOWN:Hk(h.code);return new ue(p,h.message||"")})(a);n=new Kk(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=gl(t,r.document.name),i=Ln(r.document.updateTime),a=r.document.createTime?Ln(r.document.createTime):Ce.min(),c=new In({mapValue:{fields:r.document.fields}}),u=Vt.newFoundDocument(s,i,a,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Mm(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=gl(t,r.document),i=r.readTime?Ln(r.readTime):Ce.min(),a=Vt.newNoDocument(s,i),c=r.removedTargetIds||[];n=new Mm([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=gl(t,r.document),i=r.removedTargetIds||[];n=new Mm([],i,s,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new rU(s,i),c=r.targetId;n=new Gk(c,a)}}return n}function yg(t,e){let n;if(e instanceof ju)n={update:u1(t,e.key,e.value)};else if(e instanceof dy)n={delete:gg(t,e.key)};else if(e instanceof Wi)n={update:u1(t,e.key,e.data),updateMask:_U(e.fieldMask)};else{if(!(e instanceof qk))return xe(16599,{Vt:e.type});n={verify:gg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,a){const c=a.transform;if(c instanceof Pu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Cu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ru)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Uh)return{fieldPath:a.field.canonicalString(),increment:c.Ae};throw xe(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:hU(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:xe(27497)})(t,e.precondition)),n}function Y_(t,e){const n=e.currentDocument?(function(i){return i.updateTime!==void 0?bn.updateTime(Ln(i.updateTime)):i.exists!==void 0?bn.exists(i.exists):bn.none()})(e.currentDocument):bn.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(a,c){let u=null;if("setToServerValue"in c)Ae(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),u=new Pu;else if("appendMissingElements"in c){const p=c.appendMissingElements.values||[];u=new Cu(p)}else if("removeAllFromArray"in c){const p=c.removeAllFromArray.values||[];u=new Ru(p)}else"increment"in c?u=new Uh(a,c.increment):xe(16584,{proto:c});const h=At.fromServerFormat(c.fieldPath);return new $k(h,u)})(t,s))):[];if(e.update){e.update.name;const s=gl(t,e.update.name),i=new In({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(u){const h=u.fieldPaths||[];return new Yn(h.map((p=>At.fromServerFormat(p))))})(e.updateMask);return new Wi(s,i,a,n,r)}return new ju(s,i,n,r)}if(e.delete){const s=gl(t,e.delete);return new dy(s,n)}if(e.verify){const s=gl(t,e.verify);return new qk(s,n)}return xe(1463,{proto:e})}function mU(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map((n=>(function(s,i){let a=s.updateTime?Ln(s.updateTime):Ln(i);return a.isEqual(Ce.min())&&(a=Ln(i)),new eU(a,s.transformResults||[])})(n,e)))):[]}function eN(t,e){return{documents:[Xk(t,e.path)]}}function tN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Xk(t,s);const i=(function(h){if(h.length!==0)return sN(ut.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:Wc(y.field),direction:yU(y.dir)}})(p)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=G_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:s}}function nN(t){let e=Jk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ae(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=(function(g){const y=rN(g);return y instanceof ut&&Mx(y)?y.getFilters():[y]})(n.where));let a=[];n.orderBy&&(a=(function(g){return g.map((y=>(function(A){return new jh(qc(A.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(y)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let y;return y=typeof g=="object"?g.value:g,ny(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(g){const y=!!g.before,E=g.values||[];return new Su(E,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const y=!g.before,E=g.values||[];return new Su(E,y)})(n.endAt)),B6(e,s,a,i,c,"F",u,h)}function gU(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qc(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=qc(n.unaryFilter.field);return Ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=qc(n.unaryFilter.field);return Ke.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=qc(n.unaryFilter.field);return Ke.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ke.create(qc(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ut.create(n.compositeFilter.filters.map((r=>rN(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function yU(t){return lU[t]}function vU(t){return cU[t]}function wU(t){return uU[t]}function Wc(t){return{fieldPath:t.canonicalString()}}function qc(t){return At.fromServerFormat(t.fieldPath)}function sN(t){return t instanceof Ke?(function(n){if(n.op==="=="){if(KS(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NAN"}};if(GS(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KS(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NOT_NAN"}};if(GS(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wc(n.field),op:vU(n.op),value:n.value}}})(t):t instanceof ut?(function(n){const r=n.getFilters().map((s=>sN(s)));return r.length===1?r[0]:{compositeFilter:{op:wU(n.op),filters:r}}})(t):xe(54877,{filter:t})}function _U(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function iN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,r,s,i=Ce.min(),a=Ce.min(),c=Qt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.yt=e}}function xU(t,e){let n;if(e.document)n=fU(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=he.fromSegments(e.noDocument.path),s=Pl(e.noDocument.readTime);n=Vt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return xe(56709);{const r=he.fromSegments(e.unknownDocument.path),s=Pl(e.unknownDocument.version);n=Vt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(s){const i=new rt(s[0],s[1]);return Ce.fromTimestamp(i)})(e.readTime)),n}function d1(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:vg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(i,a){return{name:gg(i,a.key),fields:a.data.value.mapValue.fields,updateTime:ku(i,a.version.toTimestamp()),createTime:ku(i,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Al(e.version)};else{if(!e.isUnknownDocument())return xe(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Al(e.version)}}return r}function vg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Al(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pl(t){const e=new rt(t.seconds,t.nanoseconds);return Ce.fromTimestamp(e)}function Ya(t,e){const n=(e.baseMutations||[]).map((i=>Y_(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const c=e.mutations[i+1];a.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>Y_(t.yt,i))),s=rt.fromMillis(e.localWriteTimeMs);return new Vx(e.batchId,s,n,r)}function ih(t){const e=Pl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Pl(t.lastLimboFreeSnapshotVersion):Ce.min();let r;return r=(function(i){return i.documents!==void 0})(t.query)?(function(i){const a=i.documents.length;return Ae(a===1,1966,{count:a}),Vr(gf(Jk(i.documents[0])))})(t.query):(function(i){return Vr(nN(i))})(t.query),new Ai(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Qt.fromBase64String(t.resumeToken))}function aN(t,e){const n=Al(e.snapshotVersion),r=Al(e.lastLimboFreeSnapshotVersion);let s;s=fg(e.target)?eN(t.yt,e.target):tN(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sl(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function lN(t){const e=nN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mg(e,e.limit,"L"):e}function Nw(t,e){return new Fx(e.largestBatchId,Y_(t.yt,e.overlayMutation))}function h1(t,e){const n=e.path.lastSegment();return[t,An(e.path.popLast()),n]}function f1(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Al(r.readTime),documentKey:An(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{getBundleMetadata(e,n){return p1(e).get(n).next((r=>{if(r)return(function(i){return{id:i.bundleId,createTime:Pl(i.createTime),version:i.version}})(r)}))}saveBundleMetadata(e,n){return p1(e).put((function(s){return{bundleId:s.id,createTime:Al(Ln(s.createTime)),version:s.version}})(n))}getNamedQuery(e,n){return m1(e).get(n).next((r=>{if(r)return(function(i){return{name:i.name,query:lN(i.bundledQuery),readTime:Pl(i.readTime)}})(r)}))}saveNamedQuery(e,n){return m1(e).put((function(s){return{name:s.name,readTime:Al(Ln(s.readTime)),bundledQuery:s.bundledQuery}})(n))}}function p1(t){return tn(t,ry)}function m1(t){return tn(t,sy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new fy(e,r)}getOverlay(e,n){return Wd(e).get(h1(this.userId,n)).next((r=>r?Nw(this.serializer,r):null))}getOverlays(e,n){const r=Os();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,a)=>{const c=new Fx(n,a);s.push(this.St(e,c))})),Q.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((a=>s.add(An(a.getCollectionPath()))));const i=[];return s.forEach((a=>{const c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);i.push(Wd(e).Z(j_,c))})),Q.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Os(),i=An(n),a=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Wd(e).J(j_,a).next((c=>{for(const u of c){const h=Nw(this.serializer,u);s.set(h.getKey(),h)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=Os();let a;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Wd(e).ee({index:ck,range:c},((u,h,p)=>{const g=Nw(this.serializer,h);i.size()<s||g.largestBatchId===a?(i.set(g.getKey(),g),a=g.largestBatchId):p.done()})).next((()=>i))}St(e,n){return Wd(e).put((function(s,i,a){const[c,u,h]=h1(i,a.mutation.key);return{userId:i,collectionPath:u,documentId:h,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:yg(s.yt,a.mutation)}})(this.serializer,this.userId,n))}}function Wd(t){return tn(t,iy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{bt(e){return tn(e,Cx)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Qt.fromUint8Array(r):Qt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Et(e.integerValue));else if("doubleValue"in e){const r=Et(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),kh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Di(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Mi(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?xk(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):ay(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):xe(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){var a,c;const r=e.fields||{};this.Ft(n,53);const s=Iu,i=((c=(a=r[s].arrayValue)==null?void 0:a.values)==null?void 0:c.length)||0;this.Ft(n,15),n.Mt(Et(i)),this.Ot(s,n),this.Ct(r[s],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),he.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Xa.Kt=new Xa;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=255;function IU(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function g1(t){const e=64-(function(r){let s=0;for(let i=0;i<8;++i){const a=IU(255&r[i]);if(s+=a,a!==8)break}return s})(t);return Math.ceil(e/8)}class bU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=g1(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=g1(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(Dc),this.sn(255)}_n(){this.an(Dc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Dc?(this.sn(Dc),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Dc?(this.an(Dc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class SU{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class AU{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class qd{constructor(){this.cn=new bU,this.ln=new SU(this.cn),this.hn=new AU(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Ja(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Om(this.En),directionalValue:Om(this.dn),orderedDocumentKey:Om(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function bo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=y1(t.En,e.En),n!==0?n:(n=y1(t.dn,e.dn),n!==0?n:he.comparator(t.In,e.In)))}function y1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Om(t){return tR()?(function(n){let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return r})(t):t}function v1(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(t)}class w1{constructor(e){this.mn=new dt(((n,r)=>At.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ae(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=V_(e);if(n!==void 0&&!this.wn(n))return!1;const r=qa(e);let s=new Set,i=0,a=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!s.has(c.field.canonicalString())){const u=r[i];if(!this.Sn(c,u)||!this.bn(this.fn[a++],u))return!1}++i}for(;i<r.length;++i){const c=r[i];if(a>=this.fn.length||!this.bn(this.fn[a++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new dt(At.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Am(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Am(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Am(r.field,r.dir==="asc"?0:1)));return new lg(lg.UNKNOWN_ID,this.collectionId,n,Rh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){var n,r;if(Ae(t instanceof Ke||t instanceof ut,20012),t instanceof Ke){if(t instanceof Rk){const s=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((i=>Ke.create(t.field,"==",i))))||[];return ut.create(s,"or")}return t}const e=t.filters.map((s=>cN(s)));return ut.create(e,t.op)}function PU(t){if(t.getFilters().length===0)return[];const e=Z_(cN(t));return Ae(uN(e),7391),X_(e)||J_(e)?[e]:e.getFilters()}function X_(t){return t instanceof Ke}function J_(t){return t instanceof ut&&Mx(t)}function uN(t){return X_(t)||J_(t)||(function(n){if(n instanceof ut&&z_(n)){for(const r of n.getFilters())if(!X_(r)&&!J_(r))return!1;return!0}return!1})(t)}function Z_(t){if(Ae(t instanceof Ke||t instanceof ut,34018),t instanceof Ke)return t;if(t.filters.length===1)return Z_(t.filters[0]);const e=t.filters.map((r=>Z_(r)));let n=ut.create(e,t.op);return n=wg(n),uN(n)?n:(Ae(n instanceof ut,64498),Ae(Au(n),40251),Ae(n.filters.length>1,57927),n.filters.reduce(((r,s)=>Bx(r,s))))}function Bx(t,e){let n;return Ae(t instanceof Ke||t instanceof ut,38388),Ae(e instanceof Ke||e instanceof ut,25473),n=t instanceof Ke?e instanceof Ke?(function(s,i){return ut.create([s,i],"and")})(t,e):_1(t,e):e instanceof Ke?_1(e,t):(function(s,i){if(Ae(s.filters.length>0&&i.filters.length>0,48005),Au(s)&&Au(i))return Ak(s,i.getFilters());const a=z_(s)?s:i,c=z_(s)?i:s,u=a.filters.map((h=>Bx(h,c)));return ut.create(u,"or")})(t,e),wg(n)}function _1(t,e){if(Au(e))return Ak(e,t.getFilters());{const n=e.filters.map((r=>Bx(t,r)));return ut.create(n,"or")}}function wg(t){if(Ae(t instanceof Ke||t instanceof ut,11850),t instanceof Ke)return t;const e=t.getFilters();if(e.length===1)return wg(e[0]);if(bk(t))return t;const n=e.map((s=>wg(s))),r=[];return n.forEach((s=>{s instanceof Ke?r.push(s):s instanceof ut&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:ut.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.Cn=new $x}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(yr.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class $x{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new dt(ot.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new dt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="IndexedDbIndexManager",rm=new Uint8Array(0);class RU{constructor(e,n){this.databaseId=n,this.vn=new $x,this.Fn=new zi((r=>Sl(r)),((r,s)=>mf(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:An(s)};return E1(e).put(i)}return Q.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[XR(n),""],!1,!0);return E1(e).J(s).next((i=>{for(const a of i){if(a.collectionId!==n)break;r.push(Ms(a.parent))}return r}))}addFieldIndex(e,n){const r=Hd(e),s=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const a=Oc(e);return i.next((c=>{a.put(f1(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=Hd(e),s=Oc(e),i=Mc(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Hd(e),r=Mc(e),s=Oc(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new w1(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=Mc(e);let s=!0;const i=new Map;return Q.forEach(this.Mn(n),(a=>this.xn(e,a).next((c=>{s&&(s=!!c),i.set(a,c)})))).next((()=>{if(s){let a=qe();const c=[];return Q.forEach(i,((u,h)=>{le(x1,`Using index ${(function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map((F=>`${F.fieldPath}:${F.kind}`)).join(",")}`})(u)} to execute ${Sl(n)}`);const p=(function(M,F){const B=V_(F);if(B===void 0)return null;for(const G of pg(M,B.fieldPath))switch(G.op){case"array-contains-any":return G.value.arrayValue.values||[];case"array-contains":return[G.value]}return null})(h,u),g=(function(M,F){const B=new Map;for(const G of qa(F))for(const k of pg(M,G.fieldPath))switch(k.op){case"==":case"in":B.set(G.fieldPath.canonicalString(),k.value);break;case"not-in":case"!=":return B.set(G.fieldPath.canonicalString(),k.value),Array.from(B.values())}return null})(h,u),y=(function(M,F){const B=[];let G=!0;for(const k of qa(F)){const P=k.kind===0?ZS(M,k.fieldPath,M.startAt):e1(M,k.fieldPath,M.startAt);B.push(P.value),G&&(G=P.inclusive)}return new Su(B,G)})(h,u),E=(function(M,F){const B=[];let G=!0;for(const k of qa(F)){const P=k.kind===0?e1(M,k.fieldPath,M.endAt):ZS(M,k.fieldPath,M.endAt);B.push(P.value),G&&(G=P.inclusive)}return new Su(B,G)})(h,u),A=this.On(u,h,y),I=this.On(u,h,E),S=this.Nn(u,h,g),R=this.Bn(u.indexId,p,A,y.inclusive,I,E.inclusive,S);return Q.forEach(R,(L=>r.Y(L,n.limit).next((M=>{M.forEach((F=>{const B=he.fromSegments(F.documentKey);a.has(B)||(a=a.add(B),c.push(B))}))}))))})).next((()=>c))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=PU(ut.create(e.filters,"and")).map((r=>q_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,a,c){const u=(n!=null?n.length:1)*Math.max(r.length,i.length),h=u/(n!=null?n.length:1),p=[];for(let g=0;g<u;++g){const y=n?this.Ln(n[g/h]):rm,E=this.kn(e,y,r[g%h],s),A=this.qn(e,y,i[g%h],a),I=c.map((S=>this.kn(e,y,S,!0)));p.push(...this.createRange(E,A,I))}return p}kn(e,n,r,s){const i=new Ja(e,he.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new Ja(e,he.empty(),n,r);return s?i.An():i}xn(e,n){const r=new w1(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let a=null;for(const c of i)r.yn(c)&&(!a||c.fields.length>a.fields.length)&&(a=c);return a}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return Q.forEach(s,(i=>this.xn(e,i).next((a=>{a?r!==0&&a.fields.length<(function(u){let h=new dt(At.comparator),p=!1;for(const g of u.filters)for(const y of g.getFlattenedFilters())y.field.isKeyField()||(y.op==="array-contains"||y.op==="array-contains-any"?p=!0:h=h.add(y.field));for(const g of u.orderBy)g.field.isKeyField()||(h=h.add(g.field));return h.size+(p?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new qd;for(const s of qa(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const a=r.Pn(s.kind);Xa.Kt.Dt(i,a)}return r.un()}Ln(e){const n=new qd;return Xa.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new qd;return Xa.Kt.Dt(Lh(this.databaseId,n),r.Pn((function(i){const a=qa(i);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new qd);let i=0;for(const a of qa(e)){const c=r[i++];for(const u of s)if(this.Un(n,a.fieldPath)&&Fh(c))s=this.Kn(s,a,c);else{const h=u.Pn(a.kind);Xa.Kt.Dt(c,h)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const a of r.arrayValue.values||[])for(const c of s){const u=new qd;u.seed(c.un()),Xa.Kt.Dt(a,u.Pn(n.kind)),i.push(u)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof Ke&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Hd(e),s=Oc(e);return(n?r.J(F_,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const a=[];return Q.forEach(i,(c=>s.get([c.indexId,this.uid]).next((u=>{a.push((function(p,g){const y=g?new Rh(g.sequenceNumber,new yr(Pl(g.readTime),new he(Ms(g.documentKey)),g.largestBatchId)):Rh.empty(),E=p.fields.map((([A,I])=>new Am(At.fromServerFormat(A),I)));return new lg(p.indexId,p.collectionGroup,E,y)})(c,u))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Ue(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=Hd(e),i=Oc(e);return this.Gn(e).next((a=>s.J(F_,IDBKeyRange.bound(n,n)).next((c=>Q.forEach(c,(u=>i.put(f1(u.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((s,i)=>{const a=r.get(s.collectionGroup);return(a?Q.resolve(a):this.getFieldIndexes(e,s.collectionGroup)).next((c=>(r.set(s.collectionGroup,c),Q.forEach(c,(u=>this.zn(e,s,u).next((h=>{const p=this.jn(i,u);return h.isEqual(p)?Q.resolve():this.Jn(e,i,u,h,p)})))))))}))}Hn(e,n,r,s){return Mc(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return Mc(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=Mc(e);let i=new dt(bo);return s.ee({index:lk,range:IDBKeyRange.only([r.indexId,this.uid,Om(this.$n(r,n))])},((a,c)=>{i=i.add(new Ja(r.indexId,n,v1(c.arrayValue),v1(c.directionalValue)))})).next((()=>i))}jn(e,n){let r=new dt(bo);const s=this.Qn(n,e);if(s==null)return r;const i=V_(n);if(i!=null){const a=e.data.field(i.fieldPath);if(Fh(a))for(const c of a.arrayValue.values||[])r=r.add(new Ja(n.indexId,e.key,this.Ln(c),s))}else r=r.add(new Ja(n.indexId,e.key,rm,s));return r}Jn(e,n,r,s,i){le(x1,"Updating index entries for document '%s'",n.key);const a=[];return(function(u,h,p,g,y){const E=u.getIterator(),A=h.getIterator();let I=Nc(E),S=Nc(A);for(;I||S;){let R=!1,L=!1;if(I&&S){const M=p(I,S);M<0?L=!0:M>0&&(R=!0)}else I!=null?L=!0:R=!0;R?(g(S),S=Nc(A)):L?(y(I),I=Nc(E)):(I=Nc(E),S=Nc(A))}})(s,i,bo,(c=>{a.push(this.Hn(e,n,r,c))}),(c=>{a.push(this.Yn(e,n,r,c))})),Q.waitFor(a)}Gn(e){let n=1;return Oc(e).ee({index:ak,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,c)=>bo(a,c))).filter(((a,c,u)=>!c||bo(a,u[c-1])!==0));const s=[];s.push(e);for(const a of r){const c=bo(a,e),u=bo(a,n);if(c===0)s[0]=e.An();else if(c>0&&u<0)s.push(a),s.push(a.An());else if(u>0)break}s.push(n);const i=[];for(let a=0;a<s.length;a+=2){if(this.Zn(s[a],s[a+1]))return[];const c=s[a].Vn(this.uid,rm,he.empty()),u=s[a+1].Vn(this.uid,rm,he.empty());i.push(IDBKeyRange.bound(c,u))}return i}Zn(e,n){return bo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(T1)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||xe(44426))))).next(T1)}}function E1(t){return tn(t,Mh)}function Mc(t){return tn(t,mh)}function Hd(t){return tn(t,Px)}function Oc(t){return tn(t,ph)}function T1(t){Ae(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;bx(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new yr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dN=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t,e,n){const r=t.store(es),s=t.store(_u),i=[],a=IDBKeyRange.only(n.batchId);let c=0;const u=r.ee({range:a},((p,g,y)=>(c++,y.delete())));i.push(u.next((()=>{Ae(c===1,47070,{batchId:n.batchId})})));const h=[];for(const p of n.mutations){const g=sk(e,p.key.path,n.batchId);i.push(s.delete(g)),h.push(p.key)}return Q.waitFor(i).next((()=>h))}function _g(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xe(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(dN,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class py{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){Ae(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new py(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return So(e).ee({index:Za,range:r},((s,i,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=Hc(e),a=So(e);return a.add({}).next((c=>{Ae(typeof c=="number",49019);const u=new Vx(c,n,r,s),h=(function(E,A,I){const S=I.baseMutations.map((L=>yg(E.yt,L))),R=I.mutations.map((L=>yg(E.yt,L)));return{userId:A,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:S,mutations:R}})(this.serializer,this.userId,u),p=[];let g=new dt(((y,E)=>Ue(y.canonicalString(),E.canonicalString())));for(const y of s){const E=sk(this.userId,y.key.path,c);g=g.add(y.key.path.popLast()),p.push(a.put(h)),p.push(i.put(E,i6))}return g.forEach((y=>{p.push(this.indexManager.addToCollectionParentIndex(e,y))})),e.addOnCommittedListener((()=>{this.Xn[c]=u.keys()})),Q.waitFor(p).next((()=>u))}))}lookupMutationBatch(e,n){return So(e).get(n).next((r=>r?(Ae(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ya(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return So(e).ee({index:Za,range:s},((a,c,u)=>{c.userId===this.userId&&(Ae(c.batchId>=r,47524,{tr:r}),i=Ya(this.serializer,c)),u.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=pl;return So(e).ee({index:Za,range:n,reverse:!0},((s,i,a)=>{r=i.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,pl],[this.userId,Number.POSITIVE_INFINITY]);return So(e).J(Za,n).next((r=>r.map((s=>Ya(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Pm(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Hc(e).ee({range:s},((a,c,u)=>{const[h,p,g]=a,y=Ms(p);if(h===this.userId&&n.path.isEqual(y))return So(e).get(g).next((E=>{if(!E)throw xe(61480,{nr:a,batchId:g});Ae(E.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:E.userId,batchId:g}),i.push(Ya(this.serializer,E))}));u.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(Ue);const s=[];return n.forEach((i=>{const a=Pm(this.userId,i.path),c=IDBKeyRange.lowerBound(a),u=Hc(e).ee({range:c},((h,p,g)=>{const[y,E,A]=h,I=Ms(E);y===this.userId&&i.path.isEqual(I)?r=r.add(A):g.done()}));s.push(u)})),Q.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Pm(this.userId,r),a=IDBKeyRange.lowerBound(i);let c=new dt(Ue);return Hc(e).ee({range:a},((u,h,p)=>{const[g,y,E]=u,A=Ms(y);g===this.userId&&r.isPrefixOf(A)?A.length===s&&(c=c.add(E)):p.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push(So(e).get(i).next((a=>{if(a===null)throw xe(35274,{batchId:i});Ae(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:i}),r.push(Ya(this.serializer,a))})))})),Q.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return hN(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),s=[];return Hc(e).ee({range:r},((i,a,c)=>{if(i[0]===this.userId){const u=Ms(i[1]);s.push(u)}else c.done()})).next((()=>{Ae(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return fN(e,this.userId,n)}_r(e){return pN(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:pl,lastStreamToken:""}))}}function fN(t,e,n){const r=Pm(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let a=!1;return Hc(t).ee({range:i,X:!0},((c,u,h)=>{const[p,g,y]=c;p===e&&g===s&&(a=!0),h.done()})).next((()=>a))}function So(t){return tn(t,es)}function Hc(t){return tn(t,_u)}function pN(t){return tn(t,Nh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cl(0)}static cr(){return new Cl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Cl(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ce.fromTimestamp(new rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Vc(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ae(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return Vc(e).ee(((a,c)=>{const u=ih(c);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(s++,i.push(this.removeTargetData(e,u)))})).next((()=>Q.waitFor(i))).next((()=>s))}forEachTarget(e,n){return Vc(e).ee(((r,s)=>{const i=ih(s);n(i)}))}lr(e){return b1(e).get(dg).next((n=>(Ae(n!==null,2888),n)))}hr(e,n){return b1(e).put(dg,n)}Pr(e,n){return Vc(e).put(aN(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Sl(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Vc(e).ee({range:s,index:ok},((a,c,u)=>{const h=ih(c);mf(n,h.target)&&(i=h,u.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=Lo(e);return n.forEach((a=>{const c=An(a.path);s.push(i.put({targetId:r,path:c})),s.push(this.referenceDelegate.addReference(e,r,a))})),Q.waitFor(s)}removeMatchingKeys(e,n,r){const s=Lo(e);return Q.forEach(n,(i=>{const a=An(i.path);return Q.waitFor([s.delete([r,a]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=Lo(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Lo(e);let i=qe();return s.ee({range:r,X:!0},((a,c,u)=>{const h=Ms(a[1]),p=new he(h);i=i.add(p)})).next((()=>i))}containsKey(e,n){const r=An(n.path),s=IDBKeyRange.bound([r],[XR(r)],!1,!0);let i=0;return Lo(e).ee({index:Ax,X:!0,range:s},(([a,c],u,h)=>{a!==0&&(i++,h.done())})).next((()=>i>0))}At(e,n){return Vc(e).get(n).next((r=>r?ih(r):null))}}function Vc(t){return tn(t,xu)}function b1(t){return tn(t,ml)}function Lo(t){return tn(t,Eu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="LruGarbageCollector",NU=1048576;function A1([t,e],[n,r]){const s=Ue(t,n);return s===0?Ue(e,r):s}class DU{constructor(e){this.Ir=e,this.buffer=new dt(A1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();A1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(S1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){da(n)?le(S1,"Ignoring IndexedDB error during garbage collection: ",n):await jl(n)}await this.Vr(3e5)}))}}class MU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Dr.ce);const r=new DU(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(I1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,c,u,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,a=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),$c()<=Ge.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${s} in `+(c-a)+`ms
	Removed ${i} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-p}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function gN(t,e){return new MU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n){this.db=e,this.garbageCollector=gN(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return sm(e,r)}removeReference(e,n,r){return sm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return sm(e,n)}br(e,n){return(function(s,i){let a=!1;return pN(s).te((c=>fN(s,c,i).next((u=>(u&&(a=!0),Q.resolve(!u)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((a,c)=>{if(c<=n){const u=this.br(e,a).next((h=>{if(!h)return i++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Ce.min()),Lo(e).delete((function(g){return[0,An(g.path)]})(a)))))}));s.push(u)}})).next((()=>Q.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return sm(e,n)}Sr(e,n){const r=Lo(e);let s,i=Dr.ce;return r.ee({index:Ax},(([a,c],{path:u,sequenceNumber:h})=>{a===0?(i!==Dr.ce&&n(new he(Ms(s)),i),i=h,s=u):i=Dr.ce})).next((()=>{i!==Dr.ce&&n(new he(Ms(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sm(t,e){return Lo(t).put((function(r,s){return{targetId:0,path:An(r.path),sequenceNumber:s}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.changes=new zi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ba(e).put(r)}removeEntry(e,n,r){return Ba(e).delete((function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],vg(a),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Vt.newInvalidDocument(n);return Ba(e).ee({index:Cm,range:IDBKeyRange.only(Gd(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:Vt.newInvalidDocument(n)};return Ba(e).ee({index:Cm,range:IDBKeyRange.only(Gd(n))},((s,i)=>{r={document:this.Cr(n,i),size:_g(i)}})).next((()=>r))}getEntries(e,n){let r=pr();return this.Fr(e,n,((s,i)=>{const a=this.Cr(s,i);r=r.insert(s,a)})).next((()=>r))}Mr(e,n){let r=pr(),s=new It(he.comparator);return this.Fr(e,n,((i,a)=>{const c=this.Cr(i,a);r=r.insert(i,c),s=s.insert(i,_g(a))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let s=new dt(R1);n.forEach((u=>s=s.add(u)));const i=IDBKeyRange.bound(Gd(s.first()),Gd(s.last())),a=s.getIterator();let c=a.getNext();return Ba(e).ee({index:Cm,range:i},((u,h,p)=>{const g=he.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;c&&R1(c,g)<0;)r(c,null),c=a.getNext();c&&c.isEqual(g)&&(r(c,h),c=a.hasNext()?a.getNext():null),c?p.j(Gd(c)):p.done()})).next((()=>{for(;c;)r(c,null),c=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const a=n.path,c=[a.popLast().toArray(),a.lastSegment(),vg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ba(e).J(IDBKeyRange.bound(c,u,!0)).next((h=>{i==null||i.incrementDocumentReadCount(h.length);let p=pr();for(const g of h){const y=this.Cr(he.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);y.isFoundDocument()&&(yf(n,y)||s.has(y.key))&&(p=p.insert(y.key,y))}return p}))}getAllFromCollectionGroup(e,n,r,s){let i=pr();const a=C1(n,r),c=C1(n,yr.max());return Ba(e).ee({index:ik,range:IDBKeyRange.bound(a,c,!0)},((u,h,p)=>{const g=this.Cr(he.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);i=i.insert(g.key,g),i.size===s&&p.done()})).next((()=>i))}newChangeBuffer(e){return new LU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return P1(e).get(L_).next((n=>(Ae(!!n,20021),n)))}Dr(e,n){return P1(e).put(L_,n)}Cr(e,n){if(n){const r=xU(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ce.min())))return r}return Vt.newInvalidDocument(e)}}function vN(t){return new VU(t)}class LU extends yN{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new zi((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new dt(((i,a)=>Ue(i.canonicalString(),a.canonicalString())));return this.changes.forEach(((i,a)=>{const c=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,c.readTime)),a.isValidDocument()){const u=d1(this.Nr.serializer,a);s=s.add(i.path.popLast());const h=_g(u);r+=h-c.size,n.push(this.Nr.addEntry(e,i,u))}else if(r-=c.size,this.trackRemovals){const u=d1(this.Nr.serializer,a.convertToNoDocument(Ce.min()));n.push(this.Nr.addEntry(e,i,u))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,a)=>{this.Br.set(i,{size:a,readTime:r.get(i).readTime})})),r)))}}function P1(t){return tn(t,Dh)}function Ba(t){return tn(t,ug)}function Gd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function C1(t,e){const n=e.documentKey.path.toArray();return[t,vg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function R1(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Ue(n[i],r[i]),s)return s;return s=Ue(n.length,r.length),s||(s=Ue(n[n.length-2],r[r.length-2]),s||Ue(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&wh(r.mutation,s,Yn.empty(),rt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=qe()){const s=Os();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let a=rh();return i.forEach(((c,u)=>{a=a.insert(c,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Os();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,qe())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((a,c)=>{n.set(a,c)}))}))}computeViews(e,n,r,s){let i=pr();const a=vh(),c=(function(){return vh()})();return n.forEach(((u,h)=>{const p=r.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof Wi)?i=i.insert(h.key,h):p!==void 0?(a.set(h.key,p.mutation.getFieldMask()),wh(p.mutation,h,p.mutation.getFieldMask(),rt.now())):a.set(h.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((h,p)=>a.set(h,p))),n.forEach(((h,p)=>c.set(h,new FU(p,a.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=vh();let s=new It(((a,c)=>a-c)),i=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const c of a)c.keys().forEach((u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||Yn.empty();p=c.applyToLocalView(h,p),r.set(u,p);const g=(s.get(c.batchId)||qe()).add(u);s=s.insert(c.batchId,g)}))})).next((()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,p=u.value,g=Vk();p.forEach((y=>{if(!i.has(y)){const E=zk(n.get(y),r.get(y));E!==null&&g.set(y,E),i=i.add(y)}})),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Q.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(a){return he.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Os());let c=Ch,u=i;return a.next((h=>Q.forEach(h,((p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),i.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{u=u.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,u,h,qe()))).next((p=>({batchId:c,changes:Ok(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next((r=>{let s=rh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=rh();return this.indexManager.getCollectionParents(e,i).next((c=>Q.forEach(c,(u=>{const h=(function(g,y){return new Fu(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((p=>{p.forEach(((g,y)=>{a=a.insert(g,y)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((a=>{i.forEach(((u,h)=>{const p=h.getKey();a.get(p)===null&&(a=a.insert(p,Vt.newInvalidDocument(p)))}));let c=rh();return a.forEach(((u,h)=>{const p=i.get(u);p!==void 0&&wh(p.mutation,h,Yn.empty(),rt.now()),yf(n,h)&&(c=c.insert(u,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Ln(s.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:lN(s.bundledQuery),readTime:Ln(s.readTime)}})(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.overlays=new It(he.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Os();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Os(),i=n.length+1,a=new he(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new It(((h,p)=>h-p));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=i.get(h.largestBatchId);p===null&&(p=Os(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Os(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,p)=>c.set(h,p))),!(c.size()>=s)););return Q.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Fx(n,r));let i=this.qr.get(n);i===void 0&&(i=qe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.Qr=new dt(an.$r),this.Ur=new dt(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new an(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new an(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new he(new ot([])),r=new an(n,e),s=new an(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new he(new ot([])),r=new an(n,e),s=new an(n,e+1);let i=qe();return this.Ur.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new an(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return he.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dt(an.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Vx(i,n,r,s);this.mutationQueue.push(a);for(const c of s)this.Zr=this.Zr.add(new an(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?pl:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),s=new an(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(a=>{const c=this.Xr(a.Yr);i.push(c)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(Ue);return n.forEach((s=>{const i=new an(s,0),a=new an(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(c=>{r=r.add(c.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;he.isDocumentKey(i)||(i=i.child(""));const a=new an(new he(i),0);let c=new dt(Ue);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(u.Yr)),!0)}),a),Q.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ae(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(s=>{const i=new an(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new an(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.ri=e,this.docs=(function(){return new It(he.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=pr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Vt.newInvalidDocument(s))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=pr();const a=n.path,c=new he(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||bx(ek(p),r)<=0||(s.has(p.key)||yf(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){xe(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new WU(this)}getSize(e){return Q.resolve(this.size)}}class WU extends yN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.persistence=e,this.si=new zi((n=>Sl(n)),mf),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new zx,this.targetCount=0,this.ai=Cl.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Cl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),Q.waitFor(i).next((()=>s))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(e,a))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dr(0),this.li=!1,this.li=!0,this.hi=new BU,this.referenceDelegate=e(this),this.Pi=new qU(this),this.indexManager=new CU,this.remoteDocumentCache=(function(s){return new zU(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new oN(n),this.Ii=new jU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new $U(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new HU(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class HU extends nk{constructor(e){super(),this.currentSequenceNumber=e}}class my{constructor(e){this.persistence=e,this.Ri=new zx,this.Vi=null}static mi(e){return new my(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const s=he.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xg{constructor(e,n){this.persistence=e,this.pi=new zi((r=>An(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=gN(this,n)}static mi(e,n){return new xg(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Q.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(a=>this.br(e,a,n).next((c=>{c||(r++,i.removeEntry(a,Ce.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=km(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.serializer=e}k(e,n,r,s){const i=new ty("createOrUpgrade",n);r<1&&s>=1&&((function(u){u.createObjectStore(pf)})(e),(function(u){u.createObjectStore(Nh,{keyPath:s6}),u.createObjectStore(es,{keyPath:BS,autoIncrement:!0}).createIndex(Za,$S,{unique:!0}),u.createObjectStore(_u)})(e),k1(e),(function(u){u.createObjectStore(Ha)})(e));let a=Q.resolve();return r<3&&s>=3&&(r!==0&&((function(u){u.deleteObjectStore(Eu),u.deleteObjectStore(xu),u.deleteObjectStore(ml)})(e),k1(e)),a=a.next((()=>(function(u){const h=u.store(ml),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return h.put(dg,p)})(i)))),r<4&&s>=4&&(r!==0&&(a=a.next((()=>(function(u,h){return h.store(es).J().next((g=>{u.deleteObjectStore(es),u.createObjectStore(es,{keyPath:BS,autoIncrement:!0}).createIndex(Za,$S,{unique:!0});const y=h.store(es),E=g.map((A=>y.put(A)));return Q.waitFor(E)}))})(e,i)))),a=a.next((()=>{(function(u){u.createObjectStore(Tu,{keyPath:f6})})(e)}))),r<5&&s>=5&&(a=a.next((()=>this.yi(i)))),r<6&&s>=6&&(a=a.next((()=>((function(u){u.createObjectStore(Dh)})(e),this.wi(i))))),r<7&&s>=7&&(a=a.next((()=>this.Si(i)))),r<8&&s>=8&&(a=a.next((()=>this.bi(e,i)))),r<9&&s>=9&&(a=a.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(a=a.next((()=>this.Di(i)))),r<11&&s>=11&&(a=a.next((()=>{(function(u){u.createObjectStore(ry,{keyPath:p6})})(e),(function(u){u.createObjectStore(sy,{keyPath:m6})})(e)}))),r<12&&s>=12&&(a=a.next((()=>{(function(u){const h=u.createObjectStore(iy,{keyPath:E6});h.createIndex(j_,T6,{unique:!1}),h.createIndex(ck,I6,{unique:!1})})(e)}))),r<13&&s>=13&&(a=a.next((()=>(function(u){const h=u.createObjectStore(ug,{keyPath:o6});h.createIndex(Cm,a6),h.createIndex(ik,l6)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(Ha)))),r<14&&s>=14&&(a=a.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(a=a.next((()=>(function(u){u.createObjectStore(Px,{keyPath:g6,autoIncrement:!0}).createIndex(F_,y6,{unique:!1}),u.createObjectStore(ph,{keyPath:v6}).createIndex(ak,w6,{unique:!1}),u.createObjectStore(mh,{keyPath:_6}).createIndex(lk,x6,{unique:!1})})(e)))),r<16&&s>=16&&(a=a.next((()=>{n.objectStore(ph).clear()})).next((()=>{n.objectStore(mh).clear()}))),r<17&&s>=17&&(a=a.next((()=>{(function(u){u.createObjectStore(Cx,{keyPath:b6})})(e)}))),r<18&&s>=18&&tR()&&(a=a.next((()=>{n.objectStore(ph).clear()})).next((()=>{n.objectStore(mh).clear()}))),a}wi(e){let n=0;return e.store(Ha).ee(((r,s)=>{n+=_g(s)})).next((()=>{const r={byteSize:n};return e.store(Dh).put(L_,r)}))}yi(e){const n=e.store(Nh),r=e.store(es);return n.J().next((s=>Q.forEach(s,(i=>{const a=IDBKeyRange.bound([i.userId,pl],[i.userId,i.lastAcknowledgedBatchId]);return r.J(Za,a).next((c=>Q.forEach(c,(u=>{Ae(u.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:u.batchId});const h=Ya(this.serializer,u);return hN(e,i.userId,h).next((()=>{}))}))))}))))}Si(e){const n=e.store(Eu),r=e.store(Ha);return e.store(ml).get(dg).next((s=>{const i=[];return r.ee(((a,c)=>{const u=new ot(a),h=(function(g){return[0,An(g)]})(u);i.push(n.get(h).next((p=>p?Q.resolve():(g=>n.put({targetId:0,path:An(g),sequenceNumber:s.highestListenSequenceNumber}))(u))))})).next((()=>Q.waitFor(i)))}))}bi(e,n){e.createObjectStore(Mh,{keyPath:h6});const r=n.store(Mh),s=new $x,i=a=>{if(s.add(a)){const c=a.lastSegment(),u=a.popLast();return r.put({collectionId:c,parent:An(u)})}};return n.store(Ha).ee({X:!0},((a,c)=>{const u=new ot(a);return i(u.popLast())})).next((()=>n.store(_u).ee({X:!0},(([a,c,u],h)=>{const p=Ms(c);return i(p.popLast())}))))}Di(e){const n=e.store(xu);return n.ee(((r,s)=>{const i=ih(s),a=aN(this.serializer,i);return n.put(a)}))}Ci(e,n){const r=n.store(Ha),s=[];return r.ee(((i,a)=>{const c=n.store(ug),u=(function(g){return g.document?new he(ot.fromString(g.document.name).popFirst(5)):g.noDocument?he.fromSegments(g.noDocument.path):g.unknownDocument?he.fromSegments(g.unknownDocument.path):xe(36783)})(a).path.toArray(),h={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};s.push(c.put(h))})).next((()=>Q.waitFor(s)))}Fi(e,n){const r=n.store(es),s=vN(this.serializer),i=new Wx(my.mi,this.serializer.yt);return r.J().next((a=>{const c=new Map;return a.forEach((u=>{let h=c.get(u.userId)??qe();Ya(this.serializer,u).keys().forEach((p=>h=h.add(p))),c.set(u.userId,h)})),Q.forEach(c,((u,h)=>{const p=new pn(h),g=fy.wt(this.serializer,p),y=i.getIndexManager(p),E=py.wt(p,this.serializer,y,i.referenceDelegate);return new wN(s,E,g,y).recalculateAndSaveOverlaysForDocumentKeys(new U_(n,Dr.ce),u).next()}))}))}}function k1(t){t.createObjectStore(Eu,{keyPath:u6}).createIndex(Ax,d6,{unique:!0}),t.createObjectStore(xu,{keyPath:"targetId"}).createIndex(ok,c6,{unique:!0}),t.createObjectStore(ml)}const Ao="IndexedDbPersistence",Dw=18e5,Mw=5e3,Ow="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",KU="main";class qx{constructor(e,n,r,s,i,a,c,u,h,p,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=a,this.document=c,this.xi=h,this.Oi=p,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=y=>Promise.resolve(),!qx.v())throw new ue(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new OU(this,s),this.$i=n+KU,this.serializer=new oN(u),this.Ui=new Yo(this.$i,this.Ni,new GU(this.serializer)),this.hi=new TU,this.Pi=new kU(this.referenceDelegate,this.serializer),this.remoteDocumentCache=vN(this.serializer),this.Ii=new EU,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&Dn(Ao,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ue(te.FAILED_PRECONDITION,Ow);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Dr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>im(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(da(e))return le(Ao,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(Ao,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Kd(e).get(kc).next((n=>Q.resolve(this.es(n))))}ts(e){return im(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Dw)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=tn(n,Tu);return r.J().next((s=>{const i=this.ss(s,Dw),a=s.filter((c=>i.indexOf(c)===-1));return Q.forEach(a,(c=>r.delete(c.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):Kd(e).get(kc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,Mw)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ue(te.FAILED_PRECONDITION,Ow);return!1}}return!(!this.networkEnabled||!this.inForeground)||im(e).J().next((r=>this.ss(r,Mw).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,a=!this.inForeground&&s.inForeground,c=this.networkEnabled===s.networkEnabled;if(i||a&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&le(Ao,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[pf,Tu],(e=>{const n=new U_(e,Dr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>im(e).J().next((n=>this.ss(n,Dw).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return py.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new RU(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return fy.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){le(Ao,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(u){return u===18?P6:u===17?fk:u===16?A6:u===15?Rx:u===14?hk:u===13?dk:u===12?S6:u===11?uk:void xe(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,s,i,(c=>(a=new U_(c,this.ci?this.ci.next():Dr.ce),n==="readwrite-primary"?this.Hi(a).next((u=>!!u||this.Yi(a))).next((u=>{if(!u)throw Dn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ue(te.FAILED_PRECONDITION,tk);return r(a)})).next((u=>this.Xi(a).next((()=>u)))):this.Is(a).next((()=>r(a)))))).then((c=>(a.raiseOnCommittedEvent(),c)))}Is(e){return Kd(e).get(kc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,Mw)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ue(te.FAILED_PRECONDITION,Ow)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kd(e).put(kc,n)}static v(){return Yo.v()}Zi(e){const n=Kd(e);return n.get(kc).next((r=>this.es(r)?(le(Ao,"Releasing primary lease."),n.delete(kc)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Dn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;eR()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return le(Ao,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Dn(Ao,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Dn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Kd(t){return tn(t,pf)}function im(t){return tn(t,Tu)}function QU(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=qe(),s=qe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Hx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eR()?8:rk(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new YU;return this.Ss(e,n,a).next((c=>{if(i.result=c,this.Vs)return this.bs(e,n,a,c.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?($c()<=Ge.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",zc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):($c()<=Ge.DEBUG&&le("QueryEngine","Query:",zc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?($c()<=Ge.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",zc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):Q.resolve())}ys(e,n){if(t1(n))return Q.resolve(null);let r=Vr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=mg(n,null,"F"),r=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const a=qe(...i);return this.ps.getDocuments(e,a).next((c=>this.indexManager.getMinOffset(e,r).next((u=>{const h=this.Ds(n,c);return this.Cs(n,h,a,u.readTime)?this.ys(e,mg(n,null,"F")):this.vs(e,h,n,u)}))))})))))}ws(e,n,r,s){return t1(n)||s.isEqual(Ce.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?Q.resolve(null):($c()<=Ge.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zc(n)),this.vs(e,a,n,X3(s,Ch)).next((c=>c)))}))}Ds(e,n){let r=new dt(Dk(e));return n.forEach(((s,i)=>{yf(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return $c()<=Ge.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",zc(n)),this.ps.getDocumentsMatchingQuery(e,n,yr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="LocalStore",XU=3e8;class JU{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new It(Ue),this.xs=new zi((i=>Sl(i)),mf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function xN(t,e,n,r){return new JU(t,e,n,r)}async function EN(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],c=[];let u=qe();for(const h of s){a.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of i){c.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:c})))}))}))}function ZU(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,p){const g=h.batch,y=g.keys();let E=Q.resolve();return y.forEach((A=>{E=E.next((()=>p.getEntry(u,A))).next((I=>{const S=h.docVersions.get(A);Ae(S!==null,48541),I.version.compareTo(S)<0&&(g.applyToRemoteDocument(I,h),I.isValidDocument()&&(I.setReadTime(h.commitVersion),p.addEntry(I)))}))})),E.next((()=>c.mutationQueue.removeMutationBatch(u,g)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=qe();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function TN(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function eB(t,e){const n=Be(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach(((p,g)=>{const y=s.get(g);if(!y)return;c.push(n.Pi.removeMatchingKeys(i,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,p.addedDocuments,g))));let E=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(Qt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),s=s.insert(g,E),(function(I,S,R){return I.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=XU?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(y,E,p)&&c.push(n.Pi.updateTargetData(i,E))}));let u=pr(),h=qe();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))})),c.push(tB(i,a,e.documentUpdates).next((p=>{u=p.ks,h=p.qs}))),!r.isEqual(Ce.min())){const p=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));c.push(p)}return Q.waitFor(c).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,u,h))).next((()=>u))})).then((i=>(n.Ms=s,i)))}function tB(t,e,n){let r=qe(),s=qe();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let a=pr();return n.forEach(((c,u)=>{const h=i.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(Ce.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):le(Gx,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)})),{ks:a,qs:s}}))}function nB(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=pl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function rB(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Q.resolve(s)):n.Pi.allocateTargetId(r).next((a=>(s=new Ai(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function e0(t,e,n){const r=Be(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!da(a))throw a;le(Gx,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function N1(t,e,n){const r=Be(t);let s=Ce.min(),i=qe();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,h,p){const g=Be(u),y=g.xs.get(p);return y!==void 0?Q.resolve(g.Ms.get(y)):g.Pi.getTargetData(h,p)})(r,a,Vr(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,c.targetId).next((u=>{i=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Ce.min(),n?i:qe()))).next((c=>(sB(r,z6(e),c),{documents:c,Qs:i})))))}function sB(t,e,n){let r=t.Os.get(e)||Ce.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class D1{constructor(){this.activeTargetIds=Q6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IN{constructor(){this.Mo=new D1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new D1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="ConnectivityMonitor";class O1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(M1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(M1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om=null;function t0(){return om===null?om=(function(){return 268435456+Math.round(2147483648*Math.random())})():om++,"0x"+om.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="RestConnection",oB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===hg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=t0(),c=this.zo(e,n.toUriEncodedString());le(Vw,`Sending RPC '${e}' ${a}:`,c,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:h}=new URL(c),p=Vl(h);return this.Jo(e,c,u,r,p).then((g=>(le(Vw,`Received RPC '${e}' ${a}: `,g),g)),(g=>{throw Il(Vw,`RPC '${e}' ${a} failed with error: `,g,"url: ",c,"request:",r),g}))}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=oB[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class cB extends aB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=t0();return new Promise(((c,u)=>{const h=new WR;h.setWithCredentials(!0),h.listenOnce(qR.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Sm.NO_ERROR:const g=h.getResponseJson();le(En,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),c(g);break;case Sm.TIMEOUT:le(En,`RPC '${e}' ${a} timed out`),u(new ue(te.DEADLINE_EXCEEDED,"Request time out"));break;case Sm.HTTP_ERROR:const y=h.getStatus();if(le(En,`RPC '${e}' ${a} failed with status:`,y,"response text:",h.getResponseText()),y>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const I=(function(R){const L=R.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(L)>=0?L:te.UNKNOWN})(A.status);u(new ue(I,A.message))}else u(new ue(te.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ue(te.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{le(En,`RPC '${e}' ${a} completed.`)}}));const p=JSON.stringify(s);le(En,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const s=t0(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=KR(),c=GR(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=i.join("");le(En,`Creating RPC '${e}' stream ${s}: ${p}`,u);const g=a.createWebChannel(p,u);this.I_(g);let y=!1,E=!1;const A=new lB({Yo:S=>{E?le(En,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(y||(le(En,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),le(En,`RPC '${e}' stream ${s} sending:`,S),g.send(S))},Zo:()=>g.close()}),I=(S,R,L)=>{S.listen(R,(M=>{try{L(M)}catch(F){setTimeout((()=>{throw F}),0)}}))};return I(g,nh.EventType.OPEN,(()=>{E||(le(En,`RPC '${e}' stream ${s} transport opened.`),A.o_())})),I(g,nh.EventType.CLOSE,(()=>{E||(E=!0,le(En,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(g))})),I(g,nh.EventType.ERROR,(S=>{E||(E=!0,Il(En,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),A.a_(new ue(te.UNAVAILABLE,"The operation could not be completed")))})),I(g,nh.EventType.MESSAGE,(S=>{var R;if(!E){const L=S.data[0];Ae(!!L,16349);const M=L,F=(M==null?void 0:M.error)||((R=M[0])==null?void 0:R.error);if(F){le(En,`RPC '${e}' stream ${s} received error:`,F);const B=F.status;let G=(function(N){const O=Ht[N];if(O!==void 0)return Hk(O)})(B),k=F.message;G===void 0&&(G=te.INTERNAL,k="Unknown error status: "+B+" with message "+F.message),E=!0,A.a_(new ue(G,k)),g.close()}else le(En,`RPC '${e}' stream ${s} received:`,L),A.u_(L)}})),I(c,HR.STAT_EVENT,(S=>{S.stat===M_.PROXY?le(En,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===M_.NOPROXY&&le(En,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(){return typeof window<"u"?window:null}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t){return new dU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="PersistentStream";class SN{constructor(e,n,r,s,i,a,c,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Dn(n.toString()),Dn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ue(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(V1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(V1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dB extends SN{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pU(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Ce.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ce.min():a.readTime?Ln(a.readTime):Ce.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Q_(this.serializer),n.addTarget=(function(i,a){let c;const u=a.target;if(c=fg(u)?{documents:eN(i,u)}:{query:tN(i,u).ft},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=Qk(i,a.resumeToken);const h=G_(i,a.expectedCount);h!==null&&(c.expectedCount=h)}else if(a.snapshotVersion.compareTo(Ce.min())>0){c.readTime=ku(i,a.snapshotVersion.toTimestamp());const h=G_(i,a.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=gU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Q_(this.serializer),n.removeTarget=e,this.q_(n)}}class hB extends SN{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mU(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Q_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>yg(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{}class pB extends fB{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ue(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,K_(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(te.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Ho(e,K_(n,r),s,a,c,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(te.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dn(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="RemoteStore";class gB{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Ul(this)&&(le(Rl,"Restarting streams for network reachability change."),await(async function(u){const h=Be(u);h.Ea.add(4),await wf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await yy(h)})(this))}))})),this.Ra=new mB(r,s)}}async function yy(t){if(Ul(t))for(const e of t.da)await e(!0)}async function wf(t){for(const e of t.da)await e(!1)}function AN(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xx(n)?Yx(n):Uu(n).O_()&&Qx(n,e))}function Kx(t,e){const n=Be(t),r=Uu(n);n.Ia.delete(e),r.O_()&&PN(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ul(n)&&n.Ra.set("Unknown"))}function Qx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uu(t).Y_(e)}function PN(t,e){t.Va.Ue(e),Uu(t).Z_(e)}function Yx(t){t.Va=new aU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Uu(t).start(),t.Ra.ua()}function Xx(t){return Ul(t)&&!Uu(t).x_()&&t.Ia.size>0}function Ul(t){return Be(t).Ea.size===0}function CN(t){t.Va=void 0}async function yB(t){t.Ra.set("Online")}async function vB(t){t.Ia.forEach(((e,n)=>{Qx(t,e)}))}async function wB(t,e){CN(t),Xx(t)?(t.Ra.ha(e),Yx(t)):t.Ra.set("Unknown")}async function _B(t,e,n){if(t.Ra.set("Online"),e instanceof Kk&&e.state===2&&e.cause)try{await(async function(s,i){const a=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.Ia.delete(c),s.Va.removeTarget(c))})(t,e)}catch(r){le(Rl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eg(t,r)}else if(e instanceof Mm?t.Va.Ze(e):e instanceof Gk?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ce.min()))try{const r=await TN(t.localStore);n.compareTo(r)>=0&&await(function(i,a){const c=i.Va.Tt(a);return c.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=i.Ia.get(h);p&&i.Ia.set(h,p.withResumeToken(u.resumeToken,a))}})),c.targetMismatches.forEach(((u,h)=>{const p=i.Ia.get(u);if(!p)return;i.Ia.set(u,p.withResumeToken(Qt.EMPTY_BYTE_STRING,p.snapshotVersion)),PN(i,u);const g=new Ai(p.target,u,h,p.sequenceNumber);Qx(i,g)})),i.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){le(Rl,"Failed to raise snapshot:",r),await Eg(t,r)}}async function Eg(t,e,n){if(!da(e))throw e;t.Ea.add(1),await wf(t),t.Ra.set("Offline"),n||(n=()=>TN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(Rl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await yy(t)}))}function RN(t,e){return e().catch((n=>Eg(t,n,e)))}async function _f(t){const e=Be(t),n=na(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pl;for(;xB(e);)try{const s=await nB(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,EB(e,s)}catch(s){await Eg(e,s)}kN(e)&&NN(e)}function xB(t){return Ul(t)&&t.Ta.length<10}function EB(t,e){t.Ta.push(e);const n=na(t);n.O_()&&n.X_&&n.ea(e.mutations)}function kN(t){return Ul(t)&&!na(t).x_()&&t.Ta.length>0}function NN(t){na(t).start()}async function TB(t){na(t).ra()}async function IB(t){const e=na(t);for(const n of t.Ta)e.ea(n.mutations)}async function bB(t,e,n){const r=t.Ta.shift(),s=Lx.from(r,e,n);await RN(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await _f(t)}async function SB(t,e){e&&na(t).X_&&await(async function(r,s){if((function(a){return sU(a)&&a!==te.ABORTED})(s.code)){const i=r.Ta.shift();na(r).B_(),await RN(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await _f(r)}})(t,e),kN(t)&&NN(t)}async function L1(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),le(Rl,"RemoteStore received new credentials");const r=Ul(n);n.Ea.add(3),await wf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yy(n)}async function AB(t,e){const n=Be(t);e?(n.Ea.delete(2),await yy(n)):e||(n.Ea.add(2),await wf(n),n.Ra.set("Unknown"))}function Uu(t){return t.ma||(t.ma=(function(n,r,s){const i=Be(n);return i.sa(),new dB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:yB.bind(null,t),t_:vB.bind(null,t),r_:wB.bind(null,t),H_:_B.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Xx(t)?Yx(t):t.Ra.set("Unknown")):(await t.ma.stop(),CN(t))}))),t.ma}function na(t){return t.fa||(t.fa=(function(n,r,s){const i=Be(n);return i.sa(),new hB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:TB.bind(null,t),r_:SB.bind(null,t),ta:IB.bind(null,t),na:bB.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await _f(t)):(await t.fa.stop(),t.Ta.length>0&&(le(Rl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,c=new Jx(e,n,a,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zx(t,e){if(Dn("AsyncQueue",`${e}: ${t}`),da(t))return new ue(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{static emptySet(e){return new nu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=rh(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.ga=new It(he.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Nu{constructor(e,n,r,s,i,a,c,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach((c=>{a.push({type:0,doc:c})})),new Nu(e,n,nu.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ly(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CB{constructor(){this.queries=j1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Be(n),i=s.queries;s.queries=j1(),i.forEach(((a,c)=>{for(const u of c.Sa)u.onError(r)}))})(this,new ue(te.ABORTED,"Firestore shutting down"))}}function j1(){return new zi((t=>Nk(t)),ly)}async function eE(t,e){const n=Be(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new PB,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const c=Zx(a,`Initialization of query '${zc(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&nE(n)}async function tE(t,e){const n=Be(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RB(t,e){const n=Be(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const c of a.Sa)c.Fa(s)&&(r=!0);a.wa=s}}r&&nE(n)}function kB(t,e,n){const r=Be(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function nE(t){t.Ca.forEach((e=>{e.next()}))}var n0,U1;(U1=n0||(n0={})).Ma="default",U1.Cache="cache";class rE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Nu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==n0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.key=e}}class MN{constructor(e){this.key=e}}class NB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=Dk(e),this.tu=new nu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new F1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,g)=>{const y=s.get(p),E=yf(this.query,g)?g:null,A=!!y&&this.mutatedKeys.has(y.key),I=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let S=!1;y&&E?y.data.isEqual(E.data)?A!==I&&(r.track({type:3,doc:E}),S=!0):this.su(y,E)||(r.track({type:2,doc:E}),S=!0,(u&&this.eu(E,u)>0||h&&this.eu(E,h)<0)&&(c=!0)):!y&&E?(r.track({type:0,doc:E}),S=!0):y&&!E&&(r.track({type:1,doc:y}),S=!0,(u||h)&&(c=!0)),S&&(E?(a=a.add(E),i=I?i.add(p):i.delete(p)):(a=a.delete(p),i=i.delete(p)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{tu:a,iu:r,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((p,g)=>(function(E,A){const I=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:S})}};return I(E)-I(A)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,h=u!==this.Za;return this.Za=u,a.length!==0||h?{snapshot:new Nu(this.query,e.tu,i,a,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new F1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new MN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new DN(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Nu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sE="SyncEngine";class DB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MB{constructor(e){this.key=e,this.hu=!1}}class OB{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new zi((c=>Nk(c)),ly),this.Iu=new Map,this.Eu=new Set,this.du=new It(he.comparator),this.Au=new Map,this.Ru=new zx,this.Vu={},this.mu=new Map,this.fu=Cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VB(t,e,n=!0){const r=UN(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await ON(r,e,n,!0),s}async function LB(t,e){const n=UN(t);await ON(n,e,!0,!1)}async function ON(t,e,n,r){const s=await rB(t.localStore,Vr(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await FB(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&AN(t.remoteStore,s),c}async function FB(t,e,n,r,s){t.pu=(g,y,E)=>(async function(I,S,R,L){let M=S.view.ru(R);M.Cs&&(M=await N1(I.localStore,S.query,!1).then((({documents:k})=>S.view.ru(k,M))));const F=L&&L.targetChanges.get(S.targetId),B=L&&L.targetMismatches.get(S.targetId)!=null,G=S.view.applyChanges(M,I.isPrimaryClient,F,B);return $1(I,S.targetId,G.au),G.snapshot})(t,g,y,E);const i=await N1(t.localStore,e,!0),a=new NB(e,i.Qs),c=a.ru(i.documents),u=vf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=a.applyChanges(c,t.isPrimaryClient,u);$1(t,n,h.au);const p=new DB(e,n,a);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function jB(t,e,n){const r=Be(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((a=>!ly(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await e0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Kx(r.remoteStore,s.targetId),r0(r,s.targetId)})).catch(jl)):(r0(r,s.targetId),await e0(r.localStore,s.targetId,!0))}async function UB(t,e){const n=Be(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kx(n.remoteStore,r.targetId))}async function BB(t,e,n){const r=BN(t);try{const s=await(function(a,c){const u=Be(a),h=rt.now(),p=c.reduce(((E,A)=>E.add(A.key)),qe());let g,y;return u.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let A=pr(),I=qe();return u.Ns.getEntries(E,p).next((S=>{A=S,A.forEach(((R,L)=>{L.isValidDocument()||(I=I.add(R))}))})).next((()=>u.localDocuments.getOverlayedDocuments(E,A))).next((S=>{g=S;const R=[];for(const L of c){const M=nU(L,g.get(L.key).overlayedDocument);M!=null&&R.push(new Wi(L.key,M,Tk(M.value.mapValue),bn.exists(!0)))}return u.mutationQueue.addMutationBatch(E,h,R,c)})).next((S=>{y=S;const R=S.applyToLocalDocumentSet(g,I);return u.documentOverlayCache.saveOverlays(E,S.batchId,R)}))})).then((()=>({batchId:y.batchId,changes:Ok(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(a,c,u){let h=a.Vu[a.currentUser.toKey()];h||(h=new It(Ue)),h=h.insert(c,u),a.Vu[a.currentUser.toKey()]=h})(r,s.batchId,n),await xf(r,s.changes),await _f(r.remoteStore)}catch(s){const i=Zx(s,"Failed to persist write");n.reject(i)}}async function VN(t,e){const n=Be(t);try{const r=await eB(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const a=n.Au.get(i);a&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Ae(a.hu,14607):s.removedDocuments.size>0&&(Ae(a.hu,42227),a.hu=!1))})),await xf(n,r,e)}catch(r){await jl(r)}}function B1(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,a)=>{const c=a.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(a,c){const u=Be(a);u.onlineState=c;let h=!1;u.queries.forEach(((p,g)=>{for(const y of g.Sa)y.va(c)&&(h=!0)})),h&&nE(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $B(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new It(he.comparator);a=a.insert(i,Vt.newNoDocument(i,Ce.min()));const c=qe().add(i),u=new hy(Ce.min(),new Map,new It(Ue),a,c);await VN(r,u),r.du=r.du.remove(i),r.Au.delete(e),iE(r)}else await e0(r.localStore,e,!1).then((()=>r0(r,e,n))).catch(jl)}async function zB(t,e){const n=Be(t),r=e.batch.batchId;try{const s=await ZU(n.localStore,e);FN(n,r,null),LN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xf(n,s)}catch(s){await jl(s)}}async function WB(t,e,n){const r=Be(t);try{const s=await(function(a,c){const u=Be(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return u.mutationQueue.lookupMutationBatch(h,c).next((g=>(Ae(g!==null,37113),p=g.keys(),u.mutationQueue.removeMutationBatch(h,g)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>u.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);FN(r,e,n),LN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xf(r,s)}catch(s){await jl(s)}}function LN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function FN(t,e,n){const r=Be(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function r0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||jN(t,r)}))}function jN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Kx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),iE(t))}function $1(t,e,n){for(const r of n)r instanceof DN?(t.Ru.addReference(r.key,e),qB(t,r)):r instanceof MN?(le(sE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||jN(t,r.key)):xe(19791,{wu:r})}function qB(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(sE,"New document in limbo: "+n),t.Eu.add(r),iE(t))}function iE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new he(ot.fromString(e)),r=t.fu.next();t.Au.set(r,new MB(n)),t.du=t.du.insert(n,r),AN(t.remoteStore,new Ai(Vr(gf(n.path)),r,"TargetPurposeLimboResolution",Dr.ce))}}async function xf(t,e,n){const r=Be(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,u)=>{a.push(r.pu(u,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){s.push(h);const g=Hx.As(u.targetId,h);i.push(g)}})))})),await Promise.all(a),r.Pu.H_(s),await(async function(u,h){const p=Be(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Q.forEach(h,(y=>Q.forEach(y.Es,(E=>p.persistence.referenceDelegate.addReference(g,y.targetId,E))).next((()=>Q.forEach(y.ds,(E=>p.persistence.referenceDelegate.removeReference(g,y.targetId,E)))))))))}catch(g){if(!da(g))throw g;le(Gx,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const E=p.Ms.get(y),A=E.snapshotVersion,I=E.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(y,I)}}})(r.localStore,i))}async function HB(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){le(sE,"User change. New user:",e.toKey());const r=await EN(n.localStore,e);n.currentUser=e,(function(i,a){i.mu.forEach((c=>{c.forEach((u=>{u.reject(new ue(te.CANCELLED,a))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xf(n,r.Ls)}}function GB(t,e){const n=Be(t),r=n.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let s=qe();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const c=n.Tu.get(a);s=s.unionWith(c.view.nu)}return s}}function UN(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$B.bind(null,e),e.Pu.H_=RB.bind(null,e.eventManager),e.Pu.yu=kB.bind(null,e.eventManager),e}function BN(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WB.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return xN(this.persistence,new _N,e.initialUser,this.serializer)}Cu(e){return new Wx(my.mi,this.serializer)}Du(e){return new IN}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class KB extends Bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ae(this.persistence.referenceDelegate instanceof xg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new Wx((r=>xg.mi(r,n)),this.serializer)}}class QB extends Bh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await BN(this.xu.syncEngine),await _f(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return xN(this.persistence,new _N,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new mN(r,e.asyncQueue,n)}Mu(e,n){const r=new t6(n,this.persistence);return new e6(e.asyncQueue,r)}Cu(e){const n=QU(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new qx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,uB(),Vm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new IN}}class Tg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HB.bind(null,this.syncEngine),await AB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CB})()}createDatastore(e){const n=gy(e.databaseInfo.databaseId),r=(function(i){return new cB(i)})(e.databaseInfo);return(function(i,a,c,u){return new pB(i,a,c,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,a,c){return new gB(r,s,i,a,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>B1(this.syncEngine,n,0)),(function(){return O1.v()?new O1:new iB})())}createSyncEngine(e,n){return(function(s,i,a,c,u,h,p){const g=new OB(s,i,a,c,u,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const i=Be(s);le(Rl,"RemoteStore shutting down."),i.Ea.add(5),await wf(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Tg.provider={build:()=>new Tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Dn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="FirestoreClient";class YB{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=pn.UNAUTHENTICATED,this.clientId=Ix.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{le(ra,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(le(ra,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lw(t,e){t.asyncQueue.verifyOperationInProgress(),le(ra,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await EN(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function z1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XB(t);le(ra,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>L1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>L1(e.remoteStore,s))),t._onlineComponents=e}async function XB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(ra,"Using user provided OfflineComponentProvider");try{await Lw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Il("Error using user provided cache. Falling back to memory cache: "+n),await Lw(t,new Bh)}}else le(ra,"Using default OfflineComponentProvider"),await Lw(t,new KB(void 0));return t._offlineComponents}async function $N(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(ra,"Using user provided OnlineComponentProvider"),await z1(t,t._uninitializedComponentsProvider._online)):(le(ra,"Using default OnlineComponentProvider"),await z1(t,new Tg))),t._onlineComponents}function JB(t){return $N(t).then((e=>e.syncEngine))}async function Ig(t){const e=await $N(t),n=e.eventManager;return n.onListen=VB.bind(null,e.syncEngine),n.onUnlisten=jB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UB.bind(null,e.syncEngine),n}function ZB(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,c,u,h){const p=new oE({next:y=>{p.Nu(),a.enqueueAndForget((()=>tE(i,g)));const E=y.docs.has(c);!E&&y.fromCache?h.reject(new ue(te.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&y.fromCache&&u&&u.source==="server"?h.reject(new ue(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new rE(gf(c.path),p,{includeMetadataChanges:!0,qa:!0});return eE(i,g)})(await Ig(t),t.asyncQueue,e,n,r))),r.promise}function e9(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,c,u,h){const p=new oE({next:y=>{p.Nu(),a.enqueueAndForget((()=>tE(i,g))),y.fromCache&&u.source==="server"?h.reject(new ue(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new rE(c,p,{includeMetadataChanges:!0,qa:!0});return eE(i,g)})(await Ig(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="firestore.googleapis.com",q1=!0;class H1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WN,this.ssl=q1}else this.host=e.host,this.ssl=e.ssl??q1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NU)throw new ue(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new j3;switch(r.type){case"firstParty":return new z3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=W1.get(n);r&&(le("ComponentProvider","Removing Datastore"),W1.delete(n),r.terminate())})(this),Promise.resolve()}}function t9(t,e,n,r={}){var h;t=Vn(t,vy);const s=Vl(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(ux(`https://${c}`),dx("Firestore",!0)),i.host!==WN&&i.host!==c&&Il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:c,ssl:s,emulatorOptions:r};if(!Zo(u,a)&&(t._setSettings(u),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=pn.MOCK_USER;else{p=JC(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ue(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new pn(y)}t._authCredentials=new U3(new YR(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl=class qN{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qN(this.firestore,e,this._query)}};class Lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ff(n,Lt._jsonSchema))return new Lt(e,r||null,new he(ot.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Kt("string",Lt._jsonSchemaVersion),referencePath:Kt("string")};class Xo extends Bl{constructor(e,n,r){super(e,n,gf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new he(e))}withConverter(e){return new Xo(this.firestore,e,this._path)}}function Pn(t,e,...n){if(t=Rt(t),JR("collection","path",e),t instanceof vy){const r=ot.fromString(e,...n);return VS(r),new Xo(t,null,r)}{if(!(t instanceof Lt||t instanceof Xo))throw new ue(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return VS(r),new Xo(t.firestore,null,r)}}function Xs(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=Ix.newId()),JR("doc","path",e),t instanceof vy){const r=ot.fromString(e,...n);return OS(r),new Lt(t,null,new he(r))}{if(!(t instanceof Lt||t instanceof Xo))throw new ue(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return OS(r),new Lt(t.firestore,t instanceof Xo?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="AsyncQueue";class K1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bN(this,"async_queue_retry"),this._c=()=>{const r=Vm();r&&le(G1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!da(e))throw e;le(G1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Dn("INTERNAL UNHANDLED ERROR: ",Q1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Jx.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&xe(47125,{Pc:Q1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Q1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(t,["next","error","complete"])}class Gs extends vy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new K1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K1(e),this._firestoreClient=void 0,await e}}}function wy(t,e){const n=typeof t=="object"?t:Qg(),r=typeof t=="string"?t:hg,s=ca(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=QC("firestore");i&&t9(s,...i)}return s}function _y(t){if(t._terminated)throw new ue(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HN(t),t._firestoreClient}function HN(t){var r,s,i;const e=t._freezeSettings(),n=(function(c,u,h,p){return new R6(c,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,zN(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YB(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}})(t._componentsProvider))}function n9(t,e){Il("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return r9(t,Tg.provider,{build:r=>new QB(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function r9(t,e,n){if((t=Vn(t,Gs))._firestoreClient||t._terminated)throw new ue(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ue(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},HN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nr(Qt.fromBase64String(e))}catch(n){throw new ue(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nr(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ff(e,Nr._jsonSchema))return Nr.fromBase64String(e.bytes)}}Nr._jsonSchemaVersion="firestore/bytes/1.0",Nr._jsonSchema={type:Kt("string",Nr._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Us._jsonSchemaVersion}}static fromJSON(e){if(ff(e,Us._jsonSchema))return new Us(e.latitude,e.longitude)}}Us._jsonSchemaVersion="firestore/geoPoint/1.0",Us._jsonSchema={type:Kt("string",Us._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ff(e,Bs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bs(e.vectorValues);throw new ue(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bs._jsonSchemaVersion="firestore/vectorValue/1.0",Bs._jsonSchema={type:Kt("string",Bs._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=/^__.*__$/;class i9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}class GN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class aE{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new aE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KN(this.Ac)&&s9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class o9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gy(e)}Cc(e,n,r,s=!1){return new aE({Ac:e,methodName:n,Dc:r,path:At.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ty(t){const e=t._freezeSettings(),n=gy(t._databaseId);return new o9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QN(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);cE("Data must be an object, but it was:",a,r);const c=YN(r,a);let u,h;if(i.merge)u=new Yn(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const y=s0(e,g,n);if(!a.contains(y))throw new ue(te.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);JN(p,y)||p.push(y)}u=new Yn(p),h=a.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,h=a.fieldTransforms;return new i9(new In(c),u,h)}class Iy extends Ey{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iy}}class lE extends Ey{_toFieldTransform(e){return new $k(e.path,new Pu)}isEqual(e){return e instanceof lE}}function a9(t,e,n,r){const s=t.Cc(1,e,n);cE("Data must be an object, but it was:",s,r);const i=[],a=In.empty();ha(r,((u,h)=>{const p=uE(e,u,n);h=Rt(h);const g=s.yc(p);if(h instanceof Iy)i.push(p);else{const y=Ef(h,g);y!=null&&(i.push(p),a.set(p,y))}}));const c=new Yn(i);return new GN(a,c,s.fieldTransforms)}function l9(t,e,n,r,s,i){const a=t.Cc(1,e,n),c=[s0(e,r,n)],u=[s];if(i.length%2!=0)throw new ue(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)c.push(s0(e,i[y])),u.push(i[y+1]);const h=[],p=In.empty();for(let y=c.length-1;y>=0;--y)if(!JN(h,c[y])){const E=c[y];let A=u[y];A=Rt(A);const I=a.yc(E);if(A instanceof Iy)h.push(E);else{const S=Ef(A,I);S!=null&&(h.push(E),p.set(E,S))}}const g=new Yn(h);return new GN(p,g,a.fieldTransforms)}function c9(t,e,n,r=!1){return Ef(n,t.Cc(r?4:3,e))}function Ef(t,e){if(XN(t=Rt(t)))return cE("Unsupported field value:",e,t),YN(t,e);if(t instanceof Ey)return(function(r,s){if(!KN(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let a=0;for(const c of r){let u=Ef(c,s.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),a++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Y6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=rt.fromDate(r);return{timestampValue:ku(s.serializer,i)}}if(r instanceof rt){const i=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ku(s.serializer,i)}}if(r instanceof Us)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nr)return{bytesValue:Qk(s.serializer,r._byteString)};if(r instanceof Lt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ux(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Bs)return(function(a,c){return{mapValue:{fields:{[Nx]:{stringValue:Dx},[Iu]:{arrayValue:{values:a.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return Ox(c.serializer,h)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${ey(r)}`)})(t,e)}function YN(t,e){const n={};return pk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(t,((r,s)=>{const i=Ef(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function XN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Us||t instanceof Nr||t instanceof Lt||t instanceof Ey||t instanceof Bs)}function cE(t,e,n){if(!XN(n)||!ZR(n)){const r=ey(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function s0(t,e,n){if((e=Rt(e))instanceof xy)return e._internalPath;if(typeof e=="string")return uE(t,e);throw bg("Field path arguments must be of type string or ",t,!1,void 0,n)}const u9=new RegExp("[~\\*/\\[\\]]");function uE(t,e,n){if(e.search(u9)>=0)throw bg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xy(...e.split("."))._internalPath}catch{throw bg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bg(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(i||a)&&(u+=" (found",i&&(u+=` in field ${r}`),a&&(u+=` in document ${s}`),u+=")"),new ue(te.INVALID_ARGUMENT,c+t+u)}function JN(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(by("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d9 extends ZN{data(){return super.data()}}function by(t,e){return typeof e=="string"?uE(t,e):e instanceof xy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dE{}class hE extends dE{}function is(t,e,...n){let r=[];e instanceof dE&&r.push(e),r=r.concat(n),(function(i){const a=i.filter((u=>u instanceof fE)).length,c=i.filter((u=>u instanceof Sy)).length;if(a>1||a>0&&c>0)throw new ue(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Sy extends hE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sy(e,n,r)}_apply(e){const n=this._parse(e);return tD(e._query,n),new Bl(e.firestore,e.converter,H_(e._query,n))}_parse(e){const n=Ty(e.firestore);return(function(i,a,c,u,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ue(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){J1(g,p);const A=[];for(const I of g)A.push(X1(u,i,I));y={arrayValue:{values:A}}}else y=X1(u,i,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||J1(g,p),y=c9(c,a,g,p==="in"||p==="not-in");return Ke.create(h,p,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mr(t,e,n){const r=e,s=by("where",t);return Sy._create(s,r,n)}class fE extends dE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ut.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let a=s;const c=i.getFlattenedFilters();for(const u of c)tD(a,u),a=H_(a,u)})(e._query,n),new Bl(e.firestore,e.converter,H_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pE extends hE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pE(e,n)}_apply(e){const n=(function(s,i,a){if(s.startAt!==null)throw new ue(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ue(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jh(i,a)})(e._query,this._field,this._direction);return new Bl(e.firestore,e.converter,(function(s,i){const a=s.explicitOrderBy.concat([i]);return new Fu(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function Bu(t,e="asc"){const n=e,r=by("orderBy",t);return pE._create(r,n)}class mE extends hE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new mE(e,n,r)}_apply(e){return new Bl(e.firestore,e.converter,mg(e._query,this._limit,this._limitType))}}function gE(t){return Y3("limit",t),mE._create("limit",t,"F")}function X1(t,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new ue(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kk(e)&&n.indexOf("/")!==-1)throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!he.isDocumentKey(r))throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lh(t,new he(r))}if(n instanceof Lt)return Lh(t,n._key);throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ey(n)}.`)}function J1(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tD(t,e){const n=(function(s,i){for(const a of s)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class h9{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ha(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Iu].arrayValue)==null?void 0:s.values)==null?void 0:i.map((a=>Et(a.doubleValue)));return new Bs(n)}convertGeoPoint(e){return new Us(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=oy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oh(e));default:return null}}convertTimestamp(e){const n=Di(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Ae(iN(r),9688,{name:e});const s=new bl(r.get(1),r.get(3)),i=new he(r.popFirst(5));return s.isEqual(n)||Dn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class oh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yl extends ZN{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(by("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=yl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",yl._jsonSchema={type:Kt("string",yl._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Lm extends yl{data(e={}){return super.data(e)}}class vl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new oh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Lm(this._firestore,this._userDataWriter,r.key,r,new oh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map((c=>{const u=new Lm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new oh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const u=new Lm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new oh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),p=a.indexOf(c.doc.key)),{type:f9(c.type),doc:u,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ix.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){t=Vn(t,Lt);const e=Vn(t.firestore,Gs);return ZB(_y(e),t._key).then((n=>iD(e,t,n)))}vl._jsonSchemaVersion="firestore/querySnapshot/1.0",vl._jsonSchema={type:Kt("string",vl._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class yE extends h9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function os(t){t=Vn(t,Bl);const e=Vn(t.firestore,Gs),n=_y(e),r=new yE(e);return eD(t._query),e9(n,t._query).then((s=>new vl(e,r,t,s)))}function Ay(t,e,n){t=Vn(t,Lt);const r=Vn(t.firestore,Gs),s=nD(t.converter,e,n);return Cy(r,[QN(Ty(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,bn.none())])}function Py(t,e,n,...r){t=Vn(t,Lt);const s=Vn(t.firestore,Gs),i=Ty(s);let a;return a=typeof(e=Rt(e))=="string"||e instanceof xy?l9(i,"updateDoc",t._key,e,n,r):a9(i,"updateDoc",t._key,e),Cy(s,[a.toMutation(t._key,bn.exists(!0))])}function dne(t){return Cy(Vn(t.firestore,Gs),[new dy(t._key,bn.none())])}function vE(t,e){const n=Vn(t.firestore,Gs),r=Xs(t),s=nD(t.converter,e);return Cy(n,[QN(Ty(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,bn.exists(!1))]).then((()=>r))}function sD(t,...e){var u,h,p;t=Rt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Y1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Y1(e[r])){const g=e[r];e[r]=(u=g.next)==null?void 0:u.bind(g),e[r+1]=(h=g.error)==null?void 0:h.bind(g),e[r+2]=(p=g.complete)==null?void 0:p.bind(g)}let i,a,c;if(t instanceof Lt)a=Vn(t.firestore,Gs),c=gf(t._key.path),i={next:g=>{e[r]&&e[r](iD(a,t,g))},error:e[r+1],complete:e[r+2]};else{const g=Vn(t,Bl);a=Vn(g.firestore,Gs),c=g._query;const y=new yE(a);i={next:E=>{e[r]&&e[r](new vl(a,y,g,E))},error:e[r+1],complete:e[r+2]},eD(t._query)}return(function(y,E,A,I){const S=new oE(I),R=new rE(E,S,A);return y.asyncQueue.enqueueAndForget((async()=>eE(await Ig(y),R))),()=>{S.Nu(),y.asyncQueue.enqueueAndForget((async()=>tE(await Ig(y),R)))}})(_y(a),c,s,i)}function Cy(t,e){return(function(r,s){const i=new js;return r.asyncQueue.enqueueAndForget((async()=>BB(await JB(r),s,i))),i.promise})(_y(t),e)}function iD(t,e,n){const r=n.docs.get(e._key),s=new yE(t);return new yl(t,s,e._key,r,new oh(n.hasPendingWrites,n.fromCache),e.converter)}function Mn(){return new lE("serverTimestamp")}(function(e,n=!0){(function(s){Lu=s})(Fl),rs(new jr("firestore",((r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),c=new Gs(new B3(r.getProvider("auth-internal")),new W3(a,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ue(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(h.options.projectId,p)})(a,s),a);return i={useFetchStreams:n,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),Jn(kS,NS,e),Jn(kS,NS,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="firebasestorage.googleapis.com",p9="storageBucket",m9=120*1e3,g9=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Ur{constructor(e,n,r=0){super(Fw(e),`Firebase Storage: ${n} (${Fw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Js.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ks;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ks||(Ks={}));function Fw(t){return"storage/"+t}function y9(){const t="An unknown error occurred, please check the error payload for server response.";return new Js(Ks.UNKNOWN,t)}function v9(){return new Js(Ks.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function w9(){return new Js(Ks.CANCELED,"User canceled the upload/download.")}function _9(t){return new Js(Ks.INVALID_URL,"Invalid URL '"+t+"'.")}function x9(t){return new Js(Ks.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Z1(t){return new Js(Ks.INVALID_ARGUMENT,t)}function aD(){return new Js(Ks.APP_DELETED,"The Firebase app was deleted.")}function E9(t){return new Js(Ks.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ns.makeFromUrl(e,n)}catch{return new ns(e,"")}if(r.path==="")return r;throw x9(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+s+a,"i"),u={bucket:1,path:3};function h(F){F.path_=decodeURIComponent(F.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",E=new RegExp(`^https?://${g}/${p}/b/${s}/o${y}`,"i"),A={bucket:1,path:3},I=n===oD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",R=new RegExp(`^https?://${I}/${s}/${S}`,"i"),M=[{regex:c,indices:u,postModify:i},{regex:E,indices:A,postModify:h},{regex:R,indices:{bucket:1,path:2},postModify:h}];for(let F=0;F<M.length;F++){const B=M[F],G=B.regex.exec(e);if(G){const k=G[B.indices.bucket];let P=G[B.indices.path];P||(P=""),r=new ns(k,P),B.postModify(r);break}}if(r==null)throw _9(e);return r}}class T9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t,e,n){let r=1,s=null,i=null,a=!1,c=0;function u(){return c===2}let h=!1;function p(...S){h||(h=!0,e.apply(null,S))}function g(S){s=setTimeout(()=>{s=null,t(E,u())},S)}function y(){i&&clearTimeout(i)}function E(S,...R){if(h){y();return}if(S){y(),p.call(null,S,...R);return}if(u()||a){y(),p.call(null,S,...R);return}r<64&&(r*=2);let M;c===1?(c=2,M=0):M=(r+Math.random())*1e3,g(M)}let A=!1;function I(S){A||(A=!0,y(),!h&&(s!==null?(S||(c=2),clearTimeout(s),g(0)):S||(c=1)))}return g(0),i=setTimeout(()=>{a=!0,I(!0)},n),I}function b9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t){return t!==void 0}function eA(t,e,n,r){if(r<e)throw Z1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Z1(`Invalid value for '${t}'. Expected ${n} or less.`)}function A9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Sg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Sg||(Sg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n,r,s,i,a,c,u,h,p,g,y=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,I)=>{this.resolve_=A,this.reject_=I,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new am(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=c=>{const u=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const c=i.getErrorCode()===Sg.NO_ERROR,u=i.getStatus();if(!c||P9(u,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===Sg.ABORT;r(!1,new am(!1,null,p));return}const h=this.successCodes_.indexOf(u)!==-1;r(!0,new am(h,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());S9(u)?i(u):i()}catch(u){a(u)}else if(c!==null){const u=y9();u.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,u)):a(u)}else if(s.canceled){const u=this.appDelete_?aD():w9();a(u)}else{const u=v9();a(u)}};this.canceled_?n(!1,new am(!1,null,!0)):this.backoffId_=I9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&b9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class am{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function R9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function k9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function N9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function D9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function M9(t,e,n,r,s,i,a=!0,c=!1){const u=A9(t.urlParams),h=t.url+u,p=Object.assign({},t.headers);return N9(p,e),R9(p,n),k9(p,i),D9(p,r),new C9(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function V9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this._service=e,n instanceof ns?this._location=n:this._location=ns.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ag(e,n)}get root(){const e=new ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V9(this._location.path)}get storage(){return this._service}get parent(){const e=O9(this._location.path);if(e===null)return null;const n=new ns(this._location.bucket,e);return new Ag(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw E9(e)}}function tA(t,e){const n=e==null?void 0:e[p9];return n==null?null:ns.makeFromBucketSpec(n,t)}function L9(t,e,n,r={}){t.host=`${e}:${n}`;const s=Vl(e);s&&(ux(`https://${t.host}/b`),dx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:JC(i,t.app.options.projectId))}class F9{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=oD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=m9,this._maxUploadRetryTime=g9,this._requests=new Set,s!=null?this._bucket=ns.makeFromBucketSpec(s,this._host):this._bucket=tA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ns.makeFromBucketSpec(this._url,e):this._bucket=tA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ag(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new T9(aD());{const a=M9(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const nA="@firebase/storage",rA="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="storage";function j9(t=Qg(),e){t=Rt(t);const r=ca(t,lD).getImmediate({identifier:e}),s=QC("storage");return s&&U9(r,...s),r}function U9(t,e,n,r={}){L9(t,e,n,r)}function B9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new F9(n,r,s,e,Fl)}function $9(){rs(new jr(lD,B9,"PUBLIC").setMultipleInstances(!0)),Jn(nA,rA,""),Jn(nA,rA,"esm2020")}$9();const cD="@firebase/installations",wE="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=1e4,dD=`w:${wE}`,hD="FIS_v2",z9="https://firebaseinstallations.googleapis.com/v1",W9=3600*1e3,q9="installations",H9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},kl=new Ll(q9,H9,G9);function fD(t){return t instanceof Ur&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD({projectId:t}){return`${z9}/projects/${t}/installations`}function mD(t){return{token:t.token,requestStatus:2,expiresIn:Q9(t.expiresIn),creationTime:Date.now()}}async function gD(t,e){const r=(await e.json()).error;return kl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function yD({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function K9(t,{refreshToken:e}){const n=yD(t);return n.append("Authorization",Y9(e)),n}async function vD(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Q9(t){return Number(t.replace("s","000"))}function Y9(t){return`${hD} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=pD(t),s=yD(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={fid:n,authVersion:hD,appId:t.appId,sdkVersion:dD},c={method:"POST",headers:s,body:JSON.stringify(a)},u=await vD(()=>fetch(r,c));if(u.ok){const h=await u.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:mD(h.authToken)}}else throw await gD("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=/^[cdef][\w-]{21}$/,i0="";function e$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=t$(t);return Z9.test(n)?n:i0}catch{return i0}}function t$(t){return J9(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new Map;function xD(t,e){const n=Ry(t);ED(n,e),n$(n,e)}function ED(t,e){const n=_D.get(t);if(n)for(const r of n)r(e)}function n$(t,e){const n=r$();n&&n.postMessage({key:t,fid:e}),s$()}let el=null;function r$(){return!el&&"BroadcastChannel"in self&&(el=new BroadcastChannel("[Firebase] FID Change"),el.onmessage=t=>{ED(t.data.key,t.data.fid)}),el}function s$(){_D.size===0&&el&&(el.close(),el=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$="firebase-installations-database",o$=1,Nl="firebase-installations-store";let jw=null;function _E(){return jw||(jw=iR(i$,o$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Nl)}}})),jw}async function Pg(t,e){const n=Ry(t),s=(await _E()).transaction(Nl,"readwrite"),i=s.objectStore(Nl),a=await i.get(n);return await i.put(e,n),await s.done,(!a||a.fid!==e.fid)&&xD(t,e.fid),e}async function TD(t){const e=Ry(t),r=(await _E()).transaction(Nl,"readwrite");await r.objectStore(Nl).delete(e),await r.done}async function ky(t,e){const n=Ry(t),s=(await _E()).transaction(Nl,"readwrite"),i=s.objectStore(Nl),a=await i.get(n),c=e(a);return c===void 0?await i.delete(n):await i.put(c,n),await s.done,c&&(!a||a.fid!==c.fid)&&xD(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xE(t){let e;const n=await ky(t.appConfig,r=>{const s=a$(r),i=l$(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===i0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function a$(t){const e=t||{fid:e$(),registrationStatus:0};return ID(e)}function l$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(kl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=c$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:u$(t)}:{installationEntry:e}}async function c$(t,e){try{const n=await X9(t,e);return Pg(t.appConfig,n)}catch(n){throw fD(n)&&n.customData.serverCode===409?await TD(t.appConfig):await Pg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function u$(t){let e=await sA(t.appConfig);for(;e.registrationStatus===1;)await wD(100),e=await sA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await xE(t);return r||n}return e}function sA(t){return ky(t,e=>{if(!e)throw kl.create("installation-not-found");return ID(e)})}function ID(t){return d$(t)?{fid:t.fid,registrationStatus:0}:t}function d$(t){return t.registrationStatus===1&&t.registrationTime+uD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h$({appConfig:t,heartbeatServiceProvider:e},n){const r=f$(t,n),s=K9(t,n),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={installation:{sdkVersion:dD,appId:t.appId}},c={method:"POST",headers:s,body:JSON.stringify(a)},u=await vD(()=>fetch(r,c));if(u.ok){const h=await u.json();return mD(h)}else throw await gD("Generate Auth Token",u)}function f$(t,{fid:e}){return`${pD(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EE(t,e=!1){let n;const r=await ky(t.appConfig,i=>{if(!bD(i))throw kl.create("not-registered");const a=i.authToken;if(!e&&g$(a))return i;if(a.requestStatus===1)return n=p$(t,e),i;{if(!navigator.onLine)throw kl.create("app-offline");const c=v$(i);return n=m$(t,c),c}});return n?await n:r.authToken}async function p$(t,e){let n=await iA(t.appConfig);for(;n.authToken.requestStatus===1;)await wD(100),n=await iA(t.appConfig);const r=n.authToken;return r.requestStatus===0?EE(t,e):r}function iA(t){return ky(t,e=>{if(!bD(e))throw kl.create("not-registered");const n=e.authToken;return w$(n)?{...e,authToken:{requestStatus:0}}:e})}async function m$(t,e){try{const n=await h$(t,e),r={...e,authToken:n};return await Pg(t.appConfig,r),n}catch(n){if(fD(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await TD(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Pg(t.appConfig,r)}throw n}}function bD(t){return t!==void 0&&t.registrationStatus===2}function g$(t){return t.requestStatus===2&&!y$(t)}function y$(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+W9}function v$(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function w$(t){return t.requestStatus===1&&t.requestTime+uD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _$(t){const e=t,{installationEntry:n,registrationPromise:r}=await xE(e);return r?r.catch(console.error):EE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x$(t,e=!1){const n=t;return await E$(n),(await EE(n,e)).token}async function E$(t){const{registrationPromise:e}=await xE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t){if(!t||!t.options)throw Uw("App Configuration");if(!t.name)throw Uw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Uw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Uw(t){return kl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="installations",I$="installations-internal",b$=t=>{const e=t.getProvider("app").getImmediate(),n=T$(e),r=ca(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},S$=t=>{const e=t.getProvider("app").getImmediate(),n=ca(e,SD).getImmediate();return{getId:()=>_$(n),getToken:s=>x$(n,s)}};function A$(){rs(new jr(SD,b$,"PUBLIC")),rs(new jr(I$,S$,"PRIVATE"))}A$();Jn(cD,wE);Jn(cD,wE,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="analytics",P$="firebase_id",C$="origin",R$=60*1e3,k$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",TE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new Kg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mr=new Ll("analytics","Analytics",N$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t){if(!t.startsWith(TE)){const e=mr.create("invalid-gtag-resource",{gtagURL:t});return Fn.warn(e.message),""}return t}function AD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function M$(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function O$(t,e){const n=M$("firebase-js-sdk-policy",{createScriptURL:D$}),r=document.createElement("script"),s=`${TE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function V$(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function L$(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const u=(await AD(n)).find(h=>h.measurementId===s);u&&await e[u.appId]}}catch(c){Fn.error(c)}t("config",s,i)}async function F$(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const c=await AD(n);for(const u of a){const h=c.find(g=>g.measurementId===u),p=h&&e[h.appId];if(p)i.push(p);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Fn.error(i)}}function j$(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[c,u]=a;await F$(t,e,n,c,u)}else if(i==="config"){const[c,u]=a;await L$(t,e,n,r,c,u)}else if(i==="consent"){const[c,u]=a;t("consent",c,u)}else if(i==="get"){const[c,u,h]=a;t("get",c,u,h)}else if(i==="set"){const[c]=a;t("set",c)}else t(i,...a)}catch(c){Fn.error(c)}}return s}function U$(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=j$(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function B$(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(TE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=30,z$=1e3;class W${constructor(e={},n=z$){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const PD=new W$;function q$(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function H$(t){var a;const{appId:e,apiKey:n}=t,r={method:"GET",headers:q$(n)},s=k$.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let c="";try{const u=await i.json();(a=u.error)!=null&&a.message&&(c=u.error.message)}catch{}throw mr.create("config-fetch-failed",{httpStatus:i.status,responseMessage:c})}return i.json()}async function G$(t,e=PD,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw mr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw mr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Y$;return setTimeout(async()=>{c.abort()},R$),CD({appId:r,apiKey:s,measurementId:i},a,c,e)}async function CD(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=PD){var c;const{appId:i,measurementId:a}=t;try{await K$(r,e)}catch(u){if(a)return Fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:a};throw u}try{const u=await H$(t);return s.deleteThrottleMetadata(i),u}catch(u){const h=u;if(!Q$(h)){if(s.deleteThrottleMetadata(i),a)return Fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:i,measurementId:a};throw u}const p=Number((c=h==null?void 0:h.customData)==null?void 0:c.httpStatus)===503?nS(n,s.intervalMillis,$$):nS(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(i,g),Fn.debug(`Calling attemptFetch again in ${p} millis`),CD(t,g,r,s)}}function K$(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Q$(t){if(!(t instanceof Ur)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Y${constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function X$(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a={...r,send_to:i};t("event",n,a)}}async function J$(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$(){if(Gg())try{await fx()}catch(t){return Fn.warn(mr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Fn.warn(mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ez(t,e,n,r,s,i,a){const c=G$(t);c.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Fn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Fn.error(y)),e.push(c);const u=Z$().then(y=>{if(y)return r.getId()}),[h,p]=await Promise.all([c,u]);B$(i)||O$(i,h.measurementId),s("js",new Date);const g=(a==null?void 0:a.config)??{};return g[C$]="firebase",g.update=!0,p!=null&&(g[P$]=p),s("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e){this.app=e}_delete(){return delete ru[this.app.options.appId],Promise.resolve()}}let ru={},oA=[];const aA={};let Bw="dataLayer",nz="gtag",lA,IE,cA=!1;function rz(){const t=[];if(hx()&&t.push("This is a browser extension environment."),nR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=mr.create("invalid-analytics-context",{errorInfo:e});Fn.warn(n.message)}}function sz(t,e,n){rz();const r=t.options.appId;if(!r)throw mr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mr.create("no-api-key");if(ru[r]!=null)throw mr.create("already-exists",{id:r});if(!cA){V$(Bw);const{wrappedGtag:i,gtagCore:a}=U$(ru,oA,aA,Bw,nz);IE=i,lA=a,cA=!0}return ru[r]=ez(t,oA,aA,e,lA,Bw,n),new tz(t)}function RD(t=Qg()){t=Rt(t);const e=ca(t,Cg);return e.isInitialized()?e.getImmediate():iz(t)}function iz(t,e={}){const n=ca(t,Cg);if(n.isInitialized()){const s=n.getImmediate();if(Zo(e,n.getOptions()))return s;throw mr.create("already-initialized")}return n.initialize({options:e})}async function kD(){if(hx()||!nR()||!Gg())return!1;try{return await fx()}catch{return!1}}function oz(t,e,n){t=Rt(t),J$(IE,ru[t.app.options.appId],e,n).catch(r=>Fn.error(r))}function ND(t,e,n,r){t=Rt(t),X$(IE,ru[t.app.options.appId],e,n,r).catch(s=>Fn.error(s))}const uA="@firebase/analytics",dA="0.10.19";function az(){rs(new jr(Cg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return sz(r,s,n)},"PUBLIC")),rs(new jr("analytics-internal",t,"PRIVATE")),Jn(uA,dA),Jn(uA,dA,"esm2020");function t(e){try{const n=e.getProvider(Cg).getImmediate();return{logEvent:(r,s,i)=>ND(n,r,s,i),setUserProperties:(r,s)=>oz(n,r,s)}}catch(n){throw mr.create("interop-component-reg-failed",{reason:n})}}}az();const lz={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},as=oR(lz),$w=Zg(as),cz=wy(as);j9(as);try{n9(cz).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence: Not supported in this browser")})}catch(t){console.warn("Firestore persistence init failed:",t)}let DD=null;try{kD().then(t=>{t&&(DD=RD(as))}).catch(()=>{})}catch{}const uz=DD;/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hA="popstate";function dz(t={}){function e(r,s){let{pathname:i,search:a,hash:c}=r.location;return o0("",{pathname:i,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:$h(s)}return fz(e,n,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hz(){return Math.random().toString(36).substring(2,10)}function fA(t,e){return{usr:t.state,key:t.key,idx:e}}function o0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$u(e):e,state:n,key:e&&e.key||r||hz()}}function $h({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $u(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function fz(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,c="POP",u=null,h=p();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function p(){return(a.state||{idx:null}).idx}function g(){c="POP";let S=p(),R=S==null?null:S-h;h=S,u&&u({action:c,location:I.location,delta:R})}function y(S,R){c="PUSH";let L=o0(I.location,S,R);h=p()+1;let M=fA(L,h),F=I.createHref(L);try{a.pushState(M,"",F)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(F)}i&&u&&u({action:c,location:I.location,delta:1})}function E(S,R){c="REPLACE";let L=o0(I.location,S,R);h=p();let M=fA(L,h),F=I.createHref(L);a.replaceState(M,"",F),i&&u&&u({action:c,location:I.location,delta:0})}function A(S){return pz(S)}let I={get action(){return c},get location(){return t(s,a)},listen(S){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(hA,g),u=S,()=>{s.removeEventListener(hA,g),u=null}},createHref(S){return e(s,S)},createURL:A,encodeLocation(S){let R=A(S);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:y,replace:E,go(S){return a.go(S)}};return I}function pz(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:$h(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function MD(t,e,n="/"){return mz(t,e,n,!1)}function mz(t,e,n,r){let s=typeof e=="string"?$u(e):e,i=Oi(s.pathname||"/",n);if(i==null)return null;let a=OD(t);gz(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let h=Az(i);c=bz(a[u],h,r)}return c}function OD(t,e=[],n=[],r="",s=!1){let i=(a,c,u=s,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;Ct(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Ri([r,p.relativePath]),y=n.concat(p);a.children&&a.children.length>0&&(Ct(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),OD(a.children,e,y,g,u)),!(a.path==null&&!a.index)&&e.push({path:g,score:Tz(g,a.index),routesMeta:y})};return t.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,c);else for(let h of VD(a.path))i(a,c,!0,h)}),e}function VD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=VD(r.join("/")),c=[];return c.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function gz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Iz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var yz=/^:[\w-]+$/,vz=3,wz=2,_z=1,xz=10,Ez=-2,pA=t=>t==="*";function Tz(t,e){let n=t.split("/"),r=n.length;return n.some(pA)&&(r+=Ez),e&&(r+=wz),n.filter(s=>!pA(s)).reduce((s,i)=>s+(yz.test(i)?vz:i===""?_z:xz),r)}function Iz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function bz(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=Rg({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),y=u.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Rg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:Ri([i,g.pathname]),pathnameBase:kz(Ri([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=Ri([i,g.pathnameBase]))}return a}function Rg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Sz(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let A=c[y]||"";a=i.slice(0,i.length-A.length).replace(/(.)\/+$/,"$1")}const E=c[y];return g&&!E?h[p]=void 0:h[p]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:t}}function Sz(t,e=!1,n=!0){Qs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Az(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Oi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Pz(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?$u(t):t;return{pathname:n?n.startsWith("/")?n:Cz(n,e):e,search:Nz(r),hash:Dz(s)}}function Cz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function zw(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LD(t){let e=Rz(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function FD(t,e,n,r=!1){let s;typeof t=="string"?s=$u(t):(s={...t},Ct(!s.pathname||!s.pathname.includes("?"),zw("?","pathname","search",s)),Ct(!s.pathname||!s.pathname.includes("#"),zw("#","pathname","hash",s)),Ct(!s.search||!s.search.includes("#"),zw("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,c;if(a==null)c=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}c=g>=0?e[g]:"/"}let u=Pz(s,c),h=a&&a!=="/"&&a.endsWith("/"),p=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var Ri=t=>t.join("/").replace(/\/\/+/g,"/"),kz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Dz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Mz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jD=["POST","PUT","PATCH","DELETE"];new Set(jD);var Oz=["GET",...jD];new Set(Oz);var zu=T.createContext(null);zu.displayName="DataRouter";var Ny=T.createContext(null);Ny.displayName="DataRouterState";T.createContext(!1);var UD=T.createContext({isTransitioning:!1});UD.displayName="ViewTransition";var Vz=T.createContext(new Map);Vz.displayName="Fetchers";var Lz=T.createContext(null);Lz.displayName="Await";var Zs=T.createContext(null);Zs.displayName="Navigation";var Tf=T.createContext(null);Tf.displayName="Location";var qi=T.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var bE=T.createContext(null);bE.displayName="RouteError";function Fz(t,{relative:e}={}){Ct(If(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Zs),{hash:s,pathname:i,search:a}=bf(t,{relative:e}),c=i;return n!=="/"&&(c=i==="/"?n:Ri([n,i])),r.createHref({pathname:c,search:a,hash:s})}function If(){return T.useContext(Tf)!=null}function Hi(){return Ct(If(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Tf).location}var BD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $D(t){T.useContext(Zs).static||T.useLayoutEffect(t)}function SE(){let{isDataRoute:t}=T.useContext(qi);return t?Xz():jz()}function jz(){Ct(If(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(zu),{basename:e,navigator:n}=T.useContext(Zs),{matches:r}=T.useContext(qi),{pathname:s}=Hi(),i=JSON.stringify(LD(r)),a=T.useRef(!1);return $D(()=>{a.current=!0}),T.useCallback((u,h={})=>{if(Qs(a.current,BD),!a.current)return;if(typeof u=="number"){n.go(u);return}let p=FD(u,JSON.parse(i),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ri([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,i,s,t])}T.createContext(null);function bf(t,{relative:e}={}){let{matches:n}=T.useContext(qi),{pathname:r}=Hi(),s=JSON.stringify(LD(n));return T.useMemo(()=>FD(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Uz(t,e){return zD(t,e)}function zD(t,e,n,r,s){var L;Ct(If(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(Zs),{matches:a}=T.useContext(qi),c=a[a.length-1],u=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let M=g&&g.path||"";WD(h,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=Hi(),E;if(e){let M=typeof e=="string"?$u(e):e;Ct(p==="/"||((L=M.pathname)==null?void 0:L.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${M.pathname}" was given in the \`location\` prop.`),E=M}else E=y;let A=E.pathname||"/",I=A;if(p!=="/"){let M=p.replace(/^\//,"").split("/");I="/"+A.replace(/^\//,"").split("/").slice(M.length).join("/")}let S=MD(t,{pathname:I});Qs(g||S!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Qs(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=qz(S&&S.map(M=>Object.assign({},M,{params:Object.assign({},u,M.params),pathname:Ri([p,i.encodeLocation?i.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:Ri([p,i.encodeLocation?i.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),a,n,r,s);return e&&R?T.createElement(Tf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},R):R}function Bz(){let t=Yz(),e=Mz(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:i},"ErrorBoundary")," or"," ",T.createElement("code",{style:i},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,a)}var $z=T.createElement(Bz,null),zz=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(qi.Provider,{value:this.props.routeContext},T.createElement(bE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Wz({routeContext:t,match:e,children:n}){let r=T.useContext(zu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(qi.Provider,{value:t},n)}function qz(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let h=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(n)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:g,errors:y}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||E){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let y,E=!1,A=null,I=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,A=p.route.errorElement||$z,c&&(u<0&&g===0?(WD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,I=null):u===g&&(E=!0,I=p.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,g+1)),R=()=>{let L;return y?L=A:E?L=I:p.route.Component?L=T.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=h,T.createElement(Wz,{match:p,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:L})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?T.createElement(zz,{location:n.location,revalidation:n.revalidation,component:A,error:y,children:R(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):R()},null)}function AE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hz(t){let e=T.useContext(zu);return Ct(e,AE(t)),e}function Gz(t){let e=T.useContext(Ny);return Ct(e,AE(t)),e}function Kz(t){let e=T.useContext(qi);return Ct(e,AE(t)),e}function PE(t){let e=Kz(t),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Qz(){return PE("useRouteId")}function Yz(){var r;let t=T.useContext(bE),e=Gz("useRouteError"),n=PE("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Xz(){let{router:t}=Hz("useNavigate"),e=PE("useNavigate"),n=T.useRef(!1);return $D(()=>{n.current=!0}),T.useCallback(async(s,i={})=>{Qs(n.current,BD),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var mA={};function WD(t,e,n){!e&&!mA[t]&&(mA[t]=!0,Qs(!1,n))}T.memo(Jz);function Jz({routes:t,future:e,state:n,unstable_onError:r}){return zD(t,void 0,n,r,e)}function Dt(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zz({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Ct(!If(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=$u(n));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:y="default"}=n,E=T.useMemo(()=>{let A=Oi(u,a);return A==null?null:{location:{pathname:A,search:h,hash:p,state:g,key:y},navigationType:r}},[a,u,h,p,g,y,r]);return Qs(E!=null,`<Router basename="${a}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:T.createElement(Zs.Provider,{value:c},T.createElement(Tf.Provider,{children:e,value:E}))}function e8({children:t,location:e}){return Uz(a0(t),e)}function a0(t,e=[]){let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,a0(r.props.children,i));return}Ct(r.type===Dt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=a0(r.props.children,i)),n.push(a)}),n}var Fm="get",jm="application/x-www-form-urlencoded";function Dy(t){return t!=null&&typeof t.tagName=="string"}function t8(t){return Dy(t)&&t.tagName.toLowerCase()==="button"}function n8(t){return Dy(t)&&t.tagName.toLowerCase()==="form"}function r8(t){return Dy(t)&&t.tagName.toLowerCase()==="input"}function s8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function i8(t,e){return t.button===0&&(!e||e==="_self")&&!s8(t)}var lm=null;function o8(){if(lm===null)try{new FormData(document.createElement("form"),0),lm=!1}catch{lm=!0}return lm}var a8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ww(t){return t!=null&&!a8.has(t)?(Qs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jm}"`),null):t}function l8(t,e){let n,r,s,i,a;if(n8(t)){let c=t.getAttribute("action");r=c?Oi(c,e):null,n=t.getAttribute("method")||Fm,s=Ww(t.getAttribute("enctype"))||jm,i=new FormData(t)}else if(t8(t)||r8(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?Oi(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Fm,s=Ww(t.getAttribute("formenctype"))||Ww(c.getAttribute("enctype"))||jm,i=new FormData(c,t),!o8()){let{name:h,type:p,value:g}=t;if(p==="image"){let y=h?`${h}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else h&&i.append(h,g)}}else{if(Dy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fm,r=null,s=jm,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function CE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function c8(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Oi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function u8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function h8(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await u8(i,n);return a.links?a.links():[]}return[]}));return g8(r.flat(1).filter(d8).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function gA(t,e,n,r,s,i){let a=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>{var p;return n[h].pathname!==u.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,h)=>a(u,h)||c(u,h)):i==="data"?e.filter((u,h)=>{var g;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(a(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let y=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function f8(t,e,{includeHydrateFallback:n}={}){return p8(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function p8(t){return[...new Set(t)]}function m8(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function g8(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(m8(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function qD(){let t=T.useContext(zu);return CE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function y8(){let t=T.useContext(Ny);return CE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var RE=T.createContext(void 0);RE.displayName="FrameworkContext";function HD(){let t=T.useContext(RE);return CE(t,"You must render this element inside a <HydratedRouter> element"),t}function v8(t,e){let n=T.useContext(RE),[r,s]=T.useState(!1),[i,a]=T.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,y=T.useRef(null);T.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let I=R=>{R.forEach(L=>{a(L.isIntersecting)})},S=new IntersectionObserver(I,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[t]),T.useEffect(()=>{if(r){let I=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(I)}}},[r]);let E=()=>{s(!0)},A=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,y,{}]:[i,y,{onFocus:Qd(c,E),onBlur:Qd(u,A),onMouseEnter:Qd(h,E),onMouseLeave:Qd(p,A),onTouchStart:Qd(g,E)}]:[!1,y,{}]}function Qd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function w8({page:t,...e}){let{router:n}=qD(),r=T.useMemo(()=>MD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(x8,{page:t,matches:r,...e}):null}function _8(t){let{manifest:e,routeModules:n}=HD(),[r,s]=T.useState([]);return T.useEffect(()=>{let i=!1;return h8(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function x8({page:t,matches:e,...n}){let r=Hi(),{manifest:s,routeModules:i}=HD(),{basename:a}=qD(),{loaderData:c,matches:u}=y8(),h=T.useMemo(()=>gA(t,e,u,s,r,"data"),[t,e,u,s,r]),p=T.useMemo(()=>gA(t,e,u,s,r,"assets"),[t,e,u,s,r]),g=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,I=!1;if(e.forEach(R=>{var M;let L=s.routes[R.route.id];!L||!L.hasLoader||(!h.some(F=>F.route.id===R.route.id)&&R.route.id in c&&((M=i[R.route.id])!=null&&M.shouldRevalidate)||L.hasClientLoader?I=!0:A.add(R.route.id))}),A.size===0)return[];let S=c8(t,a,"data");return I&&A.size>0&&S.searchParams.set("_routes",e.filter(R=>A.has(R.route.id)).map(R=>R.route.id).join(",")),[S.pathname+S.search]},[a,c,r,s,h,e,t,i]),y=T.useMemo(()=>f8(p,s),[p,s]),E=_8(p);return T.createElement(T.Fragment,null,g.map(A=>T.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),y.map(A=>T.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),E.map(({key:A,link:I})=>T.createElement("link",{key:A,nonce:n.nonce,...I})))}function E8(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var GD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GD&&(window.__reactRouterVersion="7.9.5")}catch{}function T8({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=dz({window:n,v5Compat:!0}));let s=r.current,[i,a]=T.useState({action:s.action,location:s.location}),c=T.useCallback(u=>{T.startTransition(()=>a(u))},[a]);return T.useLayoutEffect(()=>s.listen(c),[s,c]),T.createElement(Zz,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var KD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:c,target:u,to:h,preventScrollReset:p,viewTransition:g,...y},E){let{basename:A}=T.useContext(Zs),I=typeof h=="string"&&KD.test(h),S,R=!1;if(typeof h=="string"&&I&&(S=h,GD))try{let N=new URL(window.location.href),O=h.startsWith("//")?new URL(N.protocol+h):new URL(h),j=Oi(O.pathname,A);O.origin===N.origin&&j!=null?h=j+O.search+O.hash:R=!0}catch{Qs(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=Fz(h,{relative:s}),[M,F,B]=v8(r,y),G=A8(h,{replace:a,state:c,target:u,preventScrollReset:p,relative:s,viewTransition:g});function k(N){e&&e(N),N.defaultPrevented||G(N)}let P=T.createElement("a",{...y,...B,href:S||L,onClick:R||i?e:k,ref:E8(E,F),target:u,"data-discover":!I&&n==="render"?"true":void 0});return M&&!I?T.createElement(T.Fragment,null,P,T.createElement(w8,{page:L})):P});mt.displayName="Link";var I8=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:c,children:u,...h},p){let g=bf(a,{relative:h.relative}),y=Hi(),E=T.useContext(Ny),{navigator:A,basename:I}=T.useContext(Zs),S=E!=null&&N8(g)&&c===!0,R=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,L=y.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(L=L.toLowerCase(),M=M?M.toLowerCase():null,R=R.toLowerCase()),M&&I&&(M=Oi(M,I)||M);const F=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let B=L===R||!s&&L.startsWith(R)&&L.charAt(F)==="/",G=M!=null&&(M===R||!s&&M.startsWith(R)&&M.charAt(R.length)==="/"),k={isActive:B,isPending:G,isTransitioning:S},P=B?e:void 0,N;typeof r=="function"?N=r(k):N=[r,B?"active":null,G?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let O=typeof i=="function"?i(k):i;return T.createElement(mt,{...h,"aria-current":P,className:N,ref:p,style:O,to:a,viewTransition:c},typeof u=="function"?u(k):u)});I8.displayName="NavLink";var b8=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Fm,action:c,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:g,...y},E)=>{let A=R8(),I=k8(c,{relative:h}),S=a.toLowerCase()==="get"?"get":"post",R=typeof c=="string"&&KD.test(c),L=M=>{if(u&&u(M),M.defaultPrevented)return;M.preventDefault();let F=M.nativeEvent.submitter,B=(F==null?void 0:F.getAttribute("formmethod"))||a;A(F||M.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:s,state:i,relative:h,preventScrollReset:p,viewTransition:g})};return T.createElement("form",{ref:E,method:S,action:I,onSubmit:r?u:L,...y,"data-discover":!R&&t==="render"?"true":void 0})});b8.displayName="Form";function S8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QD(t){let e=T.useContext(zu);return Ct(e,S8(t)),e}function A8(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let c=SE(),u=Hi(),h=bf(t,{relative:i});return T.useCallback(p=>{if(i8(p,e)){p.preventDefault();let g=n!==void 0?n:$h(u)===$h(h);c(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[u,c,h,n,r,e,t,s,i,a])}var P8=0,C8=()=>`__${String(++P8)}__`;function R8(){let{router:t}=QD("useSubmit"),{basename:e}=T.useContext(Zs),n=Qz();return T.useCallback(async(r,s={})=>{let{action:i,method:a,encType:c,formData:u,body:h}=l8(r,e);if(s.navigate===!1){let p=s.fetcherKey||C8();await t.fetch(p,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||a,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||a,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function k8(t,{relative:e}={}){let{basename:n}=T.useContext(Zs),r=T.useContext(qi);Ct(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...bf(t||".",{relative:e})},a=Hi();if(t==null){i.search=a.search;let c=new URLSearchParams(i.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ri([n,i.pathname])),$h(i)}function N8(t,{relative:e}={}){let n=T.useContext(UD);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=QD("useViewTransitionState"),s=bf(t,{relative:e});if(!n.isTransitioning)return!1;let i=Oi(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Oi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rg(s.pathname,a)!=null||Rg(s.pathname,i)!=null}var kE=zC();const D8=ax(kE);function nt(t){if(!t)return"/";const[e,n]=t.split("?"),r="/"+e.replace(/\s+/g,"");return n?`${r}?${n}`:r}var Sf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},M8={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Fo,ox,DC,O8=(DC=class{constructor(){Ne(this,Fo,M8);Ne(this,ox,!1)}setTimeoutProvider(t){me(this,Fo,t)}setTimeout(t,e){return W(this,Fo).setTimeout(t,e)}clearTimeout(t){W(this,Fo).clearTimeout(t)}setInterval(t,e){return W(this,Fo).setInterval(t,e)}clearInterval(t){W(this,Fo).clearInterval(t)}},Fo=new WeakMap,ox=new WeakMap,DC),tl=new O8;function V8(t){setTimeout(t,0)}var Dl=typeof window>"u"||"Deno"in globalThis;function Qn(){}function L8(t,e){return typeof t=="function"?t(e):t}function l0(t){return typeof t=="number"&&t>=0&&t!==1/0}function YD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Jo(t,e){return typeof t=="function"?t(e):t}function kr(t,e){return typeof t=="function"?t(e):t}function yA(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:c}=t;if(a){if(r){if(e.queryHash!==NE(a,e.options))return!1}else if(!Wh(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||i&&!i(e))}function vA(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(zh(e.options.mutationKey)!==zh(i))return!1}else if(!Wh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function NE(t,e){return((e==null?void 0:e.queryKeyHashFn)||zh)(t)}function zh(t){return JSON.stringify(t,(e,n)=>u0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Wh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Wh(t[n],e[n])):!1}var F8=Object.prototype.hasOwnProperty;function XD(t,e){if(t===e)return t;const n=wA(t)&&wA(e);if(!n&&!(u0(t)&&u0(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,c=n?new Array(a):{};let u=0;for(let h=0;h<a;h++){const p=n?h:i[h],g=t[p],y=e[p];if(g===y){c[p]=g,(n?h<s:F8.call(t,p))&&u++;continue}if(g===null||y===null||typeof g!="object"||typeof y!="object"){c[p]=y;continue}const E=XD(g,y);c[p]=E,E===g&&u++}return s===a&&u===s?t:c}function c0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function wA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function u0(t){if(!_A(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_A(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _A(t){return Object.prototype.toString.call(t)==="[object Object]"}function j8(t){return new Promise(e=>{tl.setTimeout(e,t)})}function d0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?XD(t,e):e}function U8(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function B8(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var DE=Symbol();function JD(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===DE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function $8(t,e){return typeof t=="function"?t(...e):!!t}var il,jo,au,MC,z8=(MC=class extends Sf{constructor(){super();Ne(this,il);Ne(this,jo);Ne(this,au);me(this,au,e=>{if(!Dl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,jo)||this.setEventListener(W(this,au))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,jo))==null||e.call(this),me(this,jo,void 0))}setEventListener(e){var n;me(this,au,e),(n=W(this,jo))==null||n.call(this),me(this,jo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){W(this,il)!==e&&(me(this,il,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof W(this,il)=="boolean"?W(this,il):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},il=new WeakMap,jo=new WeakMap,au=new WeakMap,MC),ME=new z8;function h0(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var W8=V8;function q8(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=W8;const i=c=>{e?t.push(c):s(()=>{n(c)})},a=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||a()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var gn=q8(),lu,Uo,cu,OC,H8=(OC=class extends Sf{constructor(){super();Ne(this,lu,!0);Ne(this,Uo);Ne(this,cu);me(this,cu,e=>{if(!Dl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,Uo)||this.setEventListener(W(this,cu))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Uo))==null||e.call(this),me(this,Uo,void 0))}setEventListener(e){var n;me(this,cu,e),(n=W(this,Uo))==null||n.call(this),me(this,Uo,e(this.setOnline.bind(this)))}setOnline(e){W(this,lu)!==e&&(me(this,lu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return W(this,lu)}},lu=new WeakMap,Uo=new WeakMap,cu=new WeakMap,OC),kg=new H8;function G8(t){return Math.min(1e3*2**t,3e4)}function ZD(t){return(t??"online")==="online"?kg.isOnline():!0}var f0=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function e2(t){let e=!1,n=0,r;const s=h0(),i=()=>s.status!=="pending",a=I=>{var S;if(!i()){const R=new f0(I);y(R),(S=t.onCancel)==null||S.call(t,R)}},c=()=>{e=!0},u=()=>{e=!1},h=()=>ME.isFocused()&&(t.networkMode==="always"||kg.isOnline())&&t.canRun(),p=()=>ZD(t.networkMode)&&t.canRun(),g=I=>{i()||(r==null||r(),s.resolve(I))},y=I=>{i()||(r==null||r(),s.reject(I))},E=()=>new Promise(I=>{var S;r=R=>{(i()||h())&&I(R)},(S=t.onPause)==null||S.call(t)}).then(()=>{var I;r=void 0,i()||(I=t.onContinue)==null||I.call(t)}),A=()=>{if(i())return;let I;const S=n===0?t.initialPromise:void 0;try{I=S??t.fn()}catch(R){I=Promise.reject(R)}Promise.resolve(I).then(g).catch(R=>{var G;if(i())return;const L=t.retry??(Dl?0:3),M=t.retryDelay??G8,F=typeof M=="function"?M(n,R):M,B=L===!0||typeof L=="number"&&n<L||typeof L=="function"&&L(n,R);if(e||!B){y(R);return}n++,(G=t.onFail)==null||G.call(t,n,R),j8(F).then(()=>h()?void 0:E()).then(()=>{e?y(R):A()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?A():E().then(A),s)}}var ol,VC,t2=(VC=class{constructor(){Ne(this,ol)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),l0(this.gcTime)&&me(this,ol,tl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Dl?1/0:300*1e3))}clearGcTimeout(){W(this,ol)&&(tl.clearTimeout(W(this,ol)),me(this,ol,void 0))}},ol=new WeakMap,VC),al,uu,Cr,ll,on,nf,cl,Jr,Ei,LC,K8=(LC=class extends t2{constructor(e){super();Ne(this,Jr);Ne(this,al);Ne(this,uu);Ne(this,Cr);Ne(this,ll);Ne(this,on);Ne(this,nf);Ne(this,cl);me(this,cl,!1),me(this,nf,e.defaultOptions),this.setOptions(e.options),this.observers=[],me(this,ll,e.client),me(this,Cr,W(this,ll).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,me(this,al,EA(this.options)),this.state=e.state??W(this,al),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=W(this,on))==null?void 0:e.promise}setOptions(e){if(this.options={...W(this,nf),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=EA(this.options);n.data!==void 0&&(this.setState(xA(n.data,n.dataUpdatedAt)),me(this,al,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Cr).remove(this)}setData(e,n){const r=d0(this.state.data,e,this.options);return Ye(this,Jr,Ei).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ye(this,Jr,Ei).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=W(this,on))==null?void 0:r.promise;return(s=W(this,on))==null||s.cancel(e),n?n.then(Qn).catch(Qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,al))}isActive(){return this.observers.some(e=>kr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===DE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Jo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!YD(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=W(this,on))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=W(this,on))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),W(this,Cr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(W(this,on)&&(W(this,cl)?W(this,on).cancel({revert:!0}):W(this,on).cancelRetry()),this.scheduleGc()),W(this,Cr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,Jr,Ei).call(this,{type:"invalidate"})}async fetch(e,n){var u,h,p,g,y,E,A,I,S,R,L,M;if(this.state.fetchStatus!=="idle"&&((u=W(this,on))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,on))return W(this,on).continueRetry(),W(this,on).promise}if(e&&this.setOptions(e),!this.options.queryFn){const F=this.observers.find(B=>B.options.queryFn);F&&this.setOptions(F.options)}const r=new AbortController,s=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(me(this,cl,!0),r.signal)})},i=()=>{const F=JD(this.options,n),G=(()=>{const k={client:W(this,ll),queryKey:this.queryKey,meta:this.meta};return s(k),k})();return me(this,cl,!1),this.options.persister?this.options.persister(F,G,this):F(G)},c=(()=>{const F={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:W(this,ll),state:this.state,fetchFn:i};return s(F),F})();(h=this.options.behavior)==null||h.onFetch(c,this),me(this,uu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&Ye(this,Jr,Ei).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta}),me(this,on,e2({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,onCancel:F=>{F instanceof f0&&F.revert&&this.setState({...W(this,uu),fetchStatus:"idle"}),r.abort()},onFail:(F,B)=>{Ye(this,Jr,Ei).call(this,{type:"failed",failureCount:F,error:B})},onPause:()=>{Ye(this,Jr,Ei).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Jr,Ei).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const F=await W(this,on).start();if(F===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(F),(E=(y=W(this,Cr).config).onSuccess)==null||E.call(y,F,this),(I=(A=W(this,Cr).config).onSettled)==null||I.call(A,F,this.state.error,this),F}catch(F){if(F instanceof f0){if(F.silent)return W(this,on).promise;if(F.revert){if(this.state.data===void 0)throw F;return this.state.data}}throw Ye(this,Jr,Ei).call(this,{type:"error",error:F}),(R=(S=W(this,Cr).config).onError)==null||R.call(S,F,this),(M=(L=W(this,Cr).config).onSettled)==null||M.call(L,this.state.data,F,this),F}finally{this.scheduleGc()}}},al=new WeakMap,uu=new WeakMap,Cr=new WeakMap,ll=new WeakMap,on=new WeakMap,nf=new WeakMap,cl=new WeakMap,Jr=new WeakSet,Ei=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...n2(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,...xA(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return me(this,uu,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),gn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,Cr).notify({query:this,type:"updated",action:e})})},LC);function n2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function xA(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function EA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Kn,Xe,rf,kn,ul,du,Ti,Bo,sf,hu,fu,dl,hl,$o,pu,at,ah,p0,m0,g0,y0,v0,w0,_0,r2,FC,Q8=(FC=class extends Sf{constructor(e,n){super();Ne(this,at);Ne(this,Kn);Ne(this,Xe);Ne(this,rf);Ne(this,kn);Ne(this,ul);Ne(this,du);Ne(this,Ti);Ne(this,Bo);Ne(this,sf);Ne(this,hu);Ne(this,fu);Ne(this,dl);Ne(this,hl);Ne(this,$o);Ne(this,pu,new Set);this.options=n,me(this,Kn,e),me(this,Bo,null),me(this,Ti,h0()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,Xe).addObserver(this),TA(W(this,Xe),this.options)?Ye(this,at,ah).call(this):this.updateResult(),Ye(this,at,y0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return x0(W(this,Xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return x0(W(this,Xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ye(this,at,v0).call(this),Ye(this,at,w0).call(this),W(this,Xe).removeObserver(this)}setOptions(e){const n=this.options,r=W(this,Xe);if(this.options=W(this,Kn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof kr(this.options.enabled,W(this,Xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ye(this,at,_0).call(this),W(this,Xe).setOptions(this.options),n._defaulted&&!c0(this.options,n)&&W(this,Kn).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,Xe),observer:this});const s=this.hasListeners();s&&IA(W(this,Xe),r,this.options,n)&&Ye(this,at,ah).call(this),this.updateResult(),s&&(W(this,Xe)!==r||kr(this.options.enabled,W(this,Xe))!==kr(n.enabled,W(this,Xe))||Jo(this.options.staleTime,W(this,Xe))!==Jo(n.staleTime,W(this,Xe)))&&Ye(this,at,p0).call(this);const i=Ye(this,at,m0).call(this);s&&(W(this,Xe)!==r||kr(this.options.enabled,W(this,Xe))!==kr(n.enabled,W(this,Xe))||i!==W(this,$o))&&Ye(this,at,g0).call(this,i)}getOptimisticResult(e){const n=W(this,Kn).getQueryCache().build(W(this,Kn),e),r=this.createResult(n,e);return X8(this,r)&&(me(this,kn,r),me(this,du,this.options),me(this,ul,W(this,Xe).state)),r}getCurrentResult(){return W(this,kn)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&W(this,Ti).status==="pending"&&W(this,Ti).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(e){W(this,pu).add(e)}getCurrentQuery(){return W(this,Xe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=W(this,Kn).defaultQueryOptions(e),r=W(this,Kn).getQueryCache().build(W(this,Kn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ye(this,at,ah).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,kn)))}createResult(e,n){var N;const r=W(this,Xe),s=this.options,i=W(this,kn),a=W(this,ul),c=W(this,du),h=e!==r?e.state:W(this,rf),{state:p}=e;let g={...p},y=!1,E;if(n._optimisticResults){const O=this.hasListeners(),j=!O&&TA(e,n),z=O&&IA(e,r,n,s);(j||z)&&(g={...g,...n2(p.data,e.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:A,errorUpdatedAt:I,status:S}=g;E=g.data;let R=!1;if(n.placeholderData!==void 0&&E===void 0&&S==="pending"){let O;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(O=i.data,R=!0):O=typeof n.placeholderData=="function"?n.placeholderData((N=W(this,fu))==null?void 0:N.state.data,W(this,fu)):n.placeholderData,O!==void 0&&(S="success",E=d0(i==null?void 0:i.data,O,n),y=!0)}if(n.select&&E!==void 0&&!R)if(i&&E===(a==null?void 0:a.data)&&n.select===W(this,sf))E=W(this,hu);else try{me(this,sf,n.select),E=n.select(E),E=d0(i==null?void 0:i.data,E,n),me(this,hu,E),me(this,Bo,null)}catch(O){me(this,Bo,O)}W(this,Bo)&&(A=W(this,Bo),E=W(this,hu),I=Date.now(),S="error");const L=g.fetchStatus==="fetching",M=S==="pending",F=S==="error",B=M&&L,G=E!==void 0,P={status:S,fetchStatus:g.fetchStatus,isPending:M,isSuccess:S==="success",isError:F,isInitialLoading:B,isLoading:B,data:E,dataUpdatedAt:g.dataUpdatedAt,error:A,errorUpdatedAt:I,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:L,isRefetching:L&&!M,isLoadingError:F&&!G,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:F&&G,isStale:OE(e,n),refetch:this.refetch,promise:W(this,Ti),isEnabled:kr(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=V=>{P.status==="error"?V.reject(P.error):P.data!==void 0&&V.resolve(P.data)},j=()=>{const V=me(this,Ti,P.promise=h0());O(V)},z=W(this,Ti);switch(z.status){case"pending":e.queryHash===r.queryHash&&O(z);break;case"fulfilled":(P.status==="error"||P.data!==z.value)&&j();break;case"rejected":(P.status!=="error"||P.error!==z.reason)&&j();break}}return P}updateResult(){const e=W(this,kn),n=this.createResult(W(this,Xe),this.options);if(me(this,ul,W(this,Xe).state),me(this,du,this.options),W(this,ul).data!==void 0&&me(this,fu,W(this,Xe)),c0(n,e))return;me(this,kn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!W(this,pu).size)return!0;const a=new Set(i??W(this,pu));return this.options.throwOnError&&a.add("error"),Object.keys(W(this,kn)).some(c=>{const u=c;return W(this,kn)[u]!==e[u]&&a.has(u)})};Ye(this,at,r2).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ye(this,at,y0).call(this)}},Kn=new WeakMap,Xe=new WeakMap,rf=new WeakMap,kn=new WeakMap,ul=new WeakMap,du=new WeakMap,Ti=new WeakMap,Bo=new WeakMap,sf=new WeakMap,hu=new WeakMap,fu=new WeakMap,dl=new WeakMap,hl=new WeakMap,$o=new WeakMap,pu=new WeakMap,at=new WeakSet,ah=function(e){Ye(this,at,_0).call(this);let n=W(this,Xe).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Qn)),n},p0=function(){Ye(this,at,v0).call(this);const e=Jo(this.options.staleTime,W(this,Xe));if(Dl||W(this,kn).isStale||!l0(e))return;const r=YD(W(this,kn).dataUpdatedAt,e)+1;me(this,dl,tl.setTimeout(()=>{W(this,kn).isStale||this.updateResult()},r))},m0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,Xe)):this.options.refetchInterval)??!1},g0=function(e){Ye(this,at,w0).call(this),me(this,$o,e),!(Dl||kr(this.options.enabled,W(this,Xe))===!1||!l0(W(this,$o))||W(this,$o)===0)&&me(this,hl,tl.setInterval(()=>{(this.options.refetchIntervalInBackground||ME.isFocused())&&Ye(this,at,ah).call(this)},W(this,$o)))},y0=function(){Ye(this,at,p0).call(this),Ye(this,at,g0).call(this,Ye(this,at,m0).call(this))},v0=function(){W(this,dl)&&(tl.clearTimeout(W(this,dl)),me(this,dl,void 0))},w0=function(){W(this,hl)&&(tl.clearInterval(W(this,hl)),me(this,hl,void 0))},_0=function(){const e=W(this,Kn).getQueryCache().build(W(this,Kn),this.options);if(e===W(this,Xe))return;const n=W(this,Xe);me(this,Xe,e),me(this,rf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},r2=function(e){gn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(W(this,kn))}),W(this,Kn).getQueryCache().notify({query:W(this,Xe),type:"observerResultsUpdated"})})},FC);function Y8(t,e){return kr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function TA(t,e){return Y8(t,e)||t.state.data!==void 0&&x0(t,e,e.refetchOnMount)}function x0(t,e,n){if(kr(e.enabled,t)!==!1&&Jo(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&OE(t,e)}return!1}function IA(t,e,n,r){return(t!==e||kr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&OE(t,n)}function OE(t,e){return kr(e.enabled,t)!==!1&&t.isStaleByTime(Jo(e.staleTime,t))}function X8(t,e){return!c0(t.getCurrentResult(),e)}function bA(t){return{onFetch:(e,n)=>{var p,g,y,E,A;const r=e.options,s=(y=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,i=((E=e.state.data)==null?void 0:E.pages)||[],a=((A=e.state.data)==null?void 0:A.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let I=!1;const S=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?I=!0:e.signal.addEventListener("abort",()=>{I=!0}),e.signal)})},R=JD(e.options,e.fetchOptions),L=async(M,F,B)=>{if(I)return Promise.reject();if(F==null&&M.pages.length)return Promise.resolve(M);const k=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:F,direction:B?"backward":"forward",meta:e.options.meta};return S(j),j})(),P=await R(k),{maxPages:N}=e.options,O=B?B8:U8;return{pages:O(M.pages,P,N),pageParams:O(M.pageParams,F,N)}};if(s&&i.length){const M=s==="backward",F=M?J8:SA,B={pages:i,pageParams:a},G=F(r,B);c=await L(B,G,M)}else{const M=t??i.length;do{const F=u===0?a[0]??r.initialPageParam:SA(r,c);if(u>0&&F==null)break;c=await L(c,F),u++}while(u<M)}return c};e.options.persister?e.fetchFn=()=>{var I,S;return(S=(I=e.options).persister)==null?void 0:S.call(I,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function SA(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function J8(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var of,Rs,Nn,fl,ks,Ro,jC,Z8=(jC=class extends t2{constructor(e){super();Ne(this,ks);Ne(this,of);Ne(this,Rs);Ne(this,Nn);Ne(this,fl);me(this,of,e.client),this.mutationId=e.mutationId,me(this,Nn,e.mutationCache),me(this,Rs,[]),this.state=e.state||e7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){W(this,Rs).includes(e)||(W(this,Rs).push(e),this.clearGcTimeout(),W(this,Nn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){me(this,Rs,W(this,Rs).filter(n=>n!==e)),this.scheduleGc(),W(this,Nn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){W(this,Rs).length||(this.state.status==="pending"?this.scheduleGc():W(this,Nn).remove(this))}continue(){var e;return((e=W(this,fl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,c,u,h,p,g,y,E,A,I,S,R,L,M,F,B,G,k,P,N;const n=()=>{Ye(this,ks,Ro).call(this,{type:"continue"})},r={client:W(this,of),meta:this.options.meta,mutationKey:this.options.mutationKey};me(this,fl,e2({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(O,j)=>{Ye(this,ks,Ro).call(this,{type:"failed",failureCount:O,error:j})},onPause:()=>{Ye(this,ks,Ro).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,Nn).canRun(this)}));const s=this.state.status==="pending",i=!W(this,fl).canStart();try{if(s)n();else{Ye(this,ks,Ro).call(this,{type:"pending",variables:e,isPaused:i}),await((c=(a=W(this,Nn).config).onMutate)==null?void 0:c.call(a,e,this,r));const j=await((h=(u=this.options).onMutate)==null?void 0:h.call(u,e,r));j!==this.state.context&&Ye(this,ks,Ro).call(this,{type:"pending",context:j,variables:e,isPaused:i})}const O=await W(this,fl).start();return await((g=(p=W(this,Nn).config).onSuccess)==null?void 0:g.call(p,O,e,this.state.context,this,r)),await((E=(y=this.options).onSuccess)==null?void 0:E.call(y,O,e,this.state.context,r)),await((I=(A=W(this,Nn).config).onSettled)==null?void 0:I.call(A,O,null,this.state.variables,this.state.context,this,r)),await((R=(S=this.options).onSettled)==null?void 0:R.call(S,O,null,e,this.state.context,r)),Ye(this,ks,Ro).call(this,{type:"success",data:O}),O}catch(O){try{throw await((M=(L=W(this,Nn).config).onError)==null?void 0:M.call(L,O,e,this.state.context,this,r)),await((B=(F=this.options).onError)==null?void 0:B.call(F,O,e,this.state.context,r)),await((k=(G=W(this,Nn).config).onSettled)==null?void 0:k.call(G,void 0,O,this.state.variables,this.state.context,this,r)),await((N=(P=this.options).onSettled)==null?void 0:N.call(P,void 0,O,e,this.state.context,r)),O}finally{Ye(this,ks,Ro).call(this,{type:"error",error:O})}}finally{W(this,Nn).runNext(this)}}},of=new WeakMap,Rs=new WeakMap,Nn=new WeakMap,fl=new WeakMap,ks=new WeakSet,Ro=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),gn.batch(()=>{W(this,Rs).forEach(r=>{r.onMutationUpdate(e)}),W(this,Nn).notify({mutation:this,type:"updated",action:e})})},jC);function e7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ii,Zr,af,UC,t7=(UC=class extends Sf{constructor(e={}){super();Ne(this,Ii);Ne(this,Zr);Ne(this,af);this.config=e,me(this,Ii,new Set),me(this,Zr,new Map),me(this,af,0)}build(e,n,r){const s=new Z8({client:e,mutationCache:this,mutationId:++Xp(this,af)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){W(this,Ii).add(e);const n=cm(e);if(typeof n=="string"){const r=W(this,Zr).get(n);r?r.push(e):W(this,Zr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(W(this,Ii).delete(e)){const n=cm(e);if(typeof n=="string"){const r=W(this,Zr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&W(this,Zr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=cm(e);if(typeof n=="string"){const r=W(this,Zr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=cm(e);if(typeof n=="string"){const s=(r=W(this,Zr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){gn.batch(()=>{W(this,Ii).forEach(e=>{this.notify({type:"removed",mutation:e})}),W(this,Ii).clear(),W(this,Zr).clear()})}getAll(){return Array.from(W(this,Ii))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vA(n,r))}findAll(e={}){return this.getAll().filter(n=>vA(e,n))}notify(e){gn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return gn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Qn))))}},Ii=new WeakMap,Zr=new WeakMap,af=new WeakMap,UC);function cm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ns,BC,n7=(BC=class extends Sf{constructor(e={}){super();Ne(this,Ns);this.config=e,me(this,Ns,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??NE(s,n);let a=this.get(i);return a||(a=new K8({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){W(this,Ns).has(e.queryHash)||(W(this,Ns).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=W(this,Ns).get(e.queryHash);n&&(e.destroy(),n===e&&W(this,Ns).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,Ns).get(e)}getAll(){return[...W(this,Ns).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>yA(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>yA(e,r)):n}notify(e){gn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){gn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ns=new WeakMap,BC),Mt,zo,Wo,mu,gu,qo,yu,vu,$C,r7=($C=class{constructor(t={}){Ne(this,Mt);Ne(this,zo);Ne(this,Wo);Ne(this,mu);Ne(this,gu);Ne(this,qo);Ne(this,yu);Ne(this,vu);me(this,Mt,t.queryCache||new n7),me(this,zo,t.mutationCache||new t7),me(this,Wo,t.defaultOptions||{}),me(this,mu,new Map),me(this,gu,new Map),me(this,qo,0)}mount(){Xp(this,qo)._++,W(this,qo)===1&&(me(this,yu,ME.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Mt).onFocus())})),me(this,vu,kg.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Mt).onOnline())})))}unmount(){var t,e;Xp(this,qo)._--,W(this,qo)===0&&((t=W(this,yu))==null||t.call(this),me(this,yu,void 0),(e=W(this,vu))==null||e.call(this),me(this,vu,void 0))}isFetching(t){return W(this,Mt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,zo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,Mt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=W(this,Mt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Jo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return W(this,Mt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=W(this,Mt).get(r.queryHash),i=s==null?void 0:s.state.data,a=L8(e,i);if(a!==void 0)return W(this,Mt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return gn.batch(()=>W(this,Mt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,Mt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=W(this,Mt);gn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=W(this,Mt);return gn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=gn.batch(()=>W(this,Mt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Qn).catch(Qn)}invalidateQueries(t,e={}){return gn.batch(()=>(W(this,Mt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=gn.batch(()=>W(this,Mt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Qn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Qn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=W(this,Mt).build(this,e);return n.isStaleByTime(Jo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qn).catch(Qn)}fetchInfiniteQuery(t){return t.behavior=bA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qn).catch(Qn)}ensureInfiniteQueryData(t){return t.behavior=bA(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return kg.isOnline()?W(this,zo).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Mt)}getMutationCache(){return W(this,zo)}getDefaultOptions(){return W(this,Wo)}setDefaultOptions(t){me(this,Wo,t)}setQueryDefaults(t,e){W(this,mu).set(zh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,mu).values()],n={};return e.forEach(r=>{Wh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){W(this,gu).set(zh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,gu).values()],n={};return e.forEach(r=>{Wh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,Wo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=NE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===DE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,Wo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,Mt).clear(),W(this,zo).clear()}},Mt=new WeakMap,zo=new WeakMap,Wo=new WeakMap,mu=new WeakMap,gu=new WeakMap,qo=new WeakMap,yu=new WeakMap,vu=new WeakMap,$C),s2=T.createContext(void 0),s7=t=>{const e=T.useContext(s2);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},i7=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(s2.Provider,{value:t,children:e})),i2=T.createContext(!1),o7=()=>T.useContext(i2);i2.Provider;function a7(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var l7=T.createContext(a7()),c7=()=>T.useContext(l7),u7=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},d7=t=>{T.useEffect(()=>{t.clearReset()},[t])},h7=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||$8(n,[t.error,r])),f7=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},p7=(t,e)=>t.isLoading&&t.isFetching&&!e,m7=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,AA=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function g7(t,e,n){var g,y,E,A,I;const r=o7(),s=c7(),i=s7(),a=i.defaultQueryOptions(t);(y=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||y.call(g,a),a._optimisticResults=r?"isRestoring":"optimistic",f7(a),u7(a,s),d7(s);const c=!i.getQueryCache().get(a.queryHash),[u]=T.useState(()=>new e(i,a)),h=u.getOptimisticResult(a),p=!r&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(S=>{const R=p?u.subscribe(gn.batchCalls(S)):Qn;return u.updateResult(),R},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),T.useEffect(()=>{u.setOptions(a)},[a,u]),m7(a,h))throw AA(a,u,s);if(h7({result:h,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw h.error;if((A=(E=i.getDefaultOptions().queries)==null?void 0:E._experimental_afterQuery)==null||A.call(E,a,h),a.experimental_prefetchInRender&&!Dl&&p7(h,r)){const S=c?AA(a,u,s):(I=i.getQueryCache().get(a.queryHash))==null?void 0:I.promise;S==null||S.catch(Qn).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?h:u.trackResult(h)}function y7(t,e){return g7(t,Q8)}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...c},u)=>T.createElement("svg",{ref:u,...w7,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:o2("lucide",s),...c},[...a.map(([h,p])=>T.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(t,e)=>{const n=T.forwardRef(({className:r,...s},i)=>T.createElement(_7,{ref:i,iconNode:e,className:o2(`lucide-${v7(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],E7=Je("ArrowRight",x7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],I7=Je("Award",T7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Um=Je("Brain",b7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qw=Je("Calendar",S7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],P7=Je("ChartColumn",A7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],R7=Je("Check",C7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],N7=Je("ChevronDown",k7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],M7=Je("ChevronRight",D7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],V7=Je("CircleCheckBig",O7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],F7=Je("CircleX",L7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],U7=Je("Circle",j7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$7=Je("Clock",B7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],PA=Je("Coins",z7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],q7=Je("CreditCard",W7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],nl=Je("Crown",H7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],CA=Je("EyeOff",G7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RA=Je("Eye",K7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Y7=Je("Gamepad2",Q7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],kA=Je("GraduationCap",X7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],NA=Je("Heart",J7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],DA=Je("House",Z7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],MA=Je("LogOut",eW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],OA=Je("Mail",tW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],rW=Je("Menu",nW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],iW=Je("PartyPopper",sW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],aW=Je("Rocket",oW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],VA=Je("Settings",lW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],uW=Je("Shield",cW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Hw=Je("ShoppingBag",dW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],a2=Je("Sparkles",hW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Gw=Je("Star",fW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],E0=Je("Trophy",pW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kw=Je("User",mW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],T0=Je("Users",gW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],VE=Je("X",yW);function l2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=l2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function c2(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=l2(t))&&(r&&(r+=" "),r+=e);return r}const LA=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,FA=c2,My=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return FA(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(h=>{const p=n==null?void 0:n[h],g=i==null?void 0:i[h];if(p===null)return null;const y=LA(p)||LA(g);return s[h][y]}),c=n&&Object.entries(n).reduce((h,p)=>{let[g,y]=p;return y===void 0||(h[g]=y),h},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:g,className:y,...E}=p;return Object.entries(E).every(A=>{let[I,S]=A;return Array.isArray(S)?S.includes({...i,...c}[I]):{...i,...c}[I]===S})?[...h,g,y]:h},[]);return FA(t,a,u,n==null?void 0:n.class,n==null?void 0:n.className)},LE="-",vW=t=>{const e=_W(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const c=a.split(LE);return c[0]===""&&c.length!==1&&c.shift(),u2(c,e)||wW(a)},getConflictingClassGroupIds:(a,c)=>{const u=n[a]||[];return c&&r[a]?[...u,...r[a]]:u}}},u2=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?u2(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(LE);return(a=e.validators.find(({validator:c})=>c(i)))==null?void 0:a.classGroupId},jA=/^\[(.+)\]$/,wW=t=>{if(jA.test(t)){const e=jA.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_W=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)I0(n[s],r,s,e);return r},I0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:UA(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(xW(s)){I0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{I0(a,UA(e,i),n,r)})})},UA=(t,e)=>{let n=t;return e.split(LE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xW=t=>t.isThemeGetter,EW=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},b0="!",S0=":",TW=S0.length,IW=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let a=0,c=0,u=0,h;for(let A=0;A<s.length;A++){let I=s[A];if(a===0&&c===0){if(I===S0){i.push(s.slice(u,A)),u=A+TW;continue}if(I==="/"){h=A;continue}}I==="["?a++:I==="]"?a--:I==="("?c++:I===")"&&c--}const p=i.length===0?s:s.substring(u),g=bW(p),y=g!==p,E=h&&h>u?h-u:void 0;return{modifiers:i,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:E}};if(e){const s=e+S0,i=r;r=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},bW=t=>t.endsWith(b0)?t.substring(0,t.length-1):t.startsWith(b0)?t.substring(1):t,SW=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(a=>{a[0]==="["||e[a]?(s.push(...i.sort(),a),i=[]):i.push(a)}),s.push(...i.sort()),s}},AW=t=>({cache:EW(t.cacheSize),parseClassName:IW(t),sortModifiers:SW(t),...vW(t)}),PW=/\s+/,CW=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],c=t.trim().split(PW);let u="";for(let h=c.length-1;h>=0;h-=1){const p=c[h],{isExternal:g,modifiers:y,hasImportantModifier:E,baseClassName:A,maybePostfixModifierPosition:I}=n(p);if(g){u=p+(u.length>0?" "+u:u);continue}let S=!!I,R=r(S?A.substring(0,I):A);if(!R){if(!S){u=p+(u.length>0?" "+u:u);continue}if(R=r(A),!R){u=p+(u.length>0?" "+u:u);continue}S=!1}const L=i(y).join(":"),M=E?L+b0:L,F=M+R;if(a.includes(F))continue;a.push(F);const B=s(R,S);for(let G=0;G<B.length;++G){const k=B[G];a.push(M+k)}u=p+(u.length>0?" "+u:u)}return u};function RW(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=d2(e))&&(r&&(r+=" "),r+=n);return r}const d2=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=d2(t[r]))&&(n&&(n+=" "),n+=e);return n};function kW(t,...e){let n,r,s,i=a;function a(u){const h=e.reduce((p,g)=>g(p),t());return n=AW(h),r=n.cache.get,s=n.cache.set,i=c,c(u)}function c(u){const h=r(u);if(h)return h;const p=CW(u,n);return s(u,p),p}return function(){return i(RW.apply(null,arguments))}}const Jt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},h2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,f2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,NW=/^\d+\/\d+$/,DW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,VW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lc=t=>NW.test(t),We=t=>!!t&&!Number.isNaN(Number(t)),Po=t=>!!t&&Number.isInteger(Number(t)),Qw=t=>t.endsWith("%")&&We(t.slice(0,-1)),xi=t=>DW.test(t),FW=()=>!0,jW=t=>MW.test(t)&&!OW.test(t),p2=()=>!1,UW=t=>VW.test(t),BW=t=>LW.test(t),$W=t=>!we(t)&&!_e(t),zW=t=>Wu(t,y2,p2),we=t=>h2.test(t),$a=t=>Wu(t,v2,jW),Yw=t=>Wu(t,KW,We),BA=t=>Wu(t,m2,p2),WW=t=>Wu(t,g2,BW),um=t=>Wu(t,w2,UW),_e=t=>f2.test(t),Yd=t=>qu(t,v2),qW=t=>qu(t,QW),$A=t=>qu(t,m2),HW=t=>qu(t,y2),GW=t=>qu(t,g2),dm=t=>qu(t,w2,!0),Wu=(t,e,n)=>{const r=h2.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},qu=(t,e,n=!1)=>{const r=f2.exec(t);return r?r[1]?e(r[1]):n:!1},m2=t=>t==="position"||t==="percentage",g2=t=>t==="image"||t==="url",y2=t=>t==="length"||t==="size"||t==="bg-size",v2=t=>t==="length",KW=t=>t==="number",QW=t=>t==="family-name",w2=t=>t==="shadow",YW=()=>{const t=Jt("color"),e=Jt("font"),n=Jt("text"),r=Jt("font-weight"),s=Jt("tracking"),i=Jt("leading"),a=Jt("breakpoint"),c=Jt("container"),u=Jt("spacing"),h=Jt("radius"),p=Jt("shadow"),g=Jt("inset-shadow"),y=Jt("text-shadow"),E=Jt("drop-shadow"),A=Jt("blur"),I=Jt("perspective"),S=Jt("aspect"),R=Jt("ease"),L=Jt("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...F(),_e,we],G=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],P=()=>[_e,we,u],N=()=>[Lc,"full","auto",...P()],O=()=>[Po,"none","subgrid",_e,we],j=()=>["auto",{span:["full",Po,_e,we]},Po,_e,we],z=()=>[Po,"auto",_e,we],V=()=>["auto","min","max","fr",_e,we],Ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Le=()=>["start","end","center","stretch","center-safe","end-safe"],Pe=()=>["auto",...P()],fe=()=>[Lc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],K=()=>[t,_e,we],ne=()=>[...F(),$A,BA,{position:[_e,we]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",HW,zW,{size:[_e,we]}],re=()=>[Qw,Yd,$a],ye=()=>["","none","full",h,_e,we],Ee=()=>["",We,Yd,$a],Fe=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Se=()=>[We,Qw,$A,BA],ze=()=>["","none",A,_e,we],je=()=>["none",We,_e,we],ft=()=>["none",We,_e,we],er=()=>[We,_e,we],tr=()=>[Lc,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xi],breakpoint:[xi],color:[FW],container:[xi],"drop-shadow":[xi],ease:["in","out","in-out"],font:[$W],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xi],shadow:[xi],spacing:["px",We],text:[xi],"text-shadow":[xi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Lc,we,_e,S]}],container:["container"],columns:[{columns:[We,we,_e,c]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Po,"auto",_e,we]}],basis:[{basis:[Lc,"full","auto",c,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,Lc,"auto","initial","none",we]}],grow:[{grow:["",We,_e,we]}],shrink:[{shrink:["",We,_e,we]}],order:[{order:[Po,"first","last","none",_e,we]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...Ie(),"normal"]}],"justify-items":[{"justify-items":[...Le(),"normal"]}],"justify-self":[{"justify-self":["auto",...Le()]}],"align-content":[{content:["normal",...Ie()]}],"align-items":[{items:[...Le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Le(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ie()}],"place-items":[{"place-items":[...Le(),"baseline"]}],"place-self":[{"place-self":["auto",...Le()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:Pe()}],mx:[{mx:Pe()}],my:[{my:Pe()}],ms:[{ms:Pe()}],me:[{me:Pe()}],mt:[{mt:Pe()}],mr:[{mr:Pe()}],mb:[{mb:Pe()}],ml:[{ml:Pe()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:fe()}],w:[{w:[c,"screen",...fe()]}],"min-w":[{"min-w":[c,"screen","none",...fe()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[a]},...fe()]}],h:[{h:["screen","lh",...fe()]}],"min-h":[{"min-h":["screen","lh","none",...fe()]}],"max-h":[{"max-h":["screen","lh",...fe()]}],"font-size":[{text:["base",n,Yd,$a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,_e,Yw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Qw,we]}],"font-family":[{font:[qW,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,_e,we]}],"line-clamp":[{"line-clamp":[We,"none",_e,Yw]}],leading:[{leading:[i,...P()]}],"list-image":[{"list-image":["none",_e,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",_e,$a]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[We,"auto",_e,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Po,_e,we],radial:["",_e,we],conic:[Po,_e,we]},GW,WW]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:ye()}],"rounded-s":[{"rounded-s":ye()}],"rounded-e":[{"rounded-e":ye()}],"rounded-t":[{"rounded-t":ye()}],"rounded-r":[{"rounded-r":ye()}],"rounded-b":[{"rounded-b":ye()}],"rounded-l":[{"rounded-l":ye()}],"rounded-ss":[{"rounded-ss":ye()}],"rounded-se":[{"rounded-se":ye()}],"rounded-ee":[{"rounded-ee":ye()}],"rounded-es":[{"rounded-es":ye()}],"rounded-tl":[{"rounded-tl":ye()}],"rounded-tr":[{"rounded-tr":ye()}],"rounded-br":[{"rounded-br":ye()}],"rounded-bl":[{"rounded-bl":ye()}],"border-w":[{border:Ee()}],"border-w-x":[{"border-x":Ee()}],"border-w-y":[{"border-y":Ee()}],"border-w-s":[{"border-s":Ee()}],"border-w-e":[{"border-e":Ee()}],"border-w-t":[{"border-t":Ee()}],"border-w-r":[{"border-r":Ee()}],"border-w-b":[{"border-b":Ee()}],"border-w-l":[{"border-l":Ee()}],"divide-x":[{"divide-x":Ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Fe(),"hidden","none"]}],"divide-style":[{divide:[...Fe(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,_e,we]}],"outline-w":[{outline:["",We,Yd,$a]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",p,dm,um]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",g,dm,um]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:Ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[We,$a]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":Ee()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",y,dm,um]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[We,_e,we]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":Se()}],"mask-image-linear-to-pos":[{"mask-linear-to":Se()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":Se()}],"mask-image-t-to-pos":[{"mask-t-to":Se()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":Se()}],"mask-image-r-to-pos":[{"mask-r-to":Se()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":Se()}],"mask-image-b-to-pos":[{"mask-b-to":Se()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":Se()}],"mask-image-l-to-pos":[{"mask-l-to":Se()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":Se()}],"mask-image-x-to-pos":[{"mask-x-to":Se()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":Se()}],"mask-image-y-to-pos":[{"mask-y-to":Se()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[_e,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":Se()}],"mask-image-radial-to-pos":[{"mask-radial-to":Se()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":F()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":Se()}],"mask-image-conic-to-pos":[{"mask-conic-to":Se()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,we]}],filter:[{filter:["","none",_e,we]}],blur:[{blur:ze()}],brightness:[{brightness:[We,_e,we]}],contrast:[{contrast:[We,_e,we]}],"drop-shadow":[{"drop-shadow":["","none",E,dm,um]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",We,_e,we]}],"hue-rotate":[{"hue-rotate":[We,_e,we]}],invert:[{invert:["",We,_e,we]}],saturate:[{saturate:[We,_e,we]}],sepia:[{sepia:["",We,_e,we]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,we]}],"backdrop-blur":[{"backdrop-blur":ze()}],"backdrop-brightness":[{"backdrop-brightness":[We,_e,we]}],"backdrop-contrast":[{"backdrop-contrast":[We,_e,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,_e,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,_e,we]}],"backdrop-invert":[{"backdrop-invert":["",We,_e,we]}],"backdrop-opacity":[{"backdrop-opacity":[We,_e,we]}],"backdrop-saturate":[{"backdrop-saturate":[We,_e,we]}],"backdrop-sepia":[{"backdrop-sepia":["",We,_e,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",_e,we]}],ease:[{ease:["linear","initial",R,_e,we]}],delay:[{delay:[We,_e,we]}],animate:[{animate:["none",L,_e,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,_e,we]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:je()}],"rotate-x":[{"rotate-x":je()}],"rotate-y":[{"rotate-y":je()}],"rotate-z":[{"rotate-z":je()}],scale:[{scale:ft()}],"scale-x":[{"scale-x":ft()}],"scale-y":[{"scale-y":ft()}],"scale-z":[{"scale-z":ft()}],"scale-3d":["scale-3d"],skew:[{skew:er()}],"skew-x":[{"skew-x":er()}],"skew-y":[{"skew-y":er()}],transform:[{transform:[_e,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:tr()}],"translate-x":[{"translate-x":tr()}],"translate-y":[{"translate-y":tr()}],"translate-z":[{"translate-z":tr()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,we]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[We,Yd,$a,Yw]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},XW=kW(YW);function _t(...t){return XW(c2(t))}function A0(t){const e=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];if(t<20)return e[t];if(t<100)return n[Math.floor(t/10)]+(t%10?"-"+e[t%10]:"");if(t<1e3){const r=t%100,s=e[Math.floor(t/100)]+" hundred";return r?s+" "+A0(r):s}return String(t)}function P0(t){const e=["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","diecisis","diecisiete","dieciocho","diecinueve"],n=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];if(t<20)return e[t];if(t<30)return t===20?"veinte":"veinti"+e[t-20];if(t<100)return n[Math.floor(t/10)]+(t%10?" y "+e[t%10]:"");if(t<200)return"ciento"+(t%100?" "+P0(t%100):"");if(t<1e3){const s=["cero","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"][Math.floor(t/100)],i=t%100;return s+(i?" "+P0(i):"")}return String(t)}function hne(t,e={}){if(!t||typeof t!="string")return t;const{numberToWords:n="auto",language:r,pauseOperators:s=!0}=e;let i="en";try{i=r||(localStorage.getItem("tts.lang")==="es"?"es":"en")||"en"}catch{}let a=t;a=a.replace(//g,"-").replace(/|/g,"");const c={2:"half",3:"third",4:"fourth",5:"fifth",6:"sixth",7:"seventh",8:"eighth",9:"ninth",10:"tenth",12:"twelfth"},u={2:"medios",3:"tercios",4:"cuartos",5:"quintos",6:"sextos",7:"sptimos",8:"octavos",9:"novenos",10:"dcimos",12:"duodcimos"};if([{pattern:/\s*\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\/\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\s*/g,spoken:i==="es"?" por ":" times "},{pattern:/\s*\*\s*/g,spoken:" times "},{pattern:/(\d+)\s*[xX]\s*(\d+)/g,spoken:i==="es"?"$1 por $2":"$1 times $2"},{pattern:/\s*\+\s*/g,spoken:i==="es"?" ms ":" plus "},{pattern:/(\d+)\s*-\s*(\d+)/g,spoken:i==="es"?"$1 menos $2":"$1 minus $2"},{pattern:/\s*=\s*/g,spoken:i==="es"?" igual a ":" equals "},{pattern:/\s*>\s*/g,spoken:i==="es"?" es mayor que ":" is greater than "},{pattern:/\s*<\s*/g,spoken:i==="es"?" es menor que ":" is less than "},{pattern:/\s*\s*/g,spoken:i==="es"?" es mayor o igual que ":" is greater than or equal to "},{pattern:/\s*\s*/g,spoken:i==="es"?" es menor o igual que ":" is less than or equal to "},{pattern:/(\d+)\/(\d+)/g,spoken:(p,g,y)=>i==="es"?`${g} ${u[y]||"sobre "+y}`:c[y]?`${g==="1"?"one":A0(Number(g))} ${c[y]}${g!=="1"?"s":""}`:`${g} over ${y}`},{pattern:/%/g,spoken:i==="es"?" por ciento":" percent"},{pattern:/\^(\d+)/g,spoken:i==="es"?" a la potencia de $1":" to the power of $1"},{pattern:/(\d+)/g,spoken:i==="es"?"raz cuadrada de $1":"square root of $1"}].forEach(({pattern:p,spoken:g})=>{a=a.replace(p,g)}),a=a.replace(/(\d)\.(\d)/g,i==="es"?"$1 coma $2":"$1 point $2"),a=a.replace(/\s*(,)?\s*(\?+|_+)\s*(,)?\s*/g,(p,g,y,E)=>g&&E?", ":" "),a=a.replace(/\?\s*$/g,""),s&&(i==="es"?[" ms "," menos "," por "," dividido entre "," igual a "]:[" plus "," minus "," times "," divided by "," equals "]).forEach(g=>{const y=new RegExp(g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(?!,)","g");a=a.replace(y,g+", ")}),n!=="none"){const p=i==="es"?P0:A0;a=a.replace(/\b\d+\b/g,(g,y)=>{const E=parseInt(g,10);if(!Number.isFinite(E))return g;if(n==="all")return p(E);const A=E<=20,I=a[y-1]||"",S=a[y+g.length]||"";return A||(I===","||S===",")?p(E):g})}return a=a.replace(/\s+,/g,",").replace(/,\s*,/g,", ").replace(/\s+/g," ").replace(/\s+,\s*$/g,"").trim(),a}const JW=My("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Rr({className:t,variant:e,...n}){return x.jsx("div",{className:_t(JW({variant:e}),t),...n})}function zA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $l(...t){return e=>{let n=!1;const r=t.map(s=>{const i=zA(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():zA(t[s],null)}}}}function Zn(...t){return T.useCallback($l(...t),t)}var ZW=Symbol.for("react.lazy"),Ng=cx[" use ".trim().toString()];function eq(t){return typeof t=="object"&&t!==null&&"then"in t}function _2(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===ZW&&"_payload"in t&&eq(t._payload)}function tq(t){const e=rq(t),n=T.forwardRef((r,s)=>{let{children:i,...a}=r;_2(i)&&typeof Ng=="function"&&(i=Ng(i._payload));const c=T.Children.toArray(i),u=c.find(iq);if(u){const h=u.props.children,p=c.map(g=>g===u?T.Children.count(h)>1?T.Children.only(null):T.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:T.isValidElement(h)?T.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var nq=tq("Slot");function rq(t){const e=T.forwardRef((n,r)=>{let{children:s,...i}=n;if(_2(s)&&typeof Ng=="function"&&(s=Ng(s._payload)),T.isValidElement(s)){const a=aq(s),c=oq(i,s.props);return s.type!==T.Fragment&&(c.ref=r?$l(r,a):a),T.cloneElement(s,c)}return T.Children.count(s)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var sq=Symbol("radix.slottable");function iq(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===sq}function oq(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function aq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const lq=My("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),$s=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?nq:"button";return x.jsx(a,{className:_t(lq({variant:e,size:n,className:t})),ref:i,...s})});$s.displayName="Button";const ln=wy(as);Zg(as);const x2=async(t,e={})=>{const n=Xs(ln,"users",t),r={email:t,subscription_tier:"free",subscription_expires_at:null,subscription_auto_renew:!1,trial_start_date:Mn(),trial_expires_at:null,trial_used:!1,trial_grace_used:!1,coins:0,stars_spent:0,total_stars_earned:0,owned_pets:[],active_pet:null,purchased_items:[],unlocked_items:[],power_ups:{},pet_experience:{},daily_login_streak:0,total_login_days:0,last_login_date:null,parental_controls:{enabled:!1,allowed_operations:[],allowed_levels:[],focus_operations:[],daily_time_limit_minutes:0,enforce_time_limits:!1},daily_usage_tracking:{},is_parent_mode:!1,is_premium_parent:!1,is_family_teacher:!1,parent_email:null,child_name:null,full_name:null,created_at:Mn(),updated_at:Mn(),...e};await Ay(n,r);const i=(await rD(n)).data();let a=null;if(i&&i.trial_start_date&&i.trial_start_date.toDate?a=i.trial_start_date.toDate():i&&i.trial_start_date&&i.trial_start_date.seconds&&(a=new Date(i.trial_start_date.seconds*1e3)),a){const c=new Date(a.getTime()+6048e5);return await Py(n,{trial_expires_at:rt.fromDate(c),updated_at:Mn()}),{...i,trial_expires_at:rt.fromDate(c)}}return i||r},E2=async t=>{const e=Xs(ln,"users",t),n=await rD(e);return n.exists()?{id:n.id,...n.data()}:await x2(t)},hm=async(t,e)=>{const n=Xs(ln,"users",t);await Py(n,{...e,updated_at:Mn()})},fne=async()=>{const t=Pn(ln,"users");return(await os(t)).docs.map(n=>({id:n.id,...n.data()}))},pne=async(t,e)=>{const n=Pn(ln,"gameProgress"),r=Xs(n),s={user_email:t,operation:e.operation,level:e.level,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,coins_earned:e.coins_earned||0,accuracy:e.accuracy||0,completed_at:Mn(),...e};return await Ay(r,s),{id:r.id,...s}},mne=async t=>{const e=Pn(ln,"gameProgress"),n=is(e,Mr("user_email","==",t),Bu("completed_at","desc"));return(await os(n)).docs.map(s=>({id:s.id,...s.data()}))},gne=(t,e)=>{const n=Pn(ln,"gameProgress"),r=is(n,Mr("user_email","==",t),Bu("completed_at","desc"));return sD(r,s=>{const i=s.docs.map(a=>({id:a.id,...a.data()}));e(i)})},yne=async()=>{const t=Pn(ln,"gameProgress"),e=is(t,Bu("score","desc"),gE(100));return(await os(e)).docs.map(r=>({id:r.id,...r.data()}))},vne=async(t,e)=>{const n=Pn(ln,"dailyChallenges"),r=Xs(n),s={user_email:t,challenge_type:e.challenge_type,challenge_date:e.challenge_date,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,bonus_coins:e.bonus_coins||0,completed_at:Mn(),...e};return await Ay(r,s),{id:r.id,...s}},wne=async t=>{const e=Pn(ln,"dailyChallenges"),n=is(e,Mr("user_email","==",t),Bu("completed_at","desc"));return(await os(n)).docs.map(s=>({id:s.id,...s.data()}))},_ne=async()=>{const t=Pn(ln,"dailyChallenges"),e=is(t,Bu("score","desc"),gE(100));return(await os(e)).docs.map(r=>({id:r.id,...r.data()}))},xne=async t=>{const e=Pn(ln,"teamChallenges"),n=is(e,Mr("creator_email","==",t)),r=is(e,Mr("team_members","array-contains",t)),[s,i]=await Promise.all([os(n),os(r)]),a=new Map;return s.docs.forEach(c=>a.set(c.id,{id:c.id,...c.data()})),i.docs.forEach(c=>a.set(c.id,{id:c.id,...c.data()})),Array.from(a.values())},Ene=async(t,e)=>{const n=Xs(ln,"teamChallenges",t);await Py(n,{...e,updated_at:Mn()})},Tne=async t=>{const e=Pn(ln,"tutorSessions"),n=is(e,Mr("user_email","==",t),Bu("created_at","desc"),gE(50));return(await os(n)).docs.map(s=>({id:s.id,...s.data()}))},Ine=async(t,e)=>{const n=Pn(ln,"friendConnections"),r=Xs(n),s={user_email:t,friend_email:e,status:"pending",sent_at:Mn()};return await Ay(r,s),{id:r.id,...s}},bne=async t=>{const e=Pn(ln,"friendConnections"),n=is(e,Mr("user_email","==",t),Mr("status","==","accepted")),r=is(e,Mr("friend_email","==",t),Mr("status","==","accepted")),[s,i]=await Promise.all([os(n),os(r)]);return[...s.docs.map(a=>({id:a.id,...a.data()})),...i.docs.map(a=>({id:a.id,...a.data()}))]},Sne=async t=>{const e=Pn(ln,"friendConnections"),n=is(e,Mr("friend_email","==",t),Mr("status","==","pending"));return(await os(n)).docs.map(s=>({id:s.id,...s.data()}))},Ane=async(t,e)=>{const n=Xs(ln,"friendConnections",t);await Py(n,{status:e,updated_at:Mn()})},Bm=T.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:_t("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Bm.displayName="Input";function T2(){const[t,e]=T.useState("sign-in"),[n,r]=T.useState(""),[s,i]=T.useState(""),[a,c]=T.useState(""),[u,h]=T.useState(!1),[p,g]=T.useState(""),[y,E]=T.useState(""),[A,I]=T.useState(!1),[S,R]=T.useState(!1),L=()=>{E(""),g("")},M=async()=>{if(L(),!n){E("Email required");return}if(t==="sign-up"){if(!s){E("Password required");return}if(s!==a){E("Passwords do not match");return}}if(t==="sign-in"&&!s){E("Password required");return}h(!0);try{t==="sign-up"?(await _5($w,n,s),await x2(n),g("Account created. You are signed in.")):t==="sign-in"?(await x5($w,n,s),await E2(n),g("Signed in.")):t==="reset"&&(await w5($w,n),g("Reset link sent. Check your email."))}catch(B){E((B==null?void 0:B.message)||"Auth failed")}finally{h(!1)}},F=B=>{L(),e(B)};return x.jsxs("div",{className:"w-full max-w-sm mx-auto bg-white/90 rounded-xl shadow-lg p-5 space-y-4",children:[x.jsxs("h2",{className:"text-xl font-bold text-purple-700 text-center",children:[t==="sign-in"&&"Sign In",t==="sign-up"&&"Create Account",t==="reset"&&"Reset Password"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Bm,{type:"email",autoComplete:"email",placeholder:"Email",value:n,onChange:B=>r(B.target.value)}),t!=="reset"&&x.jsxs("div",{className:"relative",children:[x.jsx(Bm,{type:A?"text":"password",autoComplete:t==="sign-up"?"new-password":"current-password",placeholder:"Password",value:s,onChange:B=>i(B.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>I(!A),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:A?x.jsx(CA,{className:"w-4 h-4"}):x.jsx(RA,{className:"w-4 h-4"})})]}),t==="sign-up"&&x.jsxs("div",{className:"relative",children:[x.jsx(Bm,{type:S?"text":"password",placeholder:"Confirm Password",value:a,onChange:B=>c(B.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>R(!S),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:S?x.jsx(CA,{className:"w-4 h-4"}):x.jsx(RA,{className:"w-4 h-4"})})]})]}),(y||p)&&x.jsx("div",{className:`text-sm rounded-md p-2 ${y?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:y||p}),x.jsx($s,{onClick:M,disabled:u,className:"w-full bg-purple-600 hover:bg-purple-700",children:u?"Please wait":t==="sign-in"?"Sign In":t==="sign-up"?"Sign Up":"Send Reset Link"}),x.jsxs("div",{className:"text-xs text-center text-gray-600 space-y-1",children:[t==="sign-in"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>F("sign-up"),className:"text-purple-600 hover:underline block w-full",children:"Need an account? Sign up"}),x.jsx("button",{onClick:()=>F("reset"),className:"text-purple-600 hover:underline block w-full",children:"Forgot password?"})]}),t==="sign-up"&&x.jsx("button",{onClick:()=>F("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Have an account? Sign in"}),t==="reset"&&x.jsx("button",{onClick:()=>F("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Back to sign in"})]})]})}const I2=t=>{if(!t)return!1;if(!t.trial_start_date||!t.trial_expires_at)return t.subscription_tier==="free"&&t.trial_used!==!0;if(t.subscription_tier!=="free"||t.trial_used===!0)return!1;const e=new Date,n=t.trial_expires_at.toDate();return e<n},cq=t=>{if(!t||!t.trial_start_date||!t.trial_expires_at||t.subscription_tier!=="free")return!1;const e=new Date,n=t.trial_expires_at.toDate();return e>=n},uq=t=>{if(!t||!t.trial_expires_at||t.subscription_tier!=="free")return 0;const e=new Date,r=t.trial_expires_at.toDate()-e;return r<=0?0:Math.ceil(r/(1e3*60*60*24))},dq=t=>t?!!(t.subscription_tier&&t.subscription_tier!=="free"||I2(t)&&t.trial_used!==!0):!1;let Dg=uz;(async()=>{try{!Dg&&await kD()&&(Dg=RD(as))}catch{}})();function Oy(t,e={}){if(Dg)try{ND(Dg,t,e)}catch(n){console.warn("analytics log skipped",t,n==null?void 0:n.message)}}const hq=t=>Oy("trial_start",{method:"auto",user_email:t}),fq=(t,e)=>Oy("trial_day",{day:e,user_email:t}),pq=t=>Oy("trial_expired",{user_email:t}),mq=t=>Oy("trial_grace_lock",{user_email:t}),FE=wy(as);async function gq(t){try{await vE(Pn(FE,"notifications"),{user_email:t,type:"trial_day6_warning",title:"Trial Ending Soon!",message:"Your 7-day trial ends tomorrow. Upgrade now to keep unlimited access to premium features!",is_read:!1,created_at:Mn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create day6 notification:",e.message)}}async function yq(t){try{await vE(Pn(FE,"notifications"),{user_email:t,type:"trial_expired",title:"Trial Ended",message:"Your 7-day trial has ended. You are now on the free plan. Upgrade anytime to regain premium features.",is_read:!1,created_at:Mn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create trial expired notification:",e.message)}}async function vq(t){try{await vE(Pn(FE,"notifications"),{user_email:t,type:"trial_grace_day",title:"Grace Day: Final Chance!",message:"Your trial expired, but you still have premium access today only. Upgrade now before it locks tomorrow.",is_read:!1,created_at:Mn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create grace day notification:",e.message)}}function wq(){const[t,e]=T.useState(null),[n,r]=T.useState(!0),[s,i]=T.useState(null);return T.useEffect(()=>{const a=Zg(as),c=wy(as);let u=null;const h=I5(a,async p=>{var g;if(!p){e(null),r(!1);return}try{e(y=>y||{email:p.email,subscription_tier:"free",coins:0}),i(null);try{const y=(g=p==null?void 0:p.metadata)!=null&&g.creationTime?new Date(p.metadata.creationTime).getTime():null,E=y?Date.now()-y<1440*60*1e3:!1,A=`optimistic_trial_${p.email}`,I=typeof window<"u"?localStorage.getItem(A):null;E&&!I&&(e(S=>({...S||{},email:p.email,subscription_tier:"free",coins:0,isOnTrial:!0,trialExpired:!1,trialDaysRemaining:7,inGraceDay:!1,hasPremiumAccess:!0,_optimisticTrial:!0})),localStorage.setItem(A,"true"))}catch{}try{if(typeof window<"u"&&window.location.search.includes("reset_trial=true")){const E=Date.now(),A=new Date(E+10080*60*1e3);await hm(p.email,{trial_start_date:Mn(),trial_expires_at:rt.fromDate(A),trial_used:!1,trial_grace_used:!1}),localStorage.removeItem(`trial_log_${p.email}`);const I=new URL(window.location.href);I.searchParams.delete("reset_trial"),window.history.replaceState({},"",I.toString()),console.info("[trial] Trial reset performed for",p.email)}}catch(y){console.warn("[trial] Trial reset attempt failed:",y==null?void 0:y.message)}u&&u(),u=sD(Xs(c,"users",p.email),y=>{var E,A;if(y.exists()){const I={id:y.id,...y.data()};(async()=>{try{if(!I.trial_start_date||!I.trial_expires_at){const z=Date.now(),V=new Date(z+10080*60*1e3);await hm(p.email,{trial_start_date:Mn(),trial_expires_at:rt.fromDate(V),trial_used:!1,trial_grace_used:!1})}}catch{}})();const S=I2(I)||!I.trial_start_date||!I.trial_expires_at,R=cq(I),L=uq(I),M=7,F=(E=I.trial_start_date)!=null&&E.toDate?Math.floor((Date.now()-I.trial_start_date.toDate().getTime())/(1e3*60*60*24)):null,B=R&&F===M&&I.trial_grace_used!==!0;e({...I,isOnTrial:S,trialExpired:R,trialDaysRemaining:L,inGraceDay:B,hasPremiumAccess:dq(I)||S||B});const G=y.id,k=`trial_log_${G}`,P=localStorage.getItem(k);let N=P?JSON.parse(P):{};const O=(A=I.trial_start_date)!=null&&A.toDate?I.trial_start_date.toDate().getTime():null;if(O){const j=N.trial_start_timestamp||null;(!j||j!==O)&&(N={})}if(I.trial_start_date&&!N.trial_start&&(hq(G),N.trial_start=!0,O&&(N.trial_start_timestamp=O)),S&&L>=0&&L<=7){const j=`day_${7-L}`;N[j]||(fq(G,7-L),N[j]=!0),L===1&&!N.notif_day6&&(gq(G),N.notif_day6=!0)}R&&I.subscription_tier==="free"&&!N.trial_expired&&(pq(G),N.trial_expired=!0,I.trial_used!==!0&&hm(y.id,{trial_used:!0}).catch(()=>{}),N.notif_expired||(yq(G),N.notif_expired=!0)),B&&!N.grace_lock&&(mq(G),N.grace_lock=!0,I.trial_grace_used!==!0&&hm(y.id,{trial_grace_used:!0}).catch(()=>{}),N.notif_grace||(vq(G),N.notif_grace=!0));try{localStorage.setItem(k,JSON.stringify(N))}catch{}}},y=>{console.error("Firestore snapshot error:",y)}),E2(p.email).catch(y=>{console.error("Failed to ensure user profile",y),i(y)})}catch(y){console.error("Failed to initialize user session",y),i(y),e({email:p.email,subscription_tier:"free",coins:0})}finally{r(!1)}});return()=>{u&&u(),h()}},[]),{user:t,loading:n,error:s}}const b2=T.createContext({user:null,loading:!0,error:null});function _q({children:t}){const e=wq();return x.jsx(b2.Provider,{value:e,children:t})}function jE(){return T.useContext(b2)}const xq=My("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),S2=T.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,role:"alert",className:_t(xq({variant:e}),t),...n}));S2.displayName="Alert";const Eq=T.forwardRef(({className:t,...e},n)=>x.jsx("h5",{ref:n,className:_t("mb-1 font-medium leading-none tracking-tight",t),...e}));Eq.displayName="AlertTitle";const A2=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:_t("text-sm [&_p]:leading-relaxed",t),...e}));A2.displayName="AlertDescription";function Tq(){const{user:t}=jE(),e=SE(),[n,r]=Zt.useState(!1),[s,i]=Zt.useState(!0);if(!t||n===!0||s===!1||!(t.isOnTrial||t.trialExpired||t.inGraceDay))return null;const c=t.trialExpired&&!t.inGraceDay,u=t.trialDaysRemaining||0,h=t.inGraceDay;return x.jsx(S2,{className:`mb-4 ${c?"bg-red-50 border-red-300":u<=2?"bg-orange-50 border-orange-300":"bg-blue-50 border-blue-300"}`,children:x.jsxs("div",{className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[h?x.jsx(nl,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}):c?x.jsx(nl,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):x.jsx($7,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),x.jsx(A2,{className:h?"text-orange-800":c?"text-red-800":"text-blue-800",children:x.jsx("div",{className:"space-y-2",children:h?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Grace Day: Final Chance!"}),x.jsx("p",{className:"text-sm",children:"Your trial expired, but you still have premium access today only. Upgrade now to keep everything before it locks tomorrow."})]}):c?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Your 7-day trial has ended"}),x.jsx("p",{className:"text-sm",children:"You're now on the free plan with limited access. Upgrade to continue enjoying premium features like unlimited games, AI tutor, and more!"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:u===0?" Trial ends today!":`${u} day${u===1?"":"s"} left in your trial`}),x.jsx("p",{className:"text-sm",children:"You're currently enjoying premium features. Upgrade now to keep unlimited access after your trial ends!"})]})})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs($s,{onClick:()=>e("/subscription"),className:`${h?"bg-orange-600 hover:bg-orange-700":c?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white whitespace-nowrap`,size:"sm",children:[x.jsx(nl,{className:"w-4 h-4 mr-1"}),"Upgrade Now"]}),x.jsx($s,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"flex-shrink-0",children:x.jsx(VE,{className:"w-4 h-4"})})]})]})})}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Pne(t,e){const n=T.createContext(e),r=i=>{const{children:a,...c}=i,u=T.useMemo(()=>c,Object.values(c));return x.jsx(n.Provider,{value:u,children:a})};r.displayName=t+"Provider";function s(i){const a=T.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Af(t,e=[]){let n=[];function r(i,a){const c=T.createContext(a),u=n.length;n=[...n,a];const h=g=>{var R;const{scope:y,children:E,...A}=g,I=((R=y==null?void 0:y[t])==null?void 0:R[u])||c,S=T.useMemo(()=>A,Object.values(A));return x.jsx(I.Provider,{value:S,children:E})};h.displayName=i+"Provider";function p(g,y){var I;const E=((I=y==null?void 0:y[t])==null?void 0:I[u])||c,A=T.useContext(E);if(A)return A;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,p]}const s=()=>{const i=n.map(a=>T.createContext(a));return function(c){const u=(c==null?void 0:c[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[r,Iq(s,...e)]}function Iq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:u,scopeName:h})=>{const g=u(i)[`__scope${h}`];return{...c,...g}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var sa=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},bq=cx[" useInsertionEffect ".trim().toString()]||sa;function P2({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=Sq({defaultProp:e,onChange:n}),c=t!==void 0,u=c?t:s;{const p=T.useRef(t!==void 0);T.useEffect(()=>{const g=p.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const h=T.useCallback(p=>{var g;if(c){const y=Aq(p)?p(t):p;y!==t&&((g=a.current)==null||g.call(a,y))}else i(p)},[c,t,i,a]);return[u,h]}function Sq({defaultProp:t,onChange:e}){const[n,r]=T.useState(t),s=T.useRef(n),i=T.useRef(e);return bq(()=>{i.current=e},[e]),T.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function Aq(t){return typeof t=="function"}function Pq(t){const e=Cq(t),n=T.forwardRef((r,s)=>{const{children:i,...a}=r,c=T.Children.toArray(i),u=c.find(kq);if(u){const h=u.props.children,p=c.map(g=>g===u?T.Children.count(h)>1?T.Children.only(null):T.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:T.isValidElement(h)?T.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function Cq(t){const e=T.forwardRef((n,r)=>{const{children:s,...i}=n;if(T.isValidElement(s)){const a=Dq(s),c=Nq(i,s.props);return s.type!==T.Fragment&&(c.ref=r?$l(r,a):a),T.cloneElement(s,c)}return T.Children.count(s)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Rq=Symbol("radix.slottable");function kq(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Rq}function Nq(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Dq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Mq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jn=Mq.reduce((t,e)=>{const n=Pq(`Primitive.${e}`),r=T.forwardRef((s,i)=>{const{asChild:a,...c}=s,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(u,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function C2(t,e){t&&kE.flushSync(()=>t.dispatchEvent(e))}function WA(t){const e=Oq(t),n=T.forwardRef((r,s)=>{const{children:i,...a}=r,c=T.Children.toArray(i),u=c.find(Lq);if(u){const h=u.props.children,p=c.map(g=>g===u?T.Children.count(h)>1?T.Children.only(null):T.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:T.isValidElement(h)?T.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function Oq(t){const e=T.forwardRef((n,r)=>{const{children:s,...i}=n;if(T.isValidElement(s)){const a=jq(s),c=Fq(i,s.props);return s.type!==T.Fragment&&(c.ref=r?$l(r,a):a),T.cloneElement(s,c)}return T.Children.count(s)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Vq=Symbol("radix.slottable");function Lq(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Vq}function Fq(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function jq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function R2(t){const e=t+"CollectionProvider",[n,r]=Af(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=I=>{const{scope:S,children:R}=I,L=Zt.useRef(null),M=Zt.useRef(new Map).current;return x.jsx(s,{scope:S,itemMap:M,collectionRef:L,children:R})};a.displayName=e;const c=t+"CollectionSlot",u=WA(c),h=Zt.forwardRef((I,S)=>{const{scope:R,children:L}=I,M=i(c,R),F=Zn(S,M.collectionRef);return x.jsx(u,{ref:F,children:L})});h.displayName=c;const p=t+"CollectionItemSlot",g="data-radix-collection-item",y=WA(p),E=Zt.forwardRef((I,S)=>{const{scope:R,children:L,...M}=I,F=Zt.useRef(null),B=Zn(S,F),G=i(p,R);return Zt.useEffect(()=>(G.itemMap.set(F,{ref:F,...M}),()=>void G.itemMap.delete(F))),x.jsx(y,{[g]:"",ref:B,children:L})});E.displayName=p;function A(I){const S=i(t+"CollectionConsumer",I);return Zt.useCallback(()=>{const L=S.collectionRef.current;if(!L)return[];const M=Array.from(L.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((G,k)=>M.indexOf(G.ref.current)-M.indexOf(k.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:h,ItemSlot:E},A,r]}var Uq=T.createContext(void 0);function k2(t){const e=T.useContext(Uq);return t||e||"ltr"}function Vi(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Bq(t,e=globalThis==null?void 0:globalThis.document){const n=Vi(t);T.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $q="DismissableLayer",C0="dismissableLayer.update",zq="dismissableLayer.pointerDownOutside",Wq="dismissableLayer.focusOutside",qA,N2=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),D2=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...u}=t,h=T.useContext(N2),[p,g]=T.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=T.useState({}),A=Zn(e,k=>g(k)),I=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),R=I.indexOf(S),L=p?I.indexOf(p):-1,M=h.layersWithOutsidePointerEventsDisabled.size>0,F=L>=R,B=Gq(k=>{const P=k.target,N=[...h.branches].some(O=>O.contains(P));!F||N||(s==null||s(k),a==null||a(k),k.defaultPrevented||c==null||c())},y),G=Kq(k=>{const P=k.target;[...h.branches].some(O=>O.contains(P))||(i==null||i(k),a==null||a(k),k.defaultPrevented||c==null||c())},y);return Bq(k=>{L===h.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},y),T.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(qA=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),HA(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=qA)}},[p,y,n,h]),T.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),HA())},[p,h]),T.useEffect(()=>{const k=()=>E({});return document.addEventListener(C0,k),()=>document.removeEventListener(C0,k)},[]),x.jsx(jn.div,{...u,ref:A,style:{pointerEvents:M?F?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,G.onFocusCapture),onBlurCapture:et(t.onBlurCapture,G.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,B.onPointerDownCapture)})});D2.displayName=$q;var qq="DismissableLayerBranch",Hq=T.forwardRef((t,e)=>{const n=T.useContext(N2),r=T.useRef(null),s=Zn(e,r);return T.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(jn.div,{...t,ref:s})});Hq.displayName=qq;function Gq(t,e=globalThis==null?void 0:globalThis.document){const n=Vi(t),r=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let u=function(){M2(zq,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Kq(t,e=globalThis==null?void 0:globalThis.document){const n=Vi(t),r=T.useRef(!1);return T.useEffect(()=>{const s=i=>{i.target&&!r.current&&M2(Wq,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function HA(){const t=new CustomEvent(C0);document.dispatchEvent(t)}function M2(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?C2(s,i):s.dispatchEvent(i)}var Xw=0;function Qq(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??GA()),document.body.insertAdjacentElement("beforeend",t[1]??GA()),Xw++,()=>{Xw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xw--}},[])}function GA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Jw="focusScope.autoFocusOnMount",Zw="focusScope.autoFocusOnUnmount",KA={bubbles:!1,cancelable:!0},Yq="FocusScope",O2=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[c,u]=T.useState(null),h=Vi(s),p=Vi(i),g=T.useRef(null),y=Zn(e,I=>u(I)),E=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let I=function(M){if(E.paused||!c)return;const F=M.target;c.contains(F)?g.current=F:ko(g.current,{select:!0})},S=function(M){if(E.paused||!c)return;const F=M.relatedTarget;F!==null&&(c.contains(F)||ko(g.current,{select:!0}))},R=function(M){if(document.activeElement===document.body)for(const B of M)B.removedNodes.length>0&&ko(c)};document.addEventListener("focusin",I),document.addEventListener("focusout",S);const L=new MutationObserver(R);return c&&L.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",S),L.disconnect()}}},[r,c,E.paused]),T.useEffect(()=>{if(c){YA.add(E);const I=document.activeElement;if(!c.contains(I)){const R=new CustomEvent(Jw,KA);c.addEventListener(Jw,h),c.dispatchEvent(R),R.defaultPrevented||(Xq(nH(V2(c)),{select:!0}),document.activeElement===I&&ko(c))}return()=>{c.removeEventListener(Jw,h),setTimeout(()=>{const R=new CustomEvent(Zw,KA);c.addEventListener(Zw,p),c.dispatchEvent(R),R.defaultPrevented||ko(I??document.body,{select:!0}),c.removeEventListener(Zw,p),YA.remove(E)},0)}}},[c,h,p,E]);const A=T.useCallback(I=>{if(!n&&!r||E.paused)return;const S=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,R=document.activeElement;if(S&&R){const L=I.currentTarget,[M,F]=Jq(L);M&&F?!I.shiftKey&&R===F?(I.preventDefault(),n&&ko(M,{select:!0})):I.shiftKey&&R===M&&(I.preventDefault(),n&&ko(F,{select:!0})):R===L&&I.preventDefault()}},[n,r,E.paused]);return x.jsx(jn.div,{tabIndex:-1,...a,ref:y,onKeyDown:A})});O2.displayName=Yq;function Xq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ko(r,{select:e}),document.activeElement!==n)return}function Jq(t){const e=V2(t),n=QA(e,t),r=QA(e.reverse(),t);return[n,r]}function V2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function QA(t,e){for(const n of t)if(!Zq(n,{upTo:e}))return n}function Zq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function eH(t){return t instanceof HTMLInputElement&&"select"in t}function ko(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&eH(t)&&e&&t.select()}}var YA=tH();function tH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=XA(t,e),t.unshift(e)},remove(e){var n;t=XA(t,e),(n=t[0])==null||n.resume()}}}function XA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function nH(t){return t.filter(e=>e.tagName!=="A")}var rH=cx[" useId ".trim().toString()]||(()=>{}),sH=0;function R0(t){const[e,n]=T.useState(rH());return sa(()=>{n(r=>r??String(sH++))},[t]),e?`radix-${e}`:""}const iH=["top","right","bottom","left"],ia=Math.min,hr=Math.max,Mg=Math.round,fm=Math.floor,zs=t=>({x:t,y:t}),oH={left:"right",right:"left",bottom:"top",top:"bottom"},aH={start:"end",end:"start"};function k0(t,e,n){return hr(t,ia(e,n))}function Li(t,e){return typeof t=="function"?t(e):t}function Fi(t){return t.split("-")[0]}function Hu(t){return t.split("-")[1]}function UE(t){return t==="x"?"y":"x"}function BE(t){return t==="y"?"height":"width"}const lH=new Set(["top","bottom"]);function Vs(t){return lH.has(Fi(t))?"y":"x"}function $E(t){return UE(Vs(t))}function cH(t,e,n){n===void 0&&(n=!1);const r=Hu(t),s=$E(t),i=BE(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Og(a)),[a,Og(a)]}function uH(t){const e=Og(t);return[N0(t),e,N0(e)]}function N0(t){return t.replace(/start|end/g,e=>aH[e])}const JA=["left","right"],ZA=["right","left"],dH=["top","bottom"],hH=["bottom","top"];function fH(t,e,n){switch(t){case"top":case"bottom":return n?e?ZA:JA:e?JA:ZA;case"left":case"right":return e?dH:hH;default:return[]}}function pH(t,e,n,r){const s=Hu(t);let i=fH(Fi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(N0)))),i}function Og(t){return t.replace(/left|right|bottom|top/g,e=>oH[e])}function mH(t){return{top:0,right:0,bottom:0,left:0,...t}}function L2(t){return typeof t!="number"?mH(t):{top:t,right:t,bottom:t,left:t}}function Vg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function eP(t,e,n){let{reference:r,floating:s}=t;const i=Vs(e),a=$E(e),c=BE(a),u=Fi(e),h=i==="y",p=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,y=r[c]/2-s[c]/2;let E;switch(u){case"top":E={x:p,y:r.y-s.height};break;case"bottom":E={x:p,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:g};break;case"left":E={x:r.x-s.width,y:g};break;default:E={x:r.x,y:r.y}}switch(Hu(e)){case"start":E[a]-=y*(n&&h?-1:1);break;case"end":E[a]+=y*(n&&h?-1:1);break}return E}const gH=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:g}=eP(h,r,u),y=r,E={},A=0;for(let I=0;I<c.length;I++){const{name:S,fn:R}=c[I],{x:L,y:M,data:F,reset:B}=await R({x:p,y:g,initialPlacement:r,placement:y,strategy:s,middlewareData:E,rects:h,platform:a,elements:{reference:t,floating:e}});p=L??p,g=M??g,E={...E,[S]:{...E[S],...F}},B&&A<=50&&(A++,typeof B=="object"&&(B.placement&&(y=B.placement),B.rects&&(h=B.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):B.rects),{x:p,y:g}=eP(h,y,u)),I=-1)}return{x:p,y:g,placement:y,strategy:s,middlewareData:E}};async function qh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:c,strategy:u}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:y=!1,padding:E=0}=Li(e,t),A=L2(E),S=c[y?g==="floating"?"reference":"floating":g],R=Vg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:h,rootBoundary:p,strategy:u})),L=g==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,M=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),F=await(i.isElement==null?void 0:i.isElement(M))?await(i.getScale==null?void 0:i.getScale(M))||{x:1,y:1}:{x:1,y:1},B=Vg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:L,offsetParent:M,strategy:u}):L);return{top:(R.top-B.top+A.top)/F.y,bottom:(B.bottom-R.bottom+A.bottom)/F.y,left:(R.left-B.left+A.left)/F.x,right:(B.right-R.right+A.right)/F.x}}const yH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:c,middlewareData:u}=e,{element:h,padding:p=0}=Li(t,e)||{};if(h==null)return{};const g=L2(p),y={x:n,y:r},E=$E(s),A=BE(E),I=await a.getDimensions(h),S=E==="y",R=S?"top":"left",L=S?"bottom":"right",M=S?"clientHeight":"clientWidth",F=i.reference[A]+i.reference[E]-y[E]-i.floating[A],B=y[E]-i.reference[E],G=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let k=G?G[M]:0;(!k||!await(a.isElement==null?void 0:a.isElement(G)))&&(k=c.floating[M]||i.floating[A]);const P=F/2-B/2,N=k/2-I[A]/2-1,O=ia(g[R],N),j=ia(g[L],N),z=O,V=k-I[A]-j,Ie=k/2-I[A]/2+P,Le=k0(z,Ie,V),Pe=!u.arrow&&Hu(s)!=null&&Ie!==Le&&i.reference[A]/2-(Ie<z?O:j)-I[A]/2<0,fe=Pe?Ie<z?Ie-z:Ie-V:0;return{[E]:y[E]+fe,data:{[E]:Le,centerOffset:Ie-Le-fe,...Pe&&{alignmentOffset:fe}},reset:Pe}}}),vH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:c,platform:u,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:I=!0,...S}=Li(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const R=Fi(s),L=Vs(c),M=Fi(c)===c,F=await(u.isRTL==null?void 0:u.isRTL(h.floating)),B=y||(M||!I?[Og(c)]:uH(c)),G=A!=="none";!y&&G&&B.push(...pH(c,I,A,F));const k=[c,...B],P=await qh(e,S),N=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&N.push(P[R]),g){const Ie=cH(s,a,F);N.push(P[Ie[0]],P[Ie[1]])}if(O=[...O,{placement:s,overflows:N}],!N.every(Ie=>Ie<=0)){var j,z;const Ie=(((j=i.flip)==null?void 0:j.index)||0)+1,Le=k[Ie];if(Le&&(!(g==="alignment"?L!==Vs(Le):!1)||O.every(K=>Vs(K.placement)===L?K.overflows[0]>0:!0)))return{data:{index:Ie,overflows:O},reset:{placement:Le}};let Pe=(z=O.filter(fe=>fe.overflows[0]<=0).sort((fe,K)=>fe.overflows[1]-K.overflows[1])[0])==null?void 0:z.placement;if(!Pe)switch(E){case"bestFit":{var V;const fe=(V=O.filter(K=>{if(G){const ne=Vs(K.placement);return ne===L||ne==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(ne=>ne>0).reduce((ne,ie)=>ne+ie,0)]).sort((K,ne)=>K[1]-ne[1])[0])==null?void 0:V[0];fe&&(Pe=fe);break}case"initialPlacement":Pe=c;break}if(s!==Pe)return{reset:{placement:Pe}}}return{}}}};function tP(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function nP(t){return iH.some(e=>t[e]>=0)}const wH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Li(t,e);switch(r){case"referenceHidden":{const i=await qh(e,{...s,elementContext:"reference"}),a=tP(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:nP(a)}}}case"escaped":{const i=await qh(e,{...s,altBoundary:!0}),a=tP(i,n.floating);return{data:{escapedOffsets:a,escaped:nP(a)}}}default:return{}}}}},F2=new Set(["left","top"]);async function _H(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Fi(n),c=Hu(n),u=Vs(n)==="y",h=F2.has(a)?-1:1,p=i&&u?-1:1,g=Li(e,t);let{mainAxis:y,crossAxis:E,alignmentAxis:A}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof A=="number"&&(E=c==="end"?A*-1:A),u?{x:E*p,y:y*h}:{x:y*h,y:E*p}}const xH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:c}=e,u=await _H(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:a}}}}},EH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:S=>{let{x:R,y:L}=S;return{x:R,y:L}}},...u}=Li(t,e),h={x:n,y:r},p=await qh(e,u),g=Vs(Fi(s)),y=UE(g);let E=h[y],A=h[g];if(i){const S=y==="y"?"top":"left",R=y==="y"?"bottom":"right",L=E+p[S],M=E-p[R];E=k0(L,E,M)}if(a){const S=g==="y"?"top":"left",R=g==="y"?"bottom":"right",L=A+p[S],M=A-p[R];A=k0(L,A,M)}const I=c.fn({...e,[y]:E,[g]:A});return{...I,data:{x:I.x-n,y:I.y-r,enabled:{[y]:i,[g]:a}}}}}},TH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=Li(t,e),p={x:n,y:r},g=Vs(s),y=UE(g);let E=p[y],A=p[g];const I=Li(c,e),S=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(u){const M=y==="y"?"height":"width",F=i.reference[y]-i.floating[M]+S.mainAxis,B=i.reference[y]+i.reference[M]-S.mainAxis;E<F?E=F:E>B&&(E=B)}if(h){var R,L;const M=y==="y"?"width":"height",F=F2.has(Fi(s)),B=i.reference[g]-i.floating[M]+(F&&((R=a.offset)==null?void 0:R[g])||0)+(F?0:S.crossAxis),G=i.reference[g]+i.reference[M]+(F?0:((L=a.offset)==null?void 0:L[g])||0)-(F?S.crossAxis:0);A<B?A=B:A>G&&(A=G)}return{[y]:E,[g]:A}}}},IH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:c}=e,{apply:u=()=>{},...h}=Li(t,e),p=await qh(e,h),g=Fi(s),y=Hu(s),E=Vs(s)==="y",{width:A,height:I}=i.floating;let S,R;g==="top"||g==="bottom"?(S=g,R=y===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(R=g,S=y==="end"?"top":"bottom");const L=I-p.top-p.bottom,M=A-p.left-p.right,F=ia(I-p[S],L),B=ia(A-p[R],M),G=!e.middlewareData.shift;let k=F,P=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=M),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=L),G&&!y){const O=hr(p.left,0),j=hr(p.right,0),z=hr(p.top,0),V=hr(p.bottom,0);E?P=A-2*(O!==0||j!==0?O+j:hr(p.left,p.right)):k=I-2*(z!==0||V!==0?z+V:hr(p.top,p.bottom))}await u({...e,availableWidth:P,availableHeight:k});const N=await a.getDimensions(c.floating);return A!==N.width||I!==N.height?{reset:{rects:!0}}:{}}}};function Vy(){return typeof window<"u"}function Gu(t){return j2(t)?(t.nodeName||"").toLowerCase():"#document"}function gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ei(t){var e;return(e=(j2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function j2(t){return Vy()?t instanceof Node||t instanceof gr(t).Node:!1}function ls(t){return Vy()?t instanceof Element||t instanceof gr(t).Element:!1}function Ys(t){return Vy()?t instanceof HTMLElement||t instanceof gr(t).HTMLElement:!1}function rP(t){return!Vy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gr(t).ShadowRoot}const bH=new Set(["inline","contents"]);function Pf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=cs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!bH.has(s)}const SH=new Set(["table","td","th"]);function AH(t){return SH.has(Gu(t))}const PH=[":popover-open",":modal"];function Ly(t){return PH.some(e=>{try{return t.matches(e)}catch{return!1}})}const CH=["transform","translate","scale","rotate","perspective"],RH=["transform","translate","scale","rotate","perspective","filter"],kH=["paint","layout","strict","content"];function zE(t){const e=WE(),n=ls(t)?cs(t):t;return CH.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||RH.some(r=>(n.willChange||"").includes(r))||kH.some(r=>(n.contain||"").includes(r))}function NH(t){let e=oa(t);for(;Ys(e)&&!Du(e);){if(zE(e))return e;if(Ly(e))return null;e=oa(e)}return null}function WE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DH=new Set(["html","body","#document"]);function Du(t){return DH.has(Gu(t))}function cs(t){return gr(t).getComputedStyle(t)}function Fy(t){return ls(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oa(t){if(Gu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rP(t)&&t.host||ei(t);return rP(e)?e.host:e}function U2(t){const e=oa(t);return Du(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ys(e)&&Pf(e)?e:U2(e)}function Hh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=U2(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=gr(s);if(i){const c=D0(a);return e.concat(a,a.visualViewport||[],Pf(s)?s:[],c&&n?Hh(c):[])}return e.concat(s,Hh(s,[],n))}function D0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function B2(t){const e=cs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ys(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,c=Mg(n)!==i||Mg(r)!==a;return c&&(n=i,r=a),{width:n,height:r,$:c}}function qE(t){return ls(t)?t:t.contextElement}function su(t){const e=qE(t);if(!Ys(e))return zs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=B2(e);let a=(i?Mg(n.width):n.width)/r,c=(i?Mg(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const MH=zs(0);function $2(t){const e=gr(t);return!WE()||!e.visualViewport?MH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function OH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gr(t)?!1:e}function Ml(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=qE(t);let a=zs(1);e&&(r?ls(r)&&(a=su(r)):a=su(t));const c=OH(i,n,r)?$2(i):zs(0);let u=(s.left+c.x)/a.x,h=(s.top+c.y)/a.y,p=s.width/a.x,g=s.height/a.y;if(i){const y=gr(i),E=r&&ls(r)?gr(r):r;let A=y,I=D0(A);for(;I&&r&&E!==A;){const S=su(I),R=I.getBoundingClientRect(),L=cs(I),M=R.left+(I.clientLeft+parseFloat(L.paddingLeft))*S.x,F=R.top+(I.clientTop+parseFloat(L.paddingTop))*S.y;u*=S.x,h*=S.y,p*=S.x,g*=S.y,u+=M,h+=F,A=gr(I),I=D0(A)}}return Vg({width:p,height:g,x:u,y:h})}function jy(t,e){const n=Fy(t).scrollLeft;return e?e.left+n:Ml(ei(t)).left+n}function z2(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-jy(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function VH(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=ei(r),c=e?Ly(e.floating):!1;if(r===a||c&&i)return n;let u={scrollLeft:0,scrollTop:0},h=zs(1);const p=zs(0),g=Ys(r);if((g||!g&&!i)&&((Gu(r)!=="body"||Pf(a))&&(u=Fy(r)),Ys(r))){const E=Ml(r);h=su(r),p.x=E.x+r.clientLeft,p.y=E.y+r.clientTop}const y=a&&!g&&!i?z2(a,u):zs(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-u.scrollLeft*h.x+p.x+y.x,y:n.y*h.y-u.scrollTop*h.y+p.y+y.y}}function LH(t){return Array.from(t.getClientRects())}function FH(t){const e=ei(t),n=Fy(t),r=t.ownerDocument.body,s=hr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=hr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+jy(t);const c=-n.scrollTop;return cs(r).direction==="rtl"&&(a+=hr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:c}}const sP=25;function jH(t,e){const n=gr(t),r=ei(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,u=0;if(s){i=s.width,a=s.height;const p=WE();(!p||p&&e==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}const h=jy(r);if(h<=0){const p=r.ownerDocument,g=p.body,y=getComputedStyle(g),E=p.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,A=Math.abs(r.clientWidth-g.clientWidth-E);A<=sP&&(i-=A)}else h<=sP&&(i+=h);return{width:i,height:a,x:c,y:u}}const UH=new Set(["absolute","fixed"]);function BH(t,e){const n=Ml(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ys(t)?su(t):zs(1),a=t.clientWidth*i.x,c=t.clientHeight*i.y,u=s*i.x,h=r*i.y;return{width:a,height:c,x:u,y:h}}function iP(t,e,n){let r;if(e==="viewport")r=jH(t,n);else if(e==="document")r=FH(ei(t));else if(ls(e))r=BH(e,n);else{const s=$2(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Vg(r)}function W2(t,e){const n=oa(t);return n===e||!ls(n)||Du(n)?!1:cs(n).position==="fixed"||W2(n,e)}function $H(t,e){const n=e.get(t);if(n)return n;let r=Hh(t,[],!1).filter(c=>ls(c)&&Gu(c)!=="body"),s=null;const i=cs(t).position==="fixed";let a=i?oa(t):t;for(;ls(a)&&!Du(a);){const c=cs(a),u=zE(a);!u&&c.position==="fixed"&&(s=null),(i?!u&&!s:!u&&c.position==="static"&&!!s&&UH.has(s.position)||Pf(a)&&!u&&W2(t,a))?r=r.filter(p=>p!==a):s=c,a=oa(a)}return e.set(t,r),r}function zH(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Ly(e)?[]:$H(e,this._c):[].concat(n),r],c=a[0],u=a.reduce((h,p)=>{const g=iP(e,p,s);return h.top=hr(g.top,h.top),h.right=ia(g.right,h.right),h.bottom=ia(g.bottom,h.bottom),h.left=hr(g.left,h.left),h},iP(e,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function WH(t){const{width:e,height:n}=B2(t);return{width:e,height:n}}function qH(t,e,n){const r=Ys(e),s=ei(e),i=n==="fixed",a=Ml(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const u=zs(0);function h(){u.x=jy(s)}if(r||!r&&!i)if((Gu(e)!=="body"||Pf(s))&&(c=Fy(e)),r){const E=Ml(e,!0,i,e);u.x=E.x+e.clientLeft,u.y=E.y+e.clientTop}else s&&h();i&&!r&&s&&h();const p=s&&!r&&!i?z2(s,c):zs(0),g=a.left+c.scrollLeft-u.x-p.x,y=a.top+c.scrollTop-u.y-p.y;return{x:g,y,width:a.width,height:a.height}}function e_(t){return cs(t).position==="static"}function oP(t,e){if(!Ys(t)||cs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ei(t)===n&&(n=n.ownerDocument.body),n}function q2(t,e){const n=gr(t);if(Ly(t))return n;if(!Ys(t)){let s=oa(t);for(;s&&!Du(s);){if(ls(s)&&!e_(s))return s;s=oa(s)}return n}let r=oP(t,e);for(;r&&AH(r)&&e_(r);)r=oP(r,e);return r&&Du(r)&&e_(r)&&!zE(r)?n:r||NH(t)||n}const HH=async function(t){const e=this.getOffsetParent||q2,n=this.getDimensions,r=await n(t.floating);return{reference:qH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function GH(t){return cs(t).direction==="rtl"}const KH={convertOffsetParentRelativeRectToViewportRelativeRect:VH,getDocumentElement:ei,getClippingRect:zH,getOffsetParent:q2,getElementRects:HH,getClientRects:LH,getDimensions:WH,getScale:su,isElement:ls,isRTL:GH};function H2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function QH(t,e){let n=null,r;const s=ei(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const h=t.getBoundingClientRect(),{left:p,top:g,width:y,height:E}=h;if(c||e(),!y||!E)return;const A=fm(g),I=fm(s.clientWidth-(p+y)),S=fm(s.clientHeight-(g+E)),R=fm(p),M={rootMargin:-A+"px "+-I+"px "+-S+"px "+-R+"px",threshold:hr(0,ia(1,u))||1};let F=!0;function B(G){const k=G[0].intersectionRatio;if(k!==u){if(!F)return a();k?a(!1,k):r=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!H2(h,t.getBoundingClientRect())&&a(),F=!1}try{n=new IntersectionObserver(B,{...M,root:s.ownerDocument})}catch{n=new IntersectionObserver(B,M)}n.observe(t)}return a(!0),i}function YH(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,h=qE(t),p=s||i?[...h?Hh(h):[],...Hh(e)]:[];p.forEach(R=>{s&&R.addEventListener("scroll",n,{passive:!0}),i&&R.addEventListener("resize",n)});const g=h&&c?QH(h,n):null;let y=-1,E=null;a&&(E=new ResizeObserver(R=>{let[L]=R;L&&L.target===h&&E&&(E.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var M;(M=E)==null||M.observe(e)})),n()}),h&&!u&&E.observe(h),E.observe(e));let A,I=u?Ml(t):null;u&&S();function S(){const R=Ml(t);I&&!H2(I,R)&&n(),I=R,A=requestAnimationFrame(S)}return n(),()=>{var R;p.forEach(L=>{s&&L.removeEventListener("scroll",n),i&&L.removeEventListener("resize",n)}),g==null||g(),(R=E)==null||R.disconnect(),E=null,u&&cancelAnimationFrame(A)}}const XH=xH,JH=EH,ZH=vH,eG=IH,tG=wH,aP=yH,nG=TH,rG=(t,e,n)=>{const r=new Map,s={platform:KH,...n},i={...s.platform,_c:r};return gH(t,e,{...s,platform:i})};var sG=typeof document<"u",iG=function(){},$m=sG?T.useLayoutEffect:iG;function Lg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Lg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Lg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function G2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lP(t,e){const n=G2(t);return Math.round(e*n)/n}function t_(t){const e=T.useRef(t);return $m(()=>{e.current=t}),e}function oG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:u,open:h}=t,[p,g]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,E]=T.useState(r);Lg(y,r)||E(r);const[A,I]=T.useState(null),[S,R]=T.useState(null),L=T.useCallback(K=>{K!==G.current&&(G.current=K,I(K))},[]),M=T.useCallback(K=>{K!==k.current&&(k.current=K,R(K))},[]),F=i||A,B=a||S,G=T.useRef(null),k=T.useRef(null),P=T.useRef(p),N=u!=null,O=t_(u),j=t_(s),z=t_(h),V=T.useCallback(()=>{if(!G.current||!k.current)return;const K={placement:e,strategy:n,middleware:y};j.current&&(K.platform=j.current),rG(G.current,k.current,K).then(ne=>{const ie={...ne,isPositioned:z.current!==!1};Ie.current&&!Lg(P.current,ie)&&(P.current=ie,kE.flushSync(()=>{g(ie)}))})},[y,e,n,j,z]);$m(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,g(K=>({...K,isPositioned:!1})))},[h]);const Ie=T.useRef(!1);$m(()=>(Ie.current=!0,()=>{Ie.current=!1}),[]),$m(()=>{if(F&&(G.current=F),B&&(k.current=B),F&&B){if(O.current)return O.current(F,B,V);V()}},[F,B,V,O,N]);const Le=T.useMemo(()=>({reference:G,floating:k,setReference:L,setFloating:M}),[L,M]),Pe=T.useMemo(()=>({reference:F,floating:B}),[F,B]),fe=T.useMemo(()=>{const K={position:n,left:0,top:0};if(!Pe.floating)return K;const ne=lP(Pe.floating,p.x),ie=lP(Pe.floating,p.y);return c?{...K,transform:"translate("+ne+"px, "+ie+"px)",...G2(Pe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ie}},[n,c,Pe.floating,p.x,p.y]);return T.useMemo(()=>({...p,update:V,refs:Le,elements:Pe,floatingStyles:fe}),[p,V,Le,Pe,fe])}const aG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?aP({element:r.current,padding:s}).fn(n):{}:r?aP({element:r,padding:s}).fn(n):{}}}},lG=(t,e)=>({...XH(t),options:[t,e]}),cG=(t,e)=>({...JH(t),options:[t,e]}),uG=(t,e)=>({...nG(t),options:[t,e]}),dG=(t,e)=>({...ZH(t),options:[t,e]}),hG=(t,e)=>({...eG(t),options:[t,e]}),fG=(t,e)=>({...tG(t),options:[t,e]}),pG=(t,e)=>({...aG(t),options:[t,e]});var mG="Arrow",K2=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx(jn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});K2.displayName=mG;var gG=K2;function yG(t){const[e,n]=T.useState(void 0);return sa(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,c;if("borderBoxSize"in i){const u=i.borderBoxSize,h=Array.isArray(u)?u[0]:u;a=h.inlineSize,c=h.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var HE="Popper",[Q2,Y2]=Af(HE),[vG,X2]=Q2(HE),J2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=T.useState(null);return x.jsx(vG,{scope:e,anchor:r,onAnchorChange:s,children:n})};J2.displayName=HE;var Z2="PopperAnchor",eM=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=X2(Z2,n),a=T.useRef(null),c=Zn(e,a),u=T.useRef(null);return T.useEffect(()=>{const h=u.current;u.current=(r==null?void 0:r.current)||a.current,h!==u.current&&i.onAnchorChange(u.current)}),r?null:x.jsx(jn.div,{...s,ref:c})});eM.displayName=Z2;var GE="PopperContent",[wG,_G]=Q2(GE),tM=T.forwardRef((t,e)=>{var Se,ze,je,ft,er,tr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:E="optimized",onPlaced:A,...I}=t,S=X2(GE,n),[R,L]=T.useState(null),M=Zn(e,Bn=>L(Bn)),[F,B]=T.useState(null),G=yG(F),k=(G==null?void 0:G.width)??0,P=(G==null?void 0:G.height)??0,N=r+(i!=="center"?"-"+i:""),O=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},j=Array.isArray(h)?h:[h],z=j.length>0,V={padding:O,boundary:j.filter(EG),altBoundary:z},{refs:Ie,floatingStyles:Le,placement:Pe,isPositioned:fe,middlewareData:K}=oG({strategy:"fixed",placement:N,whileElementsMounted:(...Bn)=>YH(...Bn,{animationFrame:E==="always"}),elements:{reference:S.anchor},middleware:[lG({mainAxis:s+P,alignmentAxis:a}),u&&cG({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?uG():void 0,...V}),u&&dG({...V}),hG({...V,apply:({elements:Bn,rects:ti,availableWidth:ql,availableHeight:Gi})=>{const{width:ni,height:pa}=ti.reference,gt=Bn.floating.style;gt.setProperty("--radix-popper-available-width",`${ql}px`),gt.setProperty("--radix-popper-available-height",`${Gi}px`),gt.setProperty("--radix-popper-anchor-width",`${ni}px`),gt.setProperty("--radix-popper-anchor-height",`${pa}px`)}}),F&&pG({element:F,padding:c}),TG({arrowWidth:k,arrowHeight:P}),y&&fG({strategy:"referenceHidden",...V})]}),[ne,ie]=sM(Pe),q=Vi(A);sa(()=>{fe&&(q==null||q())},[fe,q]);const re=(Se=K.arrow)==null?void 0:Se.x,ye=(ze=K.arrow)==null?void 0:ze.y,Ee=((je=K.arrow)==null?void 0:je.centerOffset)!==0,[Fe,Oe]=T.useState();return sa(()=>{R&&Oe(window.getComputedStyle(R).zIndex)},[R]),x.jsx("div",{ref:Ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...Le,transform:fe?Le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(ft=K.transformOrigin)==null?void 0:ft.x,(er=K.transformOrigin)==null?void 0:er.y].join(" "),...((tr=K.hide)==null?void 0:tr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(wG,{scope:n,placedSide:ne,onArrowChange:B,arrowX:re,arrowY:ye,shouldHideArrow:Ee,children:x.jsx(jn.div,{"data-side":ne,"data-align":ie,...I,ref:M,style:{...I.style,animation:fe?void 0:"none"}})})})});tM.displayName=GE;var nM="PopperArrow",xG={top:"bottom",right:"left",bottom:"top",left:"right"},rM=T.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=_G(nM,r),a=xG[i.placedSide];return x.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:x.jsx(gG,{...s,ref:n,style:{...s.style,display:"block"}})})});rM.displayName=nM;function EG(t){return t!==null}var TG=t=>({name:"transformOrigin",options:t,fn(e){var S,R,L;const{placement:n,rects:r,middlewareData:s}=e,a=((S=s.arrow)==null?void 0:S.centerOffset)!==0,c=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[h,p]=sM(n),g={start:"0%",center:"50%",end:"100%"}[p],y=(((R=s.arrow)==null?void 0:R.x)??0)+c/2,E=(((L=s.arrow)==null?void 0:L.y)??0)+u/2;let A="",I="";return h==="bottom"?(A=a?g:`${y}px`,I=`${-u}px`):h==="top"?(A=a?g:`${y}px`,I=`${r.floating.height+u}px`):h==="right"?(A=`${-u}px`,I=a?g:`${E}px`):h==="left"&&(A=`${r.floating.width+u}px`,I=a?g:`${E}px`),{data:{x:A,y:I}}}});function sM(t){const[e,n="center"]=t.split("-");return[e,n]}var IG=J2,bG=eM,SG=tM,AG=rM,PG="Portal",iM=T.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,i]=T.useState(!1);sa(()=>i(!0),[]);const a=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?D8.createPortal(x.jsx(jn.div,{...r,ref:e}),a):null});iM.displayName=PG;function CG(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var Cf=t=>{const{present:e,children:n}=t,r=RG(e),s=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),i=Zn(r.ref,kG(s));return typeof n=="function"||r.isPresent?T.cloneElement(s,{ref:i}):null};Cf.displayName="Presence";function RG(t){const[e,n]=T.useState(),r=T.useRef(null),s=T.useRef(t),i=T.useRef("none"),a=t?"mounted":"unmounted",[c,u]=CG(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const h=pm(r.current);i.current=c==="mounted"?h:"none"},[c]),sa(()=>{const h=r.current,p=s.current;if(p!==t){const y=i.current,E=pm(h);t?u("MOUNT"):E==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(p&&y!==E?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),sa(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=E=>{const I=pm(r.current).includes(CSS.escape(E.animationName));if(E.target===e&&I&&(u("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},y=E=>{E.target===e&&(i.current=pm(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:T.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function pm(t){return(t==null?void 0:t.animationName)||"none"}function kG(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var n_="rovingFocusGroup.onEntryFocus",NG={bubbles:!1,cancelable:!0},Rf="RovingFocusGroup",[M0,oM,DG]=R2(Rf),[MG,aM]=Af(Rf,[DG]),[OG,VG]=MG(Rf),lM=T.forwardRef((t,e)=>x.jsx(M0.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(M0.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(LG,{...t,ref:e})})}));lM.displayName=Rf;var LG=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=t,y=T.useRef(null),E=Zn(e,y),A=k2(i),[I,S]=P2({prop:a,defaultProp:c??null,onChange:u,caller:Rf}),[R,L]=T.useState(!1),M=Vi(h),F=oM(n),B=T.useRef(!1),[G,k]=T.useState(0);return T.useEffect(()=>{const P=y.current;if(P)return P.addEventListener(n_,M),()=>P.removeEventListener(n_,M)},[M]),x.jsx(OG,{scope:n,orientation:r,dir:A,loop:s,currentTabStopId:I,onItemFocus:T.useCallback(P=>S(P),[S]),onItemShiftTab:T.useCallback(()=>L(!0),[]),onFocusableItemAdd:T.useCallback(()=>k(P=>P+1),[]),onFocusableItemRemove:T.useCallback(()=>k(P=>P-1),[]),children:x.jsx(jn.div,{tabIndex:R||G===0?-1:0,"data-orientation":r,...g,ref:E,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{B.current=!0}),onFocus:et(t.onFocus,P=>{const N=!B.current;if(P.target===P.currentTarget&&N&&!R){const O=new CustomEvent(n_,NG);if(P.currentTarget.dispatchEvent(O),!O.defaultPrevented){const j=F().filter(Pe=>Pe.focusable),z=j.find(Pe=>Pe.active),V=j.find(Pe=>Pe.id===I),Le=[z,V,...j].filter(Boolean).map(Pe=>Pe.ref.current);dM(Le,p)}}B.current=!1}),onBlur:et(t.onBlur,()=>L(!1))})})}),cM="RovingFocusGroupItem",uM=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...c}=t,u=R0(),h=i||u,p=VG(cM,n),g=p.currentTabStopId===h,y=oM(n),{onFocusableItemAdd:E,onFocusableItemRemove:A,currentTabStopId:I}=p;return T.useEffect(()=>{if(r)return E(),()=>A()},[r,E,A]),x.jsx(M0.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:x.jsx(jn.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:et(t.onMouseDown,S=>{r?p.onItemFocus(h):S.preventDefault()}),onFocus:et(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:et(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const R=UG(S,p.orientation,p.dir);if(R!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let M=y().filter(F=>F.focusable).map(F=>F.ref.current);if(R==="last")M.reverse();else if(R==="prev"||R==="next"){R==="prev"&&M.reverse();const F=M.indexOf(S.currentTarget);M=p.loop?BG(M,F+1):M.slice(F+1)}setTimeout(()=>dM(M))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:I!=null}):a})})});uM.displayName=cM;var FG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function UG(t,e,n){const r=jG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return FG[r]}function dM(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function BG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var $G=lM,zG=uM;function WG(t){const e=qG(t),n=T.forwardRef((r,s)=>{const{children:i,...a}=r,c=T.Children.toArray(i),u=c.find(GG);if(u){const h=u.props.children,p=c.map(g=>g===u?T.Children.count(h)>1?T.Children.only(null):T.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:T.isValidElement(h)?T.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function qG(t){const e=T.forwardRef((n,r)=>{const{children:s,...i}=n;if(T.isValidElement(s)){const a=QG(s),c=KG(i,s.props);return s.type!==T.Fragment&&(c.ref=r?$l(r,a):a),T.cloneElement(s,c)}return T.Children.count(s)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var HG=Symbol("radix.slottable");function GG(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===HG}function KG(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function QG(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var YG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Fc=new WeakMap,mm=new WeakMap,gm={},r_=0,hM=function(t){return t&&(t.host||hM(t.parentNode))},XG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=hM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},JG=function(t,e,n,r){var s=XG(e,Array.isArray(t)?t:[t]);gm[n]||(gm[n]=new WeakMap);var i=gm[n],a=[],c=new Set,u=new Set(s),h=function(g){!g||c.has(g)||(c.add(g),h(g.parentNode))};s.forEach(h);var p=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(y){if(c.has(y))p(y);else try{var E=y.getAttribute(r),A=E!==null&&E!=="false",I=(Fc.get(y)||0)+1,S=(i.get(y)||0)+1;Fc.set(y,I),i.set(y,S),a.push(y),I===1&&A&&mm.set(y,!0),S===1&&y.setAttribute(n,"true"),A||y.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",y,R)}})};return p(e),c.clear(),r_++,function(){a.forEach(function(g){var y=Fc.get(g)-1,E=i.get(g)-1;Fc.set(g,y),i.set(g,E),y||(mm.has(g)||g.removeAttribute(r),mm.delete(g)),E||g.removeAttribute(n)}),r_--,r_||(Fc=new WeakMap,Fc=new WeakMap,mm=new WeakMap,gm={})}},ZG=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=YG(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),JG(r,s,n,"aria-hidden")):function(){return null}},Ds=function(){return Ds=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ds.apply(this,arguments)};function fM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function eK(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var zm="right-scroll-bar-position",Wm="width-before-scroll-bar",tK="with-scroll-bars-hidden",nK="--removed-body-scroll-bar-size";function s_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function rK(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var sK=typeof window<"u"?T.useLayoutEffect:T.useEffect,cP=new WeakMap;function iK(t,e){var n=rK(null,function(r){return t.forEach(function(s){return s_(s,r)})});return sK(function(){var r=cP.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(c){i.has(c)||s_(c,null)}),i.forEach(function(c){s.has(c)||s_(c,a)})}cP.set(n,t)},[t]),n}function oK(t){return t}function aK(t,e){e===void 0&&(e=oK);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(i),a=n}var u=function(){var p=a;a=[],p.forEach(i)},h=function(){return Promise.resolve().then(u)};h(),n={push:function(p){a.push(p),h()},filter:function(p){return a=a.filter(p),n}}}};return s}function lK(t){t===void 0&&(t={});var e=aK(null);return e.options=Ds({async:!0,ssr:!1},t),e}var pM=function(t){var e=t.sideCar,n=fM(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Ds({},n))};pM.isSideCarExport=!0;function cK(t,e){return t.useMedium(e),pM}var mM=lK(),i_=function(){},Uy=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:i_,onWheelCapture:i_,onTouchMoveCapture:i_}),s=r[0],i=r[1],a=t.forwardProps,c=t.children,u=t.className,h=t.removeScrollBar,p=t.enabled,g=t.shards,y=t.sideCar,E=t.noRelative,A=t.noIsolation,I=t.inert,S=t.allowPinchZoom,R=t.as,L=R===void 0?"div":R,M=t.gapMode,F=fM(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=y,G=iK([n,e]),k=Ds(Ds({},F),s);return T.createElement(T.Fragment,null,p&&T.createElement(B,{sideCar:mM,removeScrollBar:h,shards:g,noRelative:E,noIsolation:A,inert:I,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:M}),a?T.cloneElement(T.Children.only(c),Ds(Ds({},k),{ref:G})):T.createElement(L,Ds({},k,{className:u,ref:G}),c))});Uy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uy.classNames={fullWidth:Wm,zeroRight:zm};var uK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dK(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=uK();return e&&t.setAttribute("nonce",e),t}function hK(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function fK(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var pK=function(){var t=0,e=null;return{add:function(n){t==0&&(e=dK())&&(hK(e,n),fK(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},mK=function(){var t=pK();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},gM=function(){var t=mK(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},gK={left:0,top:0,right:0,gap:0},o_=function(t){return parseInt(t||"",10)||0},yK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[o_(n),o_(r),o_(s)]},vK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return gK;var e=yK(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},wK=gM(),iu="data-scroll-locked",_K=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(tK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(iu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zm,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Wm,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(zm," .").concat(zm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Wm," .").concat(Wm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(iu,`] {
    `).concat(nK,": ").concat(c,`px;
  }
`)},uP=function(){var t=parseInt(document.body.getAttribute(iu)||"0",10);return isFinite(t)?t:0},xK=function(){T.useEffect(function(){return document.body.setAttribute(iu,(uP()+1).toString()),function(){var t=uP()-1;t<=0?document.body.removeAttribute(iu):document.body.setAttribute(iu,t.toString())}},[])},EK=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;xK();var i=T.useMemo(function(){return vK(s)},[s]);return T.createElement(wK,{styles:_K(i,!e,s,n?"":"!important")})},O0=!1;if(typeof window<"u")try{var ym=Object.defineProperty({},"passive",{get:function(){return O0=!0,!0}});window.addEventListener("test",ym,ym),window.removeEventListener("test",ym,ym)}catch{O0=!1}var jc=O0?{passive:!1}:!1,TK=function(t){return t.tagName==="TEXTAREA"},yM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!TK(t)&&n[e]==="visible")},IK=function(t){return yM(t,"overflowY")},bK=function(t){return yM(t,"overflowX")},dP=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=vM(t,r);if(s){var i=wM(t,r),a=i[1],c=i[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},SK=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},AK=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},vM=function(t,e){return t==="v"?IK(e):bK(e)},wM=function(t,e){return t==="v"?SK(e):AK(e)},PK=function(t,e){return t==="h"&&e==="rtl"?-1:1},CK=function(t,e,n,r,s){var i=PK(t,window.getComputedStyle(e).direction),a=i*r,c=n.target,u=e.contains(c),h=!1,p=a>0,g=0,y=0;do{if(!c)break;var E=wM(t,c),A=E[0],I=E[1],S=E[2],R=I-S-i*A;(A||R)&&vM(t,c)&&(g+=R,y+=A);var L=c.parentNode;c=L&&L.nodeType===Node.DOCUMENT_FRAGMENT_NODE?L.host:L}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(p&&Math.abs(g)<1||!p&&Math.abs(y)<1)&&(h=!0),h},vm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hP=function(t){return[t.deltaX,t.deltaY]},fP=function(t){return t&&"current"in t?t.current:t},RK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},kK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},NK=0,Uc=[];function DK(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),s=T.useState(NK++)[0],i=T.useState(gM)[0],a=T.useRef(t);T.useEffect(function(){a.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var I=eK([t.lockRef.current],(t.shards||[]).map(fP),!0).filter(Boolean);return I.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),I.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=T.useCallback(function(I,S){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!a.current.allowPinchZoom;var R=vm(I),L=n.current,M="deltaX"in I?I.deltaX:L[0]-R[0],F="deltaY"in I?I.deltaY:L[1]-R[1],B,G=I.target,k=Math.abs(M)>Math.abs(F)?"h":"v";if("touches"in I&&k==="h"&&G.type==="range")return!1;var P=dP(k,G);if(!P)return!0;if(P?B=k:(B=k==="v"?"h":"v",P=dP(k,G)),!P)return!1;if(!r.current&&"changedTouches"in I&&(M||F)&&(r.current=B),!B)return!0;var N=r.current||B;return CK(N,S,I,N==="h"?M:F)},[]),u=T.useCallback(function(I){var S=I;if(!(!Uc.length||Uc[Uc.length-1]!==i)){var R="deltaY"in S?hP(S):vm(S),L=e.current.filter(function(B){return B.name===S.type&&(B.target===S.target||S.target===B.shadowParent)&&RK(B.delta,R)})[0];if(L&&L.should){S.cancelable&&S.preventDefault();return}if(!L){var M=(a.current.shards||[]).map(fP).filter(Boolean).filter(function(B){return B.contains(S.target)}),F=M.length>0?c(S,M[0]):!a.current.noIsolation;F&&S.cancelable&&S.preventDefault()}}},[]),h=T.useCallback(function(I,S,R,L){var M={name:I,delta:S,target:R,should:L,shadowParent:MK(R)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(F){return F!==M})},1)},[]),p=T.useCallback(function(I){n.current=vm(I),r.current=void 0},[]),g=T.useCallback(function(I){h(I.type,hP(I),I.target,c(I,t.lockRef.current))},[]),y=T.useCallback(function(I){h(I.type,vm(I),I.target,c(I,t.lockRef.current))},[]);T.useEffect(function(){return Uc.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",u,jc),document.addEventListener("touchmove",u,jc),document.addEventListener("touchstart",p,jc),function(){Uc=Uc.filter(function(I){return I!==i}),document.removeEventListener("wheel",u,jc),document.removeEventListener("touchmove",u,jc),document.removeEventListener("touchstart",p,jc)}},[]);var E=t.removeScrollBar,A=t.inert;return T.createElement(T.Fragment,null,A?T.createElement(i,{styles:kK(s)}):null,E?T.createElement(EK,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function MK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const OK=cK(mM,DK);var _M=T.forwardRef(function(t,e){return T.createElement(Uy,Ds({},t,{ref:e,sideCar:OK}))});_M.classNames=Uy.classNames;var V0=["Enter"," "],VK=["ArrowDown","PageUp","Home"],xM=["ArrowUp","PageDown","End"],LK=[...VK,...xM],FK={ltr:[...V0,"ArrowRight"],rtl:[...V0,"ArrowLeft"]},jK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},kf="Menu",[Gh,UK,BK]=R2(kf),[zl,EM]=Af(kf,[BK,Y2,aM]),By=Y2(),TM=aM(),[$K,Wl]=zl(kf),[zK,Nf]=zl(kf),IM=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,c=By(e),[u,h]=T.useState(null),p=T.useRef(!1),g=Vi(i),y=k2(s);return T.useEffect(()=>{const E=()=>{p.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>p.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),x.jsx(IG,{...c,children:x.jsx($K,{scope:e,open:n,onOpenChange:g,content:u,onContentChange:h,children:x.jsx(zK,{scope:e,onClose:T.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:y,modal:a,children:r})})})};IM.displayName=kf;var WK="MenuAnchor",KE=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=By(n);return x.jsx(bG,{...s,...r,ref:e})});KE.displayName=WK;var QE="MenuPortal",[qK,bM]=zl(QE,{forceMount:void 0}),SM=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Wl(QE,e);return x.jsx(qK,{scope:e,forceMount:n,children:x.jsx(Cf,{present:n||i.open,children:x.jsx(iM,{asChild:!0,container:s,children:r})})})};SM.displayName=QE;var Lr="MenuContent",[HK,YE]=zl(Lr),AM=T.forwardRef((t,e)=>{const n=bM(Lr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Wl(Lr,t.__scopeMenu),a=Nf(Lr,t.__scopeMenu);return x.jsx(Gh.Provider,{scope:t.__scopeMenu,children:x.jsx(Cf,{present:r||i.open,children:x.jsx(Gh.Slot,{scope:t.__scopeMenu,children:a.modal?x.jsx(GK,{...s,ref:e}):x.jsx(KK,{...s,ref:e})})})})}),GK=T.forwardRef((t,e)=>{const n=Wl(Lr,t.__scopeMenu),r=T.useRef(null),s=Zn(e,r);return T.useEffect(()=>{const i=r.current;if(i)return ZG(i)},[]),x.jsx(XE,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),KK=T.forwardRef((t,e)=>{const n=Wl(Lr,t.__scopeMenu);return x.jsx(XE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),QK=WG("MenuContent.ScrollLock"),XE=T.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:y,onDismiss:E,disableOutsideScroll:A,...I}=t,S=Wl(Lr,n),R=Nf(Lr,n),L=By(n),M=TM(n),F=UK(n),[B,G]=T.useState(null),k=T.useRef(null),P=Zn(e,k,S.onContentChange),N=T.useRef(0),O=T.useRef(""),j=T.useRef(0),z=T.useRef(null),V=T.useRef("right"),Ie=T.useRef(0),Le=A?_M:T.Fragment,Pe=A?{as:QK,allowPinchZoom:!0}:void 0,fe=ne=>{var Se,ze;const ie=O.current+ne,q=F().filter(je=>!je.disabled),re=document.activeElement,ye=(Se=q.find(je=>je.ref.current===re))==null?void 0:Se.textValue,Ee=q.map(je=>je.textValue),Fe=aQ(Ee,ie,ye),Oe=(ze=q.find(je=>je.textValue===Fe))==null?void 0:ze.ref.current;(function je(ft){O.current=ft,window.clearTimeout(N.current),ft!==""&&(N.current=window.setTimeout(()=>je(""),1e3))})(ie),Oe&&setTimeout(()=>Oe.focus())};T.useEffect(()=>()=>window.clearTimeout(N.current),[]),Qq();const K=T.useCallback(ne=>{var q,re;return V.current===((q=z.current)==null?void 0:q.side)&&cQ(ne,(re=z.current)==null?void 0:re.area)},[]);return x.jsx(HK,{scope:n,searchRef:O,onItemEnter:T.useCallback(ne=>{K(ne)&&ne.preventDefault()},[K]),onItemLeave:T.useCallback(ne=>{var ie;K(ne)||((ie=k.current)==null||ie.focus(),G(null))},[K]),onTriggerLeave:T.useCallback(ne=>{K(ne)&&ne.preventDefault()},[K]),pointerGraceTimerRef:j,onPointerGraceIntentChange:T.useCallback(ne=>{z.current=ne},[]),children:x.jsx(Le,{...Pe,children:x.jsx(O2,{asChild:!0,trapped:s,onMountAutoFocus:et(i,ne=>{var ie;ne.preventDefault(),(ie=k.current)==null||ie.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:x.jsx(D2,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:y,onDismiss:E,children:x.jsx($G,{asChild:!0,...M,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:G,onEntryFocus:et(u,ne=>{R.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(SG,{role:"menu","aria-orientation":"vertical","data-state":zM(S.open),"data-radix-menu-content":"",dir:R.dir,...L,...I,ref:P,style:{outline:"none",...I.style},onKeyDown:et(I.onKeyDown,ne=>{const q=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,re=ne.ctrlKey||ne.altKey||ne.metaKey,ye=ne.key.length===1;q&&(ne.key==="Tab"&&ne.preventDefault(),!re&&ye&&fe(ne.key));const Ee=k.current;if(ne.target!==Ee||!LK.includes(ne.key))return;ne.preventDefault();const Oe=F().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);xM.includes(ne.key)&&Oe.reverse(),iQ(Oe)}),onBlur:et(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(N.current),O.current="")}),onPointerMove:et(t.onPointerMove,Kh(ne=>{const ie=ne.target,q=Ie.current!==ne.clientX;if(ne.currentTarget.contains(ie)&&q){const re=ne.clientX>Ie.current?"right":"left";V.current=re,Ie.current=ne.clientX}}))})})})})})})});AM.displayName=Lr;var YK="MenuGroup",JE=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(jn.div,{role:"group",...r,ref:e})});JE.displayName=YK;var XK="MenuLabel",PM=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(jn.div,{...r,ref:e})});PM.displayName=XK;var Fg="MenuItem",pP="menu.itemSelect",$y=T.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=T.useRef(null),a=Nf(Fg,t.__scopeMenu),c=YE(Fg,t.__scopeMenu),u=Zn(e,i),h=T.useRef(!1),p=()=>{const g=i.current;if(!n&&g){const y=new CustomEvent(pP,{bubbles:!0,cancelable:!0});g.addEventListener(pP,E=>r==null?void 0:r(E),{once:!0}),C2(g,y),y.defaultPrevented?h.current=!1:a.onClose()}};return x.jsx(CM,{...s,ref:u,disabled:n,onClick:et(t.onClick,p),onPointerDown:g=>{var y;(y=t.onPointerDown)==null||y.call(t,g),h.current=!0},onPointerUp:et(t.onPointerUp,g=>{var y;h.current||(y=g.currentTarget)==null||y.click()}),onKeyDown:et(t.onKeyDown,g=>{const y=c.searchRef.current!=="";n||y&&g.key===" "||V0.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});$y.displayName=Fg;var CM=T.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=YE(Fg,n),c=TM(n),u=T.useRef(null),h=Zn(e,u),[p,g]=T.useState(!1),[y,E]=T.useState("");return T.useEffect(()=>{const A=u.current;A&&E((A.textContent??"").trim())},[i.children]),x.jsx(Gh.ItemSlot,{scope:n,disabled:r,textValue:s??y,children:x.jsx(zG,{asChild:!0,...c,focusable:!r,children:x.jsx(jn.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:h,onPointerMove:et(t.onPointerMove,Kh(A=>{r?a.onItemLeave(A):(a.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,Kh(A=>a.onItemLeave(A))),onFocus:et(t.onFocus,()=>g(!0)),onBlur:et(t.onBlur,()=>g(!1))})})})}),JK="MenuCheckboxItem",RM=T.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return x.jsx(OM,{scope:t.__scopeMenu,checked:n,children:x.jsx($y,{role:"menuitemcheckbox","aria-checked":jg(n)?"mixed":n,...s,ref:e,"data-state":eT(n),onSelect:et(s.onSelect,()=>r==null?void 0:r(jg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});RM.displayName=JK;var kM="MenuRadioGroup",[ZK,eQ]=zl(kM,{value:void 0,onValueChange:()=>{}}),NM=T.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Vi(r);return x.jsx(ZK,{scope:t.__scopeMenu,value:n,onValueChange:i,children:x.jsx(JE,{...s,ref:e})})});NM.displayName=kM;var DM="MenuRadioItem",MM=T.forwardRef((t,e)=>{const{value:n,...r}=t,s=eQ(DM,t.__scopeMenu),i=n===s.value;return x.jsx(OM,{scope:t.__scopeMenu,checked:i,children:x.jsx($y,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":eT(i),onSelect:et(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});MM.displayName=DM;var ZE="MenuItemIndicator",[OM,tQ]=zl(ZE,{checked:!1}),VM=T.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=tQ(ZE,n);return x.jsx(Cf,{present:r||jg(i.checked)||i.checked===!0,children:x.jsx(jn.span,{...s,ref:e,"data-state":eT(i.checked)})})});VM.displayName=ZE;var nQ="MenuSeparator",LM=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(jn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});LM.displayName=nQ;var rQ="MenuArrow",FM=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=By(n);return x.jsx(AG,{...s,...r,ref:e})});FM.displayName=rQ;var sQ="MenuSub",[Cne,jM]=zl(sQ),lh="MenuSubTrigger",UM=T.forwardRef((t,e)=>{const n=Wl(lh,t.__scopeMenu),r=Nf(lh,t.__scopeMenu),s=jM(lh,t.__scopeMenu),i=YE(lh,t.__scopeMenu),a=T.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=i,h={__scopeMenu:t.__scopeMenu},p=T.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return T.useEffect(()=>p,[p]),T.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),u(null)}},[c,u]),x.jsx(KE,{asChild:!0,...h,children:x.jsx(CM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":zM(n.open),...t,ref:$l(e,s.onTriggerChange),onClick:g=>{var y;(y=t.onClick)==null||y.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,Kh(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:et(t.onPointerLeave,Kh(g=>{var E,A;p();const y=(E=n.content)==null?void 0:E.getBoundingClientRect();if(y){const I=(A=n.content)==null?void 0:A.dataset.side,S=I==="right",R=S?-5:5,L=y[S?"left":"right"],M=y[S?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+R,y:g.clientY},{x:L,y:y.top},{x:M,y:y.top},{x:M,y:y.bottom},{x:L,y:y.bottom}],side:I}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,g=>{var E;const y=i.searchRef.current!=="";t.disabled||y&&g.key===" "||FK[r.dir].includes(g.key)&&(n.onOpenChange(!0),(E=n.content)==null||E.focus(),g.preventDefault())})})})});UM.displayName=lh;var BM="MenuSubContent",$M=T.forwardRef((t,e)=>{const n=bM(Lr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Wl(Lr,t.__scopeMenu),a=Nf(Lr,t.__scopeMenu),c=jM(BM,t.__scopeMenu),u=T.useRef(null),h=Zn(e,u);return x.jsx(Gh.Provider,{scope:t.__scopeMenu,children:x.jsx(Cf,{present:r||i.open,children:x.jsx(Gh.Slot,{scope:t.__scopeMenu,children:x.jsx(XE,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;a.isUsingKeyboardRef.current&&((g=u.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:et(t.onFocusOutside,p=>{p.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,p=>{a.onClose(),p.preventDefault()}),onKeyDown:et(t.onKeyDown,p=>{var E;const g=p.currentTarget.contains(p.target),y=jK[a.dir].includes(p.key);g&&y&&(i.onOpenChange(!1),(E=c.trigger)==null||E.focus(),p.preventDefault())})})})})})});$M.displayName=BM;function zM(t){return t?"open":"closed"}function jg(t){return t==="indeterminate"}function eT(t){return jg(t)?"indeterminate":t?"checked":"unchecked"}function iQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function oQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function aQ(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=oQ(t,Math.max(i,0));s.length===1&&(a=a.filter(h=>h!==n));const u=a.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function lQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const c=e[i],u=e[a],h=c.x,p=c.y,g=u.x,y=u.y;p>r!=y>r&&n<(g-h)*(r-p)/(y-p)+h&&(s=!s)}return s}function cQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return lQ(n,e)}function Kh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var uQ=IM,dQ=KE,hQ=SM,fQ=AM,pQ=JE,mQ=PM,gQ=$y,yQ=RM,vQ=NM,wQ=MM,_Q=VM,xQ=LM,EQ=FM,TQ=UM,IQ=$M,zy="DropdownMenu",[bQ]=Af(zy,[EM]),Un=EM(),[SQ,WM]=bQ(zy),qM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:c=!0}=t,u=Un(e),h=T.useRef(null),[p,g]=P2({prop:s,defaultProp:i??!1,onChange:a,caller:zy});return x.jsx(SQ,{scope:e,triggerId:R0(),triggerRef:h,contentId:R0(),open:p,onOpenChange:g,onOpenToggle:T.useCallback(()=>g(y=>!y),[g]),modal:c,children:x.jsx(uQ,{...u,open:p,onOpenChange:g,dir:r,modal:c,children:n})})};qM.displayName=zy;var HM="DropdownMenuTrigger",GM=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=WM(HM,n),a=Un(n);return x.jsx(dQ,{asChild:!0,...a,children:x.jsx(jn.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:$l(e,i.triggerRef),onPointerDown:et(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:et(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});GM.displayName=HM;var AQ="DropdownMenuPortal",KM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Un(e);return x.jsx(hQ,{...r,...n})};KM.displayName=AQ;var QM="DropdownMenuContent",YM=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=WM(QM,n),i=Un(n),a=T.useRef(!1);return x.jsx(fQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,c=>{var u;a.current||(u=s.triggerRef.current)==null||u.focus(),a.current=!1,c.preventDefault()}),onInteractOutside:et(t.onInteractOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,p=u.button===2||h;(!s.modal||p)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YM.displayName=QM;var PQ="DropdownMenuGroup",CQ=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(pQ,{...s,...r,ref:e})});CQ.displayName=PQ;var RQ="DropdownMenuLabel",XM=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(mQ,{...s,...r,ref:e})});XM.displayName=RQ;var kQ="DropdownMenuItem",JM=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(gQ,{...s,...r,ref:e})});JM.displayName=kQ;var NQ="DropdownMenuCheckboxItem",ZM=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(yQ,{...s,...r,ref:e})});ZM.displayName=NQ;var DQ="DropdownMenuRadioGroup",MQ=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(vQ,{...s,...r,ref:e})});MQ.displayName=DQ;var OQ="DropdownMenuRadioItem",eO=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(wQ,{...s,...r,ref:e})});eO.displayName=OQ;var VQ="DropdownMenuItemIndicator",tO=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(_Q,{...s,...r,ref:e})});tO.displayName=VQ;var LQ="DropdownMenuSeparator",nO=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(xQ,{...s,...r,ref:e})});nO.displayName=LQ;var FQ="DropdownMenuArrow",jQ=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(EQ,{...s,...r,ref:e})});jQ.displayName=FQ;var UQ="DropdownMenuSubTrigger",rO=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(TQ,{...s,...r,ref:e})});rO.displayName=UQ;var BQ="DropdownMenuSubContent",sO=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(IQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sO.displayName=BQ;var $Q=qM,zQ=GM,WQ=KM,iO=YM,oO=XM,aO=JM,lO=ZM,cO=eO,uO=tO,dO=nO,hO=rO,fO=sO;const qQ=$Q,HQ=zQ,GQ=T.forwardRef(({className:t,inset:e,children:n,...r},s)=>x.jsxs(hO,{ref:s,className:_t("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,x.jsx(M7,{className:"ml-auto"})]}));GQ.displayName=hO.displayName;const KQ=T.forwardRef(({className:t,...e},n)=>x.jsx(fO,{ref:n,className:_t("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));KQ.displayName=fO.displayName;const pO=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(WQ,{children:x.jsx(iO,{ref:r,sideOffset:e,className:_t("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));pO.displayName=iO.displayName;const Ar=T.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(aO,{ref:r,className:_t("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Ar.displayName=aO.displayName;const QQ=T.forwardRef(({className:t,children:e,checked:n,...r},s)=>x.jsxs(lO,{ref:s,className:_t("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(uO,{children:x.jsx(R7,{className:"h-4 w-4"})})}),e]}));QQ.displayName=lO.displayName;const YQ=T.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(cO,{ref:r,className:_t("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(uO,{children:x.jsx(U7,{className:"h-2 w-2 fill-current"})})}),e]}));YQ.displayName=cO.displayName;const mO=T.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(oO,{ref:r,className:_t("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));mO.displayName=oO.displayName;const qm=T.forwardRef(({className:t,...e},n)=>x.jsx(dO,{ref:n,className:_t("-mx-1 my-1 h-px bg-muted",t),...e}));qm.displayName=dO.displayName;function us(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ol(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const gO=6048e5,XQ=864e5;let JQ={};function Wy(){return JQ}function Qh(t,e){var c,u,h,p;const n=Wy(),r=(e==null?void 0:e.weekStartsOn)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=us(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Ug(t){return Qh(t,{weekStartsOn:1})}function yO(t){const e=us(t),n=e.getFullYear(),r=Ol(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Ug(r),i=Ol(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Ug(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function L0(t){const e=us(t);return e.setHours(0,0,0,0),e}function mP(t){const e=us(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ZQ(t,e){const n=L0(t),r=L0(e),s=+n-mP(n),i=+r-mP(r);return Math.round((s-i)/XQ)}function eY(t){const e=yO(t),n=Ol(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ug(n)}function tY(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function nY(t){if(!tY(t)&&typeof t!="number")return!1;const e=us(t);return!isNaN(Number(e))}function rY(t){const e=us(t),n=Ol(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const sY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iY=(t,e,n)=>{let r;const s=sY[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function a_(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const oY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cY={date:a_({formats:oY,defaultWidth:"full"}),time:a_({formats:aY,defaultWidth:"full"}),dateTime:a_({formats:lY,defaultWidth:"full"})},uY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dY=(t,e,n,r)=>uY[t];function Xd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):a;s=t.formattingValues[c]||t.formattingValues[a]}else{const a=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const hY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vY=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wY={ordinalNumber:vY,era:Xd({values:hY,defaultWidth:"wide"}),quarter:Xd({values:fY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xd({values:pY,defaultWidth:"wide"}),day:Xd({values:mY,defaultWidth:"wide"}),dayPeriod:Xd({values:gY,defaultWidth:"wide",formattingValues:yY,defaultFormattingWidth:"wide"})};function Jd(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?xY(c,g=>g.test(a)):_Y(c,g=>g.test(a));let h;h=t.valueCallback?t.valueCallback(u):u,h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(a.length);return{value:h,rest:p}}}function _Y(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function xY(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function EY(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const c=e.slice(s.length);return{value:a,rest:c}}}const TY=/^(\d+)(th|st|nd|rd)?/i,IY=/\d+/i,bY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},SY={any:[/^b/i,/^(a|c)/i]},AY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},PY={any:[/1/i,/2/i,/3/i,/4/i]},CY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},OY={ordinalNumber:EY({matchPattern:TY,parsePattern:IY,valueCallback:t=>parseInt(t,10)}),era:Jd({matchPatterns:bY,defaultMatchWidth:"wide",parsePatterns:SY,defaultParseWidth:"any"}),quarter:Jd({matchPatterns:AY,defaultMatchWidth:"wide",parsePatterns:PY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jd({matchPatterns:CY,defaultMatchWidth:"wide",parsePatterns:RY,defaultParseWidth:"any"}),day:Jd({matchPatterns:kY,defaultMatchWidth:"wide",parsePatterns:NY,defaultParseWidth:"any"}),dayPeriod:Jd({matchPatterns:DY,defaultMatchWidth:"any",parsePatterns:MY,defaultParseWidth:"any"})},VY={code:"en-US",formatDistance:iY,formatLong:cY,formatRelative:dY,localize:wY,match:OY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LY(t){const e=us(t);return ZQ(e,rY(e))+1}function FY(t){const e=us(t),n=+Ug(e)-+eY(e);return Math.round(n/gO)+1}function vO(t,e){var p,g,y,E;const n=us(t),r=n.getFullYear(),s=Wy(),i=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((E=(y=s.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,a=Ol(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const c=Qh(a,e),u=Ol(t,0);u.setFullYear(r,0,i),u.setHours(0,0,0,0);const h=Qh(u,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function jY(t,e){var c,u,h,p;const n=Wy(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=vO(t,e),i=Ol(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Qh(i,e)}function UY(t,e){const n=us(t),r=+Qh(n,e)-+jY(n,e);return Math.round(r/gO)+1}function ct(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Co={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ct(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ct(n+1,2)},d(t,e){return ct(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ct(t.getHours()%12||12,e.length)},H(t,e){return ct(t.getHours(),e.length)},m(t,e){return ct(t.getMinutes(),e.length)},s(t,e){return ct(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ct(s,e.length)}},Bc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gP={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Co.y(t,e)},Y:function(t,e,n,r){const s=vO(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return ct(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):ct(i,e.length)},R:function(t,e){const n=yO(t);return ct(n,e.length)},u:function(t,e){const n=t.getFullYear();return ct(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ct(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ct(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Co.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ct(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=UY(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ct(s,e.length)},I:function(t,e,n){const r=FY(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ct(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Co.d(t,e)},D:function(t,e,n){const r=LY(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ct(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ct(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ct(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ct(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Bc.noon:r===0?s=Bc.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Bc.evening:r>=12?s=Bc.afternoon:r>=4?s=Bc.morning:s=Bc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Co.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Co.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ct(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ct(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Co.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Co.s(t,e)},S:function(t,e){return Co.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return vP(r);case"XXXX":case"XX":return Ga(r);case"XXXXX":case"XXX":default:return Ga(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return vP(r);case"xxxx":case"xx":return Ga(r);case"xxxxx":case"xxx":default:return Ga(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yP(r,":");case"OOOO":default:return"GMT"+Ga(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yP(r,":");case"zzzz":default:return"GMT"+Ga(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ct(r,e.length)},T:function(t,e,n){const r=t.getTime();return ct(r,e.length)}};function yP(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+ct(i,2)}function vP(t,e){return t%60===0?(t>0?"-":"+")+ct(Math.abs(t)/60,2):Ga(t,e)}function Ga(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ct(Math.trunc(r/60),2),i=ct(r%60,2);return n+s+e+i}const wP=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},wO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},BY=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return wP(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",wP(r,e)).replace("{{time}}",wO(s,e))},$Y={p:wO,P:BY},zY=/^D+$/,WY=/^Y+$/,qY=["D","DD","YY","YYYY"];function HY(t){return zY.test(t)}function GY(t){return WY.test(t)}function KY(t,e,n){const r=QY(t,e,n);if(console.warn(r),qY.includes(t))throw new RangeError(r)}function QY(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const YY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JY=/^'([^]*?)'?$/,ZY=/''/g,eX=/[a-zA-Z]/;function tX(t,e,n){var p,g,y,E;const r=Wy(),s=r.locale??VY,i=r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,a=r.weekStartsOn??((E=(y=r.locale)==null?void 0:y.options)==null?void 0:E.weekStartsOn)??0,c=us(t);if(!nY(c))throw new RangeError("Invalid time value");let u=e.match(XY).map(A=>{const I=A[0];if(I==="p"||I==="P"){const S=$Y[I];return S(A,s.formatLong)}return A}).join("").match(YY).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const I=A[0];if(I==="'")return{isToken:!1,value:nX(A)};if(gP[I])return{isToken:!0,value:A};if(I.match(eX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:A}});s.localize.preprocessor&&(u=s.localize.preprocessor(c,u));const h={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return u.map(A=>{if(!A.isToken)return A.value;const I=A.value;(GY(I)||HY(I))&&KY(I,e,String(t));const S=gP[I[0]];return S(c,I,s.localize,h)}).join("")}function nX(t){const e=t.match(JY);return e?e[1].replace(ZY,"'"):t}class Hm extends Zt.Component{constructor(n){super(n);yw(this,"hardReload",()=>{window.location.reload(!0)});yw(this,"clearCachesAndReload",async()=>{try{if("caches"in window){const n=await caches.keys();await Promise.all(n.map(r=>caches.delete(r)))}if("serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistrations();await Promise.all(n.map(r=>r.unregister()))}}catch(n){console.warn("Failed to clear caches or unregister SW",n)}finally{window.location.reload()}});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ChunkErrorBoundary caught an error:",n,r)}render(){var n,r,s,i;if(this.state.hasError){const a=((n=this.state.error)==null?void 0:n.message)||"";return((r=this.state.error)==null?void 0:r.name)==="ChunkLoadError"||((s=this.state.error)==null?void 0:s.name)==="CSSChunkLoadError"||/Loading chunk|Failed to fetch dynamically imported module|Importing a module script failed/i.test(a)?x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Update available"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The app was updated. Please refresh to load the latest version."}),x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("button",{onClick:this.hardReload,className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"}),x.jsx("button",{onClick:this.clearCachesAndReload,className:"px-4 py-2 rounded-lg bg-gray-200",children:"Reset cache & reload"})]}),x.jsxs("details",{className:"mt-4 text-left text-xs text-gray-500",children:[x.jsx("summary",{children:"Details"}),x.jsx("pre",{className:"whitespace-pre-wrap break-words",children:((i=this.state.error)==null?void 0:i.stack)||a})]})]})}):x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"Try refreshing the page."}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"})]})})}return this.props.children}}const l_=Zt.lazy(()=>Ft(()=>import("./AvatarDisplay-BzkYfhqx.js"),[])),rX=Zt.lazy(()=>Ft(()=>import("./PetDisplay-T8ztPqrq.js"),__vite__mapDeps([0,1]))),sX=Zt.lazy(()=>Ft(()=>import("./InstallPrompt-CYulZlIm.js"),__vite__mapDeps([2,3])));function iX({children:t,currentPageName:e}){var B;const n=Hi(),[r,s]=T.useState(!1),{user:i,loading:a}=jE(),[c,u]=T.useState(()=>localStorage.getItem("app.theme")==="dark");T.useEffect(()=>{const G=()=>{u(localStorage.getItem("app.theme")==="dark")};G(),window.addEventListener("storage",G);const k=setInterval(G,500);return()=>{window.removeEventListener("storage",G),clearInterval(k)}},[]),T.useEffect(()=>{const G=document.createElement("link");G.rel="manifest",G.href="/manifest.json",document.head.appendChild(G);const k=document.createElement("meta");k.name="theme-color",k.content=c?"#1e293b":"#9333ea",document.head.appendChild(k);const P=document.createElement("meta");P.name="apple-mobile-web-app-capable",P.content="yes",document.head.appendChild(P);const N=document.createElement("meta");N.name="apple-mobile-web-app-status-bar-style",N.content="default",document.head.appendChild(N);const O=document.createElement("meta");O.name="apple-mobile-web-app-title",O.content="Math Adventure",document.head.appendChild(O);const j=document.createElement("link");return j.rel="apple-touch-icon",document.head.appendChild(j),()=>{j.parentNode&&j.remove()}},[c]);const[h,p]=T.useState(0);T.useEffect(()=>{i!=null&&i.email&&p(0)},[i==null?void 0:i.email]);const g=tX(L0(new Date),"yyyy-MM-dd"),{data:y=[]}=y7({queryKey:["dailyChallenges",g],initialData:[],enabled:!!i});if(e==="Landing")return x.jsx(x.Fragment,{children:t});if(e==="Home"&&!i)return x.jsx(x.Fragment,{children:t});if(!i)return a?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center max-w-md w-full",children:[x.jsx(Jb,{size:"xl",variant:"circle",className:"mx-auto mb-6"}),x.jsx("h1",{className:"text-4xl font-extrabold text-white mb-3 drop-shadow-2xl",children:"Math Adventure"}),x.jsx("p",{className:"text-lg text-white mb-6 drop-shadow-lg",children:"Sign in or create an account to start."}),x.jsx(T2,{})]})});const E=y.some(G=>G.created_by===(i==null?void 0:i.email)),A=i?{avatar_skin_tone:i.avatar_skin_tone||"medium",avatar_hair_style:i.avatar_hair_style||"short",avatar_hair_color:i.avatar_hair_color||"brown",avatar_eyes:i.avatar_eyes||"normal",avatar_outfit:i.avatar_outfit||"casual",avatar_accessory:i.avatar_accessory||"none"}:null,I=i==null?void 0:i.active_pet,S=I?{id:I,name:"Pet",emoji:I==="dragon"?"":I==="owl"?"":I==="fox"?"":"",gradient:I==="dragon"?"from-red-400 to-orange-500":I==="owl"?"from-indigo-400 to-purple-500":I==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500",evolveLevel:5}:null,R=(i==null?void 0:i.subscription_tier)||"free",L=R!=="free",M=async()=>{const G=Zg(as);await b5(G),localStorage.clear(),window.location.href="/"},F=({to:G,icon:k,label:P,badge:N,badgeColor:O="red",isDarkMode:j})=>{const z=n.pathname===nt(G);return x.jsxs(mt,{to:nt(G),onClick:()=>s(!1),className:`relative flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${z?"bg-purple-500 text-white shadow-lg":j?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[x.jsx(k,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:P}),N&&x.jsx(Rr,{className:`absolute -top-1 -right-1 bg-${O}-500 text-white text-xs px-1.5 py-0.5 ${O==="red"?"animate-pulse":""}`,children:N})]})};return x.jsxs("div",{className:`min-h-screen ${c?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[x.jsx(Tq,{}),x.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${c?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),x.jsx("header",{className:`${c?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:x.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-2 md:py-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(mt,{to:nt("Home"),className:"flex items-center gap-3",children:[x.jsx(Jb,{size:"md",variant:"circle"}),x.jsx("div",{children:x.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${c&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[i&&x.jsx(mt,{to:nt("Home"),className:"hidden md:inline-block",children:x.jsxs($s,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold shadow-lg",children:[x.jsx(a2,{className:"w-4 h-4 mr-2"}),"Play Now"]})}),i&&x.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white px-3 py-2 rounded-xl shadow-md",children:[x.jsx(PA,{className:"w-4 h-4"}),x.jsx("span",{className:"font-bold text-sm",children:i.coins||0})]}),R!=="free"?x.jsx(mt,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(Rr,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 px-3 py-1.5 cursor-pointer",children:[x.jsx(nl,{className:"w-3 h-3 mr-1"}),R==="family_teacher"?"Family":R==="premium_player"?"Premium":"Parent"]})}):x.jsx(mt,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(Rr,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 px-3 py-1.5 cursor-pointer animate-pulse",children:[x.jsx(nl,{className:"w-3 h-3 mr-1"}),"Upgrade"]})}),i&&x.jsx("div",{className:"hidden lg:block",children:x.jsxs(qQ,{children:[x.jsx(HQ,{asChild:!0,children:x.jsx($s,{variant:"ghost",className:`${c?"hover:bg-slate-700 text-gray-50":"hover:bg-purple-50 text-gray-900"} h-auto p-2`,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex items-center gap-1",children:x.jsx(Hm,{children:x.jsxs(Zt.Suspense,{fallback:x.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 animate-pulse"}),children:[A&&x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(l_,{avatarData:A,size:"small"})}),S&&x.jsx("div",{className:"scale-50 origin-center -ml-2",children:x.jsx(rX,{pet:S,experience:((B=i==null?void 0:i.pet_experience)==null?void 0:B[I])||0,size:"small"})})]})})}),x.jsxs("div",{className:"text-left",children:[x.jsx("p",{className:`text-sm font-semibold ${c?"text-gray-50":"text-gray-900"}`,children:i.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:i.email})]}),x.jsx(N7,{className:`w-4 h-4 ${c?"text-gray-300":"text-gray-500"}`})]})})}),x.jsxs(pO,{align:"end",className:`${c?"bg-slate-800 border-slate-700 text-gray-50":"bg-white"} w-56`,children:[x.jsx(mO,{children:x.jsxs("div",{className:"flex flex-col space-y-1",children:[x.jsx("p",{className:`text-sm font-medium ${c?"text-gray-50":"text-gray-900"}`,children:i.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:i.email})]})}),x.jsx(qm,{className:c?"bg-slate-700":""}),x.jsx(Ar,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(mt,{to:nt("Avatar"),className:"cursor-pointer",children:[x.jsx(Kw,{className:"w-4 h-4 mr-2"}),"View Profile"]})}),x.jsx(Ar,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(mt,{to:nt("Messages"),className:"cursor-pointer",children:[x.jsx(OA,{className:"w-4 h-4 mr-2"}),"Messages",h>0&&x.jsx(Rr,{className:"ml-auto bg-blue-500 text-white text-xs",children:h})]})}),x.jsx(Ar,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(mt,{to:nt("DailyChallenge"),className:"cursor-pointer",children:[x.jsx(qw,{className:"w-4 h-4 mr-2"}),"Daily Challenge",!E&&x.jsx(Rr,{className:"ml-auto bg-red-500 text-white text-xs animate-pulse",children:"!"})]})}),x.jsx(Ar,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(mt,{to:nt("AITutor"),className:"cursor-pointer",children:[x.jsx(Um,{className:"w-4 h-4 mr-2"}),"AI Tutor"]})}),x.jsx(Ar,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(mt,{to:nt("Progress"),className:"cursor-pointer",children:[x.jsx(P7,{className:"w-4 h-4 mr-2"}),"Progress & Stats"]})}),x.jsx(Ar,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(mt,{to:nt("Shop"),className:"cursor-pointer",children:[x.jsx(Hw,{className:"w-4 h-4 mr-2"}),"Rewards Shop"]})}),x.jsx(Ar,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(mt,{to:nt("ParentPortal"),className:"cursor-pointer",children:[x.jsx(kA,{className:"w-4 h-4 mr-2"}),"Parent Portal",(i==null?void 0:i.is_parent_mode)&&x.jsx(Rr,{className:"ml-2 bg-blue-500 text-white text-xs",children:"ON"})]})}),x.jsx(qm,{className:c?"bg-slate-700":""}),x.jsx(Ar,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(mt,{to:nt("Settings"),className:"cursor-pointer",children:[x.jsx(VA,{className:"w-4 h-4 mr-2"}),"App Settings"]})}),x.jsx(Ar,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(mt,{to:nt("Subscription"),className:"cursor-pointer",children:[x.jsx(q7,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})}),L&&(i==null?void 0:i.subscription_auto_renew)!==!1&&x.jsx(Ar,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(mt,{to:nt("Subscription"),className:"cursor-pointer text-orange-600 focus:text-orange-600",children:[x.jsx(F7,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})}),x.jsx(qm,{className:c?"bg-slate-700":""}),x.jsxs(Ar,{onClick:M,className:`${c?"text-red-400 focus:bg-slate-700 focus:text-red-400":"text-red-600 focus:text-red-600"} cursor-pointer`,children:[x.jsx(MA,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),x.jsx($s,{variant:"ghost",size:"icon",onClick:()=>s(!r),className:`lg:hidden ${c?"text-gray-50 hover:bg-slate-700":""}`,children:r?x.jsx(VE,{className:"w-6 h-6"}):x.jsx(rW,{className:"w-6 h-6"})})]})]}),r&&x.jsxs("div",{className:`mt-4 pb-4 space-y-2 border-t pt-4 max-h-[calc(100vh-140px)] overflow-y-auto ${c?"border-slate-700":""}`,children:[i&&x.jsxs("div",{className:`${c?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx(Zt.Suspense,{fallback:null,children:A&&x.jsx("div",{className:"scale-90 origin-center",children:x.jsx(l_,{avatarData:A,size:"small"})})}),x.jsxs("div",{children:[x.jsx("p",{className:`font-bold ${c?"text-gray-50":"text-gray-900"}`,children:i.full_name||"Player"}),x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:i.email})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(Rr,{className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white",children:[x.jsx(PA,{className:"w-3 h-3 mr-1"}),i.coins||0," Coins"]}),R!=="free"&&x.jsxs(Rr,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[x.jsx(nl,{className:"w-3 h-3 mr-1"}),R==="family_teacher"?"Family":R==="premium_player"?"Premium":"Parent"]})]})]}),x.jsx(F,{to:"Home",icon:DA,label:"Home",isDarkMode:c}),x.jsx(F,{to:"DailyChallenge",icon:qw,label:"Daily Challenge",badge:E?null:"!",isDarkMode:c}),x.jsx(F,{to:"Progress",icon:E0,label:"Progress",isDarkMode:c}),x.jsx(F,{to:"AITutor",icon:Um,label:"AI Tutor",isDarkMode:c}),x.jsx(F,{to:"Messages",icon:OA,label:"Messages",badge:h>0?h:null,badgeColor:"blue",isDarkMode:c}),x.jsx(F,{to:"Leaderboards",icon:I7,label:"Leaderboards",isDarkMode:c}),x.jsx(F,{to:"Shop",icon:Hw,label:"Shop",isDarkMode:c}),x.jsx(F,{to:"TeamChallenges",icon:T0,label:"Team Challenges",isDarkMode:c}),x.jsx(F,{to:"ParentPortal",icon:kA,label:"Parent Portal",badge:i!=null&&i.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:c}),x.jsx(F,{to:"Avatar",icon:Kw,label:"Profile",isDarkMode:c}),x.jsx("div",{className:`pt-2 mt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(mt,{to:nt("Settings"),onClick:()=>s(!1),children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-gradient-to-r from-gray-700 to-gray-800 text-gray-50 hover:bg-gray-700":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[x.jsx(VA,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"App Settings"})]})})}),x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(mt,{to:nt("Subscription"),onClick:()=>s(!1),className:"w-full block",children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${R!=="free"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 text-white animate-pulse"}`,children:[x.jsx(nl,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:R!=="free"?"Manage Subscription":"Upgrade to Premium"})]})})}),i&&x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsxs("button",{onClick:()=>{s(!1),M()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[x.jsx(MA,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]})}),x.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${c?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:x.jsxs("div",{className:"grid grid-cols-5 gap-1 px-2 py-2",children:[x.jsxs(mt,{to:nt("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===nt("Home")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(DA,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),x.jsxs(mt,{to:nt("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===nt("DailyChallenge")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(qw,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!E&&x.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),x.jsxs(mt,{to:nt("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===nt("AITutor")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(Um,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),x.jsxs(mt,{to:nt("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===nt("Shop")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(Hw,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),x.jsx(mt,{to:nt("Avatar"),className:`flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-all ${n.pathname===nt("Avatar")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:A?x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(l_,{avatarData:A,size:"small"})}):x.jsx(Kw,{className:"w-6 h-6"})})]})}),x.jsx(Hm,{children:x.jsx(Zt.Suspense,{fallback:null,children:x.jsx(sX,{})})}),x.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:x.jsx(Hm,{children:x.jsx(Zt.Suspense,{fallback:x.jsx("div",{className:"min-h-[40vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-3"}),x.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),children:t})})}),x.jsx("footer",{className:`${c?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:x.jsx("div",{className:"max-w-7xl mx-auto px-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),x.jsx("p",{className:`text-xs ${c?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[x.jsx(mt,{to:nt("PrivacyPolicy"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx(mt,{to:nt("Subscription"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}const oX=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:_t("rounded-xl border bg-card text-card-foreground shadow",t),...e}));oX.displayName="Card";const aX=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:_t("flex flex-col space-y-1.5 p-6",t),...e}));aX.displayName="CardHeader";const lX=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:_t("font-semibold leading-none tracking-tight",t),...e}));lX.displayName="CardTitle";const cX=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:_t("text-sm text-muted-foreground",t),...e}));cX.displayName="CardDescription";const uX=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:_t("p-6 pt-0",t),...e}));uX.displayName="CardContent";const dX=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:_t("flex items-center p-6 pt-0",t),...e}));dX.displayName="CardFooter";const _O=T.createContext({});function hX(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const tT=typeof window<"u",fX=tT?T.useLayoutEffect:T.useEffect,nT=T.createContext(null);function rT(t,e){t.indexOf(e)===-1&&t.push(e)}function sT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ji=(t,e,n)=>n>e?e:n<t?t:n;let iT=()=>{};const Ui={},xO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function EO(t){return typeof t=="object"&&t!==null}const TO=t=>/^0[^.\s]+$/u.test(t);function oT(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fr=t=>t,pX=(t,e)=>n=>e(t(n)),Df=(...t)=>t.reduce(pX),Yh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class aT{constructor(){this.subscriptions=[]}add(e){return rT(this.subscriptions,e),()=>sT(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ws=t=>t*1e3,Or=t=>t/1e3;function IO(t,e){return e?t*(1e3/e):0}const bO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,mX=1e-7,gX=12;function yX(t,e,n,r,s){let i,a,c=0;do a=e+(n-e)/2,i=bO(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>mX&&++c<gX);return a}function Mf(t,e,n,r){if(t===e&&n===r)return Fr;const s=i=>yX(i,0,1,t,n);return i=>i===0||i===1?i:bO(s(i),e,r)}const SO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,AO=t=>e=>1-t(1-e),PO=Mf(.33,1.53,.69,.99),lT=AO(PO),CO=SO(lT),RO=t=>(t*=2)<1?.5*lT(t):.5*(2-Math.pow(2,-10*(t-1))),cT=t=>1-Math.sin(Math.acos(t)),kO=AO(cT),NO=SO(cT),vX=Mf(.42,0,1,1),wX=Mf(0,0,.58,1),DO=Mf(.42,0,.58,1),_X=t=>Array.isArray(t)&&typeof t[0]!="number",MO=t=>Array.isArray(t)&&typeof t[0]=="number",xX={linear:Fr,easeIn:vX,easeInOut:DO,easeOut:wX,circIn:cT,circInOut:NO,circOut:kO,backIn:lT,backInOut:CO,backOut:PO,anticipate:RO},EX=t=>typeof t=="string",_P=t=>{if(MO(t)){iT(t.length===4);const[e,n,r,s]=t;return Mf(e,n,r,s)}else if(EX(t))return xX[t];return t},wm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function TX(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(p){a.has(p)&&(h.schedule(p),t()),p(c)}const h={schedule:(p,g=!1,y=!1)=>{const A=y&&s?n:r;return g&&a.add(p),A.has(p)||A.add(p),p},cancel:p=>{r.delete(p),a.delete(p)},process:p=>{if(c=p,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),n.clear(),s=!1,i&&(i=!1,h.process(p))}};return h}const IX=40;function OO(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=wm.reduce((M,F)=>(M[F]=TX(i),M),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:p,update:g,preRender:y,render:E,postRender:A}=a,I=()=>{const M=Ui.useManualTiming?s.timestamp:performance.now();n=!1,Ui.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(M-s.timestamp,IX),1)),s.timestamp=M,s.isProcessing=!0,c.process(s),u.process(s),h.process(s),p.process(s),g.process(s),y.process(s),E.process(s),A.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(I))},S=()=>{n=!0,r=!0,s.isProcessing||t(I)};return{schedule:wm.reduce((M,F)=>{const B=a[F];return M[F]=(G,k=!1,P=!1)=>(n||S(),B.schedule(G,k,P)),M},{}),cancel:M=>{for(let F=0;F<wm.length;F++)a[wm[F]].cancel(M)},state:s,steps:a}}const{schedule:Tt,cancel:aa,state:fn,steps:c_}=OO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fr,!0);let Gm;function bX(){Gm=void 0}const Xn={now:()=>(Gm===void 0&&Xn.set(fn.isProcessing||Ui.useManualTiming?fn.timestamp:performance.now()),Gm),set:t=>{Gm=t,queueMicrotask(bX)}},VO=t=>e=>typeof e=="string"&&e.startsWith(t),uT=VO("--"),SX=VO("var(--"),dT=t=>SX(t)?AX.test(t.split("/*")[0].trim()):!1,AX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ku={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xh={...Ku,transform:t=>ji(0,1,t)},_m={...Ku,default:1},_h=t=>Math.round(t*1e5)/1e5,hT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PX(t){return t==null}const CX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fT=(t,e)=>n=>!!(typeof n=="string"&&CX.test(n)&&n.startsWith(t)||e&&!PX(n)&&Object.prototype.hasOwnProperty.call(n,e)),LO=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,c]=r.match(hT);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},RX=t=>ji(0,255,t),u_={...Ku,transform:t=>Math.round(RX(t))},rl={test:fT("rgb","red"),parse:LO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+u_.transform(t)+", "+u_.transform(e)+", "+u_.transform(n)+", "+_h(Xh.transform(r))+")"};function kX(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const F0={test:fT("#"),parse:kX,transform:rl.transform},Of=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),No=Of("deg"),qs=Of("%"),Me=Of("px"),NX=Of("vh"),DX=Of("vw"),xP={...qs,parse:t=>qs.parse(t)/100,transform:t=>qs.transform(t*100)},Kc={test:fT("hsl","hue"),parse:LO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+qs.transform(_h(e))+", "+qs.transform(_h(n))+", "+_h(Xh.transform(r))+")"},Gt={test:t=>rl.test(t)||F0.test(t)||Kc.test(t),parse:t=>rl.test(t)?rl.parse(t):Kc.test(t)?Kc.parse(t):F0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?rl.transform(t):Kc.transform(t),getAnimatableNone:t=>{const e=Gt.parse(t);return e.alpha=0,Gt.transform(e)}},MX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OX(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(hT))==null?void 0:e.length)||0)+(((n=t.match(MX))==null?void 0:n.length)||0)>0}const FO="number",jO="color",VX="var",LX="var(",EP="${}",FX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const c=e.replace(FX,u=>(Gt.test(u)?(r.color.push(i),s.push(jO),n.push(Gt.parse(u))):u.startsWith(LX)?(r.var.push(i),s.push(VX),n.push(u)):(r.number.push(i),s.push(FO),n.push(parseFloat(u))),++i,EP)).split(EP);return{values:n,split:c,indexes:r,types:s}}function UO(t){return Jh(t).values}function BO(t){const{split:e,types:n}=Jh(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const c=n[a];c===FO?i+=_h(s[a]):c===jO?i+=Gt.transform(s[a]):i+=s[a]}return i}}const jX=t=>typeof t=="number"?0:Gt.test(t)?Gt.getAnimatableNone(t):t;function UX(t){const e=UO(t);return BO(t)(e.map(jX))}const la={test:OX,parse:UO,createTransformer:BO,getAnimatableNone:UX};function d_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function BX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;s=d_(u,c,t+1/3),i=d_(u,c,t),a=d_(u,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Bg(t,e){return n=>n>0?e:t}const Pt=(t,e,n)=>t+(e-t)*n,h_=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},$X=[F0,rl,Kc],zX=t=>$X.find(e=>e.test(t));function TP(t){const e=zX(t);if(!e)return!1;let n=e.parse(t);return e===Kc&&(n=BX(n)),n}const IP=(t,e)=>{const n=TP(t),r=TP(e);if(!n||!r)return Bg(t,e);const s={...n};return i=>(s.red=h_(n.red,r.red,i),s.green=h_(n.green,r.green,i),s.blue=h_(n.blue,r.blue,i),s.alpha=Pt(n.alpha,r.alpha,i),rl.transform(s))},j0=new Set(["none","hidden"]);function WX(t,e){return j0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function qX(t,e){return n=>Pt(t,e,n)}function pT(t){return typeof t=="number"?qX:typeof t=="string"?dT(t)?Bg:Gt.test(t)?IP:KX:Array.isArray(t)?$O:typeof t=="object"?Gt.test(t)?IP:HX:Bg}function $O(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>pT(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function HX(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=pT(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function GX(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],c=t.values[a]??0;n[s]=c,r[i]++}return n}const KX=(t,e)=>{const n=la.createTransformer(e),r=Jh(t),s=Jh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?j0.has(t)&&!s.values.length||j0.has(e)&&!r.values.length?WX(t,e):Df($O(GX(r,s),s.values),n):Bg(t,e)};function zO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pt(t,e,n):pT(t)(t,e)}const QX=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Tt.update(e,n),stop:()=>aa(e),now:()=>fn.isProcessing?fn.timestamp:Xn.now()}},WO=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},$g=2e4;function mT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$g;)e+=n,r=t.next(e);return e>=$g?1/0:e}function YX(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(mT(r),$g);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Or(s)}}const XX=5;function qO(t,e,n){const r=Math.max(e-XX,0);return IO(n-t(r),e-r)}const Ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},f_=.001;function JX({duration:t=Ot.duration,bounce:e=Ot.bounce,velocity:n=Ot.velocity,mass:r=Ot.mass}){let s,i,a=1-e;a=ji(Ot.minDamping,Ot.maxDamping,a),t=ji(Ot.minDuration,Ot.maxDuration,Or(t)),a<1?(s=h=>{const p=h*a,g=p*t,y=p-n,E=U0(h,a),A=Math.exp(-g);return f_-y/E*A},i=h=>{const g=h*a*t,y=g*n+n,E=Math.pow(a,2)*Math.pow(h,2)*t,A=Math.exp(-g),I=U0(Math.pow(h,2),a);return(-s(h)+f_>0?-1:1)*((y-E)*A)/I}):(s=h=>{const p=Math.exp(-h*t),g=(h-n)*t+1;return-f_+p*g},i=h=>{const p=Math.exp(-h*t),g=(n-h)*(t*t);return p*g});const c=5/t,u=eJ(s,i,c);if(t=Ws(t),isNaN(u))return{stiffness:Ot.stiffness,damping:Ot.damping,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:a*2*Math.sqrt(r*h),duration:t}}}const ZX=12;function eJ(t,e,n){let r=n;for(let s=1;s<ZX;s++)r=r-t(r)/e(r);return r}function U0(t,e){return t*Math.sqrt(1-e*e)}const tJ=["duration","bounce"],nJ=["stiffness","damping","mass"];function bP(t,e){return e.some(n=>t[n]!==void 0)}function rJ(t){let e={velocity:Ot.velocity,stiffness:Ot.stiffness,damping:Ot.damping,mass:Ot.mass,isResolvedFromDuration:!1,...t};if(!bP(t,nJ)&&bP(t,tJ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ji(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ot.mass,stiffness:s,damping:i}}else{const n=JX(t);e={...e,...n,mass:Ot.mass},e.isResolvedFromDuration=!0}return e}function zg(t=Ot.visualDuration,e=Ot.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:i},{stiffness:u,damping:h,mass:p,duration:g,velocity:y,isResolvedFromDuration:E}=rJ({...n,velocity:-Or(n.velocity||0)}),A=y||0,I=h/(2*Math.sqrt(u*p)),S=a-i,R=Or(Math.sqrt(u/p)),L=Math.abs(S)<5;r||(r=L?Ot.restSpeed.granular:Ot.restSpeed.default),s||(s=L?Ot.restDelta.granular:Ot.restDelta.default);let M;if(I<1){const B=U0(R,I);M=G=>{const k=Math.exp(-I*R*G);return a-k*((A+I*R*S)/B*Math.sin(B*G)+S*Math.cos(B*G))}}else if(I===1)M=B=>a-Math.exp(-R*B)*(S+(A+R*S)*B);else{const B=R*Math.sqrt(I*I-1);M=G=>{const k=Math.exp(-I*R*G),P=Math.min(B*G,300);return a-k*((A+I*R*S)*Math.sinh(P)+B*S*Math.cosh(P))/B}}const F={calculatedDuration:E&&g||null,next:B=>{const G=M(B);if(E)c.done=B>=g;else{let k=B===0?A:0;I<1&&(k=B===0?Ws(A):qO(M,B,G));const P=Math.abs(k)<=r,N=Math.abs(a-G)<=s;c.done=P&&N}return c.value=c.done?a:G,c},toString:()=>{const B=Math.min(mT(F),$g),G=WO(k=>F.next(B*k).value,B,30);return B+"ms "+G},toTransition:()=>{}};return F}zg.applyToOptions=t=>{const e=YX(t,100,zg);return t.ease=e.ease,t.duration=Ws(e.duration),t.type="keyframes",t};function B0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:c,max:u,restDelta:h=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},E=P=>c!==void 0&&P<c||u!==void 0&&P>u,A=P=>c===void 0?u:u===void 0||Math.abs(c-P)<Math.abs(u-P)?c:u;let I=n*e;const S=g+I,R=a===void 0?S:a(S);R!==S&&(I=R-g);const L=P=>-I*Math.exp(-P/r),M=P=>R+L(P),F=P=>{const N=L(P),O=M(P);y.done=Math.abs(N)<=h,y.value=y.done?R:O};let B,G;const k=P=>{E(y.value)&&(B=P,G=zg({keyframes:[y.value,A(y.value)],velocity:qO(M,P,y.value),damping:s,stiffness:i,restDelta:h,restSpeed:p}))};return k(0),{calculatedDuration:null,next:P=>{let N=!1;return!G&&B===void 0&&(N=!0,F(P),k(P)),B!==void 0&&P>=B?G.next(P-B):(!N&&F(P),y)}}}function sJ(t,e,n){const r=[],s=n||Ui.mix||zO,i=t.length-1;for(let a=0;a<i;a++){let c=s(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||Fr:e;c=Df(u,c)}r.push(c)}return r}function iJ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(iT(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=sJ(e,r,s),u=c.length,h=p=>{if(a&&p<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=Yh(t[g],t[g+1],p);return c[g](y)};return n?p=>h(ji(t[0],t[i-1],p)):h}function oJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Yh(0,e,r);t.push(Pt(n,1,s))}}function aJ(t){const e=[0];return oJ(e,t.length-1),e}function lJ(t,e){return t.map(n=>n*e)}function cJ(t,e){return t.map(()=>e||DO).splice(0,t.length-1)}function xh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=_X(r)?r.map(_P):_P(r),i={done:!1,value:e[0]},a=lJ(n&&n.length===e.length?n:aJ(e),t),c=iJ(a,e,{ease:Array.isArray(s)?s:cJ(e,s)});return{calculatedDuration:t,next:u=>(i.value=c(u),i.done=u>=t,i)}}const uJ=t=>t!==null;function gT(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(uJ),c=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!c||r===void 0?i[c]:r}const dJ={decay:B0,inertia:B0,tween:xh,keyframes:xh,spring:zg};function HO(t){typeof t.type=="string"&&(t.type=dJ[t.type])}class yT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const hJ=t=>t/100;class vT extends yT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Xn.now()&&this.tick(Xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;HO(e);const{type:n=xh,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:c}=e;const u=n||xh;u!==xh&&typeof c[0]!="number"&&(this.mixKeyframes=Df(hJ,zO(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=mT(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:E,type:A,onUpdate:I,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const R=this.currentTime-h*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?R<0:R>s;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let M=this.currentTime,F=r;if(g){const P=Math.min(this.currentTime,s)/c;let N=Math.floor(P),O=P%1;!O&&P>=1&&(O=1),O===1&&N--,N=Math.min(N,g+1),!!(N%2)&&(y==="reverse"?(O=1-O,E&&(O-=E/c)):y==="mirror"&&(F=a)),M=ji(0,1,O)*c}const B=L?{done:!1,value:p[0]}:F.next(M);i&&(B.value=i(B.value));let{done:G}=B;!L&&u!==null&&(G=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return k&&A!==B0&&(B.value=gT(p,this.options,S,this.speed)),I&&I(B.value),k&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return Or(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Or(e)}get time(){return Or(this.currentTime)}set time(e){var n;e=Ws(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Or(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=QX,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function fJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const sl=t=>t*180/Math.PI,$0=t=>{const e=sl(Math.atan2(t[1],t[0]));return z0(e)},pJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:$0,rotateZ:$0,skewX:t=>sl(Math.atan(t[1])),skewY:t=>sl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},z0=t=>(t=t%360,t<0&&(t+=360),t),SP=$0,AP=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),PP=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),mJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:AP,scaleY:PP,scale:t=>(AP(t)+PP(t))/2,rotateX:t=>z0(sl(Math.atan2(t[6],t[5]))),rotateY:t=>z0(sl(Math.atan2(-t[2],t[0]))),rotateZ:SP,rotate:SP,skewX:t=>sl(Math.atan(t[4])),skewY:t=>sl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function W0(t){return t.includes("scale")?1:0}function q0(t,e){if(!t||t==="none")return W0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=mJ,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=pJ,s=c}if(!s)return W0(e);const i=r[e],a=s[1].split(",").map(yJ);return typeof i=="function"?i(a):a[i]}const gJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return q0(n,e)};function yJ(t){return parseFloat(t.trim())}const Qu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yu=new Set(Qu),CP=t=>t===Ku||t===Me,vJ=new Set(["x","y","z"]),wJ=Qu.filter(t=>!vJ.has(t));function _J(t){const e=[];return wJ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const wl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>q0(e,"x"),y:(t,{transform:e})=>q0(e,"y")};wl.translateX=wl.x;wl.translateY=wl.y;const _l=new Set;let H0=!1,G0=!1,K0=!1;function GO(){if(G0){const t=Array.from(_l).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=_J(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var c;(c=r.getValue(i))==null||c.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}G0=!1,H0=!1,_l.forEach(t=>t.complete(K0)),_l.clear()}function KO(){_l.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(G0=!0)})}function xJ(){K0=!0,KO(),GO(),K0=!1}class wT{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(_l.add(this),H0||(H0=!0,Tt.read(KO),Tt.resolveKeyframes(GO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}fJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),_l.delete(this)}cancel(){this.state==="scheduled"&&(_l.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EJ=t=>t.startsWith("--");function TJ(t,e,n){EJ(e)?t.style.setProperty(e,n):t.style[e]=n}const IJ=oT(()=>window.ScrollTimeline!==void 0),bJ={};function SJ(t,e){const n=oT(t);return()=>bJ[e]??n()}const QO=SJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ch=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,RP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ch([0,.65,.55,1]),circOut:ch([.55,0,1,.45]),backIn:ch([.31,.01,.66,-.59]),backOut:ch([.33,1.53,.69,.99])};function YO(t,e){if(t)return typeof t=="function"?QO()?WO(t,e):"ease-out":MO(t)?ch(t):Array.isArray(t)?t.map(n=>YO(n,e)||RP.easeOut):RP[t]}function AJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:c="easeOut",times:u}={},h=void 0){const p={[e]:n};u&&(p.offset=u);const g=YO(c,s);Array.isArray(g)&&(p.easing=g);const y={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(p,y)}function XO(t){return typeof t=="function"&&"applyToOptions"in t}function PJ({type:t,...e}){return XO(t)&&QO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class CJ extends yT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,iT(typeof e.type!="string");const h=PJ(e);this.animation=AJ(n,r,s,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=gT(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):TJ(n,r,p),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Or(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Or(e)}get time(){return Or(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ws(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&IJ()?(this.animation.timeline=e,Fr):n(this)}}const JO={anticipate:RO,backInOut:CO,circInOut:NO};function RJ(t){return t in JO}function kJ(t){typeof t.ease=="string"&&RJ(t.ease)&&(t.ease=JO[t.ease])}const kP=10;class NJ extends CJ{constructor(e){kJ(e),HO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new vT({...a,autoplay:!1}),u=Ws(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-kP).value,c.sample(u).value,kP),c.stop()}}const NP=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(la.test(t)||t==="0")&&!t.startsWith("url("));function DJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function MJ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=NP(s,e),c=NP(i,e);return!a||!c?!1:DJ(t)||(n==="spring"||XO(n))&&r}function Q0(t){t.duration=0,t.type="keyframes"}const OJ=new Set(["opacity","clipPath","filter","transform"]),VJ=oT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LJ(t){var p;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return VJ()&&n&&OJ.has(n)&&(n!=="transform"||!h)&&!u&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const FJ=40;class jJ extends yT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:c,name:u,motionValue:h,element:p,...g}){var A;super(),this.stop=()=>{var I,S;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Xn.now();const y={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:u,motionValue:h,element:p,...g},E=(p==null?void 0:p.KeyframeResolver)||wT;this.keyframeResolver=new E(c,(I,S,R)=>this.onKeyframesResolved(I,S,y,!R),u,h,p),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:c,delay:u,isHandoff:h,onUpdate:p}=r;this.resolvedAt=Xn.now(),MJ(e,i,a,c)||((Ui.instantAnimations||!u)&&(p==null||p(gT(e,r,n))),e[0]=e[e.length-1],Q0(r),r.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>FJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},E=!h&&LJ(y)?new NJ({...y,element:y.motionValue.owner.current}):new vT(y);E.finished.then(()=>this.notifyFinished()).catch(Fr),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),xJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const UJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BJ(t){const e=UJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function ZO(t,e,n=1){const[r,s]=BJ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return xO(a)?parseFloat(a):a}return dT(s)?ZO(s,e,n+1):s}function _T(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const eV=new Set(["width","height","top","left","right","bottom",...Qu]),$J={test:t=>t==="auto",parse:t=>t},tV=t=>e=>e.test(t),nV=[Ku,Me,qs,No,DX,NX,$J],DP=t=>nV.find(tV(t));function zJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TO(t):!0}const WJ=new Set(["brightness","contrast","saturate","opacity"]);function qJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hT)||[];if(!r)return t;const s=n.replace(r,"");let i=WJ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const HJ=/\b([a-z-]*)\(.*?\)/gu,Y0={...la,getAnimatableNone:t=>{const e=t.match(HJ);return e?e.map(qJ).join(" "):t}},MP={...Ku,transform:Math.round},GJ={rotate:No,rotateX:No,rotateY:No,rotateZ:No,scale:_m,scaleX:_m,scaleY:_m,scaleZ:_m,skew:No,skewX:No,skewY:No,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:Xh,originX:xP,originY:xP,originZ:Me},xT={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...GJ,zIndex:MP,fillOpacity:Xh,strokeOpacity:Xh,numOctaves:MP},KJ={...xT,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:Y0,WebkitFilter:Y0},rV=t=>KJ[t];function sV(t,e){let n=rV(t);return n!==Y0&&(n=la),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const QJ=new Set(["auto","none","0"]);function YJ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!QJ.has(i)&&Jh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=sV(n,s)}class XJ extends wT{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),dT(h))){const p=ZO(h,n.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!eV.has(r)||e.length!==2)return;const[s,i]=e,a=DP(s),c=DP(i);if(a!==c)if(CP(a)&&CP(c))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else wl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||zJ(e[s]))&&r.push(s);r.length&&YJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=wl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function JJ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const iV=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ZJ(t){return EO(t)&&"offsetHeight"in t}const OP=30,eZ=t=>!isNaN(parseFloat(t));class tZ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Xn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new aT);const r=this.events[e].add(n);return e==="change"?()=>{r(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>OP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,OP);return IO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mu(t,e){return new tZ(t,e)}const{schedule:ET}=OO(queueMicrotask,!1),Xr={x:!1,y:!1};function oV(){return Xr.x||Xr.y}function nZ(t){return t==="x"||t==="y"?Xr[t]?null:(Xr[t]=!0,()=>{Xr[t]=!1}):Xr.x||Xr.y?null:(Xr.x=Xr.y=!0,()=>{Xr.x=Xr.y=!1})}function aV(t,e){const n=JJ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function VP(t){return!(t.pointerType==="touch"||oV())}function rZ(t,e,n={}){const[r,s,i]=aV(t,n),a=c=>{if(!VP(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const p=g=>{VP(g)&&(h(g),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,s)};return r.forEach(c=>{c.addEventListener("pointerenter",a,s)}),i}const lV=(t,e)=>e?t===e?!0:lV(t,e.parentElement):!1,TT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,sZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iZ(t){return sZ.has(t.tagName)||t.tabIndex!==-1}const Km=new WeakSet;function LP(t){return e=>{e.key==="Enter"&&t(e)}}function p_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const oZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=LP(()=>{if(Km.has(n))return;p_(n,"down");const s=LP(()=>{p_(n,"up")}),i=()=>p_(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function FP(t){return TT(t)&&!oV()}function aZ(t,e,n={}){const[r,s,i]=aV(t,n),a=c=>{const u=c.currentTarget;if(!FP(c))return;Km.add(u);const h=e(u,c),p=(E,A)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),Km.has(u)&&Km.delete(u),FP(E)&&typeof h=="function"&&h(E,{success:A})},g=E=>{p(E,u===window||u===document||n.useGlobalTarget||lV(u,E.target))},y=E=>{p(E,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,s),ZJ(c)&&(c.addEventListener("focus",h=>oZ(h,s)),!iZ(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function cV(t){return EO(t)&&"ownerSVGElement"in t}function lZ(t){return cV(t)&&t.tagName==="svg"}const Sn=t=>!!(t&&t.getVelocity),cZ=[...nV,Gt,la],uZ=t=>cZ.find(tV(t)),uV=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function dZ(t=!0){const e=T.useContext(nT);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=T.useId();T.useEffect(()=>{if(t)return s(i)},[t]);const a=T.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const dV=T.createContext({strict:!1}),jP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ou={};for(const t in jP)Ou[t]={isEnabled:e=>jP[t].some(n=>!!e[n])};function hZ(t){for(const e in t)Ou[e]={...Ou[e],...t[e]}}const fZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fZ.has(t)}let hV=t=>!Wg(t);function pZ(t){typeof t=="function"&&(hV=e=>e.startsWith("on")?!Wg(e):t(e))}try{pZ(require("@emotion/is-prop-valid").default)}catch{}function mZ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(hV(s)||n===!0&&Wg(s)||!e&&!Wg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const qy=T.createContext({});function Hy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Zh(t){return typeof t=="string"||Array.isArray(t)}const IT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bT=["initial",...IT];function Gy(t){return Hy(t.animate)||bT.some(e=>Zh(t[e]))}function fV(t){return!!(Gy(t)||t.variants)}function gZ(t,e){if(Gy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Zh(n)?n:void 0,animate:Zh(r)?r:void 0}}return t.inherit!==!1?e:{}}function yZ(t){const{initial:e,animate:n}=gZ(t,T.useContext(qy));return T.useMemo(()=>({initial:e,animate:n}),[UP(e),UP(n)])}function UP(t){return Array.isArray(t)?t.join(" "):t}const ef={};function vZ(t){for(const e in t)ef[e]=t[e],uT(e)&&(ef[e].isCSSVariable=!0)}function pV(t,{layout:e,layoutId:n}){return Yu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ef[t]||t==="opacity")}const wZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_Z=Qu.length;function xZ(t,e,n){let r="",s=!0;for(let i=0;i<_Z;i++){const a=Qu[i],c=t[a];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(a.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const h=iV(c,xT[a]);if(!u){s=!1;const p=wZ[a]||a;r+=`${p}(${h}) `}n&&(e[a]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function ST(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,c=!1;for(const u in e){const h=e[u];if(Yu.has(u)){a=!0;continue}else if(uT(u)){s[u]=h;continue}else{const p=iV(h,xT[u]);u.startsWith("origin")?(c=!0,i[u]=p):r[u]=p}}if(e.transform||(a||n?r.transform=xZ(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:p=0}=i;r.transformOrigin=`${u} ${h} ${p}`}}const AT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mV(t,e,n){for(const r in e)!Sn(e[r])&&!pV(r,n)&&(t[r]=e[r])}function EZ({transformTemplate:t},e){return T.useMemo(()=>{const n=AT();return ST(n,e,t),Object.assign({},n.vars,n.style)},[e])}function TZ(t,e){const n=t.style||{},r={};return mV(r,n,t),Object.assign(r,EZ(t,e)),r}function IZ(t,e){const n={},r=TZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const bZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},SZ={offset:"strokeDashoffset",array:"strokeDasharray"};function AZ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?bZ:SZ;t[i.offset]=Me.transform(-r);const a=Me.transform(e),c=Me.transform(n);t[i.array]=`${a} ${c}`}function gV(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...c},u,h,p){if(ST(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&AZ(g,s,i,a,!1)}const yV=()=>({...AT(),attrs:{}}),vV=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PZ(t,e,n,r){const s=T.useMemo(()=>{const i=yV();return gV(i,e,vV(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};mV(i,t.style,t),s.style={...i,...s.style}}return s}const CZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function PT(t){return typeof t!="string"||t.includes("-")?!1:!!(CZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function RZ(t,e,n,{latestValues:r},s,i=!1){const c=(PT(t)?PZ:IZ)(e,r,s,t),u=mZ(e,typeof t=="string",i),h=t!==T.Fragment?{...u,...c,ref:n}:{},{children:p}=e,g=T.useMemo(()=>Sn(p)?p.get():p,[p]);return T.createElement(t,{...h,children:g})}function BP(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function CT(t,e,n,r){if(typeof e=="function"){const[s,i]=BP(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=BP(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Qm(t){return Sn(t)?t.get():t}function kZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:NZ(n,r,s,t),renderState:e()}}function NZ(t,e,n,r){const s={},i=r(t,{});for(const y in i)s[y]=Qm(i[y]);let{initial:a,animate:c}=t;const u=Gy(t),h=fV(t);e&&h&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const g=p?c:a;if(g&&typeof g!="boolean"&&!Hy(g)){const y=Array.isArray(g)?g:[g];for(let E=0;E<y.length;E++){const A=CT(t,y[E]);if(A){const{transitionEnd:I,transition:S,...R}=A;for(const L in R){let M=R[L];if(Array.isArray(M)){const F=p?M.length-1:0;M=M[F]}M!==null&&(s[L]=M)}for(const L in I)s[L]=I[L]}}}return s}const wV=t=>(e,n)=>{const r=T.useContext(qy),s=T.useContext(nT),i=()=>kZ(t,e,r,s);return n?i():hX(i)};function RT(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(Sn(r[a])||e.style&&Sn(e.style[a])||pV(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const DZ=wV({scrapeMotionValuesFromProps:RT,createRenderState:AT});function _V(t,e,n){const r=RT(t,e,n);for(const s in t)if(Sn(t[s])||Sn(e[s])){const i=Qu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const MZ=wV({scrapeMotionValuesFromProps:_V,createRenderState:yV}),OZ=Symbol.for("motionComponentSymbol");function Qc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function VZ(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qc(n)&&(n.current=r))},[e])}const kT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LZ="framerAppearId",xV="data-"+kT(LZ),EV=T.createContext({});function FZ(t,e,n,r,s){var I,S;const{visualElement:i}=T.useContext(qy),a=T.useContext(dV),c=T.useContext(nT),u=T.useContext(uV).reducedMotion,h=T.useRef(null);r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:i,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const p=h.current,g=T.useContext(EV);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&jZ(h.current,n,s,g);const y=T.useRef(!1);T.useInsertionEffect(()=>{p&&y.current&&p.update(n,c)});const E=n[xV],A=T.useRef(!!E&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,E))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,E)));return fX(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),A.current&&p.animationState&&p.animationState.animateChanges())}),T.useEffect(()=>{p&&(!A.current&&p.animationState&&p.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)==null||R.call(window,E)}),A.current=!1),p.enteringChildren=void 0)}),p}function jZ(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:TV(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||c&&Qc(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:u,layoutRoot:h})}function TV(t){if(t)return t.options.allowProjection!==!1?t.projection:TV(t.parent)}function m_(t,{forwardMotionProps:e=!1}={},n,r){n&&hZ(n);const s=PT(t)?MZ:DZ;function i(c,u){let h;const p={...T.useContext(uV),...c,layoutId:UZ(c)},{isStatic:g}=p,y=yZ(c),E=s(c,g);if(!g&&tT){BZ();const A=$Z(p);h=A.MeasureLayout,y.visualElement=FZ(t,E,p,r,A.ProjectionNode)}return x.jsxs(qy.Provider,{value:y,children:[h&&y.visualElement?x.jsx(h,{visualElement:y.visualElement,...p}):null,RZ(t,c,VZ(E,y.visualElement,u),E,g,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=T.forwardRef(i);return a[OZ]=t,a}function UZ({layoutId:t}){const e=T.useContext(_O).id;return e&&t!==void 0?e+"-"+t:t}function BZ(t,e){T.useContext(dV).strict}function $Z(t){const{drag:e,layout:n}=Ou;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function zZ(t,e){if(typeof Proxy>"u")return m_;const n=new Map,r=(i,a)=>m_(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,m_(a,void 0,t,e)),n.get(a))})}function IV({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function WZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function g_(t){return t===void 0||t===1}function X0({scale:t,scaleX:e,scaleY:n}){return!g_(t)||!g_(e)||!g_(n)}function Ka(t){return X0(t)||bV(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bV(t){return $P(t.x)||$P(t.y)}function $P(t){return t&&t!=="0%"}function qg(t,e,n){const r=t-n,s=e*r;return n+s}function zP(t,e,n,r,s){return s!==void 0&&(t=qg(t,s,r)),qg(t,n,r)+e}function J0(t,e=0,n=1,r,s){t.min=zP(t.min,e,n,r,s),t.max=zP(t.max,e,n,r,s)}function SV(t,{x:e,y:n}){J0(t.x,e.translate,e.scale,e.originPoint),J0(t.y,n.translate,n.scale,n.originPoint)}const WP=.999999999999,qP=1.0000000000001;function HZ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let c=0;c<s;c++){i=n[c],a=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,SV(t,a)),r&&Ka(i.latestValues)&&Xc(t,i.latestValues))}e.x<qP&&e.x>WP&&(e.x=1),e.y<qP&&e.y>WP&&(e.y=1)}function Yc(t,e){t.min=t.min+e,t.max=t.max+e}function HP(t,e,n,r,s=.5){const i=Pt(t.min,t.max,s);J0(t,e,n,i,r)}function Xc(t,e){HP(t.x,e.x,e.scaleX,e.scale,e.originX),HP(t.y,e.y,e.scaleY,e.scale,e.originY)}function AV(t,e){return IV(qZ(t.getBoundingClientRect(),e))}function GZ(t,e,n){const r=AV(t,n),{scroll:s}=e;return s&&(Yc(r.x,s.offset.x),Yc(r.y,s.offset.y)),r}const GP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jc=()=>({x:GP(),y:GP()}),KP=()=>({min:0,max:0}),zt=()=>({x:KP(),y:KP()}),Z0={current:null},PV={current:!1};function KZ(){if(PV.current=!0,!!tT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Z0.current=t.matches;t.addEventListener("change",e),e()}else Z0.current=!1}const QZ=new WeakMap;function YZ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Sn(s))t.addValue(r,s);else if(Sn(i))t.addValue(r,Mu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Mu(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const QP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class XZ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Xn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Tt.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Gy(n),this.isVariantNode=fV(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const E=g[y];u[y]!==void 0&&Sn(E)&&E.set(u[y])}}mount(e){var n;this.current=e,QZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),PV.current||KZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Z0.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),aa(this.notifyUpdate),aa(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Yu.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ou){const n=Ou[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<QP.length;r++){const s=QP[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=YZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Mu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xO(r)||TO(r))?r=parseFloat(r):!uZ(r)&&la.test(n)&&(r=sV(e,n)),this.setBaseTarget(e,Sn(r)?r.get():r)),Sn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=CT(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Sn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new aT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ET.render(this.render)}}class CV extends XZ{constructor(){super(...arguments),this.KeyframeResolver=XJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function RV(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function JZ(t){return window.getComputedStyle(t)}class ZZ extends CV{constructor(){super(...arguments),this.type="html",this.renderInstance=RV}readValueFromInstance(e,n){var r;if(Yu.has(n))return(r=this.projection)!=null&&r.isProjecting?W0(n):gJ(e,n);{const s=JZ(e),i=(uT(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return AV(e,n)}build(e,n,r){ST(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return RT(e,n,r)}}const kV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eee(t,e,n,r){RV(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(kV.has(s)?s:kT(s),e.attrs[s])}class tee extends CV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yu.has(n)){const r=rV(n);return r&&r.default||0}return n=kV.has(n)?n:kT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return _V(e,n,r)}build(e,n,r){gV(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){eee(e,n,r,s)}mount(e){this.isSVGTag=vV(e.tagName),super.mount(e)}}const nee=(t,e)=>PT(t)?new tee(e):new ZZ(e,{allowProjection:t!==T.Fragment});function ou(t,e,n){const r=t.getProps();return CT(r,e,n!==void 0?n:r.custom,t)}const ex=t=>Array.isArray(t);function ree(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Mu(n))}function see(t){return ex(t)?t[t.length-1]||0:t}function iee(t,e){const n=ou(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const c=see(i[a]);ree(t,a,c)}}function oee(t){return!!(Sn(t)&&t.add)}function tx(t,e){const n=t.getValue("willChange");if(oee(n))return n.add(e);if(!n&&Ui.WillChange){const r=new Ui.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function NV(t){return t.props[xV]}const aee=t=>t!==null;function lee(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(aee),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const cee={type:"spring",stiffness:500,damping:25,restSpeed:10},uee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dee={type:"keyframes",duration:.8},hee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fee=(t,{keyframes:e})=>e.length>2?dee:Yu.has(t)?t.startsWith("scale")?uee(e[1]):cee:hee;function pee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:c,from:u,elapsed:h,...p}){return!!Object.keys(p).length}const NT=(t,e,n,r={},s,i)=>a=>{const c=_T(r,t)||{},u=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Ws(u);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:s};pee(c)||Object.assign(p,fee(t,p)),p.duration&&(p.duration=Ws(p.duration)),p.repeatDelay&&(p.repeatDelay=Ws(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Q0(p),p.delay===0&&(g=!0)),(Ui.instantAnimations||Ui.skipAnimations)&&(g=!0,Q0(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,g&&!i&&e.get()!==void 0){const y=lee(p.keyframes,c);if(y!==void 0){Tt.update(()=>{p.onUpdate(y),p.onComplete()});return}}return c.isSync?new vT(p):new jJ(p)};function mee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function DV(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(i=r);const u=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in c){const g=t.getValue(p,t.latestValues[p]??null),y=c[p];if(y===void 0||h&&mee(h,p))continue;const E={delay:n,..._T(i||{},p)},A=g.get();if(A!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===A&&!E.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const R=NV(t);if(R){const L=window.MotionHandoffAnimation(R,p,Tt);L!==null&&(E.startTime=L,I=!0)}}tx(t,p),g.start(NT(p,g,y,t.shouldReduceMotion&&eV.has(p)?{type:!1}:E,t,I));const S=g.animation;S&&u.push(S)}return a&&Promise.all(u).then(()=>{Tt.update(()=>{a&&iee(t,a)})}),u}function MV(t,e,n,r=0,s=1){const i=Array.from(t).sort((h,p)=>h.sortNodePosition(p)).indexOf(e),a=t.size,c=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:c-i*r}function nx(t,e,n={}){var u;const r=ou(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(DV(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=s;return gee(t,e,h,p,g,y,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,p]=c==="beforeChildren"?[i,a]:[a,i];return h().then(()=>p())}else return Promise.all([i(),a(n.delay)])}function gee(t,e,n=0,r=0,s=0,i=1,a){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(nx(u,e,{...a,delay:n+(typeof r=="function"?0:r)+MV(t.variantChildren,u,r,s,i)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function yee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>nx(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=nx(t,e,n);else{const s=typeof e=="function"?ou(t,e,n.custom):e;r=Promise.all(DV(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function OV(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const vee=bT.length;function VV(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?VV(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<vee;n++){const r=bT[n],s=t.props[r];(Zh(s)||s===!1)&&(e[r]=s)}return e}const wee=[...IT].reverse(),_ee=IT.length;function xee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>yee(t,n,r)))}function Eee(t){let e=xee(t),n=YP(),r=!0;const s=u=>(h,p)=>{var y;const g=ou(t,p,u==="exit"?(y=t.presenceContext)==null?void 0:y.custom:void 0);if(g){const{transition:E,transitionEnd:A,...I}=g;h={...h,...I,...A}}return h};function i(u){e=u(t)}function a(u){const{props:h}=t,p=VV(t.parent)||{},g=[],y=new Set;let E={},A=1/0;for(let S=0;S<_ee;S++){const R=wee[S],L=n[R],M=h[R]!==void 0?h[R]:p[R],F=Zh(M),B=R===u?L.isActive:null;B===!1&&(A=S);let G=M===p[R]&&M!==h[R]&&F;if(G&&r&&t.manuallyAnimateOnMount&&(G=!1),L.protectedKeys={...E},!L.isActive&&B===null||!M&&!L.prevProp||Hy(M)||typeof M=="boolean")continue;const k=Tee(L.prevProp,M);let P=k||R===u&&L.isActive&&!G&&F||S>A&&F,N=!1;const O=Array.isArray(M)?M:[M];let j=O.reduce(s(R),{});B===!1&&(j={});const{prevResolvedValues:z={}}=L,V={...z,...j},Ie=fe=>{P=!0,y.has(fe)&&(N=!0,y.delete(fe)),L.needsAnimating[fe]=!0;const K=t.getValue(fe);K&&(K.liveStyle=!1)};for(const fe in V){const K=j[fe],ne=z[fe];if(E.hasOwnProperty(fe))continue;let ie=!1;ex(K)&&ex(ne)?ie=!OV(K,ne):ie=K!==ne,ie?K!=null?Ie(fe):y.add(fe):K!==void 0&&y.has(fe)?Ie(fe):L.protectedKeys[fe]=!0}L.prevProp=M,L.prevResolvedValues=j,L.isActive&&(E={...E,...j}),r&&t.blockInitialAnimation&&(P=!1);const Le=G&&k;P&&(!Le||N)&&g.push(...O.map(fe=>{const K={type:R};if(typeof fe=="string"&&r&&!Le&&t.manuallyAnimateOnMount&&t.parent){const{parent:ne}=t,ie=ou(ne,fe);if(ne.enteringChildren&&ie){const{delayChildren:q}=ie.transition||{};K.delay=MV(ne.enteringChildren,t,q)}}return{animation:fe,options:K}}))}if(y.size){const S={};if(typeof h.initial!="boolean"){const R=ou(t,Array.isArray(h.initial)?h.initial[0]:h.initial);R&&R.transition&&(S.transition=R.transition)}y.forEach(R=>{const L=t.getBaseTarget(R),M=t.getValue(R);M&&(M.liveStyle=!0),S[R]=L??null}),g.push({animation:S})}let I=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(g):Promise.resolve()}function c(u,h){var g;if(n[u].isActive===h)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(y=>{var E;return(E=y.animationState)==null?void 0:E.setActive(u,h)}),n[u].isActive=h;const p=a(u);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:a,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=YP()}}}function Tee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!OV(e,t):!1}function za(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YP(){return{animate:za(!0),whileInView:za(),whileHover:za(),whileTap:za(),whileDrag:za(),whileFocus:za(),exit:za()}}class fa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Iee extends fa{constructor(e){super(e),e.animationState||(e.animationState=Eee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let bee=0;class See extends fa{constructor(){super(...arguments),this.id=bee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Aee={animation:{Feature:Iee},exit:{Feature:See}};function tf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Vf(t){return{point:{x:t.pageX,y:t.pageY}}}const Pee=t=>e=>TT(e)&&t(e,Vf(e));function Eh(t,e,n,r){return tf(t,e,Pee(n),r)}const LV=1e-4,Cee=1-LV,Ree=1+LV,FV=.01,kee=0-FV,Nee=0+FV;function On(t){return t.max-t.min}function Dee(t,e,n){return Math.abs(t-e)<=n}function XP(t,e,n,r=.5){t.origin=r,t.originPoint=Pt(e.min,e.max,t.origin),t.scale=On(n)/On(e),t.translate=Pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Cee&&t.scale<=Ree||isNaN(t.scale))&&(t.scale=1),(t.translate>=kee&&t.translate<=Nee||isNaN(t.translate))&&(t.translate=0)}function Th(t,e,n,r){XP(t.x,e.x,n.x,r?r.originX:void 0),XP(t.y,e.y,n.y,r?r.originY:void 0)}function JP(t,e,n){t.min=n.min+e.min,t.max=t.min+On(e)}function Mee(t,e,n){JP(t.x,e.x,n.x),JP(t.y,e.y,n.y)}function ZP(t,e,n){t.min=e.min-n.min,t.max=t.min+On(e)}function Ih(t,e,n){ZP(t.x,e.x,n.x),ZP(t.y,e.y,n.y)}function Pr(t){return[t("x"),t("y")]}const jV=({current:t})=>t?t.ownerDocument.defaultView:null,eC=(t,e)=>Math.abs(t-e);function Oee(t,e){const n=eC(t.x,e.x),r=eC(t.y,e.y);return Math.sqrt(n**2+r**2)}class UV{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=v_(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=Oee(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!A)return;const{point:I}=y,{timestamp:S}=fn;this.history.push({...I,timestamp:S});const{onStart:R,onMove:L}=this.handlers;E||(R&&R(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,y)},this.handlePointerMove=(y,E)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=y_(E,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(y,E)=>{this.end();const{onEnd:A,onSessionEnd:I,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=v_(y.type==="pointercancel"?this.lastMoveEventInfo:y_(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(y,R),I&&I(y,R)},!TT(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const c=Vf(e),u=y_(c,this.transformPagePoint),{point:h}=u,{timestamp:p}=fn;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,v_(u,this.history)),this.removeListeners=Df(Eh(this.contextWindow,"pointermove",this.handlePointerMove),Eh(this.contextWindow,"pointerup",this.handlePointerUp),Eh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),aa(this.updatePoint)}}function y_(t,e){return e?{point:e(t.point)}:t}function tC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function v_({point:t},e){return{point:t,delta:tC(t,BV(e)),offset:tC(t,Vee(e)),velocity:Lee(e,.1)}}function Vee(t){return t[0]}function BV(t){return t[t.length-1]}function Lee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=BV(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ws(e)));)n--;if(!r)return{x:0,y:0};const i=Or(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Fee(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pt(n,t,r.max):Math.min(t,n)),t}function nC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function jee(t,{top:e,left:n,bottom:r,right:s}){return{x:nC(t.x,n,s),y:nC(t.y,e,r)}}function rC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Uee(t,e){return{x:rC(t.x,e.x),y:rC(t.y,e.y)}}function Bee(t,e){let n=.5;const r=On(t),s=On(e);return s>r?n=Yh(e.min,e.max-r,t.min):r>s&&(n=Yh(t.min,t.max-s,e.min)),ji(0,1,n)}function $ee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const rx=.35;function zee(t=rx){return t===!1?t=0:t===!0&&(t=rx),{x:sC(t,"left","right"),y:sC(t,"top","bottom")}}function sC(t,e,n){return{min:iC(t,e),max:iC(t,n)}}function iC(t,e){return typeof t=="number"?t:t[e]||0}const Wee=new WeakMap;class qee{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vf(g).point)},a=(g,y)=>{const{drag:E,dragPropagation:A,onDragStart:I}=this.getProps();if(E&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nZ(E),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pr(R=>{let L=this.getAxisMotionValue(R).get()||0;if(qs.test(L)){const{projection:M}=this.visualElement;if(M&&M.layout){const F=M.layout.layoutBox[R];F&&(L=On(F)*(parseFloat(L)/100))}}this.originPoint[R]=L}),I&&Tt.postRender(()=>I(g,y)),tx(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:E,dragDirectionLock:A,onDirectionLock:I,onDrag:S}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:R}=y;if(A&&this.currentDirection===null){this.currentDirection=Hee(R),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",y.point,R),this.updateAxis("y",y.point,R),this.visualElement.render(),S&&S(g,y)},u=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Pr(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new UV(e,{onSessionStart:i,onStart:a,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:jV(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&Tt.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!xm(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Fee(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Qc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=jee(r.layoutBox,e):this.constraints=!1,this.elastic=zee(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Pr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=$ee(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=GZ(r,s.root,this.visualElement.getTransformPagePoint());let a=Uee(s.layout.layoutBox,i);if(n){const c=n(WZ(a));this.hasMutatedConstraints=!!c,c&&(a=IV(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=Pr(p=>{if(!xm(p,n,this.currentDirection))return;let g=u&&u[p]||{};a&&(g={min:0,max:0});const y=s?200:1e6,E=s?40:1e7,A={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(p,A)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return tx(this.visualElement,e),r.start(NT(e,r,0,n,this.visualElement,!1))}stopAnimation(){Pr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Pr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Pr(n=>{const{drag:r}=this.getProps();if(!xm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[n];i.set(e[n]-Pt(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Pr(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();s[a]=Bee({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Pr(a=>{if(!xm(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:h}=this.constraints[a];c.set(Pt(u,h,s[a]))})}addListeners(){if(!this.visualElement.current)return;Wee.set(this.visualElement,this);const e=this.visualElement.current,n=Eh(e,"pointerdown",u=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Qc(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Tt.read(r);const a=tf(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Pr(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=u[p].translate,g.set(g.get()+u[p].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=rx,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:c}}}function xm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Hee(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Gee extends fa{constructor(e){super(e),this.removeGroupControls=Fr,this.removeListeners=Fr,this.controls=new qee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const oC=t=>(e,n)=>{t&&Tt.postRender(()=>t(e,n))};class Kee extends fa{constructor(){super(...arguments),this.removePointerDownListener=Fr}onPointerDown(e){this.session=new UV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:oC(e),onStart:oC(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Tt.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Eh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ym={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Me.test(t))t=parseFloat(t);else return t;const n=aC(t,e.target.x),r=aC(t,e.target.y);return`${n}% ${r}%`}},Qee={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=la.parse(t);if(s.length>5)return r;const i=la.createTransformer(t),a=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;s[0+a]/=c,s[1+a]/=u;const h=Pt(c,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=h),typeof s[3+a]=="number"&&(s[3+a]/=h),i(s)}};let w_=!1;class Yee extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;vZ(Xee),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),w_&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ym.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,w_=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Tt.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ET.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;w_=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $V(t){const[e,n]=dZ(),r=T.useContext(_O);return x.jsx(Yee,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(EV),isPresent:e,safeToRemove:n})}const Xee={borderRadius:{...Zd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zd,borderTopRightRadius:Zd,borderBottomLeftRadius:Zd,borderBottomRightRadius:Zd,boxShadow:Qee};function Jee(t,e,n){const r=Sn(t)?t:Mu(t);return r.start(NT("",r,e,n)),r.animation}const Zee=(t,e)=>t.depth-e.depth;class ete{constructor(){this.children=[],this.isDirty=!1}add(e){rT(this.children,e),this.isDirty=!0}remove(e){sT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Zee),this.isDirty=!1,this.children.forEach(e)}}function tte(t,e){const n=Xn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(aa(r),t(i-e))};return Tt.setup(r,!0),()=>aa(r)}const zV=["TopLeft","TopRight","BottomLeft","BottomRight"],nte=zV.length,lC=t=>typeof t=="string"?parseFloat(t):t,cC=t=>typeof t=="number"||Me.test(t);function rte(t,e,n,r,s,i){s?(t.opacity=Pt(0,n.opacity??1,ste(r)),t.opacityExit=Pt(e.opacity??1,0,ite(r))):i&&(t.opacity=Pt(e.opacity??1,n.opacity??1,r));for(let a=0;a<nte;a++){const c=`border${zV[a]}Radius`;let u=uC(e,c),h=uC(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||cC(u)===cC(h)?(t[c]=Math.max(Pt(lC(u),lC(h),r),0),(qs.test(h)||qs.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=Pt(e.rotate||0,n.rotate||0,r))}function uC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ste=WV(0,.5,kO),ite=WV(.5,.95,Fr);function WV(t,e,n){return r=>r<t?0:r>e?1:n(Yh(t,e,r))}function dC(t,e){t.min=e.min,t.max=e.max}function Sr(t,e){dC(t.x,e.x),dC(t.y,e.y)}function hC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function fC(t,e,n,r,s){return t-=e,t=qg(t,1/n,r),s!==void 0&&(t=qg(t,1/s,r)),t}function ote(t,e=0,n=1,r=.5,s,i=t,a=t){if(qs.test(e)&&(e=parseFloat(e),e=Pt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=Pt(i.min,i.max,r);t===i&&(c-=e),t.min=fC(t.min,e,n,c,s),t.max=fC(t.max,e,n,c,s)}function pC(t,e,[n,r,s],i,a){ote(t,e[n],e[r],e[s],e.scale,i,a)}const ate=["x","scaleX","originX"],lte=["y","scaleY","originY"];function mC(t,e,n,r){pC(t.x,e,ate,n?n.x:void 0,r?r.x:void 0),pC(t.y,e,lte,n?n.y:void 0,r?r.y:void 0)}function gC(t){return t.translate===0&&t.scale===1}function qV(t){return gC(t.x)&&gC(t.y)}function yC(t,e){return t.min===e.min&&t.max===e.max}function cte(t,e){return yC(t.x,e.x)&&yC(t.y,e.y)}function vC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function HV(t,e){return vC(t.x,e.x)&&vC(t.y,e.y)}function wC(t){return On(t.x)/On(t.y)}function _C(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ute{constructor(){this.members=[]}add(e){rT(this.members,e),e.scheduleRender()}remove(e){if(sT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dte(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:y,skewX:E,skewY:A}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),E&&(r+=`skewX(${E}deg) `),A&&(r+=`skewY(${A}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const __=["","X","Y","Z"],hte=1e3;let fte=0;function x_(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function GV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=NV(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Tt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&GV(r)}function KV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},c=e==null?void 0:e()){this.id=fte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gte),this.nodes.forEach(_te),this.nodes.forEach(xte),this.nodes.forEach(yte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new ete)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new aT),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=cV(a)&&!lZ(a),this.instance=a;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let p,g=0;const y=()=>this.root.updateBlockedByResize=!1;Tt.read(()=>{g=window.innerWidth}),t(a,()=>{const E=window.innerWidth;E!==g&&(g=E,this.root.updateBlockedByResize=!0,p&&p(),p=tte(y,250),Ym.hasAnimatedSinceResize&&(Ym.hasAnimatedSinceResize=!1,this.nodes.forEach(TC)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||h.getDefaultTransition()||Ste,{onLayoutAnimationStart:I,onLayoutAnimationComplete:S}=h.getProps(),R=!this.targetLayout||!HV(this.targetLayout,E),L=!g&&y;if(this.options.layoutRoot||this.resumeFrom||L||g&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={..._T(A,"layout"),onPlay:I,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(p,L)}else g||TC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),aa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ete),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(EC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wte),this.nodes.forEach(pte),this.nodes.forEach(mte)):this.nodes.forEach(EC),this.clearAllSnapshots();const c=Xn.now();fn.delta=ji(0,1e3/60,c-fn.timestamp),fn.timestamp=c,fn.isProcessing=!0,c_.update.process(fn),c_.preRender.process(fn),c_.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ET.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vte),this.sharedNodes.forEach(Tte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!On(this.snapshot.measuredBox.x)&&!On(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!qV(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;a&&this.instance&&(c||Ka(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),Ate(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:a}=this.options;if(!a)return zt();const c=a.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(Pte))){const{scroll:p}=this.root;p&&(Yc(c.x,p.offset.x),Yc(c.y,p.offset.y))}return c}removeElementScroll(a){var u;const c=zt();if(Sr(c,a),(u=this.scroll)!=null&&u.wasRoot)return c;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Sr(c,a),Yc(c.x,g.offset.x),Yc(c.y,g.offset.y))}return c}applyTransform(a,c=!1){const u=zt();Sr(u,a);for(let h=0;h<this.path.length;h++){const p=this.path[h];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Xc(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ka(p.latestValues)&&Xc(u,p.latestValues)}return Ka(this.latestValues)&&Xc(u,this.latestValues),u}removeTransform(a){const c=zt();Sr(c,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Ka(h.latestValues))continue;X0(h.latestValues)&&h.updateSnapshot();const p=zt(),g=h.measurePageBox();Sr(p,g),mC(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Ka(this.latestValues)&&mC(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var y;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Ih(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Mee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sr(this.target,this.layout.layoutBox),SV(this.target,this.targetDelta)):Sr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Ih(this.relativeTargetOrigin,this.target,E.target),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||X0(this.parent.latestValues)||bV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(u=!1),u)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Sr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;HZ(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=zt());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hC(this.prevProjectionDelta.x,this.projectionDelta.x),hC(this.prevProjectionDelta.y,this.projectionDelta.y)),Th(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!_C(this.projectionDelta.x,this.prevProjectionDelta.x)||!_C(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jc(),this.projectionDelta=Jc(),this.projectionDeltaWithTransform=Jc()}setAnimationOrigin(a,c=!1){const u=this.snapshot,h=u?u.latestValues:{},p={...this.latestValues},g=Jc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=zt(),E=u?u.source:void 0,A=this.layout?this.layout.source:void 0,I=E!==A,S=this.getStack(),R=!S||S.members.length<=1,L=!!(I&&!R&&this.options.crossfade===!0&&!this.path.some(bte));this.animationProgress=0;let M;this.mixTargetDelta=F=>{const B=F/1e3;IC(g.x,a.x,B),IC(g.y,a.y,B),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ih(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ite(this.relativeTarget,this.relativeTargetOrigin,y,B),M&&cte(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=zt()),Sr(M,this.relativeTarget)),I&&(this.animationValues=p,rte(p,h,this.latestValues,B,L,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var c,u,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||h.stop(),this.pendingAnimation&&(aa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{Ym.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Mu(0)),this.currentAnimation=Jee(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),a.onUpdate&&a.onUpdate(p)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:p}=a;if(!(!c||!u||!h)){if(this!==a&&this.layout&&h&&QV(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||zt();const g=On(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+g;const y=On(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+y}Sr(c,u),Xc(c,p),Th(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new ute),this.sharedNodes.get(a).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var c;const{layoutId:a}=this.options;return a?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:a}=this.options;return a?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&x_("z",a,h,this.animationValues);for(let p=0;p<__.length;p++)x_(`rotate${__[p]}`,a,h,this.animationValues),x_(`skew${__[p]}`,a,h,this.animationValues);a.render();for(const p in h)a.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Qm(c==null?void 0:c.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Qm(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ka(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=dte(this.projectionDeltaWithTransform,this.treeScale,p);u&&(g=u(p,g)),a.transform=g;const{x:y,y:E}=this.projectionDelta;a.transformOrigin=`${y.origin*100}% ${E.origin*100}% 0`,h.animationValues?a.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:a.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const A in ef){if(p[A]===void 0)continue;const{correct:I,applyTo:S,isCSSVariable:R}=ef[A],L=g==="none"?p[A]:I(p[A],h);if(S){const M=S.length;for(let F=0;F<M;F++)a[S[F]]=L}else R?this.options.visualElement.renderState.vars[A]=L:a[A]=L}this.options.layoutId&&(a.pointerEvents=h===this?Qm(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(xC),this.root.sharedNodes.clear()}}}function pte(t){t.updateLayout()}function mte(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Pr(g=>{const y=a?e.measuredBox[g]:e.layoutBox[g],E=On(y);y.min=r[g].min,y.max=y.min+E}):QV(i,e.layoutBox,r)&&Pr(g=>{const y=a?e.measuredBox[g]:e.layoutBox[g],E=On(r[g]);y.max=y.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+E)});const c=Jc();Th(c,r,e.layoutBox);const u=Jc();a?Th(u,t.applyTransform(s,!0),e.measuredBox):Th(u,r,e.layoutBox);const h=!qV(c);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:E}=g;if(y&&E){const A=zt();Ih(A,e.layoutBox,y.layoutBox);const I=zt();Ih(I,r,E.layoutBox),HV(A,I)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function gte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vte(t){t.clearSnapshot()}function xC(t){t.clearMeasurements()}function EC(t){t.isLayoutDirty=!1}function wte(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function TC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _te(t){t.resolveTargetDelta()}function xte(t){t.calcProjection()}function Ete(t){t.resetSkewAndRotation()}function Tte(t){t.removeLeadSnapshot()}function IC(t,e,n){t.translate=Pt(e.translate,0,n),t.scale=Pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bC(t,e,n,r){t.min=Pt(e.min,n.min,r),t.max=Pt(e.max,n.max,r)}function Ite(t,e,n,r){bC(t.x,e.x,n.x,r),bC(t.y,e.y,n.y,r)}function bte(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Ste={duration:.45,ease:[.4,0,.1,1]},SC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),AC=SC("applewebkit/")&&!SC("chrome/")?Math.round:Fr;function PC(t){t.min=AC(t.min),t.max=AC(t.max)}function Ate(t){PC(t.x),PC(t.y)}function QV(t,e,n){return t==="position"||t==="preserve-aspect"&&!Dee(wC(e),wC(n),.2)}function Pte(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Cte=KV({attachResizeListener:(t,e)=>tf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),E_={current:void 0},YV=KV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!E_.current){const t=new Cte({});t.mount(window),t.setOptions({layoutScroll:!0}),E_.current=t}return E_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Rte={pan:{Feature:Kee},drag:{Feature:Gee,ProjectionNode:YV,MeasureLayout:$V}};function CC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Tt.postRender(()=>i(e,Vf(e)))}class kte extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=rZ(e,(n,r)=>(CC(this.node,r,"Start"),s=>CC(this.node,s,"End"))))}unmount(){}}class Nte extends fa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Df(tf(this.node.current,"focus",()=>this.onFocus()),tf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Tt.postRender(()=>i(e,Vf(e)))}class Dte extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=aZ(e,(n,r)=>(RC(this.node,r,"Start"),(s,{success:i})=>RC(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sx=new WeakMap,T_=new WeakMap,Mte=t=>{const e=sx.get(t.target);e&&e(t)},Ote=t=>{t.forEach(Mte)};function Vte({root:t,...e}){const n=t||document;T_.has(n)||T_.set(n,{});const r=T_.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Ote,{root:t,...e})),r[s]}function Lte(t,e,n){const r=Vte(e);return sx.set(t,n),r.observe(t),()=>{sx.delete(t),r.unobserve(t)}}const Fte={some:0,all:1};class jte extends fa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Fte[s]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=h?p:g;y&&y(u)};return Lte(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Ute(e,n))&&this.startObserver()}unmount(){}}function Ute({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Bte={inView:{Feature:jte},tap:{Feature:Dte},focus:{Feature:Nte},hover:{Feature:kte}},$te={layout:{ProjectionNode:YV,MeasureLayout:$V}},zte={...Aee,...Bte,...Rte,...$te},$t=zZ(zte,nee);function ix(){const t=SE(),{user:e,loading:n}=jE(),[r,s]=Zt.useState(!1);T.useEffect(()=>{!n&&e&&t(nt("Home"))},[e,n,t]);const i=()=>{e?t(nt("Home")):s(!0)};if(n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const a=[{icon:Y7,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:Um,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:E0,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:Gw,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:T0,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:uW,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],c=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],u=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],h=[{icon:E0,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:Gw,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:T0,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:NA,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],p=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx($t.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),x.jsx($t.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),x.jsx($t.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),x.jsx($t.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),x.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:x.jsxs("div",{className:"text-center",children:[x.jsx($t.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse overflow-hidden",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-24 h-24 object-contain transform -rotate-12"})}),x.jsx($t.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),x.jsx($t.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),x.jsx($t.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),x.jsx($t.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),x.jsxs($t.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[x.jsxs(Rr,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 text-lg font-bold shadow-xl border-0 animate-pulse",children:[x.jsx(V7,{className:"w-5 h-5 mr-2"}),"7-Day FREE Trial - All Features!"]}),x.jsxs(Rr,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(NA,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),x.jsxs(Rr,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(a2,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),x.jsxs($t.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[x.jsxs($s,{onClick:i,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[x.jsx(aW,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),x.jsxs($s,{onClick:()=>{var g;return(g=document.getElementById("features"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white bg-transparent hover:bg-white hover:text-purple-600 shadow-xl transition-all",children:["See What's Inside",x.jsx(E7,{className:"w-6 h-6 ml-2"})]})]}),x.jsx($t.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:h.map((g,y)=>{const E=g.icon;return x.jsxs($t.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[x.jsx(E,{className:`w-10 h-10 mx-auto mb-3 ${g.color}`}),x.jsx("div",{className:"text-3xl font-black text-gray-800",children:g.value}),x.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:g.label})]},y)})})]})}),x.jsxs("div",{style:{background:"linear-gradient(90deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",padding:"14px 0 12px 0",textAlign:"center",fontWeight:"bold",fontSize:"1.1rem",letterSpacing:"0.01em",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)",borderBottom:"2px solid #fff",borderRadius:8,margin:"0 auto 24px auto",maxWidth:900},className:"mx-auto mb-8",children:[x.jsx("span",{role:"img","aria-label":"lightbulb",style:{marginRight:8},children:""}),"Best Experience: ",x.jsx("span",{style:{fontWeight:700},children:"Math Adventure"})," works best on ",x.jsx("span",{style:{textDecoration:"underline"},children:"tablets"})," and ",x.jsx("span",{style:{textDecoration:"underline"},children:"desktop computers"})," for optimal gameplay and features."]}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),x.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:p.map((g,y)=>x.jsxs($t.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[x.jsx("div",{className:"text-7xl mb-4",children:g.emoji}),x.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:g.name}),x.jsx("p",{className:"text-gray-700 font-semibold",children:g.desc})]},y))}),x.jsxs("div",{className:"mb-16",children:[x.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:c.map((g,y)=>x.jsxs($t.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[x.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),x.jsx("div",{className:"font-bold text-sm text-gray-800",children:g.name}),x.jsx(Rr,{className:"mt-2 bg-purple-500 text-white text-xs",children:g.grade})]},y))})]})]})}),x.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((g,y)=>{const E=g.icon;return x.jsxs($t.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[x.jsxs("div",{className:`h-32 bg-gradient-to-br ${g.gradient} flex items-center justify-center relative`,children:[x.jsx("div",{className:"text-7xl",children:g.emoji}),x.jsx("div",{className:"absolute top-3 right-3",children:x.jsx(E,{className:"w-10 h-10 text-white opacity-50"})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:g.title}),x.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:g.description})]})]},y)})})]})}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsxs($t.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),x.jsxs($t.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),x.jsxs($t.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:u.map((g,y)=>x.jsxs($t.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[x.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(g.rating)].map((E,A)=>x.jsx(Gw,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},A))}),x.jsx("div",{className:"text-6xl mb-4",children:g.emoji}),x.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',g.text,'"']}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-lg text-gray-800",children:g.author}),x.jsx("p",{className:"text-sm text-gray-600 font-bold",children:g.role})]})]},y))})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[x.jsx($t.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),x.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),x.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),x.jsxs($s,{onClick:i,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[x.jsx(iW,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),x.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),x.jsx("div",{className:"bg-gray-900 text-white py-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[x.jsx("div",{className:"mb-4 flex items-center justify-center",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-16 h-16 object-contain"})}),x.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),x.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),x.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[x.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:""}),x.jsx(T2,{onSuccess:()=>t(nt("Home"))})]})})]})}const XV=T.lazy(()=>Ft(()=>import("./Home-B1e5oU6L.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12,13,14,15,16]))),JV=T.lazy(()=>Ft(()=>import("./Game-BSxN8OV2.js"),__vite__mapDeps([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7]))),ZV=T.lazy(()=>Ft(()=>import("./Progress-CJyc2nxx.js"),__vite__mapDeps([27,7,5,9,28,10,29]))),eL=T.lazy(()=>Ft(()=>import("./Avatar-DWsPiGGF.js"),__vite__mapDeps([30,18,31,32,33,34,14,0,1,35,23]))),tL=T.lazy(()=>Ft(()=>import("./DailyChallenge-Bdw758IQ.js"),__vite__mapDeps([36,18,1,19,20,10,37,24,26,5,7]))),nL=T.lazy(()=>Ft(()=>import("./ParentPortal-ujdsGIsq.js"),__vite__mapDeps([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25]))),rL=T.lazy(()=>Ft(()=>import("./Shop-CVZgRxJn.js"),__vite__mapDeps([45,18,32,0,1,14,29,25,16,7]))),sL=T.lazy(()=>Ft(()=>import("./Leaderboards-Bm79OtXC.js"),__vite__mapDeps([46,18,32,47,9,7,12,10,37,44]))),iL=T.lazy(()=>Ft(()=>import("./TeamChallenges-YLDuyulC.js"),__vite__mapDeps([48,18,1,9,10]))),oL=T.lazy(()=>Ft(()=>import("./Subscription-BXM5wPAK.js"),__vite__mapDeps([49,18,6,23]))),aL=T.lazy(()=>Ft(()=>import("./GenerateIcons-irEsrbiy.js"),__vite__mapDeps([50,51,23,3,8]))),lL=T.lazy(()=>Ft(()=>import("./TestIconGeneration-oHdXBYrX.js"),__vite__mapDeps([52,51]))),cL=T.lazy(()=>Ft(()=>import("./Messages-BRMZI1jn.js"),__vite__mapDeps([53,18,39,43,15,42]))),uL=T.lazy(()=>Ft(()=>import("./ColorByNumbers-JzUc735X.js"),__vite__mapDeps([54,18,40,41,34,26,16,12,13,43,21,3,55]))),dL=T.lazy(()=>Ft(()=>import("./Settings-DBhk2Jxw.js"),__vite__mapDeps([56,41,20,16,43,10,12,13,55,21,23,42]))),hL=T.lazy(()=>Ft(()=>import("./PrivacyPolicy-CiiZkyoZ.js"),__vite__mapDeps([57,23,14]))),fL=T.lazy(()=>Ft(()=>import("./AITutor-CiJvOfzv.js"),__vite__mapDeps([58,32,10,22,15,7,24,1,9,28,25,14,11]))),pL=T.lazy(()=>Ft(()=>import("./AdminTestAccount-DOgC3vLm.js"),__vite__mapDeps([59,31,47,23]))),mL=T.lazy(()=>Ft(()=>import("./Subscribe-D5mtZK-4.js"),__vite__mapDeps([60,51]))),kC={Home:XV,Game:JV,Progress:ZV,Avatar:eL,DailyChallenge:tL,ParentPortal:nL,Shop:rL,Leaderboards:sL,TeamChallenges:iL,Subscription:oL,GenerateIcons:aL,TestIconGeneration:lL,Landing:ix,Messages:cL,ColorByNumbers:uL,Settings:dL,PrivacyPolicy:hL,AITutor:fL,AdminTestAccount:pL,Subscribe:mL};function Wte(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(kC).find(r=>r.toLowerCase()===e.toLowerCase())||Object.keys(kC)[0]}const qte=()=>x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})});function Hte(){const t=Hi(),e=Wte(t.pathname);return x.jsx(iX,{currentPageName:e,children:x.jsx(Hm,{children:x.jsx(T.Suspense,{fallback:x.jsx(qte,{}),children:x.jsxs(e8,{children:[x.jsx(Dt,{path:"/",element:x.jsx(ix,{})}),x.jsx(Dt,{path:"/Home",element:x.jsx(XV,{})}),x.jsx(Dt,{path:"/Game",element:x.jsx(JV,{})}),x.jsx(Dt,{path:"/Progress",element:x.jsx(ZV,{})}),x.jsx(Dt,{path:"/Avatar",element:x.jsx(eL,{})}),x.jsx(Dt,{path:"/DailyChallenge",element:x.jsx(tL,{})}),x.jsx(Dt,{path:"/ParentPortal",element:x.jsx(nL,{})}),x.jsx(Dt,{path:"/Shop",element:x.jsx(rL,{})}),x.jsx(Dt,{path:"/Leaderboards",element:x.jsx(sL,{})}),x.jsx(Dt,{path:"/TeamChallenges",element:x.jsx(iL,{})}),x.jsx(Dt,{path:"/Subscription",element:x.jsx(oL,{})}),x.jsx(Dt,{path:"/GenerateIcons",element:x.jsx(aL,{})}),x.jsx(Dt,{path:"/TestIconGeneration",element:x.jsx(lL,{})}),x.jsx(Dt,{path:"/Landing",element:x.jsx(ix,{})}),x.jsx(Dt,{path:"/Messages",element:x.jsx(cL,{})}),x.jsx(Dt,{path:"/ColorByNumbers",element:x.jsx(uL,{})}),x.jsx(Dt,{path:"/Settings",element:x.jsx(dL,{})}),x.jsx(Dt,{path:"/PrivacyPolicy",element:x.jsx(hL,{})}),x.jsx(Dt,{path:"/AITutor",element:x.jsx(fL,{})}),x.jsx(Dt,{path:"/AdminTestAccount",element:x.jsx(pL,{})}),x.jsx(Dt,{path:"/Subscribe",element:x.jsx(mL,{})})]})})})})}function Gte(){return x.jsx(T8,{children:x.jsx(Hte,{})})}const Kte=20,Qte=1e6,Pi={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let I_=0;function Yte(){return I_=(I_+1)%Number.MAX_VALUE,I_.toString()}const b_=new Map,NC=t=>{if(b_.has(t))return;const e=setTimeout(()=>{b_.delete(t),bh({type:Pi.REMOVE_TOAST,toastId:t})},Qte);b_.set(t,e)},Xte=(t,e)=>{switch(e.type){case Pi.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Kte)};case Pi.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Pi.DISMISS_TOAST:{const{toastId:n}=e;return n?NC(n):t.toasts.forEach(r=>{NC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Pi.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Xm=[];let Jm={toasts:[]};function bh(t){Jm=Xte(Jm,t),Xm.forEach(e=>{e(Jm)})}function Jte({...t}){const e=Yte(),n=s=>bh({type:Pi.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>bh({type:Pi.DISMISS_TOAST,toastId:e});return bh({type:Pi.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Zte(){const[t,e]=T.useState(Jm);return T.useEffect(()=>(Xm.push(e),()=>{const n=Xm.indexOf(e);n>-1&&Xm.splice(n,1)}),[t]),{...t,toast:Jte,dismiss:n=>bh({type:Pi.DISMISS_TOAST,toastId:n})}}const gL=T.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));gL.displayName="ToastProvider";const yL=T.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));yL.displayName="ToastViewport";const ene=My("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vL=T.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,className:_t(ene({variant:e}),t),...n}));vL.displayName="Toast";const tne=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:_t("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));tne.displayName="ToastAction";const wL=T.forwardRef(({className:t,...e},n)=>x.jsx("button",{ref:n,className:_t("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(VE,{className:"h-4 w-4"})}));wL.displayName="ToastClose";const _L=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:_t("text-sm font-semibold",t),...e}));_L.displayName="ToastTitle";const xL=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:_t("text-sm opacity-90",t),...e}));xL.displayName="ToastDescription";function nne(){const{toasts:t}=Zte();return x.jsxs(gL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(vL,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(_L,{children:n}),r&&x.jsx(xL,{children:r})]}),s,x.jsx(wL,{})]},e)}),x.jsx(yL,{})]})}function rne(){return x.jsxs(x.Fragment,{children:[x.jsx(Gte,{}),x.jsx(nne,{})]})}const sne=new r7({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});jF.createRoot(document.getElementById("root")).render(x.jsx(i7,{client:sne,children:x.jsx(_q,{children:x.jsx(rne,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{F7 as $,S2 as A,Rr as B,oX as C,gne as D,Um as E,P7 as F,kA as G,Jb as H,T2 as I,q7 as J,I7 as K,mt as L,aX as M,lX as N,mne as O,xne as P,SE as Q,Zt as R,uW as S,E0 as T,T0 as U,$t as V,hne as W,VE as X,PA as Y,DA as Z,E7 as _,qw as a,Sf as a$,M7 as a0,wq as a1,pne as a2,hm as a3,gn as a4,Hw as a5,wne as a6,Tne as a7,Af as a8,Y2 as a9,Py as aA,OA as aB,VA as aC,Qh as aD,ZQ as aE,Zte as aF,UY as aG,Ine as aH,Ane as aI,fne as aJ,yne as aK,_ne as aL,bne as aM,Sne as aN,Ene as aO,$l as aP,ZG as aQ,_M as aR,Qq as aS,O2 as aT,Pne as aU,k2 as aV,R2 as aW,sa as aX,kE as aY,Vi as aZ,N7 as a_,R0 as aa,P2 as ab,IG as ac,Zn as ad,bG as ae,jn as af,et as ag,Cf as ah,iM as ai,D2 as aj,SG as ak,AG as al,Kw as am,Bm as an,Ay as ao,Xs as ap,vne as aq,us as ar,Ol as as,c2 as at,ax as au,rD as av,vE as aw,dne as ax,yG as ay,NA as az,V7 as b,c0 as b0,zh as b1,e7 as b2,Qn as b3,$8 as b4,RA as b5,one as b6,aM as b7,$G as b8,zG as b9,tq as ba,My as bb,uV as bc,ZJ as bd,hX as be,nT as bf,dZ as bg,fX as bh,_O as bi,Je as c,uX as d,$7 as e,tX as f,nt as g,$s as h,wy as i,x as j,as as k,Pn as l,os as m,jE as n,_t as o,nl as p,is as q,T as r,L0 as s,R7 as t,y7 as u,a2 as v,Mr as w,Gw as x,A2 as y,s7 as z};
