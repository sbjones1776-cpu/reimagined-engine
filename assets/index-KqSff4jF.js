const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm-.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00-.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const OL="modulepreload",ML=function(t){return"/"+t},Vk={},jt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let a=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=a(n.map(h=>{if(h=ML(h),h in Vk)return;Vk[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":OL,m||(v.as="script"),v.crossOrigin="",v.href=h,c&&v.setAttribute("nonce",c),document.head.appendChild(v),m)return new Promise((E,I)=>{v.addEventListener("load",E),v.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return s.then(a=>{for(const u of a||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},Lt=(t,e=Lt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ.js","assets/progress-DswiN-jt-CRkTvpyk.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx.js","assets/download-k8BXtbsE-hJBy54oi.js","assets/Home-B1e5oU6L-BnLx-1kh.js","assets/flame-Z4NDYWf0-CPLPmaZ3.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v.js","assets/zap-BUGd4PS--D5Rx8Je6.js","assets/external-link-B3vh6vLr-IAJFuuQW.js","assets/trending-up-DOxCo9I6-CjyZKRpy.js","assets/target-1p2ICMDN-CvDzxGjB.js","assets/book-open-CsZLkRie-CnloTbZU.js","assets/plus-CzE6Y-vE-CTS6AMhf.js","assets/minus-CxnUEU8f-CdSPzO8E.js","assets/lock-DVJmOJtR-CPCpectf.js","assets/circle-alert-D0KxAb-N-CBSI-qzf.js","assets/palette-C1tdbQoO-D9zv_SnR.js","assets/Game-BSxN8OV2-DCbKaoIo.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N.js","assets/trending-down-CtEqn-BB-zOpygq96.js","assets/triangle-alert-BF04o9wv-5R0uES8i.js","assets/QuestionGenerator-z-c728t7-CSzYVewV.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH.js","assets/arrow-left-8gFWt4dJ-CSNboBK9.js","assets/Progress-CJyc2nxx-CCph28do.js","assets/LineChart-Boznw0oC-BjVvaeYB.js","assets/gift-gU3fLUyU-xa62twJ2.js","assets/Avatar-DWsPiGGF-BsRh6I0m.js","assets/label-ClTmKTiT-BGzEp_4m.js","assets/tabs-BCUfDdd3-DRpA79_-.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T.js","assets/index-DytiPzxp-BK84tApl.js","assets/save-WpcaPzdX-CJl6cnmk.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE.js","assets/medal-iK-ypg-g-C4SGU5mg.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm.js","assets/textarea-CqrSSpqj-CdkJNOEe.js","assets/select-CEEjSQMd-D2Q8_Gex.js","assets/index-K24GeIQO-pPWQlksM.js","assets/trash-2-jwsEREBw-DdJfLY0z.js","assets/info-BwmiXNr9-k9-UA3eH.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh.js","assets/Shop-CVZgRxJn-CVz_4LS0.js","assets/Leaderboards-Bm79OtXC-B_odZ22w.js","assets/user-plus-DvDth6Co-mjoHpJFL.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz.js","assets/GenerateIcons-irEsrbiy-D96HRozy.js","assets/loader-circle-BANzzYJc-B3uLjLZr.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD.js","assets/Messages-BRMZI1jn-BJW4UB3P.js","assets/ColorByNumbers-JzUc735X-263wB9fx.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo.js","assets/Settings-DBhk2Jxw-eoqk1yaj.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ.js","assets/AITutor-CiJvOfzv-b-ne1DOj.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC.js","assets/Subscribe-D5mtZK-4-DoW00_oc.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const jL="modulepreload",LL=function(t){return"/"+t},zk={},Ft=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=LL(c),c in zk)return;zk[c]=!0;const h=c.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":jL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,E)=>{g.addEventListener("load",v),g.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Vt=(t,e=Vt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq.js","assets/progress-DswiN-jt.js","assets/InstallPrompt-CYulZlIm.js","assets/download-k8BXtbsE.js","assets/Home-B1e5oU6L.js","assets/flame-Z4NDYWf0.js","assets/AppTrialPromo-fh-8uCNN.js","assets/zap-BUGd4PS-.js","assets/external-link-B3vh6vLr.js","assets/trending-up-DOxCo9I6.js","assets/target-1p2ICMDN.js","assets/book-open-CsZLkRie.js","assets/plus-CzE6Y-vE.js","assets/minus-CxnUEU8f.js","assets/lock-DVJmOJtR.js","assets/circle-alert-D0KxAb-N.js","assets/palette-C1tdbQoO.js","assets/Game-BSxN8OV2.js","assets/useMutation-Dw-sPjxD.js","assets/CelebrationAnimation-Dc0BowXO.js","assets/TextToSpeech-AHz3T4an.js","assets/rotate-ccw-D8vHVTX7.js","assets/trending-down-CtEqn-BB.js","assets/triangle-alert-BF04o9wv.js","assets/QuestionGenerator-z-c728t7.js","assets/PremiumFeatureLock-DUuDI_YH.js","assets/arrow-left-8gFWt4dJ.js","assets/Progress-CJyc2nxx.js","assets/LineChart-Boznw0oC.js","assets/gift-gU3fLUyU.js","assets/Avatar-DWsPiGGF.js","assets/label-ClTmKTiT.js","assets/tabs-BCUfDdd3.js","assets/AvatarDisplay-BzkYfhqx.js","assets/index-DytiPzxp.js","assets/save-WpcaPzdX.js","assets/DailyChallenge-Bdw758IQ.js","assets/medal-iK-ypg-g.js","assets/ParentPortal-ujdsGIsq.js","assets/textarea-CqrSSpqj.js","assets/select-CEEjSQMd.js","assets/index-K24GeIQO.js","assets/trash-2-jwsEREBw.js","assets/info-BwmiXNr9.js","assets/startOfMonth-D3h4jTlt.js","assets/Shop-CVZgRxJn.js","assets/Leaderboards-Bm79OtXC.js","assets/user-plus-DvDth6Co.js","assets/TeamChallenges-YLDuyulC.js","assets/Subscription-BXM5wPAK.js","assets/GenerateIcons-irEsrbiy.js","assets/loader-circle-BANzzYJc.js","assets/TestIconGeneration-oHdXBYrX.js","assets/Messages-BRMZI1jn.js","assets/ColorByNumbers-JzUc735X.js","assets/paint-bucket-C2C9L7S8.js","assets/Settings-DBhk2Jxw.js","assets/PrivacyPolicy-CiiZkyoZ.js","assets/AITutor-CiJvOfzv.js","assets/AdminTestAccount-DOgC3vLm.js","assets/Subscribe-D5mtZK-4.js"]))=>t.map(r=>n[r]);var FL=Object.defineProperty,Q2=t=>{throw TypeError(t)},VL=(t,e,n)=>e in t?FL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bk=(t,e,n)=>VL(t,typeof e!="symbol"?e+"":e,n),rx=(t,e,n)=>e.has(t)||Q2("Cannot "+n),q=(t,e,n)=>(rx(t,e,"read from private field"),n?n.call(t):e.get(t)),Oe=(t,e,n)=>e.has(t)?Q2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(rx(t,e,"write to private field"),e.set(t,n),n),Ze=(t,e,n)=>(rx(t,e,"access private method"),n),Aw=(t,e,n,r)=>({set _(s){ge(t,e,s)},get _(){return q(t,e,r)}});function zL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var mne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uk={exports:{}},Md={},$k={exports:{}},He={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var qk;function BL(){if(qk)return He;qk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(K){return K===null||typeof K!="object"?null:(K=g&&K[g]||K["@@iterator"],typeof K=="function"?K:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,T={};function _(K,re,pe){this.props=K,this.context=re,this.refs=T,this.updater=pe||E}_.prototype.isReactComponent={},_.prototype.setState=function(K,re){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,re,"setState")},_.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function R(){}R.prototype=_.prototype;function P(K,re,pe){this.props=K,this.context=re,this.refs=T,this.updater=pe||E}var M=P.prototype=new R;M.constructor=P,I(M,_.prototype),M.isPureReactComponent=!0;var z=Array.isArray,U=Object.prototype.hasOwnProperty,H={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(K,re,pe){var me,De={},Be=null,Ce=null;if(re!=null)for(me in re.ref!==void 0&&(Ce=re.ref),re.key!==void 0&&(Be=""+re.key),re)U.call(re,me)&&!D.hasOwnProperty(me)&&(De[me]=re[me]);var $e=arguments.length-2;if($e===1)De.children=pe;else if(1<$e){for(var ze=Array($e),pt=0;pt<$e;pt++)ze[pt]=arguments[pt+2];De.children=ze}if(K&&K.defaultProps)for(me in $e=K.defaultProps,$e)De[me]===void 0&&(De[me]=$e[me]);return{$$typeof:t,type:K,key:Be,ref:Ce,props:De,_owner:H.current}}function N(K,re){return{$$typeof:t,type:K.type,key:re,ref:K.ref,props:K.props,_owner:K._owner}}function j(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function V(K){var re={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(pe){return re[pe]})}var $=/\/+/g;function L(K,re){return typeof K=="object"&&K!==null&&K.key!=null?V(""+K.key):re.toString(36)}function ke(K,re,pe,me,De){var Be=typeof K;(Be==="undefined"||Be==="boolean")&&(K=null);var Ce=!1;if(K===null)Ce=!0;else switch(Be){case"string":case"number":Ce=!0;break;case"object":switch(K.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=K,De=De(Ce),K=me===""?"."+L(Ce,0):me,z(De)?(pe="",K!=null&&(pe=K.replace($,"$&/")+"/"),ke(De,re,pe,"",function(pt){return pt})):De!=null&&(j(De)&&(De=N(De,pe+(!De.key||Ce&&Ce.key===De.key?"":(""+De.key).replace($,"$&/")+"/")+K)),re.push(De)),1;if(Ce=0,me=me===""?".":me+":",z(K))for(var $e=0;$e<K.length;$e++){Be=K[$e];var ze=me+L(Be,$e);Ce+=ke(Be,re,pe,ze,De)}else if(ze=v(K),typeof ze=="function")for(K=ze.call(K),$e=0;!(Be=K.next()).done;)Be=Be.value,ze=me+L(Be,$e++),Ce+=ke(Be,re,pe,ze,De);else if(Be==="object")throw re=String(K),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Pe(K,re,pe){if(K==null)return K;var me=[],De=0;return ke(K,me,"","",function(Be){return re.call(pe,Be,De++)}),me}function ye(K){if(K._status===-1){var re=K._result;re=re(),re.then(function(pe){(K._status===0||K._status===-1)&&(K._status=1,K._result=pe)},function(pe){(K._status===0||K._status===-1)&&(K._status=2,K._result=pe)}),K._status===-1&&(K._status=0,K._result=re)}if(K._status===1)return K._result.default;throw K._result}var ve={current:null},W={transition:null},ne={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:W,ReactCurrentOwner:H};function oe(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:Pe,forEach:function(K,re,pe){Pe(K,function(){re.apply(this,arguments)},pe)},count:function(K){var re=0;return Pe(K,function(){re++}),re},toArray:function(K){return Pe(K,function(re){return re})||[]},only:function(K){if(!j(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},He.Component=_,He.Fragment=n,He.Profiler=s,He.PureComponent=P,He.StrictMode=r,He.Suspense=c,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,He.act=oe,He.cloneElement=function(K,re,pe){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var me=I({},K.props),De=K.key,Be=K.ref,Ce=K._owner;if(re!=null){if(re.ref!==void 0&&(Be=re.ref,Ce=H.current),re.key!==void 0&&(De=""+re.key),K.type&&K.type.defaultProps)var $e=K.type.defaultProps;for(ze in re)U.call(re,ze)&&!D.hasOwnProperty(ze)&&(me[ze]=re[ze]===void 0&&$e!==void 0?$e[ze]:re[ze])}var ze=arguments.length-2;if(ze===1)me.children=pe;else if(1<ze){$e=Array(ze);for(var pt=0;pt<ze;pt++)$e[pt]=arguments[pt+2];me.children=$e}return{$$typeof:t,type:K.type,key:De,ref:Be,props:me,_owner:Ce}},He.createContext=function(K){return K={$$typeof:a,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:i,_context:K},K.Consumer=K},He.createElement=C,He.createFactory=function(K){var re=C.bind(null,K);return re.type=K,re},He.createRef=function(){return{current:null}},He.forwardRef=function(K){return{$$typeof:u,render:K}},He.isValidElement=j,He.lazy=function(K){return{$$typeof:m,_payload:{_status:-1,_result:K},_init:ye}},He.memo=function(K,re){return{$$typeof:h,type:K,compare:re===void 0?null:re}},He.startTransition=function(K){var re=W.transition;W.transition={};try{K()}finally{W.transition=re}},He.unstable_act=oe,He.useCallback=function(K,re){return ve.current.useCallback(K,re)},He.useContext=function(K){return ve.current.useContext(K)},He.useDebugValue=function(){},He.useDeferredValue=function(K){return ve.current.useDeferredValue(K)},He.useEffect=function(K,re){return ve.current.useEffect(K,re)},He.useId=function(){return ve.current.useId()},He.useImperativeHandle=function(K,re,pe){return ve.current.useImperativeHandle(K,re,pe)},He.useInsertionEffect=function(K,re){return ve.current.useInsertionEffect(K,re)},He.useLayoutEffect=function(K,re){return ve.current.useLayoutEffect(K,re)},He.useMemo=function(K,re){return ve.current.useMemo(K,re)},He.useReducer=function(K,re,pe){return ve.current.useReducer(K,re,pe)},He.useRef=function(K){return ve.current.useRef(K)},He.useState=function(K){return ve.current.useState(K)},He.useSyncExternalStore=function(K,re,pe){return ve.current.useSyncExternalStore(K,re,pe)},He.useTransition=function(){return ve.current.useTransition()},He.version="18.3.1",He}var Gk;function ix(){return Gk||(Gk=1,$k.exports=BL()),$k.exports}/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Hk;function UL(){if(Hk)return Md;Hk=1;var t=ix(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,h){var m,g={},v=null,E=null;h!==void 0&&(v=""+h),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(E=c.ref);for(m in c)r.call(c,m)&&!i.hasOwnProperty(m)&&(g[m]=c[m]);if(u&&u.defaultProps)for(m in c=u.defaultProps,c)g[m]===void 0&&(g[m]=c[m]);return{$$typeof:e,type:u,key:v,ref:E,props:g,_owner:s.current}}return Md.Fragment=n,Md.jsx=a,Md.jsxs=a,Md}var Kk;function $L(){return Kk||(Kk=1,Uk.exports=UL()),Uk.exports}var x=$L(),S=ix();const rn=sx(S),ox=zL({__proto__:null,default:rn},[S]);var Yp={},w0={exports:{}},Qn={},Wk={exports:{}},Qk={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Yk;function qL(){return Yk||(Yk=1,(function(t){function e(W,ne){var oe=W.length;W.push(ne);e:for(;0<oe;){var K=oe-1>>>1,re=W[K];if(0<s(re,ne))W[K]=ne,W[oe]=re,oe=K;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ne=W[0],oe=W.pop();if(oe!==ne){W[0]=oe;e:for(var K=0,re=W.length,pe=re>>>1;K<pe;){var me=2*(K+1)-1,De=W[me],Be=me+1,Ce=W[Be];if(0>s(De,oe))Be<re&&0>s(Ce,De)?(W[K]=Ce,W[Be]=oe,K=Be):(W[K]=De,W[me]=oe,K=me);else if(Be<re&&0>s(Ce,oe))W[K]=Ce,W[Be]=oe,K=Be;else break e}}return ne}function s(W,ne){var oe=W.sortIndex-ne.sortIndex;return oe!==0?oe:W.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],h=[],m=1,g=null,v=3,E=!1,I=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(W){for(var ne=n(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=W)r(h),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(h)}}function z(W){if(T=!1,M(W),!I)if(n(c)!==null)I=!0,ye(U);else{var ne=n(h);ne!==null&&ve(z,ne.startTime-W)}}function U(W,ne){I=!1,T&&(T=!1,R(C),C=-1),E=!0;var oe=v;try{for(M(ne),g=n(c);g!==null&&(!(g.expirationTime>ne)||W&&!V());){var K=g.callback;if(typeof K=="function"){g.callback=null,v=g.priorityLevel;var re=K(g.expirationTime<=ne);ne=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(c)&&r(c),M(ne)}else r(c);g=n(c)}if(g!==null)var pe=!0;else{var me=n(h);me!==null&&ve(z,me.startTime-ne),pe=!1}return pe}finally{g=null,v=oe,E=!1}}var H=!1,D=null,C=-1,N=5,j=-1;function V(){return!(t.unstable_now()-j<N)}function $(){if(D!==null){var W=t.unstable_now();j=W;var ne=!0;try{ne=D(!0,W)}finally{ne?L():(H=!1,D=null)}}else H=!1}var L;if(typeof P=="function")L=function(){P($)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Pe=ke.port2;ke.port1.onmessage=$,L=function(){Pe.postMessage(null)}}else L=function(){_($,0)};function ye(W){D=W,H||(H=!0,L())}function ve(W,ne){C=_(function(){W(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){I||E||(I=!0,ye(U))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var oe=v;v=ne;try{return W()}finally{v=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var oe=v;v=W;try{return ne()}finally{v=oe}},t.unstable_scheduleCallback=function(W,ne,oe){var K=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?K+oe:K):oe=K,W){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=oe+re,W={id:m++,callback:ne,priorityLevel:W,startTime:oe,expirationTime:re,sortIndex:-1},oe>K?(W.sortIndex=oe,e(h,W),n(c)===null&&W===n(h)&&(T?(R(C),C=-1):T=!0,ve(z,oe-K))):(W.sortIndex=re,e(c,W),I||E||(I=!0,ye(U))),W},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(W){var ne=v;return function(){var oe=v;v=ne;try{return W.apply(this,arguments)}finally{v=oe}}}})(Qk)),Qk}var Xk;function GL(){return Xk||(Xk=1,Wk.exports=qL()),Wk.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Jk;function HL(){if(Jk)return Qn;Jk=1;var t=ix(),e=GL();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(s[o]=l,o=0;o<l.length;o++)r.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(o){return c.call(g,o)?!0:c.call(m,o)?!1:h.test(o)?g[o]=!0:(m[o]=!0,!1)}function E(o,l,d,p){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function I(o,l,d,p){if(l===null||typeof l>"u"||E(o,l,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(o,l,d,p,y,w,A){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=w,this.removeEmptyString=A}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){_[o]=new T(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];_[l]=new T(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){_[o]=new T(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){_[o]=new T(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){_[o]=new T(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){_[o]=new T(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){_[o]=new T(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){_[o]=new T(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){_[o]=new T(o,5,!1,o.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function P(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(R,P);_[l]=new T(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(R,P);_[l]=new T(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(R,P);_[l]=new T(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){_[o]=new T(o,1,!1,o.toLowerCase(),null,!1,!1)}),_.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){_[o]=new T(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,l,d,p){var y=_.hasOwnProperty(l)?_[l]:null;(y!==null?y.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(I(l,d,y,p)&&(d=null),p||y===null?v(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):y.mustUseProperty?o[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,p=y.attributeNamespace,d===null?o.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,p?o.setAttributeNS(p,l,d):o.setAttribute(l,d))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),H=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),W=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var oe=Object.assign,K;function re(o){if(K===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);K=l&&l[1]||""}return`
`+K+o}var pe=!1;function me(o,l){if(!o||pe)return"";pe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var p=Z}Reflect.construct(o,[],l)}else{try{l.call()}catch(Z){p=Z}o.call(l.prototype)}else{try{throw Error()}catch(Z){p=Z}o()}}catch(Z){if(Z&&p&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=p.stack.split(`
`),A=y.length-1,F=w.length-1;1<=A&&0<=F&&y[A]!==w[F];)F--;for(;1<=A&&0<=F;A--,F--)if(y[A]!==w[F]){if(A!==1||F!==1)do if(A--,F--,0>F||y[A]!==w[F]){var B=`
`+y[A].replace(" at new "," at ");return o.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",o.displayName)),B}while(1<=A&&0<=F);break}}}finally{pe=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?re(o):""}function De(o){switch(o.tag){case 5:return re(o.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return o=me(o.type,!1),o;case 11:return o=me(o.type.render,!1),o;case 1:return o=me(o.type,!0),o;default:return""}}function Be(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case D:return"Fragment";case H:return"Portal";case N:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case ke:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case V:return(o.displayName||"Context")+".Consumer";case j:return(o._context.displayName||"Context")+".Provider";case $:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Pe:return l=o.displayName||null,l!==null?l:Be(o.type)||"Memo";case ye:l=o._payload,o=o._init;try{return Be(o(l))}catch{}}return null}function Ce(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(l);case 8:return l===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function $e(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ze(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function pt(o){var l=ze(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),p=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,w=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return y.call(this)},set:function(A){p=""+A,w.call(this,A)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(A){p=""+A},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function br(o){o._valueTracker||(o._valueTracker=pt(o))}function xr(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return o&&(p=ze(o)?o.checked?"true":"false":o.value),o=p,o!==d?(l.setValue(o),!0):!1}function $n(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ki(o,l){var d=l.checked;return oe({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function zl(o,l){var d=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;d=$e(l.value!=null?l.value:d),o._wrapperState={initialChecked:p,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Wi(o,l){l=l.checked,l!=null&&M(o,"checked",l,!1)}function ni(o,l){Wi(o,l);var d=$e(l.value),p=l.type;if(d!=null)p==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?mt(o,l.type,d):l.hasOwnProperty("defaultValue")&&mt(o,l.type,$e(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function ca(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function mt(o,l,d){(l!=="number"||$n(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var Bt=Array.isArray;function qr(o,l,d,p){if(o=o.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<o.length;d++)y=l.hasOwnProperty("$"+o[d].value),o[d].selected!==y&&(o[d].selected=y),y&&p&&(o[d].defaultSelected=!0)}else{for(d=""+$e(d),l=null,y=0;y<o.length;y++){if(o[y].value===d){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}l!==null||o[y].disabled||(l=o[y])}l!==null&&(l.selected=!0)}}function $c(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function qc(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(Bt(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:$e(d)}}function jf(o,l){var d=$e(l.value),p=$e(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),p!=null&&(o.defaultValue=""+p)}function Qi(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Gc(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bl(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Gc(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Yi,Lf=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,p,y){MSApp.execUnsafeLocalFunction(function(){return o(l,d,p,y)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Yi=Yi||document.createElement("div"),Yi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Yi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function da(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ff=["Webkit","ms","Moz","O"];Object.keys(Xi).forEach(function(o){Ff.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Xi[l]=Xi[o]})});function Ji(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Xi.hasOwnProperty(o)&&Xi[o]?(""+l).trim():l+"px"}function Ul(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var p=d.indexOf("--")===0,y=Ji(d,l[d],p);d==="float"&&(d="cssFloat"),p?o.setProperty(d,y):o[d]=y}}var Hc=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gr(o,l){if(l){if(Hc[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function $l(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zi=null;function ql(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ri=null,si=null,Rt=null;function Kc(o){if(o=bd(o)){if(typeof ri!="function")throw Error(n(280));var l=o.stateNode;l&&(l=dp(l),ri(o.stateNode,o.type,l))}}function eo(o){si?Rt?Rt.push(o):Rt=[o]:si=o}function to(){if(si){var o=si,l=Rt;if(Rt=si=null,Kc(o),l)for(o=0;o<l.length;o++)Kc(l[o])}}function Vf(o,l){return o(l)}function zf(){}var fs=!1;function Bf(o,l,d){if(fs)return o(l,d);fs=!0;try{return Vf(o,l,d)}finally{fs=!1,(si!==null||Rt!==null)&&(zf(),to())}}function ha(o,l){var d=o.stateNode;if(d===null)return null;var p=dp(d);if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var no=!1;if(u)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){no=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{no=!1}function Uf(o,l,d,p,y,w,A,F,B){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(d,Z)}catch(ie){this.onError(ie)}}var ii=!1,ps=null,Gl=!1,Sr=null,$f={onError:function(o){ii=!0,ps=o}};function qf(o,l,d,p,y,w,A,F,B){ii=!1,ps=null,Uf.apply($f,arguments)}function Wc(o,l,d,p,y,w,A,F,B){if(qf.apply(this,arguments),ii){if(ii){var Z=ps;ii=!1,ps=null}else throw Error(n(198));Gl||(Gl=!0,Sr=Z)}}function Hr(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function Qc(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Gf(o){if(Hr(o)!==o)throw Error(n(188))}function Hf(o){var l=o.alternate;if(!l){if(l=Hr(o),l===null)throw Error(n(188));return l!==o?null:o}for(var d=o,p=l;;){var y=d.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){d=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===d)return Gf(y),o;if(w===p)return Gf(y),l;w=w.sibling}throw Error(n(188))}if(d.return!==p.return)d=y,p=w;else{for(var A=!1,F=y.child;F;){if(F===d){A=!0,d=y,p=w;break}if(F===p){A=!0,p=y,d=w;break}F=F.sibling}if(!A){for(F=w.child;F;){if(F===d){A=!0,d=w,p=y;break}if(F===p){A=!0,p=w,d=y;break}F=F.sibling}if(!A)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:l}function Kf(o){return o=Hf(o),o!==null?fa(o):null}function fa(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=fa(o);if(l!==null)return l;o=o.sibling}return null}var Yc=e.unstable_scheduleCallback,Hl=e.unstable_cancelCallback,pa=e.unstable_shouldYield,oi=e.unstable_requestPaint,gt=e.unstable_now,Xy=e.unstable_getCurrentPriorityLevel,Kl=e.unstable_ImmediatePriority,Xc=e.unstable_UserBlockingPriority,ma=e.unstable_NormalPriority,Jc=e.unstable_LowPriority,Wl=e.unstable_IdlePriority,ga=null,rr=null;function Wf(o){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(ga,o,void 0,(o.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:ya,ms=Math.log,Er=Math.LN2;function ya(o){return o>>>=0,o===0?32:31-(ms(o)/Er|0)|0}var gs=64,so=4194304;function it(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ai(o,l){var d=o.pendingLanes;if(d===0)return 0;var p=0,y=o.suspendedLanes,w=o.pingedLanes,A=d&268435455;if(A!==0){var F=A&~y;F!==0?p=it(F):(w&=A,w!==0&&(p=it(w)))}else A=d&~y,A!==0?p=it(A):w!==0&&(p=it(w));if(p===0)return 0;if(l!==0&&l!==p&&(l&y)===0&&(y=p&-p,w=l&-l,y>=w||y===16&&(w&4194240)!==0))return l;if((p&4)!==0&&(p|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=p;0<l;)d=31-sr(l),y=1<<d,p|=o[d],l&=~y;return p}function va(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wa(o,l){for(var d=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes;0<w;){var A=31-sr(w),F=1<<A,B=y[A];B===-1?((F&d)===0||(F&p)!==0)&&(y[A]=va(F,l)):B<=l&&(o.expiredLanes|=F),w&=~F}}function Zc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ed(){var o=gs;return gs<<=1,(gs&4194240)===0&&(gs=64),o}function td(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function ba(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-sr(l),o[l]=d}function Jy(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<d;){var y=31-sr(d),w=1<<y;l[y]=0,p[y]=-1,o[y]=-1,d&=~w}}function nd(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var p=31-sr(d),y=1<<p;y&l|o[p]&l&&(o[p]|=l),d&=~y}}var Qe=0;function ys(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var rd,Ql,sd,id,od,vs=!1,Yl=[],ws=null,bs=null,hn=null,xa=new Map,li=new Map,ir=[],Qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function io(o,l){switch(o){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":xa.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(l.pointerId)}}function Kr(o,l,d,p,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},l!==null&&(l=bd(l),l!==null&&Ql(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),o)}function Yf(o,l,d,p,y){switch(l){case"focusin":return ws=Kr(ws,o,l,d,p,y),!0;case"dragenter":return bs=Kr(bs,o,l,d,p,y),!0;case"mouseover":return hn=Kr(hn,o,l,d,p,y),!0;case"pointerover":var w=y.pointerId;return xa.set(w,Kr(xa.get(w)||null,o,l,d,p,y)),!0;case"gotpointercapture":return w=y.pointerId,li.set(w,Kr(li.get(w)||null,o,l,d,p,y)),!0}return!1}function Xl(o){var l=Ta(o.target);if(l!==null){var d=Hr(l);if(d!==null){if(l=d.tag,l===13){if(l=Qc(d),l!==null){o.blockedOn=l,od(o.priority,function(){sd(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ct(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=Jl(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var p=new d.constructor(d.type,d);Zi=p,d.target.dispatchEvent(p),Zi=null}else return l=bd(d),l!==null&&Ql(l),o.blockedOn=d,!1;l.shift()}return!0}function Xf(o,l,d){ct(o)&&d.delete(l)}function Zy(){vs=!1,ws!==null&&ct(ws)&&(ws=null),bs!==null&&ct(bs)&&(bs=null),hn!==null&&ct(hn)&&(hn=null),xa.forEach(Xf),li.forEach(Xf)}function oo(o,l){o.blockedOn===l&&(o.blockedOn=null,vs||(vs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zy)))}function ao(o){function l(y){return oo(y,o)}if(0<Yl.length){oo(Yl[0],o);for(var d=1;d<Yl.length;d++){var p=Yl[d];p.blockedOn===o&&(p.blockedOn=null)}}for(ws!==null&&oo(ws,o),bs!==null&&oo(bs,o),hn!==null&&oo(hn,o),xa.forEach(l),li.forEach(l),d=0;d<ir.length;d++)p=ir[d],p.blockedOn===o&&(p.blockedOn=null);for(;0<ir.length&&(d=ir[0],d.blockedOn===null);)Xl(d),d.blockedOn===null&&ir.shift()}var ui=z.ReactCurrentBatchConfig,ci=!0;function xs(o,l,d,p){var y=Qe,w=ui.transition;ui.transition=null;try{Qe=1,ad(o,l,d,p)}finally{Qe=y,ui.transition=w}}function Jf(o,l,d,p){var y=Qe,w=ui.transition;ui.transition=null;try{Qe=4,ad(o,l,d,p)}finally{Qe=y,ui.transition=w}}function ad(o,l,d,p){if(ci){var y=Jl(o,l,d,p);if(y===null)cv(o,l,p,Ss,d),io(o,p);else if(Yf(y,o,l,d,p))p.stopPropagation();else if(io(o,p),l&4&&-1<Qf.indexOf(o)){for(;y!==null;){var w=bd(y);if(w!==null&&rd(w),w=Jl(o,l,d,p),w===null&&cv(o,l,p,Ss,d),w===y)break;y=w}y!==null&&p.stopPropagation()}else cv(o,l,p,null,d)}}var Ss=null;function Jl(o,l,d,p){if(Ss=null,o=ql(p),o=Ta(o),o!==null)if(l=Hr(o),l===null)o=null;else if(d=l.tag,d===13){if(o=Qc(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Ss=o,null}function Zl(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xy()){case Kl:return 1;case Xc:return 4;case ma:case Jc:return 16;case Wl:return 536870912;default:return 16}default:return 16}}var or=null,eu=null,di=null;function Zf(){if(di)return di;var o,l=eu,d=l.length,p,y="value"in or?or.value:or.textContent,w=y.length;for(o=0;o<d&&l[o]===y[o];o++);var A=d-o;for(p=1;p<=A&&l[d-p]===y[w-p];p++);return di=y.slice(o,1<p?1-p:void 0)}function Sa(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Es(){return!0}function ld(){return!1}function xn(o){function l(d,p,y,w,A){this._reactName=d,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var F in o)o.hasOwnProperty(F)&&(d=o[F],this[F]=d?d(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Es:ld,this.isPropagationStopped=ld,this}return oe(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),l}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=xn(ks),lo=oe({},ks,{view:0,detail:0}),tu=xn(lo),nu,ru,ar,ka=oe({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ar&&(ar&&o.type==="mousemove"?(nu=o.screenX-ar.screenX,ru=o.screenY-ar.screenY):ru=nu=0,ar=o),nu)},movementY:function(o){return"movementY"in o?o.movementY:ru}}),ud=xn(ka),ep=oe({},ka,{dataTransfer:0}),tp=xn(ep),su=oe({},lo,{relatedTarget:0}),fn=xn(su),np=oe({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),rp=xn(np),uo=oe({},ks,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),f=xn(uo),b=oe({},ks,{data:0}),k=xn(b),O={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function de(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=ee[o])?!!l[o]:!1}function Ue(){return de}var Ut=oe({},lo,{key:function(o){if(o.key){var l=O[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Sa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?X[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(o){return o.type==="keypress"?Sa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Sa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),dt=xn(Ut),Wt=oe({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lr=xn(Wt),co=oe({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),Ts=xn(co),_s=oe({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),iu=xn(_s),cd=oe({},ka,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),C4=xn(cd),A4=[9,13,27,32],ev=u&&"CompositionEvent"in window,dd=null;u&&"documentMode"in document&&(dd=document.documentMode);var R4=u&&"TextEvent"in window&&!dd,RS=u&&(!ev||dd&&8<dd&&11>=dd),NS=" ",PS=!1;function DS(o,l){switch(o){case"keyup":return A4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ou=!1;function N4(o,l){switch(o){case"compositionend":return OS(l);case"keypress":return l.which!==32?null:(PS=!0,NS);case"textInput":return o=l.data,o===NS&&PS?null:o;default:return null}}function P4(o,l){if(ou)return o==="compositionend"||!ev&&DS(o,l)?(o=Zf(),di=eu=or=null,ou=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return RS&&l.locale!=="ko"?null:l.data;default:return null}}var D4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MS(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!D4[o.type]:l==="textarea"}function jS(o,l,d,p){eo(p),l=lp(l,"onChange"),0<l.length&&(d=new Ea("onChange","change",null,d,p),o.push({event:d,listeners:l}))}var hd=null,fd=null;function O4(o){eE(o,0)}function sp(o){var l=du(o);if(xr(l))return o}function M4(o,l){if(o==="change")return l}var LS=!1;if(u){var tv;if(u){var nv="oninput"in document;if(!nv){var FS=document.createElement("div");FS.setAttribute("oninput","return;"),nv=typeof FS.oninput=="function"}tv=nv}else tv=!1;LS=tv&&(!document.documentMode||9<document.documentMode)}function VS(){hd&&(hd.detachEvent("onpropertychange",zS),fd=hd=null)}function zS(o){if(o.propertyName==="value"&&sp(fd)){var l=[];jS(l,fd,o,ql(o)),Bf(O4,l)}}function j4(o,l,d){o==="focusin"?(VS(),hd=l,fd=d,hd.attachEvent("onpropertychange",zS)):o==="focusout"&&VS()}function L4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return sp(fd)}function F4(o,l){if(o==="click")return sp(l)}function V4(o,l){if(o==="input"||o==="change")return sp(l)}function z4(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Wr=typeof Object.is=="function"?Object.is:z4;function pd(o,l){if(Wr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var y=d[p];if(!c.call(l,y)||!Wr(o[y],l[y]))return!1}return!0}function BS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function US(o,l){var d=BS(o);o=0;for(var p;d;){if(d.nodeType===3){if(p=o+d.textContent.length,o<=l&&p>=l)return{node:d,offset:l-o};o=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=BS(d)}}function $S(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?$S(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function qS(){for(var o=window,l=$n();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=$n(o.document)}return l}function rv(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function B4(o){var l=qS(),d=o.focusedElem,p=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&$S(d.ownerDocument.documentElement,d)){if(p!==null&&rv(d)){if(l=p.start,o=p.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var y=d.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!o.extend&&w>p&&(y=p,p=w,w=y),y=US(d,w);var A=US(d,p);y&&A&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==A.node||o.focusOffset!==A.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),o.removeAllRanges(),w>p?(o.addRange(l),o.extend(A.node,A.offset)):(l.setEnd(A.node,A.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var U4=u&&"documentMode"in document&&11>=document.documentMode,au=null,sv=null,md=null,iv=!1;function GS(o,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;iv||au==null||au!==$n(p)||(p=au,"selectionStart"in p&&rv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),md&&pd(md,p)||(md=p,p=lp(sv,"onSelect"),0<p.length&&(l=new Ea("onSelect","select",null,l,d),o.push({event:l,listeners:p}),l.target=au)))}function ip(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var lu={animationend:ip("Animation","AnimationEnd"),animationiteration:ip("Animation","AnimationIteration"),animationstart:ip("Animation","AnimationStart"),transitionend:ip("Transition","TransitionEnd")},ov={},HS={};u&&(HS=document.createElement("div").style,"AnimationEvent"in window||(delete lu.animationend.animation,delete lu.animationiteration.animation,delete lu.animationstart.animation),"TransitionEvent"in window||delete lu.transitionend.transition);function op(o){if(ov[o])return ov[o];if(!lu[o])return o;var l=lu[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in HS)return ov[o]=l[d];return o}var KS=op("animationend"),WS=op("animationiteration"),QS=op("animationstart"),YS=op("transitionend"),XS=new Map,JS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(o,l){XS.set(o,l),i(l,[o])}for(var av=0;av<JS.length;av++){var lv=JS[av],$4=lv.toLowerCase(),q4=lv[0].toUpperCase()+lv.slice(1);ho($4,"on"+q4)}ho(KS,"onAnimationEnd"),ho(WS,"onAnimationIteration"),ho(QS,"onAnimationStart"),ho("dblclick","onDoubleClick"),ho("focusin","onFocus"),ho("focusout","onBlur"),ho(YS,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G4=new Set("cancel close invalid load scroll toggle".split(" ").concat(gd));function ZS(o,l,d){var p=o.type||"unknown-event";o.currentTarget=d,Wc(p,l,void 0,o),o.currentTarget=null}function eE(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var p=o[d],y=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var A=p.length-1;0<=A;A--){var F=p[A],B=F.instance,Z=F.currentTarget;if(F=F.listener,B!==w&&y.isPropagationStopped())break e;ZS(y,F,Z),w=B}else for(A=0;A<p.length;A++){if(F=p[A],B=F.instance,Z=F.currentTarget,F=F.listener,B!==w&&y.isPropagationStopped())break e;ZS(y,F,Z),w=B}}}if(Gl)throw o=Sr,Gl=!1,Sr=null,o}function yt(o,l){var d=l[gv];d===void 0&&(d=l[gv]=new Set);var p=o+"__bubble";d.has(p)||(tE(l,o,2,!1),d.add(p))}function uv(o,l,d){var p=0;l&&(p|=4),tE(d,o,p,l)}var ap="_reactListening"+Math.random().toString(36).slice(2);function yd(o){if(!o[ap]){o[ap]=!0,r.forEach(function(d){d!=="selectionchange"&&(G4.has(d)||uv(d,!1,o),uv(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[ap]||(l[ap]=!0,uv("selectionchange",!1,l))}}function tE(o,l,d,p){switch(Zl(l)){case 1:var y=xs;break;case 4:y=Jf;break;default:y=ad}d=y.bind(null,l,d,o),y=void 0,!no||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(l,d,{capture:!0,passive:y}):o.addEventListener(l,d,!0):y!==void 0?o.addEventListener(l,d,{passive:y}):o.addEventListener(l,d,!1)}function cv(o,l,d,p,y){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var F=p.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(A===4)for(A=p.return;A!==null;){var B=A.tag;if((B===3||B===4)&&(B=A.stateNode.containerInfo,B===y||B.nodeType===8&&B.parentNode===y))return;A=A.return}for(;F!==null;){if(A=Ta(F),A===null)return;if(B=A.tag,B===5||B===6){p=w=A;continue e}F=F.parentNode}}p=p.return}Bf(function(){var Z=w,ie=ql(d),ae=[];e:{var se=XS.get(o);if(se!==void 0){var fe=Ea,be=o;switch(o){case"keypress":if(Sa(d)===0)break e;case"keydown":case"keyup":fe=dt;break;case"focusin":be="focus",fe=fn;break;case"focusout":be="blur",fe=fn;break;case"beforeblur":case"afterblur":fe=fn;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Ts;break;case KS:case WS:case QS:fe=rp;break;case YS:fe=iu;break;case"scroll":fe=tu;break;case"wheel":fe=C4;break;case"copy":case"cut":case"paste":fe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=lr}var Te=(l&4)!==0,$t=!Te&&o==="scroll",Y=Te?se!==null?se+"Capture":null:se;Te=[];for(var G=Z,J;G!==null;){J=G;var ue=J.stateNode;if(J.tag===5&&ue!==null&&(J=ue,Y!==null&&(ue=ha(G,Y),ue!=null&&Te.push(vd(G,ue,J)))),$t)break;G=G.return}0<Te.length&&(se=new fe(se,be,null,d,ie),ae.push({event:se,listeners:Te}))}}if((l&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",fe=o==="mouseout"||o==="pointerout",se&&d!==Zi&&(be=d.relatedTarget||d.fromElement)&&(Ta(be)||be[hi]))break e;if((fe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(be=d.relatedTarget||d.toElement,fe=Z,be=be?Ta(be):null,be!==null&&($t=Hr(be),be!==$t||be.tag!==5&&be.tag!==6)&&(be=null)):(fe=null,be=Z),fe!==be)){if(Te=ud,ue="onMouseLeave",Y="onMouseEnter",G="mouse",(o==="pointerout"||o==="pointerover")&&(Te=lr,ue="onPointerLeave",Y="onPointerEnter",G="pointer"),$t=fe==null?se:du(fe),J=be==null?se:du(be),se=new Te(ue,G+"leave",fe,d,ie),se.target=$t,se.relatedTarget=J,ue=null,Ta(ie)===Z&&(Te=new Te(Y,G+"enter",be,d,ie),Te.target=J,Te.relatedTarget=$t,ue=Te),$t=ue,fe&&be)t:{for(Te=fe,Y=be,G=0,J=Te;J;J=uu(J))G++;for(J=0,ue=Y;ue;ue=uu(ue))J++;for(;0<G-J;)Te=uu(Te),G--;for(;0<J-G;)Y=uu(Y),J--;for(;G--;){if(Te===Y||Y!==null&&Te===Y.alternate)break t;Te=uu(Te),Y=uu(Y)}Te=null}else Te=null;fe!==null&&nE(ae,se,fe,Te,!1),be!==null&&$t!==null&&nE(ae,$t,be,Te,!0)}}e:{if(se=Z?du(Z):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var _e=M4;else if(MS(se))if(LS)_e=V4;else{_e=L4;var Re=j4}else(fe=se.nodeName)&&fe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(_e=F4);if(_e&&(_e=_e(o,Z))){jS(ae,_e,d,ie);break e}Re&&Re(o,se,Z),o==="focusout"&&(Re=se._wrapperState)&&Re.controlled&&se.type==="number"&&mt(se,"number",se.value)}switch(Re=Z?du(Z):window,o){case"focusin":(MS(Re)||Re.contentEditable==="true")&&(au=Re,sv=Z,md=null);break;case"focusout":md=sv=au=null;break;case"mousedown":iv=!0;break;case"contextmenu":case"mouseup":case"dragend":iv=!1,GS(ae,d,ie);break;case"selectionchange":if(U4)break;case"keydown":case"keyup":GS(ae,d,ie)}var Ne;if(ev)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ou?DS(o,d)&&(Le="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Le="onCompositionStart");Le&&(RS&&d.locale!=="ko"&&(ou||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ou&&(Ne=Zf()):(or=ie,eu="value"in or?or.value:or.textContent,ou=!0)),Re=lp(Z,Le),0<Re.length&&(Le=new k(Le,o,null,d,ie),ae.push({event:Le,listeners:Re}),Ne?Le.data=Ne:(Ne=OS(d),Ne!==null&&(Le.data=Ne)))),(Ne=R4?N4(o,d):P4(o,d))&&(Z=lp(Z,"onBeforeInput"),0<Z.length&&(ie=new k("onBeforeInput","beforeinput",null,d,ie),ae.push({event:ie,listeners:Z}),ie.data=Ne))}eE(ae,l)})}function vd(o,l,d){return{instance:o,listener:l,currentTarget:d}}function lp(o,l){for(var d=l+"Capture",p=[];o!==null;){var y=o,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=ha(o,d),w!=null&&p.unshift(vd(o,w,y)),w=ha(o,l),w!=null&&p.push(vd(o,w,y))),o=o.return}return p}function uu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function nE(o,l,d,p,y){for(var w=l._reactName,A=[];d!==null&&d!==p;){var F=d,B=F.alternate,Z=F.stateNode;if(B!==null&&B===p)break;F.tag===5&&Z!==null&&(F=Z,y?(B=ha(d,w),B!=null&&A.unshift(vd(d,B,F))):y||(B=ha(d,w),B!=null&&A.push(vd(d,B,F)))),d=d.return}A.length!==0&&o.push({event:l,listeners:A})}var H4=/\r\n?/g,K4=/\u0000|\uFFFD/g;function rE(o){return(typeof o=="string"?o:""+o).replace(H4,`
`).replace(K4,"")}function up(o,l,d){if(l=rE(l),rE(o)!==l&&d)throw Error(n(425))}function cp(){}var dv=null,hv=null;function fv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var pv=typeof setTimeout=="function"?setTimeout:void 0,W4=typeof clearTimeout=="function"?clearTimeout:void 0,sE=typeof Promise=="function"?Promise:void 0,Q4=typeof queueMicrotask=="function"?queueMicrotask:typeof sE<"u"?function(o){return sE.resolve(null).then(o).catch(Y4)}:pv;function Y4(o){setTimeout(function(){throw o})}function mv(o,l){var d=l,p=0;do{var y=d.nextSibling;if(o.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(p===0){o.removeChild(y),ao(l);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=y}while(d);ao(l)}function fo(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function iE(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var cu=Math.random().toString(36).slice(2),Is="__reactFiber$"+cu,wd="__reactProps$"+cu,hi="__reactContainer$"+cu,gv="__reactEvents$"+cu,X4="__reactListeners$"+cu,J4="__reactHandles$"+cu;function Ta(o){var l=o[Is];if(l)return l;for(var d=o.parentNode;d;){if(l=d[hi]||d[Is]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=iE(o);o!==null;){if(d=o[Is])return d;o=iE(o)}return l}o=d,d=o.parentNode}return null}function bd(o){return o=o[Is]||o[hi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function du(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function dp(o){return o[wd]||null}var yv=[],hu=-1;function po(o){return{current:o}}function vt(o){0>hu||(o.current=yv[hu],yv[hu]=null,hu--)}function ht(o,l){hu++,yv[hu]=o.current,o.current=l}var mo={},Sn=po(mo),qn=po(!1),_a=mo;function fu(o,l){var d=o.type.contextTypes;if(!d)return mo;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in d)y[w]=l[w];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=y),y}function Gn(o){return o=o.childContextTypes,o!=null}function hp(){vt(qn),vt(Sn)}function oE(o,l,d){if(Sn.current!==mo)throw Error(n(168));ht(Sn,l),ht(qn,d)}function aE(o,l,d){var p=o.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var y in p)if(!(y in l))throw Error(n(108,Ce(o)||"Unknown",y));return oe({},d,p)}function fp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||mo,_a=Sn.current,ht(Sn,o),ht(qn,qn.current),!0}function lE(o,l,d){var p=o.stateNode;if(!p)throw Error(n(169));d?(o=aE(o,l,_a),p.__reactInternalMemoizedMergedChildContext=o,vt(qn),vt(Sn),ht(Sn,o)):vt(qn),ht(qn,d)}var fi=null,pp=!1,vv=!1;function uE(o){fi===null?fi=[o]:fi.push(o)}function Z4(o){pp=!0,uE(o)}function go(){if(!vv&&fi!==null){vv=!0;var o=0,l=Qe;try{var d=fi;for(Qe=1;o<d.length;o++){var p=d[o];do p=p(!0);while(p!==null)}fi=null,pp=!1}catch(y){throw fi!==null&&(fi=fi.slice(o+1)),Yc(Kl,go),y}finally{Qe=l,vv=!1}}return null}var pu=[],mu=0,mp=null,gp=0,kr=[],Tr=0,Ia=null,pi=1,mi="";function Ca(o,l){pu[mu++]=gp,pu[mu++]=mp,mp=o,gp=l}function cE(o,l,d){kr[Tr++]=pi,kr[Tr++]=mi,kr[Tr++]=Ia,Ia=o;var p=pi;o=mi;var y=32-sr(p)-1;p&=~(1<<y),d+=1;var w=32-sr(l)+y;if(30<w){var A=y-y%5;w=(p&(1<<A)-1).toString(32),p>>=A,y-=A,pi=1<<32-sr(l)+y|d<<y|p,mi=w+o}else pi=1<<w|d<<y|p,mi=o}function wv(o){o.return!==null&&(Ca(o,1),cE(o,1,0))}function bv(o){for(;o===mp;)mp=pu[--mu],pu[mu]=null,gp=pu[--mu],pu[mu]=null;for(;o===Ia;)Ia=kr[--Tr],kr[Tr]=null,mi=kr[--Tr],kr[Tr]=null,pi=kr[--Tr],kr[Tr]=null}var ur=null,cr=null,bt=!1,Qr=null;function dE(o,l){var d=Ar(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function hE(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,ur=o,cr=fo(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,ur=o,cr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Ia!==null?{id:pi,overflow:mi}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Ar(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,ur=o,cr=null,!0):!1;default:return!1}}function xv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Sv(o){if(bt){var l=cr;if(l){var d=l;if(!hE(o,l)){if(xv(o))throw Error(n(418));l=fo(d.nextSibling);var p=ur;l&&hE(o,l)?dE(p,d):(o.flags=o.flags&-4097|2,bt=!1,ur=o)}}else{if(xv(o))throw Error(n(418));o.flags=o.flags&-4097|2,bt=!1,ur=o}}}function fE(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ur=o}function yp(o){if(o!==ur)return!1;if(!bt)return fE(o),bt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!fv(o.type,o.memoizedProps)),l&&(l=cr)){if(xv(o))throw pE(),Error(n(418));for(;l;)dE(o,l),l=fo(l.nextSibling)}if(fE(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){cr=fo(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}cr=null}}else cr=ur?fo(o.stateNode.nextSibling):null;return!0}function pE(){for(var o=cr;o;)o=fo(o.nextSibling)}function gu(){cr=ur=null,bt=!1}function Ev(o){Qr===null?Qr=[o]:Qr.push(o)}var eL=z.ReactCurrentBatchConfig;function xd(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var p=d.stateNode}if(!p)throw Error(n(147,o));var y=p,w=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(A){var F=y.refs;A===null?delete F[w]:F[w]=A},l._stringRef=w,l)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function vp(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function mE(o){var l=o._init;return l(o._payload)}function gE(o){function l(Y,G){if(o){var J=Y.deletions;J===null?(Y.deletions=[G],Y.flags|=16):J.push(G)}}function d(Y,G){if(!o)return null;for(;G!==null;)l(Y,G),G=G.sibling;return null}function p(Y,G){for(Y=new Map;G!==null;)G.key!==null?Y.set(G.key,G):Y.set(G.index,G),G=G.sibling;return Y}function y(Y,G){return Y=ko(Y,G),Y.index=0,Y.sibling=null,Y}function w(Y,G,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<G?(Y.flags|=2,G):J):(Y.flags|=2,G)):(Y.flags|=1048576,G)}function A(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function F(Y,G,J,ue){return G===null||G.tag!==6?(G=f0(J,Y.mode,ue),G.return=Y,G):(G=y(G,J),G.return=Y,G)}function B(Y,G,J,ue){var _e=J.type;return _e===D?ie(Y,G,J.props.children,ue,J.key):G!==null&&(G.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ye&&mE(_e)===G.type)?(ue=y(G,J.props),ue.ref=xd(Y,G,J),ue.return=Y,ue):(ue=Up(J.type,J.key,J.props,null,Y.mode,ue),ue.ref=xd(Y,G,J),ue.return=Y,ue)}function Z(Y,G,J,ue){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=p0(J,Y.mode,ue),G.return=Y,G):(G=y(G,J.children||[]),G.return=Y,G)}function ie(Y,G,J,ue,_e){return G===null||G.tag!==7?(G=ja(J,Y.mode,ue,_e),G.return=Y,G):(G=y(G,J),G.return=Y,G)}function ae(Y,G,J){if(typeof G=="string"&&G!==""||typeof G=="number")return G=f0(""+G,Y.mode,J),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case U:return J=Up(G.type,G.key,G.props,null,Y.mode,J),J.ref=xd(Y,null,G),J.return=Y,J;case H:return G=p0(G,Y.mode,J),G.return=Y,G;case ye:var ue=G._init;return ae(Y,ue(G._payload),J)}if(Bt(G)||ne(G))return G=ja(G,Y.mode,J,null),G.return=Y,G;vp(Y,G)}return null}function se(Y,G,J,ue){var _e=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return _e!==null?null:F(Y,G,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case U:return J.key===_e?B(Y,G,J,ue):null;case H:return J.key===_e?Z(Y,G,J,ue):null;case ye:return _e=J._init,se(Y,G,_e(J._payload),ue)}if(Bt(J)||ne(J))return _e!==null?null:ie(Y,G,J,ue,null);vp(Y,J)}return null}function fe(Y,G,J,ue,_e){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Y=Y.get(J)||null,F(G,Y,""+ue,_e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case U:return Y=Y.get(ue.key===null?J:ue.key)||null,B(G,Y,ue,_e);case H:return Y=Y.get(ue.key===null?J:ue.key)||null,Z(G,Y,ue,_e);case ye:var Re=ue._init;return fe(Y,G,J,Re(ue._payload),_e)}if(Bt(ue)||ne(ue))return Y=Y.get(J)||null,ie(G,Y,ue,_e,null);vp(G,ue)}return null}function be(Y,G,J,ue){for(var _e=null,Re=null,Ne=G,Le=G=0,un=null;Ne!==null&&Le<J.length;Le++){Ne.index>Le?(un=Ne,Ne=null):un=Ne.sibling;var st=se(Y,Ne,J[Le],ue);if(st===null){Ne===null&&(Ne=un);break}o&&Ne&&st.alternate===null&&l(Y,Ne),G=w(st,G,Le),Re===null?_e=st:Re.sibling=st,Re=st,Ne=un}if(Le===J.length)return d(Y,Ne),bt&&Ca(Y,Le),_e;if(Ne===null){for(;Le<J.length;Le++)Ne=ae(Y,J[Le],ue),Ne!==null&&(G=w(Ne,G,Le),Re===null?_e=Ne:Re.sibling=Ne,Re=Ne);return bt&&Ca(Y,Le),_e}for(Ne=p(Y,Ne);Le<J.length;Le++)un=fe(Ne,Y,Le,J[Le],ue),un!==null&&(o&&un.alternate!==null&&Ne.delete(un.key===null?Le:un.key),G=w(un,G,Le),Re===null?_e=un:Re.sibling=un,Re=un);return o&&Ne.forEach(function(To){return l(Y,To)}),bt&&Ca(Y,Le),_e}function Te(Y,G,J,ue){var _e=ne(J);if(typeof _e!="function")throw Error(n(150));if(J=_e.call(J),J==null)throw Error(n(151));for(var Re=_e=null,Ne=G,Le=G=0,un=null,st=J.next();Ne!==null&&!st.done;Le++,st=J.next()){Ne.index>Le?(un=Ne,Ne=null):un=Ne.sibling;var To=se(Y,Ne,st.value,ue);if(To===null){Ne===null&&(Ne=un);break}o&&Ne&&To.alternate===null&&l(Y,Ne),G=w(To,G,Le),Re===null?_e=To:Re.sibling=To,Re=To,Ne=un}if(st.done)return d(Y,Ne),bt&&Ca(Y,Le),_e;if(Ne===null){for(;!st.done;Le++,st=J.next())st=ae(Y,st.value,ue),st!==null&&(G=w(st,G,Le),Re===null?_e=st:Re.sibling=st,Re=st);return bt&&Ca(Y,Le),_e}for(Ne=p(Y,Ne);!st.done;Le++,st=J.next())st=fe(Ne,Y,Le,st.value,ue),st!==null&&(o&&st.alternate!==null&&Ne.delete(st.key===null?Le:st.key),G=w(st,G,Le),Re===null?_e=st:Re.sibling=st,Re=st);return o&&Ne.forEach(function(DL){return l(Y,DL)}),bt&&Ca(Y,Le),_e}function $t(Y,G,J,ue){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case U:e:{for(var _e=J.key,Re=G;Re!==null;){if(Re.key===_e){if(_e=J.type,_e===D){if(Re.tag===7){d(Y,Re.sibling),G=y(Re,J.props.children),G.return=Y,Y=G;break e}}else if(Re.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ye&&mE(_e)===Re.type){d(Y,Re.sibling),G=y(Re,J.props),G.ref=xd(Y,Re,J),G.return=Y,Y=G;break e}d(Y,Re);break}else l(Y,Re);Re=Re.sibling}J.type===D?(G=ja(J.props.children,Y.mode,ue,J.key),G.return=Y,Y=G):(ue=Up(J.type,J.key,J.props,null,Y.mode,ue),ue.ref=xd(Y,G,J),ue.return=Y,Y=ue)}return A(Y);case H:e:{for(Re=J.key;G!==null;){if(G.key===Re)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){d(Y,G.sibling),G=y(G,J.children||[]),G.return=Y,Y=G;break e}else{d(Y,G);break}else l(Y,G);G=G.sibling}G=p0(J,Y.mode,ue),G.return=Y,Y=G}return A(Y);case ye:return Re=J._init,$t(Y,G,Re(J._payload),ue)}if(Bt(J))return be(Y,G,J,ue);if(ne(J))return Te(Y,G,J,ue);vp(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,G!==null&&G.tag===6?(d(Y,G.sibling),G=y(G,J),G.return=Y,Y=G):(d(Y,G),G=f0(J,Y.mode,ue),G.return=Y,Y=G),A(Y)):d(Y,G)}return $t}var yu=gE(!0),yE=gE(!1),wp=po(null),bp=null,vu=null,kv=null;function Tv(){kv=vu=bp=null}function _v(o){var l=wp.current;vt(wp),o._currentValue=l}function Iv(o,l,d){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===d)break;o=o.return}}function wu(o,l){bp=o,kv=vu=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Hn=!0),o.firstContext=null)}function _r(o){var l=o._currentValue;if(kv!==o)if(o={context:o,memoizedValue:l,next:null},vu===null){if(bp===null)throw Error(n(308));vu=o,bp.dependencies={lanes:0,firstContext:o}}else vu=vu.next=o;return l}var Aa=null;function Cv(o){Aa===null?Aa=[o]:Aa.push(o)}function vE(o,l,d,p){var y=l.interleaved;return y===null?(d.next=d,Cv(l)):(d.next=y.next,y.next=d),l.interleaved=d,gi(o,p)}function gi(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var yo=!1;function Av(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wE(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function yi(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function vo(o,l,d){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(tt&2)!==0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,gi(o,d)}return y=p.interleaved,y===null?(l.next=l,Cv(p)):(l.next=y.next,y.next=l),p.interleaved=l,gi(o,d)}function xp(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var p=l.lanes;p&=o.pendingLanes,d|=p,l.lanes=d,nd(o,d)}}function bE(o,l){var d=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var y=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var A={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?y=w=A:w=w.next=A,d=d.next}while(d!==null);w===null?y=w=l:w=w.next=l}else y=w=l;d={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function Sp(o,l,d,p){var y=o.updateQueue;yo=!1;var w=y.firstBaseUpdate,A=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var B=F,Z=B.next;B.next=null,A===null?w=Z:A.next=Z,A=B;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,F=ie.lastBaseUpdate,F!==A&&(F===null?ie.firstBaseUpdate=Z:F.next=Z,ie.lastBaseUpdate=B))}if(w!==null){var ae=y.baseState;A=0,ie=Z=B=null,F=w;do{var se=F.lane,fe=F.eventTime;if((p&se)===se){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var be=o,Te=F;switch(se=l,fe=d,Te.tag){case 1:if(be=Te.payload,typeof be=="function"){ae=be.call(fe,ae,se);break e}ae=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Te.payload,se=typeof be=="function"?be.call(fe,ae,se):be,se==null)break e;ae=oe({},ae,se);break e;case 2:yo=!0}}F.callback!==null&&F.lane!==0&&(o.flags|=64,se=y.effects,se===null?y.effects=[F]:se.push(F))}else fe={eventTime:fe,lane:se,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ie===null?(Z=ie=fe,B=ae):ie=ie.next=fe,A|=se;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;se=F,F=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ie===null&&(B=ae),y.baseState=B,y.firstBaseUpdate=Z,y.lastBaseUpdate=ie,l=y.shared.interleaved,l!==null){y=l;do A|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Pa|=A,o.lanes=A,o.memoizedState=ae}}function xE(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var p=o[l],y=p.callback;if(y!==null){if(p.callback=null,p=d,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var Sd={},Cs=po(Sd),Ed=po(Sd),kd=po(Sd);function Ra(o){if(o===Sd)throw Error(n(174));return o}function Rv(o,l){switch(ht(kd,l),ht(Ed,o),ht(Cs,Sd),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Bl(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Bl(l,o)}vt(Cs),ht(Cs,l)}function bu(){vt(Cs),vt(Ed),vt(kd)}function SE(o){Ra(kd.current);var l=Ra(Cs.current),d=Bl(l,o.type);l!==d&&(ht(Ed,o),ht(Cs,d))}function Nv(o){Ed.current===o&&(vt(Cs),vt(Ed))}var kt=po(0);function Ep(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Pv=[];function Dv(){for(var o=0;o<Pv.length;o++)Pv[o]._workInProgressVersionPrimary=null;Pv.length=0}var kp=z.ReactCurrentDispatcher,Ov=z.ReactCurrentBatchConfig,Na=0,Tt=null,en=null,an=null,Tp=!1,Td=!1,_d=0,tL=0;function En(){throw Error(n(321))}function Mv(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Wr(o[d],l[d]))return!1;return!0}function jv(o,l,d,p,y,w){if(Na=w,Tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,kp.current=o===null||o.memoizedState===null?iL:oL,o=d(p,y),Td){w=0;do{if(Td=!1,_d=0,25<=w)throw Error(n(301));w+=1,an=en=null,l.updateQueue=null,kp.current=aL,o=d(p,y)}while(Td)}if(kp.current=Cp,l=en!==null&&en.next!==null,Na=0,an=en=Tt=null,Tp=!1,l)throw Error(n(300));return o}function Lv(){var o=_d!==0;return _d=0,o}function As(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Tt.memoizedState=an=o:an=an.next=o,an}function Ir(){if(en===null){var o=Tt.alternate;o=o!==null?o.memoizedState:null}else o=en.next;var l=an===null?Tt.memoizedState:an.next;if(l!==null)an=l,en=o;else{if(o===null)throw Error(n(310));en=o,o={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},an===null?Tt.memoizedState=an=o:an=an.next=o}return an}function Id(o,l){return typeof l=="function"?l(o):l}function Fv(o){var l=Ir(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var p=en,y=p.baseQueue,w=d.pending;if(w!==null){if(y!==null){var A=y.next;y.next=w.next,w.next=A}p.baseQueue=y=w,d.pending=null}if(y!==null){w=y.next,p=p.baseState;var F=A=null,B=null,Z=w;do{var ie=Z.lane;if((Na&ie)===ie)B!==null&&(B=B.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),p=Z.hasEagerState?Z.eagerState:o(p,Z.action);else{var ae={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};B===null?(F=B=ae,A=p):B=B.next=ae,Tt.lanes|=ie,Pa|=ie}Z=Z.next}while(Z!==null&&Z!==w);B===null?A=p:B.next=F,Wr(p,l.memoizedState)||(Hn=!0),l.memoizedState=p,l.baseState=A,l.baseQueue=B,d.lastRenderedState=p}if(o=d.interleaved,o!==null){y=o;do w=y.lane,Tt.lanes|=w,Pa|=w,y=y.next;while(y!==o)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Vv(o){var l=Ir(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var p=d.dispatch,y=d.pending,w=l.memoizedState;if(y!==null){d.pending=null;var A=y=y.next;do w=o(w,A.action),A=A.next;while(A!==y);Wr(w,l.memoizedState)||(Hn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,p]}function EE(){}function kE(o,l){var d=Tt,p=Ir(),y=l(),w=!Wr(p.memoizedState,y);if(w&&(p.memoizedState=y,Hn=!0),p=p.queue,zv(IE.bind(null,d,p,o),[o]),p.getSnapshot!==l||w||an!==null&&an.memoizedState.tag&1){if(d.flags|=2048,Cd(9,_E.bind(null,d,p,y,l),void 0,null),ln===null)throw Error(n(349));(Na&30)!==0||TE(d,l,y)}return y}function TE(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Tt.updateQueue,l===null?(l={lastEffect:null,stores:null},Tt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function _E(o,l,d,p){l.value=d,l.getSnapshot=p,CE(l)&&AE(o)}function IE(o,l,d){return d(function(){CE(l)&&AE(o)})}function CE(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Wr(o,d)}catch{return!0}}function AE(o){var l=gi(o,1);l!==null&&Zr(l,o,1,-1)}function RE(o){var l=As();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Id,lastRenderedState:o},l.queue=o,o=o.dispatch=sL.bind(null,Tt,o),[l.memoizedState,o]}function Cd(o,l,d,p){return o={tag:o,create:l,destroy:d,deps:p,next:null},l=Tt.updateQueue,l===null?(l={lastEffect:null,stores:null},Tt.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(p=d.next,d.next=o,o.next=p,l.lastEffect=o)),o}function NE(){return Ir().memoizedState}function _p(o,l,d,p){var y=As();Tt.flags|=o,y.memoizedState=Cd(1|l,d,void 0,p===void 0?null:p)}function Ip(o,l,d,p){var y=Ir();p=p===void 0?null:p;var w=void 0;if(en!==null){var A=en.memoizedState;if(w=A.destroy,p!==null&&Mv(p,A.deps)){y.memoizedState=Cd(l,d,w,p);return}}Tt.flags|=o,y.memoizedState=Cd(1|l,d,w,p)}function PE(o,l){return _p(8390656,8,o,l)}function zv(o,l){return Ip(2048,8,o,l)}function DE(o,l){return Ip(4,2,o,l)}function OE(o,l){return Ip(4,4,o,l)}function ME(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function jE(o,l,d){return d=d!=null?d.concat([o]):null,Ip(4,4,ME.bind(null,l,o),d)}function Bv(){}function LE(o,l){var d=Ir();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&Mv(l,p[1])?p[0]:(d.memoizedState=[o,l],o)}function FE(o,l){var d=Ir();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&Mv(l,p[1])?p[0]:(o=o(),d.memoizedState=[o,l],o)}function VE(o,l,d){return(Na&21)===0?(o.baseState&&(o.baseState=!1,Hn=!0),o.memoizedState=d):(Wr(d,l)||(d=ed(),Tt.lanes|=d,Pa|=d,o.baseState=!0),l)}function nL(o,l){var d=Qe;Qe=d!==0&&4>d?d:4,o(!0);var p=Ov.transition;Ov.transition={};try{o(!1),l()}finally{Qe=d,Ov.transition=p}}function zE(){return Ir().memoizedState}function rL(o,l,d){var p=So(o);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},BE(o))UE(l,d);else if(d=vE(o,l,d,p),d!==null){var y=On();Zr(d,o,p,y),$E(d,l,p)}}function sL(o,l,d){var p=So(o),y={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(BE(o))UE(l,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var A=l.lastRenderedState,F=w(A,d);if(y.hasEagerState=!0,y.eagerState=F,Wr(F,A)){var B=l.interleaved;B===null?(y.next=y,Cv(l)):(y.next=B.next,B.next=y),l.interleaved=y;return}}catch{}finally{}d=vE(o,l,y,p),d!==null&&(y=On(),Zr(d,o,p,y),$E(d,l,p))}}function BE(o){var l=o.alternate;return o===Tt||l!==null&&l===Tt}function UE(o,l){Td=Tp=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function $E(o,l,d){if((d&4194240)!==0){var p=l.lanes;p&=o.pendingLanes,d|=p,l.lanes=d,nd(o,d)}}var Cp={readContext:_r,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},iL={readContext:_r,useCallback:function(o,l){return As().memoizedState=[o,l===void 0?null:l],o},useContext:_r,useEffect:PE,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,_p(4194308,4,ME.bind(null,l,o),d)},useLayoutEffect:function(o,l){return _p(4194308,4,o,l)},useInsertionEffect:function(o,l){return _p(4,2,o,l)},useMemo:function(o,l){var d=As();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var p=As();return l=d!==void 0?d(l):l,p.memoizedState=p.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},p.queue=o,o=o.dispatch=rL.bind(null,Tt,o),[p.memoizedState,o]},useRef:function(o){var l=As();return o={current:o},l.memoizedState=o},useState:RE,useDebugValue:Bv,useDeferredValue:function(o){return As().memoizedState=o},useTransition:function(){var o=RE(!1),l=o[0];return o=nL.bind(null,o[1]),As().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var p=Tt,y=As();if(bt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),ln===null)throw Error(n(349));(Na&30)!==0||TE(p,l,d)}y.memoizedState=d;var w={value:d,getSnapshot:l};return y.queue=w,PE(IE.bind(null,p,w,o),[o]),p.flags|=2048,Cd(9,_E.bind(null,p,w,d,l),void 0,null),d},useId:function(){var o=As(),l=ln.identifierPrefix;if(bt){var d=mi,p=pi;d=(p&~(1<<32-sr(p)-1)).toString(32)+d,l=":"+l+"R"+d,d=_d++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=tL++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},oL={readContext:_r,useCallback:LE,useContext:_r,useEffect:zv,useImperativeHandle:jE,useInsertionEffect:DE,useLayoutEffect:OE,useMemo:FE,useReducer:Fv,useRef:NE,useState:function(){return Fv(Id)},useDebugValue:Bv,useDeferredValue:function(o){var l=Ir();return VE(l,en.memoizedState,o)},useTransition:function(){var o=Fv(Id)[0],l=Ir().memoizedState;return[o,l]},useMutableSource:EE,useSyncExternalStore:kE,useId:zE,unstable_isNewReconciler:!1},aL={readContext:_r,useCallback:LE,useContext:_r,useEffect:zv,useImperativeHandle:jE,useInsertionEffect:DE,useLayoutEffect:OE,useMemo:FE,useReducer:Vv,useRef:NE,useState:function(){return Vv(Id)},useDebugValue:Bv,useDeferredValue:function(o){var l=Ir();return en===null?l.memoizedState=o:VE(l,en.memoizedState,o)},useTransition:function(){var o=Vv(Id)[0],l=Ir().memoizedState;return[o,l]},useMutableSource:EE,useSyncExternalStore:kE,useId:zE,unstable_isNewReconciler:!1};function Yr(o,l){if(o&&o.defaultProps){l=oe({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function Uv(o,l,d,p){l=o.memoizedState,d=d(p,l),d=d==null?l:oe({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Ap={isMounted:function(o){return(o=o._reactInternals)?Hr(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var p=On(),y=So(o),w=yi(p,y);w.payload=l,d!=null&&(w.callback=d),l=vo(o,w,y),l!==null&&(Zr(l,o,y,p),xp(l,o,y))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var p=On(),y=So(o),w=yi(p,y);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=vo(o,w,y),l!==null&&(Zr(l,o,y,p),xp(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=On(),p=So(o),y=yi(d,p);y.tag=2,l!=null&&(y.callback=l),l=vo(o,y,p),l!==null&&(Zr(l,o,p,d),xp(l,o,p))}};function qE(o,l,d,p,y,w,A){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,A):l.prototype&&l.prototype.isPureReactComponent?!pd(d,p)||!pd(y,w):!0}function GE(o,l,d){var p=!1,y=mo,w=l.contextType;return typeof w=="object"&&w!==null?w=_r(w):(y=Gn(l)?_a:Sn.current,p=l.contextTypes,w=(p=p!=null)?fu(o,y):mo),l=new l(d,w),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ap,o.stateNode=l,l._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=w),l}function HE(o,l,d,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==o&&Ap.enqueueReplaceState(l,l.state,null)}function $v(o,l,d,p){var y=o.stateNode;y.props=d,y.state=o.memoizedState,y.refs={},Av(o);var w=l.contextType;typeof w=="object"&&w!==null?y.context=_r(w):(w=Gn(l)?_a:Sn.current,y.context=fu(o,w)),y.state=o.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Uv(o,l,w,d),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Ap.enqueueReplaceState(y,y.state,null),Sp(o,d,y,p),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function xu(o,l){try{var d="",p=l;do d+=De(p),p=p.return;while(p);var y=d}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:l,stack:y,digest:null}}function qv(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function Gv(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var lL=typeof WeakMap=="function"?WeakMap:Map;function KE(o,l,d){d=yi(-1,d),d.tag=3,d.payload={element:null};var p=l.value;return d.callback=function(){jp||(jp=!0,i0=p),Gv(o,l)},d}function WE(o,l,d){d=yi(-1,d),d.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;d.payload=function(){return p(y)},d.callback=function(){Gv(o,l)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){Gv(o,l),typeof p!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),d}function QE(o,l,d){var p=o.pingCache;if(p===null){p=o.pingCache=new lL;var y=new Set;p.set(l,y)}else y=p.get(l),y===void 0&&(y=new Set,p.set(l,y));y.has(d)||(y.add(d),o=SL.bind(null,o,l,d),l.then(o,o))}function YE(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function XE(o,l,d,p,y){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=yi(-1,1),l.tag=2,vo(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var uL=z.ReactCurrentOwner,Hn=!1;function Dn(o,l,d,p){l.child=o===null?yE(l,null,d,p):yu(l,o.child,d,p)}function JE(o,l,d,p,y){d=d.render;var w=l.ref;return wu(l,y),p=jv(o,l,d,p,w,y),d=Lv(),o!==null&&!Hn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,vi(o,l,y)):(bt&&d&&wv(l),l.flags|=1,Dn(o,l,p,y),l.child)}function ZE(o,l,d,p,y){if(o===null){var w=d.type;return typeof w=="function"&&!h0(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=w,ek(o,l,w,p,y)):(o=Up(d.type,null,p,l,l.mode,y),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,(o.lanes&y)===0){var A=w.memoizedProps;if(d=d.compare,d=d!==null?d:pd,d(A,p)&&o.ref===l.ref)return vi(o,l,y)}return l.flags|=1,o=ko(w,p),o.ref=l.ref,o.return=l,l.child=o}function ek(o,l,d,p,y){if(o!==null){var w=o.memoizedProps;if(pd(w,p)&&o.ref===l.ref)if(Hn=!1,l.pendingProps=p=w,(o.lanes&y)!==0)(o.flags&131072)!==0&&(Hn=!0);else return l.lanes=o.lanes,vi(o,l,y)}return Hv(o,l,d,p,y)}function tk(o,l,d){var p=l.pendingProps,y=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Eu,dr),dr|=d;else{if((d&1073741824)===0)return o=w!==null?w.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,ht(Eu,dr),dr|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:d,ht(Eu,dr),dr|=p}else w!==null?(p=w.baseLanes|d,l.memoizedState=null):p=d,ht(Eu,dr),dr|=p;return Dn(o,l,y,d),l.child}function nk(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Hv(o,l,d,p,y){var w=Gn(d)?_a:Sn.current;return w=fu(l,w),wu(l,y),d=jv(o,l,d,p,w,y),p=Lv(),o!==null&&!Hn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,vi(o,l,y)):(bt&&p&&wv(l),l.flags|=1,Dn(o,l,d,y),l.child)}function rk(o,l,d,p,y){if(Gn(d)){var w=!0;fp(l)}else w=!1;if(wu(l,y),l.stateNode===null)Np(o,l),GE(l,d,p),$v(l,d,p,y),p=!0;else if(o===null){var A=l.stateNode,F=l.memoizedProps;A.props=F;var B=A.context,Z=d.contextType;typeof Z=="object"&&Z!==null?Z=_r(Z):(Z=Gn(d)?_a:Sn.current,Z=fu(l,Z));var ie=d.getDerivedStateFromProps,ae=typeof ie=="function"||typeof A.getSnapshotBeforeUpdate=="function";ae||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==p||B!==Z)&&HE(l,A,p,Z),yo=!1;var se=l.memoizedState;A.state=se,Sp(l,p,A,y),B=l.memoizedState,F!==p||se!==B||qn.current||yo?(typeof ie=="function"&&(Uv(l,d,ie,p),B=l.memoizedState),(F=yo||qE(l,d,F,p,se,B,Z))?(ae||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=B),A.props=p,A.state=B,A.context=Z,p=F):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{A=l.stateNode,wE(o,l),F=l.memoizedProps,Z=l.type===l.elementType?F:Yr(l.type,F),A.props=Z,ae=l.pendingProps,se=A.context,B=d.contextType,typeof B=="object"&&B!==null?B=_r(B):(B=Gn(d)?_a:Sn.current,B=fu(l,B));var fe=d.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==ae||se!==B)&&HE(l,A,p,B),yo=!1,se=l.memoizedState,A.state=se,Sp(l,p,A,y);var be=l.memoizedState;F!==ae||se!==be||qn.current||yo?(typeof fe=="function"&&(Uv(l,d,fe,p),be=l.memoizedState),(Z=yo||qE(l,d,Z,p,se,be,B)||!1)?(ie||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,be,B),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,be,B)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||F===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=be),A.props=p,A.state=be,A.context=B,p=Z):(typeof A.componentDidUpdate!="function"||F===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),p=!1)}return Kv(o,l,d,p,w,y)}function Kv(o,l,d,p,y,w){nk(o,l);var A=(l.flags&128)!==0;if(!p&&!A)return y&&lE(l,d,!1),vi(o,l,w);p=l.stateNode,uL.current=l;var F=A&&typeof d.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,o!==null&&A?(l.child=yu(l,o.child,null,w),l.child=yu(l,null,F,w)):Dn(o,l,F,w),l.memoizedState=p.state,y&&lE(l,d,!0),l.child}function sk(o){var l=o.stateNode;l.pendingContext?oE(o,l.pendingContext,l.pendingContext!==l.context):l.context&&oE(o,l.context,!1),Rv(o,l.containerInfo)}function ik(o,l,d,p,y){return gu(),Ev(y),l.flags|=256,Dn(o,l,d,p),l.child}var Wv={dehydrated:null,treeContext:null,retryLane:0};function Qv(o){return{baseLanes:o,cachePool:null,transitions:null}}function ok(o,l,d){var p=l.pendingProps,y=kt.current,w=!1,A=(l.flags&128)!==0,F;if((F=A)||(F=o!==null&&o.memoizedState===null?!1:(y&2)!==0),F?(w=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),ht(kt,y&1),o===null)return Sv(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(A=p.children,o=p.fallback,w?(p=l.mode,w=l.child,A={mode:"hidden",children:A},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=A):w=$p(A,p,0,null),o=ja(o,p,d,null),w.return=l,o.return=l,w.sibling=o,l.child=w,l.child.memoizedState=Qv(d),l.memoizedState=Wv,o):Yv(l,A));if(y=o.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return cL(o,l,A,p,F,y,d);if(w){w=p.fallback,A=l.mode,y=o.child,F=y.sibling;var B={mode:"hidden",children:p.children};return(A&1)===0&&l.child!==y?(p=l.child,p.childLanes=0,p.pendingProps=B,l.deletions=null):(p=ko(y,B),p.subtreeFlags=y.subtreeFlags&14680064),F!==null?w=ko(F,w):(w=ja(w,A,d,null),w.flags|=2),w.return=l,p.return=l,p.sibling=w,l.child=p,p=w,w=l.child,A=o.child.memoizedState,A=A===null?Qv(d):{baseLanes:A.baseLanes|d,cachePool:null,transitions:A.transitions},w.memoizedState=A,w.childLanes=o.childLanes&~d,l.memoizedState=Wv,p}return w=o.child,o=w.sibling,p=ko(w,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=d),p.return=l,p.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=p,l.memoizedState=null,p}function Yv(o,l){return l=$p({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Rp(o,l,d,p){return p!==null&&Ev(p),yu(l,o.child,null,d),o=Yv(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function cL(o,l,d,p,y,w,A){if(d)return l.flags&256?(l.flags&=-257,p=qv(Error(n(422))),Rp(o,l,A,p)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(w=p.fallback,y=l.mode,p=$p({mode:"visible",children:p.children},y,0,null),w=ja(w,y,A,null),w.flags|=2,p.return=l,w.return=l,p.sibling=w,l.child=p,(l.mode&1)!==0&&yu(l,o.child,null,A),l.child.memoizedState=Qv(A),l.memoizedState=Wv,w);if((l.mode&1)===0)return Rp(o,l,A,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var F=p.dgst;return p=F,w=Error(n(419)),p=qv(w,p,void 0),Rp(o,l,A,p)}if(F=(A&o.childLanes)!==0,Hn||F){if(p=ln,p!==null){switch(A&-A){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|A))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,gi(o,y),Zr(p,o,y,-1))}return d0(),p=qv(Error(n(421))),Rp(o,l,A,p)}return y.data==="$?"?(l.flags|=128,l.child=o.child,l=EL.bind(null,o),y._reactRetry=l,null):(o=w.treeContext,cr=fo(y.nextSibling),ur=l,bt=!0,Qr=null,o!==null&&(kr[Tr++]=pi,kr[Tr++]=mi,kr[Tr++]=Ia,pi=o.id,mi=o.overflow,Ia=l),l=Yv(l,p.children),l.flags|=4096,l)}function ak(o,l,d){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),Iv(o.return,l,d)}function Xv(o,l,d,p,y){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=d,w.tailMode=y)}function lk(o,l,d){var p=l.pendingProps,y=p.revealOrder,w=p.tail;if(Dn(o,l,p.children,d),p=kt.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ak(o,d,l);else if(o.tag===19)ak(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(ht(kt,p),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)o=d.alternate,o!==null&&Ep(o)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),Xv(l,!1,y,d,w);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(o=y.alternate,o!==null&&Ep(o)===null){l.child=y;break}o=y.sibling,y.sibling=d,d=y,y=o}Xv(l,!0,d,null,w);break;case"together":Xv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Np(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function vi(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Pa|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,d=ko(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=ko(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function dL(o,l,d){switch(l.tag){case 3:sk(l),gu();break;case 5:SE(l);break;case 1:Gn(l.type)&&fp(l);break;case 4:Rv(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,y=l.memoizedProps.value;ht(wp,p._currentValue),p._currentValue=y;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(ht(kt,kt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?ok(o,l,d):(ht(kt,kt.current&1),o=vi(o,l,d),o!==null?o.sibling:null);ht(kt,kt.current&1);break;case 19:if(p=(d&l.childLanes)!==0,(o.flags&128)!==0){if(p)return lk(o,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ht(kt,kt.current),p)break;return null;case 22:case 23:return l.lanes=0,tk(o,l,d)}return vi(o,l,d)}var uk,Jv,ck,dk;uk=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Jv=function(){},ck=function(o,l,d,p){var y=o.memoizedProps;if(y!==p){o=l.stateNode,Ra(Cs.current);var w=null;switch(d){case"input":y=Ki(o,y),p=Ki(o,p),w=[];break;case"select":y=oe({},y,{value:void 0}),p=oe({},p,{value:void 0}),w=[];break;case"textarea":y=$c(o,y),p=$c(o,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=cp)}Gr(d,p);var A;d=null;for(Z in y)if(!p.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var F=y[Z];for(A in F)F.hasOwnProperty(A)&&(d||(d={}),d[A]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in p){var B=p[Z];if(F=y!=null?y[Z]:void 0,p.hasOwnProperty(Z)&&B!==F&&(B!=null||F!=null))if(Z==="style")if(F){for(A in F)!F.hasOwnProperty(A)||B&&B.hasOwnProperty(A)||(d||(d={}),d[A]="");for(A in B)B.hasOwnProperty(A)&&F[A]!==B[A]&&(d||(d={}),d[A]=B[A])}else d||(w||(w=[]),w.push(Z,d)),d=B;else Z==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,F=F?F.__html:void 0,B!=null&&F!==B&&(w=w||[]).push(Z,B)):Z==="children"?typeof B!="string"&&typeof B!="number"||(w=w||[]).push(Z,""+B):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(B!=null&&Z==="onScroll"&&yt("scroll",o),w||F===B||(w=[])):(w=w||[]).push(Z,B))}d&&(w=w||[]).push("style",d);var Z=w;(l.updateQueue=Z)&&(l.flags|=4)}},dk=function(o,l,d,p){d!==p&&(l.flags|=4)};function Ad(o,l){if(!bt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function kn(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,p=0;if(l)for(var y=o.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=d,l}function hL(o,l,d){var p=l.pendingProps;switch(bv(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(l),null;case 1:return Gn(l.type)&&hp(),kn(l),null;case 3:return p=l.stateNode,bu(),vt(qn),vt(Sn),Dv(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(yp(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Qr!==null&&(l0(Qr),Qr=null))),Jv(o,l),kn(l),null;case 5:Nv(l);var y=Ra(kd.current);if(d=l.type,o!==null&&l.stateNode!=null)ck(o,l,d,p,y),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(n(166));return kn(l),null}if(o=Ra(Cs.current),yp(l)){p=l.stateNode,d=l.type;var w=l.memoizedProps;switch(p[Is]=l,p[wd]=w,o=(l.mode&1)!==0,d){case"dialog":yt("cancel",p),yt("close",p);break;case"iframe":case"object":case"embed":yt("load",p);break;case"video":case"audio":for(y=0;y<gd.length;y++)yt(gd[y],p);break;case"source":yt("error",p);break;case"img":case"image":case"link":yt("error",p),yt("load",p);break;case"details":yt("toggle",p);break;case"input":zl(p,w),yt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},yt("invalid",p);break;case"textarea":qc(p,w),yt("invalid",p)}Gr(d,w),y=null;for(var A in w)if(w.hasOwnProperty(A)){var F=w[A];A==="children"?typeof F=="string"?p.textContent!==F&&(w.suppressHydrationWarning!==!0&&up(p.textContent,F,o),y=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(w.suppressHydrationWarning!==!0&&up(p.textContent,F,o),y=["children",""+F]):s.hasOwnProperty(A)&&F!=null&&A==="onScroll"&&yt("scroll",p)}switch(d){case"input":br(p),ca(p,w,!0);break;case"textarea":br(p),Qi(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=cp)}p=y,l.updateQueue=p,p!==null&&(l.flags|=4)}else{A=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Gc(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=A.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=A.createElement(d,{is:p.is}):(o=A.createElement(d),d==="select"&&(A=o,p.multiple?A.multiple=!0:p.size&&(A.size=p.size))):o=A.createElementNS(o,d),o[Is]=l,o[wd]=p,uk(o,l,!1,!1),l.stateNode=o;e:{switch(A=$l(d,p),d){case"dialog":yt("cancel",o),yt("close",o),y=p;break;case"iframe":case"object":case"embed":yt("load",o),y=p;break;case"video":case"audio":for(y=0;y<gd.length;y++)yt(gd[y],o);y=p;break;case"source":yt("error",o),y=p;break;case"img":case"image":case"link":yt("error",o),yt("load",o),y=p;break;case"details":yt("toggle",o),y=p;break;case"input":zl(o,p),y=Ki(o,p),yt("invalid",o);break;case"option":y=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},y=oe({},p,{value:void 0}),yt("invalid",o);break;case"textarea":qc(o,p),y=$c(o,p),yt("invalid",o);break;default:y=p}Gr(d,y),F=y;for(w in F)if(F.hasOwnProperty(w)){var B=F[w];w==="style"?Ul(o,B):w==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Lf(o,B)):w==="children"?typeof B=="string"?(d!=="textarea"||B!=="")&&da(o,B):typeof B=="number"&&da(o,""+B):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?B!=null&&w==="onScroll"&&yt("scroll",o):B!=null&&M(o,w,B,A))}switch(d){case"input":br(o),ca(o,p,!1);break;case"textarea":br(o),Qi(o);break;case"option":p.value!=null&&o.setAttribute("value",""+$e(p.value));break;case"select":o.multiple=!!p.multiple,w=p.value,w!=null?qr(o,!!p.multiple,w,!1):p.defaultValue!=null&&qr(o,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=cp)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return kn(l),null;case 6:if(o&&l.stateNode!=null)dk(o,l,o.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(d=Ra(kd.current),Ra(Cs.current),yp(l)){if(p=l.stateNode,d=l.memoizedProps,p[Is]=l,(w=p.nodeValue!==d)&&(o=ur,o!==null))switch(o.tag){case 3:up(p.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&up(p.nodeValue,d,(o.mode&1)!==0)}w&&(l.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[Is]=l,l.stateNode=p}return kn(l),null;case 13:if(vt(kt),p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(bt&&cr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)pE(),gu(),l.flags|=98560,w=!1;else if(w=yp(l),p!==null&&p.dehydrated!==null){if(o===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Is]=l}else gu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;kn(l),w=!1}else Qr!==null&&(l0(Qr),Qr=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(kt.current&1)!==0?tn===0&&(tn=3):d0())),l.updateQueue!==null&&(l.flags|=4),kn(l),null);case 4:return bu(),Jv(o,l),o===null&&yd(l.stateNode.containerInfo),kn(l),null;case 10:return _v(l.type._context),kn(l),null;case 17:return Gn(l.type)&&hp(),kn(l),null;case 19:if(vt(kt),w=l.memoizedState,w===null)return kn(l),null;if(p=(l.flags&128)!==0,A=w.rendering,A===null)if(p)Ad(w,!1);else{if(tn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(A=Ep(o),A!==null){for(l.flags|=128,Ad(w,!1),p=A.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=d,d=l.child;d!==null;)w=d,o=p,w.flags&=14680066,A=w.alternate,A===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=A.childLanes,w.lanes=A.lanes,w.child=A.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=A.memoizedProps,w.memoizedState=A.memoizedState,w.updateQueue=A.updateQueue,w.type=A.type,o=A.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return ht(kt,kt.current&1|2),l.child}o=o.sibling}w.tail!==null&&gt()>ku&&(l.flags|=128,p=!0,Ad(w,!1),l.lanes=4194304)}else{if(!p)if(o=Ep(A),o!==null){if(l.flags|=128,p=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Ad(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!bt)return kn(l),null}else 2*gt()-w.renderingStartTime>ku&&d!==1073741824&&(l.flags|=128,p=!0,Ad(w,!1),l.lanes=4194304);w.isBackwards?(A.sibling=l.child,l.child=A):(d=w.last,d!==null?d.sibling=A:l.child=A,w.last=A)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=gt(),l.sibling=null,d=kt.current,ht(kt,p?d&1|2:d&1),l):(kn(l),null);case 22:case 23:return c0(),p=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(dr&1073741824)!==0&&(kn(l),l.subtreeFlags&6&&(l.flags|=8192)):kn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function fL(o,l){switch(bv(l),l.tag){case 1:return Gn(l.type)&&hp(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return bu(),vt(qn),vt(Sn),Dv(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Nv(l),null;case 13:if(vt(kt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));gu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return vt(kt),null;case 4:return bu(),null;case 10:return _v(l.type._context),null;case 22:case 23:return c0(),null;case 24:return null;default:return null}}var Pp=!1,Tn=!1,pL=typeof WeakSet=="function"?WeakSet:Set,we=null;function Su(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){Nt(o,l,p)}else d.current=null}function hk(o,l,d){try{d()}catch(p){Nt(o,l,p)}}var fk=!1;function mL(o,l){if(dv=ci,o=qS(),rv(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var A=0,F=-1,B=-1,Z=0,ie=0,ae=o,se=null;t:for(;;){for(var fe;ae!==d||y!==0&&ae.nodeType!==3||(F=A+y),ae!==w||p!==0&&ae.nodeType!==3||(B=A+p),ae.nodeType===3&&(A+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)se=ae,ae=fe;for(;;){if(ae===o)break t;if(se===d&&++Z===y&&(F=A),se===w&&++ie===p&&(B=A),(fe=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=fe}d=F===-1||B===-1?null:{start:F,end:B}}else d=null}d=d||{start:0,end:0}}else d=null;for(hv={focusedElem:o,selectionRange:d},ci=!1,we=l;we!==null;)if(l=we,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,we=o;else for(;we!==null;){l=we;try{var be=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Te=be.memoizedProps,$t=be.memoizedState,Y=l.stateNode,G=Y.getSnapshotBeforeUpdate(l.elementType===l.type?Te:Yr(l.type,Te),$t);Y.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Nt(l,l.return,ue)}if(o=l.sibling,o!==null){o.return=l.return,we=o;break}we=l.return}return be=fk,fk=!1,be}function Rd(o,l,d){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&o)===o){var w=y.destroy;y.destroy=void 0,w!==void 0&&hk(l,d,w)}y=y.next}while(y!==p)}}function Dp(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var p=d.create;d.destroy=p()}d=d.next}while(d!==l)}}function Zv(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function pk(o){var l=o.alternate;l!==null&&(o.alternate=null,pk(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Is],delete l[wd],delete l[gv],delete l[X4],delete l[J4])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function mk(o){return o.tag===5||o.tag===3||o.tag===4}function gk(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||mk(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function e0(o,l,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=cp));else if(p!==4&&(o=o.child,o!==null))for(e0(o,l,d),o=o.sibling;o!==null;)e0(o,l,d),o=o.sibling}function t0(o,l,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(t0(o,l,d),o=o.sibling;o!==null;)t0(o,l,d),o=o.sibling}var pn=null,Xr=!1;function wo(o,l,d){for(d=d.child;d!==null;)yk(o,l,d),d=d.sibling}function yk(o,l,d){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(ga,d)}catch{}switch(d.tag){case 5:Tn||Su(d,l);case 6:var p=pn,y=Xr;pn=null,wo(o,l,d),pn=p,Xr=y,pn!==null&&(Xr?(o=pn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):pn.removeChild(d.stateNode));break;case 18:pn!==null&&(Xr?(o=pn,d=d.stateNode,o.nodeType===8?mv(o.parentNode,d):o.nodeType===1&&mv(o,d),ao(o)):mv(pn,d.stateNode));break;case 4:p=pn,y=Xr,pn=d.stateNode.containerInfo,Xr=!0,wo(o,l,d),pn=p,Xr=y;break;case 0:case 11:case 14:case 15:if(!Tn&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,A=w.destroy;w=w.tag,A!==void 0&&((w&2)!==0||(w&4)!==0)&&hk(d,l,A),y=y.next}while(y!==p)}wo(o,l,d);break;case 1:if(!Tn&&(Su(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(F){Nt(d,l,F)}wo(o,l,d);break;case 21:wo(o,l,d);break;case 22:d.mode&1?(Tn=(p=Tn)||d.memoizedState!==null,wo(o,l,d),Tn=p):wo(o,l,d);break;default:wo(o,l,d)}}function vk(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new pL),l.forEach(function(p){var y=kL.bind(null,o,p);d.has(p)||(d.add(p),p.then(y,y))})}}function Jr(o,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];try{var w=o,A=l,F=A;e:for(;F!==null;){switch(F.tag){case 5:pn=F.stateNode,Xr=!1;break e;case 3:pn=F.stateNode.containerInfo,Xr=!0;break e;case 4:pn=F.stateNode.containerInfo,Xr=!0;break e}F=F.return}if(pn===null)throw Error(n(160));yk(w,A,y),pn=null,Xr=!1;var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(Z){Nt(y,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)wk(l,o),l=l.sibling}function wk(o,l){var d=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Jr(l,o),Rs(o),p&4){try{Rd(3,o,o.return),Dp(3,o)}catch(Te){Nt(o,o.return,Te)}try{Rd(5,o,o.return)}catch(Te){Nt(o,o.return,Te)}}break;case 1:Jr(l,o),Rs(o),p&512&&d!==null&&Su(d,d.return);break;case 5:if(Jr(l,o),Rs(o),p&512&&d!==null&&Su(d,d.return),o.flags&32){var y=o.stateNode;try{da(y,"")}catch(Te){Nt(o,o.return,Te)}}if(p&4&&(y=o.stateNode,y!=null)){var w=o.memoizedProps,A=d!==null?d.memoizedProps:w,F=o.type,B=o.updateQueue;if(o.updateQueue=null,B!==null)try{F==="input"&&w.type==="radio"&&w.name!=null&&Wi(y,w),$l(F,A);var Z=$l(F,w);for(A=0;A<B.length;A+=2){var ie=B[A],ae=B[A+1];ie==="style"?Ul(y,ae):ie==="dangerouslySetInnerHTML"?Lf(y,ae):ie==="children"?da(y,ae):M(y,ie,ae,Z)}switch(F){case"input":ni(y,w);break;case"textarea":jf(y,w);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?qr(y,!!w.multiple,fe,!1):se!==!!w.multiple&&(w.defaultValue!=null?qr(y,!!w.multiple,w.defaultValue,!0):qr(y,!!w.multiple,w.multiple?[]:"",!1))}y[wd]=w}catch(Te){Nt(o,o.return,Te)}}break;case 6:if(Jr(l,o),Rs(o),p&4){if(o.stateNode===null)throw Error(n(162));y=o.stateNode,w=o.memoizedProps;try{y.nodeValue=w}catch(Te){Nt(o,o.return,Te)}}break;case 3:if(Jr(l,o),Rs(o),p&4&&d!==null&&d.memoizedState.isDehydrated)try{ao(l.containerInfo)}catch(Te){Nt(o,o.return,Te)}break;case 4:Jr(l,o),Rs(o);break;case 13:Jr(l,o),Rs(o),y=o.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(s0=gt())),p&4&&vk(o);break;case 22:if(ie=d!==null&&d.memoizedState!==null,o.mode&1?(Tn=(Z=Tn)||ie,Jr(l,o),Tn=Z):Jr(l,o),Rs(o),p&8192){if(Z=o.memoizedState!==null,(o.stateNode.isHidden=Z)&&!ie&&(o.mode&1)!==0)for(we=o,ie=o.child;ie!==null;){for(ae=we=ie;we!==null;){switch(se=we,fe=se.child,se.tag){case 0:case 11:case 14:case 15:Rd(4,se,se.return);break;case 1:Su(se,se.return);var be=se.stateNode;if(typeof be.componentWillUnmount=="function"){p=se,d=se.return;try{l=p,be.props=l.memoizedProps,be.state=l.memoizedState,be.componentWillUnmount()}catch(Te){Nt(p,d,Te)}}break;case 5:Su(se,se.return);break;case 22:if(se.memoizedState!==null){Sk(ae);continue}}fe!==null?(fe.return=se,we=fe):Sk(ae)}ie=ie.sibling}e:for(ie=null,ae=o;;){if(ae.tag===5){if(ie===null){ie=ae;try{y=ae.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(F=ae.stateNode,B=ae.memoizedProps.style,A=B!=null&&B.hasOwnProperty("display")?B.display:null,F.style.display=Ji("display",A))}catch(Te){Nt(o,o.return,Te)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=Z?"":ae.memoizedProps}catch(Te){Nt(o,o.return,Te)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===o)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===o)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===o)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Jr(l,o),Rs(o),p&4&&vk(o);break;case 21:break;default:Jr(l,o),Rs(o)}}function Rs(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(mk(d)){var p=d;break e}d=d.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(da(y,""),p.flags&=-33);var w=gk(o);t0(o,w,y);break;case 3:case 4:var A=p.stateNode.containerInfo,F=gk(o);e0(o,F,A);break;default:throw Error(n(161))}}catch(B){Nt(o,o.return,B)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function gL(o,l,d){we=o,bk(o)}function bk(o,l,d){for(var p=(o.mode&1)!==0;we!==null;){var y=we,w=y.child;if(y.tag===22&&p){var A=y.memoizedState!==null||Pp;if(!A){var F=y.alternate,B=F!==null&&F.memoizedState!==null||Tn;F=Pp;var Z=Tn;if(Pp=A,(Tn=B)&&!Z)for(we=y;we!==null;)A=we,B=A.child,A.tag===22&&A.memoizedState!==null?Ek(y):B!==null?(B.return=A,we=B):Ek(y);for(;w!==null;)we=w,bk(w),w=w.sibling;we=y,Pp=F,Tn=Z}xk(o)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,we=w):xk(o)}}function xk(o){for(;we!==null;){var l=we;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Tn||Dp(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!Tn)if(d===null)p.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:Yr(l.type,d.memoizedProps);p.componentDidUpdate(y,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&xE(l,w,p);break;case 3:var A=l.updateQueue;if(A!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}xE(l,A,d)}break;case 5:var F=l.stateNode;if(d===null&&l.flags&4){d=F;var B=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&d.focus();break;case"img":B.src&&(d.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&ao(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Tn||l.flags&512&&Zv(l)}catch(se){Nt(l,l.return,se)}}if(l===o){we=null;break}if(d=l.sibling,d!==null){d.return=l.return,we=d;break}we=l.return}}function Sk(o){for(;we!==null;){var l=we;if(l===o){we=null;break}var d=l.sibling;if(d!==null){d.return=l.return,we=d;break}we=l.return}}function Ek(o){for(;we!==null;){var l=we;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Dp(4,l)}catch(B){Nt(l,d,B)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var y=l.return;try{p.componentDidMount()}catch(B){Nt(l,y,B)}}var w=l.return;try{Zv(l)}catch(B){Nt(l,w,B)}break;case 5:var A=l.return;try{Zv(l)}catch(B){Nt(l,A,B)}}}catch(B){Nt(l,l.return,B)}if(l===o){we=null;break}var F=l.sibling;if(F!==null){F.return=l.return,we=F;break}we=l.return}}var yL=Math.ceil,Op=z.ReactCurrentDispatcher,n0=z.ReactCurrentOwner,Cr=z.ReactCurrentBatchConfig,tt=0,ln=null,Qt=null,mn=0,dr=0,Eu=po(0),tn=0,Nd=null,Pa=0,Mp=0,r0=0,Pd=null,Kn=null,s0=0,ku=1/0,wi=null,jp=!1,i0=null,bo=null,Lp=!1,xo=null,Fp=0,Dd=0,o0=null,Vp=-1,zp=0;function On(){return(tt&6)!==0?gt():Vp!==-1?Vp:Vp=gt()}function So(o){return(o.mode&1)===0?1:(tt&2)!==0&&mn!==0?mn&-mn:eL.transition!==null?(zp===0&&(zp=ed()),zp):(o=Qe,o!==0||(o=window.event,o=o===void 0?16:Zl(o.type)),o)}function Zr(o,l,d,p){if(50<Dd)throw Dd=0,o0=null,Error(n(185));ba(o,d,p),((tt&2)===0||o!==ln)&&(o===ln&&((tt&2)===0&&(Mp|=d),tn===4&&Eo(o,mn)),Wn(o,p),d===1&&tt===0&&(l.mode&1)===0&&(ku=gt()+500,pp&&go()))}function Wn(o,l){var d=o.callbackNode;wa(o,l);var p=ai(o,o===ln?mn:0);if(p===0)d!==null&&Hl(d),o.callbackNode=null,o.callbackPriority=0;else if(l=p&-p,o.callbackPriority!==l){if(d!=null&&Hl(d),l===1)o.tag===0?Z4(Tk.bind(null,o)):uE(Tk.bind(null,o)),Q4(function(){(tt&6)===0&&go()}),d=null;else{switch(ys(p)){case 1:d=Kl;break;case 4:d=Xc;break;case 16:d=ma;break;case 536870912:d=Wl;break;default:d=ma}d=Dk(d,kk.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function kk(o,l){if(Vp=-1,zp=0,(tt&6)!==0)throw Error(n(327));var d=o.callbackNode;if(Tu()&&o.callbackNode!==d)return null;var p=ai(o,o===ln?mn:0);if(p===0)return null;if((p&30)!==0||(p&o.expiredLanes)!==0||l)l=Bp(o,p);else{l=p;var y=tt;tt|=2;var w=Ik();(ln!==o||mn!==l)&&(wi=null,ku=gt()+500,Oa(o,l));do try{bL();break}catch(F){_k(o,F)}while(!0);Tv(),Op.current=w,tt=y,Qt!==null?l=0:(ln=null,mn=0,l=tn)}if(l!==0){if(l===2&&(y=Zc(o),y!==0&&(p=y,l=a0(o,y))),l===1)throw d=Nd,Oa(o,0),Eo(o,p),Wn(o,gt()),d;if(l===6)Eo(o,p);else{if(y=o.current.alternate,(p&30)===0&&!vL(y)&&(l=Bp(o,p),l===2&&(w=Zc(o),w!==0&&(p=w,l=a0(o,w))),l===1))throw d=Nd,Oa(o,0),Eo(o,p),Wn(o,gt()),d;switch(o.finishedWork=y,o.finishedLanes=p,l){case 0:case 1:throw Error(n(345));case 2:Ma(o,Kn,wi);break;case 3:if(Eo(o,p),(p&130023424)===p&&(l=s0+500-gt(),10<l)){if(ai(o,0)!==0)break;if(y=o.suspendedLanes,(y&p)!==p){On(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=pv(Ma.bind(null,o,Kn,wi),l);break}Ma(o,Kn,wi);break;case 4:if(Eo(o,p),(p&4194240)===p)break;for(l=o.eventTimes,y=-1;0<p;){var A=31-sr(p);w=1<<A,A=l[A],A>y&&(y=A),p&=~w}if(p=y,p=gt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*yL(p/1960))-p,10<p){o.timeoutHandle=pv(Ma.bind(null,o,Kn,wi),p);break}Ma(o,Kn,wi);break;case 5:Ma(o,Kn,wi);break;default:throw Error(n(329))}}}return Wn(o,gt()),o.callbackNode===d?kk.bind(null,o):null}function a0(o,l){var d=Pd;return o.current.memoizedState.isDehydrated&&(Oa(o,l).flags|=256),o=Bp(o,l),o!==2&&(l=Kn,Kn=d,l!==null&&l0(l)),o}function l0(o){Kn===null?Kn=o:Kn.push.apply(Kn,o)}function vL(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var y=d[p],w=y.getSnapshot;y=y.value;try{if(!Wr(w(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Eo(o,l){for(l&=~r0,l&=~Mp,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-sr(l),p=1<<d;o[d]=-1,l&=~p}}function Tk(o){if((tt&6)!==0)throw Error(n(327));Tu();var l=ai(o,0);if((l&1)===0)return Wn(o,gt()),null;var d=Bp(o,l);if(o.tag!==0&&d===2){var p=Zc(o);p!==0&&(l=p,d=a0(o,p))}if(d===1)throw d=Nd,Oa(o,0),Eo(o,l),Wn(o,gt()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Ma(o,Kn,wi),Wn(o,gt()),null}function u0(o,l){var d=tt;tt|=1;try{return o(l)}finally{tt=d,tt===0&&(ku=gt()+500,pp&&go())}}function Da(o){xo!==null&&xo.tag===0&&(tt&6)===0&&Tu();var l=tt;tt|=1;var d=Cr.transition,p=Qe;try{if(Cr.transition=null,Qe=1,o)return o()}finally{Qe=p,Cr.transition=d,tt=l,(tt&6)===0&&go()}}function c0(){dr=Eu.current,vt(Eu)}function Oa(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,W4(d)),Qt!==null)for(d=Qt.return;d!==null;){var p=d;switch(bv(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&hp();break;case 3:bu(),vt(qn),vt(Sn),Dv();break;case 5:Nv(p);break;case 4:bu();break;case 13:vt(kt);break;case 19:vt(kt);break;case 10:_v(p.type._context);break;case 22:case 23:c0()}d=d.return}if(ln=o,Qt=o=ko(o.current,null),mn=dr=l,tn=0,Nd=null,r0=Mp=Pa=0,Kn=Pd=null,Aa!==null){for(l=0;l<Aa.length;l++)if(d=Aa[l],p=d.interleaved,p!==null){d.interleaved=null;var y=p.next,w=d.pending;if(w!==null){var A=w.next;w.next=y,p.next=A}d.pending=p}Aa=null}return o}function _k(o,l){do{var d=Qt;try{if(Tv(),kp.current=Cp,Tp){for(var p=Tt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Tp=!1}if(Na=0,an=en=Tt=null,Td=!1,_d=0,n0.current=null,d===null||d.return===null){tn=1,Nd=l,Qt=null;break}e:{var w=o,A=d.return,F=d,B=l;if(l=mn,F.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Z=B,ie=F,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=YE(A);if(fe!==null){fe.flags&=-257,XE(fe,A,F,w,l),fe.mode&1&&QE(w,Z,l),l=fe,B=Z;var be=l.updateQueue;if(be===null){var Te=new Set;Te.add(B),l.updateQueue=Te}else be.add(B);break e}else{if((l&1)===0){QE(w,Z,l),d0();break e}B=Error(n(426))}}else if(bt&&F.mode&1){var $t=YE(A);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),XE($t,A,F,w,l),Ev(xu(B,F));break e}}w=B=xu(B,F),tn!==4&&(tn=2),Pd===null?Pd=[w]:Pd.push(w),w=A;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var Y=KE(w,B,l);bE(w,Y);break e;case 1:F=B;var G=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(bo===null||!bo.has(J)))){w.flags|=65536,l&=-l,w.lanes|=l;var ue=WE(w,F,l);bE(w,ue);break e}}w=w.return}while(w!==null)}Ak(d)}catch(_e){l=_e,Qt===d&&d!==null&&(Qt=d=d.return);continue}break}while(!0)}function Ik(){var o=Op.current;return Op.current=Cp,o===null?Cp:o}function d0(){(tn===0||tn===3||tn===2)&&(tn=4),ln===null||(Pa&268435455)===0&&(Mp&268435455)===0||Eo(ln,mn)}function Bp(o,l){var d=tt;tt|=2;var p=Ik();(ln!==o||mn!==l)&&(wi=null,Oa(o,l));do try{wL();break}catch(y){_k(o,y)}while(!0);if(Tv(),tt=d,Op.current=p,Qt!==null)throw Error(n(261));return ln=null,mn=0,tn}function wL(){for(;Qt!==null;)Ck(Qt)}function bL(){for(;Qt!==null&&!pa();)Ck(Qt)}function Ck(o){var l=Pk(o.alternate,o,dr);o.memoizedProps=o.pendingProps,l===null?Ak(o):Qt=l,n0.current=null}function Ak(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=hL(d,l,dr),d!==null){Qt=d;return}}else{if(d=fL(d,l),d!==null){d.flags&=32767,Qt=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{tn=6,Qt=null;return}}if(l=l.sibling,l!==null){Qt=l;return}Qt=l=o}while(l!==null);tn===0&&(tn=5)}function Ma(o,l,d){var p=Qe,y=Cr.transition;try{Cr.transition=null,Qe=1,xL(o,l,d,p)}finally{Cr.transition=y,Qe=p}return null}function xL(o,l,d,p){do Tu();while(xo!==null);if((tt&6)!==0)throw Error(n(327));d=o.finishedWork;var y=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var w=d.lanes|d.childLanes;if(Jy(o,w),o===ln&&(Qt=ln=null,mn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Lp||(Lp=!0,Dk(ma,function(){return Tu(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=Cr.transition,Cr.transition=null;var A=Qe;Qe=1;var F=tt;tt|=4,n0.current=null,mL(o,d),wk(d,o),B4(hv),ci=!!dv,hv=dv=null,o.current=d,gL(d),oi(),tt=F,Qe=A,Cr.transition=w}else o.current=d;if(Lp&&(Lp=!1,xo=o,Fp=y),w=o.pendingLanes,w===0&&(bo=null),Wf(d.stateNode),Wn(o,gt()),l!==null)for(p=o.onRecoverableError,d=0;d<l.length;d++)y=l[d],p(y.value,{componentStack:y.stack,digest:y.digest});if(jp)throw jp=!1,o=i0,i0=null,o;return(Fp&1)!==0&&o.tag!==0&&Tu(),w=o.pendingLanes,(w&1)!==0?o===o0?Dd++:(Dd=0,o0=o):Dd=0,go(),null}function Tu(){if(xo!==null){var o=ys(Fp),l=Cr.transition,d=Qe;try{if(Cr.transition=null,Qe=16>o?16:o,xo===null)var p=!1;else{if(o=xo,xo=null,Fp=0,(tt&6)!==0)throw Error(n(331));var y=tt;for(tt|=4,we=o.current;we!==null;){var w=we,A=w.child;if((we.flags&16)!==0){var F=w.deletions;if(F!==null){for(var B=0;B<F.length;B++){var Z=F[B];for(we=Z;we!==null;){var ie=we;switch(ie.tag){case 0:case 11:case 15:Rd(8,ie,w)}var ae=ie.child;if(ae!==null)ae.return=ie,we=ae;else for(;we!==null;){ie=we;var se=ie.sibling,fe=ie.return;if(pk(ie),ie===Z){we=null;break}if(se!==null){se.return=fe,we=se;break}we=fe}}}var be=w.alternate;if(be!==null){var Te=be.child;if(Te!==null){be.child=null;do{var $t=Te.sibling;Te.sibling=null,Te=$t}while(Te!==null)}}we=w}}if((w.subtreeFlags&2064)!==0&&A!==null)A.return=w,we=A;else e:for(;we!==null;){if(w=we,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Rd(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,we=Y;break e}we=w.return}}var G=o.current;for(we=G;we!==null;){A=we;var J=A.child;if((A.subtreeFlags&2064)!==0&&J!==null)J.return=A,we=J;else e:for(A=G;we!==null;){if(F=we,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Dp(9,F)}}catch(_e){Nt(F,F.return,_e)}if(F===A){we=null;break e}var ue=F.sibling;if(ue!==null){ue.return=F.return,we=ue;break e}we=F.return}}if(tt=y,go(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(ga,o)}catch{}p=!0}return p}finally{Qe=d,Cr.transition=l}}return!1}function Rk(o,l,d){l=xu(d,l),l=KE(o,l,1),o=vo(o,l,1),l=On(),o!==null&&(ba(o,1,l),Wn(o,l))}function Nt(o,l,d){if(o.tag===3)Rk(o,o,d);else for(;l!==null;){if(l.tag===3){Rk(l,o,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(bo===null||!bo.has(p))){o=xu(d,o),o=WE(l,o,1),l=vo(l,o,1),o=On(),l!==null&&(ba(l,1,o),Wn(l,o));break}}l=l.return}}function SL(o,l,d){var p=o.pingCache;p!==null&&p.delete(l),l=On(),o.pingedLanes|=o.suspendedLanes&d,ln===o&&(mn&d)===d&&(tn===4||tn===3&&(mn&130023424)===mn&&500>gt()-s0?Oa(o,0):r0|=d),Wn(o,l)}function Nk(o,l){l===0&&((o.mode&1)===0?l=1:(l=so,so<<=1,(so&130023424)===0&&(so=4194304)));var d=On();o=gi(o,l),o!==null&&(ba(o,l,d),Wn(o,d))}function EL(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),Nk(o,d)}function kL(o,l){var d=0;switch(o.tag){case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(d=y.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(l),Nk(o,d)}var Pk;Pk=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||qn.current)Hn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return Hn=!1,dL(o,l,d);Hn=(o.flags&131072)!==0}else Hn=!1,bt&&(l.flags&1048576)!==0&&cE(l,gp,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Np(o,l),o=l.pendingProps;var y=fu(l,Sn.current);wu(l,d),y=jv(null,l,p,o,y,d);var w=Lv();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Gn(p)?(w=!0,fp(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Av(l),y.updater=Ap,l.stateNode=y,y._reactInternals=l,$v(l,p,o,d),l=Kv(null,l,p,!0,w,d)):(l.tag=0,bt&&w&&wv(l),Dn(null,l,y,d),l=l.child),l;case 16:p=l.elementType;e:{switch(Np(o,l),o=l.pendingProps,y=p._init,p=y(p._payload),l.type=p,y=l.tag=_L(p),o=Yr(p,o),y){case 0:l=Hv(null,l,p,o,d);break e;case 1:l=rk(null,l,p,o,d);break e;case 11:l=JE(null,l,p,o,d);break e;case 14:l=ZE(null,l,p,Yr(p.type,o),d);break e}throw Error(n(306,p,""))}return l;case 0:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Yr(p,y),Hv(o,l,p,y,d);case 1:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Yr(p,y),rk(o,l,p,y,d);case 3:e:{if(sk(l),o===null)throw Error(n(387));p=l.pendingProps,w=l.memoizedState,y=w.element,wE(o,l),Sp(l,p,null,d);var A=l.memoizedState;if(p=A.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){y=xu(Error(n(423)),l),l=ik(o,l,p,d,y);break e}else if(p!==y){y=xu(Error(n(424)),l),l=ik(o,l,p,d,y);break e}else for(cr=fo(l.stateNode.containerInfo.firstChild),ur=l,bt=!0,Qr=null,d=yE(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(gu(),p===y){l=vi(o,l,d);break e}Dn(o,l,p,d)}l=l.child}return l;case 5:return SE(l),o===null&&Sv(l),p=l.type,y=l.pendingProps,w=o!==null?o.memoizedProps:null,A=y.children,fv(p,y)?A=null:w!==null&&fv(p,w)&&(l.flags|=32),nk(o,l),Dn(o,l,A,d),l.child;case 6:return o===null&&Sv(l),null;case 13:return ok(o,l,d);case 4:return Rv(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=yu(l,null,p,d):Dn(o,l,p,d),l.child;case 11:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Yr(p,y),JE(o,l,p,y,d);case 7:return Dn(o,l,l.pendingProps,d),l.child;case 8:return Dn(o,l,l.pendingProps.children,d),l.child;case 12:return Dn(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(p=l.type._context,y=l.pendingProps,w=l.memoizedProps,A=y.value,ht(wp,p._currentValue),p._currentValue=A,w!==null)if(Wr(w.value,A)){if(w.children===y.children&&!qn.current){l=vi(o,l,d);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var F=w.dependencies;if(F!==null){A=w.child;for(var B=F.firstContext;B!==null;){if(B.context===p){if(w.tag===1){B=yi(-1,d&-d),B.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?B.next=B:(B.next=ie.next,ie.next=B),Z.pending=B}}w.lanes|=d,B=w.alternate,B!==null&&(B.lanes|=d),Iv(w.return,d,l),F.lanes|=d;break}B=B.next}}else if(w.tag===10)A=w.type===l.type?null:w.child;else if(w.tag===18){if(A=w.return,A===null)throw Error(n(341));A.lanes|=d,F=A.alternate,F!==null&&(F.lanes|=d),Iv(A,d,l),A=w.sibling}else A=w.child;if(A!==null)A.return=w;else for(A=w;A!==null;){if(A===l){A=null;break}if(w=A.sibling,w!==null){w.return=A.return,A=w;break}A=A.return}w=A}Dn(o,l,y.children,d),l=l.child}return l;case 9:return y=l.type,p=l.pendingProps.children,wu(l,d),y=_r(y),p=p(y),l.flags|=1,Dn(o,l,p,d),l.child;case 14:return p=l.type,y=Yr(p,l.pendingProps),y=Yr(p.type,y),ZE(o,l,p,y,d);case 15:return ek(o,l,l.type,l.pendingProps,d);case 17:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Yr(p,y),Np(o,l),l.tag=1,Gn(p)?(o=!0,fp(l)):o=!1,wu(l,d),GE(l,p,y),$v(l,p,y,d),Kv(null,l,p,!0,o,d);case 19:return lk(o,l,d);case 22:return tk(o,l,d)}throw Error(n(156,l.tag))};function Dk(o,l){return Yc(o,l)}function TL(o,l,d,p){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(o,l,d,p){return new TL(o,l,d,p)}function h0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function _L(o){if(typeof o=="function")return h0(o)?1:0;if(o!=null){if(o=o.$$typeof,o===$)return 11;if(o===Pe)return 14}return 2}function ko(o,l){var d=o.alternate;return d===null?(d=Ar(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function Up(o,l,d,p,y,w){var A=2;if(p=o,typeof o=="function")h0(o)&&(A=1);else if(typeof o=="string")A=5;else e:switch(o){case D:return ja(d.children,y,w,l);case C:A=8,y|=8;break;case N:return o=Ar(12,d,l,y|2),o.elementType=N,o.lanes=w,o;case L:return o=Ar(13,d,l,y),o.elementType=L,o.lanes=w,o;case ke:return o=Ar(19,d,l,y),o.elementType=ke,o.lanes=w,o;case ve:return $p(d,y,w,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case j:A=10;break e;case V:A=9;break e;case $:A=11;break e;case Pe:A=14;break e;case ye:A=16,p=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=Ar(A,d,l,y),l.elementType=o,l.type=p,l.lanes=w,l}function ja(o,l,d,p){return o=Ar(7,o,p,l),o.lanes=d,o}function $p(o,l,d,p){return o=Ar(22,o,p,l),o.elementType=ve,o.lanes=d,o.stateNode={isHidden:!1},o}function f0(o,l,d){return o=Ar(6,o,null,l),o.lanes=d,o}function p0(o,l,d){return l=Ar(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function IL(o,l,d,p,y){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=td(0),this.expirationTimes=td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=td(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function m0(o,l,d,p,y,w,A,F,B){return o=new IL(o,l,d,F,B),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Ar(3,null,null,l),o.current=w,w.stateNode=o,w.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Av(w),o}function CL(o,l,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:p==null?null:""+p,children:o,containerInfo:l,implementation:d}}function Ok(o){if(!o)return mo;o=o._reactInternals;e:{if(Hr(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Gn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(Gn(d))return aE(o,d,l)}return l}function Mk(o,l,d,p,y,w,A,F,B){return o=m0(d,p,!0,o,y,w,A,F,B),o.context=Ok(null),d=o.current,p=On(),y=So(d),w=yi(p,y),w.callback=l??null,vo(d,w,y),o.current.lanes=y,ba(o,y,p),Wn(o,p),o}function qp(o,l,d,p){var y=l.current,w=On(),A=So(y);return d=Ok(d),l.context===null?l.context=d:l.pendingContext=d,l=yi(w,A),l.payload={element:o},p=p===void 0?null:p,p!==null&&(l.callback=p),o=vo(y,l,A),o!==null&&(Zr(o,y,A,w),xp(o,y,A)),A}function Gp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function jk(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function g0(o,l){jk(o,l),(o=o.alternate)&&jk(o,l)}function AL(){return null}var Lk=typeof reportError=="function"?reportError:function(o){console.error(o)};function y0(o){this._internalRoot=o}Hp.prototype.render=y0.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));qp(o,l,null,null)},Hp.prototype.unmount=y0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Da(function(){qp(null,o,null,null)}),l[hi]=null}};function Hp(o){this._internalRoot=o}Hp.prototype.unstable_scheduleHydration=function(o){if(o){var l=id();o={blockedOn:null,target:o,priority:l};for(var d=0;d<ir.length&&l!==0&&l<ir[d].priority;d++);ir.splice(d,0,o),d===0&&Xl(o)}};function v0(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Kp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Fk(){}function RL(o,l,d,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var Z=Gp(A);w.call(Z)}}var A=Mk(l,p,o,0,null,!1,!1,"",Fk);return o._reactRootContainer=A,o[hi]=A.current,yd(o.nodeType===8?o.parentNode:o),Da(),A}for(;y=o.lastChild;)o.removeChild(y);if(typeof p=="function"){var F=p;p=function(){var Z=Gp(B);F.call(Z)}}var B=m0(o,0,!1,null,null,!1,!1,"",Fk);return o._reactRootContainer=B,o[hi]=B.current,yd(o.nodeType===8?o.parentNode:o),Da(function(){qp(l,B,d,p)}),B}function Wp(o,l,d,p,y){var w=d._reactRootContainer;if(w){var A=w;if(typeof y=="function"){var F=y;y=function(){var B=Gp(A);F.call(B)}}qp(l,A,o,y)}else A=RL(d,l,o,y,p);return Gp(A)}rd=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=it(l.pendingLanes);d!==0&&(nd(l,d|1),Wn(l,gt()),(tt&6)===0&&(ku=gt()+500,go()))}break;case 13:Da(function(){var p=gi(o,1);if(p!==null){var y=On();Zr(p,o,1,y)}}),g0(o,1)}},Ql=function(o){if(o.tag===13){var l=gi(o,134217728);if(l!==null){var d=On();Zr(l,o,134217728,d)}g0(o,134217728)}},sd=function(o){if(o.tag===13){var l=So(o),d=gi(o,l);if(d!==null){var p=On();Zr(d,o,l,p)}g0(o,l)}},id=function(){return Qe},od=function(o,l){var d=Qe;try{return Qe=o,l()}finally{Qe=d}},ri=function(o,l,d){switch(l){case"input":if(ni(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==o&&p.form===o.form){var y=dp(p);if(!y)throw Error(n(90));xr(p),ni(p,y)}}}break;case"textarea":jf(o,d);break;case"select":l=d.value,l!=null&&qr(o,!!d.multiple,l,!1)}},Vf=u0,zf=Da;var NL={usingClientEntryPoint:!1,Events:[bd,du,dp,eo,to,u0]},Od={findFiberByHostInstance:Ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PL={bundleType:Od.bundleType,version:Od.version,rendererPackageName:Od.rendererPackageName,rendererConfig:Od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Kf(o),o===null?null:o.stateNode},findFiberByHostInstance:Od.findFiberByHostInstance||AL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{ga=Qp.inject(PL),rr=Qp}catch{}}return Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NL,Qn.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v0(l))throw Error(n(200));return CL(o,l,null,d)},Qn.createRoot=function(o,l){if(!v0(o))throw Error(n(299));var d=!1,p="",y=Lk;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=m0(o,1,!1,null,null,d,!1,p,y),o[hi]=l.current,yd(o.nodeType===8?o.parentNode:o),new y0(l)},Qn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Kf(l),o=o===null?null:o.stateNode,o},Qn.flushSync=function(o){return Da(o)},Qn.hydrate=function(o,l,d){if(!Kp(l))throw Error(n(200));return Wp(null,o,l,!0,d)},Qn.hydrateRoot=function(o,l,d){if(!v0(o))throw Error(n(405));var p=d!=null&&d.hydratedSources||null,y=!1,w="",A=Lk;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),l=Mk(l,null,o,1,d??null,y,!1,w,A),o[hi]=l.current,yd(o),p)for(o=0;o<p.length;o++)d=p[o],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new Hp(l)},Qn.render=function(o,l,d){if(!Kp(l))throw Error(n(200));return Wp(null,o,l,!1,d)},Qn.unmountComponentAtNode=function(o){if(!Kp(o))throw Error(n(40));return o._reactRootContainer?(Da(function(){Wp(null,null,o,!1,function(){o._reactRootContainer=null,o[hi]=null})}),!0):!1},Qn.unstable_batchedUpdates=u0,Qn.unstable_renderSubtreeIntoContainer=function(o,l,d,p){if(!Kp(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Wp(o,l,d,!1,p)},Qn.version="18.3.1-next-f1338f8080-20240426",Qn}var Zk;function Y2(){if(Zk)return w0.exports;Zk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),w0.exports=HL(),w0.exports}var eT;function KL(){if(eT)return Yp;eT=1;var t=Y2();return Yp.createRoot=t.createRoot,Yp.hydrateRoot=t.hydrateRoot,Yp}var WL=KL();const QL=sx(WL),YL="modulepreload",XL=function(t){return"/"+t},tT={},zt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=XL(c),c in tT)return;tT[c]=!0;const h=c.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":YL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,E)=>{g.addEventListener("load",v),g.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function nT({size:t="md",variant:e="circle",className:n=""}){const r={xs:{wrapper:"w-6 h-6",img:"w-5 h-5"},sm:{wrapper:"w-8 h-8",img:"w-6 h-6"},md:{wrapper:"w-12 h-12",img:"w-10 h-10"},lg:{wrapper:"w-20 h-20",img:"w-16 h-16"},xl:{wrapper:"w-32 h-32",img:"w-24 h-24"}},s=r[t]||r.md;return x.jsx("div",{className:`${e==="circle"?"bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full shadow-lg overflow-hidden flex items-center justify-center":""} ${s.wrapper} ${n}`.trim(),children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:`${s.img} object-contain ${e==="circle"?"transform -rotate-12":""}`,loading:"lazy"})})}const JL=()=>{};var rT={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const X2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ZL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],u=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},J2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,u=a?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,m=i>>2,g=(i&3)<<4|u>>4;let v=(u&15)<<2|h>>6,E=h&63;c||(E=64,a||(v=64)),r.push(n[m],n[g],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(X2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const c=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||c==null)throw new e5;const h=i<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),c!==64){const g=u<<6&192|c;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class e5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t5=function(t){const e=X2(t);return J2.encodeByteArray(e,!0)},ng=function(t){return t5(t).replace(/\./g,"")},Z2=function(t){try{return J2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function eA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const n5=()=>eA().__FIREBASE_DEFAULTS__,r5=()=>{if(typeof process>"u"||typeof rT>"u")return;const t=rT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Z2(t[1]);return e&&JSON.parse(e)},Qg=()=>{try{return JL()||n5()||r5()||s5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tA=t=>{var e,n;return(n=(e=Qg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},nA=t=>{const e=tA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rA=()=>{var t;return(t=Qg())==null?void 0:t.config},sA=t=>{var e;return(e=Qg())==null?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class i5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Nl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ax(t){return(await fetch(t,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ng(JSON.stringify(n)),ng(JSON.stringify(a)),""].join(".")}const ph={};function o5(){const t={prod:[],emulator:[]};for(const e of Object.keys(ph))ph[e]?t.emulator.push(e):t.prod.push(e);return t}function a5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sT=!1;function lx(t,e){if(typeof window>"u"||typeof document>"u"||!Nl(window.location.host)||ph[t]===e||ph[t]||sT)return;ph[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=o5().prod.length>0;function i(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{sT=!0,i()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=a5(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),I=n("learnmore"),T=document.getElementById(I)||document.createElement("a"),_=n("preprendIcon"),R=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const P=g.element;a(P),h(T,I);const M=c();u(R,_),P.append(R,E,T,M),document.body.appendChild(P)}s?(E.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function oA(){var t;const e=(t=Qg())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ux(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d5(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aA(){return!oA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lA(){return!oA()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Yg(){try{return typeof indexedDB=="object"}catch{return!1}}function cx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function uA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const h5="FirebaseError";class $r extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=h5,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?f5(i,r):"Error",u=`${this.serviceName}: ${a} (${s}).`;return new $r(s,u,r)}}function f5(t,e){return t.replace(p5,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const p5=/\{\$([^}]+)}/g;function m5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(iT(i)&&iT(a)){if(!Qo(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function iT(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function af(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ih(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function oh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function g5(t,e){const n=new y5(t,e);return n.subscribe.bind(n)}class y5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v5(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=b0),s.error===void 0&&(s.error=b0),s.complete===void 0&&(s.complete=b0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function b0(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const w5=1e3,b5=2,x5=14400*1e3,S5=.5;function oT(t,e=w5,n=b5){const r=e*Math.pow(n,t),s=Math.round(S5*r*(Math.random()-.5)*2);return Math.min(x5,r+s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function At(t){return t&&t._delegate?t._delegate:t}class Ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Wa="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class E5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new i5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T5(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k5(t){return t===Wa?void 0:t}function T5(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new E5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const I5={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},C5=Ke.INFO,A5={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},R5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=A5[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xg{constructor(e){this.name=e,this._logLevel=C5,this._logHandler=R5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const N5=(t,e)=>e.some(n=>t instanceof n);let aT,lT;function P5(){return aT||(aT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D5(){return lT||(lT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cA=new WeakMap,Rw=new WeakMap,dA=new WeakMap,x0=new WeakMap,dx=new WeakMap;function O5(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n($o(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&cA.set(n,t)}).catch(()=>{}),dx.set(e,t),e}function M5(t){if(Rw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Rw.set(t,e)}let Nw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $o(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function j5(t){Nw=t(Nw)}function L5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(S0(this),e,...n);return dA.set(r,e.sort?e.sort():[e]),$o(r)}:D5().includes(t)?function(...e){return t.apply(S0(this),e),$o(cA.get(this))}:function(...e){return $o(t.apply(S0(this),e))}}function F5(t){return typeof t=="function"?L5(t):(t instanceof IDBTransaction&&M5(t),N5(t,P5())?new Proxy(t,Nw):t)}function $o(t){if(t instanceof IDBRequest)return O5(t);if(x0.has(t))return x0.get(t);const e=F5(t);return e!==t&&(x0.set(t,e),dx.set(e,t)),e}const S0=t=>dx.get(t);function hA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),u=$o(a);return r&&a.addEventListener("upgradeneeded",c=>{r($o(a.result),c.oldVersion,c.newVersion,$o(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const V5=["get","getKey","getAll","getAllKeys","count"],z5=["put","add","delete","clear"],E0=new Map;function uT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(E0.get(e))return E0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=z5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||V5.includes(n)))return;const i=async function(a,...u){const c=this.transaction(a,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),s&&c.done]))[0]};return E0.set(e,i),i}j5(t=>({...t,get:(e,n,r)=>uT(e,n)||t.get(e,n,r),has:(e,n)=>!!uT(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class B5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(U5(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function U5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pw="@firebase/app",cT="0.14.5";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ni=new Xg("@firebase/app"),$5="@firebase/app-compat",q5="@firebase/analytics-compat",G5="@firebase/analytics",H5="@firebase/app-check-compat",K5="@firebase/app-check",W5="@firebase/auth",Q5="@firebase/auth-compat",Y5="@firebase/database",X5="@firebase/data-connect",J5="@firebase/database-compat",Z5="@firebase/functions",e3="@firebase/functions-compat",t3="@firebase/installations",n3="@firebase/installations-compat",r3="@firebase/messaging",s3="@firebase/messaging-compat",i3="@firebase/performance",o3="@firebase/performance-compat",a3="@firebase/remote-config",l3="@firebase/remote-config-compat",u3="@firebase/storage",c3="@firebase/storage-compat",d3="@firebase/firestore",h3="@firebase/ai",f3="@firebase/firestore-compat",p3="firebase",m3="12.5.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Dw="[DEFAULT]",g3={[Pw]:"fire-core",[$5]:"fire-core-compat",[G5]:"fire-analytics",[q5]:"fire-analytics-compat",[K5]:"fire-app-check",[H5]:"fire-app-check-compat",[W5]:"fire-auth",[Q5]:"fire-auth-compat",[Y5]:"fire-rtdb",[X5]:"fire-data-connect",[J5]:"fire-rtdb-compat",[Z5]:"fire-fn",[e3]:"fire-fn-compat",[t3]:"fire-iid",[n3]:"fire-iid-compat",[r3]:"fire-fcm",[s3]:"fire-fcm-compat",[i3]:"fire-perf",[o3]:"fire-perf-compat",[a3]:"fire-rc",[l3]:"fire-rc-compat",[u3]:"fire-gcs",[c3]:"fire-gcs-compat",[d3]:"fire-fst",[f3]:"fire-fst-compat",[h3]:"fire-vertex","fire-js":"fire-js",[p3]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rg=new Map,y3=new Map,Ow=new Map;function dT(t,e){try{t.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function is(t){const e=t.name;if(Ow.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Ow.set(e,t);for(const n of rg.values())dT(n,t);for(const n of y3.values())dT(n,t);return!0}function ia(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mr(t){return t==null?!1:t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const v3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qo=new Pl("app","Firebase",v3);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class w3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qo.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Dl=m3;function fA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Dw,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw qo.create("bad-app-name",{appName:String(s)});if(n||(n=rA()),!n)throw qo.create("no-options");const i=rg.get(s);if(i){if(Qo(n,i.options)&&Qo(r,i.config))return i;throw qo.create("duplicate-app",{appName:s})}const a=new _5(s);for(const c of Ow.values())a.addComponent(c);const u=new w3(n,r,a);return rg.set(s,u),u}function Jg(t=Dw){const e=rg.get(t);if(!e&&t===Dw&&rA())return fA();if(!e)throw qo.create("no-app",{appName:t});return e}function tr(t,e,n){let r=g3[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(a.join(" "));return}is(new Ur(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const b3="firebase-heartbeat-database",x3=1,Rh="firebase-heartbeat-store";let k0=null;function pA(){return k0||(k0=hA(b3,x3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rh)}catch(n){console.warn(n)}}}}).catch(t=>{throw qo.create("idb-open",{originalErrorMessage:t.message})})),k0}async function S3(t){try{const e=(await pA()).transaction(Rh),n=await e.objectStore(Rh).get(mA(t));return await e.done,n}catch(e){if(e instanceof $r)Ni.warn(e.message);else{const n=qo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function hT(t,e){try{const n=(await pA()).transaction(Rh,"readwrite");await n.objectStore(Rh).put(e,mA(t)),await n.done}catch(n){if(n instanceof $r)Ni.warn(n.message);else{const r=qo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(r.message)}}}function mA(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const E3=1024,k3=30;class T3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>k3){const i=C3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fT(),{heartbeatsToSend:r,unsentEntries:s}=_3(this._heartbeatsCache.heartbeats),i=ng(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ni.warn(n),""}}}function fT(){return new Date().toISOString().substring(0,10)}function _3(t,e=E3){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),pT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),pT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class I3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yg()?cx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await S3(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return hT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return hT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function pT(t){return ng(JSON.stringify({version:2,heartbeats:t})).length}function C3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function A3(t){is(new Ur("platform-logger",e=>new B5(e),"PRIVATE")),is(new Ur("heartbeat",e=>new T3(e),"PRIVATE")),tr(Pw,cT,t),tr(Pw,cT,"esm2020"),tr("fire-js","")}A3("");function gA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R3=gA,yA=new Pl("auth","Firebase",gA());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sg=new Xg("@firebase/auth");function N3(t,...e){sg.logLevel<=Ke.WARN&&sg.warn(`Auth (${Dl}): ${t}`,...e)}function Tm(t,...e){sg.logLevel<=Ke.ERROR&&sg.error(`Auth (${Dl}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function os(t,...e){throw hx(t,...e)}function Fs(t,...e){return hx(t,...e)}function vA(t,e,n){const r={...R3(),[e]:n};return new Pl("auth","Firebase",r).create(e,{appName:t.name})}function Ai(t){return vA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yA.create(t,...e)}function Me(t,e,...n){if(!t)throw hx(e,...n)}function Ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tm(e),new Error(e)}function Pi(t,e){t||Ti(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Mw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function P3(){return mT()==="http:"||mT()==="https:"}function mT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function D3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P3()||ux()||"connection"in navigator)?navigator.onLine:!0}function O3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=l5()||c5()}get(){return D3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fx(t,e){Pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const M3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const j3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L3=new lf(3e4,6e4);function Bi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ui(t,e,n,r,s={}){return bA(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const u=af({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:c,...i};return u5()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Nl(t.emulatorConfig.host)&&(h.credentials="include"),wA.fetch()(await xA(t,t.config.apiHost,n,u),h)})}async function bA(t,e,n){t._canInitEmulator=!1;const r={...M3,...e};try{const s=new V3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Xp(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const u=i.ok?a.errorMessage:a.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xp(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Xp(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Xp(t,"user-disabled",a);const m=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw vA(t,m,h);os(t,m)}}catch(s){if(s instanceof $r)throw s;os(t,"network-request-failed",{message:String(s)})}}async function uf(t,e,n,r,s={}){const i=await Ui(t,e,n,r,s);return"mfaPendingCredential"in i&&os(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function xA(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?fx(t.config,s):`${t.config.apiScheme}://${s}`;return j3.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function F3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class V3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fs(this.auth,"network-request-failed")),L3.get())})}}function Xp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Fs(t,e,r);return s.customData._tokenResponse=n,s}function gT(t){return t!==void 0&&t.enterprise!==void 0}class z3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return F3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B3(t,e){return Ui(t,"GET","/v2/recaptchaConfig",Bi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function U3(t,e){return Ui(t,"POST","/v1/accounts:delete",e)}async function ig(t,e){return Ui(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $3(t,e=!1){const n=At(t),r=await n.getIdToken(e),s=px(r);Me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:mh(T0(s.auth_time)),issuedAtTime:mh(T0(s.iat)),expirationTime:mh(T0(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function T0(t){return Number(t)*1e3}function px(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tm("JWT malformed, contained fewer than 3 sections"),null;try{const s=Z2(n);return s?JSON.parse(s):(Tm("Failed to decode base64 JWT payload"),null)}catch(s){return Tm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function yT(t){const e=px(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Nh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $r&&q3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function q3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mh(this.lastLoginAt),this.creationTime=mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function og(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Nh(t,ig(n,{idToken:r}));Me(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=(e=i.providerUserInfo)!=null&&e.length?SA(i.providerUserInfo):[],u=K3(t.providerData,a),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(u!=null&&u.length),m=c?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new jw(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function H3(t){const e=At(t);await og(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K3(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function SA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function W3(t,e){const n=await bA(t,{},async()=>{const r=af({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await xA(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&Nl(t.emulatorConfig.host)&&(c.credentials="include"),wA.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Q3(t,e){return Ui(t,"POST","/v2/accounts:revokeToken",Bi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=yT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await W3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new rc;return r&&(Me(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Me(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Me(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rc,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _o(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rs{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new G3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Nh(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $3(this,e)}reload(){return H3(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await og(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await Nh(this,U3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:E,providerData:I,stsTokenManager:T}=n;Me(g&&T,e,"internal-error");const _=rc.fromJSON(this.name,T);Me(typeof g=="string",e,"internal-error"),_o(r,e.name),_o(s,e.name),Me(typeof v=="boolean",e,"internal-error"),Me(typeof E=="boolean",e,"internal-error"),_o(i,e.name),_o(a,e.name),_o(u,e.name),_o(c,e.name),_o(h,e.name),_o(m,e.name);const R=new rs({uid:g,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:E,photoURL:a,phoneNumber:i,tenantId:u,stsTokenManager:_,createdAt:h,lastLoginAt:m});return I&&Array.isArray(I)&&(R.providerData=I.map(P=>({...P}))),c&&(R._redirectEventId=c),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new rc;s.updateFromServerResponse(n);const i=new rs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await og(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Me(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?SA(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new rc;u.updateFromIdToken(r);const c=new rs({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new jw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,h),c}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vT=new Map;function _i(t){Pi(t instanceof Function,"Expected a class definition");let e=vT.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vT.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EA.type="NONE";const wT=EA;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _m(t,e,n){return`firebase:${t}:${e}:${n}`}class sc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=_m(this.userKey,s.apiKey,i),this.fullPersistenceKey=_m("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ig(this.auth,{idToken:e}).catch(()=>{});return n?rs._fromGetAccountInfoResponse(this.auth,n,e):null}return rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new sc(_i(wT),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||_i(wT);const a=_m(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const m=await h._get(a);if(m){let g;if(typeof m=="string"){const v=await ig(e,{idToken:m}).catch(()=>{});if(!v)break;g=await rs._fromGetAccountInfoResponse(e,v,m)}else g=rs._fromJSON(e,m);h!==i&&(u=g),i=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new sc(i,e,r):(i=c[0],u&&await i._set(a,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(a)}catch{}})),new sc(i,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AA(e))return"Blackberry";if(RA(e))return"Webos";if(TA(e))return"Safari";if((e.includes("chrome/")||_A(e))&&!e.includes("edge/"))return"Chrome";if(CA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kA(t=sn()){return/firefox\//i.test(t)}function TA(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _A(t=sn()){return/crios\//i.test(t)}function IA(t=sn()){return/iemobile/i.test(t)}function CA(t=sn()){return/android/i.test(t)}function AA(t=sn()){return/blackberry/i.test(t)}function RA(t=sn()){return/webos/i.test(t)}function mx(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y3(t=sn()){var e;return mx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function X3(){return d5()&&document.documentMode===10}function NA(t=sn()){return mx(t)||CA(t)||RA(t)||AA(t)||/windows phone/i.test(t)||IA(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function PA(t,e=[]){let n;switch(t){case"Browser":n=bT(sn());break;case"Worker":n=`${bT(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dl}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,u)=>{try{const c=e(i);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Z3(t,e={}){return Ui(t,"GET","/v2/passwordPolicy",Bi(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const e6=6;class t6{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??e6,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class n6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xT(this),this.idTokenSubscription=new xT(this),this.beforeStateQueue=new J3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await sc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ig(this,{idToken:e}),r=await rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)==null?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&c!=null&&c.user&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await og(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject(Ai(this));const n=e?At(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z3(this),n=new t6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Q3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await sc.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(u,this,"internal-error"),u.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return n!=null&&n.error&&N3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oa(t){return At(t)}let xT=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=g5(e=>this.observer=e)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Zg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r6(t){Zg=t}function DA(t){return Zg.loadJS(t)}function s6(){return Zg.recaptchaEnterpriseScript}function i6(){return Zg.gapiScript}function o6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class a6{constructor(){this.enterprise=new l6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class l6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const u6="recaptcha-enterprise",OA="NO_RECAPTCHA";class c6{constructor(e){this.type=u6,this.auth=oa(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,u)=>{B3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new z3(c);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,a(h.siteKey)}}).catch(c=>{u(c)})})}function s(i,a,u){const c=window.grecaptcha;gT(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(h=>{a(h)}).catch(()=>{a(OA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new a6().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(u=>{if(!n&&gT(window.grecaptcha))s(u,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=s6();c.length!==0&&(c+=u),DA(c).then(()=>{s(u,i,a)}).catch(h=>{a(h)})}}).catch(u=>{a(u)})})}}async function ST(t,e,n,r=!1,s=!1){const i=new c6(t);let a;if(s)a=OA;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function ag(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ST(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await ST(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function d6(t,e){const n=ia(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Qo(s,e??{}))return r;os(r,"already-initialized")}return n.initialize({options:e})}function h6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function f6(t,e,n){const r=oa(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=MA(e),{host:a,port:u}=p6(e),c=u===null?"":`:${u}`,h={url:`${i}//${a}${c}/`},m=Object.freeze({host:a,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Qo(h,r.config.emulator)&&Qo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Nl(a)?(ax(`${i}//${a}${c}`),lx("Auth",!0)):m6()}function MA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function p6(t){const e=MA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ET(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:ET(a)}}}function ET(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function m6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,n){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}async function g6(t,e){return Ui(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function y6(t,e){return uf(t,"POST","/v1/accounts:signInWithPassword",Bi(t,e))}async function v6(t,e){return Ui(t,"POST","/v1/accounts:sendOobCode",Bi(t,e))}async function w6(t,e){return v6(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function b6(t,e){return uf(t,"POST","/v1/accounts:signInWithEmailLink",Bi(t,e))}async function x6(t,e){return uf(t,"POST","/v1/accounts:signInWithEmailLink",Bi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ph extends gx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ph(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ph(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ag(e,n,"signInWithPassword",y6);case"emailLink":return b6(e,{email:this._email,oobCode:this._password});default:os(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ag(e,r,"signUpPassword",g6);case"emailLink":return x6(e,{idToken:n,email:this._email,oobCode:this._password});default:os(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ic(t,e){return uf(t,"POST","/v1/accounts:signInWithIdp",Bi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const S6="http://localhost";class gl extends gx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):os("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new gl(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ic(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ic(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ic(e,n)}buildRequest(){const e={requestUri:S6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=af(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function E6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k6(t){const e=ih(oh(t)).link,n=e?ih(oh(e)).deep_link_id:null,r=ih(oh(t)).deep_link_id;return(r?ih(oh(r)).link:null)||r||n||e||t}class yx{constructor(e){const n=ih(oh(e)),r=n.apiKey??null,s=n.oobCode??null,i=E6(n.mode??null);Me(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=k6(e);try{return new yx(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cc{constructor(){this.providerId=Cc.PROVIDER_ID}static credential(e,n){return Ph._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yx.parseLink(n);return Me(r,"argument-error"),Ph._fromEmailAndCode(e,r.code,r.tenantId)}}Cc.PROVIDER_ID="password";Cc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cf extends jA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lo extends cf{constructor(){super("facebook.com")}static credential(e){return gl._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lo.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fo extends cf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gl._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fo.credential(n,r)}catch{return null}}}Fo.GOOGLE_SIGN_IN_METHOD="google.com";Fo.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vo extends cf{constructor(){super("github.com")}static credential(e){return gl._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch{return null}}}Vo.GITHUB_SIGN_IN_METHOD="github.com";Vo.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zo extends cf{constructor(){super("twitter.com")}static credential(e,n){return gl._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zo.credential(n,r)}catch{return null}}}zo.TWITTER_SIGN_IN_METHOD="twitter.com";zo.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function T6(t,e){return uf(t,"POST","/v1/accounts:signUp",Bi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await rs._fromIdTokenResponse(e,r,s),a=kT(r);return new yl({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=kT(r);return new yl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function kT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lg extends $r{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,lg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new lg(e,n,r,s)}}function LA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lg._fromErrorAndOperation(t,s,e,r):s})}async function _6(t,e,n=!1){const r=await Nh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yl._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function I6(t,e,n=!1){const{auth:r}=t;if(mr(r.app))return Promise.reject(Ai(r));const s="reauthenticate";try{const i=await Nh(t,LA(r,s,e,t),n);Me(i.idToken,r,"internal-error");const a=px(i.idToken);Me(a,r,"internal-error");const{sub:u}=a;return Me(t.uid===u,r,"user-mismatch"),yl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&os(r,"user-mismatch"),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function FA(t,e,n=!1){if(mr(t.app))return Promise.reject(Ai(t));const r="signIn",s=await LA(t,r,e),i=await yl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function C6(t,e){return FA(oa(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function VA(t){const e=oa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function A6(t,e,n){const r=oa(t);await ag(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",w6)}async function R6(t,e,n){if(mr(t.app))return Promise.reject(Ai(t));const r=oa(t),s=await ag(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",T6).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&VA(t),a}),i=await yl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function N6(t,e,n){return mr(t.app)?Promise.reject(Ai(t)):C6(At(t),Cc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VA(t),r})}function P6(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function D6(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function O6(t,e,n,r){return At(t).onAuthStateChanged(e,n,r)}function M6(t){return At(t).signOut()}const ug="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ug,"1"),this.storage.removeItem(ug),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const j6=1e3,L6=10;class BA extends zA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);X3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,L6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},j6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BA.type="LOCAL";const F6=BA;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UA extends zA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UA.type="SESSION";const $A=UA;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function V6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ey{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ey(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(a).map(async h=>h(n.origin,i)),c=await V6(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ey.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class z6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((u,c)=>{const h=vx("",20);s.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(m),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(v.data.response);break;default:clearTimeout(m),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vs(){return window}function B6(t){Vs().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qA(){return typeof Vs().WorkerGlobalScope<"u"&&typeof Vs().importScripts=="function"}async function U6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function q6(){return qA()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GA="firebaseLocalStorageDb",G6=1,cg="firebaseLocalStorage",HA="fbase_key";class df{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ty(t,e){return t.transaction([cg],e?"readwrite":"readonly").objectStore(cg)}function H6(){const t=indexedDB.deleteDatabase(GA);return new df(t).toPromise()}function Lw(){const t=indexedDB.open(GA,G6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cg,{keyPath:HA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cg)?e(r):(r.close(),await H6(),e(await Lw()))})})}async function TT(t,e,n){const r=ty(t,!0).put({[HA]:e,value:n});return new df(r).toPromise()}async function K6(t,e){const n=ty(t,!1).get(e),r=await new df(n).toPromise();return r===void 0?null:r.value}function _T(t,e){const n=ty(t,!0).delete(e);return new df(n).toPromise()}const W6=800,Q6=3;class KA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Q6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ey._getInstance(q6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await U6(),!this.activeServiceWorker)return;this.sender=new z6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(e=r[0])!=null&&e.fulfilled&&(n=r[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lw();return await TT(e,ug,"1"),await _T(e,ug),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>K6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_T(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ty(s,!1).getAll();return new df(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KA.type="LOCAL";const Y6=KA;new lf(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function X6(t,e){return e?_i(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wx extends gx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ic(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ic(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ic(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function J6(t){return FA(t.auth,new wx(t),t.bypassAuthState)}function Z6(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),I6(n,new wx(t),t.bypassAuthState)}async function eF(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),_6(n,new wx(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J6;case"linkViaPopup":case"linkViaRedirect":return eF;case"reauthViaPopup":case"reauthViaRedirect":return Z6;default:os(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tF=new lf(2e3,1e4);class Xu extends WA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Xu.currentPopupAction&&Xu.currentPopupAction.cancel(),Xu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=vx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tF.get())};e()}}Xu.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nF="pendingRedirect",Im=new Map;class rF extends WA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Im.get(this.auth._key());if(!e){try{const n=await sF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Im.set(this.auth._key(),e)}return this.bypassAuthState||Im.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sF(t,e){const n=aF(e),r=oF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function iF(t,e){Im.set(t._key(),e)}function oF(t){return _i(t._redirectPersistence)}function aF(t){return _m(nF,t.config.apiKey,t.name)}async function lF(t,e,n=!1){if(mr(t.app))return Promise.reject(Ai(t));const r=oa(t),s=X6(r,e),i=await new rF(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uF=600*1e3;class cF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QA(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uF&&this.cachedEventUids.clear(),this.cachedEventUids.has(IT(e))}saveEventToCache(e){this.cachedEventUids.add(IT(e)),this.lastProcessedEventTime=Date.now()}}function IT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QA(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function hF(t,e={}){return Ui(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pF=/^https?/;async function mF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hF(t);for(const n of e)try{if(gF(n))return}catch{}os(t,"unauthorized-domain")}function gF(t){const e=Mw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!pF.test(n))return!1;if(fF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yF=new lf(3e4,6e4);function CT(){const t=Vs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vF(t){return new Promise((e,n)=>{var r,s,i;function a(){CT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CT(),n(Fs(t,"network-request-failed"))},timeout:yF.get()})}if((s=(r=Vs().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((i=Vs().gapi)!=null&&i.load)a();else{const u=o6("iframefcb");return Vs()[u]=()=>{gapi.load?a():n(Fs(t,"network-request-failed"))},DA(`${i6()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Cm=null,e})}let Cm=null;function wF(t){return Cm=Cm||vF(t),Cm}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bF=new lf(5e3,15e3),xF="__/auth/iframe",SF="emulator/auth/iframe",EF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TF(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fx(e,SF):`https://${t.config.authDomain}/${xF}`,r={apiKey:e.apiKey,appName:t.name,v:Dl},s=kF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${af(r).slice(1)}`}async function _F(t){const e=await wF(t),n=Vs().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:TF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Fs(t,"network-request-failed"),u=Vs().setTimeout(()=>{i(a)},bF.get());function c(){Vs().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CF=500,AF=600,RF="_blank",NF="http://localhost";class AT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PF(t,e,n,r=CF,s=AF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...IF,width:r.toString(),height:s.toString(),top:i,left:a},h=sn().toLowerCase();n&&(u=_A(h)?RF:n),kA(h)&&(e=e||NF,c.scrollbars="yes");const m=Object.entries(c).reduce((v,[E,I])=>`${v}${E}=${I},`,"");if(Y3(h)&&u!=="_self")return DF(e||"",u),new AT(null);const g=window.open(e||"",u,m);Me(g,t,"popup-blocked");try{g.focus()}catch{}return new AT(g)}function DF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const OF="__/auth/handler",MF="emulator/auth/handler",jF=encodeURIComponent("fac");async function RT(t,e,n,r,s,i){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dl,eventId:s};if(e instanceof jA){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",m5(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))a[m]=g}if(e instanceof cf){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const c=await t._getAppCheckToken(),h=c?`#${jF}=${encodeURIComponent(c)}`:"";return`${LF(t)}?${af(u).slice(1)}${h}`}function LF({config:t}){return t.emulator?fx(t,MF):`https://${t.authDomain}/${OF}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _0="webStorageSupport";class FF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$A,this._completeRedirectFn=lF,this._overrideRedirectResult=iF}async _openPopup(e,n,r,s){var i;Pi((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await RT(e,n,r,Mw(),s);return PF(e,a,vx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await RT(e,n,r,Mw(),s);return B6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Pi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _F(e),r=new cF(e);return n.register("authEvent",s=>(Me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_0,{type:_0},r=>{var s;const i=(s=r==null?void 0:r[0])==null?void 0:s[_0];i!==void 0&&n(!!i),os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NA()||TA()||mx()}}const VF=FF;var NT="@firebase/auth",PT="1.11.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function BF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UF(t){is(new Ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Me(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PA(t)},h=new n6(r,s,i,c);return h6(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),is(new Ur("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(r=>new zF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(NT,PT,BF(t)),tr(NT,PT,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $F=300,qF=sA("authIdTokenMaxAge")||$F;let DT=null;const GF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qF)return;const s=n==null?void 0:n.token;DT!==s&&(DT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ny(t=Jg()){const e=ia(t,"auth");if(e.isInitialized())return e.getImmediate();const n=d6(t,{popupRedirectResolver:VF,persistence:[Y6,F6,$A]}),r=sA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=GF(i.toString());D6(n,a,()=>a(n.currentUser)),P6(n,u=>a(u))}}const s=tA("auth");return s&&f6(n,`http://${s}`),n}function HF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}r6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Fs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",HF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UF("Browser");var KF="firebase",WF="12.5.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/tr(KF,WF,"app");var OT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Go,YA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function N(){}N.prototype=C.prototype,D.F=C.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(j,V,$){for(var L=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)L[ke-2]=arguments[ke];return C.prototype[V].apply(j,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,C,N){N||(N=0);const j=Array(16);if(typeof C=="string")for(var V=0;V<16;++V)j[V]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(V=0;V<16;++V)j[V]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=D.g[0],N=D.g[1],V=D.g[2];let $=D.g[3],L;L=C+($^N&(V^$))+j[0]+3614090360&4294967295,C=N+(L<<7&4294967295|L>>>25),L=$+(V^C&(N^V))+j[1]+3905402710&4294967295,$=C+(L<<12&4294967295|L>>>20),L=V+(N^$&(C^N))+j[2]+606105819&4294967295,V=$+(L<<17&4294967295|L>>>15),L=N+(C^V&($^C))+j[3]+3250441966&4294967295,N=V+(L<<22&4294967295|L>>>10),L=C+($^N&(V^$))+j[4]+4118548399&4294967295,C=N+(L<<7&4294967295|L>>>25),L=$+(V^C&(N^V))+j[5]+1200080426&4294967295,$=C+(L<<12&4294967295|L>>>20),L=V+(N^$&(C^N))+j[6]+2821735955&4294967295,V=$+(L<<17&4294967295|L>>>15),L=N+(C^V&($^C))+j[7]+4249261313&4294967295,N=V+(L<<22&4294967295|L>>>10),L=C+($^N&(V^$))+j[8]+1770035416&4294967295,C=N+(L<<7&4294967295|L>>>25),L=$+(V^C&(N^V))+j[9]+2336552879&4294967295,$=C+(L<<12&4294967295|L>>>20),L=V+(N^$&(C^N))+j[10]+4294925233&4294967295,V=$+(L<<17&4294967295|L>>>15),L=N+(C^V&($^C))+j[11]+2304563134&4294967295,N=V+(L<<22&4294967295|L>>>10),L=C+($^N&(V^$))+j[12]+1804603682&4294967295,C=N+(L<<7&4294967295|L>>>25),L=$+(V^C&(N^V))+j[13]+4254626195&4294967295,$=C+(L<<12&4294967295|L>>>20),L=V+(N^$&(C^N))+j[14]+2792965006&4294967295,V=$+(L<<17&4294967295|L>>>15),L=N+(C^V&($^C))+j[15]+1236535329&4294967295,N=V+(L<<22&4294967295|L>>>10),L=C+(V^$&(N^V))+j[1]+4129170786&4294967295,C=N+(L<<5&4294967295|L>>>27),L=$+(N^V&(C^N))+j[6]+3225465664&4294967295,$=C+(L<<9&4294967295|L>>>23),L=V+(C^N&($^C))+j[11]+643717713&4294967295,V=$+(L<<14&4294967295|L>>>18),L=N+($^C&(V^$))+j[0]+3921069994&4294967295,N=V+(L<<20&4294967295|L>>>12),L=C+(V^$&(N^V))+j[5]+3593408605&4294967295,C=N+(L<<5&4294967295|L>>>27),L=$+(N^V&(C^N))+j[10]+38016083&4294967295,$=C+(L<<9&4294967295|L>>>23),L=V+(C^N&($^C))+j[15]+3634488961&4294967295,V=$+(L<<14&4294967295|L>>>18),L=N+($^C&(V^$))+j[4]+3889429448&4294967295,N=V+(L<<20&4294967295|L>>>12),L=C+(V^$&(N^V))+j[9]+568446438&4294967295,C=N+(L<<5&4294967295|L>>>27),L=$+(N^V&(C^N))+j[14]+3275163606&4294967295,$=C+(L<<9&4294967295|L>>>23),L=V+(C^N&($^C))+j[3]+4107603335&4294967295,V=$+(L<<14&4294967295|L>>>18),L=N+($^C&(V^$))+j[8]+1163531501&4294967295,N=V+(L<<20&4294967295|L>>>12),L=C+(V^$&(N^V))+j[13]+2850285829&4294967295,C=N+(L<<5&4294967295|L>>>27),L=$+(N^V&(C^N))+j[2]+4243563512&4294967295,$=C+(L<<9&4294967295|L>>>23),L=V+(C^N&($^C))+j[7]+1735328473&4294967295,V=$+(L<<14&4294967295|L>>>18),L=N+($^C&(V^$))+j[12]+2368359562&4294967295,N=V+(L<<20&4294967295|L>>>12),L=C+(N^V^$)+j[5]+4294588738&4294967295,C=N+(L<<4&4294967295|L>>>28),L=$+(C^N^V)+j[8]+2272392833&4294967295,$=C+(L<<11&4294967295|L>>>21),L=V+($^C^N)+j[11]+1839030562&4294967295,V=$+(L<<16&4294967295|L>>>16),L=N+(V^$^C)+j[14]+4259657740&4294967295,N=V+(L<<23&4294967295|L>>>9),L=C+(N^V^$)+j[1]+2763975236&4294967295,C=N+(L<<4&4294967295|L>>>28),L=$+(C^N^V)+j[4]+1272893353&4294967295,$=C+(L<<11&4294967295|L>>>21),L=V+($^C^N)+j[7]+4139469664&4294967295,V=$+(L<<16&4294967295|L>>>16),L=N+(V^$^C)+j[10]+3200236656&4294967295,N=V+(L<<23&4294967295|L>>>9),L=C+(N^V^$)+j[13]+681279174&4294967295,C=N+(L<<4&4294967295|L>>>28),L=$+(C^N^V)+j[0]+3936430074&4294967295,$=C+(L<<11&4294967295|L>>>21),L=V+($^C^N)+j[3]+3572445317&4294967295,V=$+(L<<16&4294967295|L>>>16),L=N+(V^$^C)+j[6]+76029189&4294967295,N=V+(L<<23&4294967295|L>>>9),L=C+(N^V^$)+j[9]+3654602809&4294967295,C=N+(L<<4&4294967295|L>>>28),L=$+(C^N^V)+j[12]+3873151461&4294967295,$=C+(L<<11&4294967295|L>>>21),L=V+($^C^N)+j[15]+530742520&4294967295,V=$+(L<<16&4294967295|L>>>16),L=N+(V^$^C)+j[2]+3299628645&4294967295,N=V+(L<<23&4294967295|L>>>9),L=C+(V^(N|~$))+j[0]+4096336452&4294967295,C=N+(L<<6&4294967295|L>>>26),L=$+(N^(C|~V))+j[7]+1126891415&4294967295,$=C+(L<<10&4294967295|L>>>22),L=V+(C^($|~N))+j[14]+2878612391&4294967295,V=$+(L<<15&4294967295|L>>>17),L=N+($^(V|~C))+j[5]+4237533241&4294967295,N=V+(L<<21&4294967295|L>>>11),L=C+(V^(N|~$))+j[12]+1700485571&4294967295,C=N+(L<<6&4294967295|L>>>26),L=$+(N^(C|~V))+j[3]+2399980690&4294967295,$=C+(L<<10&4294967295|L>>>22),L=V+(C^($|~N))+j[10]+4293915773&4294967295,V=$+(L<<15&4294967295|L>>>17),L=N+($^(V|~C))+j[1]+2240044497&4294967295,N=V+(L<<21&4294967295|L>>>11),L=C+(V^(N|~$))+j[8]+1873313359&4294967295,C=N+(L<<6&4294967295|L>>>26),L=$+(N^(C|~V))+j[15]+4264355552&4294967295,$=C+(L<<10&4294967295|L>>>22),L=V+(C^($|~N))+j[6]+2734768916&4294967295,V=$+(L<<15&4294967295|L>>>17),L=N+($^(V|~C))+j[13]+1309151649&4294967295,N=V+(L<<21&4294967295|L>>>11),L=C+(V^(N|~$))+j[4]+4149444226&4294967295,C=N+(L<<6&4294967295|L>>>26),L=$+(N^(C|~V))+j[11]+3174756917&4294967295,$=C+(L<<10&4294967295|L>>>22),L=V+(C^($|~N))+j[2]+718787259&4294967295,V=$+(L<<15&4294967295|L>>>17),L=N+($^(V|~C))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(V+(L<<21&4294967295|L>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+$&4294967295}r.prototype.v=function(D,C){C===void 0&&(C=D.length);const N=C-this.blockSize,j=this.C;let V=this.h,$=0;for(;$<C;){if(V==0)for(;$<=N;)s(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<C;)if(j[V++]=D.charCodeAt($++),V==this.blockSize){s(this,j),V=0;break}}else for(;$<C;)if(j[V++]=D[$++],V==this.blockSize){s(this,j),V=0;break}}this.h=V,this.o+=C},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)D[C++]=this.g[N]>>>j&255;return D};function i(D,C){var N=u;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=C(D)}function a(D,C){this.h=C;const N=[];let j=!0;for(let V=D.length-1;V>=0;V--){const $=D[V]|0;j&&$==C||(N[V]=$,j=!1)}this.g=N}var u={};function c(D){return-128<=D&&D<128?i(D,function(C){return new a([C|0],C<0?-1:0)}):new a([D|0],D<0?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return g;if(D<0)return _(h(-D));const C=[];let N=1;for(let j=0;D>=N;j++)C[j]=D/N|0,N*=4294967296;return new a(C,0)}function m(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return _(m(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=h(Math.pow(C,8));let j=g;for(let $=0;$<D.length;$+=8){var V=Math.min(8,D.length-$);const L=parseInt(D.substring($,$+V),C);V<8?(V=h(Math.pow(C,V)),j=j.j(V).add(h(L))):(j=j.j(N),j=j.add(h(L)))}return j}var g=c(0),v=c(1),E=c(16777216);t=a.prototype,t.m=function(){if(T(this))return-_(this).m();let D=0,C=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);D+=(j>=0?j:4294967296+j)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(T(this))return"-"+_(this).toString(D);const C=h(Math.pow(D,6));var N=this;let j="";for(;;){const V=z(N,C).g;N=R(N,V.j(C));let $=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=V,I(N))return $+j;for(;$.length<6;)$="0"+$;j=$+j}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function T(D){return D.h==-1}t.l=function(D){return D=R(this,D),T(D)?-1:I(D)?0:1};function _(D){const C=D.g.length,N=[];for(let j=0;j<C;j++)N[j]=~D.g[j];return new a(N,~D.h).add(v)}t.abs=function(){return T(this)?_(this):this},t.add=function(D){const C=Math.max(this.g.length,D.g.length),N=[];let j=0;for(let V=0;V<=C;V++){let $=j+(this.i(V)&65535)+(D.i(V)&65535),L=($>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);j=L>>>16,$&=65535,L&=65535,N[V]=L<<16|$}return new a(N,N[N.length-1]&-2147483648?-1:0)};function R(D,C){return D.add(_(C))}t.j=function(D){if(I(this)||I(D))return g;if(T(this))return T(D)?_(this).j(_(D)):_(_(this).j(D));if(T(D))return _(this.j(_(D)));if(this.l(E)<0&&D.l(E)<0)return h(this.m()*D.m());const C=this.g.length+D.g.length,N=[];for(var j=0;j<2*C;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let V=0;V<D.g.length;V++){const $=this.i(j)>>>16,L=this.i(j)&65535,ke=D.i(V)>>>16,Pe=D.i(V)&65535;N[2*j+2*V]+=L*Pe,P(N,2*j+2*V),N[2*j+2*V+1]+=$*Pe,P(N,2*j+2*V+1),N[2*j+2*V+1]+=L*ke,P(N,2*j+2*V+1),N[2*j+2*V+2]+=$*ke,P(N,2*j+2*V+2)}for(D=0;D<C;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=C;D<2*C;D++)N[D]=0;return new a(N,0)};function P(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function M(D,C){this.g=D,this.h=C}function z(D,C){if(I(C))throw Error("division by zero");if(I(D))return new M(g,g);if(T(D))return C=z(_(D),C),new M(_(C.g),_(C.h));if(T(C))return C=z(D,_(C)),new M(_(C.g),C.h);if(D.g.length>30){if(T(D)||T(C))throw Error("slowDivide_ only works with positive integers.");for(var N=v,j=C;j.l(D)<=0;)N=U(N),j=U(j);var V=H(N,1),$=H(j,1);for(j=H(j,2),N=H(N,2);!I(j);){var L=$.add(j);L.l(D)<=0&&(V=V.add(N),$=L),j=H(j,1),N=H(N,1)}return C=R(D,V.j(C)),new M(V,C)}for(V=g;D.l(C)>=0;){for(N=Math.max(1,Math.floor(D.m()/C.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),$=h(N),L=$.j(C);T(L)||L.l(D)>0;)N-=j,$=h(N),L=$.j(C);I($)&&($=v),V=V.add($),D=R(D,L)}return new M(V,D)}t.B=function(D){return z(this,D).h},t.and=function(D){const C=Math.max(this.g.length,D.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)&D.i(j);return new a(N,this.h&D.h)},t.or=function(D){const C=Math.max(this.g.length,D.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)|D.i(j);return new a(N,this.h|D.h)},t.xor=function(D){const C=Math.max(this.g.length,D.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)^D.i(j);return new a(N,this.h^D.h)};function U(D){const C=D.g.length+1,N=[];for(let j=0;j<C;j++)N[j]=D.i(j)<<1|D.i(j-1)>>>31;return new a(N,D.h)}function H(D,C){const N=C>>5;C%=32;const j=D.g.length-N,V=[];for(let $=0;$<j;$++)V[$]=C>0?D.i($+N)>>>C|D.i($+N+1)<<32-C:D.i($+N);return new a(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YA=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=m,Go=a}).apply(typeof OT<"u"?OT:typeof self<"u"?self:typeof window<"u"?window:{});var Jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XA,ah,JA,Am,Fw,ZA,eR,tR;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jp=="object"&&Jp];for(var b=0;b<f.length;++b){var k=f[b];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var k=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var X=f[O];if(!(X in k))break e;k=k[X]}f=f[f.length-1],O=k[f],b=b(O),b!=O&&b!=null&&e(k,f,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(b){var k=[],O;for(O in b)Object.prototype.hasOwnProperty.call(b,O)&&k.push([O,b[O]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function u(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function c(f,b,k){return f.call.apply(f.bind,arguments)}function h(f,b,k){return h=c,h.apply(null,arguments)}function m(f,b){var k=Array.prototype.slice.call(arguments,1);return function(){var O=k.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function g(f,b){function k(){}k.prototype=b.prototype,f.Z=b.prototype,f.prototype=new k,f.prototype.constructor=f,f.Ob=function(O,X,ee){for(var de=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)de[Ue-2]=arguments[Ue];return b.prototype[X].apply(O,de)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function E(f){const b=f.length;if(b>0){const k=Array(b);for(let O=0;O<b;O++)k[O]=f[O];return k}return[]}function I(f,b){for(let O=1;O<arguments.length;O++){const X=arguments[O];var k=typeof X;if(k=k!="object"?k:X?Array.isArray(X)?"array":k:"null",k=="array"||k=="object"&&typeof X.length=="number"){k=f.length||0;const ee=X.length||0;f.length=k+ee;for(let de=0;de<ee;de++)f[k+de]=X[de]}else f.push(X)}}class T{constructor(b,k){this.i=b,this.j=k,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function _(f){a.setTimeout(()=>{throw f},0)}function R(){var f=D;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class P{constructor(){this.h=this.g=null}add(b,k){const O=M.get();O.set(b,k),this.h?this.h.next=O:this.g=O,this.h=O}}var M=new T(()=>new z,f=>f.reset());class z{constructor(){this.next=this.g=this.h=null}set(b,k){this.h=b,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let U,H=!1,D=new P,C=()=>{const f=Promise.resolve(void 0);U=()=>{f.then(N)}};function N(){for(var f;f=R();){try{f.h.call(f.g)}catch(k){_(k)}var b=M;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}H=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};a.addEventListener("test",k,b),a.removeEventListener("test",k,b)}catch{}return f})();function L(f){return/^[\s\xa0]*$/.test(f)}function ke(f,b){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}g(ke,V),ke.prototype.init=function(f,b){const k=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(k=="mouseover"?b=f.fromElement:k=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),ye=0;function ve(f,b,k,O,X){this.listener=f,this.proxy=null,this.src=b,this.type=k,this.capture=!!O,this.ha=X,this.key=++ye,this.da=this.fa=!1}function W(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,b,k){for(const O in f)b.call(k,f[O],O,f)}function oe(f,b){for(const k in f)b.call(void 0,f[k],k,f)}function K(f){const b={};for(const k in f)b[k]=f[k];return b}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(f,b){let k,O;for(let X=1;X<arguments.length;X++){O=arguments[X];for(k in O)f[k]=O[k];for(let ee=0;ee<re.length;ee++)k=re[ee],Object.prototype.hasOwnProperty.call(O,k)&&(f[k]=O[k])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,b,k,O,X){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const de=Be(f,b,O,X);return de>-1?(b=f[de],k||(b.fa=!1)):(b=new ve(b,this.src,ee,!!O,X),b.fa=k,f.push(b)),b};function De(f,b){const k=b.type;if(k in f.g){var O=f.g[k],X=Array.prototype.indexOf.call(O,b,void 0),ee;(ee=X>=0)&&Array.prototype.splice.call(O,X,1),ee&&(W(b),f.g[k].length==0&&(delete f.g[k],f.h--))}}function Be(f,b,k,O){for(let X=0;X<f.length;++X){const ee=f[X];if(!ee.da&&ee.listener==b&&ee.capture==!!k&&ee.ha==O)return X}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),$e={};function ze(f,b,k,O,X){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)ze(f,b[ee],k,O,X);return null}return k=ca(k),f&&f[Pe]?f.J(b,k,u(O)?!!O.capture:!1,X):pt(f,b,k,!1,O,X)}function pt(f,b,k,O,X,ee){if(!b)throw Error("Invalid event type");const de=u(X)?!!X.capture:!!X;let Ue=Wi(f);if(Ue||(f[Ce]=Ue=new me(f)),k=Ue.add(b,k,O,de,ee),k.proxy)return k;if(O=br(),k.proxy=O,O.src=f,O.listener=k,f.addEventListener)$||(X=de),X===void 0&&(X=!1),f.addEventListener(b.toString(),O,X);else if(f.attachEvent)f.attachEvent(Ki(b.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return k}function br(){function f(k){return b.call(f.src,f.listener,k)}const b=zl;return f}function xr(f,b,k,O,X){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)xr(f,b[ee],k,O,X);else O=u(O)?!!O.capture:!!O,k=ca(k),f&&f[Pe]?(f=f.i,ee=String(b).toString(),ee in f.g&&(b=f.g[ee],k=Be(b,k,O,X),k>-1&&(W(b[k]),Array.prototype.splice.call(b,k,1),b.length==0&&(delete f.g[ee],f.h--)))):f&&(f=Wi(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Be(b,k,O,X)),(k=f>-1?b[f]:null)&&$n(k))}function $n(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Pe])De(b.i,f);else{var k=f.type,O=f.proxy;b.removeEventListener?b.removeEventListener(k,O,f.capture):b.detachEvent?b.detachEvent(Ki(k),O):b.addListener&&b.removeListener&&b.removeListener(O),(k=Wi(b))?(De(k,f),k.h==0&&(k.src=null,b[Ce]=null)):W(f)}}}function Ki(f){return f in $e?$e[f]:$e[f]="on"+f}function zl(f,b){if(f.da)f=!0;else{b=new ke(b,this);const k=f.listener,O=f.ha||f.src;f.fa&&$n(f),f=k.call(O,b)}return f}function Wi(f){return f=f[Ce],f instanceof me?f:null}var ni="__closure_events_fn_"+(Math.random()*1e9>>>0);function ca(f){return typeof f=="function"?f:(f[ni]||(f[ni]=function(b){return f.handleEvent(b)}),f[ni])}function mt(){j.call(this),this.i=new me(this),this.M=this,this.G=null}g(mt,j),mt.prototype[Pe]=!0,mt.prototype.removeEventListener=function(f,b,k,O){xr(this,f,b,k,O)};function Bt(f,b){var k,O=f.G;if(O)for(k=[];O;O=O.G)k.push(O);if(f=f.M,O=b.type||b,typeof b=="string")b=new V(b,f);else if(b instanceof V)b.target=b.target||f;else{var X=b;b=new V(O,f),pe(b,X)}X=!0;let ee,de;if(k)for(de=k.length-1;de>=0;de--)ee=b.g=k[de],X=qr(ee,O,!0,b)&&X;if(ee=b.g=f,X=qr(ee,O,!0,b)&&X,X=qr(ee,O,!1,b)&&X,k)for(de=0;de<k.length;de++)ee=b.g=k[de],X=qr(ee,O,!1,b)&&X}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const k=f.g[b];for(let O=0;O<k.length;O++)W(k[O]);delete f.g[b],f.h--}}this.G=null},mt.prototype.J=function(f,b,k,O){return this.i.add(String(f),b,!1,k,O)},mt.prototype.K=function(f,b,k,O){return this.i.add(String(f),b,!0,k,O)};function qr(f,b,k,O){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let X=!0;for(let ee=0;ee<b.length;++ee){const de=b[ee];if(de&&!de.da&&de.capture==k){const Ue=de.listener,Ut=de.ha||de.src;de.fa&&De(f.i,de),X=Ue.call(Ut,O)!==!1&&X}}return X&&!O.defaultPrevented}function $c(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:a.setTimeout(f,b||0)}function qc(f){f.g=$c(()=>{f.g=null,f.i&&(f.i=!1,qc(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class jf extends j{constructor(b,k){super(),this.m=b,this.l=k,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:qc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qi(f){j.call(this),this.h=f,this.g={}}g(Qi,j);var Gc=[];function Bl(f){ne(f.g,function(b,k){this.g.hasOwnProperty(k)&&$n(b)},f),f.g={}}Qi.prototype.N=function(){Qi.Z.N.call(this),Bl(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yi=a.JSON.stringify,Lf=a.JSON.parse,da=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Xi(){}function Ff(){}var Ji={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ul(){V.call(this,"d")}g(Ul,V);function Hc(){V.call(this,"c")}g(Hc,V);var Gr={},$l=null;function Zi(){return $l=$l||new mt}Gr.Ia="serverreachability";function ql(f){V.call(this,Gr.Ia,f)}g(ql,V);function ri(f){const b=Zi();Bt(b,new ql(b))}Gr.STAT_EVENT="statevent";function si(f,b){V.call(this,Gr.STAT_EVENT,f),this.stat=b}g(si,V);function Rt(f){const b=Zi();Bt(b,new si(b,f))}Gr.Ja="timingevent";function Kc(f,b){V.call(this,Gr.Ja,f),this.size=b}g(Kc,V);function eo(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},b)}function to(){this.g=!0}to.prototype.ua=function(){this.g=!1};function Vf(f,b,k,O,X,ee){f.info(function(){if(f.g)if(ee){var de="",Ue=ee.split("&");for(let dt=0;dt<Ue.length;dt++){var Ut=Ue[dt].split("=");if(Ut.length>1){const Wt=Ut[0];Ut=Ut[1];const lr=Wt.split("_");de=lr.length>=2&&lr[1]=="type"?de+(Wt+"="+Ut+"&"):de+(Wt+"=redacted&")}}}else de=null;else de=ee;return"XMLHTTP REQ ("+O+") [attempt "+X+"]: "+b+`
`+k+`
`+de})}function zf(f,b,k,O,X,ee,de){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+X+"]: "+b+`
`+k+`
`+ee+" "+de})}function fs(f,b,k,O){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+ha(f,k)+(O?" "+O:"")})}function Bf(f,b){f.info(function(){return"TIMEOUT: "+b})}to.prototype.info=function(){};function ha(f,b){if(!f.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var k=ee[f];if(!(k.length<2)){var O=k[1];if(Array.isArray(O)&&!(O.length<1)){var X=O[0];if(X!="noop"&&X!="stop"&&X!="close")for(let de=1;de<O.length;de++)O[de]=""}}}}return Yi(ee)}catch{return b}}var no={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uf;function ii(){}g(ii,Xi),ii.prototype.g=function(){return new XMLHttpRequest},Uf=new ii;function ps(f){return encodeURIComponent(String(f))}function Gl(f){var b=1;f=f.split(":");const k=[];for(;b>0&&f.length;)k.push(f.shift()),b--;return f.length&&k.push(f.join(":")),k}function Sr(f,b,k,O){this.j=f,this.i=b,this.l=k,this.S=O||1,this.V=new Qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $f}function $f(){this.i=null,this.g="",this.h=!1}var qf={},Wc={};function Hr(f,b,k){f.M=1,f.A=ai(Er(b)),f.u=k,f.R=!0,Qc(f,null)}function Qc(f,b){f.F=Date.now(),fa(f),f.B=Er(f.A);var k=f.B,O=f.S;Array.isArray(O)||(O=[String(O)]),id(k.i,"t",O),f.C=0,k=f.j.L,f.h=new $f,f.g=ep(f.j,k?b:null,!f.u),f.P>0&&(f.O=new jf(h(f.Y,f,f.g),f.P)),b=f.V,k=f.g,O=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(Gc[0]=X.toString()),X=Gc);for(let ee=0;ee<X.length;ee++){const de=ze(k,X[ee],O||b.handleEvent,!1,b.h||b);if(!de)break;b.g[de.key]=de}b=f.J?K(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),ri(),Vf(f.i,f.v,f.B,f.l,f.S,f.u)}Sr.prototype.ba=function(f){f=f.target;const b=this.O;b&&xs(f)==3?b.j():this.Y(f)},Sr.prototype.Y=function(f){try{if(f==this.g)e:{const Ue=xs(this.g),Ut=this.g.ya(),dt=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||Jf(this.g)))){this.K||Ue!=4||Ut==7||(Ut==8||dt<=0?ri(3):ri(2)),Hl(this);var b=this.g.ca();this.X=b;var k=Gf(this);if(this.o=b==200,zf(this.i,this.v,this.B,this.l,this.S,Ue,b),this.o){if(this.U&&!this.L){t:{if(this.g){var O,X=this.g;if((O=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(O)){var ee=O;break t}}ee=null}if(f=ee)fs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gt(this,f);else{this.o=!1,this.m=3,Rt(12),oi(this),pa(this);break e}}if(this.R){f=!0;let Wt;for(;!this.K&&this.C<k.length;)if(Wt=Kf(this,k),Wt==Wc){Ue==4&&(this.m=4,Rt(14),f=!1),fs(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==qf){this.m=4,Rt(15),fs(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else fs(this.i,this.l,Wt,null),gt(this,Wt);if(Hf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||k.length!=0||this.h.h||(this.m=1,Rt(16),f=!1),this.o=this.o&&f,!f)fs(this.i,this.l,k,"[Invalid Chunked Response]"),oi(this),pa(this);else if(k.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Ea(de),de.P=!0,Rt(11))}}else fs(this.i,this.l,k,null),gt(this,k);Ue==4&&oi(this),this.o&&!this.K&&(Ue==4?nu(this.j,this):(this.o=!1,fa(this)))}else ad(this.g),b==400&&k.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),oi(this),pa(this)}}}catch{}finally{}};function Gf(f){if(!Hf(f))return f.g.la();const b=Jf(f.g);if(b==="")return"";let k="";const O=b.length,X=xs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return oi(f),pa(f),"";f.h.i=new a.TextDecoder}for(let ee=0;ee<O;ee++)f.h.h=!0,k+=f.h.i.decode(b[ee],{stream:!(X&&ee==O-1)});return b.length=0,f.h.g+=k,f.C=0,f.h.g}function Hf(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Kf(f,b){var k=f.C,O=b.indexOf(`
`,k);return O==-1?Wc:(k=Number(b.substring(k,O)),isNaN(k)?qf:(O+=1,O+k>b.length?Wc:(b=b.slice(O,O+k),f.C=O+k,b)))}Sr.prototype.cancel=function(){this.K=!0,oi(this)};function fa(f){f.T=Date.now()+f.H,Yc(f,f.H)}function Yc(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=eo(h(f.aa,f),b)}function Hl(f){f.D&&(a.clearTimeout(f.D),f.D=null)}Sr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Bf(this.i,this.B),this.M!=2&&(ri(),Rt(17)),oi(this),this.m=2,pa(this)):Yc(this,this.T-f)};function pa(f){f.j.I==0||f.K||nu(f.j,f)}function oi(f){Hl(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Bl(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function gt(f,b){try{var k=f.j;if(k.I!=0&&(k.g==f||Jc(k.h,f))){if(!f.L&&Jc(k.h,f)&&k.I==3){try{var O=k.Ba.g.parse(b)}catch{O=null}if(Array.isArray(O)&&O.length==3){var X=O;if(X[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<f.F)tu(k),or(k);else break e;ks(k),Rt(18)}}else k.xa=X[1],0<k.xa-k.K&&X[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=eo(h(k.Va,k),6e3));ma(k.h)<=1&&k.ta&&(k.ta=void 0)}else ar(k,11)}else if((f.L||k.g==f)&&tu(k),!L(b))for(X=k.Ba.g.parse(b),b=0;b<X.length;b++){let dt=X[b];const Wt=dt[0];if(!(Wt<=k.K))if(k.K=Wt,dt=dt[1],k.I==2)if(dt[0]=="c"){k.M=dt[1],k.ba=dt[2];const lr=dt[3];lr!=null&&(k.ka=lr,k.j.info("VER="+k.ka));const co=dt[4];co!=null&&(k.za=co,k.j.info("SVER="+k.za));const Ts=dt[5];Ts!=null&&typeof Ts=="number"&&Ts>0&&(O=1.5*Ts,k.O=O,k.j.info("backChannelRequestTimeoutMs_="+O)),O=k;const _s=f.g;if(_s){const iu=_s.g?_s.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(iu){var ee=O.h;ee.g||iu.indexOf("spdy")==-1&&iu.indexOf("quic")==-1&&iu.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Wl(ee,ee.h),ee.h=null))}if(O.G){const cd=_s.g?_s.g.getResponseHeader("X-HTTP-Session-Id"):null;cd&&(O.wa=cd,it(O.J,O.G,cd))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-f.F,k.j.info("Handshake RTT: "+k.T+"ms")),O=k;var de=f;if(O.na=ud(O,O.L?O.ba:null,O.W),de.L){ga(O.h,de);var Ue=de,Ut=O.O;Ut&&(Ue.H=Ut),Ue.D&&(Hl(Ue),fa(Ue)),O.g=de}else xn(O);k.i.length>0&&di(k)}else dt[0]!="stop"&&dt[0]!="close"||ar(k,7);else k.I==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?ar(k,7):Zl(k):dt[0]!="noop"&&k.l&&k.l.qa(dt),k.A=0)}}ri(4)}catch{}}var Xy=class{constructor(f,b){this.g=f,this.map=b}};function Kl(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ma(f){return f.h?1:f.g?f.g.size:0}function Jc(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Wl(f,b){f.g?f.g.add(b):f.h=b}function ga(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Kl.prototype.cancel=function(){if(this.i=rr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function rr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const k of f.g.values())b=b.concat(k.G);return b}return E(f.i)}var Wf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sr(f,b){if(f){f=f.split("&");for(let k=0;k<f.length;k++){const O=f[k].indexOf("=");let X,ee=null;O>=0?(X=f[k].substring(0,O),ee=f[k].substring(O+1)):X=f[k],b(X,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function ms(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof ms?(this.l=f.l,ya(this,f.j),this.o=f.o,this.g=f.g,gs(this,f.u),this.h=f.h,so(this,od(f.i)),this.m=f.m):f&&(b=String(f).match(Wf))?(this.l=!1,ya(this,b[1]||"",!0),this.o=va(b[2]||""),this.g=va(b[3]||"",!0),gs(this,b[4]),this.h=va(b[5]||"",!0),so(this,b[6]||"",!0),this.m=va(b[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}ms.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(wa(b,ed,!0),":");var k=this.g;return(k||b=="file")&&(f.push("//"),(b=this.o)&&f.push(wa(b,ed,!0),"@"),f.push(ps(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&f.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(wa(k,k.charAt(0)=="/"?ba:td,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",wa(k,nd)),f.join("")},ms.prototype.resolve=function(f){const b=Er(this);let k=!!f.j;k?ya(b,f.j):k=!!f.o,k?b.o=f.o:k=!!f.g,k?b.g=f.g:k=f.u!=null;var O=f.h;if(k)gs(b,f.u);else if(k=!!f.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var X=b.h.lastIndexOf("/");X!=-1&&(O=b.h.slice(0,X+1)+O)}if(X=O,X==".."||X==".")O="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){O=X.lastIndexOf("/",0)==0,X=X.split("/");const ee=[];for(let de=0;de<X.length;){const Ue=X[de++];Ue=="."?O&&de==X.length&&ee.push(""):Ue==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),O&&de==X.length&&ee.push("")):(ee.push(Ue),O=!0)}O=ee.join("/")}else O=X}return k?b.h=O:k=f.i.toString()!=="",k?so(b,od(f.i)):k=!!f.m,k&&(b.m=f.m),b};function Er(f){return new ms(f)}function ya(f,b,k){f.j=k?va(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function gs(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function so(f,b,k){b instanceof Qe?(f.i=b,Yl(f.i,f.l)):(k||(b=wa(b,Jy)),f.i=new Qe(b,f.l))}function it(f,b,k){f.i.set(b,k)}function ai(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function va(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function wa(f,b,k){return typeof f=="string"?(f=encodeURI(f).replace(b,Zc),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Zc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ed=/[#\/\?@]/g,td=/[#\?:]/g,ba=/[#\?]/g,Jy=/[#\?@]/g,nd=/#/g;function Qe(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function ys(f){f.g||(f.g=new Map,f.h=0,f.i&&sr(f.i,function(b,k){f.add(decodeURIComponent(b.replace(/\+/g," ")),k)}))}t=Qe.prototype,t.add=function(f,b){ys(this),this.i=null,f=vs(this,f);let k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(b),this.h+=1,this};function rd(f,b){ys(f),b=vs(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Ql(f,b){return ys(f),b=vs(f,b),f.g.has(b)}t.forEach=function(f,b){ys(this),this.g.forEach(function(k,O){k.forEach(function(X){f.call(b,X,O,this)},this)},this)};function sd(f,b){ys(f);let k=[];if(typeof b=="string")Ql(f,b)&&(k=k.concat(f.g.get(vs(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)k=k.concat(f[b]);return k}t.set=function(f,b){return ys(this),this.i=null,f=vs(this,f),Ql(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=sd(this,f),f.length>0?String(f[0]):b):b};function id(f,b,k){rd(f,b),k.length>0&&(f.i=null,f.g.set(vs(f,b),E(k)),f.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let O=0;O<b.length;O++){var k=b[O];const X=ps(k);k=sd(this,k);for(let ee=0;ee<k.length;ee++){let de=X;k[ee]!==""&&(de+="="+ps(k[ee])),f.push(de)}}return this.i=f.join("&")};function od(f){const b=new Qe;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function vs(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Yl(f,b){b&&!f.j&&(ys(f),f.i=null,f.g.forEach(function(k,O){const X=O.toLowerCase();O!=X&&(rd(this,O),id(this,X,k))},f)),f.j=b}function ws(f,b){const k=new to;if(a.Image){const O=new Image;O.onload=m(hn,k,"TestLoadImage: loaded",!0,b,O),O.onerror=m(hn,k,"TestLoadImage: error",!1,b,O),O.onabort=m(hn,k,"TestLoadImage: abort",!1,b,O),O.ontimeout=m(hn,k,"TestLoadImage: timeout",!1,b,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else b(!1)}function bs(f,b){const k=new to,O=new AbortController,X=setTimeout(()=>{O.abort(),hn(k,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:O.signal}).then(ee=>{clearTimeout(X),ee.ok?hn(k,"TestPingServer: ok",!0,b):hn(k,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),hn(k,"TestPingServer: error",!1,b)})}function hn(f,b,k,O,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),O(k)}catch{}}function xa(){this.g=new da}function li(f){this.i=f.Sb||null,this.h=f.ab||!1}g(li,Xi),li.prototype.g=function(){return new ir(this.i,this.h)};function ir(f,b){mt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(ir,mt),t=ir.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Kr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||a).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,io(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qf(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qf(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?io(this):Kr(this),this.readyState==3&&Qf(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,io(this))},t.Na=function(f){this.g&&(this.response=f,io(this))},t.ga=function(){this.g&&io(this)};function io(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Kr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var k=b.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=b.next();return f.join(`\r
`)};function Kr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Yf(f){let b="";return ne(f,function(k,O){b+=O,b+=":",b+=k,b+=`\r
`}),b}function Xl(f,b,k){e:{for(O in k){var O=!1;break e}O=!0}O||(k=Yf(k),typeof f=="string"?k!=null&&ps(k):it(f,b,k))}function ct(f){mt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ct,mt);var Xf=/^https?$/i,Zy=["POST","PUT"];t=ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,k,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uf.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ee){oo(this,ee);return}if(f=k||"",k=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var X in O)k.set(X,O[X]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ee of O.keys())k.set(ee,O.get(ee));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(k.keys()).find(ee=>ee.toLowerCase()=="content-type"),X=a.FormData&&f instanceof a.FormData,!(Array.prototype.indexOf.call(Zy,b,void 0)>=0)||O||X||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,de]of k)this.g.setRequestHeader(ee,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){oo(this,ee)}};function oo(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,ao(f),ci(f)}function ao(f){f.A||(f.A=!0,Bt(f,"complete"),Bt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Bt(this,"complete"),Bt(this,"abort"),ci(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ci(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ui(this):this.Xa())},t.Xa=function(){ui(this)};function ui(f){if(f.h&&typeof i<"u"){if(f.v&&xs(f)==4)setTimeout(f.Ca.bind(f),0);else if(Bt(f,"readystatechange"),xs(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var k;if(!(k=b)){var O;if(O=ee===0){let de=String(f.D).match(Wf)[1]||null;!de&&a.self&&a.self.location&&(de=a.self.location.protocol.slice(0,-1)),O=!Xf.test(de?de.toLowerCase():"")}k=O}if(k)Bt(f,"complete"),Bt(f,"success");else{f.o=6;try{var X=xs(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",ao(f)}}finally{ci(f)}}}}function ci(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const k=f.g;f.g=null,b||Bt(f,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xs(f){return f.g?f.g.readyState:0}t.ca=function(){try{return xs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Lf(b)}};function Jf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ad(f){const b={};f=(f.g&&xs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(L(f[O]))continue;var k=Gl(f[O]);const X=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ee=b[X]||[];b[X]=ee,ee.push(k)}oe(b,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(f,b,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||b}function Jl(f){this.za=0,this.i=[],this.j=new to,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ss("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ss("baseRetryDelayMs",5e3,f),this.Za=Ss("retryDelaySeedMs",1e4,f),this.Ta=Ss("forwardChannelMaxRetries",2,f),this.va=Ss("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Kl(f&&f.concurrentRequestLimit),this.Ba=new xa,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Jl.prototype,t.ka=8,t.I=1,t.connect=function(f,b,k,O){Rt(0),this.W=f,this.H=b||{},k&&O!==void 0&&(this.H.OSID=k,this.H.OAID=O),this.F=this.X,this.J=ud(this,null,this.W),di(this)};function Zl(f){if(eu(f),f.I==3){var b=f.V++,k=Er(f.J);if(it(k,"SID",f.M),it(k,"RID",b),it(k,"TYPE","terminate"),Es(f,k),b=new Sr(f,f.j,b),b.M=2,b.A=ai(Er(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(b.A.toString(),"")}catch{}!k&&a.Image&&(new Image().src=b.A,k=!0),k||(b.g=ep(b.j,null),b.g.ea(b.A)),b.F=Date.now(),fa(b)}ka(f)}function or(f){f.g&&(Ea(f),f.g.cancel(),f.g=null)}function eu(f){or(f),f.v&&(a.clearTimeout(f.v),f.v=null),tu(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&a.clearTimeout(f.m),f.m=null)}function di(f){if(!Xc(f.h)&&!f.m){f.m=!0;var b=f.Ea;U||C(),H||(U(),H=!0),D.add(b,f),f.D=0}}function Zf(f,b){return ma(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=eo(h(f.Ea,f,b),ru(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new Sr(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=K(ee),pe(ee,this.U)):ee=this.U),this.u!==null||this.R||(X.J=ee,ee=null),this.S)e:{for(var b=0,k=0;k<this.i.length;k++){t:{var O=this.i[k];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(b+=O,b>4096){b=k;break e}if(b===4096||k===this.i.length-1){b=k+1;break e}}b=1e3}else b=1e3;b=ld(this,X,b),k=Er(this.J),it(k,"RID",f),it(k,"CVER",22),this.G&&it(k,"X-HTTP-Session-Id",this.G),Es(this,k),ee&&(this.R?b="headers="+ps(Yf(ee))+"&"+b:this.u&&Xl(k,this.u,ee)),Wl(this.h,X),this.Ra&&it(k,"TYPE","init"),this.S?(it(k,"$req",b),it(k,"SID","null"),X.U=!0,Hr(X,k,null)):Hr(X,k,b),this.I=2}}else this.I==3&&(f?Sa(this,f):this.i.length==0||Xc(this.h)||Sa(this))};function Sa(f,b){var k;b?k=b.l:k=f.V++;const O=Er(f.J);it(O,"SID",f.M),it(O,"RID",k),it(O,"AID",f.K),Es(f,O),f.u&&f.o&&Xl(O,f.u,f.o),k=new Sr(f,f.j,k,f.D+1),f.u===null&&(k.J=f.o),b&&(f.i=b.G.concat(f.i)),b=ld(f,k,1e3),k.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Wl(f.h,k),Hr(k,O,b)}function Es(f,b){f.H&&ne(f.H,function(k,O){it(b,O,k)}),f.l&&ne({},function(k,O){it(b,O,k)})}function ld(f,b,k){k=Math.min(f.i.length,k);const O=f.l?h(f.l.Ka,f.l,f):null;e:{var X=f.i;let Ue=-1;for(;;){const Ut=["count="+k];Ue==-1?k>0?(Ue=X[0].g,Ut.push("ofs="+Ue)):Ue=0:Ut.push("ofs="+Ue);let dt=!0;for(let Wt=0;Wt<k;Wt++){var ee=X[Wt].g;const lr=X[Wt].map;if(ee-=Ue,ee<0)Ue=Math.max(0,X[Wt].g-100),dt=!1;else try{ee="req"+ee+"_"||"";try{var de=lr instanceof Map?lr:Object.entries(lr);for(const[co,Ts]of de){let _s=Ts;u(Ts)&&(_s=Yi(Ts)),Ut.push(ee+co+"="+encodeURIComponent(_s))}}catch(co){throw Ut.push(ee+"type="+encodeURIComponent("_badmap")),co}}catch{O&&O(lr)}}if(dt){de=Ut.join("&");break e}}de=void 0}return f=f.i.splice(0,k),b.G=f,de}function xn(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;U||C(),H||(U(),H=!0),D.add(b,f),f.A=0}}function ks(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=eo(h(f.Da,f),ru(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,lo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=eo(h(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),or(this),lo(this))};function Ea(f){f.B!=null&&(a.clearTimeout(f.B),f.B=null)}function lo(f){f.g=new Sr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Er(f.na);it(b,"RID","rpc"),it(b,"SID",f.M),it(b,"AID",f.K),it(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(b,"TO",f.ia),it(b,"TYPE","xmlhttp"),Es(f,b),f.u&&f.o&&Xl(b,f.u,f.o),f.O&&(f.g.H=f.O);var k=f.g;f=f.ba,k.M=1,k.A=ai(Er(b)),k.u=null,k.R=!0,Qc(k,f)}t.Va=function(){this.C!=null&&(this.C=null,or(this),ks(this),Rt(19))};function tu(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function nu(f,b){var k=null;if(f.g==b){tu(f),Ea(f),f.g=null;var O=2}else if(Jc(f.h,b))k=b.G,ga(f.h,b),O=1;else return;if(f.I!=0){if(b.o)if(O==1){k=b.u?b.u.length:0,b=Date.now()-b.F;var X=f.D;O=Zi(),Bt(O,new Kc(O,k)),di(f)}else xn(f);else if(X=b.m,X==3||X==0&&b.X>0||!(O==1&&Zf(f,b)||O==2&&ks(f)))switch(k&&k.length>0&&(b=f.h,b.i=b.i.concat(k)),X){case 1:ar(f,5);break;case 4:ar(f,10);break;case 3:ar(f,6);break;default:ar(f,2)}}}function ru(f,b){let k=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(k*=2),k*b}function ar(f,b){if(f.j.info("Error code "+b),b==2){var k=h(f.bb,f),O=f.Ua;const X=!O;O=new ms(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ya(O,"https"),ai(O),X?ws(O.toString(),k):bs(O.toString(),k)}else Rt(2);f.I=0,f.l&&f.l.pa(b),ka(f),eu(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function ka(f){if(f.I=0,f.ja=[],f.l){const b=rr(f.h);(b.length!=0||f.i.length!=0)&&(I(f.ja,b),I(f.ja,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.oa()}}function ud(f,b,k){var O=k instanceof ms?Er(k):new ms(k);if(O.g!="")b&&(O.g=b+"."+O.g),gs(O,O.u);else{var X=a.location;O=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;const ee=new ms(null);O&&ya(ee,O),b&&(ee.g=b),X&&gs(ee,X),k&&(ee.h=k),O=ee}return k=f.G,b=f.wa,k&&b&&it(O,k,b),it(O,"VER",f.ka),Es(f,O),O}function ep(f,b,k){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ct(new li({ab:k})):new ct(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tp(){}t=tp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function su(){}su.prototype.g=function(f,b){return new fn(f,b)};function fn(f,b){mt.call(this),this.g=new Jl(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!L(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new uo(this)}g(fn,mt),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Zl(this.g)},fn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.v&&(k={},k.__data__=Yi(f),f=k);b.i.push(new Xy(b.Ya++,f)),b.I==3&&di(b)},fn.prototype.N=function(){this.g.l=null,delete this.j,Zl(this.g),delete this.g,fn.Z.N.call(this)};function np(f){Ul.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const k in b){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}g(np,Ul);function rp(){Hc.call(this),this.status=1}g(rp,Hc);function uo(f){this.g=f}g(uo,tp),uo.prototype.ra=function(){Bt(this.g,"a")},uo.prototype.qa=function(f){Bt(this.g,new np(f))},uo.prototype.pa=function(f){Bt(this.g,new rp)},uo.prototype.oa=function(){Bt(this.g,"b")},su.prototype.createWebChannel=su.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,tR=function(){return new su},eR=function(){return Zi()},ZA=Gr,Fw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},no.NO_ERROR=0,no.TIMEOUT=8,no.HTTP_ERROR=6,Am=no,ro.COMPLETE="complete",JA=ro,Ff.EventType=Ji,Ji.OPEN="a",Ji.CLOSE="b",Ji.ERROR="c",Ji.MESSAGE="d",mt.prototype.listen=mt.prototype.J,ah=Ff,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,XA=ct}).apply(typeof Jp<"u"?Jp:typeof self<"u"?self:typeof window<"u"?window:{});const MT="@firebase/firestore",jT="4.9.2";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let vn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Ac="12.3.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vl=new Xg("@firebase/firestore");function Hu(){return vl.logLevel}function le(t,...e){if(vl.logLevel<=Ke.DEBUG){const n=e.map(bx);vl.debug(`Firestore (${Ac}): ${t}`,...n)}}function Mn(t,...e){if(vl.logLevel<=Ke.ERROR){const n=e.map(bx);vl.error(`Firestore (${Ac}): ${t}`,...n)}}function wl(t,...e){if(vl.logLevel<=Ke.WARN){const n=e.map(bx);vl.warn(`Firestore (${Ac}): ${t}`,...n)}}function bx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nR(t,r,n)}function nR(t,e,n){let r=`FIRESTORE (${Ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Mn(r),new Error(r)}function Ie(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||nR(e,s,r)}function Ve(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends $r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vn.UNAUTHENTICATED)))}shutdown(){}}class YF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class XF{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new zs,e.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},u=c=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new zs)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new rR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class JF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new JF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class LT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new LT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=tV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function Vw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return I0(s)===I0(i)?Fe(s,i):I0(s)?1:-1}return Fe(t.length,e.length)}const nV=55296,rV=57343;function I0(t){const e=t.charCodeAt(0);return e>=nV&&e<=rV}function dc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function sR(t){return t+"\0"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const FT="__name__";class Ds{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ds.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Ds.isNumericId(e),s=Ds.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ds.extractNumericId(e).compare(Ds.extractNumericId(n)):Vw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Go.fromString(e.substring(4,e.length-2))}}class ot extends Ds{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const sV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Ds{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return sV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FT}static keyField(){return new _t([FT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else u==="`"?(a=!a,s++):u!=="."||a?(r+=u,s++):(i(),s++)}if(i(),a)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class he{constructor(e){this.path=e}static fromPath(e){return new he(ot.fromString(e))}static fromName(e){return new he(ot.fromString(e).popFirst(5))}static empty(){return new he(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new ot(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iR(t,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iV(t,e,n,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VT(t){if(!he.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zT(t){if(he.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ry(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function Fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ry(t);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function oV(t,e){if(e<=0)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function hf(t,e){if(!oR(t))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const BT=-62135596800,UT=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*UT);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<BT)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UT}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hf(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-BT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Jt("string",rt._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new rt(0,0))}static max(){return new Ae(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Dh=-1;class dg{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function zw(t){return t.fields.find((e=>e.kind===2))}function Qa(t){return t.fields.filter((e=>e.kind!==2))}dg.UNKNOWN_ID=-1;class Rm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Oh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Oh(0,wr.min())}}function aV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new wr(s,he.empty(),e)}function aR(t){return new wr(t.readTime,t.key,Dh)}class wr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wr(Ae.min(),he.empty(),Dh)}static max(){return new wr(Ae.max(),he.empty(),Dh)}}function Sx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Ol(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==lR)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let s=0,i=0,a=!1;e.forEach((u=>{++s,u.next((()=>{++i,a&&i===s&&n()}),(c=>r(c)))})),a=!0,i===s&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((s=>s?Q.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,s)=>{const i=e.length,a=new Array(i);let u=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next((m=>{a[h]=m,++u,u===i&&r(a)}),(m=>s(m)))}}))}static doWhile(e,n){return new Q(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fr="SimpleDb";class sy{static open(e,n,r,s){try{return new sy(n,e.transaction(s,r))}catch(i){throw new gh(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new zs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new gh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=Ex(r.target.error);this.S.reject(new gh(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(fr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new uV(n)}}class Ho{static delete(e){return le(fr,"Removing database:",e),Za(eA().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Yg())return!1;if(Ho.F())return!0;const e=sn(),n=Ho.M(e),r=0<n&&n<10,s=cR(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Ho.M(sn())===12.2&&Mn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(fr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const a=i.target.result;n(a)},s.onblocked=()=>{r(new gh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new ce(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new ce(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new gh(e,a))},s.onupgradeneeded=i=>{le(fr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.N.k(a,s.transaction,i.oldVersion,this.version).next((()=>{le(fr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const u=sy.open(this.db,e,i?"readonly":"readwrite",r),c=s(u).next((h=>(u.C(),h))).catch((h=>(u.abort(h),Q.reject(h)))).toPromise();return c.catch((()=>{})),await u.D,c}catch(u){const c=u,h=c.name!=="FirebaseError"&&a<3;if(le(fr,"Transaction failed with error:",c.message,"Retrying:",h),this.close(),!h)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function cR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class lV{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Za(this.U.delete())}}class gh extends ce{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function aa(t){return t.name==="IndexedDbTransactionError"}class uV{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(le(fr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(le(fr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Za(r)}add(e){return le(fr,"ADD",this.store.name,e,e),Za(this.store.add(e))}get(e){return Za(this.store.get(e)).next((n=>(n===void 0&&(n=null),le(fr,"GET",this.store.name,e,n),n)))}delete(e){return le(fr,"DELETE",this.store.name,e),Za(this.store.delete(e))}count(){return le(fr,"COUNT",this.store.name),Za(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Q(((a,u)=>{i.onerror=c=>{u(c.target.error)},i.onsuccess=c=>{a(c.target.result)}}))}{const i=this.cursor(r),a=[];return this.H(i,((u,c)=>{a.push(c)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((s,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{s(a.target.result)}}))}Z(e,n){le(fr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,a,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new Q(((r,s)=>{n.onerror=i=>{const a=Ex(i.target.error);s(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next((u=>{u?a.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((s,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const u=a.target.result;if(!u)return void s();const c=new lV(u),h=n(u.primaryKey,u.value,c);if(h instanceof Q){const m=h.catch((g=>(c.done(),Q.reject(g))));r.push(m)}c.isDone?s():c.G===null?u.continue():u.continue(c.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Za(t){return new Q(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Ex(r.target.error);n(s)}}))}let $T=!1;function Ex(t){const e=Ho.M(sn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $T||($T=!0,setTimeout((()=>{throw r}),0)),r}}return t}const yh="IndexBackfiller";class cV{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(yh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();le(yh,`Documents written: ${n}`)}catch(n){aa(n)?le(yh,"Ignoring IndexedDB error during index backfill: ",n):await Ol(n)}await this.re(6e4)}))}}class dV{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return Q.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return le(yh,`Processing collection: ${a}`),this.oe(e,a,s).next((u=>{s-=u,r.add(a)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(s,i))).next((u=>(le(yh,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const a=aR(i);Sx(a,r)>0&&(r=a)})),new wr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jr.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ul=-1;function iy(t){return t==null}function Mh(t){return t===0&&1/t==-1/0}function hV(t){return typeof t=="number"&&Number.isInteger(t)&&!Mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hg="";function Nn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qT(e)),e=fV(t.get(n),e);return qT(e)}function fV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case hg:n+="";break;default:n+=i}}return n}function qT(t){return t+hg+""}function Ms(t){const e=t.length;if(Ie(e>=2,64408,{path:t}),e===2)return Ie(t.charAt(0)===hg&&t.charAt(1)==="",56145,{path:t}),ot.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const a=t.indexOf(hg,i);switch((a<0||a>n)&&Ee(50515,{path:t}),t.charAt(a+1)){case"":const u=t.substring(i,a);let c;s.length===0?c=u:(s+=u,c=s,s=""),r.push(c);break;case"":s+=t.substring(i,a),s+="\0";break;case"":s+=t.substring(i,a+1);break;default:Ee(61167,{path:t})}i=a+2}return new ot(r)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ya="remoteDocuments",ff="owner",_u="owner",jh="mutationQueues",pV="userId",ns="mutations",GT="batchId",rl="userMutationsIndex",HT=["userId","batchId"];/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Nm(t,e){return[t,Nn(e)]}function dR(t,e,n){return[t,Nn(e),n]}const mV={},hc="documentMutations",fg="remoteDocumentsV14",gV=["prefixPath","collectionGroup","readTime","documentId"],Pm="documentKeyIndex",yV=["prefixPath","collectionGroup","documentId"],hR="collectionGroupIndex",vV=["collectionGroup","readTime","prefixPath","documentId"],Lh="remoteDocumentGlobal",Bw="remoteDocumentGlobalKey",fc="targets",fR="queryTargetsIndex",wV=["canonicalId","targetId"],pc="targetDocuments",bV=["targetId","path"],kx="documentTargetsIndex",xV=["path","targetId"],pg="targetGlobalKey",cl="targetGlobal",Fh="collectionParents",SV=["collectionId","parent"],mc="clientMetadata",EV="clientId",oy="bundles",kV="bundleId",ay="namedQueries",TV="name",Tx="indexConfiguration",_V="indexId",Uw="collectionGroupIndex",IV="collectionGroup",vh="indexState",CV=["indexId","uid"],pR="sequenceNumberIndex",AV=["uid","sequenceNumber"],wh="indexEntries",RV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mR="documentKeyIndex",NV=["indexId","uid","orderedDocumentKey"],ly="documentOverlays",PV=["userId","collectionPath","documentId"],$w="collectionPathOverlayIndex",DV=["userId","collectionPath","largestBatchId"],gR="collectionGroupOverlayIndex",OV=["userId","collectionGroup","largestBatchId"],_x="globals",MV="name",yR=[jh,ns,hc,Ya,fc,ff,cl,pc,mc,Lh,Fh,oy,ay],jV=[...yR,ly],vR=[jh,ns,hc,fg,fc,ff,cl,pc,mc,Lh,Fh,oy,ay,ly],wR=vR,Ix=[...wR,Tx,vh,wh],LV=Ix,bR=[...Ix,_x],FV=bR;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qw extends uR{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function on(t,e){const n=Ve(t);return Ho.O(n.le,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function KT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Et{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zp(this.root,e,this.comparator,!0)}}class Zp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??wn.RED,this.left=s??wn.EMPTY,this.right=i??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new wn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return wn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(t,e,n,r,s){return this}insert(t,e,n){return new wn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ut{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WT(this.data.getIterator())}getIteratorFrom(e){return new WT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class WT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Iu(t){return t.hasNext()?t.getNext():void 0}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zn{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new ut(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new SR("Invalid base64 string: "+s):s}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const VV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=VV.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oi(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ER="server_timestamp",kR="__type__",TR="__previous_value__",_R="__local_write_time__";function Cx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[kR])==null?void 0:n.stringValue)===ER}function uy(t){const e=t.mapValue.fields[TR];return Cx(e)?uy(e):e}function Vh(t){const e=Di(t.mapValue.fields[_R].timestampValue);return new rt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zV{constructor(e,n,r,s,i,a,u,c,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=m}}const mg="(default)";class bl{constructor(e,n){this.projectId=e,this.database=n||mg}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===mg}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ax="__type__",IR="__max__",Uo={mapValue:{fields:{__type__:{stringValue:IR}}}},Rx="__vector__",gc="value",Dm={nullValue:"NULL_VALUE"};function Yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cx(t)?4:CR(t)?9007199254740991:cy(t)?10:11:Ee(28295,{value:t})}function Ks(t,e){if(t===e)return!0;const n=Yo(t);if(n!==Yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vh(t).isEqual(Vh(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Di(r.timestampValue),a=Di(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,s){return Oi(r.bytesValue).isEqual(Oi(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,s){return xt(r.geoPointValue.latitude)===xt(s.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(s.geoPointValue.longitude)})(t,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return xt(r.integerValue)===xt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=xt(r.doubleValue),a=xt(s.doubleValue);return i===a?Mh(i)===Mh(a):isNaN(i)&&isNaN(a)}return!1})(t,e);case 9:return dc(t.arrayValue.values||[],e.arrayValue.values||[],Ks);case 10:case 11:return(function(r,s){const i=r.mapValue.fields||{},a=s.mapValue.fields||{};if(KT(i)!==KT(a))return!1;for(const u in i)if(i.hasOwnProperty(u)&&(a[u]===void 0||!Ks(i[u],a[u])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function zh(t,e){return(t.values||[]).find((n=>Ks(n,e)))!==void 0}function Xo(t,e){if(t===e)return 0;const n=Yo(t),r=Yo(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(s,i){const a=xt(s.integerValue||s.doubleValue),u=xt(i.integerValue||i.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return QT(t.timestampValue,e.timestampValue);case 4:return QT(Vh(t),Vh(e));case 5:return Vw(t.stringValue,e.stringValue);case 6:return(function(s,i){const a=Oi(s),u=Oi(i);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,i){const a=s.split("/"),u=i.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=Fe(a[c],u[c]);if(h!==0)return h}return Fe(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,i){const a=Fe(xt(s.latitude),xt(i.latitude));return a!==0?a:Fe(xt(s.longitude),xt(i.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return YT(t.arrayValue,e.arrayValue);case 10:return(function(s,i){var a,u,c,h;const m=s.fields||{},g=i.fields||{},v=(a=m[gc])==null?void 0:a.arrayValue,E=(u=g[gc])==null?void 0:u.arrayValue,I=Fe(((c=v==null?void 0:v.values)==null?void 0:c.length)||0,((h=E==null?void 0:E.values)==null?void 0:h.length)||0);return I!==0?I:YT(v,E)})(t.mapValue,e.mapValue);case 11:return(function(s,i){if(s===Uo.mapValue&&i===Uo.mapValue)return 0;if(s===Uo.mapValue)return 1;if(i===Uo.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=i.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let m=0;m<u.length&&m<h.length;++m){const g=Vw(u[m],h[m]);if(g!==0)return g;const v=Xo(a[u[m]],c[h[m]]);if(v!==0)return v}return Fe(u.length,h.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function QT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Di(t),r=Di(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function YT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Xo(n[s],r[s]);if(i)return i}return Fe(n.length,r.length)}function yc(t){return Gw(t)}function Gw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(e){const n=Di(e);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(e){return Oi(e).toBase64()})(t.bytesValue):"referenceValue"in t?(function(e){return he.fromName(e).toString()})(t.referenceValue):"geoPointValue"in t?(function(e){return`geo(${e.latitude},${e.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(e){let n="[",r=!0;for(const s of e.values||[])r?r=!1:n+=",",n+=Gw(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(e){const n=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const i of n)s?s=!1:r+=",",r+=`${i}:${Gw(e.fields[i])}`;return r+"}"})(t.mapValue):Ee(61005,{value:t})}function Om(t){switch(Yo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uy(t);return e?16+Om(e):16;case 5:return 2*t.stringValue.length;case 6:return Oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,s)=>r+Om(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let r=0;return la(n.fields,((s,i)=>{r+=s.length+Om(i)})),r})(t.mapValue);default:throw Ee(13486,{value:t})}}function Bh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hw(t){return!!t&&"integerValue"in t}function Uh(t){return!!t&&"arrayValue"in t}function XT(t){return!!t&&"nullValue"in t}function JT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mm(t){return!!t&&"mapValue"in t}function cy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[Ax])==null?void 0:n.stringValue)===Rx}function bh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=bh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bh(t.arrayValue.values[n]);return e}return{...t}}function CR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===IR}const AR={mapValue:{fields:{[Ax]:{stringValue:Rx},[gc]:{arrayValue:{}}}}};function BV(t){return"nullValue"in t?Dm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Bh(bl.empty(),he.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?cy(t)?AR:{mapValue:{}}:Ee(35942,{value:t})}function UV(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Bh(bl.empty(),he.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?AR:"mapValue"in t?cy(t)?{mapValue:{}}:Uo:Ee(61959,{value:t})}function ZT(t,e){const n=Xo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function e_(t,e){const n=Xo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bh(n)}setAll(e){let n=_t.emptyPath(),r={},s=[];e.forEach(((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=u.popLast()}a?r[u.lastSegment()]=bh(a):s.push(u.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Mm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Mm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){la(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Cn(bh(this.value))}}function RR(t){const e=[];return la(t.fields,((n,r)=>{const s=new _t([n]);if(Mm(r)){const i=RR(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)})),new Zn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ot{constructor(e,n,r,s,i,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Ot(e,0,Ae.min(),Ae.min(),Ae.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ot(e,1,n,Ae.min(),r,s,0)}static newNoDocument(e,n){return new Ot(e,2,n,Ae.min(),Ae.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,Ae.min(),Ae.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vc{constructor(e,n){this.position=e,this.inclusive=n}}function t_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=he.comparator(he.fromName(a.referenceValue),n.key):r=Xo(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function n_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ks(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $h{constructor(e,n="asc"){this.field=e,this.dir=n}}function $V(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NR{}class We extends NR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qV(e,n,r):n==="array-contains"?new KV(e,r):n==="in"?new LR(e,r):n==="not-in"?new WV(e,r):n==="array-contains-any"?new QV(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GV(e,r):new HV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xo(n,this.value)):n!==null&&Yo(this.value)===Yo(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends NR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lt(e,n)}matches(e){return wc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wc(t){return t.op==="and"}function Kw(t){return t.op==="or"}function Nx(t){return PR(t)&&wc(t)}function PR(t){for(const e of t.filters)if(e instanceof lt)return!1;return!0}function Ww(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+yc(t.value);if(Nx(t))return t.filters.map((e=>Ww(e))).join(",");{const e=t.filters.map((n=>Ww(n))).join(",");return`${t.op}(${e})`}}function DR(t,e){return t instanceof We?(function(n,r){return r instanceof We&&n.op===r.op&&n.field.isEqual(r.field)&&Ks(n.value,r.value)})(t,e):t instanceof lt?(function(n,r){return r instanceof lt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((s,i,a)=>s&&DR(i,r.filters[a])),!0):!1})(t,e):void Ee(19439)}function OR(t,e){const n=t.filters.concat(e);return lt.create(n,t.op)}function MR(t){return t instanceof We?(function(e){return`${e.field.canonicalString()} ${e.op} ${yc(e.value)}`})(t):t instanceof lt?(function(e){return e.op.toString()+" {"+e.getFilters().map(MR).join(" ,")+"}"})(t):"Filter"}class qV extends We{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class GV extends We{constructor(e,n){super(e,"in",n),this.keys=jR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class HV extends We{constructor(e,n){super(e,"not-in",n),this.keys=jR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function jR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>he.fromName(r.referenceValue)))}class KV extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uh(n)&&zh(n.arrayValue,this.value)}}class LR extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zh(this.value.arrayValue,n)}}class WV extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zh(this.value.arrayValue,n)}}class QV extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>zh(this.value.arrayValue,r)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YV{constructor(e,n=null,r=[],s=[],i=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=u,this.Te=null}}function Qw(t,e=null,n=[],r=[],s=null,i=null,a=null){return new YV(t,e,n,r,s,i,a)}function xl(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ww(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),iy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yc(r))).join(",")),e.Te=n}return e.Te}function pf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$V(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n_(t.startAt,e.startAt)&&n_(t.endAt,e.endAt)}function gg(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function yg(t,e){return t.filters.filter((n=>n instanceof We&&n.field.isEqual(e)))}function r_(t,e,n){let r=Dm,s=!0;for(const i of yg(t,e)){let a=Dm,u=!0;switch(i.op){case"<":case"<=":a=BV(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,u=!1;break;case"!=":case"not-in":a=Dm}ZT({value:r,inclusive:s},{value:a,inclusive:u})<0&&(r=a,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];ZT({value:r,inclusive:s},{value:a,inclusive:n.inclusive})<0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}function s_(t,e,n){let r=Uo,s=!0;for(const i of yg(t,e)){let a=Uo,u=!0;switch(i.op){case">=":case">":a=UV(i.value),u=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,u=!1;break;case"!=":case"not-in":a=Uo}e_({value:r,inclusive:s},{value:a,inclusive:u})>0&&(r=a,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];e_({value:r,inclusive:s},{value:a,inclusive:n.inclusive})>0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rc{constructor(e,n=null,r=[],s=[],i=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XV(t,e,n,r,s,i,a,u){return new Rc(t,e,n,r,s,i,a,u)}function mf(t){return new Rc(t)}function i_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FR(t){return t.collectionGroup!==null}function xh(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let i=new ut(_t.comparator);return s.filters.forEach((a=>{a.getFlattenedFilters().forEach((u=>{u.isInequality()&&(i=i.add(u.field))}))})),i})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new $h(s,r))})),n.has(_t.keyField().canonicalString())||e.Ie.push(new $h(_t.keyField(),r))}return e.Ie}function Vr(t){const e=Ve(t);return e.Ee||(e.Ee=JV(e,xh(t))),e.Ee}function JV(t,e){if(t.limitType==="F")return Qw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new $h(s.field,i)}));const n=t.endAt?new vc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vc(t.startAt.position,t.startAt.inclusive):null;return Qw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yw(t,e){const n=t.filters.concat([e]);return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vg(t,e,n){return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dy(t,e){return pf(Vr(t),Vr(e))&&t.limitType===e.limitType}function VR(t){return`${xl(Vr(t))}|lt:${t.limitType}`}function Ku(t){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((r=>MR(r))).join(", ")}]`),iy(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((r=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(r))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yc(r))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yc(r))).join(",")),`Target(${n})`})(Vr(t))}; limitType=${t.limitType})`}function gf(t,e){return e.isFoundDocument()&&(function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):he.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,r){for(const s of xh(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0})(t,e)&&(function(n,r){return!(n.startAt&&!(function(s,i,a){const u=t_(s,i,a);return s.inclusive?u<=0:u<0})(n.startAt,xh(n),r)||n.endAt&&!(function(s,i,a){const u=t_(s,i,a);return s.inclusive?u>=0:u>0})(n.endAt,xh(n),r))})(t,e)}function ZV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zR(t){return(e,n)=>{let r=!1;for(const s of xh(t)){const i=e9(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function e9(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):(function(s,i,a){const u=i.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Xo(u,c):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:t.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $i{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return xR(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const t9=new Et(he.comparator);function gr(){return t9}const BR=new Et(he.comparator);function lh(...t){let e=BR;for(const n of t)e=e.insert(n.key,n);return e}function UR(t){let e=BR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function js(){return Sh()}function $R(){return Sh()}function Sh(){return new $i((t=>t.toString()),((t,e)=>t.isEqual(e)))}const n9=new Et(he.comparator),r9=new ut(he.comparator);function Ge(...t){let e=r9;for(const n of t)e=e.add(n);return e}const s9=new ut(Fe);function i9(){return s9}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Px(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function qR(t){return{integerValue:""+t}}function o9(t,e){return hV(e)?qR(e):Px(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hy{constructor(){this._=void 0}}function a9(t,e,n){return t instanceof bc?(function(r,s){const i={fields:{[kR]:{stringValue:ER},[_R]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Cx(s)&&(s=uy(s)),s&&(i.fields[TR]=s),{mapValue:i}})(n,e):t instanceof xc?HR(t,e):t instanceof Sc?KR(t,e):(function(r,s){const i=GR(r,s),a=o_(i)+o_(r.Ae);return Hw(i)&&Hw(r.Ae)?qR(a):Px(r.serializer,a)})(t,e)}function l9(t,e,n){return t instanceof xc?HR(t,e):t instanceof Sc?KR(t,e):n}function GR(t,e){return t instanceof qh?(function(n){return Hw(n)||(function(r){return!!r&&"doubleValue"in r})(n)})(e)?e:{integerValue:0}:null}class bc extends hy{}class xc extends hy{constructor(e){super(),this.elements=e}}function HR(t,e){const n=WR(e);for(const r of t.elements)n.some((s=>Ks(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Sc extends hy{constructor(e){super(),this.elements=e}}function KR(t,e){let n=WR(e);for(const r of t.elements)n=n.filter((s=>!Ks(s,r)));return{arrayValue:{values:n}}}class qh extends hy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function o_(t){return xt(t.integerValue||t.doubleValue)}function WR(t){return Uh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class QR{constructor(e,n){this.field=e,this.transform=n}}function u9(t,e){return t.field.isEqual(e.field)&&(function(n,r){return n instanceof xc&&r instanceof xc||n instanceof Sc&&r instanceof Sc?dc(n.elements,r.elements,Ks):n instanceof qh&&r instanceof qh?Ks(n.Ae,r.Ae):n instanceof bc&&r instanceof bc})(t.transform,e.transform)}class c9{constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let fy=class{};function YR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new py(t.key,An.none()):new Nc(t.key,t.data,An.none());{const n=t.data,r=Cn.empty();let s=new ut(_t.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new qi(t.key,r,new Zn(s.toArray()),An.none())}}function d9(t,e,n){t instanceof Nc?(function(r,s,i){const a=r.value.clone(),u=l_(r.fieldTransforms,s,i.transformResults);a.setAll(u),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()})(t,e,n):t instanceof qi?(function(r,s,i){if(!jm(r.precondition,s))return void s.convertToUnknownDocument(i.version);const a=l_(r.fieldTransforms,s,i.transformResults),u=s.data;u.setAll(XR(r)),u.setAll(a),s.convertToFoundDocument(i.version,u).setHasCommittedMutations()})(t,e,n):(function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()})(0,e,n)}function Eh(t,e,n,r){return t instanceof Nc?(function(s,i,a,u){if(!jm(s.precondition,i))return a;const c=s.value.clone(),h=u_(s.fieldTransforms,u,i);return c.setAll(h),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof qi?(function(s,i,a,u){if(!jm(s.precondition,i))return a;const c=u_(s.fieldTransforms,u,i),h=i.data;return h.setAll(XR(s)),h.setAll(c),i.convertToFoundDocument(i.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,i,a){return jm(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a})(t,e,n)}function h9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=GR(r.transform,s||null);i!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,i))}return n||null}function a_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&dc(n,r,((s,i)=>u9(s,i)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nc extends fy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qi extends fy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function XR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function l_(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,u=e.data.field(i.field);r.set(i.field,l9(a,u,n[s]))}return r}function u_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,a9(i,a,e))}return r}class py extends fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JR extends fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dx{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&d9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$R();return this.mutations.forEach((s=>{const i=e.get(s.key),a=i.overlayedDocument;let u=this.applyToLocalView(a,i.mutatedFields);u=n.has(s.key)?null:u;const c=YR(a,u);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,((n,r)=>a_(n,r)))&&dc(this.baseMutations,e.baseMutations,((n,r)=>a_(n,r)))}}class Ox{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return n9})();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Ox(e,n,r,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class f9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Yt,Xe;function p9(t){switch(t){case te.OK:return Ee(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function ZR(t){if(t===void 0)return Mn("GRPC error has no .code"),te.UNKNOWN;switch(t){case Yt.OK:return te.OK;case Yt.CANCELLED:return te.CANCELLED;case Yt.UNKNOWN:return te.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return te.INTERNAL;case Yt.UNAVAILABLE:return te.UNAVAILABLE;case Yt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Yt.NOT_FOUND:return te.NOT_FOUND;case Yt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Yt.ABORTED:return te.ABORTED;case Yt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Yt.DATA_LOSS:return te.DATA_LOSS;default:return Ee(39323,{code:t})}}(Xe=Yt||(Yt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function m9(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const g9=new Go([4294967295,4294967295],0);function c_(t){const e=m9().encode(t),n=new YA;return n.update(e),new Uint8Array(n.digest())}function d_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Go([n,r],0),new Go([s,i],0)]}class jx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uh(`Invalid padding: ${n}`);if(r<0)throw new uh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new uh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Go.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Go.fromNumber(r)));return s.compare(g9)===1&&(s=new Go([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=c_(e),[r,s]=d_(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new jx(i,s,n);return r.forEach((u=>a.insert(u))),a}insert(e){if(this.ge===0)return;const n=c_(e),[r,s]=d_(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class uh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class my{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,yf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new my(Ae.min(),s,new Et(Fe),gr(),Ge())}}class yf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yf(r,n,Ge(),Ge(),Ge())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lm{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class eN{constructor(e,n){this.targetId=e,this.Ce=n}}class tN{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class h_{constructor(){this.ve=0,this.Fe=f_(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ee(38017,{changeType:i})}})),new yf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=f_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class y9{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.Je=em(),this.He=em(),this.Ye=new Et(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(gg(i))if(r===0){const a=new he(i.path);this.et(n,a,Ot.newNoDocument(a,Ae.min()))}else Ie(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const u=this.ut(e),c=u?this.ct(u,e,a):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,u;try{a=Oi(r).toUint8Array()}catch(c){if(c instanceof SR)return wl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new jx(a,s,i)}catch(c){return wl(c instanceof uh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,a)=>{const u=this.ot(a);if(u){if(i.current&&gg(u.target)){const c=new he(u.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Ot.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}}));let r=Ge();this.He.forEach(((i,a)=>{let u=!0;a.forEachWhile((c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(e)));const s=new my(e,n,this.Ye,this.je,r);return this.je=gr(),this.Je=em(),this.He=em(),this.Ye=new Et(Fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new h_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ut(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ut(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function em(){return new Et(he.comparator)}function f_(){return new Et(he.comparator)}const v9={asc:"ASCENDING",desc:"DESCENDING"},w9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b9={and:"AND",or:"OR"};class x9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xw(t,e){return t.useProto3Json||iy(e)?e:{value:e}}function Ec(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function S9(t,e){return Ec(t,e.toTimestamp())}function Vn(t){return Ie(!!t,49232),Ae.fromTimestamp((function(e){const n=Di(e);return new rt(n.seconds,n.nanos)})(t))}function Lx(t,e){return Jw(t,e).canonicalString()}function Jw(t,e){const n=(function(r){return new ot(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function rN(t){const e=ot.fromString(t);return Ie(hN(e),10190,{key:e.toString()}),e}function wg(t,e){return Lx(t.databaseId,e.path)}function dl(t,e){const n=rN(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(oN(n))}function sN(t,e){return Lx(t.databaseId,e)}function iN(t){const e=rN(t);return e.length===4?ot.emptyPath():oN(e)}function Zw(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oN(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function p_(t,e,n){return{name:wg(t,e),fields:n.value.mapValue.fields}}function E9(t,e,n){const r=dl(t,e.name),s=Vn(e.updateTime),i=e.createTime?Vn(e.createTime):Ae.min(),a=new Cn({mapValue:{fields:e.fields}}),u=Ot.newFoundDocument(r,s,i,a);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function k9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ee(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(c,h){return c.useProto3Json?(Ie(h===void 0||typeof h=="string",58123),Zt.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Zt.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(c){const h=c.code===void 0?te.UNKNOWN:ZR(c.code);return new ce(h,c.message||"")})(a);n=new tN(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=dl(t,r.document.name),i=Vn(r.document.updateTime),a=r.document.createTime?Vn(r.document.createTime):Ae.min(),u=new Cn({mapValue:{fields:r.document.fields}}),c=Ot.newFoundDocument(s,i,a,u),h=r.targetIds||[],m=r.removedTargetIds||[];n=new Lm(h,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=dl(t,r.document),i=r.readTime?Vn(r.readTime):Ae.min(),a=Ot.newNoDocument(s,i),u=r.removedTargetIds||[];n=new Lm([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=dl(t,r.document),i=r.removedTargetIds||[];n=new Lm([],i,s,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new f9(s,i),u=r.targetId;n=new eN(u,a)}}return n}function bg(t,e){let n;if(e instanceof Nc)n={update:p_(t,e.key,e.value)};else if(e instanceof py)n={delete:wg(t,e.key)};else if(e instanceof qi)n={update:p_(t,e.key,e.data),updateMask:R9(e.fieldMask)};else{if(!(e instanceof JR))return Ee(16599,{Vt:e.type});n={verify:wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,i){const a=i.transform;if(a instanceof bc)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Sc)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qh)return{fieldPath:i.field.canonicalString(),increment:a.Ae};throw Ee(20930,{transform:i.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:S9(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee(27497)})(t,e.precondition)),n}function eb(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?An.updateTime(Vn(s.updateTime)):s.exists!==void 0?An.exists(s.exists):An.none()})(e.currentDocument):An.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(i,a){let u=null;if("setToServerValue"in a)Ie(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),u=new bc;else if("appendMissingElements"in a){const h=a.appendMissingElements.values||[];u=new xc(h)}else if("removeAllFromArray"in a){const h=a.removeAllFromArray.values||[];u=new Sc(h)}else"increment"in a?u=new qh(i,a.increment):Ee(16584,{proto:a});const c=_t.fromServerFormat(a.fieldPath);return new QR(c,u)})(t,s))):[];if(e.update){e.update.name;const s=dl(t,e.update.name),i=new Cn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(u){const c=u.fieldPaths||[];return new Zn(c.map((h=>_t.fromServerFormat(h))))})(e.updateMask);return new qi(s,i,a,n,r)}return new Nc(s,i,n,r)}if(e.delete){const s=dl(t,e.delete);return new py(s,n)}if(e.verify){const s=dl(t,e.verify);return new JR(s,n)}return Ee(1463,{proto:e})}function T9(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map((n=>(function(r,s){let i=r.updateTime?Vn(r.updateTime):Vn(s);return i.isEqual(Ae.min())&&(i=Vn(s)),new c9(i,r.transformResults||[])})(n,e)))):[]}function aN(t,e){return{documents:[sN(t,e.path)]}}function lN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sN(t,s);const i=(function(c){if(c.length!==0)return dN(lt.create(c,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(c){if(c.length!==0)return c.map((h=>(function(m){return{field:Wu(m.field),direction:I9(m.dir)}})(h)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=Xw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:s}}function uN(t){let e=iN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ie(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let i=[];n.where&&(i=(function(m){const g=cN(m);return g instanceof lt&&Nx(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(m){return m.map((g=>(function(v){return new $h(Qu(v.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(m){let g;return g=typeof m=="object"?m.value:m,iy(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(m){const g=!!m.before,v=m.values||[];return new vc(v,g)})(n.startAt));let h=null;return n.endAt&&(h=(function(m){const g=!m.before,v=m.values||[];return new vc(v,g)})(n.endAt)),XV(e,s,a,i,u,"F",c,h)}function _9(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cN(t){return t.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Qu(e.unaryFilter.field);return We.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Qu(e.unaryFilter.field);return We.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qu(e.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Qu(e.unaryFilter.field);return We.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(e){return We.create(Qu(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(e){return lt.create(e.compositeFilter.filters.map((n=>cN(n))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(e.compositeFilter.op))})(t):Ee(30097,{filter:t})}function I9(t){return v9[t]}function C9(t){return w9[t]}function A9(t){return b9[t]}function Wu(t){return{fieldPath:t.canonicalString()}}function Qu(t){return _t.fromServerFormat(t.fieldPath)}function dN(t){return t instanceof We?(function(e){if(e.op==="=="){if(JT(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NAN"}};if(XT(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(JT(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NOT_NAN"}};if(XT(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(e.field),op:C9(e.op),value:e.value}}})(t):t instanceof lt?(function(e){const n=e.getFilters().map((r=>dN(r)));return n.length===1?n[0]:{compositeFilter:{op:A9(e.op),filters:n}}})(t):Ee(54877,{filter:t})}function R9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function hN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ii{constructor(e,n,r,s,i=Ae.min(),a=Ae.min(),u=Zt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fN{constructor(e){this.yt=e}}function N9(t,e){let n;if(e.document)n=E9(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=he.fromSegments(e.noDocument.path),s=El(e.noDocument.readTime);n=Ot.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee(56709);{const r=he.fromSegments(e.unknownDocument.path),s=El(e.unknownDocument.version);n=Ot.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(r){const s=new rt(r[0],r[1]);return Ae.fromTimestamp(s)})(e.readTime)),n}function m_(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,i){return{name:wg(s,i.key),fields:i.data.value.mapValue.fields,updateTime:Ec(s,i.version.toTimestamp()),createTime:Ec(s,i.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Sl(e.version)};else{if(!e.isUnknownDocument())return Ee(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Sl(e.version)}}return r}function xg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Sl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function El(t){const e=new rt(t.seconds,t.nanoseconds);return Ae.fromTimestamp(e)}function el(t,e){const n=(e.baseMutations||[]).map((i=>eb(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];a.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>eb(t.yt,i))),s=rt.fromMillis(e.localWriteTimeMs);return new Dx(e.batchId,s,n,r)}function ch(t){const e=El(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?El(t.lastLimboFreeSnapshotVersion):Ae.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const i=s.documents.length;return Ie(i===1,1966,{count:i}),Vr(mf(iN(s.documents[0])))})(t.query):(function(s){return Vr(uN(s))})(t.query),new Ii(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Zt.fromBase64String(t.resumeToken))}function pN(t,e){const n=Sl(e.snapshotVersion),r=Sl(e.lastLimboFreeSnapshotVersion);let s;s=gg(e.target)?aN(t.yt,e.target):lN(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xl(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function mN(t){const e=uN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vg(e,e.limit,"L"):e}function C0(t,e){return new Mx(e.largestBatchId,eb(t.yt,e.overlayMutation))}function g_(t,e){const n=e.path.lastSegment();return[t,Nn(e.path.popLast()),n]}function y_(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Sl(r.readTime),documentKey:Nn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class P9{getBundleMetadata(e,n){return v_(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:El(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return v_(e).put((function(r){return{bundleId:r.id,createTime:Sl(Vn(r.createTime)),version:r.version}})(n))}getNamedQuery(e,n){return w_(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:mN(s.bundledQuery),readTime:El(s.readTime)}})(r)}))}saveNamedQuery(e,n){return w_(e).put((function(r){return{name:r.name,readTime:Sl(Vn(r.readTime)),bundledQuery:r.bundledQuery}})(n))}}function v_(t){return on(t,oy)}function w_(t){return on(t,ay)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gy{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new gy(e,r)}getOverlay(e,n){return jd(e).get(g_(this.userId,n)).next((r=>r?C0(this.serializer,r):null))}getOverlays(e,n){const r=js();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,a)=>{const u=new Mx(n,a);s.push(this.St(e,u))})),Q.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((a=>s.add(Nn(a.getCollectionPath()))));const i=[];return s.forEach((a=>{const u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);i.push(jd(e).Z($w,u))})),Q.waitFor(i)}getOverlaysForCollection(e,n,r){const s=js(),i=Nn(n),a=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return jd(e).J($w,a).next((u=>{for(const c of u){const h=C0(this.serializer,c);s.set(h.getKey(),h)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=js();let a;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return jd(e).ee({index:gR,range:u},((c,h,m)=>{const g=C0(this.serializer,h);i.size()<s||g.largestBatchId===a?(i.set(g.getKey(),g),a=g.largestBatchId):m.done()})).next((()=>i))}St(e,n){return jd(e).put((function(r,s,i){const[a,u,c]=g_(s,i.mutation.key);return{userId:s,collectionPath:u,documentId:c,collectionGroup:i.mutation.key.getCollectionGroup(),largestBatchId:i.largestBatchId,overlayMutation:bg(r.yt,i.mutation)}})(this.serializer,this.userId,n))}}function jd(t){return on(t,ly)}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class D9{bt(e){return on(e,_x)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Zt.fromUint8Array(r):Zt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tl{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(xt(e.integerValue));else if("doubleValue"in e){const r=xt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Mh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Di(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Oi(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?CR(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):cy(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ee(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){var r,s;const i=e.fields||{};this.Ft(n,53);const a=gc,u=((s=(r=i[a].arrayValue)==null?void 0:r.values)==null?void 0:s.length)||0;this.Ft(n,15),n.Mt(xt(u)),this.Ot(a,n),this.Ct(i[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),he.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}tl.Kt=new tl;/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law | agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cu=255;function O9(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function b_(t){const e=64-(function(n){let r=0;for(let s=0;s<8;++s){const i=O9(255&n[s]);if(r+=i,i!==8)break}return r})(t);return Math.ceil(e/8)}class M9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=b_(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=b_(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(Cu),this.sn(255)}_n(){this.an(Cu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const i=new DataView(new ArrayBuffer(8));return i.setFloat64(0,s,!1),new Uint8Array(i.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Cu?(this.sn(Cu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Cu?(this.an(Cu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class j9{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class L9{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Ld{constructor(){this.cn=new M9,this.ln=new j9(this.cn),this.hn=new L9(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nl{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new nl(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Fm(this.En),directionalValue:Fm(this.dn),orderedDocumentKey:Fm(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Io(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=x_(t.En,e.En),n!==0?n:(n=x_(t.dn,e.dn),n!==0?n:he.comparator(t.In,e.In)))}function x_(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Fm(t){return lA()?(function(e){let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return n})(t):t}function S_(t){return typeof t!="string"?t:(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(t)}class E_{constructor(e){this.mn=new ut(((n,r)=>_t.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ie(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=zw(e);if(n!==void 0&&!this.wn(n))return!1;const r=Qa(e);let s=new Set,i=0,a=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const c=r[i];if(!this.Sn(u,c)||!this.bn(this.fn[a++],c))return!1}++i}for(;i<r.length;++i){const u=r[i];if(a>=this.fn.length||!this.bn(this.fn[a++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new ut(_t.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Rm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Rm(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Rm(r.field,r.dir==="asc"?0:1)));return new dg(dg.UNKNOWN_ID,this.collectionId,n,Oh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gN(t){var e,n;if(Ie(t instanceof We||t instanceof lt,20012),t instanceof We){if(t instanceof LR){const s=((n=(e=t.value.arrayValue)==null?void 0:e.values)==null?void 0:n.map((i=>We.create(t.field,"==",i))))||[];return lt.create(s,"or")}return t}const r=t.filters.map((s=>gN(s)));return lt.create(r,t.op)}function F9(t){if(t.getFilters().length===0)return[];const e=rb(gN(t));return Ie(yN(e),7391),tb(e)||nb(e)?[e]:e.getFilters()}function tb(t){return t instanceof We}function nb(t){return t instanceof lt&&Nx(t)}function yN(t){return tb(t)||nb(t)||(function(e){if(e instanceof lt&&Kw(e)){for(const n of e.getFilters())if(!tb(n)&&!nb(n))return!1;return!0}return!1})(t)}function rb(t){if(Ie(t instanceof We||t instanceof lt,34018),t instanceof We)return t;if(t.filters.length===1)return rb(t.filters[0]);const e=t.filters.map((r=>rb(r)));let n=lt.create(e,t.op);return n=Sg(n),yN(n)?n:(Ie(n instanceof lt,64498),Ie(wc(n),40251),Ie(n.filters.length>1,57927),n.filters.reduce(((r,s)=>Fx(r,s))))}function Fx(t,e){let n;return Ie(t instanceof We||t instanceof lt,38388),Ie(e instanceof We||e instanceof lt,25473),n=t instanceof We?e instanceof We?(function(r,s){return lt.create([r,s],"and")})(t,e):k_(t,e):e instanceof We?k_(e,t):(function(r,s){if(Ie(r.filters.length>0&&s.filters.length>0,48005),wc(r)&&wc(s))return OR(r,s.getFilters());const i=Kw(r)?r:s,a=Kw(r)?s:r,u=i.filters.map((c=>Fx(c,a)));return lt.create(u,"or")})(t,e),Sg(n)}function k_(t,e){if(wc(e))return OR(e,t.getFilters());{const n=e.filters.map((r=>Fx(t,r)));return lt.create(n,"or")}}function Sg(t){if(Ie(t instanceof We||t instanceof lt,11850),t instanceof We)return t;const e=t.getFilters();if(e.length===1)return Sg(e[0]);if(PR(t))return t;const n=e.map((s=>Sg(s))),r=[];return n.forEach((s=>{s instanceof We?r.push(s):s instanceof lt&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:lt.create(r,t.op)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class V9{constructor(){this.Cn=new Vx}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(wr.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Vx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ut(ot.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ut(ot.comparator)).toArray()}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T_="IndexedDbIndexManager",tm=new Uint8Array(0);class z9{constructor(e,n){this.databaseId=n,this.vn=new Vx,this.Fn=new $i((r=>xl(r)),((r,s)=>pf(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:Nn(s)};return __(e).put(i)}return Q.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[sR(n),""],!1,!0);return __(e).J(s).next((i=>{for(const a of i){if(a.collectionId!==n)break;r.push(Ms(a.parent))}return r}))}addFieldIndex(e,n){const r=Fd(e),s=(function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const a=Ru(e);return i.next((u=>{a.put(y_(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=Fd(e),s=Ru(e),i=Au(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Fd(e),r=Au(e),s=Ru(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new E_(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=Au(e);let s=!0;const i=new Map;return Q.forEach(this.Mn(n),(a=>this.xn(e,a).next((u=>{s&&(s=!!u),i.set(a,u)})))).next((()=>{if(s){let a=Ge();const u=[];return Q.forEach(i,((c,h)=>{le(T_,`Using index ${(function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map((M=>`${M.fieldPath}:${M.kind}`)).join(",")}`})(c)} to execute ${xl(n)}`);const m=(function(P,M){const z=zw(M);if(z===void 0)return null;for(const U of yg(P,z.fieldPath))switch(U.op){case"array-contains-any":return U.value.arrayValue.values||[];case"array-contains":return[U.value]}return null})(h,c),g=(function(P,M){const z=new Map;for(const U of Qa(M))for(const H of yg(P,U.fieldPath))switch(H.op){case"==":case"in":z.set(U.fieldPath.canonicalString(),H.value);break;case"not-in":case"!=":return z.set(U.fieldPath.canonicalString(),H.value),Array.from(z.values())}return null})(h,c),v=(function(P,M){const z=[];let U=!0;for(const H of Qa(M)){const D=H.kind===0?r_(P,H.fieldPath,P.startAt):s_(P,H.fieldPath,P.startAt);z.push(D.value),U&&(U=D.inclusive)}return new vc(z,U)})(h,c),E=(function(P,M){const z=[];let U=!0;for(const H of Qa(M)){const D=H.kind===0?s_(P,H.fieldPath,P.endAt):r_(P,H.fieldPath,P.endAt);z.push(D.value),U&&(U=D.inclusive)}return new vc(z,U)})(h,c),I=this.On(c,h,v),T=this.On(c,h,E),_=this.Nn(c,h,g),R=this.Bn(c.indexId,m,I,v.inclusive,T,E.inclusive,_);return Q.forEach(R,(P=>r.Y(P,n.limit).next((M=>{M.forEach((z=>{const U=he.fromSegments(z.documentKey);a.has(U)||(a=a.add(U),u.push(U))}))}))))})).next((()=>u))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=F9(lt.create(e.filters,"and")).map((r=>Qw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,a,u){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),h=c/(n!=null?n.length:1),m=[];for(let g=0;g<c;++g){const v=n?this.Ln(n[g/h]):tm,E=this.kn(e,v,r[g%h],s),I=this.qn(e,v,i[g%h],a),T=u.map((_=>this.kn(e,v,_,!0)));m.push(...this.createRange(E,I,T))}return m}kn(e,n,r,s){const i=new nl(e,he.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new nl(e,he.empty(),n,r);return s?i.An():i}xn(e,n){const r=new E_(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let a=null;for(const u of i)r.yn(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return Q.forEach(s,(i=>this.xn(e,i).next((a=>{a?r!==0&&a.fields.length<(function(u){let c=new ut(_t.comparator),h=!1;for(const m of u.filters)for(const g of m.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?h=!0:c=c.add(g.field));for(const m of u.orderBy)m.field.isKeyField()||(c=c.add(m.field));return c.size+(h?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(i){return i.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new Ld;for(const s of Qa(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const a=r.Pn(s.kind);tl.Kt.Dt(i,a)}return r.un()}Ln(e){const n=new Ld;return tl.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Ld;return tl.Kt.Dt(Bh(this.databaseId,n),r.Pn((function(s){const i=Qa(s);return i.length===0?0:i[i.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new Ld);let i=0;for(const a of Qa(e)){const u=r[i++];for(const c of s)if(this.Un(n,a.fieldPath)&&Uh(u))s=this.Kn(s,a,u);else{const h=c.Pn(a.kind);tl.Kt.Dt(u,h)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const a of r.arrayValue.values||[])for(const u of s){const c=new Ld;c.seed(u.un()),tl.Kt.Dt(a,c.Pn(n.kind)),i.push(c)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof We&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Fd(e),s=Ru(e);return(n?r.J(Uw,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const a=[];return Q.forEach(i,(u=>s.get([u.indexId,this.uid]).next((c=>{a.push((function(h,m){const g=m?new Oh(m.sequenceNumber,new wr(El(m.readTime),new he(Ms(m.documentKey)),m.largestBatchId)):Oh.empty(),v=h.fields.map((([E,I])=>new Rm(_t.fromServerFormat(E),I)));return new dg(h.indexId,h.collectionGroup,v,g)})(u,c))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Fe(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=Fd(e),i=Ru(e);return this.Gn(e).next((a=>s.J(Uw,IDBKeyRange.bound(n,n)).next((u=>Q.forEach(u,(c=>i.put(y_(c.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((s,i)=>{const a=r.get(s.collectionGroup);return(a?Q.resolve(a):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Q.forEach(u,(c=>this.zn(e,s,c).next((h=>{const m=this.jn(i,c);return h.isEqual(m)?Q.resolve():this.Jn(e,i,c,h,m)})))))))}))}Hn(e,n,r,s){return Au(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return Au(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=Au(e);let i=new ut(Io);return s.ee({index:mR,range:IDBKeyRange.only([r.indexId,this.uid,Fm(this.$n(r,n))])},((a,u)=>{i=i.add(new nl(r.indexId,n,S_(u.arrayValue),S_(u.directionalValue)))})).next((()=>i))}jn(e,n){let r=new ut(Io);const s=this.Qn(n,e);if(s==null)return r;const i=zw(n);if(i!=null){const a=e.data.field(i.fieldPath);if(Uh(a))for(const u of a.arrayValue.values||[])r=r.add(new nl(n.indexId,e.key,this.Ln(u),s))}else r=r.add(new nl(n.indexId,e.key,tm,s));return r}Jn(e,n,r,s,i){le(T_,"Updating index entries for document '%s'",n.key);const a=[];return(function(u,c,h,m,g){const v=u.getIterator(),E=c.getIterator();let I=Iu(v),T=Iu(E);for(;I||T;){let _=!1,R=!1;if(I&&T){const P=h(I,T);P<0?R=!0:P>0&&(_=!0)}else I!=null?R=!0:_=!0;_?(m(T),T=Iu(E)):R?(g(I),I=Iu(v)):(I=Iu(v),T=Iu(E))}})(s,i,Io,(u=>{a.push(this.Hn(e,n,r,u))}),(u=>{a.push(this.Yn(e,n,r,u))})),Q.waitFor(a)}Gn(e){let n=1;return Ru(e).ee({index:pR,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,u)=>Io(a,u))).filter(((a,u,c)=>!u||Io(a,c[u-1])!==0));const s=[];s.push(e);for(const a of r){const u=Io(a,e),c=Io(a,n);if(u===0)s[0]=e.An();else if(u>0&&c<0)s.push(a),s.push(a.An());else if(c>0)break}s.push(n);const i=[];for(let a=0;a<s.length;a+=2){if(this.Zn(s[a],s[a+1]))return[];const u=s[a].Vn(this.uid,tm,he.empty()),c=s[a+1].Vn(this.uid,tm,he.empty());i.push(IDBKeyRange.bound(u,c))}return i}Zn(e,n){return Io(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(I_)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||Ee(44426))))).next(I_)}}function __(t){return on(t,Fh)}function Au(t){return on(t,wh)}function Fd(t){return on(t,Tx)}function Ru(t){return on(t,vh)}function I_(t){Ie(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;Sx(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new wr(e.readTime,e.documentKey,n)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vN=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wN(t,e,n){const r=t.store(ns),s=t.store(hc),i=[],a=IDBKeyRange.only(n.batchId);let u=0;const c=r.ee({range:a},((m,g,v)=>(u++,v.delete())));i.push(c.next((()=>{Ie(u===1,47070,{batchId:n.batchId})})));const h=[];for(const m of n.mutations){const g=dR(e,m.key.path,n.batchId);i.push(s.delete(g)),h.push(m.key)}return Q.waitFor(i).next((()=>h))}function Eg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ee(14731);e=t.noDocument}return JSON.stringify(e).length}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(vN,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class yy{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){Ie(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new yy(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Co(e).ee({index:rl,range:r},((s,i,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=Yu(e),a=Co(e);return a.add({}).next((u=>{Ie(typeof u=="number",49019);const c=new Dx(u,n,r,s),h=(function(v,E,I){const T=I.baseMutations.map((R=>bg(v.yt,R))),_=I.mutations.map((R=>bg(v.yt,R)));return{userId:E,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:T,mutations:_}})(this.serializer,this.userId,c),m=[];let g=new ut(((v,E)=>Fe(v.canonicalString(),E.canonicalString())));for(const v of s){const E=dR(this.userId,v.key.path,u);g=g.add(v.key.path.popLast()),m.push(a.put(h)),m.push(i.put(E,mV))}return g.forEach((v=>{m.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=c.keys()})),Q.waitFor(m).next((()=>c))}))}lookupMutationBatch(e,n){return Co(e).get(n).next((r=>r?(Ie(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),el(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Co(e).ee({index:rl,range:s},((a,u,c)=>{u.userId===this.userId&&(Ie(u.batchId>=r,47524,{tr:r}),i=el(this.serializer,u)),c.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ul;return Co(e).ee({index:rl,range:n,reverse:!0},((s,i,a)=>{r=i.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,ul],[this.userId,Number.POSITIVE_INFINITY]);return Co(e).J(rl,n).next((r=>r.map((s=>el(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Nm(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Yu(e).ee({range:s},((a,u,c)=>{const[h,m,g]=a,v=Ms(m);if(h===this.userId&&n.path.isEqual(v))return Co(e).get(g).next((E=>{if(!E)throw Ee(61480,{nr:a,batchId:g});Ie(E.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:E.userId,batchId:g}),i.push(el(this.serializer,E))}));c.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Fe);const s=[];return n.forEach((i=>{const a=Nm(this.userId,i.path),u=IDBKeyRange.lowerBound(a),c=Yu(e).ee({range:u},((h,m,g)=>{const[v,E,I]=h,T=Ms(E);v===this.userId&&i.path.isEqual(T)?r=r.add(I):g.done()}));s.push(c)})),Q.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Nm(this.userId,r),a=IDBKeyRange.lowerBound(i);let u=new ut(Fe);return Yu(e).ee({range:a},((c,h,m)=>{const[g,v,E]=c,I=Ms(v);g===this.userId&&r.isPrefixOf(I)?I.length===s&&(u=u.add(E)):m.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push(Co(e).get(i).next((a=>{if(a===null)throw Ee(35274,{batchId:i});Ie(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:i}),r.push(el(this.serializer,a))})))})),Q.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return wN(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(i){return[i]})(this.userId)),s=[];return Yu(e).ee({range:r},((i,a,u)=>{if(i[0]===this.userId){const c=Ms(i[1]);s.push(c)}else u.done()})).next((()=>{Ie(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return bN(e,this.userId,n)}_r(e){return xN(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:ul,lastStreamToken:""}))}}function bN(t,e,n){const r=Nm(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let a=!1;return Yu(t).ee({range:i,X:!0},((u,c,h)=>{const[m,g,v]=u;m===e&&g===s&&(a=!0),h.done()})).next((()=>a))}function Co(t){return on(t,ns)}function Yu(t){return on(t,hc)}function xN(t){return on(t,jh)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new kl(0)}static cr(){return new kl(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class B9{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new kl(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ae.fromTimestamp(new rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Nu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ie(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return Nu(e).ee(((a,u)=>{const c=ch(u);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))})).next((()=>Q.waitFor(i))).next((()=>s))}forEachTarget(e,n){return Nu(e).ee(((r,s)=>{const i=ch(s);n(i)}))}lr(e){return A_(e).get(pg).next((n=>(Ie(n!==null,2888),n)))}hr(e,n){return A_(e).put(pg,n)}Pr(e,n){return Nu(e).put(pN(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=xl(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Nu(e).ee({range:s,index:fR},((a,u,c)=>{const h=ch(u);pf(n,h.target)&&(i=h,c.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=Bo(e);return n.forEach((a=>{const u=Nn(a.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,a))})),Q.waitFor(s)}removeMatchingKeys(e,n,r){const s=Bo(e);return Q.forEach(n,(i=>{const a=Nn(i.path);return Q.waitFor([s.delete([r,a]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=Bo(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Bo(e);let i=Ge();return s.ee({range:r,X:!0},((a,u,c)=>{const h=Ms(a[1]),m=new he(h);i=i.add(m)})).next((()=>i))}containsKey(e,n){const r=Nn(n.path),s=IDBKeyRange.bound([r],[sR(r)],!1,!0);let i=0;return Bo(e).ee({index:kx,X:!0,range:s},(([a,u],c,h)=>{a!==0&&(i++,h.done())})).next((()=>i>0))}At(e,n){return Nu(e).get(n).next((r=>r?ch(r):null))}}function Nu(t){return on(t,fc)}function A_(t){return on(t,cl)}function Bo(t){return on(t,pc)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R_="LruGarbageCollector",U9=1048576;function N_([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class $9{constructor(e){this.Ir=e,this.buffer=new ut(N_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();N_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(R_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){aa(n)?le(R_,"Ignoring IndexedDB error during garbage collection: ",n):await Ol(n)}await this.Vr(3e5)}))}}class q9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(jr.ce);const r=new $9(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(C_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,u,c,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,a=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Hu()<=Ke.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${s} in `+(u-a)+`ms
	Removed ${i} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(h-c)+`ms
Total Duration: ${h-m}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function EN(t,e){return new q9(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G9{constructor(e,n){this.db=e,this.garbageCollector=EN(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return nm(e,r)}removeReference(e,n,r){return nm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return nm(e,n)}br(e,n){return(function(r,s){let i=!1;return xN(r).te((a=>bN(r,a,s).next((u=>(u&&(i=!0),Q.resolve(!u)))))).next((()=>i))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((a,u)=>{if(u<=n){const c=this.br(e,a).next((h=>{if(!h)return i++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Ae.min()),Bo(e).delete((function(m){return[0,Nn(m.path)]})(a)))))}));s.push(c)}})).next((()=>Q.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return nm(e,n)}Sr(e,n){const r=Bo(e);let s,i=jr.ce;return r.ee({index:kx},(([a,u],{path:c,sequenceNumber:h})=>{a===0?(i!==jr.ce&&n(new he(Ms(s)),i),i=h,s=c):i=jr.ce})).next((()=>{i!==jr.ce&&n(new he(Ms(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nm(t,e){return Bo(t).put((function(n,r){return{targetId:0,path:Nn(n.path),sequenceNumber:r}})(e,t.currentSequenceNumber))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kN{constructor(){this.changes=new $i((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class H9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return La(e).put(r)}removeEntry(e,n,r){return La(e).delete((function(s,i){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],xg(i),a[a.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Ot.newInvalidDocument(n);return La(e).ee({index:Pm,range:IDBKeyRange.only(Vd(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:Ot.newInvalidDocument(n)};return La(e).ee({index:Pm,range:IDBKeyRange.only(Vd(n))},((s,i)=>{r={document:this.Cr(n,i),size:Eg(i)}})).next((()=>r))}getEntries(e,n){let r=gr();return this.Fr(e,n,((s,i)=>{const a=this.Cr(s,i);r=r.insert(s,a)})).next((()=>r))}Mr(e,n){let r=gr(),s=new Et(he.comparator);return this.Fr(e,n,((i,a)=>{const u=this.Cr(i,a);r=r.insert(i,u),s=s.insert(i,Eg(a))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let s=new ut(O_);n.forEach((c=>s=s.add(c)));const i=IDBKeyRange.bound(Vd(s.first()),Vd(s.last())),a=s.getIterator();let u=a.getNext();return La(e).ee({index:Pm,range:i},((c,h,m)=>{const g=he.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;u&&O_(u,g)<0;)r(u,null),u=a.getNext();u&&u.isEqual(g)&&(r(u,h),u=a.hasNext()?a.getNext():null),u?m.j(Vd(u)):m.done()})).next((()=>{for(;u;)r(u,null),u=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const a=n.path,u=[a.popLast().toArray(),a.lastSegment(),xg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return La(e).J(IDBKeyRange.bound(u,c,!0)).next((h=>{i==null||i.incrementDocumentReadCount(h.length);let m=gr();for(const g of h){const v=this.Cr(he.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(gf(n,v)||s.has(v.key))&&(m=m.insert(v.key,v))}return m}))}getAllFromCollectionGroup(e,n,r,s){let i=gr();const a=D_(n,r),u=D_(n,wr.max());return La(e).ee({index:hR,range:IDBKeyRange.bound(a,u,!0)},((c,h,m)=>{const g=this.Cr(he.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);i=i.insert(g.key,g),i.size===s&&m.done()})).next((()=>i))}newChangeBuffer(e){return new K9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return P_(e).get(Bw).next((n=>(Ie(!!n,20021),n)))}Dr(e,n){return P_(e).put(Bw,n)}Cr(e,n){if(n){const r=N9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ae.min())))return r}return Ot.newInvalidDocument(e)}}function TN(t){return new H9(t)}class K9 extends kN{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new $i((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new ut(((i,a)=>Fe(i.canonicalString(),a.canonicalString())));return this.changes.forEach(((i,a)=>{const u=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,u.readTime)),a.isValidDocument()){const c=m_(this.Nr.serializer,a);s=s.add(i.path.popLast());const h=Eg(c);r+=h-u.size,n.push(this.Nr.addEntry(e,i,c))}else if(r-=u.size,this.trackRemovals){const c=m_(this.Nr.serializer,a.convertToNoDocument(Ae.min()));n.push(this.Nr.addEntry(e,i,c))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,a)=>{this.Br.set(i,{size:a,readTime:r.get(i).readTime})})),r)))}}function P_(t){return on(t,Lh)}function La(t){return on(t,fg)}function Vd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function D_(t,e){const n=e.documentKey.path.toArray();return[t,xg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function O_(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Fe(n[i],r[i]),s)return s;return s=Fe(n.length,r.length),s||(s=Fe(n[n.length-2],r[r.length-2]),s||Fe(n[n.length-1],r[r.length-1]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _N{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Eh(r.mutation,s,Zn.empty(),rt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const s=js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let a=lh();return i.forEach(((u,c)=>{a=a.insert(u,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=js();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((a,u)=>{n.set(a,u)}))}))}computeViews(e,n,r,s){let i=gr();const a=Sh(),u=(function(){return Sh()})();return n.forEach(((c,h)=>{const m=r.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof qi)?i=i.insert(h.key,h):m!==void 0?(a.set(h.key,m.mutation.getFieldMask()),Eh(m.mutation,h,m.mutation.getFieldMask(),rt.now())):a.set(h.key,Zn.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((h,m)=>a.set(h,m))),n.forEach(((h,m)=>u.set(h,new W9(m,a.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Sh();let s=new Et(((a,u)=>a-u)),i=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const u of a)u.keys().forEach((c=>{const h=n.get(c);if(h===null)return;let m=r.get(c)||Zn.empty();m=u.applyToLocalView(h,m),r.set(c,m);const g=(s.get(u.batchId)||Ge()).add(c);s=s.insert(u.batchId,g)}))})).next((()=>{const a=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,m=c.value,g=$R();m.forEach((v=>{if(!i.has(v)){const E=YR(n.get(v),r.get(v));E!==null&&g.set(v,E),i=i.add(v)}})),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Q.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(i){return he.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(js());let u=Dh,c=i;return a.next((h=>Q.forEach(h,((m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),i.get(m)?Q.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{c=c.insert(m,v)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,c,h,Ge()))).next((m=>({batchId:u,changes:UR(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next((r=>{let s=lh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=lh();return this.indexManager.getCollectionParents(e,i).next((u=>Q.forEach(u,(c=>{const h=(function(m,g){return new Rc(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((m=>{m.forEach(((g,v)=>{a=a.insert(g,v)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((a=>{i.forEach(((c,h)=>{const m=h.getKey();a.get(m)===null&&(a=a.insert(m,Ot.newInvalidDocument(m)))}));let u=lh();return a.forEach(((c,h)=>{const m=i.get(c);m!==void 0&&Eh(m.mutation,h,Zn.empty(),rt.now()),gf(n,h)&&(u=u.insert(c,h))})),u}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Vn(r.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:mN(r.bundledQuery),readTime:Vn(r.readTime)}})(n)),Q.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Y9{constructor(){this.overlays=new Et(he.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=js();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=js(),i=n.length+1,a=new he(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Et(((h,m)=>h-m));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=i.get(h.largestBatchId);m===null&&(m=js(),i=i.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=js(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((h,m)=>u.set(h,m))),!(u.size()>=s)););return Q.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Mx(n,r));let i=this.qr.get(n);i===void 0&&(i=Ge(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class X9{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zx{constructor(){this.Qr=new ut(cn.$r),this.Ur=new ut(cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new cn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new cn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new he(new ot([])),r=new cn(n,e),s=new cn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new he(new ot([])),r=new cn(n,e),s=new cn(n,e+1);let i=Ge();return this.Ur.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new cn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class cn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return he.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||he.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ut(cn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Dx(i,n,r,s);this.mutationQueue.push(a);for(const u of s)this.Zr=this.Zr.add(new cn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?ul:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cn(n,0),s=new cn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(a=>{const u=this.Xr(a.Yr);i.push(u)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Fe);return n.forEach((s=>{const i=new cn(s,0),a=new cn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(u=>{r=r.add(u.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;he.isDocumentKey(i)||(i=i.child(""));const a=new cn(new he(i),0);let u=new ut(Fe);return this.Zr.forEachWhile((c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(u=u.add(c.Yr)),!0)}),a),Q.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ie(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(s=>{const i=new cn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new cn(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Z9{constructor(e){this.ri=e,this.docs=(function(){return new Et(he.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ot.newInvalidDocument(s))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=gr();const a=n.path,u=new he(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:m}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||Sx(aR(m),r)<=0||(s.has(m.key)||gf(n,m))&&(i=i.insert(m.key,m.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ee(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ez(this)}getSize(e){return Q.resolve(this.size)}}class ez extends kN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tz{constructor(e){this.persistence=e,this.si=new $i((n=>xl(n)),pf),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new zx,this.targetCount=0,this.ai=kl.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new kl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Q.waitFor(i).next((()=>s))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(e,a))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bx{constructor(e,n){this.ui={},this.overlays={},this.ci=new jr(0),this.li=!1,this.li=!0,this.hi=new X9,this.referenceDelegate=e(this),this.Pi=new tz(this),this.indexManager=new V9,this.remoteDocumentCache=(function(r){return new Z9(r)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new fN(n),this.Ii=new Q9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Y9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new J9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new nz(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class nz extends uR{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.Ri=new zx,this.Vi=null}static mi(e){return new vy(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const s=he.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class kg{constructor(e,n){this.persistence=e,this.pi=new $i((r=>Nn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=EN(this,n)}static mi(e,n){return new kg(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Q.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(a=>this.br(e,a,n).next((u=>{u||(r++,i.removeEntry(a,Ae.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Om(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rz{constructor(e){this.serializer=e}k(e,n,r,s){const i=new sy("createOrUpgrade",n);r<1&&s>=1&&((function(u){u.createObjectStore(ff)})(e),(function(u){u.createObjectStore(jh,{keyPath:pV}),u.createObjectStore(ns,{keyPath:GT,autoIncrement:!0}).createIndex(rl,HT,{unique:!0}),u.createObjectStore(hc)})(e),M_(e),(function(u){u.createObjectStore(Ya)})(e));let a=Q.resolve();return r<3&&s>=3&&(r!==0&&((function(u){u.deleteObjectStore(pc),u.deleteObjectStore(fc),u.deleteObjectStore(cl)})(e),M_(e)),a=a.next((()=>(function(u){const c=u.store(cl),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ae.min().toTimestamp(),targetCount:0};return c.put(pg,h)})(i)))),r<4&&s>=4&&(r!==0&&(a=a.next((()=>(function(u,c){return c.store(ns).J().next((h=>{u.deleteObjectStore(ns),u.createObjectStore(ns,{keyPath:GT,autoIncrement:!0}).createIndex(rl,HT,{unique:!0});const m=c.store(ns),g=h.map((v=>m.put(v)));return Q.waitFor(g)}))})(e,i)))),a=a.next((()=>{(function(u){u.createObjectStore(mc,{keyPath:EV})})(e)}))),r<5&&s>=5&&(a=a.next((()=>this.yi(i)))),r<6&&s>=6&&(a=a.next((()=>((function(u){u.createObjectStore(Lh)})(e),this.wi(i))))),r<7&&s>=7&&(a=a.next((()=>this.Si(i)))),r<8&&s>=8&&(a=a.next((()=>this.bi(e,i)))),r<9&&s>=9&&(a=a.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(a=a.next((()=>this.Di(i)))),r<11&&s>=11&&(a=a.next((()=>{(function(u){u.createObjectStore(oy,{keyPath:kV})})(e),(function(u){u.createObjectStore(ay,{keyPath:TV})})(e)}))),r<12&&s>=12&&(a=a.next((()=>{(function(u){const c=u.createObjectStore(ly,{keyPath:PV});c.createIndex($w,DV,{unique:!1}),c.createIndex(gR,OV,{unique:!1})})(e)}))),r<13&&s>=13&&(a=a.next((()=>(function(u){const c=u.createObjectStore(fg,{keyPath:gV});c.createIndex(Pm,yV),c.createIndex(hR,vV)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(Ya)))),r<14&&s>=14&&(a=a.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(a=a.next((()=>(function(u){u.createObjectStore(Tx,{keyPath:_V,autoIncrement:!0}).createIndex(Uw,IV,{unique:!1}),u.createObjectStore(vh,{keyPath:CV}).createIndex(pR,AV,{unique:!1}),u.createObjectStore(wh,{keyPath:RV}).createIndex(mR,NV,{unique:!1})})(e)))),r<16&&s>=16&&(a=a.next((()=>{n.objectStore(vh).clear()})).next((()=>{n.objectStore(wh).clear()}))),r<17&&s>=17&&(a=a.next((()=>{(function(u){u.createObjectStore(_x,{keyPath:MV})})(e)}))),r<18&&s>=18&&lA()&&(a=a.next((()=>{n.objectStore(vh).clear()})).next((()=>{n.objectStore(wh).clear()}))),a}wi(e){let n=0;return e.store(Ya).ee(((r,s)=>{n+=Eg(s)})).next((()=>{const r={byteSize:n};return e.store(Lh).put(Bw,r)}))}yi(e){const n=e.store(jh),r=e.store(ns);return n.J().next((s=>Q.forEach(s,(i=>{const a=IDBKeyRange.bound([i.userId,ul],[i.userId,i.lastAcknowledgedBatchId]);return r.J(rl,a).next((u=>Q.forEach(u,(c=>{Ie(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const h=el(this.serializer,c);return wN(e,i.userId,h).next((()=>{}))}))))}))))}Si(e){const n=e.store(pc),r=e.store(Ya);return e.store(cl).get(pg).next((s=>{const i=[];return r.ee(((a,u)=>{const c=new ot(a),h=(function(m){return[0,Nn(m)]})(c);i.push(n.get(h).next((m=>m?Q.resolve():(g=>n.put({targetId:0,path:Nn(g),sequenceNumber:s.highestListenSequenceNumber}))(c))))})).next((()=>Q.waitFor(i)))}))}bi(e,n){e.createObjectStore(Fh,{keyPath:SV});const r=n.store(Fh),s=new Vx,i=a=>{if(s.add(a)){const u=a.lastSegment(),c=a.popLast();return r.put({collectionId:u,parent:Nn(c)})}};return n.store(Ya).ee({X:!0},((a,u)=>{const c=new ot(a);return i(c.popLast())})).next((()=>n.store(hc).ee({X:!0},(([a,u,c],h)=>{const m=Ms(u);return i(m.popLast())}))))}Di(e){const n=e.store(fc);return n.ee(((r,s)=>{const i=ch(s),a=pN(this.serializer,i);return n.put(a)}))}Ci(e,n){const r=n.store(Ya),s=[];return r.ee(((i,a)=>{const u=n.store(fg),c=(function(m){return m.document?new he(ot.fromString(m.document.name).popFirst(5)):m.noDocument?he.fromSegments(m.noDocument.path):m.unknownDocument?he.fromSegments(m.unknownDocument.path):Ee(36783)})(a).path.toArray(),h={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};s.push(u.put(h))})).next((()=>Q.waitFor(s)))}Fi(e,n){const r=n.store(ns),s=TN(this.serializer),i=new Bx(vy.mi,this.serializer.yt);return r.J().next((a=>{const u=new Map;return a.forEach((c=>{let h=u.get(c.userId)??Ge();el(this.serializer,c).keys().forEach((m=>h=h.add(m))),u.set(c.userId,h)})),Q.forEach(u,((c,h)=>{const m=new vn(h),g=gy.wt(this.serializer,m),v=i.getIndexManager(m),E=yy.wt(m,this.serializer,v,i.referenceDelegate);return new _N(s,E,g,v).recalculateAndSaveOverlaysForDocumentKeys(new qw(n,jr.ce),c).next()}))}))}}function M_(t){t.createObjectStore(pc,{keyPath:bV}).createIndex(kx,xV,{unique:!0}),t.createObjectStore(fc,{keyPath:"targetId"}).createIndex(fR,wV,{unique:!0}),t.createObjectStore(cl)}const Ao="IndexedDbPersistence",A0=18e5,R0=5e3,N0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sz="main";class Ux{constructor(e,n,r,s,i,a,u,c,h,m,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=a,this.document=u,this.xi=h,this.Oi=m,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!Ux.v())throw new ce(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new G9(this,s),this.$i=n+sz,this.serializer=new fN(c),this.Ui=new Ho(this.$i,this.Ni,new rz(this.serializer)),this.hi=new D9,this.Pi=new B9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=TN(this.serializer),this.Ii=new P9,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&Mn(Ao,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,N0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new jr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>rm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(aa(e))return le(Ao,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(Ao,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return zd(e).get(_u).next((n=>Q.resolve(this.es(n))))}ts(e){return rm(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,A0)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=on(n,mc);return r.J().next((s=>{const i=this.ss(s,A0),a=s.filter((u=>i.indexOf(u)===-1));return Q.forEach(a,(u=>r.delete(u.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):zd(e).get(_u).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,R0)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,N0);return!1}}return!(!this.networkEnabled||!this.inForeground)||rm(e).J().next((r=>this.ss(r,R0).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,a=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||a&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&le(Ao,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[ff,mc],(e=>{const n=new qw(e,jr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>rm(e).J().next((n=>this.ss(n,A0).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return yy.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new z9(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return gy.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){le(Ao,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(u){return u===18?FV:u===17?bR:u===16?LV:u===15?Ix:u===14?wR:u===13?vR:u===12?jV:u===11?yR:void Ee(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,s,i,(u=>(a=new qw(u,this.ci?this.ci.next():jr.ce),n==="readwrite-primary"?this.Hi(a).next((c=>!!c||this.Yi(a))).next((c=>{if(!c)throw Mn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ce(te.FAILED_PRECONDITION,lR);return r(a)})).next((c=>this.Xi(a).next((()=>c)))):this.Is(a).next((()=>r(a)))))).then((u=>(a.raiseOnCommittedEvent(),u)))}Is(e){return zd(e).get(_u).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,R0)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(te.FAILED_PRECONDITION,N0)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zd(e).put(_u,n)}static v(){return Ho.v()}Zi(e){const n=zd(e);return n.get(_u).next((r=>this.es(r)?(le(Ao,"Releasing primary lease."),n.delete(_u)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Mn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;aA()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return le(Ao,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Mn(Ao,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Mn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zd(t){return on(t,ff)}function rm(t){return on(t,mc)}function iz(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $x{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ge(),s=Ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new $x(e,n.fromCache,r,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aA()?8:cR(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new oz;return this.Ss(e,n,a).next((u=>{if(i.result=u,this.Vs)return this.bs(e,n,a,u.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Hu()<=Ke.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ku(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Hu()<=Ke.DEBUG&&le("QueryEngine","Query:",Ku(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Hu()<=Ke.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ku(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):Q.resolve())}ys(e,n){if(i_(n))return Q.resolve(null);let r=Vr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=vg(n,null,"F"),r=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const a=Ge(...i);return this.ps.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const h=this.Ds(n,u);return this.Cs(n,h,a,c.readTime)?this.ys(e,vg(n,null,"F")):this.vs(e,h,n,c)}))))})))))}ws(e,n,r,s){return i_(n)||s.isEqual(Ae.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?Q.resolve(null):(Hu()<=Ke.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ku(n)),this.vs(e,a,n,aV(s,Dh)).next((u=>u)))}))}Ds(e,n){let r=new ut(zR(e));return n.forEach(((s,i)=>{gf(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Hu()<=Ke.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ku(n)),this.ps.getDocumentsMatchingQuery(e,n,wr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qx="LocalStore",az=3e8;class lz{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Et(Fe),this.xs=new $i((i=>xl(i)),pf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _N(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function CN(t,e,n,r){return new lz(t,e,n,r)}async function AN(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],u=[];let c=Ge();for(const h of s){a.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}for(const h of i){u.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:u})))}))}))}function uz(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,u,c,h){const m=c.batch,g=m.keys();let v=Q.resolve();return g.forEach((E=>{v=v.next((()=>h.getEntry(u,E))).next((I=>{const T=c.docVersions.get(E);Ie(T!==null,48541),I.version.compareTo(T)<0&&(m.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))}))})),v.next((()=>a.mutationQueue.removeMutationBatch(u,m)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=Ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function RN(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function cz(t,e){const n=Ve(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((m,g)=>{const v=s.get(g);if(!v)return;u.push(n.Pi.removeMatchingKeys(i,m.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,m.addedDocuments,g))));let E=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(Zt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),s=s.insert(g,E),(function(I,T,_){return I.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=az?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(v,E,m)&&u.push(n.Pi.updateTargetData(i,E))}));let c=gr(),h=Ge();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,m))})),u.push(dz(i,a,e.documentUpdates).next((m=>{c=m.ks,h=m.qs}))),!r.isEqual(Ae.min())){const m=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(m)}return Q.waitFor(u).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,h))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function dz(t,e,n){let r=Ge(),s=Ge();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let a=gr();return n.forEach(((u,c)=>{const h=i.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(Ae.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):le(qx,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)})),{ks:a,qs:s}}))}function hz(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ul),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fz(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Q.resolve(s)):n.Pi.allocateTargetId(r).next((a=>(s=new Ii(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function sb(t,e,n){const r=Ve(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!aa(a))throw a;le(qx,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function j_(t,e,n){const r=Ve(t);let s=Ae.min(),i=Ge();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,c,h){const m=Ve(u),g=m.xs.get(h);return g!==void 0?Q.resolve(m.Ms.get(g)):m.Pi.getTargetData(c,h)})(r,a,Vr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,u.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Ae.min(),n?i:Ge()))).next((u=>(pz(r,ZV(e),u),{documents:u,Qs:i})))))}function pz(t,e,n){let r=t.Os.get(e)||Ae.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class L_{constructor(){this.activeTargetIds=i9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NN{constructor(){this.Mo=new L_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new L_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mz{Oo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const F_="ConnectivityMonitor";class V_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(F_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(F_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let sm=null;function ib(){return sm===null?sm=(function(){return 268435456+Math.round(2147483648*Math.random())})():sm++,"0x"+sm.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const P0="RestConnection",gz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===mg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=ib(),u=this.zo(e,n.toUriEncodedString());le(P0,`Sending RPC '${e}' ${a}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:h}=new URL(u),m=Nl(h);return this.Jo(e,u,c,r,m).then((g=>(le(P0,`Received RPC '${e}' ${a}: `,g),g)),(g=>{throw wl(P0,`RPC '${e}' ${a} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ac})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=gz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _n="WebChannelConnection";class wz extends yz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=ib();return new Promise(((u,c)=>{const h=new XA;h.setWithCredentials(!0),h.listenOnce(JA.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Am.NO_ERROR:const g=h.getResponseJson();le(_n,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Am.TIMEOUT:le(_n,`RPC '${e}' ${a} timed out`),c(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const v=h.getStatus();if(le(_n,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E==null?void 0:E.error;if(I&&I.status&&I.message){const T=(function(_){const R=_.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(R)>=0?R:te.UNKNOWN})(I.status);c(new ce(T,I.message))}else c(new ce(te.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{le(_n,`RPC '${e}' ${a} completed.`)}}));const m=JSON.stringify(s);le(_n,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const s=ib(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tR(),u=eR(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const m=i.join("");le(_n,`Creating RPC '${e}' stream ${s}: ${m}`,c);const g=a.createWebChannel(m,c);this.I_(g);let v=!1,E=!1;const I=new vz({Yo:_=>{E?le(_n,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(v||(le(_n,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),le(_n,`RPC '${e}' stream ${s} sending:`,_),g.send(_))},Zo:()=>g.close()}),T=(_,R,P)=>{_.listen(R,(M=>{try{P(M)}catch(z){setTimeout((()=>{throw z}),0)}}))};return T(g,ah.EventType.OPEN,(()=>{E||(le(_n,`RPC '${e}' stream ${s} transport opened.`),I.o_())})),T(g,ah.EventType.CLOSE,(()=>{E||(E=!0,le(_n,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(g))})),T(g,ah.EventType.ERROR,(_=>{E||(E=!0,wl(_n,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),I.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),T(g,ah.EventType.MESSAGE,(_=>{var R;if(!E){const P=_.data[0];Ie(!!P,16349);const M=P,z=(M==null?void 0:M.error)||((R=M[0])==null?void 0:R.error);if(z){le(_n,`RPC '${e}' stream ${s} received error:`,z);const U=z.status;let H=(function(C){const N=Yt[C];if(N!==void 0)return ZR(N)})(U),D=z.message;H===void 0&&(H=te.INTERNAL,D="Unknown error status: "+U+" with message "+z.message),E=!0,I.a_(new ce(H,D)),g.close()}else le(_n,`RPC '${e}' stream ${s} received:`,P),I.u_(P)}})),T(u,ZA.STAT_EVENT,(_=>{_.stat===Fw.PROXY?le(_n,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Fw.NOPROXY&&le(_n,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bz(){return typeof window<"u"?window:null}function Vm(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wy(t){return new x9(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const z_="PersistentStream";class DN{constructor(e,n,r,s,i,a,u,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Mn(n.toString()),Mn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xz extends DN{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=k9(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ae.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Ae.min():i.readTime?Vn(i.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Zw(this.serializer),n.addTarget=(function(s,i){let a;const u=i.target;if(a=gg(u)?{documents:aN(s,u)}:{query:lN(s,u).ft},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=nN(s,i.resumeToken);const c=Xw(s,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(Ae.min())>0){a.readTime=Ec(s,i.snapshotVersion.toTimestamp());const c=Xw(s,i.expectedCount);c!==null&&(a.expectedCount=c)}return a})(this.serializer,e);const r=_9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Zw(this.serializer),n.removeTarget=e,this.q_(n)}}class Sz extends DN{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=T9(e.writeResults,e.commitTime),r=Vn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Zw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>bg(this.serializer,r)))};this.q_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ez{}class kz extends Ez{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,Jw(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(te.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Ho(e,Jw(n,r),s,a,u,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(te.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Tz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mn(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tl="RemoteStore";class _z{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Ml(this)&&(le(Tl,"Restarting streams for network reachability change."),await(async function(u){const c=Ve(u);c.Ea.add(4),await vf(c),c.Ra.set("Unknown"),c.Ea.delete(4),await by(c)})(this))}))})),this.Ra=new Tz(r,s)}}async function by(t){if(Ml(t))for(const e of t.da)await e(!0)}async function vf(t){for(const e of t.da)await e(!1)}function ON(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Wx(n)?Kx(n):Pc(n).O_()&&Hx(n,e))}function Gx(t,e){const n=Ve(t),r=Pc(n);n.Ia.delete(e),r.O_()&&MN(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ml(n)&&n.Ra.set("Unknown"))}function Hx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pc(t).Y_(e)}function MN(t,e){t.Va.Ue(e),Pc(t).Z_(e)}function Kx(t){t.Va=new y9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pc(t).start(),t.Ra.ua()}function Wx(t){return Ml(t)&&!Pc(t).x_()&&t.Ia.size>0}function Ml(t){return Ve(t).Ea.size===0}function jN(t){t.Va=void 0}async function Iz(t){t.Ra.set("Online")}async function Cz(t){t.Ia.forEach(((e,n)=>{Hx(t,e)}))}async function Az(t,e){jN(t),Wx(t)?(t.Ra.ha(e),Kx(t)):t.Ra.set("Unknown")}async function Rz(t,e,n){if(t.Ra.set("Online"),e instanceof tN&&e.state===2&&e.cause)try{await(async function(r,s){const i=s.cause;for(const a of s.targetIds)r.Ia.has(a)&&(await r.remoteSyncer.rejectListen(a,i),r.Ia.delete(a),r.Va.removeTarget(a))})(t,e)}catch(r){le(Tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tg(t,r)}else if(e instanceof Lm?t.Va.Ze(e):e instanceof eN?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await RN(t.localStore);n.compareTo(r)>=0&&await(function(s,i){const a=s.Va.Tt(i);return a.targetChanges.forEach(((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(u.resumeToken,i))}})),a.targetMismatches.forEach(((u,c)=>{const h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(Zt.EMPTY_BYTE_STRING,h.snapshotVersion)),MN(s,u);const m=new Ii(h.target,u,c,h.sequenceNumber);Hx(s,m)})),s.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){le(Tl,"Failed to raise snapshot:",r),await Tg(t,r)}}async function Tg(t,e,n){if(!aa(e))throw e;t.Ea.add(1),await vf(t),t.Ra.set("Offline"),n||(n=()=>RN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(Tl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await by(t)}))}function LN(t,e){return e().catch((n=>Tg(t,n,e)))}async function wf(t){const e=Ve(t),n=Jo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ul;for(;Nz(e);)try{const s=await hz(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Pz(e,s)}catch(s){await Tg(e,s)}FN(e)&&VN(e)}function Nz(t){return Ml(t)&&t.Ta.length<10}function Pz(t,e){t.Ta.push(e);const n=Jo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function FN(t){return Ml(t)&&!Jo(t).x_()&&t.Ta.length>0}function VN(t){Jo(t).start()}async function Dz(t){Jo(t).ra()}async function Oz(t){const e=Jo(t);for(const n of t.Ta)e.ea(n.mutations)}async function Mz(t,e,n){const r=t.Ta.shift(),s=Ox.from(r,e,n);await LN(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await wf(t)}async function jz(t,e){e&&Jo(t).X_&&await(async function(n,r){if((function(s){return p9(s)&&s!==te.ABORTED})(r.code)){const s=n.Ta.shift();Jo(n).B_(),await LN(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r))),await wf(n)}})(t,e),FN(t)&&VN(t)}async function B_(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),le(Tl,"RemoteStore received new credentials");const r=Ml(n);n.Ea.add(3),await vf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await by(n)}async function Lz(t,e){const n=Ve(t);e?(n.Ea.delete(2),await by(n)):e||(n.Ea.add(2),await vf(n),n.Ra.set("Unknown"))}function Pc(t){return t.ma||(t.ma=(function(e,n,r){const s=Ve(e);return s.sa(),new xz(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:Iz.bind(null,t),t_:Cz.bind(null,t),r_:Az.bind(null,t),H_:Rz.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Wx(t)?Kx(t):t.Ra.set("Unknown")):(await t.ma.stop(),jN(t))}))),t.ma}function Jo(t){return t.fa||(t.fa=(function(e,n,r){const s=Ve(e);return s.sa(),new Sz(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Dz.bind(null,t),r_:jz.bind(null,t),ta:Oz.bind(null,t),na:Mz.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await wf(t)):(await t.fa.stop(),t.Ta.length>0&&(le(Tl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,u=new Qx(e,n,a,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yx(t,e){if(Mn("AsyncQueue",`${e}: ${t}`),aa(t))return new ce(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oc{static emptySet(e){return new oc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=lh(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class U_{constructor(){this.ga=new Et(he.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class kc{constructor(e,n,r,s,i,a,u,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach((u=>{a.push({type:0,doc:u})})),new kc(e,n,oc.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Vz{constructor(){this.queries=$_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const r=Ve(e),s=r.queries;r.queries=$_(),s.forEach(((i,a)=>{for(const u of a.Sa)u.onError(n)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function $_(){return new $i((t=>VR(t)),dy)}async function Xx(t,e){const n=Ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Fz,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const u=Yx(a,`Initialization of query '${Ku(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Zx(n)}async function Jx(t,e){const n=Ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zz(t,e){const n=Ve(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const u of a.Sa)u.Fa(s)&&(r=!0);a.wa=s}}r&&Zx(n)}function Bz(t,e,n){const r=Ve(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Zx(t){t.Ca.forEach((e=>{e.next()}))}var ob,q_;(q_=ob||(ob={})).Ma="default",q_.Cache="cache";class e1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ob.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zN{constructor(e){this.key=e}}class BN{constructor(e){this.key=e}}class Uz{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=zR(e),this.tu=new oc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new U_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,g)=>{const v=s.get(m),E=gf(this.query,g)?g:null,I=!!v&&this.mutatedKeys.has(v.key),T=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let _=!1;v&&E?v.data.isEqual(E.data)?I!==T&&(r.track({type:3,doc:E}),_=!0):this.su(v,E)||(r.track({type:2,doc:E}),_=!0,(c&&this.eu(E,c)>0||h&&this.eu(E,h)<0)&&(u=!0)):!v&&E?(r.track({type:0,doc:E}),_=!0):v&&!E&&(r.track({type:1,doc:v}),_=!0,(c||h)&&(u=!0)),_&&(E?(a=a.add(E),i=T?i.add(m):i.delete(m)):(a=a.delete(m),i=i.delete(m)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),i=i.delete(m.key),r.track({type:1,doc:m})}return{tu:a,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((m,g)=>(function(v,E){const I=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:T})}};return I(v)-I(E)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,h=c!==this.Za;return this.Za=c,a.length!==0||h?{snapshot:new kc(this.query,e.tu,i,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new BN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new zN(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return kc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const t1="SyncEngine";class $z{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qz{constructor(e){this.key=e,this.hu=!1}}class Gz{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new $i((u=>VR(u)),dy),this.Iu=new Map,this.Eu=new Set,this.du=new Et(he.comparator),this.Au=new Map,this.Ru=new zx,this.Vu={},this.mu=new Map,this.fu=kl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Hz(t,e,n=!0){const r=KN(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await UN(r,e,n,!0),s}async function Kz(t,e){const n=KN(t);await UN(n,e,!0,!1)}async function UN(t,e,n,r){const s=await fz(t.localStore,Vr(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await Wz(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&ON(t.remoteStore,s),u}async function Wz(t,e,n,r,s){t.pu=(g,v,E)=>(async function(I,T,_,R){let P=T.view.ru(_);P.Cs&&(P=await j_(I.localStore,T.query,!1).then((({documents:H})=>T.view.ru(H,P))));const M=R&&R.targetChanges.get(T.targetId),z=R&&R.targetMismatches.get(T.targetId)!=null,U=T.view.applyChanges(P,I.isPrimaryClient,M,z);return H_(I,T.targetId,U.au),U.snapshot})(t,g,v,E);const i=await j_(t.localStore,e,!0),a=new Uz(e,i.Qs),u=a.ru(i.documents),c=yf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=a.applyChanges(u,t.isPrimaryClient,c);H_(t,n,h.au);const m=new $z(e,n,a);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function Qz(t,e,n){const r=Ve(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((a=>!dy(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await sb(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Gx(r.remoteStore,s.targetId),ab(r,s.targetId)})).catch(Ol)):(ab(r,s.targetId),await sb(r.localStore,s.targetId,!0))}async function Yz(t,e){const n=Ve(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gx(n.remoteStore,r.targetId))}async function Xz(t,e,n){const r=WN(t);try{const s=await(function(i,a){const u=Ve(i),c=rt.now(),h=a.reduce(((v,E)=>v.add(E.key)),Ge());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let E=gr(),I=Ge();return u.Ns.getEntries(v,h).next((T=>{E=T,E.forEach(((_,R)=>{R.isValidDocument()||(I=I.add(_))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,E))).next((T=>{m=T;const _=[];for(const R of a){const P=h9(R,m.get(R.key).overlayedDocument);P!=null&&_.push(new qi(R.key,P,RR(P.value.mapValue),An.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,_,a)})).next((T=>{g=T;const _=T.applyToLocalDocumentSet(m,I);return u.documentOverlayCache.saveOverlays(v,T.batchId,_)}))})).then((()=>({batchId:g.batchId,changes:UR(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(i,a,u){let c=i.Vu[i.currentUser.toKey()];c||(c=new Et(Fe)),c=c.insert(a,u),i.Vu[i.currentUser.toKey()]=c})(r,s.batchId,n),await bf(r,s.changes),await wf(r.remoteStore)}catch(s){const i=Yx(s,"Failed to persist write");n.reject(i)}}async function $N(t,e){const n=Ve(t);try{const r=await cz(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const a=n.Au.get(i);a&&(Ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Ie(a.hu,14607):s.removedDocuments.size>0&&(Ie(a.hu,42227),a.hu=!1))})),await bf(n,r,e)}catch(r){await Ol(r)}}function G_(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,a)=>{const u=a.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(i,a){const u=Ve(i);u.onlineState=a;let c=!1;u.queries.forEach(((h,m)=>{for(const g of m.Sa)g.va(a)&&(c=!0)})),c&&Zx(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Jz(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Et(he.comparator);a=a.insert(i,Ot.newNoDocument(i,Ae.min()));const u=Ge().add(i),c=new my(Ae.min(),new Map,new Et(Fe),a,u);await $N(r,c),r.du=r.du.remove(i),r.Au.delete(e),n1(r)}else await sb(r.localStore,e,!1).then((()=>ab(r,e,n))).catch(Ol)}async function Zz(t,e){const n=Ve(t),r=e.batch.batchId;try{const s=await uz(n.localStore,e);GN(n,r,null),qN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bf(n,s)}catch(s){await Ol(s)}}async function eB(t,e,n){const r=Ve(t);try{const s=await(function(i,a){const u=Ve(i);return u.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next((m=>(Ie(m!==null,37113),h=m.keys(),u.mutationQueue.removeMutationBatch(c,m)))).next((()=>u.mutationQueue.performConsistencyCheck(c))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h))).next((()=>u.localDocuments.getDocuments(c,h)))}))})(r.localStore,e);GN(r,e,n),qN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bf(r,s)}catch(s){await Ol(s)}}function qN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function GN(t,e,n){const r=Ve(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function ab(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||HN(t,r)}))}function HN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Gx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),n1(t))}function H_(t,e,n){for(const r of n)r instanceof zN?(t.Ru.addReference(r.key,e),tB(t,r)):r instanceof BN?(le(t1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||HN(t,r.key)):Ee(19791,{wu:r})}function tB(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(t1,"New document in limbo: "+n),t.Eu.add(r),n1(t))}function n1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new he(ot.fromString(e)),r=t.fu.next();t.Au.set(r,new qz(n)),t.du=t.du.insert(n,r),ON(t.remoteStore,new Ii(Vr(mf(n.path)),r,"TargetPurposeLimboResolution",jr.ce))}}async function bf(t,e,n){const r=Ve(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{a.push(r.pu(c,e,n).then((h=>{var m;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(h){s.push(h);const g=$x.As(c.targetId,h);i.push(g)}})))})),await Promise.all(a),r.Pu.H_(s),await(async function(u,c){const h=Ve(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Q.forEach(c,(g=>Q.forEach(g.Es,(v=>h.persistence.referenceDelegate.addReference(m,g.targetId,v))).next((()=>Q.forEach(g.ds,(v=>h.persistence.referenceDelegate.removeReference(m,g.targetId,v)))))))))}catch(m){if(!aa(m))throw m;le(qx,"Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const v=h.Ms.get(g),E=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(E);h.Ms=h.Ms.insert(g,I)}}})(r.localStore,i))}async function nB(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){le(t1,"User change. New user:",e.toKey());const r=await AN(n.localStore,e);n.currentUser=e,(function(s,i){s.mu.forEach((a=>{a.forEach((u=>{u.reject(new ce(te.CANCELLED,i))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bf(n,r.Ls)}}function rB(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let s=Ge();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const u=n.Tu.get(a);s=s.unionWith(u.view.nu)}return s}}function KN(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$N.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jz.bind(null,e),e.Pu.H_=zz.bind(null,e.eventManager),e.Pu.yu=Bz.bind(null,e.eventManager),e}function WN(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eB.bind(null,e),e}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return CN(this.persistence,new IN,e.initialUser,this.serializer)}Cu(e){return new Bx(vy.mi,this.serializer)}Du(e){return new NN}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class sB extends Gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof kg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new Bx((r=>kg.mi(r,n)),this.serializer)}}class iB extends Gh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await WN(this.xu.syncEngine),await wf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return CN(this.persistence,new IN,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new SN(r,e.asyncQueue,n)}Mu(e,n){const r=new dV(n,this.persistence);return new cV(e.asyncQueue,r)}Cu(e){const n=iz(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new Ux(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,bz(),Vm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new NN}}class _g{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nB.bind(null,this.syncEngine),await Lz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Vz})()}createDatastore(e){const n=wy(e.databaseInfo.databaseId),r=(function(s){return new wz(s)})(e.databaseInfo);return(function(s,i,a,u){return new kz(s,i,a,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(n,r,s,i,a){return new _z(n,r,s,i,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>G_(this.syncEngine,n,0)),(function(){return V_.v()?new V_:new mz})())}createSyncEngine(e,n){return(function(r,s,i,a,u,c,h){const m=new Gz(r,s,i,a,u,c);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const s=Ve(r);le(Tl,"RemoteStore shutting down."),s.Ea.add(5),await vf(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}_g.provider={build:()=>new _g};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zo="FirestoreClient";class oB{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=vn.UNAUTHENTICATED,this.clientId=xx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{le(Zo,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(le(Zo,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function D0(t,e){t.asyncQueue.verifyOperationInProgress(),le(Zo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await AN(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function K_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aB(t);le(Zo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>B_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>B_(e.remoteStore,s))),t._onlineComponents=e}async function aB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(Zo,"Using user provided OfflineComponentProvider");try{await D0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===te.FAILED_PRECONDITION||r.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;wl("Error using user provided cache. Falling back to memory cache: "+n),await D0(t,new Gh)}}else le(Zo,"Using default OfflineComponentProvider"),await D0(t,new sB(void 0));return t._offlineComponents}async function QN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(Zo,"Using user provided OnlineComponentProvider"),await K_(t,t._uninitializedComponentsProvider._online)):(le(Zo,"Using default OnlineComponentProvider"),await K_(t,new _g))),t._onlineComponents}function lB(t){return QN(t).then((e=>e.syncEngine))}async function Ig(t){const e=await QN(t),n=e.eventManager;return n.onListen=Hz.bind(null,e.syncEngine),n.onUnlisten=Qz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Kz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Yz.bind(null,e.syncEngine),n}function uB(t,e,n={}){const r=new zs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,a,u,c){const h=new r1({next:g=>{h.Nu(),i.enqueueAndForget((()=>Jx(s,m)));const v=g.docs.has(a);!v&&g.fromCache?c.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new e1(mf(a.path),h,{includeMetadataChanges:!0,qa:!0});return Xx(s,m)})(await Ig(t),t.asyncQueue,e,n,r))),r.promise}function cB(t,e,n={}){const r=new zs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,a,u,c){const h=new r1({next:g=>{h.Nu(),i.enqueueAndForget((()=>Jx(s,m))),g.fromCache&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new e1(a,h,{includeMetadataChanges:!0,qa:!0});return Xx(s,m)})(await Ig(t),t.asyncQueue,e,n,r))),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function YN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const W_=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const XN="firestore.googleapis.com",Q_=!0;class Y_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XN,this.ssl=Q_}else this.host=e.host,this.ssl=e.ssl??Q_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U9)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YN(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new QF;switch(n.type){case"firstParty":return new ZF(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=W_.get(e);n&&(le("ComponentProvider","Removing Datastore"),W_.delete(e),n.terminate())})(this),Promise.resolve()}}function dB(t,e,n,r={}){var s;t=Fn(t,xy);const i=Nl(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(ax(`https://${c}`),lx("Firestore",!0)),a.host!==XN&&a.host!==c&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:c,ssl:i,emulatorOptions:r};if(!Qo(h,u)&&(t._setSettings(h),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=vn.MOCK_USER;else{m=iA(r.mockUserToken,(s=t._app)==null?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new vn(v)}t._authCredentials=new YF(new rR(m,g))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let jl=class JN{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new JN(this.firestore,e,this._query)}};class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hf(n,Mt._jsonSchema))return new Mt(e,r||null,new he(ot.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Jt("string",Mt._jsonSchemaVersion),referencePath:Jt("string")};class Ko extends jl{constructor(e,n,r){super(e,n,mf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new he(e))}withConverter(e){return new Ko(this.firestore,e,this._path)}}function Pn(t,e,...n){if(t=At(t),iR("collection","path",e),t instanceof xy){const r=ot.fromString(e,...n);return zT(r),new Ko(t,null,r)}{if(!(t instanceof Mt||t instanceof Ko))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return zT(r),new Ko(t.firestore,null,r)}}function Js(t,e,...n){if(t=At(t),arguments.length===1&&(e=xx.newId()),iR("doc","path",e),t instanceof xy){const r=ot.fromString(e,...n);return VT(r),new Mt(t,null,new he(r))}{if(!(t instanceof Mt||t instanceof Ko))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return VT(r),new Mt(t.firestore,t instanceof Ko?t.converter:null,new he(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const X_="AsyncQueue";class J_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PN(this,"async_queue_retry"),this._c=()=>{const r=Vm();r&&le(X_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!aa(e))throw e;le(X_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Mn("INTERNAL UNHANDLED ERROR: ",Z_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Qx.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Ee(47125,{Pc:Z_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Z_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function eI(t){return(function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Ws extends xy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new J_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J_(e),this._firestoreClient=void 0,await e}}}function Sy(t,e){const n=typeof t=="object"?t:Jg(),r=typeof t=="string"?t:mg,s=ia(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=nA("firestore");i&&dB(s,...i)}return s}function Ey(t){if(t._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZN(t),t._firestoreClient}function ZN(t){var e,n,r;const s=t._freezeSettings(),i=(function(a,u,c,h){return new zV(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,YN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)==null?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||(n=s.localCache)!=null&&n._offlineComponentProvider&&(r=s.localCache)!=null&&r._onlineComponentProvider&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new oB(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}})(t._componentsProvider))}function hB(t,e){wl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return fB(t,_g.provider,{build:r=>new iB(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function fB(t,e,n){if((t=Fn(t,Ws))._firestoreClient||t._terminated)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ce(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},ZN(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mr(Zt.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mr(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hf(e,Mr._jsonSchema))return Mr.fromBase64String(e.bytes)}}Mr._jsonSchemaVersion="firestore/bytes/1.0",Mr._jsonSchema={type:Jt("string",Mr._jsonSchemaVersion),bytes:Jt("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ky{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ty{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bs._jsonSchemaVersion}}static fromJSON(e){if(hf(e,Bs._jsonSchema))return new Bs(e.latitude,e.longitude)}}Bs._jsonSchemaVersion="firestore/geoPoint/1.0",Bs._jsonSchema={type:Jt("string",Bs._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Us{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hf(e,Us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Us(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Us._jsonSchemaVersion="firestore/vectorValue/1.0",Us._jsonSchema={type:Jt("string",Us._jsonSchemaVersion),vectorValues:Jt("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pB=/^__.*__$/;class mB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nc(e,this.data,n,this.fieldTransforms)}}class eP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class s1{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new s1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Cg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tP(this.Ac)&&pB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wy(e)}Cc(e,n,r,s=!1){return new s1({Ac:e,methodName:n,Dc:r,path:_t.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _y(t){const e=t._freezeSettings(),n=wy(t._databaseId);return new gB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nP(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);o1("Data must be an object, but it was:",a,r);const u=rP(r,a);let c,h;if(i.merge)c=new Zn(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const m=[];for(const g of i.mergeFields){const v=lb(e,g,n);if(!a.contains(v))throw new ce(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);iP(m,v)||m.push(v)}c=new Zn(m),h=a.fieldTransforms.filter((g=>c.covers(g.field)))}else c=null,h=a.fieldTransforms;return new mB(new Cn(u),c,h)}class Iy extends Ty{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iy}}class i1 extends Ty{_toFieldTransform(e){return new QR(e.path,new bc)}isEqual(e){return e instanceof i1}}function yB(t,e,n,r){const s=t.Cc(1,e,n);o1("Data must be an object, but it was:",s,r);const i=[],a=Cn.empty();la(r,((c,h)=>{const m=a1(e,c,n);h=At(h);const g=s.yc(m);if(h instanceof Iy)i.push(m);else{const v=xf(h,g);v!=null&&(i.push(m),a.set(m,v))}}));const u=new Zn(i);return new eP(a,u,s.fieldTransforms)}function vB(t,e,n,r,s,i){const a=t.Cc(1,e,n),u=[lb(e,r,n)],c=[s];if(i.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)u.push(lb(e,i[v])),c.push(i[v+1]);const h=[],m=Cn.empty();for(let v=u.length-1;v>=0;--v)if(!iP(h,u[v])){const E=u[v];let I=c[v];I=At(I);const T=a.yc(E);if(I instanceof Iy)h.push(E);else{const _=xf(I,T);_!=null&&(h.push(E),m.set(E,_))}}const g=new Zn(h);return new eP(m,g,a.fieldTransforms)}function wB(t,e,n,r=!1){return xf(n,t.Cc(r?4:3,e))}function xf(t,e){if(sP(t=At(t)))return o1("Unsupported field value:",e,t),rP(t,e);if(t instanceof Ty)return(function(n,r){if(!tP(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const s=[];let i=0;for(const a of n){let u=xf(a,r.wc(i));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),i++}return{arrayValue:{values:s}}})(t,e)}return(function(n,r){if((n=At(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return o9(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=rt.fromDate(n);return{timestampValue:Ec(r.serializer,s)}}if(n instanceof rt){const s=new rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ec(r.serializer,s)}}if(n instanceof Bs)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Mr)return{bytesValue:nN(r.serializer,n._byteString)};if(n instanceof Mt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Lx(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Us)return(function(s,i){return{mapValue:{fields:{[Ax]:{stringValue:Rx},[gc]:{arrayValue:{values:s.toArray().map((a=>{if(typeof a!="number")throw i.Sc("VectorValues must only contain numeric values.");return Px(i.serializer,a)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${ry(n)}`)})(t,e)}function rP(t,e){const n={};return xR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,((r,s)=>{const i=xf(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function sP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Bs||t instanceof Mr||t instanceof Mt||t instanceof Ty||t instanceof Us)}function o1(t,e,n){if(!sP(n)||!oR(n)){const r=ry(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function lb(t,e,n){if((e=At(e))instanceof ky)return e._internalPath;if(typeof e=="string")return a1(t,e);throw Cg("Field path arguments must be of type string or ",t,!1,void 0,n)}const bB=new RegExp("[~\\*/\\[\\]]");function a1(t,e,n){if(e.search(bB)>=0)throw Cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ky(...e.split("."))._internalPath}catch{throw Cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cg(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new ce(te.INVALID_ARGUMENT,u+t+c)}function iP(t,e){return t.some((n=>n.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oP{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xB extends oP{data(){return super.data()}}function Cy(t,e){return typeof e=="string"?a1(t,e):e instanceof ky?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l1{}class u1 extends l1{}function as(t,e,...n){let r=[];e instanceof l1&&r.push(e),r=r.concat(n),(function(s){const i=s.filter((u=>u instanceof c1)).length,a=s.filter((u=>u instanceof Ay)).length;if(i>1||i>0&&a>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Ay extends u1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ay(e,n,r)}_apply(e){const n=this._parse(e);return lP(e._query,n),new jl(e.firestore,e.converter,Yw(e._query,n))}_parse(e){const n=_y(e.firestore);return(function(r,s,i,a,u,c,h){let m;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){nI(h,c);const g=[];for(const v of h)g.push(tI(a,r,v));m={arrayValue:{values:g}}}else m=tI(a,r,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||nI(h,c),m=wB(i,s,h,c==="in"||c==="not-in");return We.create(u,c,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Lr(t,e,n){const r=e,s=Cy("where",t);return Ay._create(s,r,n)}class c1 extends l1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new c1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:lt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,s){let i=r;const a=s.getFlattenedFilters();for(const u of a)lP(i,u),i=Yw(i,u)})(e._query,n),new jl(e.firestore,e.converter,Yw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class d1 extends u1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new d1(e,n)}_apply(e){const n=(function(r,s,i){if(r.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $h(s,i)})(e._query,this._field,this._direction);return new jl(e.firestore,e.converter,(function(r,s){const i=r.explicitOrderBy.concat([s]);return new Rc(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function Dc(t,e="asc"){const n=e,r=Cy("orderBy",t);return d1._create(r,n)}class h1 extends u1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new h1(e,n,r)}_apply(e){return new jl(e.firestore,e.converter,vg(e._query,this._limit,this._limitType))}}function f1(t){return oV("limit",t),h1._create("limit",t,"F")}function tI(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FR(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!he.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bh(t,new he(r))}if(n instanceof Mt)return Bh(t,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ry(n)}.`)}function nI(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lP(t,e){const n=(function(r,s){for(const i of r)for(const a of i.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SB{convertValue(e,n="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return la(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)==null?void 0:n[gc].arrayValue)==null?void 0:r.values)==null?void 0:s.map((a=>xt(a.doubleValue)));return new Us(i)}convertGeoPoint(e){return new Bs(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vh(e));default:return null}}convertTimestamp(e){const n=Di(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Ie(hN(r),9688,{name:e});const s=new bl(r.get(1),r.get(3)),i=new he(r.popFirst(5));return s.isEqual(n)||Mn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class dh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hl extends oP{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=hl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),n}}hl._jsonSchemaVersion="firestore/documentSnapshot/1.0",hl._jsonSchema={type:Jt("string",hl._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class zm extends hl{data(e={}){return super.data(e)}}class fl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new dh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new zm(this._firestore,this._userDataWriter,r.key,r,new dh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map((a=>{const u=new zm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new dh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:i++}}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const u=new zm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new dh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),h=i.indexOf(a.doc.key)),{type:EB(a.type),doc:u,oldIndex:c,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cP(t){t=Fn(t,Mt);const e=Fn(t.firestore,Ws);return uB(Ey(e),t._key).then((n=>hP(e,t,n)))}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:Jt("string",fl._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class p1 extends SB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function ls(t){t=Fn(t,jl);const e=Fn(t.firestore,Ws),n=Ey(e),r=new p1(e);return aP(t._query),cB(n,t._query).then((s=>new fl(e,r,t,s)))}function Ry(t,e,n){t=Fn(t,Mt);const r=Fn(t.firestore,Ws),s=uP(t.converter,e,n);return Py(r,[nP(_y(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,An.none())])}function Ny(t,e,n,...r){t=Fn(t,Mt);const s=Fn(t.firestore,Ws),i=_y(s);let a;return a=typeof(e=At(e))=="string"||e instanceof ky?vB(i,"updateDoc",t._key,e,n,r):yB(i,"updateDoc",t._key,e),Py(s,[a.toMutation(t._key,An.exists(!0))])}function gne(t){return Py(Fn(t.firestore,Ws),[new py(t._key,An.none())])}function m1(t,e){const n=Fn(t.firestore,Ws),r=Js(t),s=uP(t.converter,e);return Py(n,[nP(_y(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,An.exists(!1))]).then((()=>r))}function dP(t,...e){var n,r,s;t=At(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||eI(e[a])||(i=e[a++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(eI(e[a])){const g=e[a];e[a]=(n=g.next)==null?void 0:n.bind(g),e[a+1]=(r=g.error)==null?void 0:r.bind(g),e[a+2]=(s=g.complete)==null?void 0:s.bind(g)}let c,h,m;if(t instanceof Mt)h=Fn(t.firestore,Ws),m=mf(t._key.path),c={next:g=>{e[a]&&e[a](hP(h,t,g))},error:e[a+1],complete:e[a+2]};else{const g=Fn(t,jl);h=Fn(g.firestore,Ws),m=g._query;const v=new p1(h);c={next:E=>{e[a]&&e[a](new fl(h,v,g,E))},error:e[a+1],complete:e[a+2]},aP(t._query)}return(function(g,v,E,I){const T=new r1(I),_=new e1(v,T,E);return g.asyncQueue.enqueueAndForget((async()=>Xx(await Ig(g),_))),()=>{T.Nu(),g.asyncQueue.enqueueAndForget((async()=>Jx(await Ig(g),_)))}})(Ey(h),m,u,c)}function Py(t,e){return(function(n,r){const s=new zs;return n.asyncQueue.enqueueAndForget((async()=>Xz(await lB(n),r,s))),s.promise})(Ey(t),e)}function hP(t,e,n){const r=n.docs.get(e._key),s=new p1(t);return new hl(t,s,e._key,r,new dh(n.hasPendingWrites,n.fromCache),e.converter)}function jn(){return new i1("serverTimestamp")}(function(t,e=!0){(function(n){Ac=n})(Dl),is(new Ur("firestore",((n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),a=new Ws(new XF(n.getProvider("auth-internal")),new eV(i,n.getProvider("app-check-internal")),(function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(u.options.projectId,c)})(i,r),i);return s={useFetchStreams:e,...s},a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),tr(MT,jT,t),tr(MT,jT,"esm2020")})();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fP="firebasestorage.googleapis.com",kB="storageBucket",TB=120*1e3,_B=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zs extends $r{constructor(e,n,r=0){super(O0(e),`Firebase Storage: ${n} (${O0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return O0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qs||(Qs={}));function O0(t){return"storage/"+t}function IB(){const t="An unknown error occurred, please check the error payload for server response.";return new Zs(Qs.UNKNOWN,t)}function CB(){return new Zs(Qs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AB(){return new Zs(Qs.CANCELED,"User canceled the upload/download.")}function RB(t){return new Zs(Qs.INVALID_URL,"Invalid URL '"+t+"'.")}function NB(t){return new Zs(Qs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function rI(t){return new Zs(Qs.INVALID_ARGUMENT,t)}function pP(){return new Zs(Qs.APP_DELETED,"The Firebase app was deleted.")}function PB(t){return new Zs(Qs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ss{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ss.makeFromUrl(e,n)}catch{return new ss(e,"")}if(r.path==="")return r;throw NB(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function h(M){M.path_=decodeURIComponent(M.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp(`^https?://${g}/${m}/b/${s}/o${v}`,"i"),I={bucket:1,path:3},T=n===fP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",R=new RegExp(`^https?://${T}/${s}/${_}`,"i"),P=[{regex:u,indices:c,postModify:i},{regex:E,indices:I,postModify:h},{regex:R,indices:{bucket:1,path:2},postModify:h}];for(let M=0;M<P.length;M++){const z=P[M],U=z.regex.exec(e);if(U){const H=U[z.indices.bucket];let D=U[z.indices.path];D||(D=""),r=new ss(H,D),z.postModify(r);break}}if(r==null)throw RB(e);return r}}class DB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function OB(t,e,n){let r=1,s=null,i=null,a=!1,u=0;function c(){return u===2}let h=!1;function m(..._){h||(h=!0,e.apply(null,_))}function g(_){s=setTimeout(()=>{s=null,t(E,c())},_)}function v(){i&&clearTimeout(i)}function E(_,...R){if(h){v();return}if(_){v(),m.call(null,_,...R);return}if(c()||a){v(),m.call(null,_,...R);return}r<64&&(r*=2);let P;u===1?(u=2,P=0):P=(r+Math.random())*1e3,g(P)}let I=!1;function T(_){I||(I=!0,v(),!h&&(s!==null?(_||(u=2),clearTimeout(s),g(0)):_||(u=1)))}return g(0),i=setTimeout(()=>{a=!0,T(!0)},n),T}function MB(t){t(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jB(t){return t!==void 0}function sI(t,e,n,r){if(r<e)throw rI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw rI(`Invalid value for '${t}'. Expected ${n} or less.`)}function LB(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ag;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ag||(Ag={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function FB(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VB{constructor(e,n,r,s,i,a,u,c,h,m,g,v=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,T)=>{this.resolve_=I,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new im(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=u=>{const c=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const u=i.getErrorCode()===Ag.NO_ERROR,c=i.getStatus();if(!u||FB(c,this.additionalRetryCodes_)&&this.retry){const m=i.getErrorCode()===Ag.ABORT;r(!1,new im(!1,null,m));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new im(h,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());jB(c)?i(c):i()}catch(c){a(c)}else if(u!==null){const c=IB();c.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,c)):a(c)}else if(s.canceled){const c=this.appDelete_?pP():AB();a(c)}else{const c=CB();a(c)}};this.canceled_?n(!1,new im(!1,null,!0)):this.backoffId_=OB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class im{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function zB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function UB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $B(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function qB(t,e,n,r,s,i,a=!0,u=!1){const c=LB(t.urlParams),h=t.url+c,m=Object.assign({},t.headers);return UB(m,e),zB(m,n),BB(m,i),$B(m,r),new VB(h,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,u)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function GB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function HB(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rg{constructor(e,n){this._service=e,n instanceof ss?this._location=n:this._location=ss.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Rg(e,n)}get root(){const e=new ss(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HB(this._location.path)}get storage(){return this._service}get parent(){const e=GB(this._location.path);if(e===null)return null;const n=new ss(this._location.bucket,e);return new Rg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw PB(e)}}function iI(t,e){const n=e==null?void 0:e[kB];return n==null?null:ss.makeFromBucketSpec(n,t)}function KB(t,e,n,r={}){t.host=`${e}:${n}`;const s=Nl(e);s&&(ax(`https://${t.host}/b`),lx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:iA(i,t.app.options.projectId))}class WB{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=fP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TB,this._maxUploadRetryTime=_B,this._requests=new Set,s!=null?this._bucket=ss.makeFromBucketSpec(s,this._host):this._bucket=iI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ss.makeFromBucketSpec(this._url,e):this._bucket=iI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rg(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new DB(pP());{const a=qB(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const oI="@firebase/storage",aI="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mP="storage";function QB(t=Jg(),e){t=At(t);const n=ia(t,mP).getImmediate({identifier:e}),r=nA("storage");return r&&YB(n,...r),n}function YB(t,e,n,r={}){KB(t,e,n,r)}function XB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new WB(n,r,s,e,Dl)}function JB(){is(new Ur(mP,XB,"PUBLIC").setMultipleInstances(!0)),tr(oI,aI,""),tr(oI,aI,"esm2020")}JB();const gP="@firebase/installations",g1="0.6.19";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yP=1e4,vP=`w:${g1}`,wP="FIS_v2",ZB="https://firebaseinstallations.googleapis.com/v1",eU=3600*1e3,tU="installations",nU="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},_l=new Pl(tU,nU,rU);function bP(t){return t instanceof $r&&t.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xP({projectId:t}){return`${ZB}/projects/${t}/installations`}function SP(t){return{token:t.token,requestStatus:2,expiresIn:iU(t.expiresIn),creationTime:Date.now()}}async function EP(t,e){const n=(await e.json()).error;return _l.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function kP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sU(t,{refreshToken:e}){const n=kP(t);return n.append("Authorization",oU(e)),n}async function TP(t){const e=await t();return e.status>=500&&e.status<600?t():e}function iU(t){return Number(t.replace("s","000"))}function oU(t){return`${wP} ${t}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function aU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=xP(t),s=kP(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={fid:n,authVersion:wP,appId:t.appId,sdkVersion:vP},u={method:"POST",headers:s,body:JSON.stringify(a)},c=await TP(()=>fetch(r,u));if(c.ok){const h=await c.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:SP(h.authToken)}}else throw await EP("Create Installation",c)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _P(t){return new Promise(e=>{setTimeout(e,t)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uU=/^[cdef][\w-]{21}$/,ub="";function cU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=dU(t);return uU.test(e)?e:ub}catch{return ub}}function dU(t){return lU(t).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Dy(t){return`${t.appName}!${t.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IP=new Map;function CP(t,e){const n=Dy(t);AP(n,e),hU(n,e)}function AP(t,e){const n=IP.get(t);if(n)for(const r of n)r(e)}function hU(t,e){const n=fU();n&&n.postMessage({key:t,fid:e}),pU()}let sl=null;function fU(){return!sl&&"BroadcastChannel"in self&&(sl=new BroadcastChannel("[Firebase] FID Change"),sl.onmessage=t=>{AP(t.data.key,t.data.fid)}),sl}function pU(){IP.size===0&&sl&&(sl.close(),sl=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mU="firebase-installations-database",gU=1,Il="firebase-installations-store";let M0=null;function y1(){return M0||(M0=hA(mU,gU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Il)}}})),M0}async function Ng(t,e){const n=Dy(t),r=(await y1()).transaction(Il,"readwrite"),s=r.objectStore(Il),i=await s.get(n);return await s.put(e,n),await r.done,(!i||i.fid!==e.fid)&&CP(t,e.fid),e}async function RP(t){const e=Dy(t),n=(await y1()).transaction(Il,"readwrite");await n.objectStore(Il).delete(e),await n.done}async function Oy(t,e){const n=Dy(t),r=(await y1()).transaction(Il,"readwrite"),s=r.objectStore(Il),i=await s.get(n),a=e(i);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!i||i.fid!==a.fid)&&CP(t,a.fid),a}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function v1(t){let e;const n=await Oy(t.appConfig,r=>{const s=yU(r),i=vU(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===ub?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function yU(t){const e=t||{fid:cU(),registrationStatus:0};return NP(e)}function vU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(_l.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=wU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:bU(t)}:{installationEntry:e}}async function wU(t,e){try{const n=await aU(t,e);return Ng(t.appConfig,n)}catch(n){throw bP(n)&&n.customData.serverCode===409?await RP(t.appConfig):await Ng(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function bU(t){let e=await lI(t.appConfig);for(;e.registrationStatus===1;)await _P(100),e=await lI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await v1(t);return r||n}return e}function lI(t){return Oy(t,e=>{if(!e)throw _l.create("installation-not-found");return NP(e)})}function NP(t){return xU(t)?{fid:t.fid,registrationStatus:0}:t}function xU(t){return t.registrationStatus===1&&t.registrationTime+yP<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function SU({appConfig:t,heartbeatServiceProvider:e},n){const r=EU(t,n),s=sU(t,n),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={installation:{sdkVersion:vP,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(a)},c=await TP(()=>fetch(r,u));if(c.ok){const h=await c.json();return SP(h)}else throw await EP("Generate Auth Token",c)}function EU(t,{fid:e}){return`${xP(t)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function w1(t,e=!1){let n;const r=await Oy(t.appConfig,s=>{if(!PP(s))throw _l.create("not-registered");const i=s.authToken;if(!e&&_U(i))return s;if(i.requestStatus===1)return n=kU(t,e),s;{if(!navigator.onLine)throw _l.create("app-offline");const a=CU(s);return n=TU(t,a),a}});return n?await n:r.authToken}async function kU(t,e){let n=await uI(t.appConfig);for(;n.authToken.requestStatus===1;)await _P(100),n=await uI(t.appConfig);const r=n.authToken;return r.requestStatus===0?w1(t,e):r}function uI(t){return Oy(t,e=>{if(!PP(e))throw _l.create("not-registered");const n=e.authToken;return AU(n)?{...e,authToken:{requestStatus:0}}:e})}async function TU(t,e){try{const n=await SU(t,e),r={...e,authToken:n};return await Ng(t.appConfig,r),n}catch(n){if(bP(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await RP(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Ng(t.appConfig,r)}throw n}}function PP(t){return t!==void 0&&t.registrationStatus===2}function _U(t){return t.requestStatus===2&&!IU(t)}function IU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+eU}function CU(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function AU(t){return t.requestStatus===1&&t.requestTime+yP<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function RU(t){const e=t,{installationEntry:n,registrationPromise:r}=await v1(e);return r?r.catch(console.error):w1(e).catch(console.error),n.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function NU(t,e=!1){const n=t;return await PU(n),(await w1(n,e)).token}async function PU(t){const{registrationPromise:e}=await v1(t);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function DU(t){if(!t||!t.options)throw j0("App Configuration");if(!t.name)throw j0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw j0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function j0(t){return _l.create("missing-app-config-values",{valueName:t})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DP="installations",OU="installations-internal",MU=t=>{const e=t.getProvider("app").getImmediate(),n=DU(e),r=ia(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},jU=t=>{const e=t.getProvider("app").getImmediate(),n=ia(e,DP).getImmediate();return{getId:()=>RU(n),getToken:r=>NU(n,r)}};function LU(){is(new Ur(DP,MU,"PUBLIC")),is(new Ur(OU,jU,"PRIVATE"))}LU();tr(gP,g1);tr(gP,g1,"esm2020");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pg="analytics",FU="firebase_id",VU="origin",zU=60*1e3,BU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",b1="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zn=new Xg("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},yr=new Pl("analytics","Analytics",UU);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $U(t){if(!t.startsWith(b1)){const e=yr.create("invalid-gtag-resource",{gtagURL:t});return zn.warn(e.message),""}return t}function OP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function qU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function GU(t,e){const n=qU("firebase-js-sdk-policy",{createScriptURL:$U}),r=document.createElement("script"),s=`${b1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function HU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function KU(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const u=(await OP(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(u){zn.error(u)}t("config",s,i)}async function WU(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const u=await OP(n);for(const c of a){const h=u.find(g=>g.measurementId===c),m=h&&e[h.appId];if(m)i.push(m);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){zn.error(i)}}function QU(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[u,c]=a;await WU(t,e,n,u,c)}else if(i==="config"){const[u,c]=a;await KU(t,e,n,r,u,c)}else if(i==="consent"){const[u,c]=a;t("consent",u,c)}else if(i==="get"){const[u,c,h]=a;t("get",u,c,h)}else if(i==="set"){const[u]=a;t("set",u)}else t(i,...a)}catch(u){zn.error(u)}}return s}function YU(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=QU(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function XU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(b1)&&n.src.includes(t))return n;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JU=30,ZU=1e3;class e8{constructor(e={},n=ZU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const MP=new e8;function t8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function n8(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:t8(r)},i=BU.replace("{app-id}",n),a=await fetch(i,s);if(a.status!==200&&a.status!==304){let u="";try{const c=await a.json();(e=c.error)!=null&&e.message&&(u=c.error.message)}catch{}throw yr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function r8(t,e=MP,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw yr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw yr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new o8;return setTimeout(async()=>{u.abort()},zU),jP({appId:r,apiKey:s,measurementId:i},a,u,e)}async function jP(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=MP){var i;const{appId:a,measurementId:u}=t;try{await s8(r,e)}catch(c){if(u)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:u};throw c}try{const c=await n8(t);return s.deleteThrottleMetadata(a),c}catch(c){const h=c;if(!i8(h)){if(s.deleteThrottleMetadata(a),u)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:a,measurementId:u};throw c}const m=Number((i=h==null?void 0:h.customData)==null?void 0:i.httpStatus)===503?oT(n,s.intervalMillis,JU):oT(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return s.setThrottleMetadata(a,g),zn.debug(`Calling attemptFetch again in ${m} millis`),jP(t,g,r,s)}}function s8(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(yr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function i8(t){if(!(t instanceof $r)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class o8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function a8(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a={...r,send_to:i};t("event",n,a)}}async function l8(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function u8(){if(Yg())try{await cx()}catch(t){return zn.warn(yr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return zn.warn(yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function c8(t,e,n,r,s,i,a){const u=r8(t);u.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>zn.error(v)),e.push(u);const c=u8().then(v=>{if(v)return r.getId()}),[h,m]=await Promise.all([u,c]);XU(i)||GU(i,h.measurementId),s("js",new Date);const g=(a==null?void 0:a.config)??{};return g[VU]="firebase",g.update=!0,m!=null&&(g[FU]=m),s("config",h.measurementId,g),h.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class d8{constructor(e){this.app=e}_delete(){return delete ac[this.app.options.appId],Promise.resolve()}}let ac={},cI=[];const dI={};let L0="dataLayer",h8="gtag",hI,x1,fI=!1;function f8(){const t=[];if(ux()&&t.push("This is a browser extension environment."),uA()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=yr.create("invalid-analytics-context",{errorInfo:e});zn.warn(n.message)}}function p8(t,e,n){f8();const r=t.options.appId;if(!r)throw yr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw yr.create("no-api-key");if(ac[r]!=null)throw yr.create("already-exists",{id:r});if(!fI){HU(L0);const{wrappedGtag:s,gtagCore:i}=YU(ac,cI,dI,L0,h8);x1=s,hI=i,fI=!0}return ac[r]=c8(t,cI,dI,e,hI,L0,n),new d8(t)}function LP(t=Jg()){t=At(t);const e=ia(t,Pg);return e.isInitialized()?e.getImmediate():m8(t)}function m8(t,e={}){const n=ia(t,Pg);if(n.isInitialized()){const r=n.getImmediate();if(Qo(e,n.getOptions()))return r;throw yr.create("already-initialized")}return n.initialize({options:e})}async function FP(){if(ux()||!uA()||!Yg())return!1;try{return await cx()}catch{return!1}}function g8(t,e,n){t=At(t),l8(x1,ac[t.app.options.appId],e,n).catch(r=>zn.error(r))}function VP(t,e,n,r){t=At(t),a8(x1,ac[t.app.options.appId],e,n,r).catch(s=>zn.error(s))}const pI="@firebase/analytics",mI="0.10.19";function y8(){is(new Ur(Pg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return p8(r,s,n)},"PUBLIC")),is(new Ur("analytics-internal",t,"PRIVATE")),tr(pI,mI),tr(pI,mI,"esm2020");function t(e){try{const n=e.getProvider(Pg).getImmediate();return{logEvent:(r,s,i)=>VP(n,r,s,i),setUserProperties:(r,s)=>g8(n,r,s)}}catch(n){throw yr.create("interop-component-reg-failed",{reason:n})}}}y8();const v8={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},us=fA(v8),F0=ny(us),w8=Sy(us);QB(us);try{hB(w8).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence: Not supported in this browser")})}catch(t){console.warn("Firestore persistence init failed:",t)}let zP=null;try{FP().then(t=>{t&&(zP=LP(us))}).catch(()=>{})}catch{}const b8=zP;/**
* react-router v7.9.5
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var gI="popstate";function x8(t={}){function e(r,s){let{pathname:i,search:a,hash:u}=r.location;return cb("",{pathname:i,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Hh(s)}return E8(e,n,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ys(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S8(){return Math.random().toString(36).substring(2,10)}function yI(t,e){return{usr:t.state,key:t.key,idx:e}}function cb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oc(e):e,state:n,key:e&&e.key||r||S8()}}function Hh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function E8(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,u="POP",c=null,h=m();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function m(){return(a.state||{idx:null}).idx}function g(){u="POP";let _=m(),R=_==null?null:_-h;h=_,c&&c({action:u,location:T.location,delta:R})}function v(_,R){u="PUSH";let P=cb(T.location,_,R);h=m()+1;let M=yI(P,h),z=T.createHref(P);try{a.pushState(M,"",z)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(z)}i&&c&&c({action:u,location:T.location,delta:1})}function E(_,R){u="REPLACE";let P=cb(T.location,_,R);h=m();let M=yI(P,h),z=T.createHref(P);a.replaceState(M,"",z),i&&c&&c({action:u,location:T.location,delta:0})}function I(_){return k8(_)}let T={get action(){return u},get location(){return t(s,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(gI,g),c=_,()=>{s.removeEventListener(gI,g),c=null}},createHref(_){return e(s,_)},createURL:I,encodeLocation(_){let R=I(_);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:E,go(_){return a.go(_)}};return T}function k8(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Hh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function BP(t,e,n="/"){return T8(t,e,n,!1)}function T8(t,e,n,r){let s=typeof e=="string"?Oc(e):e,i=Mi(s.pathname||"/",n);if(i==null)return null;let a=UP(t);_8(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let h=L8(i);u=M8(a[c],h,r)}return u}function UP(t,e=[],n=[],r="",s=!1){let i=(a,u,c=s,h)=>{let m={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&c)return;Ct(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=Ri([r,m.relativePath]),v=n.concat(m);a.children&&a.children.length>0&&(Ct(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),UP(a.children,e,v,g,c)),!(a.path==null&&!a.index)&&e.push({path:g,score:D8(g,a.index),routesMeta:v})};return t.forEach((a,u)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,u);else for(let h of $P(a.path))i(a,u,!0,h)}),e}function $P(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=$P(r.join("/")),u=[];return u.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function _8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:O8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var I8=/^:[\w-]+$/,C8=3,A8=2,R8=1,N8=10,P8=-2,vI=t=>t==="*";function D8(t,e){let n=t.split("/"),r=n.length;return n.some(vI)&&(r+=P8),e&&(r+=A8),n.filter(s=>!vI(s)).reduce((s,i)=>s+(I8.test(i)?C8:i===""?R8:N8),r)}function O8(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function M8(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,m=i==="/"?e:e.slice(i.length)||"/",g=Dg({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},m),v=c.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Dg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:Ri([i,g.pathname]),pathnameBase:B8(Ri([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=Ri([i,g.pathnameBase]))}return a}function Dg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=j8(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:m},g)=>{if(h==="*"){let E=u[g]||"";a=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const v=u[g];return m&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function j8(t,e=!1,n=!0){Ys(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function L8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ys(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function F8(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Oc(t):t;return{pathname:n?n.startsWith("/")?n:V8(n,e):e,search:U8(r),hash:$8(s)}}function V8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function V0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qP(t){let e=z8(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function GP(t,e,n,r=!1){let s;typeof t=="string"?s=Oc(t):(s={...t},Ct(!s.pathname||!s.pathname.includes("?"),V0("?","pathname","search",s)),Ct(!s.pathname||!s.pathname.includes("#"),V0("#","pathname","hash",s)),Ct(!s.search||!s.search.includes("#"),V0("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,u;if(a==null)u=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?e[g]:"/"}let c=F8(s,u),h=a&&a!=="/"&&a.endsWith("/"),m=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||m)&&(c.pathname+="/"),c}var Ri=t=>t.join("/").replace(/\/\/+/g,"/"),B8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function q8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HP=["POST","PUT","PATCH","DELETE"];new Set(HP);var G8=["GET",...HP];new Set(G8);var Mc=S.createContext(null);Mc.displayName="DataRouter";var My=S.createContext(null);My.displayName="DataRouterState";S.createContext(!1);var KP=S.createContext({isTransitioning:!1});KP.displayName="ViewTransition";var H8=S.createContext(new Map);H8.displayName="Fetchers";var K8=S.createContext(null);K8.displayName="Await";var ei=S.createContext(null);ei.displayName="Navigation";var Sf=S.createContext(null);Sf.displayName="Location";var Gi=S.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var S1=S.createContext(null);S1.displayName="RouteError";function W8(t,{relative:e}={}){Ct(Ef(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(ei),{hash:s,pathname:i,search:a}=kf(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:Ri([n,i])),r.createHref({pathname:u,search:a,hash:s})}function Ef(){return S.useContext(Sf)!=null}function Hi(){return Ct(Ef(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Sf).location}var WP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QP(t){S.useContext(ei).static||S.useLayoutEffect(t)}function E1(){let{isDataRoute:t}=S.useContext(Gi);return t?a7():Q8()}function Q8(){Ct(Ef(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Mc),{basename:e,navigator:n}=S.useContext(ei),{matches:r}=S.useContext(Gi),{pathname:s}=Hi(),i=JSON.stringify(qP(r)),a=S.useRef(!1);return QP(()=>{a.current=!0}),S.useCallback((u,c={})=>{if(Ys(a.current,WP),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=GP(u,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ri([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,i,s,t])}S.createContext(null);function kf(t,{relative:e}={}){let{matches:n}=S.useContext(Gi),{pathname:r}=Hi(),s=JSON.stringify(qP(n));return S.useMemo(()=>GP(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Y8(t,e){return YP(t,e)}function YP(t,e,n,r,s){var i;Ct(Ef(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(ei),{matches:u}=S.useContext(Gi),c=u[u.length-1],h=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let M=v&&v.path||"";XP(m,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let E=Hi(),I;if(e){let M=typeof e=="string"?Oc(e):e;Ct(g==="/"||((i=M.pathname)==null?void 0:i.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),I=M}else I=E;let T=I.pathname||"/",_=T;if(g!=="/"){let M=g.replace(/^\//,"").split("/");_="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let R=BP(t,{pathname:_});Ys(v||R!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Ys(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=t7(R&&R.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:Ri([g,a.encodeLocation?a.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:Ri([g,a.encodeLocation?a.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),u,n,r,s);return e&&P?S.createElement(Sf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},P):P}function X8(){let t=o7(),e=q8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,a)}var J8=S.createElement(X8,null),Z8=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(Gi.Provider,{value:this.props.routeContext},S.createElement(S1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e7({routeContext:t,match:e,children:n}){let r=S.useContext(Mc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Gi.Provider,{value:t},n)}function t7(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let h=i.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=h),m.route.id){let{loaderData:g,errors:v}=n,E=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||E){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,m,g)=>{let v,E=!1,I=null,T=null;n&&(v=a&&m.route.id?a[m.route.id]:void 0,I=m.route.errorElement||J8,u&&(c<0&&g===0?(XP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,T=null):c===g&&(E=!0,T=m.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,g+1)),R=()=>{let P;return v?P=I:E?P=T:m.route.Component?P=S.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=h,S.createElement(e7,{match:m,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?S.createElement(Z8,{location:n.location,revalidation:n.revalidation,component:I,error:v,children:R(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):R()},null)}function k1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n7(t){let e=S.useContext(Mc);return Ct(e,k1(t)),e}function r7(t){let e=S.useContext(My);return Ct(e,k1(t)),e}function s7(t){let e=S.useContext(Gi);return Ct(e,k1(t)),e}function T1(t){let e=s7(t),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function i7(){return T1("useRouteId")}function o7(){var t;let e=S.useContext(S1),n=r7("useRouteError"),r=T1("useRouteError");return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function a7(){let{router:t}=n7("useNavigate"),e=T1("useNavigate"),n=S.useRef(!1);return QP(()=>{n.current=!0}),S.useCallback(async(r,s={})=>{Ys(n.current,WP),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var wI={};function XP(t,e,n){!e&&!wI[t]&&(wI[t]=!0,Ys(!1,n))}S.memo(l7);function l7({routes:t,future:e,state:n,unstable_onError:r}){return YP(t,void 0,n,r,e)}function Pt(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Ct(!Ef(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=Oc(n));let{pathname:c="/",search:h="",hash:m="",state:g=null,key:v="default"}=n,E=S.useMemo(()=>{let I=Mi(c,a);return I==null?null:{location:{pathname:I,search:h,hash:m,state:g,key:v},navigationType:r}},[a,c,h,m,g,v,r]);return Ys(E!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:S.createElement(ei.Provider,{value:u},S.createElement(Sf.Provider,{children:e,value:E}))}function c7({children:t,location:e}){return Y8(db(t),e)}function db(t,e=[]){let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,db(r.props.children,i));return}Ct(r.type===Pt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=db(r.props.children,i)),n.push(a)}),n}var Bm="get",Um="application/x-www-form-urlencoded";function jy(t){return t!=null&&typeof t.tagName=="string"}function d7(t){return jy(t)&&t.tagName.toLowerCase()==="button"}function h7(t){return jy(t)&&t.tagName.toLowerCase()==="form"}function f7(t){return jy(t)&&t.tagName.toLowerCase()==="input"}function p7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function m7(t,e){return t.button===0&&(!e||e==="_self")&&!p7(t)}var om=null;function g7(){if(om===null)try{new FormData(document.createElement("form"),0),om=!1}catch{om=!0}return om}var y7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function z0(t){return t!=null&&!y7.has(t)?(Ys(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Um}"`),null):t}function v7(t,e){let n,r,s,i,a;if(h7(t)){let u=t.getAttribute("action");r=u?Mi(u,e):null,n=t.getAttribute("method")||Bm,s=z0(t.getAttribute("enctype"))||Um,i=new FormData(t)}else if(d7(t)||f7(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Mi(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Bm,s=z0(t.getAttribute("formenctype"))||z0(u.getAttribute("enctype"))||Um,i=new FormData(u,t),!g7()){let{name:h,type:m,value:g}=t;if(m==="image"){let v=h?`${h}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else h&&i.append(h,g)}}else{if(jy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bm,r=null,s=Um,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function w7(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Mi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function b7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function S7(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await b7(i,n);return a.links?a.links():[]}return[]}));return _7(r.flat(1).filter(x7).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function bI(t,e,n,r,s,i){let a=(c,h)=>n[h]?c.route.id!==n[h].route.id:!0,u=(c,h)=>{var m;return n[h].pathname!==c.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,h)=>a(c,h)||u(c,h)):i==="data"?e.filter((c,h)=>{var m;let g=r.routes[c.route.id];if(!g||!g.hasLoader)return!1;if(a(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function E7(t,e,{includeHydrateFallback:n}={}){return k7(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function k7(t){return[...new Set(t)]}function T7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function _7(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(T7(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function JP(){let t=S.useContext(Mc);return _1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function I7(){let t=S.useContext(My);return _1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var I1=S.createContext(void 0);I1.displayName="FrameworkContext";function ZP(){let t=S.useContext(I1);return _1(t,"You must render this element inside a <HydratedRouter> element"),t}function C7(t,e){let n=S.useContext(I1),[r,s]=S.useState(!1),[i,a]=S.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,v=S.useRef(null);S.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let T=R=>{R.forEach(P=>{a(P.isIntersecting)})},_=new IntersectionObserver(T,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[t]),S.useEffect(()=>{if(r){let T=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(T)}}},[r]);let E=()=>{s(!0)},I=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Bd(u,E),onBlur:Bd(c,I),onMouseEnter:Bd(h,E),onMouseLeave:Bd(m,I),onTouchStart:Bd(g,E)}]:[!1,v,{}]}function Bd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function A7({page:t,...e}){let{router:n}=JP(),r=S.useMemo(()=>BP(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(N7,{page:t,matches:r,...e}):null}function R7(t){let{manifest:e,routeModules:n}=ZP(),[r,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return S7(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function N7({page:t,matches:e,...n}){let r=Hi(),{manifest:s,routeModules:i}=ZP(),{basename:a}=JP(),{loaderData:u,matches:c}=I7(),h=S.useMemo(()=>bI(t,e,c,s,r,"data"),[t,e,c,s,r]),m=S.useMemo(()=>bI(t,e,c,s,r,"assets"),[t,e,c,s,r]),g=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,T=!1;if(e.forEach(R=>{var P;let M=s.routes[R.route.id];!M||!M.hasLoader||(!h.some(z=>z.route.id===R.route.id)&&R.route.id in u&&(P=i[R.route.id])!=null&&P.shouldRevalidate||M.hasClientLoader?T=!0:I.add(R.route.id))}),I.size===0)return[];let _=w7(t,a,"data");return T&&I.size>0&&_.searchParams.set("_routes",e.filter(R=>I.has(R.route.id)).map(R=>R.route.id).join(",")),[_.pathname+_.search]},[a,u,r,s,h,e,t,i]),v=S.useMemo(()=>E7(m,s),[m,s]),E=R7(m);return S.createElement(S.Fragment,null,g.map(I=>S.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),v.map(I=>S.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),E.map(({key:I,link:T})=>S.createElement("link",{key:I,nonce:n.nonce,...T})))}function P7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eD&&(window.__reactRouterVersion="7.9.5")}catch{}function D7({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=x8({window:n,v5Compat:!0}));let s=r.current,[i,a]=S.useState({action:s.action,location:s.location}),u=S.useCallback(c=>{S.startTransition(()=>a(c))},[a]);return S.useLayoutEffect(()=>s.listen(u),[s,u]),S.createElement(u7,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var tD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=S.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:s,replace:i,state:a,target:u,to:c,preventScrollReset:h,viewTransition:m,...g},v){let{basename:E}=S.useContext(ei),I=typeof c=="string"&&tD.test(c),T,_=!1;if(typeof c=="string"&&I&&(T=c,eD))try{let C=new URL(window.location.href),N=c.startsWith("//")?new URL(C.protocol+c):new URL(c),j=Mi(N.pathname,E);N.origin===C.origin&&j!=null?c=j+N.search+N.hash:_=!0}catch{Ys(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=W8(c,{relative:r}),[P,M,z]=C7(n,g),U=L7(c,{replace:i,state:a,target:u,preventScrollReset:h,relative:r,viewTransition:m});function H(C){t&&t(C),C.defaultPrevented||U(C)}let D=S.createElement("a",{...g,...z,href:T||R,onClick:_||s?t:H,ref:P7(v,M),target:u,"data-discover":!I&&e==="render"?"true":void 0});return P&&!I?S.createElement(S.Fragment,null,D,S.createElement(A7,{page:R})):D});ft.displayName="Link";var O7=S.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:s,to:i,viewTransition:a,children:u,...c},h){let m=kf(i,{relative:c.relative}),g=Hi(),v=S.useContext(My),{navigator:E,basename:I}=S.useContext(ei),T=v!=null&&U7(m)&&a===!0,_=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,R=g.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(R=R.toLowerCase(),P=P?P.toLowerCase():null,_=_.toLowerCase()),P&&I&&(P=Mi(P,I)||P);const M=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let z=R===_||!r&&R.startsWith(_)&&R.charAt(M)==="/",U=P!=null&&(P===_||!r&&P.startsWith(_)&&P.charAt(_.length)==="/"),H={isActive:z,isPending:U,isTransitioning:T},D=z?t:void 0,C;typeof n=="function"?C=n(H):C=[n,z?"active":null,U?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(H):s;return S.createElement(ft,{...c,"aria-current":D,className:C,ref:h,style:N,to:i,viewTransition:a},typeof u=="function"?u(H):u)});O7.displayName="NavLink";var M7=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Bm,action:u,onSubmit:c,relative:h,preventScrollReset:m,viewTransition:g,...v},E)=>{let I=z7(),T=B7(u,{relative:h}),_=a.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&tD.test(u),P=M=>{if(c&&c(M),M.defaultPrevented)return;M.preventDefault();let z=M.nativeEvent.submitter,U=(z==null?void 0:z.getAttribute("formmethod"))||a;I(z||M.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:s,state:i,relative:h,preventScrollReset:m,viewTransition:g})};return S.createElement("form",{ref:E,method:_,action:T,onSubmit:r?c:P,...v,"data-discover":!R&&t==="render"?"true":void 0})});M7.displayName="Form";function j7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nD(t){let e=S.useContext(Mc);return Ct(e,j7(t)),e}function L7(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let u=E1(),c=Hi(),h=kf(t,{relative:i});return S.useCallback(m=>{if(m7(m,e)){m.preventDefault();let g=n!==void 0?n:Hh(c)===Hh(h);u(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[c,u,h,n,r,e,t,s,i,a])}var F7=0,V7=()=>`__${String(++F7)}__`;function z7(){let{router:t}=nD("useSubmit"),{basename:e}=S.useContext(ei),n=i7();return S.useCallback(async(r,s={})=>{let{action:i,method:a,encType:u,formData:c,body:h}=v7(r,e);if(s.navigate===!1){let m=s.fetcherKey||V7();await t.fetch(m,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||a,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||a,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function B7(t,{relative:e}={}){let{basename:n}=S.useContext(ei),r=S.useContext(Gi);Ct(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...kf(t||".",{relative:e})},a=Hi();if(t==null){i.search=a.search;let u=new URLSearchParams(i.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let h=u.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ri([n,i.pathname])),Hh(i)}function U7(t,{relative:e}={}){let n=S.useContext(KP);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nD("useViewTransitionState"),s=kf(t,{relative:e});if(!n.isTransitioning)return!1;let i=Mi(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Mi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Dg(s.pathname,a)!=null||Dg(s.pathname,i)!=null}var C1=Y2();const $7=sx(C1);function nt(t){if(!t)return"/";const[e,n]=t.split("?"),r="/"+e.replace(/\s+/g,"");return n?`${r}?${n}`:r}var Tf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},q7={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Fa,xI,SI,G7=(SI=class{constructor(){Oe(this,Fa,q7),Oe(this,xI,!1)}setTimeoutProvider(t){ge(this,Fa,t)}setTimeout(t,e){return q(this,Fa).setTimeout(t,e)}clearTimeout(t){q(this,Fa).clearTimeout(t)}setInterval(t,e){return q(this,Fa).setInterval(t,e)}clearInterval(t){q(this,Fa).clearInterval(t)}},Fa=new WeakMap,xI=new WeakMap,SI),il=new G7;function H7(t){setTimeout(t,0)}var Cl=typeof window>"u"||"Deno"in globalThis;function Jn(){}function K7(t,e){return typeof t=="function"?t(e):t}function hb(t){return typeof t=="number"&&t>=0&&t!==1/0}function rD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wo(t,e){return typeof t=="function"?t(e):t}function Or(t,e){return typeof t=="function"?t(e):t}function EI(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:u}=t;if(a){if(r){if(e.queryHash!==A1(a,e.options))return!1}else if(!Wh(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||i&&!i(e))}function kI(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Kh(e.options.mutationKey)!==Kh(i))return!1}else if(!Wh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function A1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Kh)(t)}function Kh(t){return JSON.stringify(t,(e,n)=>pb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Wh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Wh(t[n],e[n])):!1}var W7=Object.prototype.hasOwnProperty;function sD(t,e){if(t===e)return t;const n=TI(t)&&TI(e);if(!n&&!(pb(t)&&pb(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),i=s.length,a=n?new Array(i):{};let u=0;for(let c=0;c<i;c++){const h=n?c:s[c],m=t[h],g=e[h];if(m===g){a[h]=m,(n?c<r:W7.call(t,h))&&u++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){a[h]=g;continue}const v=sD(m,g);a[h]=v,v===m&&u++}return r===i&&u===r?t:a}function fb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function TI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pb(t){if(!_I(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_I(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _I(t){return Object.prototype.toString.call(t)==="[object Object]"}function Q7(t){return new Promise(e=>{il.setTimeout(e,t)})}function mb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?sD(t,e):e}function Y7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function X7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var R1=Symbol();function iD(t,e){return!t.queryFn&&e!=null&&e.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===R1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function J7(t,e){return typeof t=="function"?t(...e):!!t}var Pu,Va,Ud,II,Z7=(II=class extends Tf{constructor(){super(),Oe(this,Pu),Oe(this,Va),Oe(this,Ud),ge(this,Ud,t=>{if(!Cl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){q(this,Va)||this.setEventListener(q(this,Ud))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Va))==null||t.call(this),ge(this,Va,void 0))}setEventListener(t){var e;ge(this,Ud,t),(e=q(this,Va))==null||e.call(this),ge(this,Va,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){q(this,Pu)!==t&&(ge(this,Pu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof q(this,Pu)=="boolean"?q(this,Pu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Pu=new WeakMap,Va=new WeakMap,Ud=new WeakMap,II),N1=new Z7;function gb(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var e$=H7;function t$(){let t=[],e=0,n=u=>{u()},r=u=>{u()},s=e$;const i=u=>{e?t.push(u):s(()=>{n(u)})},a=()=>{const u=t;t=[],u.length&&s(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;e++;try{c=u()}finally{e--,e||a()}return c},batchCalls:u=>(...c)=>{i(()=>{u(...c)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var bn=t$(),$d,za,qd,CI,n$=(CI=class extends Tf{constructor(){super(),Oe(this,$d,!0),Oe(this,za),Oe(this,qd),ge(this,qd,t=>{if(!Cl&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){q(this,za)||this.setEventListener(q(this,qd))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,za))==null||t.call(this),ge(this,za,void 0))}setEventListener(t){var e;ge(this,qd,t),(e=q(this,za))==null||e.call(this),ge(this,za,t(this.setOnline.bind(this)))}setOnline(t){q(this,$d)!==t&&(ge(this,$d,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return q(this,$d)}},$d=new WeakMap,za=new WeakMap,qd=new WeakMap,CI),Og=new n$;function r$(t){return Math.min(1e3*2**t,3e4)}function oD(t){return(t??"online")==="online"?Og.isOnline():!0}var yb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function aD(t){let e=!1,n=0,r;const s=gb(),i=()=>s.status!=="pending",a=T=>{var _;if(!i()){const R=new yb(T);v(R),(_=t.onCancel)==null||_.call(t,R)}},u=()=>{e=!0},c=()=>{e=!1},h=()=>N1.isFocused()&&(t.networkMode==="always"||Og.isOnline())&&t.canRun(),m=()=>oD(t.networkMode)&&t.canRun(),g=T=>{i()||(r==null||r(),s.resolve(T))},v=T=>{i()||(r==null||r(),s.reject(T))},E=()=>new Promise(T=>{var _;r=R=>{(i()||h())&&T(R)},(_=t.onPause)==null||_.call(t)}).then(()=>{var T;r=void 0,i()||(T=t.onContinue)==null||T.call(t)}),I=()=>{if(i())return;let T;const _=n===0?t.initialPromise:void 0;try{T=_??t.fn()}catch(R){T=Promise.reject(R)}Promise.resolve(T).then(g).catch(R=>{var P;if(i())return;const M=t.retry??(Cl?0:3),z=t.retryDelay??r$,U=typeof z=="function"?z(n,R):z,H=M===!0||typeof M=="number"&&n<M||typeof M=="function"&&M(n,R);if(e||!H){v(R);return}n++,(P=t.onFail)==null||P.call(t,n,R),Q7(U).then(()=>h()?void 0:E()).then(()=>{e?v(R):I()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:c,canStart:m,start:()=>(m()?I():E().then(I),s)}}var Du,AI,lD=(AI=class{constructor(){Oe(this,Du)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hb(this.gcTime)&&ge(this,Du,il.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Cl?1/0:300*1e3))}clearGcTimeout(){q(this,Du)&&(il.clearTimeout(q(this,Du)),ge(this,Du,void 0))}},Du=new WeakMap,AI),Ou,Gd,es,Mu,gn,am,ju,Ns,bi,RI,s$=(RI=class extends lD{constructor(t){super(),Oe(this,Ns),Oe(this,Ou),Oe(this,Gd),Oe(this,es),Oe(this,Mu),Oe(this,gn),Oe(this,am),Oe(this,ju),ge(this,ju,!1),ge(this,am,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,Mu,t.client),ge(this,es,q(this,Mu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,Ou,PI(this.options)),this.state=t.state??q(this,Ou),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,gn))==null?void 0:t.promise}setOptions(t){if(this.options={...q(this,am),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=PI(this.options);e.data!==void 0&&(this.setState(NI(e.data,e.dataUpdatedAt)),ge(this,Ou,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,es).remove(this)}setData(t,e){const n=mb(this.state.data,t,this.options);return Ze(this,Ns,bi).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){Ze(this,Ns,bi).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var e,n;const r=(e=q(this,gn))==null?void 0:e.promise;return(n=q(this,gn))==null||n.cancel(t),r?r.then(Jn).catch(Jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,Ou))}isActive(){return this.observers.some(t=>Or(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===R1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!rD(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=q(this,gn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=q(this,gn))==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,es).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(q(this,gn)&&(q(this,ju)?q(this,gn).cancel({revert:!0}):q(this,gn).cancelRetry()),this.scheduleGc()),q(this,es).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Ns,bi).call(this,{type:"invalidate"})}async fetch(t,e){var n,r,s,i,a,u,c,h,m,g,v,E;if(this.state.fetchStatus!=="idle"&&((n=q(this,gn))==null?void 0:n.status())!=="rejected"){if(this.state.data!==void 0&&e!=null&&e.cancelRefetch)this.cancel({silent:!0});else if(q(this,gn))return q(this,gn).continueRetry(),q(this,gn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const P=this.observers.find(M=>M.options.queryFn);P&&this.setOptions(P.options)}const I=new AbortController,T=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(ge(this,ju,!0),I.signal)})},_=()=>{const P=iD(this.options,e),M=(()=>{const z={client:q(this,Mu),queryKey:this.queryKey,meta:this.meta};return T(z),z})();return ge(this,ju,!1),this.options.persister?this.options.persister(P,M,this):P(M)},R=(()=>{const P={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:q(this,Mu),state:this.state,fetchFn:_};return T(P),P})();(r=this.options.behavior)==null||r.onFetch(R,this),ge(this,Gd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=R.fetchOptions)==null?void 0:s.meta))&&Ze(this,Ns,bi).call(this,{type:"fetch",meta:(i=R.fetchOptions)==null?void 0:i.meta}),ge(this,gn,aD({initialPromise:e==null?void 0:e.initialPromise,fn:R.fetchFn,onCancel:P=>{P instanceof yb&&P.revert&&this.setState({...q(this,Gd),fetchStatus:"idle"}),I.abort()},onFail:(P,M)=>{Ze(this,Ns,bi).call(this,{type:"failed",failureCount:P,error:M})},onPause:()=>{Ze(this,Ns,bi).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Ns,bi).call(this,{type:"continue"})},retry:R.options.retry,retryDelay:R.options.retryDelay,networkMode:R.options.networkMode,canRun:()=>!0}));try{const P=await q(this,gn).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(u=(a=q(this,es).config).onSuccess)==null||u.call(a,P,this),(h=(c=q(this,es).config).onSettled)==null||h.call(c,P,this.state.error,this),P}catch(P){if(P instanceof yb){if(P.silent)return q(this,gn).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw Ze(this,Ns,bi).call(this,{type:"error",error:P}),(g=(m=q(this,es).config).onError)==null||g.call(m,P,this),(E=(v=q(this,es).config).onSettled)==null||E.call(v,this.state.data,P,this),P}finally{this.scheduleGc()}}},Ou=new WeakMap,Gd=new WeakMap,es=new WeakMap,Mu=new WeakMap,gn=new WeakMap,am=new WeakMap,ju=new WeakMap,Ns=new WeakSet,bi=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...uD(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...NI(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,Gd,t.manual?r:void 0),r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),bn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),q(this,es).notify({query:this,type:"updated",action:t})})},RI);function uD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function NI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function PI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var hr,Je,lm,Yn,Lu,Hd,Ro,Ba,um,Kd,Wd,Fu,Vu,Ua,Qd,qt,Yd,B0,U0,$0,q0,G0,H0,K0,DI,OI,i$=(OI=class extends Tf{constructor(t,e){super(),Oe(this,qt),Oe(this,hr),Oe(this,Je),Oe(this,lm),Oe(this,Yn),Oe(this,Lu),Oe(this,Hd),Oe(this,Ro),Oe(this,Ba),Oe(this,um),Oe(this,Kd),Oe(this,Wd),Oe(this,Fu),Oe(this,Vu),Oe(this,Ua),Oe(this,Qd,new Set),this.options=e,ge(this,hr,t),ge(this,Ba,null),ge(this,Ro,gb()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,Je).addObserver(this),MI(q(this,Je),this.options)?Ze(this,qt,Yd).call(this):this.updateResult(),Ze(this,qt,q0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vb(q(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vb(q(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,qt,G0).call(this),Ze(this,qt,H0).call(this),q(this,Je).removeObserver(this)}setOptions(t){const e=this.options,n=q(this,Je);if(this.options=q(this,hr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Or(this.options.enabled,q(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,qt,K0).call(this),q(this,Je).setOptions(this.options),e._defaulted&&!fb(this.options,e)&&q(this,hr).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,Je),observer:this});const r=this.hasListeners();r&&jI(q(this,Je),n,this.options,e)&&Ze(this,qt,Yd).call(this),this.updateResult(),r&&(q(this,Je)!==n||Or(this.options.enabled,q(this,Je))!==Or(e.enabled,q(this,Je))||Wo(this.options.staleTime,q(this,Je))!==Wo(e.staleTime,q(this,Je)))&&Ze(this,qt,B0).call(this);const s=Ze(this,qt,U0).call(this);r&&(q(this,Je)!==n||Or(this.options.enabled,q(this,Je))!==Or(e.enabled,q(this,Je))||s!==q(this,Ua))&&Ze(this,qt,$0).call(this,s)}getOptimisticResult(t){const e=q(this,hr).getQueryCache().build(q(this,hr),t),n=this.createResult(e,t);return a$(this,n)&&(ge(this,Yn,n),ge(this,Hd,this.options),ge(this,Lu,q(this,Je).state)),n}getCurrentResult(){return q(this,Yn)}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e==null||e(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&q(this,Ro).status==="pending"&&q(this,Ro).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){q(this,Qd).add(t)}getCurrentQuery(){return q(this,Je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=q(this,hr).defaultQueryOptions(t),n=q(this,hr).getQueryCache().build(q(this,hr),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return Ze(this,qt,Yd).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,Yn)))}createResult(t,e){var n;const r=q(this,Je),s=this.options,i=q(this,Yn),a=q(this,Lu),u=q(this,Hd),c=t!==r?t.state:q(this,lm),{state:h}=t;let m={...h},g=!1,v;if(e._optimisticResults){const D=this.hasListeners(),C=!D&&MI(t,e),N=D&&jI(t,r,e,s);(C||N)&&(m={...m,...uD(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:E,errorUpdatedAt:I,status:T}=m;v=m.data;let _=!1;if(e.placeholderData!==void 0&&v===void 0&&T==="pending"){let D;i!=null&&i.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData)?(D=i.data,_=!0):D=typeof e.placeholderData=="function"?e.placeholderData((n=q(this,Wd))==null?void 0:n.state.data,q(this,Wd)):e.placeholderData,D!==void 0&&(T="success",v=mb(i==null?void 0:i.data,D,e),g=!0)}if(e.select&&v!==void 0&&!_)if(i&&v===(a==null?void 0:a.data)&&e.select===q(this,um))v=q(this,Kd);else try{ge(this,um,e.select),v=e.select(v),v=mb(i==null?void 0:i.data,v,e),ge(this,Kd,v),ge(this,Ba,null)}catch(D){ge(this,Ba,D)}q(this,Ba)&&(E=q(this,Ba),v=q(this,Kd),I=Date.now(),T="error");const R=m.fetchStatus==="fetching",P=T==="pending",M=T==="error",z=P&&R,U=v!==void 0,H={status:T,fetchStatus:m.fetchStatus,isPending:P,isSuccess:T==="success",isError:M,isInitialLoading:z,isLoading:z,data:v,dataUpdatedAt:m.dataUpdatedAt,error:E,errorUpdatedAt:I,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>c.dataUpdateCount||m.errorUpdateCount>c.errorUpdateCount,isFetching:R,isRefetching:R&&!P,isLoadingError:M&&!U,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:M&&U,isStale:P1(t,e),refetch:this.refetch,promise:q(this,Ro),isEnabled:Or(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=j=>{H.status==="error"?j.reject(H.error):H.data!==void 0&&j.resolve(H.data)},C=()=>{const j=ge(this,Ro,H.promise=gb());D(j)},N=q(this,Ro);switch(N.status){case"pending":t.queryHash===r.queryHash&&D(N);break;case"fulfilled":(H.status==="error"||H.data!==N.value)&&C();break;case"rejected":(H.status!=="error"||H.error!==N.reason)&&C();break}}return H}updateResult(){const t=q(this,Yn),e=this.createResult(q(this,Je),this.options);if(ge(this,Lu,q(this,Je).state),ge(this,Hd,this.options),q(this,Lu).data!==void 0&&ge(this,Wd,q(this,Je)),fb(e,t))return;ge(this,Yn,e);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!q(this,Qd).size)return!0;const i=new Set(s??q(this,Qd));return this.options.throwOnError&&i.add("error"),Object.keys(q(this,Yn)).some(a=>{const u=a;return q(this,Yn)[u]!==t[u]&&i.has(u)})};Ze(this,qt,DI).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,qt,q0).call(this)}},hr=new WeakMap,Je=new WeakMap,lm=new WeakMap,Yn=new WeakMap,Lu=new WeakMap,Hd=new WeakMap,Ro=new WeakMap,Ba=new WeakMap,um=new WeakMap,Kd=new WeakMap,Wd=new WeakMap,Fu=new WeakMap,Vu=new WeakMap,Ua=new WeakMap,Qd=new WeakMap,qt=new WeakSet,Yd=function(t){Ze(this,qt,K0).call(this);let e=q(this,Je).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Jn)),e},B0=function(){Ze(this,qt,G0).call(this);const t=Wo(this.options.staleTime,q(this,Je));if(Cl||q(this,Yn).isStale||!hb(t))return;const e=rD(q(this,Yn).dataUpdatedAt,t)+1;ge(this,Fu,il.setTimeout(()=>{q(this,Yn).isStale||this.updateResult()},e))},U0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,Je)):this.options.refetchInterval)??!1},$0=function(t){Ze(this,qt,H0).call(this),ge(this,Ua,t),!(Cl||Or(this.options.enabled,q(this,Je))===!1||!hb(q(this,Ua))||q(this,Ua)===0)&&ge(this,Vu,il.setInterval(()=>{(this.options.refetchIntervalInBackground||N1.isFocused())&&Ze(this,qt,Yd).call(this)},q(this,Ua)))},q0=function(){Ze(this,qt,B0).call(this),Ze(this,qt,$0).call(this,Ze(this,qt,U0).call(this))},G0=function(){q(this,Fu)&&(il.clearTimeout(q(this,Fu)),ge(this,Fu,void 0))},H0=function(){q(this,Vu)&&(il.clearInterval(q(this,Vu)),ge(this,Vu,void 0))},K0=function(){const t=q(this,hr).getQueryCache().build(q(this,hr),this.options);if(t===q(this,Je))return;const e=q(this,Je);ge(this,Je,t),ge(this,lm,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},DI=function(t){bn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(q(this,Yn))}),q(this,hr).getQueryCache().notify({query:q(this,Je),type:"observerResultsUpdated"})})},OI);function o$(t,e){return Or(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function MI(t,e){return o$(t,e)||t.state.data!==void 0&&vb(t,e,e.refetchOnMount)}function vb(t,e,n){if(Or(e.enabled,t)!==!1&&Wo(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&P1(t,e)}return!1}function jI(t,e,n,r){return(t!==e||Or(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&P1(t,n)}function P1(t,e){return Or(e.enabled,t)!==!1&&t.isStaleByTime(Wo(e.staleTime,t))}function a$(t,e){return!fb(t.getCurrentResult(),e)}function LI(t){return{onFetch:(e,n)=>{var r,s,i,a,u;const c=e.options,h=(i=(s=(r=e.fetchOptions)==null?void 0:r.meta)==null?void 0:s.fetchMore)==null?void 0:i.direction,m=((a=e.state.data)==null?void 0:a.pages)||[],g=((u=e.state.data)==null?void 0:u.pageParams)||[];let v={pages:[],pageParams:[]},E=0;const I=async()=>{let T=!1;const _=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?T=!0:e.signal.addEventListener("abort",()=>{T=!0}),e.signal)})},R=iD(e.options,e.fetchOptions),P=async(M,z,U)=>{if(T)return Promise.reject();if(z==null&&M.pages.length)return Promise.resolve(M);const H=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:z,direction:U?"backward":"forward",meta:e.options.meta};return _(j),j})(),D=await R(H),{maxPages:C}=e.options,N=U?X7:Y7;return{pages:N(M.pages,D,C),pageParams:N(M.pageParams,z,C)}};if(h&&m.length){const M=h==="backward",z=M?l$:FI,U={pages:m,pageParams:g},H=z(c,U);v=await P(U,H,M)}else{const M=t??m.length;do{const z=E===0?g[0]??c.initialPageParam:FI(c,v);if(E>0&&z==null)break;v=await P(v,z),E++}while(E<M)}return v};e.options.persister?e.fetchFn=()=>{var T,_;return(_=(T=e.options).persister)==null?void 0:_.call(T,I,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=I}}}function FI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function l$(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var cm,xi,Xn,zu,Si,No,VI,u$=(VI=class extends lD{constructor(t){super(),Oe(this,Si),Oe(this,cm),Oe(this,xi),Oe(this,Xn),Oe(this,zu),ge(this,cm,t.client),this.mutationId=t.mutationId,ge(this,Xn,t.mutationCache),ge(this,xi,[]),this.state=t.state||c$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,xi).includes(t)||(q(this,xi).push(t),this.clearGcTimeout(),q(this,Xn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,xi,q(this,xi).filter(e=>e!==t)),this.scheduleGc(),q(this,Xn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,xi).length||(this.state.status==="pending"?this.scheduleGc():q(this,Xn).remove(this))}continue(){var t;return((t=q(this,zu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var e,n,r,s,i,a,u,c,h,m,g,v,E,I,T,_,R,P,M,z;const U=()=>{Ze(this,Si,No).call(this,{type:"continue"})},H={client:q(this,cm),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,zu,aD({fn:()=>this.options.mutationFn?this.options.mutationFn(t,H):Promise.reject(new Error("No mutationFn found")),onFail:(N,j)=>{Ze(this,Si,No).call(this,{type:"failed",failureCount:N,error:j})},onPause:()=>{Ze(this,Si,No).call(this,{type:"pause"})},onContinue:U,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Xn).canRun(this)}));const D=this.state.status==="pending",C=!q(this,zu).canStart();try{if(D)U();else{Ze(this,Si,No).call(this,{type:"pending",variables:t,isPaused:C}),await((n=(e=q(this,Xn).config).onMutate)==null?void 0:n.call(e,t,this,H));const j=await((s=(r=this.options).onMutate)==null?void 0:s.call(r,t,H));j!==this.state.context&&Ze(this,Si,No).call(this,{type:"pending",context:j,variables:t,isPaused:C})}const N=await q(this,zu).start();return await((a=(i=q(this,Xn).config).onSuccess)==null?void 0:a.call(i,N,t,this.state.context,this,H)),await((c=(u=this.options).onSuccess)==null?void 0:c.call(u,N,t,this.state.context,H)),await((m=(h=q(this,Xn).config).onSettled)==null?void 0:m.call(h,N,null,this.state.variables,this.state.context,this,H)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,N,null,t,this.state.context,H)),Ze(this,Si,No).call(this,{type:"success",data:N}),N}catch(N){try{throw await((I=(E=q(this,Xn).config).onError)==null?void 0:I.call(E,N,t,this.state.context,this,H)),await((_=(T=this.options).onError)==null?void 0:_.call(T,N,t,this.state.context,H)),await((P=(R=q(this,Xn).config).onSettled)==null?void 0:P.call(R,void 0,N,this.state.variables,this.state.context,this,H)),await((z=(M=this.options).onSettled)==null?void 0:z.call(M,void 0,N,t,this.state.context,H)),N}finally{Ze(this,Si,No).call(this,{type:"error",error:N})}}finally{q(this,Xn).runNext(this)}}},cm=new WeakMap,xi=new WeakMap,Xn=new WeakMap,zu=new WeakMap,Si=new WeakSet,No=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),bn.batch(()=>{q(this,xi).forEach(n=>{n.onMutationUpdate(t)}),q(this,Xn).notify({mutation:this,type:"updated",action:t})})},VI);function c$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Po,Ps,dm,zI,d$=(zI=class extends Tf{constructor(t={}){super(),Oe(this,Po),Oe(this,Ps),Oe(this,dm),this.config=t,ge(this,Po,new Set),ge(this,Ps,new Map),ge(this,dm,0)}build(t,e,n){const r=new u$({client:t,mutationCache:this,mutationId:++Aw(this,dm)._,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){q(this,Po).add(t);const e=hm(t);if(typeof e=="string"){const n=q(this,Ps).get(e);n?n.push(t):q(this,Ps).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,Po).delete(t)){const e=hm(t);if(typeof e=="string"){const n=q(this,Ps).get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&q(this,Ps).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=hm(t);if(typeof e=="string"){const n=q(this,Ps).get(e),r=n==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){var e;const n=hm(t);if(typeof n=="string"){const r=(e=q(this,Ps).get(n))==null?void 0:e.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){bn.batch(()=>{q(this,Po).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,Po).clear(),q(this,Ps).clear()})}getAll(){return Array.from(q(this,Po))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>kI(e,n))}findAll(t={}){return this.getAll().filter(e=>kI(t,e))}notify(t){bn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return bn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Jn))))}},Po=new WeakMap,Ps=new WeakMap,dm=new WeakMap,zI);function hm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ei,BI,h$=(BI=class extends Tf{constructor(t={}){super(),Oe(this,Ei),this.config=t,ge(this,Ei,new Map)}build(t,e,n){const r=e.queryKey,s=e.queryHash??A1(r,e);let i=this.get(s);return i||(i=new s$({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){q(this,Ei).has(t.queryHash)||(q(this,Ei).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=q(this,Ei).get(t.queryHash);e&&(t.destroy(),e===t&&q(this,Ei).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,Ei).get(t)}getAll(){return[...q(this,Ei).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>EI(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>EI(t,n)):e}notify(t){bn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){bn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ei=new WeakMap,BI),Gt,$a,qa,Xd,Jd,Ga,Zd,eh,UI,f$=(UI=class{constructor(t={}){Oe(this,Gt),Oe(this,$a),Oe(this,qa),Oe(this,Xd),Oe(this,Jd),Oe(this,Ga),Oe(this,Zd),Oe(this,eh),ge(this,Gt,t.queryCache||new h$),ge(this,$a,t.mutationCache||new d$),ge(this,qa,t.defaultOptions||{}),ge(this,Xd,new Map),ge(this,Jd,new Map),ge(this,Ga,0)}mount(){Aw(this,Ga)._++,q(this,Ga)===1&&(ge(this,Zd,N1.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Gt).onFocus())})),ge(this,eh,Og.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Gt).onOnline())})))}unmount(){var t,e;Aw(this,Ga)._--,q(this,Ga)===0&&((t=q(this,Zd))==null||t.call(this),ge(this,Zd,void 0),(e=q(this,eh))==null||e.call(this),ge(this,eh,void 0))}isFetching(t){return q(this,Gt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return q(this,$a).findAll({...t,status:"pending"}).length}getQueryData(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=q(this,Gt).get(n.queryHash))==null?void 0:e.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=q(this,Gt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Wo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return q(this,Gt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=q(this,Gt).get(r.queryHash),i=s==null?void 0:s.state.data,a=K7(e,i);if(a!==void 0)return q(this,Gt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return bn.batch(()=>q(this,Gt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=q(this,Gt).get(n.queryHash))==null?void 0:e.state}removeQueries(t){const e=q(this,Gt);bn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=q(this,Gt);return bn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=bn.batch(()=>q(this,Gt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Jn).catch(Jn)}invalidateQueries(t,e={}){return bn.batch(()=>(q(this,Gt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=bn.batch(()=>q(this,Gt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Jn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Jn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=q(this,Gt).build(this,e);return n.isStaleByTime(Wo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Jn).catch(Jn)}fetchInfiniteQuery(t){return t.behavior=LI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Jn).catch(Jn)}ensureInfiniteQueryData(t){return t.behavior=LI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Og.isOnline()?q(this,$a).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,Gt)}getMutationCache(){return q(this,$a)}getDefaultOptions(){return q(this,qa)}setDefaultOptions(t){ge(this,qa,t)}setQueryDefaults(t,e){q(this,Xd).set(Kh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...q(this,Xd).values()],n={};return e.forEach(r=>{Wh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){q(this,Jd).set(Kh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...q(this,Jd).values()],n={};return e.forEach(r=>{Wh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...q(this,qa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=A1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===R1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...q(this,qa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){q(this,Gt).clear(),q(this,$a).clear()}},Gt=new WeakMap,$a=new WeakMap,qa=new WeakMap,Xd=new WeakMap,Jd=new WeakMap,Ga=new WeakMap,Zd=new WeakMap,eh=new WeakMap,UI),cD=S.createContext(void 0),p$=t=>{const e=S.useContext(cD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},m$=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(cD.Provider,{value:t,children:e})),dD=S.createContext(!1),g$=()=>S.useContext(dD);dD.Provider;function y$(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var v$=S.createContext(y$()),w$=()=>S.useContext(v$),b$=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},x$=t=>{S.useEffect(()=>{t.clearReset()},[t])},S$=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||J7(n,[t.error,r])),E$=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},k$=(t,e)=>t.isLoading&&t.isFetching&&!e,T$=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,$I=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function _$(t,e,n){var r,s,i,a,u;const c=g$(),h=w$(),m=p$(),g=m.defaultQueryOptions(t);(s=(r=m.getDefaultOptions().queries)==null?void 0:r._experimental_beforeQuery)==null||s.call(r,g),g._optimisticResults=c?"isRestoring":"optimistic",E$(g),b$(g,h),x$(h);const v=!m.getQueryCache().get(g.queryHash),[E]=S.useState(()=>new e(m,g)),I=E.getOptimisticResult(g),T=!c&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(_=>{const R=T?E.subscribe(bn.batchCalls(_)):Jn;return E.updateResult(),R},[E,T]),()=>E.getCurrentResult(),()=>E.getCurrentResult()),S.useEffect(()=>{E.setOptions(g)},[g,E]),T$(g,I))throw $I(g,E,h);if(S$({result:I,errorResetBoundary:h,throwOnError:g.throwOnError,query:m.getQueryCache().get(g.queryHash),suspense:g.suspense}))throw I.error;if((a=(i=m.getDefaultOptions().queries)==null?void 0:i._experimental_afterQuery)==null||a.call(i,g,I),g.experimental_prefetchInRender&&!Cl&&k$(I,c)){const _=v?$I(g,E,h):(u=m.getQueryCache().get(g.queryHash))==null?void 0:u.promise;_==null||_.catch(Jn).finally(()=>{E.updateResult()})}return g.notifyOnChangeProps?I:E.trackResult(I)}function I$(t,e){return _$(t,i$)}/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const C$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var A$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const R$=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...u},c)=>S.createElement("svg",{ref:c,...A$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:hD("lucide",s),...u},[...a.map(([h,m])=>S.createElement(h,m)),...Array.isArray(i)?i:[i]]));/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ye=(t,e)=>{const n=S.forwardRef(({className:r,...s},i)=>S.createElement(R$,{ref:i,iconNode:e,className:hD(`lucide-${C$(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const N$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],P$=Ye("ArrowRight",N$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const D$=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],O$=Ye("Award",D$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const M$=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],$m=Ye("Brain",M$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const j$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],W0=Ye("Calendar",j$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const L$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],F$=Ye("ChartColumn",L$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const V$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],z$=Ye("Check",V$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const B$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],U$=Ye("ChevronDown",B$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],q$=Ye("ChevronRight",$$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const G$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],H$=Ye("CircleCheckBig",G$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const K$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],W$=Ye("CircleX",K$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Q$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Y$=Ye("Circle",Q$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const X$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],J$=Ye("Clock",X$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Z$=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],qI=Ye("Coins",Z$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const eq=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],tq=Ye("CreditCard",eq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nq=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ol=Ye("Crown",nq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const rq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],GI=Ye("EyeOff",rq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HI=Ye("Eye",sq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iq=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],oq=Ye("Gamepad2",iq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const aq=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],KI=Ye("GraduationCap",aq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const lq=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],WI=Ye("Heart",lq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],QI=Ye("House",uq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const cq=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],YI=Ye("LogOut",cq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const dq=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],XI=Ye("Mail",dq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hq=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],fq=Ye("Menu",hq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const pq=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],mq=Ye("PartyPopper",pq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gq=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],yq=Ye("Rocket",gq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vq=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JI=Ye("Settings",vq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bq=Ye("Shield",wq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xq=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Q0=Ye("ShoppingBag",xq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Sq=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],fD=Ye("Sparkles",Sq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Eq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Y0=Ye("Star",Eq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kq=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],wb=Ye("Trophy",kq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Tq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],X0=Ye("User",Tq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _q=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],bb=Ye("Users",_q);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Iq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],D1=Ye("X",Iq);function pD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=pD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mD(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=pD(t))&&(r&&(r+=" "),r+=e);return r}const ZI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,eC=mD,Ly=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return eC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(h=>{const m=n==null?void 0:n[h],g=i==null?void 0:i[h];if(m===null)return null;const v=ZI(m)||ZI(g);return s[h][v]}),u=n&&Object.entries(n).reduce((h,m)=>{let[g,v]=m;return v===void 0||(h[g]=v),h},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:g,className:v,...E}=m;return Object.entries(E).every(I=>{let[T,_]=I;return Array.isArray(_)?_.includes({...i,...u}[T]):{...i,...u}[T]===_})?[...h,g,v]:h},[]);return eC(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},O1="-",Cq=t=>{const e=Rq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const i=s.split(O1);return i[0]===""&&i.length!==1&&i.shift(),gD(i,e)||Aq(s)},getConflictingClassGroupIds:(s,i)=>{const a=n[s]||[];return i&&r[s]?[...a,...r[s]]:a}}},gD=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),i=s?gD(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(O1);return(n=e.validators.find(({validator:u})=>u(a)))==null?void 0:n.classGroupId},tC=/^\[(.+)\]$/,Aq=t=>{if(tC.test(t)){const e=tC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Rq=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)xb(n[s],r,s,e);return r},xb=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:nC(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Nq(s)){xb(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{xb(a,nC(e,i),n,r)})})},nC=(t,e)=>{let n=t;return e.split(O1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Nq=t=>t.isThemeGetter,Pq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},Sb="!",Eb=":",Dq=Eb.length,Oq=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let a=0,u=0,c=0,h;for(let I=0;I<s.length;I++){let T=s[I];if(a===0&&u===0){if(T===Eb){i.push(s.slice(c,I)),c=I+Dq;continue}if(T==="/"){h=I;continue}}T==="["?a++:T==="]"?a--:T==="("?u++:T===")"&&u--}const m=i.length===0?s:s.substring(c),g=Mq(m),v=g!==m,E=h&&h>c?h-c:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:E}};if(e){const s=e+Eb,i=r;r=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},Mq=t=>t.endsWith(Sb)?t.substring(0,t.length-1):t.startsWith(Sb)?t.substring(1):t,jq=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r}},Lq=t=>({cache:Pq(t.cacheSize),parseClassName:Oq(t),sortModifiers:jq(t),...Cq(t)}),Fq=/\s+/,Vq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],u=t.trim().split(Fq);let c="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{isExternal:g,modifiers:v,hasImportantModifier:E,baseClassName:I,maybePostfixModifierPosition:T}=n(m);if(g){c=m+(c.length>0?" "+c:c);continue}let _=!!T,R=r(_?I.substring(0,T):I);if(!R){if(!_){c=m+(c.length>0?" "+c:c);continue}if(R=r(I),!R){c=m+(c.length>0?" "+c:c);continue}_=!1}const P=i(v).join(":"),M=E?P+Sb:P,z=M+R;if(a.includes(z))continue;a.push(z);const U=s(R,_);for(let H=0;H<U.length;++H){const D=U[H];a.push(M+D)}c=m+(c.length>0?" "+c:c)}return c};function zq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yD(e))&&(r&&(r+=" "),r+=n);return r}const yD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yD(t[r]))&&(n&&(n+=" "),n+=e);return n};function Bq(t,...e){let n,r,s,i=a;function a(c){const h=e.reduce((m,g)=>g(m),t());return n=Lq(h),r=n.cache.get,s=n.cache.set,i=u,u(c)}function u(c){const h=r(c);if(h)return h;const m=Vq(c,n);return s(c,m),m}return function(){return i(zq.apply(null,arguments))}}const nn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Uq=/^\d+\/\d+$/,$q=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Hq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Kq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bu=t=>Uq.test(t),qe=t=>!!t&&!Number.isNaN(Number(t)),Do=t=>!!t&&Number.isInteger(Number(t)),J0=t=>t.endsWith("%")&&qe(t.slice(0,-1)),ki=t=>$q.test(t),Wq=()=>!0,Qq=t=>qq.test(t)&&!Gq.test(t),bD=()=>!1,Yq=t=>Hq.test(t),Xq=t=>Kq.test(t),Jq=t=>!xe(t)&&!Se(t),Zq=t=>jc(t,ED,bD),xe=t=>vD.test(t),Ha=t=>jc(t,kD,Qq),Z0=t=>jc(t,sG,qe),rC=t=>jc(t,xD,bD),eG=t=>jc(t,SD,Xq),fm=t=>jc(t,TD,Yq),Se=t=>wD.test(t),th=t=>Lc(t,kD),tG=t=>Lc(t,iG),sC=t=>Lc(t,xD),nG=t=>Lc(t,ED),rG=t=>Lc(t,SD),pm=t=>Lc(t,TD,!0),jc=(t,e,n)=>{const r=vD.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Lc=(t,e,n=!1)=>{const r=wD.exec(t);return r?r[1]?e(r[1]):n:!1},xD=t=>t==="position"||t==="percentage",SD=t=>t==="image"||t==="url",ED=t=>t==="length"||t==="size"||t==="bg-size",kD=t=>t==="length",sG=t=>t==="number",iG=t=>t==="family-name",TD=t=>t==="shadow",oG=()=>{const t=nn("color"),e=nn("font"),n=nn("text"),r=nn("font-weight"),s=nn("tracking"),i=nn("leading"),a=nn("breakpoint"),u=nn("container"),c=nn("spacing"),h=nn("radius"),m=nn("shadow"),g=nn("inset-shadow"),v=nn("text-shadow"),E=nn("drop-shadow"),I=nn("blur"),T=nn("perspective"),_=nn("aspect"),R=nn("ease"),P=nn("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...z(),Se,xe],H=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],C=()=>[Se,xe,c],N=()=>[Bu,"full","auto",...C()],j=()=>[Do,"none","subgrid",Se,xe],V=()=>["auto",{span:["full",Do,Se,xe]},Do,Se,xe],$=()=>[Do,"auto",Se,xe],L=()=>["auto","min","max","fr",Se,xe],ke=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Pe=()=>["start","end","center","stretch","center-safe","end-safe"],ye=()=>["auto",...C()],ve=()=>[Bu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],W=()=>[t,Se,xe],ne=()=>[...z(),sC,rC,{position:[Se,xe]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",nG,Zq,{size:[Se,xe]}],re=()=>[J0,th,Ha],pe=()=>["","none","full",h,Se,xe],me=()=>["",qe,th,Ha],De=()=>["solid","dashed","dotted","double"],Be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[qe,J0,sC,rC],$e=()=>["","none",I,Se,xe],ze=()=>["none",qe,Se,xe],pt=()=>["none",qe,Se,xe],br=()=>[qe,Se,xe],xr=()=>[Bu,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ki],breakpoint:[ki],color:[Wq],container:[ki],"drop-shadow":[ki],ease:["in","out","in-out"],font:[Jq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ki],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ki],shadow:[ki],spacing:["px",qe],text:[ki],"text-shadow":[ki],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bu,xe,Se,_]}],container:["container"],columns:[{columns:[qe,xe,Se,u]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Do,"auto",Se,xe]}],basis:[{basis:[Bu,"full","auto",u,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,Bu,"auto","initial","none",xe]}],grow:[{grow:["",qe,Se,xe]}],shrink:[{shrink:["",qe,Se,xe]}],order:[{order:[Do,"first","last","none",Se,xe]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...ke(),"normal"]}],"justify-items":[{"justify-items":[...Pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Pe()]}],"align-content":[{content:["normal",...ke()]}],"align-items":[{items:[...Pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ke()}],"place-items":[{"place-items":[...Pe(),"baseline"]}],"place-self":[{"place-self":["auto",...Pe()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:ye()}],mx:[{mx:ye()}],my:[{my:ye()}],ms:[{ms:ye()}],me:[{me:ye()}],mt:[{mt:ye()}],mr:[{mr:ye()}],mb:[{mb:ye()}],ml:[{ml:ye()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:ve()}],w:[{w:[u,"screen",...ve()]}],"min-w":[{"min-w":[u,"screen","none",...ve()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[a]},...ve()]}],h:[{h:["screen","lh",...ve()]}],"min-h":[{"min-h":["screen","lh","none",...ve()]}],"max-h":[{"max-h":["screen","lh",...ve()]}],"font-size":[{text:["base",n,th,Ha]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Se,Z0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",J0,xe]}],"font-family":[{font:[tG,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Se,xe]}],"line-clamp":[{"line-clamp":[qe,"none",Se,Z0]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",Se,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...De(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",Se,Ha]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[qe,"auto",Se,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Do,Se,xe],radial:["",Se,xe],conic:[Do,Se,xe]},rG,eG]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...De(),"hidden","none"]}],"divide-style":[{divide:[...De(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...De(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,Se,xe]}],"outline-w":[{outline:["",qe,th,Ha]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",m,pm,fm]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",g,pm,fm]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[qe,Ha]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",v,pm,fm]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[qe,Se,xe]}],"mix-blend":[{"mix-blend":[...Be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Se,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,xe]}],filter:[{filter:["","none",Se,xe]}],blur:[{blur:$e()}],brightness:[{brightness:[qe,Se,xe]}],contrast:[{contrast:[qe,Se,xe]}],"drop-shadow":[{"drop-shadow":["","none",E,pm,fm]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",qe,Se,xe]}],"hue-rotate":[{"hue-rotate":[qe,Se,xe]}],invert:[{invert:["",qe,Se,xe]}],saturate:[{saturate:[qe,Se,xe]}],sepia:[{sepia:["",qe,Se,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,xe]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[qe,Se,xe]}],"backdrop-contrast":[{"backdrop-contrast":[qe,Se,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,Se,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,Se,xe]}],"backdrop-invert":[{"backdrop-invert":["",qe,Se,xe]}],"backdrop-opacity":[{"backdrop-opacity":[qe,Se,xe]}],"backdrop-saturate":[{"backdrop-saturate":[qe,Se,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,Se,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",Se,xe]}],ease:[{ease:["linear","initial",R,Se,xe]}],delay:[{delay:[qe,Se,xe]}],animate:[{animate:["none",P,Se,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Se,xe]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:ze()}],"rotate-x":[{"rotate-x":ze()}],"rotate-y":[{"rotate-y":ze()}],"rotate-z":[{"rotate-z":ze()}],scale:[{scale:pt()}],"scale-x":[{"scale-x":pt()}],"scale-y":[{"scale-y":pt()}],"scale-z":[{"scale-z":pt()}],"scale-3d":["scale-3d"],skew:[{skew:br()}],"skew-x":[{"skew-x":br()}],"skew-y":[{"skew-y":br()}],transform:[{transform:[Se,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xr()}],"translate-x":[{"translate-x":xr()}],"translate-y":[{"translate-y":xr()}],"translate-z":[{"translate-z":xr()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,xe]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[qe,th,Ha,Z0]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},aG=Bq(oG);function wt(...t){return aG(mD(t))}function kb(t){const e=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];if(t<20)return e[t];if(t<100)return n[Math.floor(t/10)]+(t%10?"-"+e[t%10]:"");if(t<1e3){const r=t%100,s=e[Math.floor(t/100)]+" hundred";return r?s+" "+kb(r):s}return String(t)}function Tb(t){const e=["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","diecisis","diecisiete","dieciocho","diecinueve"],n=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];if(t<20)return e[t];if(t<30)return t===20?"veinte":"veinti"+e[t-20];if(t<100)return n[Math.floor(t/10)]+(t%10?" y "+e[t%10]:"");if(t<200)return"ciento"+(t%100?" "+Tb(t%100):"");if(t<1e3){const r=["cero","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"][Math.floor(t/100)],s=t%100;return r+(s?" "+Tb(s):"")}return String(t)}function yne(t,e={}){if(!t||typeof t!="string")return t;const{numberToWords:n="auto",language:r,pauseOperators:s=!0}=e;let i="en";try{i=r||(localStorage.getItem("tts.lang")==="es"?"es":"en")||"en"}catch{}let a=t;a=a.replace(//g,"-").replace(/|/g,"");const u={2:"half",3:"third",4:"fourth",5:"fifth",6:"sixth",7:"seventh",8:"eighth",9:"ninth",10:"tenth",12:"twelfth"},c={2:"medios",3:"tercios",4:"cuartos",5:"quintos",6:"sextos",7:"sptimos",8:"octavos",9:"novenos",10:"dcimos",12:"duodcimos"};if([{pattern:/\s*\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\/\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\s*/g,spoken:i==="es"?" por ":" times "},{pattern:/\s*\*\s*/g,spoken:" times "},{pattern:/(\d+)\s*[xX]\s*(\d+)/g,spoken:i==="es"?"$1 por $2":"$1 times $2"},{pattern:/\s*\+\s*/g,spoken:i==="es"?" ms ":" plus "},{pattern:/(\d+)\s*-\s*(\d+)/g,spoken:i==="es"?"$1 menos $2":"$1 minus $2"},{pattern:/\s*=\s*/g,spoken:i==="es"?" igual a ":" equals "},{pattern:/\s*>\s*/g,spoken:i==="es"?" es mayor que ":" is greater than "},{pattern:/\s*<\s*/g,spoken:i==="es"?" es menor que ":" is less than "},{pattern:/\s*\s*/g,spoken:i==="es"?" es mayor o igual que ":" is greater than or equal to "},{pattern:/\s*\s*/g,spoken:i==="es"?" es menor o igual que ":" is less than or equal to "},{pattern:/(\d+)\/(\d+)/g,spoken:(h,m,g)=>i==="es"?`${m} ${c[g]||"sobre "+g}`:u[g]?`${m==="1"?"one":kb(Number(m))} ${u[g]}${m!=="1"?"s":""}`:`${m} over ${g}`},{pattern:/%/g,spoken:i==="es"?" por ciento":" percent"},{pattern:/\^(\d+)/g,spoken:i==="es"?" a la potencia de $1":" to the power of $1"},{pattern:/(\d+)/g,spoken:i==="es"?"raz cuadrada de $1":"square root of $1"}].forEach(({pattern:h,spoken:m})=>{a=a.replace(h,m)}),a=a.replace(/(\d)\.(\d)/g,i==="es"?"$1 coma $2":"$1 point $2"),a=a.replace(/\s*(,)?\s*(\?+|_+)\s*(,)?\s*/g,(h,m,g,v)=>m&&v?", ":" "),a=a.replace(/\?\s*$/g,""),s&&(i==="es"?[" ms "," menos "," por "," dividido entre "," igual a "]:[" plus "," minus "," times "," divided by "," equals "]).forEach(h=>{const m=new RegExp(h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(?!,)","g");a=a.replace(m,h+", ")}),n!=="none"){const h=i==="es"?Tb:kb;a=a.replace(/\b\d+\b/g,(m,g)=>{const v=parseInt(m,10);if(!Number.isFinite(v))return m;if(n==="all")return h(v);const E=v<=20,I=a[g-1]||"",T=a[g+m.length]||"";return E||I===","||T===","?h(v):m})}return a=a.replace(/\s+,/g,",").replace(/,\s*,/g,", ").replace(/\s+/g," ").replace(/\s+,\s*$/g,"").trim(),a}const lG=Ly("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Dr({className:t,variant:e,...n}){return x.jsx("div",{className:wt(lG({variant:e}),t),...n})}function iC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ll(...t){return e=>{let n=!1;const r=t.map(s=>{const i=iC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():iC(t[s],null)}}}}function nr(...t){return S.useCallback(Ll(...t),t)}var uG=Symbol.for("react.lazy"),Mg=ox[" use ".trim().toString()];function cG(t){return typeof t=="object"&&t!==null&&"then"in t}function _D(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===uG&&"_payload"in t&&cG(t._payload)}function dG(t){const e=fG(t),n=S.forwardRef((r,s)=>{let{children:i,...a}=r;_D(i)&&typeof Mg=="function"&&(i=Mg(i._payload));const u=S.Children.toArray(i),c=u.find(mG);if(c){const h=c.props.children,m=u.map(g=>g===c?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,m):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var hG=dG("Slot");function fG(t){const e=S.forwardRef((n,r)=>{let{children:s,...i}=n;if(_D(s)&&typeof Mg=="function"&&(s=Mg(s._payload)),S.isValidElement(s)){const a=yG(s),u=gG(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Ll(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pG=Symbol("radix.slottable");function mG(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pG}function gG(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function yG(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}const vG=Ly("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),$s=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?hG:"button";return x.jsx(a,{className:wt(vG({variant:e,size:n,className:t})),ref:i,...s})});$s.displayName="Button";const dn=Sy(us);ny(us);const ID=async(t,e={})=>{const n=Js(dn,"users",t),r={email:t,subscription_tier:"free",subscription_expires_at:null,subscription_auto_renew:!1,trial_start_date:jn(),trial_expires_at:null,trial_used:!1,trial_grace_used:!1,coins:0,stars_spent:0,total_stars_earned:0,owned_pets:[],active_pet:null,purchased_items:[],unlocked_items:[],power_ups:{},pet_experience:{},daily_login_streak:0,total_login_days:0,last_login_date:null,parental_controls:{enabled:!1,allowed_operations:[],allowed_levels:[],focus_operations:[],daily_time_limit_minutes:0,enforce_time_limits:!1},daily_usage_tracking:{},is_parent_mode:!1,is_premium_parent:!1,is_family_teacher:!1,parent_email:null,child_name:null,full_name:null,created_at:jn(),updated_at:jn(),...e};await Ry(n,r);const s=(await cP(n)).data();let i=null;if(s&&s.trial_start_date&&s.trial_start_date.toDate?i=s.trial_start_date.toDate():s&&s.trial_start_date&&s.trial_start_date.seconds&&(i=new Date(s.trial_start_date.seconds*1e3)),i){const a=new Date(i.getTime()+6048e5);return await Ny(n,{trial_expires_at:rt.fromDate(a),updated_at:jn()}),{...s,trial_expires_at:rt.fromDate(a)}}return s||r},CD=async t=>{const e=Js(dn,"users",t),n=await cP(e);return n.exists()?{id:n.id,...n.data()}:await ID(t)},mm=async(t,e)=>{const n=Js(dn,"users",t);await Ny(n,{...e,updated_at:jn()})},vne=async()=>{const t=Pn(dn,"users");return(await ls(t)).docs.map(e=>({id:e.id,...e.data()}))},wne=async(t,e)=>{const n=Pn(dn,"gameProgress"),r=Js(n),s={user_email:t,operation:e.operation,level:e.level,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,coins_earned:e.coins_earned||0,accuracy:e.accuracy||0,completed_at:jn(),...e};return await Ry(r,s),{id:r.id,...s}},bne=async t=>{const e=Pn(dn,"gameProgress"),n=as(e,Lr("user_email","==",t),Dc("completed_at","desc"));return(await ls(n)).docs.map(r=>({id:r.id,...r.data()}))},xne=(t,e)=>{const n=Pn(dn,"gameProgress"),r=as(n,Lr("user_email","==",t),Dc("completed_at","desc"));return dP(r,s=>{const i=s.docs.map(a=>({id:a.id,...a.data()}));e(i)})},Sne=async()=>{const t=Pn(dn,"gameProgress"),e=as(t,Dc("score","desc"),f1(100));return(await ls(e)).docs.map(n=>({id:n.id,...n.data()}))},Ene=async(t,e)=>{const n=Pn(dn,"dailyChallenges"),r=Js(n),s={user_email:t,challenge_type:e.challenge_type,challenge_date:e.challenge_date,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,bonus_coins:e.bonus_coins||0,completed_at:jn(),...e};return await Ry(r,s),{id:r.id,...s}},kne=async t=>{const e=Pn(dn,"dailyChallenges"),n=as(e,Lr("user_email","==",t),Dc("completed_at","desc"));return(await ls(n)).docs.map(r=>({id:r.id,...r.data()}))},Tne=async()=>{const t=Pn(dn,"dailyChallenges"),e=as(t,Dc("score","desc"),f1(100));return(await ls(e)).docs.map(n=>({id:n.id,...n.data()}))},_ne=async t=>{const e=Pn(dn,"teamChallenges"),n=as(e,Lr("creator_email","==",t)),r=as(e,Lr("team_members","array-contains",t)),[s,i]=await Promise.all([ls(n),ls(r)]),a=new Map;return s.docs.forEach(u=>a.set(u.id,{id:u.id,...u.data()})),i.docs.forEach(u=>a.set(u.id,{id:u.id,...u.data()})),Array.from(a.values())},Ine=async(t,e)=>{const n=Js(dn,"teamChallenges",t);await Ny(n,{...e,updated_at:jn()})},Cne=async t=>{const e=Pn(dn,"tutorSessions"),n=as(e,Lr("user_email","==",t),Dc("created_at","desc"),f1(50));return(await ls(n)).docs.map(r=>({id:r.id,...r.data()}))},Ane=async(t,e)=>{const n=Pn(dn,"friendConnections"),r=Js(n),s={user_email:t,friend_email:e,status:"pending",sent_at:jn()};return await Ry(r,s),{id:r.id,...s}},Rne=async t=>{const e=Pn(dn,"friendConnections"),n=as(e,Lr("user_email","==",t),Lr("status","==","accepted")),r=as(e,Lr("friend_email","==",t),Lr("status","==","accepted")),[s,i]=await Promise.all([ls(n),ls(r)]);return[...s.docs.map(a=>({id:a.id,...a.data()})),...i.docs.map(a=>({id:a.id,...a.data()}))]},Nne=async t=>{const e=Pn(dn,"friendConnections"),n=as(e,Lr("friend_email","==",t),Lr("status","==","pending"));return(await ls(n)).docs.map(r=>({id:r.id,...r.data()}))},Pne=async(t,e)=>{const n=Js(dn,"friendConnections",t);await Ny(n,{status:e,updated_at:jn()})},qm=S.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:wt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));qm.displayName="Input";function AD(){const[t,e]=S.useState("sign-in"),[n,r]=S.useState(""),[s,i]=S.useState(""),[a,u]=S.useState(""),[c,h]=S.useState(!1),[m,g]=S.useState(""),[v,E]=S.useState(""),[I,T]=S.useState(!1),[_,R]=S.useState(!1),P=()=>{E(""),g("")},M=async()=>{if(P(),!n){E("Email required");return}if(t==="sign-up"){if(!s){E("Password required");return}if(s!==a){E("Passwords do not match");return}}if(t==="sign-in"&&!s){E("Password required");return}h(!0);try{t==="sign-up"?(await R6(F0,n,s),await ID(n),g("Account created. You are signed in.")):t==="sign-in"?(await N6(F0,n,s),await CD(n),g("Signed in.")):t==="reset"&&(await A6(F0,n),g("Reset link sent. Check your email."))}catch(U){E((U==null?void 0:U.message)||"Auth failed")}finally{h(!1)}},z=U=>{P(),e(U)};return x.jsxs("div",{className:"w-full max-w-sm mx-auto bg-white/90 rounded-xl shadow-lg p-5 space-y-4",children:[x.jsxs("h2",{className:"text-xl font-bold text-purple-700 text-center",children:[t==="sign-in"&&"Sign In",t==="sign-up"&&"Create Account",t==="reset"&&"Reset Password"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(qm,{type:"email",autoComplete:"email",placeholder:"Email",value:n,onChange:U=>r(U.target.value)}),t!=="reset"&&x.jsxs("div",{className:"relative",children:[x.jsx(qm,{type:I?"text":"password",autoComplete:t==="sign-up"?"new-password":"current-password",placeholder:"Password",value:s,onChange:U=>i(U.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>T(!I),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:I?x.jsx(GI,{className:"w-4 h-4"}):x.jsx(HI,{className:"w-4 h-4"})})]}),t==="sign-up"&&x.jsxs("div",{className:"relative",children:[x.jsx(qm,{type:_?"text":"password",placeholder:"Confirm Password",value:a,onChange:U=>u(U.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>R(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:_?x.jsx(GI,{className:"w-4 h-4"}):x.jsx(HI,{className:"w-4 h-4"})})]})]}),(v||m)&&x.jsx("div",{className:`text-sm rounded-md p-2 ${v?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:v||m}),x.jsx($s,{onClick:M,disabled:c,className:"w-full bg-purple-600 hover:bg-purple-700",children:c?"Please wait":t==="sign-in"?"Sign In":t==="sign-up"?"Sign Up":"Send Reset Link"}),x.jsxs("div",{className:"text-xs text-center text-gray-600 space-y-1",children:[t==="sign-in"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>z("sign-up"),className:"text-purple-600 hover:underline block w-full",children:"Need an account? Sign up"}),x.jsx("button",{onClick:()=>z("reset"),className:"text-purple-600 hover:underline block w-full",children:"Forgot password?"})]}),t==="sign-up"&&x.jsx("button",{onClick:()=>z("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Have an account? Sign in"}),t==="reset"&&x.jsx("button",{onClick:()=>z("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Back to sign in"})]})]})}const RD=t=>{if(!t)return!1;if(!t.trial_start_date||!t.trial_expires_at)return t.subscription_tier==="free"&&t.trial_used!==!0;if(t.subscription_tier!=="free"||t.trial_used===!0)return!1;const e=new Date,n=t.trial_expires_at.toDate();return e<n},wG=t=>{if(!t||!t.trial_start_date||!t.trial_expires_at||t.subscription_tier!=="free")return!1;const e=new Date,n=t.trial_expires_at.toDate();return e>=n},bG=t=>{if(!t||!t.trial_expires_at||t.subscription_tier!=="free")return 0;const e=new Date,n=t.trial_expires_at.toDate()-e;return n<=0?0:Math.ceil(n/(1e3*60*60*24))},xG=t=>t?!!(t.subscription_tier&&t.subscription_tier!=="free"||RD(t)&&t.trial_used!==!0):!1;let jg=b8;(async()=>{try{!jg&&await FP()&&(jg=LP(us))}catch{}})();function Fy(t,e={}){if(jg)try{VP(jg,t,e)}catch(n){console.warn("analytics log skipped",t,n==null?void 0:n.message)}}const SG=t=>Fy("trial_start",{method:"auto",user_email:t}),EG=(t,e)=>Fy("trial_day",{day:e,user_email:t}),kG=t=>Fy("trial_expired",{user_email:t}),TG=t=>Fy("trial_grace_lock",{user_email:t}),M1=Sy(us);async function _G(t){try{await m1(Pn(M1,"notifications"),{user_email:t,type:"trial_day6_warning",title:"Trial Ending Soon!",message:"Your 7-day trial ends tomorrow. Upgrade now to keep unlimited access to premium features!",is_read:!1,created_at:jn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create day6 notification:",e.message)}}async function IG(t){try{await m1(Pn(M1,"notifications"),{user_email:t,type:"trial_expired",title:"Trial Ended",message:"Your 7-day trial has ended. You are now on the free plan. Upgrade anytime to regain premium features.",is_read:!1,created_at:jn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create trial expired notification:",e.message)}}async function CG(t){try{await m1(Pn(M1,"notifications"),{user_email:t,type:"trial_grace_day",title:"Grace Day: Final Chance!",message:"Your trial expired, but you still have premium access today only. Upgrade now before it locks tomorrow.",is_read:!1,created_at:jn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create grace day notification:",e.message)}}function AG(){const[t,e]=S.useState(null),[n,r]=S.useState(!0),[s,i]=S.useState(null);return S.useEffect(()=>{const a=ny(us),u=Sy(us);let c=null;const h=O6(a,async m=>{var g;if(!m){e(null),r(!1);return}try{e(v=>v||{email:m.email,subscription_tier:"free",coins:0}),i(null);try{const v=(g=m==null?void 0:m.metadata)!=null&&g.creationTime?new Date(m.metadata.creationTime).getTime():null,E=v?Date.now()-v<1440*60*1e3:!1,I=`optimistic_trial_${m.email}`,T=typeof window<"u"?localStorage.getItem(I):null;E&&!T&&(e(_=>({..._||{},email:m.email,subscription_tier:"free",coins:0,isOnTrial:!0,trialExpired:!1,trialDaysRemaining:7,inGraceDay:!1,hasPremiumAccess:!0,_optimisticTrial:!0})),localStorage.setItem(I,"true"))}catch{}try{if(typeof window<"u"&&window.location.search.includes("reset_trial=true")){const v=Date.now(),E=new Date(v+10080*60*1e3);await mm(m.email,{trial_start_date:jn(),trial_expires_at:rt.fromDate(E),trial_used:!1,trial_grace_used:!1}),localStorage.removeItem(`trial_log_${m.email}`);const I=new URL(window.location.href);I.searchParams.delete("reset_trial"),window.history.replaceState({},"",I.toString()),console.info("[trial] Trial reset performed for",m.email)}}catch(v){console.warn("[trial] Trial reset attempt failed:",v==null?void 0:v.message)}c&&c(),c=dP(Js(u,"users",m.email),v=>{var E,I;if(v.exists()){const T={id:v.id,...v.data()};(async()=>{try{if(!T.trial_start_date||!T.trial_expires_at){const V=Date.now(),$=new Date(V+10080*60*1e3);await mm(m.email,{trial_start_date:jn(),trial_expires_at:rt.fromDate($),trial_used:!1,trial_grace_used:!1})}}catch{}})();const _=RD(T)||!T.trial_start_date||!T.trial_expires_at,R=wG(T),P=bG(T),M=7,z=(E=T.trial_start_date)!=null&&E.toDate?Math.floor((Date.now()-T.trial_start_date.toDate().getTime())/(1e3*60*60*24)):null,U=R&&z===M&&T.trial_grace_used!==!0;e({...T,isOnTrial:_,trialExpired:R,trialDaysRemaining:P,inGraceDay:U,hasPremiumAccess:xG(T)||_||U});const H=v.id,D=`trial_log_${H}`,C=localStorage.getItem(D);let N=C?JSON.parse(C):{};const j=(I=T.trial_start_date)!=null&&I.toDate?T.trial_start_date.toDate().getTime():null;if(j){const V=N.trial_start_timestamp||null;(!V||V!==j)&&(N={})}if(T.trial_start_date&&!N.trial_start&&(SG(H),N.trial_start=!0,j&&(N.trial_start_timestamp=j)),_&&P>=0&&P<=7){const V=`day_${7-P}`;N[V]||(EG(H,7-P),N[V]=!0),P===1&&!N.notif_day6&&(_G(H),N.notif_day6=!0)}R&&T.subscription_tier==="free"&&!N.trial_expired&&(kG(H),N.trial_expired=!0,T.trial_used!==!0&&mm(v.id,{trial_used:!0}).catch(()=>{}),N.notif_expired||(IG(H),N.notif_expired=!0)),U&&!N.grace_lock&&(TG(H),N.grace_lock=!0,T.trial_grace_used!==!0&&mm(v.id,{trial_grace_used:!0}).catch(()=>{}),N.notif_grace||(CG(H),N.notif_grace=!0));try{localStorage.setItem(D,JSON.stringify(N))}catch{}}},v=>{console.error("Firestore snapshot error:",v)}),CD(m.email).catch(v=>{console.error("Failed to ensure user profile",v),i(v)})}catch(v){console.error("Failed to initialize user session",v),i(v),e({email:m.email,subscription_tier:"free",coins:0})}finally{r(!1)}});return()=>{c&&c(),h()}},[]),{user:t,loading:n,error:s}}const ND=S.createContext({user:null,loading:!0,error:null});function RG({children:t}){const e=AG();return x.jsx(ND.Provider,{value:e,children:t})}function j1(){return S.useContext(ND)}const NG=Ly("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),PD=S.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,role:"alert",className:wt(NG({variant:e}),t),...n}));PD.displayName="Alert";const PG=S.forwardRef(({className:t,...e},n)=>x.jsx("h5",{ref:n,className:wt("mb-1 font-medium leading-none tracking-tight",t),...e}));PG.displayName="AlertTitle";const DD=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm [&_p]:leading-relaxed",t),...e}));DD.displayName="AlertDescription";function DG(){const{user:t}=j1(),e=E1(),[n,r]=rn.useState(!1),[s,i]=rn.useState(!0);if(!t||n===!0||s===!1||!(t.isOnTrial||t.trialExpired||t.inGraceDay))return null;const a=t.trialExpired&&!t.inGraceDay,u=t.trialDaysRemaining||0,c=t.inGraceDay;return x.jsx(PD,{className:`mb-4 ${a?"bg-red-50 border-red-300":u<=2?"bg-orange-50 border-orange-300":"bg-blue-50 border-blue-300"}`,children:x.jsxs("div",{className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c?x.jsx(ol,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}):a?x.jsx(ol,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):x.jsx(J$,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),x.jsx(DD,{className:c?"text-orange-800":a?"text-red-800":"text-blue-800",children:x.jsx("div",{className:"space-y-2",children:c?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Grace Day: Final Chance!"}),x.jsx("p",{className:"text-sm",children:"Your trial expired, but you still have premium access today only. Upgrade now to keep everything before it locks tomorrow."})]}):a?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Your 7-day trial has ended"}),x.jsx("p",{className:"text-sm",children:"You're now on the free plan with limited access. Upgrade to continue enjoying premium features like unlimited games, AI tutor, and more!"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:u===0?" Trial ends today!":`${u} day${u===1?"":"s"} left in your trial`}),x.jsx("p",{className:"text-sm",children:"You're currently enjoying premium features. Upgrade now to keep unlimited access after your trial ends!"})]})})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs($s,{onClick:()=>e("/subscription"),className:`${c?"bg-orange-600 hover:bg-orange-700":a?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white whitespace-nowrap`,size:"sm",children:[x.jsx(ol,{className:"w-4 h-4 mr-1"}),"Upgrade Now"]}),x.jsx($s,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"flex-shrink-0",children:x.jsx(D1,{className:"w-4 h-4"})})]})]})})}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Dne(t,e){const n=S.createContext(e),r=i=>{const{children:a,...u}=i,c=S.useMemo(()=>u,Object.values(u));return x.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=S.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function _f(t,e=[]){let n=[];function r(i,a){const u=S.createContext(a),c=n.length;n=[...n,a];const h=g=>{var v;const{scope:E,children:I,...T}=g,_=((v=E==null?void 0:E[t])==null?void 0:v[c])||u,R=S.useMemo(()=>T,Object.values(T));return x.jsx(_.Provider,{value:R,children:I})};h.displayName=i+"Provider";function m(g,v){var E;const I=((E=v==null?void 0:v[t])==null?void 0:E[c])||u,T=S.useContext(I);if(T)return T;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,m]}const s=()=>{const i=n.map(a=>S.createContext(a));return function(a){const u=(a==null?void 0:a[t])||i;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,OG(s,...e)]}function OG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const i=r.reduce((a,{useScope:u,scopeName:c})=>{const h=u(s)[`__scope${c}`];return{...a,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var ea=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},MG=ox[" useInsertionEffect ".trim().toString()]||ea;function OD({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=jG({defaultProp:e,onChange:n}),u=t!==void 0,c=u?t:s;{const m=S.useRef(t!==void 0);S.useEffect(()=>{const g=m.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const h=S.useCallback(m=>{var g;if(u){const v=LG(m)?m(t):m;v!==t&&((g=a.current)==null||g.call(a,v))}else i(m)},[u,t,i,a]);return[c,h]}function jG({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),s=S.useRef(n),i=S.useRef(e);return MG(()=>{i.current=e},[e]),S.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function LG(t){return typeof t=="function"}function FG(t){const e=VG(t),n=S.forwardRef((r,s)=>{const{children:i,...a}=r,u=S.Children.toArray(i),c=u.find(BG);if(c){const h=c.props.children,m=u.map(g=>g===c?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,m):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function VG(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const a=$G(s),u=UG(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Ll(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var zG=Symbol("radix.slottable");function BG(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===zG}function UG(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function $G(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var qG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bn=qG.reduce((t,e)=>{const n=FG(`Primitive.${e}`),r=S.forwardRef((s,i)=>{const{asChild:a,...u}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(c,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function MD(t,e){t&&C1.flushSync(()=>t.dispatchEvent(e))}function oC(t){const e=GG(t),n=S.forwardRef((r,s)=>{const{children:i,...a}=r,u=S.Children.toArray(i),c=u.find(KG);if(c){const h=c.props.children,m=u.map(g=>g===c?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,m):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function GG(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const a=QG(s),u=WG(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Ll(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var HG=Symbol("radix.slottable");function KG(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===HG}function WG(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function QG(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function jD(t){const e=t+"CollectionProvider",[n,r]=_f(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=T=>{const{scope:_,children:R}=T,P=rn.useRef(null),M=rn.useRef(new Map).current;return x.jsx(s,{scope:_,itemMap:M,collectionRef:P,children:R})};a.displayName=e;const u=t+"CollectionSlot",c=oC(u),h=rn.forwardRef((T,_)=>{const{scope:R,children:P}=T,M=i(u,R),z=nr(_,M.collectionRef);return x.jsx(c,{ref:z,children:P})});h.displayName=u;const m=t+"CollectionItemSlot",g="data-radix-collection-item",v=oC(m),E=rn.forwardRef((T,_)=>{const{scope:R,children:P,...M}=T,z=rn.useRef(null),U=nr(_,z),H=i(m,R);return rn.useEffect(()=>(H.itemMap.set(z,{ref:z,...M}),()=>void H.itemMap.delete(z))),x.jsx(v,{[g]:"",ref:U,children:P})});E.displayName=m;function I(T){const _=i(t+"CollectionConsumer",T);return rn.useCallback(()=>{const R=_.collectionRef.current;if(!R)return[];const P=Array.from(R.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((M,z)=>P.indexOf(M.ref.current)-P.indexOf(z.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:h,ItemSlot:E},I,r]}var YG=S.createContext(void 0);function LD(t){const e=S.useContext(YG);return t||e||"ltr"}function ji(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function XG(t,e=globalThis==null?void 0:globalThis.document){const n=ji(t);S.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var JG="DismissableLayer",_b="dismissableLayer.update",ZG="dismissableLayer.pointerDownOutside",eH="dismissableLayer.focusOutside",aC,FD=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),VD=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:u,...c}=t,h=S.useContext(FD),[m,g]=S.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=S.useState({}),I=nr(e,D=>g(D)),T=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),R=T.indexOf(_),P=m?T.indexOf(m):-1,M=h.layersWithOutsidePointerEventsDisabled.size>0,z=P>=R,U=rH(D=>{const C=D.target,N=[...h.branches].some(j=>j.contains(C));!z||N||(s==null||s(D),a==null||a(D),D.defaultPrevented||u==null||u())},v),H=sH(D=>{const C=D.target;[...h.branches].some(N=>N.contains(C))||(i==null||i(D),a==null||a(D),D.defaultPrevented||u==null||u())},v);return XG(D=>{P===h.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},v),S.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(aC=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),lC(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=aC)}},[m,v,n,h]),S.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),lC())},[m,h]),S.useEffect(()=>{const D=()=>E({});return document.addEventListener(_b,D),()=>document.removeEventListener(_b,D)},[]),x.jsx(Bn.div,{...c,ref:I,style:{pointerEvents:M?z?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,H.onFocusCapture),onBlurCapture:et(t.onBlurCapture,H.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,U.onPointerDownCapture)})});VD.displayName=JG;var tH="DismissableLayerBranch",nH=S.forwardRef((t,e)=>{const n=S.useContext(FD),r=S.useRef(null),s=nr(e,r);return S.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(Bn.div,{...t,ref:s})});nH.displayName=tH;function rH(t,e=globalThis==null?void 0:globalThis.document){const n=ji(t),r=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let c=function(){zD(ZG,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function sH(t,e=globalThis==null?void 0:globalThis.document){const n=ji(t),r=S.useRef(!1);return S.useEffect(()=>{const s=i=>{i.target&&!r.current&&zD(eH,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lC(){const t=new CustomEvent(_b);document.dispatchEvent(t)}function zD(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?MD(s,i):s.dispatchEvent(i)}var ew=0;function iH(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uC()),document.body.insertAdjacentElement("beforeend",t[1]??uC()),ew++,()=>{ew===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ew--}},[])}function uC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var tw="focusScope.autoFocusOnMount",nw="focusScope.autoFocusOnUnmount",cC={bubbles:!1,cancelable:!0},oH="FocusScope",BD=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[u,c]=S.useState(null),h=ji(s),m=ji(i),g=S.useRef(null),v=nr(e,T=>c(T)),E=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let T=function(M){if(E.paused||!u)return;const z=M.target;u.contains(z)?g.current=z:Mo(g.current,{select:!0})},_=function(M){if(E.paused||!u)return;const z=M.relatedTarget;z!==null&&(u.contains(z)||Mo(g.current,{select:!0}))},R=function(M){if(document.activeElement===document.body)for(const z of M)z.removedNodes.length>0&&Mo(u)};document.addEventListener("focusin",T),document.addEventListener("focusout",_);const P=new MutationObserver(R);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",_),P.disconnect()}}},[r,u,E.paused]),S.useEffect(()=>{if(u){hC.add(E);const T=document.activeElement;if(!u.contains(T)){const _=new CustomEvent(tw,cC);u.addEventListener(tw,h),u.dispatchEvent(_),_.defaultPrevented||(aH(hH(UD(u)),{select:!0}),document.activeElement===T&&Mo(u))}return()=>{u.removeEventListener(tw,h),setTimeout(()=>{const _=new CustomEvent(nw,cC);u.addEventListener(nw,m),u.dispatchEvent(_),_.defaultPrevented||Mo(T??document.body,{select:!0}),u.removeEventListener(nw,m),hC.remove(E)},0)}}},[u,h,m,E]);const I=S.useCallback(T=>{if(!n&&!r||E.paused)return;const _=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,R=document.activeElement;if(_&&R){const P=T.currentTarget,[M,z]=lH(P);M&&z?!T.shiftKey&&R===z?(T.preventDefault(),n&&Mo(M,{select:!0})):T.shiftKey&&R===M&&(T.preventDefault(),n&&Mo(z,{select:!0})):R===P&&T.preventDefault()}},[n,r,E.paused]);return x.jsx(Bn.div,{tabIndex:-1,...a,ref:v,onKeyDown:I})});BD.displayName=oH;function aH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Mo(r,{select:e}),document.activeElement!==n)return}function lH(t){const e=UD(t),n=dC(e,t),r=dC(e.reverse(),t);return[n,r]}function UD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dC(t,e){for(const n of t)if(!uH(n,{upTo:e}))return n}function uH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cH(t){return t instanceof HTMLInputElement&&"select"in t}function Mo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&cH(t)&&e&&t.select()}}var hC=dH();function dH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=fC(t,e),t.unshift(e)},remove(e){var n;t=fC(t,e),(n=t[0])==null||n.resume()}}}function fC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function hH(t){return t.filter(e=>e.tagName!=="A")}var fH=ox[" useId ".trim().toString()]||(()=>{}),pH=0;function Ib(t){const[e,n]=S.useState(fH());return ea(()=>{n(r=>r??String(pH++))},[t]),e?`radix-${e}`:""}const mH=["top","right","bottom","left"],ta=Math.min,pr=Math.max,Lg=Math.round,gm=Math.floor,qs=t=>({x:t,y:t}),gH={left:"right",right:"left",bottom:"top",top:"bottom"},yH={start:"end",end:"start"};function Cb(t,e,n){return pr(t,ta(e,n))}function Li(t,e){return typeof t=="function"?t(e):t}function Fi(t){return t.split("-")[0]}function Fc(t){return t.split("-")[1]}function L1(t){return t==="x"?"y":"x"}function F1(t){return t==="y"?"height":"width"}const vH=new Set(["top","bottom"]);function Ls(t){return vH.has(Fi(t))?"y":"x"}function V1(t){return L1(Ls(t))}function wH(t,e,n){n===void 0&&(n=!1);const r=Fc(t),s=V1(t),i=F1(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Fg(a)),[a,Fg(a)]}function bH(t){const e=Fg(t);return[Ab(t),e,Ab(e)]}function Ab(t){return t.replace(/start|end/g,e=>yH[e])}const pC=["left","right"],mC=["right","left"],xH=["top","bottom"],SH=["bottom","top"];function EH(t,e,n){switch(t){case"top":case"bottom":return n?e?mC:pC:e?pC:mC;case"left":case"right":return e?xH:SH;default:return[]}}function kH(t,e,n,r){const s=Fc(t);let i=EH(Fi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(Ab)))),i}function Fg(t){return t.replace(/left|right|bottom|top/g,e=>gH[e])}function TH(t){return{top:0,right:0,bottom:0,left:0,...t}}function $D(t){return typeof t!="number"?TH(t):{top:t,right:t,bottom:t,left:t}}function Vg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function gC(t,e,n){let{reference:r,floating:s}=t;const i=Ls(e),a=V1(e),u=F1(a),c=Fi(e),h=i==="y",m=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let E;switch(c){case"top":E={x:m,y:r.y-s.height};break;case"bottom":E={x:m,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:g};break;case"left":E={x:r.x-s.width,y:g};break;default:E={x:r.x,y:r.y}}switch(Fc(e)){case"start":E[a]-=v*(n&&h?-1:1);break;case"end":E[a]+=v*(n&&h?-1:1);break}return E}const _H=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,u=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y:g}=gC(h,r,c),v=r,E={},I=0;for(let T=0;T<u.length;T++){const{name:_,fn:R}=u[T],{x:P,y:M,data:z,reset:U}=await R({x:m,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:E,rects:h,platform:a,elements:{reference:t,floating:e}});m=P??m,g=M??g,E={...E,[_]:{...E[_],...z}},U&&I<=50&&(I++,typeof U=="object"&&(U.placement&&(v=U.placement),U.rects&&(h=U.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):U.rects),{x:m,y:g}=gC(h,v,c)),T=-1)}return{x:m,y:g,placement:v,strategy:s,middlewareData:E}};async function Qh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:u,strategy:c}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:E=0}=Li(e,t),I=$D(E),T=u[v?g==="floating"?"reference":"floating":g],_=Vg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:c})),R=g==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),M=await(i.isElement==null?void 0:i.isElement(P))?await(i.getScale==null?void 0:i.getScale(P))||{x:1,y:1}:{x:1,y:1},z=Vg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:R,offsetParent:P,strategy:c}):R);return{top:(_.top-z.top+I.top)/M.y,bottom:(z.bottom-_.bottom+I.bottom)/M.y,left:(_.left-z.left+I.left)/M.x,right:(z.right-_.right+I.right)/M.x}}const IH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:u,middlewareData:c}=e,{element:h,padding:m=0}=Li(t,e)||{};if(h==null)return{};const g=$D(m),v={x:n,y:r},E=V1(s),I=F1(E),T=await a.getDimensions(h),_=E==="y",R=_?"top":"left",P=_?"bottom":"right",M=_?"clientHeight":"clientWidth",z=i.reference[I]+i.reference[E]-v[E]-i.floating[I],U=v[E]-i.reference[E],H=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let D=H?H[M]:0;(!D||!await(a.isElement==null?void 0:a.isElement(H)))&&(D=u.floating[M]||i.floating[I]);const C=z/2-U/2,N=D/2-T[I]/2-1,j=ta(g[R],N),V=ta(g[P],N),$=j,L=D-T[I]-V,ke=D/2-T[I]/2+C,Pe=Cb($,ke,L),ye=!c.arrow&&Fc(s)!=null&&ke!==Pe&&i.reference[I]/2-(ke<$?j:V)-T[I]/2<0,ve=ye?ke<$?ke-$:ke-L:0;return{[E]:v[E]+ve,data:{[E]:Pe,centerOffset:ke-Pe-ve,...ye&&{alignmentOffset:ve}},reset:ye}}}),CH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:u,platform:c,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:T=!0,..._}=Li(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const R=Fi(s),P=Ls(u),M=Fi(u)===u,z=await(c.isRTL==null?void 0:c.isRTL(h.floating)),U=v||(M||!T?[Fg(u)]:bH(u)),H=I!=="none";!v&&H&&U.push(...kH(u,T,I,z));const D=[u,...U],C=await Qh(e,_),N=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&N.push(C[R]),g){const ke=wH(s,a,z);N.push(C[ke[0]],C[ke[1]])}if(j=[...j,{placement:s,overflows:N}],!N.every(ke=>ke<=0)){var V,$;const ke=(((V=i.flip)==null?void 0:V.index)||0)+1,Pe=D[ke];if(Pe&&(!(g==="alignment"&&P!==Ls(Pe))||j.every(ve=>Ls(ve.placement)===P?ve.overflows[0]>0:!0)))return{data:{index:ke,overflows:j},reset:{placement:Pe}};let ye=($=j.filter(ve=>ve.overflows[0]<=0).sort((ve,W)=>ve.overflows[1]-W.overflows[1])[0])==null?void 0:$.placement;if(!ye)switch(E){case"bestFit":{var L;const ve=(L=j.filter(W=>{if(H){const ne=Ls(W.placement);return ne===P||ne==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ne=>ne>0).reduce((ne,oe)=>ne+oe,0)]).sort((W,ne)=>W[1]-ne[1])[0])==null?void 0:L[0];ve&&(ye=ve);break}case"initialPlacement":ye=u;break}if(s!==ye)return{reset:{placement:ye}}}return{}}}};function yC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function vC(t){return mH.some(e=>t[e]>=0)}const AH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Li(t,e);switch(r){case"referenceHidden":{const i=await Qh(e,{...s,elementContext:"reference"}),a=yC(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:vC(a)}}}case"escaped":{const i=await Qh(e,{...s,altBoundary:!0}),a=yC(i,n.floating);return{data:{escapedOffsets:a,escaped:vC(a)}}}default:return{}}}}},qD=new Set(["left","top"]);async function RH(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Fi(n),u=Fc(n),c=Ls(n)==="y",h=qD.has(a)?-1:1,m=i&&c?-1:1,g=Li(e,t);let{mainAxis:v,crossAxis:E,alignmentAxis:I}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof I=="number"&&(E=u==="end"?I*-1:I),c?{x:E*m,y:v*h}:{x:v*h,y:E*m}}const NH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:u}=e,c=await RH(e,t);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},PH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:u={fn:_=>{let{x:R,y:P}=_;return{x:R,y:P}}},...c}=Li(t,e),h={x:n,y:r},m=await Qh(e,c),g=Ls(Fi(s)),v=L1(g);let E=h[v],I=h[g];if(i){const _=v==="y"?"top":"left",R=v==="y"?"bottom":"right",P=E+m[_],M=E-m[R];E=Cb(P,E,M)}if(a){const _=g==="y"?"top":"left",R=g==="y"?"bottom":"right",P=I+m[_],M=I-m[R];I=Cb(P,I,M)}const T=u.fn({...e,[v]:E,[g]:I});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[v]:i,[g]:a}}}}}},DH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:u=0,mainAxis:c=!0,crossAxis:h=!0}=Li(t,e),m={x:n,y:r},g=Ls(s),v=L1(g);let E=m[v],I=m[g];const T=Li(u,e),_=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(c){const M=v==="y"?"height":"width",z=i.reference[v]-i.floating[M]+_.mainAxis,U=i.reference[v]+i.reference[M]-_.mainAxis;E<z?E=z:E>U&&(E=U)}if(h){var R,P;const M=v==="y"?"width":"height",z=qD.has(Fi(s)),U=i.reference[g]-i.floating[M]+(z&&((R=a.offset)==null?void 0:R[g])||0)+(z?0:_.crossAxis),H=i.reference[g]+i.reference[M]+(z?0:((P=a.offset)==null?void 0:P[g])||0)-(z?_.crossAxis:0);I<U?I=U:I>H&&(I=H)}return{[v]:E,[g]:I}}}},OH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:u}=e,{apply:c=()=>{},...h}=Li(t,e),m=await Qh(e,h),g=Fi(s),v=Fc(s),E=Ls(s)==="y",{width:I,height:T}=i.floating;let _,R;g==="top"||g==="bottom"?(_=g,R=v===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(R=g,_=v==="end"?"top":"bottom");const P=T-m.top-m.bottom,M=I-m.left-m.right,z=ta(T-m[_],P),U=ta(I-m[R],M),H=!e.middlewareData.shift;let D=z,C=U;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=M),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=P),H&&!v){const j=pr(m.left,0),V=pr(m.right,0),$=pr(m.top,0),L=pr(m.bottom,0);E?C=I-2*(j!==0||V!==0?j+V:pr(m.left,m.right)):D=T-2*($!==0||L!==0?$+L:pr(m.top,m.bottom))}await c({...e,availableWidth:C,availableHeight:D});const N=await a.getDimensions(u.floating);return I!==N.width||T!==N.height?{reset:{rects:!0}}:{}}}};function Vy(){return typeof window<"u"}function Vc(t){return GD(t)?(t.nodeName||"").toLowerCase():"#document"}function vr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ti(t){var e;return(e=(GD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function GD(t){return Vy()?t instanceof Node||t instanceof vr(t).Node:!1}function cs(t){return Vy()?t instanceof Element||t instanceof vr(t).Element:!1}function Xs(t){return Vy()?t instanceof HTMLElement||t instanceof vr(t).HTMLElement:!1}function wC(t){return!Vy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vr(t).ShadowRoot}const MH=new Set(["inline","contents"]);function If(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ds(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!MH.has(s)}const jH=new Set(["table","td","th"]);function LH(t){return jH.has(Vc(t))}const FH=[":popover-open",":modal"];function zy(t){return FH.some(e=>{try{return t.matches(e)}catch{return!1}})}const VH=["transform","translate","scale","rotate","perspective"],zH=["transform","translate","scale","rotate","perspective","filter"],BH=["paint","layout","strict","content"];function z1(t){const e=B1(),n=cs(t)?ds(t):t;return VH.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||zH.some(r=>(n.willChange||"").includes(r))||BH.some(r=>(n.contain||"").includes(r))}function UH(t){let e=na(t);for(;Xs(e)&&!Tc(e);){if(z1(e))return e;if(zy(e))return null;e=na(e)}return null}function B1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $H=new Set(["html","body","#document"]);function Tc(t){return $H.has(Vc(t))}function ds(t){return vr(t).getComputedStyle(t)}function By(t){return cs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function na(t){if(Vc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||wC(t)&&t.host||ti(t);return wC(e)?e.host:e}function HD(t){const e=na(t);return Tc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xs(e)&&If(e)?e:HD(e)}function Yh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=HD(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=vr(s);if(i){const u=Rb(a);return e.concat(a,a.visualViewport||[],If(s)?s:[],u&&n?Yh(u):[])}return e.concat(s,Yh(s,[],n))}function Rb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function KD(t){const e=ds(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Xs(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,u=Lg(n)!==i||Lg(r)!==a;return u&&(n=i,r=a),{width:n,height:r,$:u}}function U1(t){return cs(t)?t:t.contextElement}function lc(t){const e=U1(t);if(!Xs(e))return qs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=KD(e);let a=(i?Lg(n.width):n.width)/r,u=(i?Lg(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const qH=qs(0);function WD(t){const e=vr(t);return!B1()||!e.visualViewport?qH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function GH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vr(t)?!1:e}function Al(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=U1(t);let a=qs(1);e&&(r?cs(r)&&(a=lc(r)):a=lc(t));const u=GH(i,n,r)?WD(i):qs(0);let c=(s.left+u.x)/a.x,h=(s.top+u.y)/a.y,m=s.width/a.x,g=s.height/a.y;if(i){const v=vr(i),E=r&&cs(r)?vr(r):r;let I=v,T=Rb(I);for(;T&&r&&E!==I;){const _=lc(T),R=T.getBoundingClientRect(),P=ds(T),M=R.left+(T.clientLeft+parseFloat(P.paddingLeft))*_.x,z=R.top+(T.clientTop+parseFloat(P.paddingTop))*_.y;c*=_.x,h*=_.y,m*=_.x,g*=_.y,c+=M,h+=z,I=vr(T),T=Rb(I)}}return Vg({width:m,height:g,x:c,y:h})}function Uy(t,e){const n=By(t).scrollLeft;return e?e.left+n:Al(ti(t)).left+n}function QD(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Uy(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function HH(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=ti(r),u=e?zy(e.floating):!1;if(r===a||u&&i)return n;let c={scrollLeft:0,scrollTop:0},h=qs(1);const m=qs(0),g=Xs(r);if((g||!g&&!i)&&((Vc(r)!=="body"||If(a))&&(c=By(r)),Xs(r))){const E=Al(r);h=lc(r),m.x=E.x+r.clientLeft,m.y=E.y+r.clientTop}const v=a&&!g&&!i?QD(a,c):qs(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-c.scrollLeft*h.x+m.x+v.x,y:n.y*h.y-c.scrollTop*h.y+m.y+v.y}}function KH(t){return Array.from(t.getClientRects())}function WH(t){const e=ti(t),n=By(t),r=t.ownerDocument.body,s=pr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=pr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Uy(t);const u=-n.scrollTop;return ds(r).direction==="rtl"&&(a+=pr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:u}}const bC=25;function QH(t,e){const n=vr(t),r=ti(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,u=0,c=0;if(s){i=s.width,a=s.height;const m=B1();(!m||m&&e==="fixed")&&(u=s.offsetLeft,c=s.offsetTop)}const h=Uy(r);if(h<=0){const m=r.ownerDocument,g=m.body,v=getComputedStyle(g),E=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,I=Math.abs(r.clientWidth-g.clientWidth-E);I<=bC&&(i-=I)}else h<=bC&&(i+=h);return{width:i,height:a,x:u,y:c}}const YH=new Set(["absolute","fixed"]);function XH(t,e){const n=Al(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Xs(t)?lc(t):qs(1),a=t.clientWidth*i.x,u=t.clientHeight*i.y,c=s*i.x,h=r*i.y;return{width:a,height:u,x:c,y:h}}function xC(t,e,n){let r;if(e==="viewport")r=QH(t,n);else if(e==="document")r=WH(ti(t));else if(cs(e))r=XH(e,n);else{const s=WD(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Vg(r)}function YD(t,e){const n=na(t);return n===e||!cs(n)||Tc(n)?!1:ds(n).position==="fixed"||YD(n,e)}function JH(t,e){const n=e.get(t);if(n)return n;let r=Yh(t,[],!1).filter(u=>cs(u)&&Vc(u)!=="body"),s=null;const i=ds(t).position==="fixed";let a=i?na(t):t;for(;cs(a)&&!Tc(a);){const u=ds(a),c=z1(a);!c&&u.position==="fixed"&&(s=null),(i?!c&&!s:!c&&u.position==="static"&&s&&YH.has(s.position)||If(a)&&!c&&YD(t,a))?r=r.filter(h=>h!==a):s=u,a=na(a)}return e.set(t,r),r}function ZH(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?zy(e)?[]:JH(e,this._c):[].concat(n),r],a=i[0],u=i.reduce((c,h)=>{const m=xC(e,h,s);return c.top=pr(m.top,c.top),c.right=ta(m.right,c.right),c.bottom=ta(m.bottom,c.bottom),c.left=pr(m.left,c.left),c},xC(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function eK(t){const{width:e,height:n}=KD(t);return{width:e,height:n}}function tK(t,e,n){const r=Xs(e),s=ti(e),i=n==="fixed",a=Al(t,!0,i,e);let u={scrollLeft:0,scrollTop:0};const c=qs(0);function h(){c.x=Uy(s)}if(r||!r&&!i)if((Vc(e)!=="body"||If(s))&&(u=By(e)),r){const E=Al(e,!0,i,e);c.x=E.x+e.clientLeft,c.y=E.y+e.clientTop}else s&&h();i&&!r&&s&&h();const m=s&&!r&&!i?QD(s,u):qs(0),g=a.left+u.scrollLeft-c.x-m.x,v=a.top+u.scrollTop-c.y-m.y;return{x:g,y:v,width:a.width,height:a.height}}function rw(t){return ds(t).position==="static"}function SC(t,e){if(!Xs(t)||ds(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ti(t)===n&&(n=n.ownerDocument.body),n}function XD(t,e){const n=vr(t);if(zy(t))return n;if(!Xs(t)){let s=na(t);for(;s&&!Tc(s);){if(cs(s)&&!rw(s))return s;s=na(s)}return n}let r=SC(t,e);for(;r&&LH(r)&&rw(r);)r=SC(r,e);return r&&Tc(r)&&rw(r)&&!z1(r)?n:r||UH(t)||n}const nK=async function(t){const e=this.getOffsetParent||XD,n=this.getDimensions,r=await n(t.floating);return{reference:tK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function rK(t){return ds(t).direction==="rtl"}const sK={convertOffsetParentRelativeRectToViewportRelativeRect:HH,getDocumentElement:ti,getClippingRect:ZH,getOffsetParent:XD,getElementRects:nK,getClientRects:KH,getDimensions:eK,getScale:lc,isElement:cs,isRTL:rK};function JD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function iK(t,e){let n=null,r;const s=ti(t);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),i();const h=t.getBoundingClientRect(),{left:m,top:g,width:v,height:E}=h;if(u||e(),!v||!E)return;const I=gm(g),T=gm(s.clientWidth-(m+v)),_=gm(s.clientHeight-(g+E)),R=gm(m),P={rootMargin:-I+"px "+-T+"px "+-_+"px "+-R+"px",threshold:pr(0,ta(1,c))||1};let M=!0;function z(U){const H=U[0].intersectionRatio;if(H!==c){if(!M)return a();H?a(!1,H):r=setTimeout(()=>{a(!1,1e-7)},1e3)}H===1&&!JD(h,t.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(z,{...P,root:s.ownerDocument})}catch{n=new IntersectionObserver(z,P)}n.observe(t)}return a(!0),i}function oK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,h=U1(t),m=s||i?[...h?Yh(h):[],...Yh(e)]:[];m.forEach(R=>{s&&R.addEventListener("scroll",n,{passive:!0}),i&&R.addEventListener("resize",n)});const g=h&&u?iK(h,n):null;let v=-1,E=null;a&&(E=new ResizeObserver(R=>{let[P]=R;P&&P.target===h&&E&&(E.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var M;(M=E)==null||M.observe(e)})),n()}),h&&!c&&E.observe(h),E.observe(e));let I,T=c?Al(t):null;c&&_();function _(){const R=Al(t);T&&!JD(T,R)&&n(),T=R,I=requestAnimationFrame(_)}return n(),()=>{var R;m.forEach(P=>{s&&P.removeEventListener("scroll",n),i&&P.removeEventListener("resize",n)}),g==null||g(),(R=E)==null||R.disconnect(),E=null,c&&cancelAnimationFrame(I)}}const aK=NH,lK=PH,uK=CH,cK=OH,dK=AH,EC=IH,hK=DH,fK=(t,e,n)=>{const r=new Map,s={platform:sK,...n},i={...s.platform,_c:r};return _H(t,e,{...s,platform:i})};var pK=typeof document<"u",mK=function(){},Gm=pK?S.useLayoutEffect:mK;function zg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!zg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function ZD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function kC(t,e){const n=ZD(t);return Math.round(e*n)/n}function sw(t){const e=S.useRef(t);return Gm(()=>{e.current=t}),e}function gK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:u=!0,whileElementsMounted:c,open:h}=t,[m,g]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,E]=S.useState(r);zg(v,r)||E(r);const[I,T]=S.useState(null),[_,R]=S.useState(null),P=S.useCallback(W=>{W!==H.current&&(H.current=W,T(W))},[]),M=S.useCallback(W=>{W!==D.current&&(D.current=W,R(W))},[]),z=i||I,U=a||_,H=S.useRef(null),D=S.useRef(null),C=S.useRef(m),N=c!=null,j=sw(c),V=sw(s),$=sw(h),L=S.useCallback(()=>{if(!H.current||!D.current)return;const W={placement:e,strategy:n,middleware:v};V.current&&(W.platform=V.current),fK(H.current,D.current,W).then(ne=>{const oe={...ne,isPositioned:$.current!==!1};ke.current&&!zg(C.current,oe)&&(C.current=oe,C1.flushSync(()=>{g(oe)}))})},[v,e,n,V,$]);Gm(()=>{h===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(W=>({...W,isPositioned:!1})))},[h]);const ke=S.useRef(!1);Gm(()=>(ke.current=!0,()=>{ke.current=!1}),[]),Gm(()=>{if(z&&(H.current=z),U&&(D.current=U),z&&U){if(j.current)return j.current(z,U,L);L()}},[z,U,L,j,N]);const Pe=S.useMemo(()=>({reference:H,floating:D,setReference:P,setFloating:M}),[P,M]),ye=S.useMemo(()=>({reference:z,floating:U}),[z,U]),ve=S.useMemo(()=>{const W={position:n,left:0,top:0};if(!ye.floating)return W;const ne=kC(ye.floating,m.x),oe=kC(ye.floating,m.y);return u?{...W,transform:"translate("+ne+"px, "+oe+"px)",...ZD(ye.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:oe}},[n,u,ye.floating,m.x,m.y]);return S.useMemo(()=>({...m,update:L,refs:Pe,elements:ye,floatingStyles:ve}),[m,L,Pe,ye,ve])}const yK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?EC({element:r.current,padding:s}).fn(n):{}:r?EC({element:r,padding:s}).fn(n):{}}}},vK=(t,e)=>({...aK(t),options:[t,e]}),wK=(t,e)=>({...lK(t),options:[t,e]}),bK=(t,e)=>({...hK(t),options:[t,e]}),xK=(t,e)=>({...uK(t),options:[t,e]}),SK=(t,e)=>({...cK(t),options:[t,e]}),EK=(t,e)=>({...dK(t),options:[t,e]}),kK=(t,e)=>({...yK(t),options:[t,e]});var TK="Arrow",eO=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx(Bn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});eO.displayName=TK;var _K=eO;function IK(t){const[e,n]=S.useState(void 0);return ea(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,u;if("borderBoxSize"in i){const c=i.borderBoxSize,h=Array.isArray(c)?c[0]:c;a=h.inlineSize,u=h.blockSize}else a=t.offsetWidth,u=t.offsetHeight;n({width:a,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var $1="Popper",[tO,nO]=_f($1),[CK,rO]=tO($1),sO=t=>{const{__scopePopper:e,children:n}=t,[r,s]=S.useState(null);return x.jsx(CK,{scope:e,anchor:r,onAnchorChange:s,children:n})};sO.displayName=$1;var iO="PopperAnchor",oO=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=rO(iO,n),a=S.useRef(null),u=nr(e,a),c=S.useRef(null);return S.useEffect(()=>{const h=c.current;c.current=(r==null?void 0:r.current)||a.current,h!==c.current&&i.onAnchorChange(c.current)}),r?null:x.jsx(Bn.div,{...s,ref:u})});oO.displayName=iO;var q1="PopperContent",[AK,RK]=tO(q1),aO=S.forwardRef((t,e)=>{var n,r,s,i,a,u;const{__scopePopper:c,side:h="bottom",sideOffset:m=0,align:g="center",alignOffset:v=0,arrowPadding:E=0,avoidCollisions:I=!0,collisionBoundary:T=[],collisionPadding:_=0,sticky:R="partial",hideWhenDetached:P=!1,updatePositionStrategy:M="optimized",onPlaced:z,...U}=t,H=rO(q1,c),[D,C]=S.useState(null),N=nr(e,$n=>C($n)),[j,V]=S.useState(null),$=IK(j),L=($==null?void 0:$.width)??0,ke=($==null?void 0:$.height)??0,Pe=h+(g!=="center"?"-"+g:""),ye=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},ve=Array.isArray(T)?T:[T],W=ve.length>0,ne={padding:ye,boundary:ve.filter(PK),altBoundary:W},{refs:oe,floatingStyles:K,placement:re,isPositioned:pe,middlewareData:me}=gK({strategy:"fixed",placement:Pe,whileElementsMounted:(...$n)=>oK(...$n,{animationFrame:M==="always"}),elements:{reference:H.anchor},middleware:[vK({mainAxis:m+ke,alignmentAxis:v}),I&&wK({mainAxis:!0,crossAxis:!1,limiter:R==="partial"?bK():void 0,...ne}),I&&xK({...ne}),SK({...ne,apply:({elements:$n,rects:Ki,availableWidth:zl,availableHeight:Wi})=>{const{width:ni,height:ca}=Ki.reference,mt=$n.floating.style;mt.setProperty("--radix-popper-available-width",`${zl}px`),mt.setProperty("--radix-popper-available-height",`${Wi}px`),mt.setProperty("--radix-popper-anchor-width",`${ni}px`),mt.setProperty("--radix-popper-anchor-height",`${ca}px`)}}),j&&kK({element:j,padding:E}),DK({arrowWidth:L,arrowHeight:ke}),P&&EK({strategy:"referenceHidden",...ne})]}),[De,Be]=cO(re),Ce=ji(z);ea(()=>{pe&&(Ce==null||Ce())},[pe,Ce]);const $e=(n=me.arrow)==null?void 0:n.x,ze=(r=me.arrow)==null?void 0:r.y,pt=((s=me.arrow)==null?void 0:s.centerOffset)!==0,[br,xr]=S.useState();return ea(()=>{D&&xr(window.getComputedStyle(D).zIndex)},[D]),x.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:pe?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:br,"--radix-popper-transform-origin":[(i=me.transformOrigin)==null?void 0:i.x,(a=me.transformOrigin)==null?void 0:a.y].join(" "),...((u=me.hide)==null?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(AK,{scope:c,placedSide:De,onArrowChange:V,arrowX:$e,arrowY:ze,shouldHideArrow:pt,children:x.jsx(Bn.div,{"data-side":De,"data-align":Be,...U,ref:N,style:{...U.style,animation:pe?void 0:"none"}})})})});aO.displayName=q1;var lO="PopperArrow",NK={top:"bottom",right:"left",bottom:"top",left:"right"},uO=S.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,s=RK(lO,n),i=NK[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(_K,{...r,ref:e,style:{...r.style,display:"block"}})})});uO.displayName=lO;function PK(t){return t!==null}var DK=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s;const{placement:i,rects:a,middlewareData:u}=e,c=((n=u.arrow)==null?void 0:n.centerOffset)!==0,h=c?0:t.arrowWidth,m=c?0:t.arrowHeight,[g,v]=cO(i),E={start:"0%",center:"50%",end:"100%"}[v],I=(((r=u.arrow)==null?void 0:r.x)??0)+h/2,T=(((s=u.arrow)==null?void 0:s.y)??0)+m/2;let _="",R="";return g==="bottom"?(_=c?E:`${I}px`,R=`${-m}px`):g==="top"?(_=c?E:`${I}px`,R=`${a.floating.height+m}px`):g==="right"?(_=`${-m}px`,R=c?E:`${T}px`):g==="left"&&(_=`${a.floating.width+m}px`,R=c?E:`${T}px`),{data:{x:_,y:R}}}});function cO(t){const[e,n="center"]=t.split("-");return[e,n]}var OK=sO,MK=oO,jK=aO,LK=uO,FK="Portal",dO=S.forwardRef((t,e)=>{var n;const{container:r,...s}=t,[i,a]=S.useState(!1);ea(()=>a(!0),[]);const u=r||i&&((n=globalThis==null?void 0:globalThis.document)==null?void 0:n.body);return u?$7.createPortal(x.jsx(Bn.div,{...s,ref:e}),u):null});dO.displayName=FK;function VK(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var Cf=t=>{const{present:e,children:n}=t,r=zK(e),s=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),i=nr(r.ref,BK(s));return typeof n=="function"||r.isPresent?S.cloneElement(s,{ref:i}):null};Cf.displayName="Presence";function zK(t){const[e,n]=S.useState(),r=S.useRef(null),s=S.useRef(t),i=S.useRef("none"),a=t?"mounted":"unmounted",[u,c]=VK(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const h=ym(r.current);i.current=u==="mounted"?h:"none"},[u]),ea(()=>{const h=r.current,m=s.current;if(m!==t){const g=i.current,v=ym(h);t?c("MOUNT"):v==="none"||(h==null?void 0:h.display)==="none"?c("UNMOUNT"):c(m&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),ea(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,g=E=>{const I=ym(r.current).includes(CSS.escape(E.animationName));if(E.target===e&&I&&(c("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},v=E=>{E.target===e&&(i.current=ym(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:S.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function ym(t){return(t==null?void 0:t.animationName)||"none"}function BK(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var iw="rovingFocusGroup.onEntryFocus",UK={bubbles:!1,cancelable:!0},Af="RovingFocusGroup",[Nb,hO,$K]=jD(Af),[qK,fO]=_f(Af,[$K]),[GK,HK]=qK(Af),pO=S.forwardRef((t,e)=>x.jsx(Nb.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(Nb.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(KK,{...t,ref:e})})}));pO.displayName=Af;var KK=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...g}=t,v=S.useRef(null),E=nr(e,v),I=LD(i),[T,_]=OD({prop:a,defaultProp:u??null,onChange:c,caller:Af}),[R,P]=S.useState(!1),M=ji(h),z=hO(n),U=S.useRef(!1),[H,D]=S.useState(0);return S.useEffect(()=>{const C=v.current;if(C)return C.addEventListener(iw,M),()=>C.removeEventListener(iw,M)},[M]),x.jsx(GK,{scope:n,orientation:r,dir:I,loop:s,currentTabStopId:T,onItemFocus:S.useCallback(C=>_(C),[_]),onItemShiftTab:S.useCallback(()=>P(!0),[]),onFocusableItemAdd:S.useCallback(()=>D(C=>C+1),[]),onFocusableItemRemove:S.useCallback(()=>D(C=>C-1),[]),children:x.jsx(Bn.div,{tabIndex:R||H===0?-1:0,"data-orientation":r,...g,ref:E,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{U.current=!0}),onFocus:et(t.onFocus,C=>{const N=!U.current;if(C.target===C.currentTarget&&N&&!R){const j=new CustomEvent(iw,UK);if(C.currentTarget.dispatchEvent(j),!j.defaultPrevented){const V=z().filter(Pe=>Pe.focusable),$=V.find(Pe=>Pe.active),L=V.find(Pe=>Pe.id===T),ke=[$,L,...V].filter(Boolean).map(Pe=>Pe.ref.current);yO(ke,m)}}U.current=!1}),onBlur:et(t.onBlur,()=>P(!1))})})}),mO="RovingFocusGroupItem",gO=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...u}=t,c=Ib(),h=i||c,m=HK(mO,n),g=m.currentTabStopId===h,v=hO(n),{onFocusableItemAdd:E,onFocusableItemRemove:I,currentTabStopId:T}=m;return S.useEffect(()=>{if(r)return E(),()=>I()},[r,E,I]),x.jsx(Nb.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:x.jsx(Bn.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:et(t.onMouseDown,_=>{r?m.onItemFocus(h):_.preventDefault()}),onFocus:et(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:et(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const R=YK(_,m.orientation,m.dir);if(R!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let P=v().filter(M=>M.focusable).map(M=>M.ref.current);if(R==="last")P.reverse();else if(R==="prev"||R==="next"){R==="prev"&&P.reverse();const M=P.indexOf(_.currentTarget);P=m.loop?XK(P,M+1):P.slice(M+1)}setTimeout(()=>yO(P))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:T!=null}):a})})});gO.displayName=mO;var WK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function YK(t,e,n){const r=QK(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return WK[r]}function yO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function XK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var JK=pO,ZK=gO;function eW(t){const e=tW(t),n=S.forwardRef((r,s)=>{const{children:i,...a}=r,u=S.Children.toArray(i),c=u.find(rW);if(c){const h=c.props.children,m=u.map(g=>g===c?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,m):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function tW(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const a=iW(s),u=sW(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Ll(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var nW=Symbol("radix.slottable");function rW(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===nW}function sW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function iW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var oW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Uu=new WeakMap,vm=new WeakMap,wm={},ow=0,vO=function(t){return t&&(t.host||vO(t.parentNode))},aW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=vO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},lW=function(t,e,n,r){var s=aW(e,Array.isArray(t)?t:[t]);wm[n]||(wm[n]=new WeakMap);var i=wm[n],a=[],u=new Set,c=new Set(s),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};s.forEach(h);var m=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))m(v);else try{var E=v.getAttribute(r),I=E!==null&&E!=="false",T=(Uu.get(v)||0)+1,_=(i.get(v)||0)+1;Uu.set(v,T),i.set(v,_),a.push(v),T===1&&I&&vm.set(v,!0),_===1&&v.setAttribute(n,"true"),I||v.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",v,R)}})};return m(e),u.clear(),ow++,function(){a.forEach(function(g){var v=Uu.get(g)-1,E=i.get(g)-1;Uu.set(g,v),i.set(g,E),v||(vm.has(g)||g.removeAttribute(r),vm.delete(g)),E||g.removeAttribute(n)}),ow--,ow||(Uu=new WeakMap,Uu=new WeakMap,vm=new WeakMap,wm={})}},uW=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=oW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),lW(r,s,n,"aria-hidden")):function(){return null}},Os=function(){return Os=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Os.apply(this,arguments)};function wO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function cW(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Hm="right-scroll-bar-position",Km="width-before-scroll-bar",dW="with-scroll-bars-hidden",hW="--removed-body-scroll-bar-size";function aw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function fW(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var pW=typeof window<"u"?S.useLayoutEffect:S.useEffect,TC=new WeakMap;function mW(t,e){var n=fW(null,function(r){return t.forEach(function(s){return aw(s,r)})});return pW(function(){var r=TC.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(u){i.has(u)||aw(u,null)}),i.forEach(function(u){s.has(u)||aw(u,a)})}TC.set(n,t)},[t]),n}function gW(t){return t}function yW(t,e){e===void 0&&(e=gW);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(u){return u!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var u=n;n=[],u.forEach(i),a=n}var c=function(){var m=a;a=[],m.forEach(i)},h=function(){return Promise.resolve().then(c)};h(),n={push:function(m){a.push(m),h()},filter:function(m){return a=a.filter(m),n}}}};return s}function vW(t){t===void 0&&(t={});var e=yW(null);return e.options=Os({async:!0,ssr:!1},t),e}var bO=function(t){var e=t.sideCar,n=wO(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Os({},n))};bO.isSideCarExport=!0;function wW(t,e){return t.useMedium(e),bO}var xO=vW(),lw=function(){},$y=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:lw,onWheelCapture:lw,onTouchMoveCapture:lw}),s=r[0],i=r[1],a=t.forwardProps,u=t.children,c=t.className,h=t.removeScrollBar,m=t.enabled,g=t.shards,v=t.sideCar,E=t.noRelative,I=t.noIsolation,T=t.inert,_=t.allowPinchZoom,R=t.as,P=R===void 0?"div":R,M=t.gapMode,z=wO(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=v,H=mW([n,e]),D=Os(Os({},z),s);return S.createElement(S.Fragment,null,m&&S.createElement(U,{sideCar:xO,removeScrollBar:h,shards:g,noRelative:E,noIsolation:I,inert:T,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:M}),a?S.cloneElement(S.Children.only(u),Os(Os({},D),{ref:H})):S.createElement(P,Os({},D,{className:c,ref:H}),u))});$y.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$y.classNames={fullWidth:Km,zeroRight:Hm};var bW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=bW();return e&&t.setAttribute("nonce",e),t}function SW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function EW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var kW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=xW())&&(SW(e,n),EW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},TW=function(){var t=kW();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},SO=function(){var t=TW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},_W={left:0,top:0,right:0,gap:0},uw=function(t){return parseInt(t||"",10)||0},IW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[uw(n),uw(r),uw(s)]},CW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _W;var e=IW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},AW=SO(),uc="data-scroll-locked",RW=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(dW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(uc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hm,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Km,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Hm," .").concat(Hm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Km," .").concat(Km,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(uc,`] {
    `).concat(hW,": ").concat(u,`px;
  }
`)},_C=function(){var t=parseInt(document.body.getAttribute(uc)||"0",10);return isFinite(t)?t:0},NW=function(){S.useEffect(function(){return document.body.setAttribute(uc,(_C()+1).toString()),function(){var t=_C()-1;t<=0?document.body.removeAttribute(uc):document.body.setAttribute(uc,t.toString())}},[])},PW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;NW();var i=S.useMemo(function(){return CW(s)},[s]);return S.createElement(AW,{styles:RW(i,!e,s,n?"":"!important")})},Pb=!1;if(typeof window<"u")try{var bm=Object.defineProperty({},"passive",{get:function(){return Pb=!0,!0}});window.addEventListener("test",bm,bm),window.removeEventListener("test",bm,bm)}catch{Pb=!1}var $u=Pb?{passive:!1}:!1,DW=function(t){return t.tagName==="TEXTAREA"},EO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!DW(t)&&n[e]==="visible")},OW=function(t){return EO(t,"overflowY")},MW=function(t){return EO(t,"overflowX")},IC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=kO(t,r);if(s){var i=TO(t,r),a=i[1],u=i[2];if(a>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},jW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},LW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},kO=function(t,e){return t==="v"?OW(e):MW(e)},TO=function(t,e){return t==="v"?jW(e):LW(e)},FW=function(t,e){return t==="h"&&e==="rtl"?-1:1},VW=function(t,e,n,r,s){var i=FW(t,window.getComputedStyle(e).direction),a=i*r,u=n.target,c=e.contains(u),h=!1,m=a>0,g=0,v=0;do{if(!u)break;var E=TO(t,u),I=E[0],T=E[1],_=E[2],R=T-_-i*I;(I||R)&&kO(t,u)&&(g+=R,v+=I);var P=u.parentNode;u=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!c&&u!==document.body||c&&(e.contains(u)||e===u));return(m&&Math.abs(g)<1||!m&&Math.abs(v)<1)&&(h=!0),h},xm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},CC=function(t){return[t.deltaX,t.deltaY]},AC=function(t){return t&&"current"in t?t.current:t},zW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},BW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},UW=0,qu=[];function $W(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),s=S.useState(UW++)[0],i=S.useState(SO)[0],a=S.useRef(t);S.useEffect(function(){a.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var T=cW([t.lockRef.current],(t.shards||[]).map(AC)).filter(Boolean);return T.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=S.useCallback(function(T,_){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!a.current.allowPinchZoom;var R=xm(T),P=n.current,M="deltaX"in T?T.deltaX:P[0]-R[0],z="deltaY"in T?T.deltaY:P[1]-R[1],U,H=T.target,D=Math.abs(M)>Math.abs(z)?"h":"v";if("touches"in T&&D==="h"&&H.type==="range")return!1;var C=IC(D,H);if(!C)return!0;if(C?U=D:(U=D==="v"?"h":"v",C=IC(D,H)),!C)return!1;if(!r.current&&"changedTouches"in T&&(M||z)&&(r.current=U),!U)return!0;var N=r.current||U;return VW(N,_,T,N==="h"?M:z)},[]),c=S.useCallback(function(T){var _=T;if(!(!qu.length||qu[qu.length-1]!==i)){var R="deltaY"in _?CC(_):xm(_),P=e.current.filter(function(U){return U.name===_.type&&(U.target===_.target||_.target===U.shadowParent)&&zW(U.delta,R)})[0];if(P&&P.should){_.cancelable&&_.preventDefault();return}if(!P){var M=(a.current.shards||[]).map(AC).filter(Boolean).filter(function(U){return U.contains(_.target)}),z=M.length>0?u(_,M[0]):!a.current.noIsolation;z&&_.cancelable&&_.preventDefault()}}},[]),h=S.useCallback(function(T,_,R,P){var M={name:T,delta:_,target:R,should:P,shadowParent:qW(R)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(z){return z!==M})},1)},[]),m=S.useCallback(function(T){n.current=xm(T),r.current=void 0},[]),g=S.useCallback(function(T){h(T.type,CC(T),T.target,u(T,t.lockRef.current))},[]),v=S.useCallback(function(T){h(T.type,xm(T),T.target,u(T,t.lockRef.current))},[]);S.useEffect(function(){return qu.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",c,$u),document.addEventListener("touchmove",c,$u),document.addEventListener("touchstart",m,$u),function(){qu=qu.filter(function(T){return T!==i}),document.removeEventListener("wheel",c,$u),document.removeEventListener("touchmove",c,$u),document.removeEventListener("touchstart",m,$u)}},[]);var E=t.removeScrollBar,I=t.inert;return S.createElement(S.Fragment,null,I?S.createElement(i,{styles:BW(s)}):null,E?S.createElement(PW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function qW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const GW=wW(xO,$W);var _O=S.forwardRef(function(t,e){return S.createElement($y,Os({},t,{ref:e,sideCar:GW}))});_O.classNames=$y.classNames;var Db=["Enter"," "],HW=["ArrowDown","PageUp","Home"],IO=["ArrowUp","PageDown","End"],KW=[...HW,...IO],WW={ltr:[...Db,"ArrowRight"],rtl:[...Db,"ArrowLeft"]},QW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Rf="Menu",[Xh,YW,XW]=jD(Rf),[Fl,CO]=_f(Rf,[XW,nO,fO]),qy=nO(),AO=fO(),[JW,Vl]=Fl(Rf),[ZW,Nf]=Fl(Rf),RO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,u=qy(e),[c,h]=S.useState(null),m=S.useRef(!1),g=ji(i),v=LD(s);return S.useEffect(()=>{const E=()=>{m.current=!0,document.addEventListener("pointerdown",I,{capture:!0,once:!0}),document.addEventListener("pointermove",I,{capture:!0,once:!0})},I=()=>m.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",I,{capture:!0}),document.removeEventListener("pointermove",I,{capture:!0})}},[]),x.jsx(OK,{...u,children:x.jsx(JW,{scope:e,open:n,onOpenChange:g,content:c,onContentChange:h,children:x.jsx(ZW,{scope:e,onClose:S.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:v,modal:a,children:r})})})};RO.displayName=Rf;var eQ="MenuAnchor",G1=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=qy(n);return x.jsx(MK,{...s,...r,ref:e})});G1.displayName=eQ;var H1="MenuPortal",[tQ,NO]=Fl(H1,{forceMount:void 0}),PO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Vl(H1,e);return x.jsx(tQ,{scope:e,forceMount:n,children:x.jsx(Cf,{present:n||i.open,children:x.jsx(dO,{asChild:!0,container:s,children:r})})})};PO.displayName=H1;var zr="MenuContent",[nQ,K1]=Fl(zr),DO=S.forwardRef((t,e)=>{const n=NO(zr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Vl(zr,t.__scopeMenu),a=Nf(zr,t.__scopeMenu);return x.jsx(Xh.Provider,{scope:t.__scopeMenu,children:x.jsx(Cf,{present:r||i.open,children:x.jsx(Xh.Slot,{scope:t.__scopeMenu,children:a.modal?x.jsx(rQ,{...s,ref:e}):x.jsx(sQ,{...s,ref:e})})})})}),rQ=S.forwardRef((t,e)=>{const n=Vl(zr,t.__scopeMenu),r=S.useRef(null),s=nr(e,r);return S.useEffect(()=>{const i=r.current;if(i)return uW(i)},[]),x.jsx(W1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),sQ=S.forwardRef((t,e)=>{const n=Vl(zr,t.__scopeMenu);return x.jsx(W1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),iQ=eW("MenuContent.ScrollLock"),W1=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEntryFocus:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:E,disableOutsideScroll:I,...T}=t,_=Vl(zr,n),R=Nf(zr,n),P=qy(n),M=AO(n),z=YW(n),[U,H]=S.useState(null),D=S.useRef(null),C=nr(e,D,_.onContentChange),N=S.useRef(0),j=S.useRef(""),V=S.useRef(0),$=S.useRef(null),L=S.useRef("right"),ke=S.useRef(0),Pe=I?_O:S.Fragment,ye=I?{as:iQ,allowPinchZoom:!0}:void 0,ve=ne=>{var oe,K;const re=j.current+ne,pe=z().filter(ze=>!ze.disabled),me=document.activeElement,De=(oe=pe.find(ze=>ze.ref.current===me))==null?void 0:oe.textValue,Be=pe.map(ze=>ze.textValue),Ce=yQ(Be,re,De),$e=(K=pe.find(ze=>ze.textValue===Ce))==null?void 0:K.ref.current;(function ze(pt){j.current=pt,window.clearTimeout(N.current),pt!==""&&(N.current=window.setTimeout(()=>ze(""),1e3))})(re),$e&&setTimeout(()=>$e.focus())};S.useEffect(()=>()=>window.clearTimeout(N.current),[]),iH();const W=S.useCallback(ne=>{var oe,K;return L.current===((oe=$.current)==null?void 0:oe.side)&&wQ(ne,(K=$.current)==null?void 0:K.area)},[]);return x.jsx(nQ,{scope:n,searchRef:j,onItemEnter:S.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),onItemLeave:S.useCallback(ne=>{var oe;W(ne)||((oe=D.current)==null||oe.focus(),H(null))},[W]),onTriggerLeave:S.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),pointerGraceTimerRef:V,onPointerGraceIntentChange:S.useCallback(ne=>{$.current=ne},[]),children:x.jsx(Pe,{...ye,children:x.jsx(BD,{asChild:!0,trapped:s,onMountAutoFocus:et(i,ne=>{var oe;ne.preventDefault(),(oe=D.current)==null||oe.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:x.jsx(VD,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:E,children:x.jsx(JK,{asChild:!0,...M,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:U,onCurrentTabStopIdChange:H,onEntryFocus:et(c,ne=>{R.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(jK,{role:"menu","aria-orientation":"vertical","data-state":QO(_.open),"data-radix-menu-content":"",dir:R.dir,...P,...T,ref:C,style:{outline:"none",...T.style},onKeyDown:et(T.onKeyDown,ne=>{const oe=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,K=ne.ctrlKey||ne.altKey||ne.metaKey,re=ne.key.length===1;oe&&(ne.key==="Tab"&&ne.preventDefault(),!K&&re&&ve(ne.key));const pe=D.current;if(ne.target!==pe||!KW.includes(ne.key))return;ne.preventDefault();const me=z().filter(De=>!De.disabled).map(De=>De.ref.current);IO.includes(ne.key)&&me.reverse(),mQ(me)}),onBlur:et(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(N.current),j.current="")}),onPointerMove:et(t.onPointerMove,Jh(ne=>{const oe=ne.target,K=ke.current!==ne.clientX;if(ne.currentTarget.contains(oe)&&K){const re=ne.clientX>ke.current?"right":"left";L.current=re,ke.current=ne.clientX}}))})})})})})})});DO.displayName=zr;var oQ="MenuGroup",Q1=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Bn.div,{role:"group",...r,ref:e})});Q1.displayName=oQ;var aQ="MenuLabel",OO=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Bn.div,{...r,ref:e})});OO.displayName=aQ;var Bg="MenuItem",RC="menu.itemSelect",Gy=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=S.useRef(null),a=Nf(Bg,t.__scopeMenu),u=K1(Bg,t.__scopeMenu),c=nr(e,i),h=S.useRef(!1),m=()=>{const g=i.current;if(!n&&g){const v=new CustomEvent(RC,{bubbles:!0,cancelable:!0});g.addEventListener(RC,E=>r==null?void 0:r(E),{once:!0}),MD(g,v),v.defaultPrevented?h.current=!1:a.onClose()}};return x.jsx(MO,{...s,ref:c,disabled:n,onClick:et(t.onClick,m),onPointerDown:g=>{var v;(v=t.onPointerDown)==null||v.call(t,g),h.current=!0},onPointerUp:et(t.onPointerUp,g=>{var v;h.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:et(t.onKeyDown,g=>{const v=u.searchRef.current!=="";n||v&&g.key===" "||Db.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Gy.displayName=Bg;var MO=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=K1(Bg,n),u=AO(n),c=S.useRef(null),h=nr(e,c),[m,g]=S.useState(!1),[v,E]=S.useState("");return S.useEffect(()=>{const I=c.current;I&&E((I.textContent??"").trim())},[i.children]),x.jsx(Xh.ItemSlot,{scope:n,disabled:r,textValue:s??v,children:x.jsx(ZK,{asChild:!0,...u,focusable:!r,children:x.jsx(Bn.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:h,onPointerMove:et(t.onPointerMove,Jh(I=>{r?a.onItemLeave(I):(a.onItemEnter(I),I.defaultPrevented||I.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,Jh(I=>a.onItemLeave(I))),onFocus:et(t.onFocus,()=>g(!0)),onBlur:et(t.onBlur,()=>g(!1))})})})}),lQ="MenuCheckboxItem",jO=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return x.jsx(BO,{scope:t.__scopeMenu,checked:n,children:x.jsx(Gy,{role:"menuitemcheckbox","aria-checked":Ug(n)?"mixed":n,...s,ref:e,"data-state":X1(n),onSelect:et(s.onSelect,()=>r==null?void 0:r(Ug(n)?!0:!n),{checkForDefaultPrevented:!1})})})});jO.displayName=lQ;var LO="MenuRadioGroup",[uQ,cQ]=Fl(LO,{value:void 0,onValueChange:()=>{}}),FO=S.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=ji(r);return x.jsx(uQ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:x.jsx(Q1,{...s,ref:e})})});FO.displayName=LO;var VO="MenuRadioItem",zO=S.forwardRef((t,e)=>{const{value:n,...r}=t,s=cQ(VO,t.__scopeMenu),i=n===s.value;return x.jsx(BO,{scope:t.__scopeMenu,checked:i,children:x.jsx(Gy,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":X1(i),onSelect:et(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});zO.displayName=VO;var Y1="MenuItemIndicator",[BO,dQ]=Fl(Y1,{checked:!1}),UO=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=dQ(Y1,n);return x.jsx(Cf,{present:r||Ug(i.checked)||i.checked===!0,children:x.jsx(Bn.span,{...s,ref:e,"data-state":X1(i.checked)})})});UO.displayName=Y1;var hQ="MenuSeparator",$O=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Bn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});$O.displayName=hQ;var fQ="MenuArrow",qO=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=qy(n);return x.jsx(LK,{...s,...r,ref:e})});qO.displayName=fQ;var pQ="MenuSub",[One,GO]=Fl(pQ),hh="MenuSubTrigger",HO=S.forwardRef((t,e)=>{const n=Vl(hh,t.__scopeMenu),r=Nf(hh,t.__scopeMenu),s=GO(hh,t.__scopeMenu),i=K1(hh,t.__scopeMenu),a=S.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:c}=i,h={__scopeMenu:t.__scopeMenu},m=S.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return S.useEffect(()=>m,[m]),S.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),c(null)}},[u,c]),x.jsx(G1,{asChild:!0,...h,children:x.jsx(MO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":QO(n.open),...t,ref:Ll(e,s.onTriggerChange),onClick:g=>{var v;(v=t.onClick)==null||v.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,Jh(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:et(t.onPointerLeave,Jh(g=>{var v,E;m();const I=(v=n.content)==null?void 0:v.getBoundingClientRect();if(I){const T=(E=n.content)==null?void 0:E.dataset.side,_=T==="right",R=_?-5:5,P=I[_?"left":"right"],M=I[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+R,y:g.clientY},{x:P,y:I.top},{x:M,y:I.top},{x:M,y:I.bottom},{x:P,y:I.bottom}],side:T}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,g=>{var v;const E=i.searchRef.current!=="";t.disabled||E&&g.key===" "||WW[r.dir].includes(g.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),g.preventDefault())})})})});HO.displayName=hh;var KO="MenuSubContent",WO=S.forwardRef((t,e)=>{const n=NO(zr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Vl(zr,t.__scopeMenu),a=Nf(zr,t.__scopeMenu),u=GO(KO,t.__scopeMenu),c=S.useRef(null),h=nr(e,c);return x.jsx(Xh.Provider,{scope:t.__scopeMenu,children:x.jsx(Cf,{present:r||i.open,children:x.jsx(Xh.Slot,{scope:t.__scopeMenu,children:x.jsx(W1,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:h,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var g;a.isUsingKeyboardRef.current&&((g=c.current)==null||g.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:et(t.onFocusOutside,m=>{m.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,m=>{a.onClose(),m.preventDefault()}),onKeyDown:et(t.onKeyDown,m=>{var g;const v=m.currentTarget.contains(m.target),E=QW[a.dir].includes(m.key);v&&E&&(i.onOpenChange(!1),(g=u.trigger)==null||g.focus(),m.preventDefault())})})})})})});WO.displayName=KO;function QO(t){return t?"open":"closed"}function Ug(t){return t==="indeterminate"}function X1(t){return Ug(t)?"indeterminate":t?"checked":"unchecked"}function mQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function gQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function yQ(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=gQ(t,Math.max(s,0));r.length===1&&(i=i.filter(u=>u!==n));const a=i.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return a!==n?a:void 0}function vQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const u=e[i],c=e[a],h=u.x,m=u.y,g=c.x,v=c.y;m>r!=v>r&&n<(g-h)*(r-m)/(v-m)+h&&(s=!s)}return s}function wQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return vQ(n,e)}function Jh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var bQ=RO,xQ=G1,SQ=PO,EQ=DO,kQ=Q1,TQ=OO,_Q=Gy,IQ=jO,CQ=FO,AQ=zO,RQ=UO,NQ=$O,PQ=qO,DQ=HO,OQ=WO,Hy="DropdownMenu",[MQ]=_f(Hy,[CO]),Un=CO(),[jQ,YO]=MQ(Hy),XO=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:u=!0}=t,c=Un(e),h=S.useRef(null),[m,g]=OD({prop:s,defaultProp:i??!1,onChange:a,caller:Hy});return x.jsx(jQ,{scope:e,triggerId:Ib(),triggerRef:h,contentId:Ib(),open:m,onOpenChange:g,onOpenToggle:S.useCallback(()=>g(v=>!v),[g]),modal:u,children:x.jsx(bQ,{...c,open:m,onOpenChange:g,dir:r,modal:u,children:n})})};XO.displayName=Hy;var JO="DropdownMenuTrigger",ZO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=YO(JO,n),a=Un(n);return x.jsx(xQ,{asChild:!0,...a,children:x.jsx(Bn.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ll(e,i.triggerRef),onPointerDown:et(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:et(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});ZO.displayName=JO;var LQ="DropdownMenuPortal",eM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Un(e);return x.jsx(SQ,{...r,...n})};eM.displayName=LQ;var tM="DropdownMenuContent",nM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=YO(tM,n),i=Un(n),a=S.useRef(!1);return x.jsx(EQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,u=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,u.preventDefault()}),onInteractOutside:et(t.onInteractOutside,u=>{const c=u.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0,m=c.button===2||h;(!s.modal||m)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nM.displayName=tM;var FQ="DropdownMenuGroup",VQ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(kQ,{...s,...r,ref:e})});VQ.displayName=FQ;var zQ="DropdownMenuLabel",rM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(TQ,{...s,...r,ref:e})});rM.displayName=zQ;var BQ="DropdownMenuItem",sM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(_Q,{...s,...r,ref:e})});sM.displayName=BQ;var UQ="DropdownMenuCheckboxItem",iM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(IQ,{...s,...r,ref:e})});iM.displayName=UQ;var $Q="DropdownMenuRadioGroup",qQ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(CQ,{...s,...r,ref:e})});qQ.displayName=$Q;var GQ="DropdownMenuRadioItem",oM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(AQ,{...s,...r,ref:e})});oM.displayName=GQ;var HQ="DropdownMenuItemIndicator",aM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(RQ,{...s,...r,ref:e})});aM.displayName=HQ;var KQ="DropdownMenuSeparator",lM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(NQ,{...s,...r,ref:e})});lM.displayName=KQ;var WQ="DropdownMenuArrow",QQ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(PQ,{...s,...r,ref:e})});QQ.displayName=WQ;var YQ="DropdownMenuSubTrigger",uM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(DQ,{...s,...r,ref:e})});uM.displayName=YQ;var XQ="DropdownMenuSubContent",cM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(OQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cM.displayName=XQ;var JQ=XO,ZQ=ZO,eY=eM,dM=nM,hM=rM,fM=sM,pM=iM,mM=oM,gM=aM,yM=lM,vM=uM,wM=cM;const tY=JQ,nY=ZQ,rY=S.forwardRef(({className:t,inset:e,children:n,...r},s)=>x.jsxs(vM,{ref:s,className:wt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,x.jsx(q$,{className:"ml-auto"})]}));rY.displayName=vM.displayName;const sY=S.forwardRef(({className:t,...e},n)=>x.jsx(wM,{ref:n,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));sY.displayName=wM.displayName;const bM=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(eY,{children:x.jsx(dM,{ref:r,sideOffset:e,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));bM.displayName=dM.displayName;const Nr=S.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(fM,{ref:r,className:wt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Nr.displayName=fM.displayName;const iY=S.forwardRef(({className:t,children:e,checked:n,...r},s)=>x.jsxs(pM,{ref:s,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(gM,{children:x.jsx(z$,{className:"h-4 w-4"})})}),e]}));iY.displayName=pM.displayName;const oY=S.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(mM,{ref:r,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(gM,{children:x.jsx(Y$,{className:"h-2 w-2 fill-current"})})}),e]}));oY.displayName=mM.displayName;const xM=S.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(hM,{ref:r,className:wt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));xM.displayName=hM.displayName;const Wm=S.forwardRef(({className:t,...e},n)=>x.jsx(yM,{ref:n,className:wt("-mx-1 my-1 h-px bg-muted",t),...e}));Wm.displayName=yM.displayName;function hs(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Rl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const SM=6048e5,aY=864e5;let lY={};function Ky(){return lY}function Zh(t,e){var n,r,s,i;const a=Ky(),u=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??a.weekStartsOn??((i=(s=a.locale)==null?void 0:s.options)==null?void 0:i.weekStartsOn)??0,c=hs(t),h=c.getDay(),m=(h<u?7:0)+h-u;return c.setDate(c.getDate()-m),c.setHours(0,0,0,0),c}function $g(t){return Zh(t,{weekStartsOn:1})}function EM(t){const e=hs(t),n=e.getFullYear(),r=Rl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=$g(r),i=Rl(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=$g(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Ob(t){const e=hs(t);return e.setHours(0,0,0,0),e}function NC(t){const e=hs(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function uY(t,e){const n=Ob(t),r=Ob(e),s=+n-NC(n),i=+r-NC(r);return Math.round((s-i)/aY)}function cY(t){const e=EM(t),n=Rl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),$g(n)}function dY(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function hY(t){if(!dY(t)&&typeof t!="number")return!1;const e=hs(t);return!isNaN(Number(e))}function fY(t){const e=hs(t),n=Rl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const pY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mY=(t,e,n)=>{let r;const s=pY[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function cw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const gY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wY={date:cw({formats:gY,defaultWidth:"full"}),time:cw({formats:yY,defaultWidth:"full"}),dateTime:cw({formats:vY,defaultWidth:"full"})},bY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xY=(t,e,n,r)=>bY[t];function nh(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):a;s=t.formattingValues[u]||t.formattingValues[a]}else{const a=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const SY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},EY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},TY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_Y={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CY=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},AY={ordinalNumber:CY,era:nh({values:SY,defaultWidth:"wide"}),quarter:nh({values:EY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nh({values:kY,defaultWidth:"wide"}),day:nh({values:TY,defaultWidth:"wide"}),dayPeriod:nh({values:_Y,defaultWidth:"wide",formattingValues:IY,defaultFormattingWidth:"wide"})};function rh(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?NY(u,g=>g.test(a)):RY(u,g=>g.test(a));let h;h=t.valueCallback?t.valueCallback(c):c,h=n.valueCallback?n.valueCallback(h):h;const m=e.slice(a.length);return{value:h,rest:m}}}function RY(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function NY(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function PY(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const u=e.slice(s.length);return{value:a,rest:u}}}const DY=/^(\d+)(th|st|nd|rd)?/i,OY=/\d+/i,MY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jY={any:[/^b/i,/^(a|c)/i]},LY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},FY={any:[/1/i,/2/i,/3/i,/4/i]},VY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},BY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$Y={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},GY={ordinalNumber:PY({matchPattern:DY,parsePattern:OY,valueCallback:t=>parseInt(t,10)}),era:rh({matchPatterns:MY,defaultMatchWidth:"wide",parsePatterns:jY,defaultParseWidth:"any"}),quarter:rh({matchPatterns:LY,defaultMatchWidth:"wide",parsePatterns:FY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:rh({matchPatterns:VY,defaultMatchWidth:"wide",parsePatterns:zY,defaultParseWidth:"any"}),day:rh({matchPatterns:BY,defaultMatchWidth:"wide",parsePatterns:UY,defaultParseWidth:"any"}),dayPeriod:rh({matchPatterns:$Y,defaultMatchWidth:"any",parsePatterns:qY,defaultParseWidth:"any"})},HY={code:"en-US",formatDistance:mY,formatLong:wY,formatRelative:xY,localize:AY,match:GY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function KY(t){const e=hs(t);return uY(e,fY(e))+1}function WY(t){const e=hs(t),n=+$g(e)-+cY(e);return Math.round(n/SM)+1}function kM(t,e){var n,r,s,i;const a=hs(t),u=a.getFullYear(),c=Ky(),h=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??c.firstWeekContainsDate??((i=(s=c.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,m=Rl(t,0);m.setFullYear(u+1,0,h),m.setHours(0,0,0,0);const g=Zh(m,e),v=Rl(t,0);v.setFullYear(u,0,h),v.setHours(0,0,0,0);const E=Zh(v,e);return a.getTime()>=g.getTime()?u+1:a.getTime()>=E.getTime()?u:u-1}function QY(t,e){var n,r,s,i;const a=Ky(),u=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??a.firstWeekContainsDate??((i=(s=a.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,c=kM(t,e),h=Rl(t,0);return h.setFullYear(c,0,u),h.setHours(0,0,0,0),Zh(h,e)}function YY(t,e){const n=hs(t),r=+Zh(n,e)-+QY(n,e);return Math.round(r/SM)+1}function at(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Oo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return at(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):at(n+1,2)},d(t,e){return at(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return at(t.getHours()%12||12,e.length)},H(t,e){return at(t.getHours(),e.length)},m(t,e){return at(t.getMinutes(),e.length)},s(t,e){return at(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return at(s,e.length)}},Gu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Oo.y(t,e)},Y:function(t,e,n,r){const s=kM(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return at(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):at(i,e.length)},R:function(t,e){const n=EM(t);return at(n,e.length)},u:function(t,e){const n=t.getFullYear();return at(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return at(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return at(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Oo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return at(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=YY(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):at(s,e.length)},I:function(t,e,n){const r=WY(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):at(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Oo.d(t,e)},D:function(t,e,n){const r=KY(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):at(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return at(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return at(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return at(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Gu.noon:r===0?s=Gu.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Gu.evening:r>=12?s=Gu.afternoon:r>=4?s=Gu.morning:s=Gu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Oo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Oo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Oo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Oo.s(t,e)},S:function(t,e){return Oo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return OC(r);case"XXXX":case"XX":return Xa(r);case"XXXXX":case"XXX":default:return Xa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return OC(r);case"xxxx":case"xx":return Xa(r);case"xxxxx":case"xxx":default:return Xa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+DC(r,":");case"OOOO":default:return"GMT"+Xa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+DC(r,":");case"zzzz":default:return"GMT"+Xa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return at(r,e.length)},T:function(t,e,n){const r=t.getTime();return at(r,e.length)}};function DC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+at(i,2)}function OC(t,e){return t%60===0?(t>0?"-":"+")+at(Math.abs(t)/60,2):Xa(t,e)}function Xa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=at(Math.trunc(r/60),2),i=at(r%60,2);return n+s+e+i}const MC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},TM=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},XY=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return MC(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",MC(r,e)).replace("{{time}}",TM(s,e))},JY={p:TM,P:XY},ZY=/^D+$/,eX=/^Y+$/,tX=["D","DD","YY","YYYY"];function nX(t){return ZY.test(t)}function rX(t){return eX.test(t)}function sX(t,e,n){const r=iX(t,e,n);if(console.warn(r),tX.includes(t))throw new RangeError(r)}function iX(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lX=/^'([^]*?)'?$/,uX=/''/g,cX=/[a-zA-Z]/;function dX(t,e,n){var r,s,i,a;const u=Ky(),c=u.locale??HY,h=u.firstWeekContainsDate??((s=(r=u.locale)==null?void 0:r.options)==null?void 0:s.firstWeekContainsDate)??1,m=u.weekStartsOn??((a=(i=u.locale)==null?void 0:i.options)==null?void 0:a.weekStartsOn)??0,g=hs(t);if(!hY(g))throw new RangeError("Invalid time value");let v=e.match(aX).map(I=>{const T=I[0];if(T==="p"||T==="P"){const _=JY[T];return _(I,c.formatLong)}return I}).join("").match(oX).map(I=>{if(I==="''")return{isToken:!1,value:"'"};const T=I[0];if(T==="'")return{isToken:!1,value:hX(I)};if(PC[T])return{isToken:!0,value:I};if(T.match(cX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:I}});c.localize.preprocessor&&(v=c.localize.preprocessor(g,v));const E={firstWeekContainsDate:h,weekStartsOn:m,locale:c};return v.map(I=>{if(!I.isToken)return I.value;const T=I.value;(rX(T)||nX(T))&&sX(T,e,String(t));const _=PC[T[0]];return _(g,T,c.localize,E)}).join("")}function hX(t){const e=t.match(lX);return e?e[1].replace(uX,"'"):t}class Qm extends rn.Component{constructor(e){super(e),Bk(this,"hardReload",()=>{window.location.reload(!0)}),Bk(this,"clearCachesAndReload",async()=>{try{if("caches"in window){const n=await caches.keys();await Promise.all(n.map(r=>caches.delete(r)))}if("serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistrations();await Promise.all(n.map(r=>r.unregister()))}}catch(n){console.warn("Failed to clear caches or unregister SW",n)}finally{window.location.reload()}}),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ChunkErrorBoundary caught an error:",e,n)}render(){var e,n,r,s;if(this.state.hasError){const i=((e=this.state.error)==null?void 0:e.message)||"";return((n=this.state.error)==null?void 0:n.name)==="ChunkLoadError"||((r=this.state.error)==null?void 0:r.name)==="CSSChunkLoadError"||/Loading chunk|Failed to fetch dynamically imported module|Importing a module script failed/i.test(i)?x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Update available"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The app was updated. Please refresh to load the latest version."}),x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("button",{onClick:this.hardReload,className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"}),x.jsx("button",{onClick:this.clearCachesAndReload,className:"px-4 py-2 rounded-lg bg-gray-200",children:"Reset cache & reload"})]}),x.jsxs("details",{className:"mt-4 text-left text-xs text-gray-500",children:[x.jsx("summary",{children:"Details"}),x.jsx("pre",{className:"whitespace-pre-wrap break-words",children:((s=this.state.error)==null?void 0:s.stack)||i})]})]})}):x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"Try refreshing the page."}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"})]})})}return this.props.children}}const dw=rn.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX.js"),[]),[]),[])),fX=rn.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62.js"),__vite__mapDeps([0,1])),Lt([0,1])),Vt([0,1]))),pX=rn.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb.js"),__vite__mapDeps([2,3])),Lt([2,3])),Vt([2,3])));function mX({children:t,currentPageName:e}){var n;const r=Hi(),[s,i]=S.useState(!1),{user:a,loading:u}=j1(),[c,h]=S.useState(()=>localStorage.getItem("app.theme")==="dark");S.useEffect(()=>{const H=()=>{h(localStorage.getItem("app.theme")==="dark")};H(),window.addEventListener("storage",H);const D=setInterval(H,500);return()=>{window.removeEventListener("storage",H),clearInterval(D)}},[]),S.useEffect(()=>{const H=document.createElement("link");H.rel="manifest",H.href="/manifest.json",document.head.appendChild(H);const D=document.createElement("meta");D.name="theme-color",D.content=c?"#1e293b":"#9333ea",document.head.appendChild(D);const C=document.createElement("meta");C.name="apple-mobile-web-app-capable",C.content="yes",document.head.appendChild(C);const N=document.createElement("meta");N.name="apple-mobile-web-app-status-bar-style",N.content="default",document.head.appendChild(N);const j=document.createElement("meta");j.name="apple-mobile-web-app-title",j.content="Math Adventure",document.head.appendChild(j);const V=document.createElement("link");return V.rel="apple-touch-icon",document.head.appendChild(V),()=>{V.parentNode&&V.remove()}},[c]);const[m,g]=S.useState(0);S.useEffect(()=>{a!=null&&a.email&&g(0)},[a==null?void 0:a.email]);const v=dX(Ob(new Date),"yyyy-MM-dd"),{data:E=[]}=I$({queryKey:["dailyChallenges",v],initialData:[],enabled:!!a});if(e==="Landing")return x.jsx(x.Fragment,{children:t});if(e==="Home"&&!a)return x.jsx(x.Fragment,{children:t});if(!a)return u?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center max-w-md w-full",children:[x.jsx(nT,{size:"xl",variant:"circle",className:"mx-auto mb-6"}),x.jsx("h1",{className:"text-4xl font-extrabold text-white mb-3 drop-shadow-2xl",children:"Math Adventure"}),x.jsx("p",{className:"text-lg text-white mb-6 drop-shadow-lg",children:"Sign in or create an account to start."}),x.jsx(AD,{})]})});const I=E.some(H=>H.created_by===(a==null?void 0:a.email)),T=a?{avatar_skin_tone:a.avatar_skin_tone||"medium",avatar_hair_style:a.avatar_hair_style||"short",avatar_hair_color:a.avatar_hair_color||"brown",avatar_eyes:a.avatar_eyes||"normal",avatar_outfit:a.avatar_outfit||"casual",avatar_accessory:a.avatar_accessory||"none"}:null,_=a==null?void 0:a.active_pet,R=_?{id:_,name:"Pet",emoji:_==="dragon"?"":_==="owl"?"":_==="fox"?"":"",gradient:_==="dragon"?"from-red-400 to-orange-500":_==="owl"?"from-indigo-400 to-purple-500":_==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500",evolveLevel:5}:null,P=(a==null?void 0:a.subscription_tier)||"free",M=P!=="free",z=async()=>{const H=ny(us);await M6(H),localStorage.clear(),window.location.href="/"},U=({to:H,icon:D,label:C,badge:N,badgeColor:j="red",isDarkMode:V})=>{const $=r.pathname===nt(H);return x.jsxs(ft,{to:nt(H),onClick:()=>i(!1),className:`relative flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${$?"bg-purple-500 text-white shadow-lg":V?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[x.jsx(D,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:C}),N&&x.jsx(Dr,{className:`absolute -top-1 -right-1 bg-${j}-500 text-white text-xs px-1.5 py-0.5 ${j==="red"?"animate-pulse":""}`,children:N})]})};return x.jsxs("div",{className:`min-h-screen ${c?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[x.jsx(DG,{}),x.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${c?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),x.jsx("header",{className:`${c?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:x.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-2 md:py-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(ft,{to:nt("Home"),className:"flex items-center gap-3",children:[x.jsx(nT,{size:"md",variant:"circle"}),x.jsx("div",{children:x.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${c&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[a&&x.jsx(ft,{to:nt("Home"),className:"hidden md:inline-block",children:x.jsxs($s,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold shadow-lg",children:[x.jsx(fD,{className:"w-4 h-4 mr-2"}),"Play Now"]})}),a&&x.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white px-3 py-2 rounded-xl shadow-md",children:[x.jsx(qI,{className:"w-4 h-4"}),x.jsx("span",{className:"font-bold text-sm",children:a.coins||0})]}),P!=="free"?x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(Dr,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 px-3 py-1.5 cursor-pointer",children:[x.jsx(ol,{className:"w-3 h-3 mr-1"}),P==="family_teacher"?"Family":P==="premium_player"?"Premium":"Parent"]})}):x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(Dr,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 px-3 py-1.5 cursor-pointer animate-pulse",children:[x.jsx(ol,{className:"w-3 h-3 mr-1"}),"Upgrade"]})}),a&&x.jsx("div",{className:"hidden lg:block",children:x.jsxs(tY,{children:[x.jsx(nY,{asChild:!0,children:x.jsx($s,{variant:"ghost",className:`${c?"hover:bg-slate-700 text-gray-50":"hover:bg-purple-50 text-gray-900"} h-auto p-2`,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex items-center gap-1",children:x.jsx(Qm,{children:x.jsxs(rn.Suspense,{fallback:x.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 animate-pulse"}),children:[T&&x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(dw,{avatarData:T,size:"small"})}),R&&x.jsx("div",{className:"scale-50 origin-center -ml-2",children:x.jsx(fX,{pet:R,experience:((n=a==null?void 0:a.pet_experience)==null?void 0:n[_])||0,size:"small"})})]})})}),x.jsxs("div",{className:"text-left",children:[x.jsx("p",{className:`text-sm font-semibold ${c?"text-gray-50":"text-gray-900"}`,children:a.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:a.email})]}),x.jsx(U$,{className:`w-4 h-4 ${c?"text-gray-300":"text-gray-500"}`})]})})}),x.jsxs(bM,{align:"end",className:`${c?"bg-slate-800 border-slate-700 text-gray-50":"bg-white"} w-56`,children:[x.jsx(xM,{children:x.jsxs("div",{className:"flex flex-col space-y-1",children:[x.jsx("p",{className:`text-sm font-medium ${c?"text-gray-50":"text-gray-900"}`,children:a.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:a.email})]})}),x.jsx(Wm,{className:c?"bg-slate-700":""}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Avatar"),className:"cursor-pointer",children:[x.jsx(X0,{className:"w-4 h-4 mr-2"}),"View Profile"]})}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Messages"),className:"cursor-pointer",children:[x.jsx(XI,{className:"w-4 h-4 mr-2"}),"Messages",m>0&&x.jsx(Dr,{className:"ml-auto bg-blue-500 text-white text-xs",children:m})]})}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("DailyChallenge"),className:"cursor-pointer",children:[x.jsx(W0,{className:"w-4 h-4 mr-2"}),"Daily Challenge",!I&&x.jsx(Dr,{className:"ml-auto bg-red-500 text-white text-xs animate-pulse",children:"!"})]})}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("AITutor"),className:"cursor-pointer",children:[x.jsx($m,{className:"w-4 h-4 mr-2"}),"AI Tutor"]})}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Progress"),className:"cursor-pointer",children:[x.jsx(F$,{className:"w-4 h-4 mr-2"}),"Progress & Stats"]})}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Shop"),className:"cursor-pointer",children:[x.jsx(Q0,{className:"w-4 h-4 mr-2"}),"Rewards Shop"]})}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("ParentPortal"),className:"cursor-pointer",children:[x.jsx(KI,{className:"w-4 h-4 mr-2"}),"Parent Portal",(a==null?void 0:a.is_parent_mode)&&x.jsx(Dr,{className:"ml-2 bg-blue-500 text-white text-xs",children:"ON"})]})}),x.jsx(Wm,{className:c?"bg-slate-700":""}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Settings"),className:"cursor-pointer",children:[x.jsx(JI,{className:"w-4 h-4 mr-2"}),"App Settings"]})}),x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer",children:[x.jsx(tq,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})}),M&&(a==null?void 0:a.subscription_auto_renew)!==!1&&x.jsx(Nr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer text-orange-600 focus:text-orange-600",children:[x.jsx(W$,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})}),x.jsx(Wm,{className:c?"bg-slate-700":""}),x.jsxs(Nr,{onClick:z,className:`${c?"text-red-400 focus:bg-slate-700 focus:text-red-400":"text-red-600 focus:text-red-600"} cursor-pointer`,children:[x.jsx(YI,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),x.jsx($s,{variant:"ghost",size:"icon",onClick:()=>i(!s),className:`lg:hidden ${c?"text-gray-50 hover:bg-slate-700":""}`,children:s?x.jsx(D1,{className:"w-6 h-6"}):x.jsx(fq,{className:"w-6 h-6"})})]})]}),s&&x.jsxs("div",{className:`mt-4 pb-4 space-y-2 border-t pt-4 max-h-[calc(100vh-140px)] overflow-y-auto ${c?"border-slate-700":""}`,children:[a&&x.jsxs("div",{className:`${c?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx(rn.Suspense,{fallback:null,children:T&&x.jsx("div",{className:"scale-90 origin-center",children:x.jsx(dw,{avatarData:T,size:"small"})})}),x.jsxs("div",{children:[x.jsx("p",{className:`font-bold ${c?"text-gray-50":"text-gray-900"}`,children:a.full_name||"Player"}),x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:a.email})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(Dr,{className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white",children:[x.jsx(qI,{className:"w-3 h-3 mr-1"}),a.coins||0," Coins"]}),P!=="free"&&x.jsxs(Dr,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[x.jsx(ol,{className:"w-3 h-3 mr-1"}),P==="family_teacher"?"Family":P==="premium_player"?"Premium":"Parent"]})]})]}),x.jsx(U,{to:"Home",icon:QI,label:"Home",isDarkMode:c}),x.jsx(U,{to:"DailyChallenge",icon:W0,label:"Daily Challenge",badge:I?null:"!",isDarkMode:c}),x.jsx(U,{to:"Progress",icon:wb,label:"Progress",isDarkMode:c}),x.jsx(U,{to:"AITutor",icon:$m,label:"AI Tutor",isDarkMode:c}),x.jsx(U,{to:"Messages",icon:XI,label:"Messages",badge:m>0?m:null,badgeColor:"blue",isDarkMode:c}),x.jsx(U,{to:"Leaderboards",icon:O$,label:"Leaderboards",isDarkMode:c}),x.jsx(U,{to:"Shop",icon:Q0,label:"Shop",isDarkMode:c}),x.jsx(U,{to:"TeamChallenges",icon:bb,label:"Team Challenges",isDarkMode:c}),x.jsx(U,{to:"ParentPortal",icon:KI,label:"Parent Portal",badge:a!=null&&a.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:c}),x.jsx(U,{to:"Avatar",icon:X0,label:"Profile",isDarkMode:c}),x.jsx("div",{className:`pt-2 mt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Settings"),onClick:()=>i(!1),children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-gradient-to-r from-gray-700 to-gray-800 text-gray-50 hover:bg-gray-700":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[x.jsx(JI,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"App Settings"})]})})}),x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Subscription"),onClick:()=>i(!1),className:"w-full block",children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${P!=="free"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 text-white animate-pulse"}`,children:[x.jsx(ol,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:P!=="free"?"Manage Subscription":"Upgrade to Premium"})]})})}),a&&x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsxs("button",{onClick:()=>{i(!1),z()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[x.jsx(YI,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]})}),x.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${c?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:x.jsxs("div",{className:"grid grid-cols-5 gap-1 px-2 py-2",children:[x.jsxs(ft,{to:nt("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Home")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(QI,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),x.jsxs(ft,{to:nt("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("DailyChallenge")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(W0,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!I&&x.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),x.jsxs(ft,{to:nt("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("AITutor")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx($m,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),x.jsxs(ft,{to:nt("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Shop")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(Q0,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),x.jsx(ft,{to:nt("Avatar"),className:`flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Avatar")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:T?x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(dw,{avatarData:T,size:"small"})}):x.jsx(X0,{className:"w-6 h-6"})})]})}),x.jsx(Qm,{children:x.jsx(rn.Suspense,{fallback:null,children:x.jsx(pX,{})})}),x.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:x.jsx(Qm,{children:x.jsx(rn.Suspense,{fallback:x.jsx("div",{className:"min-h-[40vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-3"}),x.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),children:t})})}),x.jsx("footer",{className:`${c?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:x.jsx("div",{className:"max-w-7xl mx-auto px-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),x.jsx("p",{className:`text-xs ${c?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[x.jsx(ft,{to:nt("PrivacyPolicy"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx(ft,{to:nt("Subscription"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}const gX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));gX.displayName="Card";const yX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex flex-col space-y-1.5 p-6",t),...e}));yX.displayName="CardHeader";const vX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("font-semibold leading-none tracking-tight",t),...e}));vX.displayName="CardTitle";const wX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm text-muted-foreground",t),...e}));wX.displayName="CardDescription";const bX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("p-6 pt-0",t),...e}));bX.displayName="CardContent";const xX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex items-center p-6 pt-0",t),...e}));xX.displayName="CardFooter";const _M=S.createContext({});function SX(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const J1=typeof window<"u",EX=J1?S.useLayoutEffect:S.useEffect,Z1=S.createContext(null);function eS(t,e){t.indexOf(e)===-1&&t.push(e)}function tS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vi=(t,e,n)=>n>e?e:n<t?t:n;let nS=()=>{};const zi={},IM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function CM(t){return typeof t=="object"&&t!==null}const AM=t=>/^0[^.\s]+$/u.test(t);function rS(t){let e;return()=>(e===void 0&&(e=t()),e)}const Br=t=>t,kX=(t,e)=>n=>e(t(n)),Pf=(...t)=>t.reduce(kX),ef=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class sS{constructor(){this.subscriptions=[]}add(e){return eS(this.subscriptions,e),()=>tS(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gs=t=>t*1e3,Fr=t=>t/1e3;function RM(t,e){return e?t*(1e3/e):0}const NM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,TX=1e-7,_X=12;function IX(t,e,n,r,s){let i,a,u=0;do a=e+(n-e)/2,i=NM(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>TX&&++u<_X);return a}function Df(t,e,n,r){if(t===e&&n===r)return Br;const s=i=>IX(i,0,1,t,n);return i=>i===0||i===1?i:NM(s(i),e,r)}const PM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,DM=t=>e=>1-t(1-e),OM=Df(.33,1.53,.69,.99),iS=DM(OM),MM=PM(iS),jM=t=>(t*=2)<1?.5*iS(t):.5*(2-Math.pow(2,-10*(t-1))),oS=t=>1-Math.sin(Math.acos(t)),LM=DM(oS),FM=PM(oS),CX=Df(.42,0,1,1),AX=Df(0,0,.58,1),VM=Df(.42,0,.58,1),RX=t=>Array.isArray(t)&&typeof t[0]!="number",zM=t=>Array.isArray(t)&&typeof t[0]=="number",NX={linear:Br,easeIn:CX,easeInOut:VM,easeOut:AX,circIn:oS,circInOut:FM,circOut:LM,backIn:iS,backInOut:MM,backOut:OM,anticipate:jM},PX=t=>typeof t=="string",jC=t=>{if(zM(t)){nS(t.length===4);const[e,n,r,s]=t;return Df(e,n,r,s)}else if(PX(t))return NX[t];return t},Sm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function DX(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(m){a.has(m)&&(h.schedule(m),t()),m(u)}const h={schedule:(m,g=!1,v=!1)=>{const E=v&&s?n:r;return g&&a.add(m),E.has(m)||E.add(m),m},cancel:m=>{r.delete(m),a.delete(m)},process:m=>{if(u=m,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,h.process(m))}};return h}const OX=40;function BM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Sm.reduce((R,P)=>(R[P]=DX(i),R),{}),{setup:u,read:c,resolveKeyframes:h,preUpdate:m,update:g,preRender:v,render:E,postRender:I}=a,T=()=>{const R=zi.useManualTiming?s.timestamp:performance.now();n=!1,zi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(R-s.timestamp,OX),1)),s.timestamp=R,s.isProcessing=!0,u.process(s),c.process(s),h.process(s),m.process(s),g.process(s),v.process(s),E.process(s),I.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(T))},_=()=>{n=!0,r=!0,s.isProcessing||t(T)};return{schedule:Sm.reduce((R,P)=>{const M=a[P];return R[P]=(z,U=!1,H=!1)=>(n||_(),M.schedule(z,U,H)),R},{}),cancel:R=>{for(let P=0;P<Sm.length;P++)a[Sm[P]].cancel(R)},state:s,steps:a}}const{schedule:St,cancel:ra,state:yn,steps:hw}=BM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Br,!0);let Ym;function MX(){Ym=void 0}const er={now:()=>(Ym===void 0&&er.set(yn.isProcessing||zi.useManualTiming?yn.timestamp:performance.now()),Ym),set:t=>{Ym=t,queueMicrotask(MX)}},UM=t=>e=>typeof e=="string"&&e.startsWith(t),aS=UM("--"),jX=UM("var(--"),lS=t=>jX(t)?LX.test(t.split("/*")[0].trim()):!1,LX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},tf={...zc,transform:t=>Vi(0,1,t)},Em={...zc,default:1},kh=t=>Math.round(t*1e5)/1e5,uS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FX(t){return t==null}const VX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cS=(t,e)=>n=>!!(typeof n=="string"&&VX.test(n)&&n.startsWith(t)||e&&!FX(n)&&Object.prototype.hasOwnProperty.call(n,e)),$M=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,u]=r.match(uS);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},zX=t=>Vi(0,255,t),fw={...zc,transform:t=>Math.round(zX(t))},al={test:cS("rgb","red"),parse:$M("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+fw.transform(t)+", "+fw.transform(e)+", "+fw.transform(n)+", "+kh(tf.transform(r))+")"};function BX(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Mb={test:cS("#"),parse:BX,transform:al.transform},Of=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),jo=Of("deg"),Hs=Of("%"),je=Of("px"),UX=Of("vh"),$X=Of("vw"),LC={...Hs,parse:t=>Hs.parse(t)/100,transform:t=>Hs.transform(t*100)},Ju={test:cS("hsl","hue"),parse:$M("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Hs.transform(kh(e))+", "+Hs.transform(kh(n))+", "+kh(tf.transform(r))+")"},Xt={test:t=>al.test(t)||Mb.test(t)||Ju.test(t),parse:t=>al.test(t)?al.parse(t):Ju.test(t)?Ju.parse(t):Mb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?al.transform(t):Ju.transform(t),getAnimatableNone:t=>{const e=Xt.parse(t);return e.alpha=0,Xt.transform(e)}},qX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GX(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(uS))==null?void 0:e.length)||0)+(((n=t.match(qX))==null?void 0:n.length)||0)>0}const qM="number",GM="color",HX="var",KX="var(",FC="${}",WX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(WX,u=>(Xt.test(u)?(r.color.push(i),s.push(GM),n.push(Xt.parse(u))):u.startsWith(KX)?(r.var.push(i),s.push(HX),n.push(u)):(r.number.push(i),s.push(qM),n.push(parseFloat(u))),++i,FC)).split(FC);return{values:n,split:a,indexes:r,types:s}}function HM(t){return nf(t).values}function KM(t){const{split:e,types:n}=nf(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const u=n[a];u===qM?i+=kh(s[a]):u===GM?i+=Xt.transform(s[a]):i+=s[a]}return i}}const QX=t=>typeof t=="number"?0:Xt.test(t)?Xt.getAnimatableNone(t):t;function YX(t){const e=HM(t);return KM(t)(e.map(QX))}const sa={test:GX,parse:HM,createTransformer:KM,getAnimatableNone:YX};function pw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function XX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;s=pw(c,u,t+1/3),i=pw(c,u,t),a=pw(c,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function qg(t,e){return n=>n>0?e:t}const It=(t,e,n)=>t+(e-t)*n,mw=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},JX=[Mb,al,Ju],ZX=t=>JX.find(e=>e.test(t));function VC(t){const e=ZX(t);if(!e)return!1;let n=e.parse(t);return e===Ju&&(n=XX(n)),n}const zC=(t,e)=>{const n=VC(t),r=VC(e);if(!n||!r)return qg(t,e);const s={...n};return i=>(s.red=mw(n.red,r.red,i),s.green=mw(n.green,r.green,i),s.blue=mw(n.blue,r.blue,i),s.alpha=It(n.alpha,r.alpha,i),al.transform(s))},jb=new Set(["none","hidden"]);function eJ(t,e){return jb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function tJ(t,e){return n=>It(t,e,n)}function dS(t){return typeof t=="number"?tJ:typeof t=="string"?lS(t)?qg:Xt.test(t)?zC:sJ:Array.isArray(t)?WM:typeof t=="object"?Xt.test(t)?zC:nJ:qg}function WM(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>dS(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function nJ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=dS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function rJ(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],u=t.values[a]??0;n[s]=u,r[i]++}return n}const sJ=(t,e)=>{const n=sa.createTransformer(e),r=nf(t),s=nf(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?jb.has(t)&&!s.values.length||jb.has(e)&&!r.values.length?eJ(t,e):Pf(WM(rJ(r,s),s.values),n):qg(t,e)};function QM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?It(t,e,n):dS(t)(t,e)}const iJ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>St.update(e,n),stop:()=>ra(e),now:()=>yn.isProcessing?yn.timestamp:er.now()}},YM=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Gg=2e4;function hS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Gg;)e+=n,r=t.next(e);return e>=Gg?1/0:e}function oJ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(hS(r),Gg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Fr(s)}}const aJ=5;function XM(t,e,n){const r=Math.max(e-aJ,0);return RM(n-t(r),e-r)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gw=.001;function lJ({duration:t=Dt.duration,bounce:e=Dt.bounce,velocity:n=Dt.velocity,mass:r=Dt.mass}){let s,i,a=1-e;a=Vi(Dt.minDamping,Dt.maxDamping,a),t=Vi(Dt.minDuration,Dt.maxDuration,Fr(t)),a<1?(s=h=>{const m=h*a,g=m*t,v=m-n,E=Lb(h,a),I=Math.exp(-g);return gw-v/E*I},i=h=>{const m=h*a*t,g=m*n+n,v=Math.pow(a,2)*Math.pow(h,2)*t,E=Math.exp(-m),I=Lb(Math.pow(h,2),a);return(-s(h)+gw>0?-1:1)*((g-v)*E)/I}):(s=h=>{const m=Math.exp(-h*t),g=(h-n)*t+1;return-gw+m*g},i=h=>{const m=Math.exp(-h*t),g=(n-h)*(t*t);return m*g});const u=5/t,c=cJ(s,i,u);if(t=Gs(t),isNaN(c))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:t};{const h=Math.pow(c,2)*r;return{stiffness:h,damping:a*2*Math.sqrt(r*h),duration:t}}}const uJ=12;function cJ(t,e,n){let r=n;for(let s=1;s<uJ;s++)r=r-t(r)/e(r);return r}function Lb(t,e){return t*Math.sqrt(1-e*e)}const dJ=["duration","bounce"],hJ=["stiffness","damping","mass"];function BC(t,e){return e.some(n=>t[n]!==void 0)}function fJ(t){let e={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...t};if(!BC(t,hJ)&&BC(t,dJ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Vi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Dt.mass,stiffness:s,damping:i}}else{const n=lJ(t);e={...e,...n,mass:Dt.mass},e.isResolvedFromDuration=!0}return e}function Hg(t=Dt.visualDuration,e=Dt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:c,damping:h,mass:m,duration:g,velocity:v,isResolvedFromDuration:E}=fJ({...n,velocity:-Fr(n.velocity||0)}),I=v||0,T=h/(2*Math.sqrt(c*m)),_=a-i,R=Fr(Math.sqrt(c/m)),P=Math.abs(_)<5;r||(r=P?Dt.restSpeed.granular:Dt.restSpeed.default),s||(s=P?Dt.restDelta.granular:Dt.restDelta.default);let M;if(T<1){const U=Lb(R,T);M=H=>{const D=Math.exp(-T*R*H);return a-D*((I+T*R*_)/U*Math.sin(U*H)+_*Math.cos(U*H))}}else if(T===1)M=U=>a-Math.exp(-R*U)*(_+(I+R*_)*U);else{const U=R*Math.sqrt(T*T-1);M=H=>{const D=Math.exp(-T*R*H),C=Math.min(U*H,300);return a-D*((I+T*R*_)*Math.sinh(C)+U*_*Math.cosh(C))/U}}const z={calculatedDuration:E&&g||null,next:U=>{const H=M(U);if(E)u.done=U>=g;else{let D=U===0?I:0;T<1&&(D=U===0?Gs(I):XM(M,U,H));const C=Math.abs(D)<=r,N=Math.abs(a-H)<=s;u.done=C&&N}return u.value=u.done?a:H,u},toString:()=>{const U=Math.min(hS(z),Gg),H=YM(D=>z.next(U*D).value,U,30);return U+"ms "+H},toTransition:()=>{}};return z}Hg.applyToOptions=t=>{const e=oJ(t,100,Hg);return t.ease=e.ease,t.duration=Gs(e.duration),t.type="keyframes",t};function Fb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:u,max:c,restDelta:h=.5,restSpeed:m}){const g=t[0],v={done:!1,value:g},E=C=>u!==void 0&&C<u||c!==void 0&&C>c,I=C=>u===void 0?c:c===void 0||Math.abs(u-C)<Math.abs(c-C)?u:c;let T=n*e;const _=g+T,R=a===void 0?_:a(_);R!==_&&(T=R-g);const P=C=>-T*Math.exp(-C/r),M=C=>R+P(C),z=C=>{const N=P(C),j=M(C);v.done=Math.abs(N)<=h,v.value=v.done?R:j};let U,H;const D=C=>{E(v.value)&&(U=C,H=Hg({keyframes:[v.value,I(v.value)],velocity:XM(M,C,v.value),damping:s,stiffness:i,restDelta:h,restSpeed:m}))};return D(0),{calculatedDuration:null,next:C=>{let N=!1;return!H&&U===void 0&&(N=!0,z(C),D(C)),U!==void 0&&C>=U?H.next(C-U):(!N&&z(C),v)}}}function pJ(t,e,n){const r=[],s=n||zi.mix||QM,i=t.length-1;for(let a=0;a<i;a++){let u=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Br:e;u=Pf(c,u)}r.push(u)}return r}function mJ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(nS(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=pJ(e,r,s),c=u.length,h=m=>{if(a&&m<t[0])return e[0];let g=0;if(c>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const v=ef(t[g],t[g+1],m);return u[g](v)};return n?m=>h(Vi(t[0],t[i-1],m)):h}function gJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ef(0,e,r);t.push(It(n,1,s))}}function yJ(t){const e=[0];return gJ(e,t.length-1),e}function vJ(t,e){return t.map(n=>n*e)}function wJ(t,e){return t.map(()=>e||VM).splice(0,t.length-1)}function Th({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=RX(r)?r.map(jC):jC(r),i={done:!1,value:e[0]},a=vJ(n&&n.length===e.length?n:yJ(e),t),u=mJ(a,e,{ease:Array.isArray(s)?s:wJ(e,s)});return{calculatedDuration:t,next:c=>(i.value=u(c),i.done=c>=t,i)}}const bJ=t=>t!==null;function fS(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(bJ),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const xJ={decay:Fb,inertia:Fb,tween:Th,keyframes:Th,spring:Hg};function JM(t){typeof t.type=="string"&&(t.type=xJ[t.type])}class pS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const SJ=t=>t/100;class mS extends pS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==er.now()&&this.tick(er.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;JM(e);const{type:n=Th,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:u}=e;const c=n||Th;c!==Th&&typeof u[0]!="number"&&(this.mixKeyframes=Pf(SJ,QM(u[0],u[1])),u=[0,100]);const h=c({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=hS(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:v,repeatDelay:E,type:I,onUpdate:T,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const R=this.currentTime-h*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?R<0:R>s;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let M=this.currentTime,z=r;if(g){const C=Math.min(this.currentTime,s)/u;let N=Math.floor(C),j=C%1;!j&&C>=1&&(j=1),j===1&&N--,N=Math.min(N,g+1),N%2&&(v==="reverse"?(j=1-j,E&&(j-=E/u)):v==="mirror"&&(z=a)),M=Vi(0,1,j)*u}const U=P?{done:!1,value:m[0]}:z.next(M);i&&(U.value=i(U.value));let{done:H}=U;!P&&c!==null&&(H=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return D&&I!==Fb&&(U.value=fS(m,this.options,_,this.speed)),T&&T(U.value),D&&this.finish(),U}then(e,n){return this.finished.then(e,n)}get duration(){return Fr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Fr(e)}get time(){return Fr(this.currentTime)}set time(e){var n;e=Gs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(er.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Fr(this.currentTime))}play(){var e,n;if(this.isStopped)return;const{driver:r=iJ,startTime:s}=this.options;this.driver||(this.driver=r(a=>this.tick(a))),(n=(e=this.options).onPlay)==null||n.call(e);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(er.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function EJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ll=t=>t*180/Math.PI,Vb=t=>{const e=ll(Math.atan2(t[1],t[0]));return zb(e)},kJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Vb,rotateZ:Vb,skewX:t=>ll(Math.atan(t[1])),skewY:t=>ll(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},zb=t=>(t=t%360,t<0&&(t+=360),t),UC=Vb,$C=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),qC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),TJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$C,scaleY:qC,scale:t=>($C(t)+qC(t))/2,rotateX:t=>zb(ll(Math.atan2(t[6],t[5]))),rotateY:t=>zb(ll(Math.atan2(-t[2],t[0]))),rotateZ:UC,rotate:UC,skewX:t=>ll(Math.atan(t[4])),skewY:t=>ll(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Bb(t){return t.includes("scale")?1:0}function Ub(t,e){if(!t||t==="none")return Bb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=TJ,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=kJ,s=u}if(!s)return Bb(e);const i=r[e],a=s[1].split(",").map(IJ);return typeof i=="function"?i(a):a[i]}const _J=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ub(n,e)};function IJ(t){return parseFloat(t.trim())}const Bc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uc=new Set(Bc),GC=t=>t===zc||t===je,CJ=new Set(["x","y","z"]),AJ=Bc.filter(t=>!CJ.has(t));function RJ(t){const e=[];return AJ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const pl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ub(e,"x"),y:(t,{transform:e})=>Ub(e,"y")};pl.translateX=pl.x;pl.translateY=pl.y;const ml=new Set;let $b=!1,qb=!1,Gb=!1;function ZM(){if(qb){const t=Array.from(ml).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=RJ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var u;(u=r.getValue(i))==null||u.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qb=!1,$b=!1,ml.forEach(t=>t.complete(Gb)),ml.clear()}function ej(){ml.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(qb=!0)})}function NJ(){Gb=!0,ej(),ZM(),Gb=!1}class gS{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(ml.add(this),$b||($b=!0,St.read(ej),St.resolveKeyframes(ZM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}EJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ml.delete(this)}cancel(){this.state==="scheduled"&&(ml.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const PJ=t=>t.startsWith("--");function DJ(t,e,n){PJ(e)?t.style.setProperty(e,n):t.style[e]=n}const OJ=rS(()=>window.ScrollTimeline!==void 0),MJ={};function jJ(t,e){const n=rS(t);return()=>MJ[e]??n()}const tj=jJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,HC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fh([0,.65,.55,1]),circOut:fh([.55,0,1,.45]),backIn:fh([.31,.01,.66,-.59]),backOut:fh([.33,1.53,.69,.99])};function nj(t,e){if(t)return typeof t=="function"?tj()?YM(t,e):"ease-out":zM(t)?fh(t):Array.isArray(t)?t.map(n=>nj(n,e)||HC.easeOut):HC[t]}function LJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:u="easeOut",times:c}={},h=void 0){const m={[e]:n};c&&(m.offset=c);const g=nj(u,s);Array.isArray(g)&&(m.easing=g);const v={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),t.animate(m,v)}function rj(t){return typeof t=="function"&&"applyToOptions"in t}function FJ({type:t,...e}){return rj(t)&&tj()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class VJ extends pS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,nS(typeof e.type!="string");const h=FJ(e);this.animation=LJ(n,r,s,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=fS(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):DJ(n,r,m),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var e,n;const r=((n=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:n.call(e).duration)||0;return Fr(Number(r))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Fr(e)}get time(){return Fr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Gs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&OJ()?(this.animation.timeline=e,Br):n(this)}}const sj={anticipate:jM,backInOut:MM,circInOut:FM};function zJ(t){return t in sj}function BJ(t){typeof t.ease=="string"&&zJ(t.ease)&&(t.ease=sj[t.ease])}const KC=10;class UJ extends VJ{constructor(e){BJ(e),JM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new mS({...a,autoplay:!1}),c=Gs(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-KC).value,u.sample(c).value,KC),u.stop()}}const WC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(sa.test(t)||t==="0")&&!t.startsWith("url("));function $J(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function qJ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=WC(s,e),u=WC(i,e);return!a||!u?!1:$J(t)||(n==="spring"||rj(n))&&r}function Hb(t){t.duration=0,t.type="keyframes"}const GJ=new Set(["opacity","clipPath","filter","transform"]),HJ=rS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function KJ(t){var e;const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:u}=t;if(!(((e=n==null?void 0:n.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=n.owner.getProps();return HJ()&&r&&GJ.has(r)&&(r!=="transform"||!h)&&!c&&!s&&i!=="mirror"&&a!==0&&u!=="inertia"}const WJ=40;class QJ extends pS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:u,name:c,motionValue:h,element:m,...g}){var v;super(),this.stop=()=>{var T,_;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=er.now();const E={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:h,element:m,...g},I=(m==null?void 0:m.KeyframeResolver)||gS;this.keyframeResolver=new I(u,(T,_,R)=>this.onKeyframesResolved(T,_,E,!R),c,h,m),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:u,delay:c,isHandoff:h,onUpdate:m}=r;this.resolvedAt=er.now(),qJ(e,i,a,u)||((zi.instantAnimations||!c)&&(m==null||m(fS(e,r,n))),e[0]=e[e.length-1],Hb(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>WJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!h&&KJ(g)?new UJ({...g,element:g.motionValue.owner.current}):new mS(g);v.finished.then(()=>this.notifyFinished()).catch(Br),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),NJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const YJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XJ(t){const e=YJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function ij(t,e,n=1){const[r,s]=XJ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return IM(a)?parseFloat(a):a}return lS(s)?ij(s,e,n+1):s}function yS(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const oj=new Set(["width","height","top","left","right","bottom",...Bc]),JJ={test:t=>t==="auto",parse:t=>t},aj=t=>e=>e.test(t),lj=[zc,je,Hs,jo,$X,UX,JJ],QC=t=>lj.find(aj(t));function ZJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||AM(t):!0}const eZ=new Set(["brightness","contrast","saturate","opacity"]);function tZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(uS)||[];if(!r)return t;const s=n.replace(r,"");let i=eZ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const nZ=/\b([a-z-]*)\(.*?\)/gu,Kb={...sa,getAnimatableNone:t=>{const e=t.match(nZ);return e?e.map(tZ).join(" "):t}},YC={...zc,transform:Math.round},rZ={rotate:jo,rotateX:jo,rotateY:jo,rotateZ:jo,scale:Em,scaleX:Em,scaleY:Em,scaleZ:Em,skew:jo,skewX:jo,skewY:jo,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:tf,originX:LC,originY:LC,originZ:je},vS={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...rZ,zIndex:YC,fillOpacity:tf,strokeOpacity:tf,numOctaves:YC},sZ={...vS,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:Kb,WebkitFilter:Kb},uj=t=>sZ[t];function cj(t,e){let n=uj(t);return n!==Kb&&(n=sa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const iZ=new Set(["auto","none","0"]);function oZ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!iZ.has(i)&&nf(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=cj(n,s)}class aZ extends gS{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),lS(h))){const m=ij(h,n.current);m!==void 0&&(e[c]=m),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!oj.has(r)||e.length!==2)return;const[s,i]=e,a=QC(s),u=QC(i);if(a!==u)if(GC(a)&&GC(u))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else pl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||ZJ(e[s]))&&r.push(s);r.length&&oZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,u=s[a];s[a]=pl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([c,h])=>{n.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function lZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const dj=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function uZ(t){return CM(t)&&"offsetHeight"in t}const XC=30,cZ=t=>!isNaN(parseFloat(t));class dZ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=er.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=cZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new sS);const r=this.events[e].add(n);return e==="change"?()=>{r(),St.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>XC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,XC);return RM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _c(t,e){return new dZ(t,e)}const{schedule:wS}=BM(queueMicrotask,!1),ts={x:!1,y:!1};function hj(){return ts.x||ts.y}function hZ(t){return t==="x"||t==="y"?ts[t]?null:(ts[t]=!0,()=>{ts[t]=!1}):ts.x||ts.y?null:(ts.x=ts.y=!0,()=>{ts.x=ts.y=!1})}function fj(t,e){const n=lZ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function JC(t){return!(t.pointerType==="touch"||hj())}function fZ(t,e,n={}){const[r,s,i]=fj(t,n),a=u=>{if(!JC(u))return;const{target:c}=u,h=e(c,u);if(typeof h!="function"||!c)return;const m=g=>{JC(g)&&(h(g),c.removeEventListener("pointerleave",m))};c.addEventListener("pointerleave",m,s)};return r.forEach(u=>{u.addEventListener("pointerenter",a,s)}),i}const pj=(t,e)=>e?t===e?!0:pj(t,e.parentElement):!1,bS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mZ(t){return pZ.has(t.tagName)||t.tabIndex!==-1}const Xm=new WeakSet;function ZC(t){return e=>{e.key==="Enter"&&t(e)}}function yw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ZC(()=>{if(Xm.has(n))return;yw(n,"down");const s=ZC(()=>{yw(n,"up")}),i=()=>yw(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function e2(t){return bS(t)&&!hj()}function yZ(t,e,n={}){const[r,s,i]=fj(t,n),a=u=>{const c=u.currentTarget;if(!e2(u))return;Xm.add(c);const h=e(c,u),m=(E,I)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Xm.has(c)&&Xm.delete(c),e2(E)&&typeof h=="function"&&h(E,{success:I})},g=E=>{m(E,c===window||c===document||n.useGlobalTarget||pj(c,E.target))},v=E=>{m(E,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",a,s),uZ(u)&&(u.addEventListener("focus",c=>gZ(c,s)),!mZ(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function mj(t){return CM(t)&&"ownerSVGElement"in t}function vZ(t){return mj(t)&&t.tagName==="svg"}const Rn=t=>!!(t&&t.getVelocity),wZ=[...lj,Xt,sa],bZ=t=>wZ.find(aj(t)),gj=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xZ(t=!0){const e=S.useContext(Z1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=S.useId();S.useEffect(()=>{if(t)return s(i)},[t]);const a=S.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const yj=S.createContext({strict:!1}),t2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ic={};for(const t in t2)Ic[t]={isEnabled:e=>t2[t].some(n=>!!e[n])};function SZ(t){for(const e in t)Ic[e]={...Ic[e],...t[e]}}const EZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||EZ.has(t)}let vj=t=>!Kg(t);function kZ(t){typeof t=="function"&&(vj=e=>e.startsWith("on")?!Kg(e):t(e))}try{kZ(require("@emotion/is-prop-valid").default)}catch{}function TZ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(vj(s)||n===!0&&Kg(s)||!e&&!Kg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Wy=S.createContext({});function Qy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rf(t){return typeof t=="string"||Array.isArray(t)}const xS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],SS=["initial",...xS];function Yy(t){return Qy(t.animate)||SS.some(e=>rf(t[e]))}function wj(t){return!!(Yy(t)||t.variants)}function _Z(t,e){if(Yy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rf(n)?n:void 0,animate:rf(r)?r:void 0}}return t.inherit!==!1?e:{}}function IZ(t){const{initial:e,animate:n}=_Z(t,S.useContext(Wy));return S.useMemo(()=>({initial:e,animate:n}),[n2(e),n2(n)])}function n2(t){return Array.isArray(t)?t.join(" "):t}const sf={};function CZ(t){for(const e in t)sf[e]=t[e],aS(e)&&(sf[e].isCSSVariable=!0)}function bj(t,{layout:e,layoutId:n}){return Uc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!sf[t]||t==="opacity")}const AZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RZ=Bc.length;function NZ(t,e,n){let r="",s=!0;for(let i=0;i<RZ;i++){const a=Bc[i],u=t[a];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(a.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const h=dj(u,vS[a]);if(!c){s=!1;const m=AZ[a]||a;r+=`${m}(${h}) `}n&&(e[a]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function ES(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,u=!1;for(const c in e){const h=e[c];if(Uc.has(c)){a=!0;continue}else if(aS(c)){s[c]=h;continue}else{const m=dj(h,vS[c]);c.startsWith("origin")?(u=!0,i[c]=m):r[c]=m}}if(e.transform||(a||n?r.transform=NZ(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:h="50%",originZ:m=0}=i;r.transformOrigin=`${c} ${h} ${m}`}}const kS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xj(t,e,n){for(const r in e)!Rn(e[r])&&!bj(r,n)&&(t[r]=e[r])}function PZ({transformTemplate:t},e){return S.useMemo(()=>{const n=kS();return ES(n,e,t),Object.assign({},n.vars,n.style)},[e])}function DZ(t,e){const n=t.style||{},r={};return xj(r,n,t),Object.assign(r,PZ(t,e)),r}function OZ(t,e){const n={},r=DZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const MZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},jZ={offset:"strokeDashoffset",array:"strokeDasharray"};function LZ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?MZ:jZ;t[i.offset]=je.transform(-r);const a=je.transform(e),u=je.transform(n);t[i.array]=`${a} ${u}`}function Sj(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...u},c,h,m){if(ES(t,u,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&LZ(g,s,i,a,!1)}const Ej=()=>({...kS(),attrs:{}}),kj=t=>typeof t=="string"&&t.toLowerCase()==="svg";function FZ(t,e,n,r){const s=S.useMemo(()=>{const i=Ej();return Sj(i,e,kj(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};xj(i,t.style,t),s.style={...i,...s.style}}return s}const VZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TS(t){return typeof t!="string"||t.includes("-")?!1:!!(VZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function zZ(t,e,n,{latestValues:r},s,i=!1){const a=(TS(t)?FZ:OZ)(e,r,s,t),u=TZ(e,typeof t=="string",i),c=t!==S.Fragment?{...u,...a,ref:n}:{},{children:h}=e,m=S.useMemo(()=>Rn(h)?h.get():h,[h]);return S.createElement(t,{...c,children:m})}function r2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function _S(t,e,n,r){if(typeof e=="function"){const[s,i]=r2(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=r2(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Jm(t){return Rn(t)?t.get():t}function BZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:UZ(n,r,s,t),renderState:e()}}function UZ(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=Jm(i[v]);let{initial:a,animate:u}=t;const c=Yy(t),h=wj(t);e&&h&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||a===!1;const g=m?u:a;if(g&&typeof g!="boolean"&&!Qy(g)){const v=Array.isArray(g)?g:[g];for(let E=0;E<v.length;E++){const I=_S(t,v[E]);if(I){const{transitionEnd:T,transition:_,...R}=I;for(const P in R){let M=R[P];if(Array.isArray(M)){const z=m?M.length-1:0;M=M[z]}M!==null&&(s[P]=M)}for(const P in T)s[P]=T[P]}}}return s}const Tj=t=>(e,n)=>{const r=S.useContext(Wy),s=S.useContext(Z1),i=()=>BZ(t,e,r,s);return n?i():SX(i)};function IS(t,e,n){var r;const{style:s}=t,i={};for(const a in s)(Rn(s[a])||e.style&&Rn(e.style[a])||bj(a,t)||((r=n==null?void 0:n.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}const $Z=Tj({scrapeMotionValuesFromProps:IS,createRenderState:kS});function _j(t,e,n){const r=IS(t,e,n);for(const s in t)if(Rn(t[s])||Rn(e[s])){const i=Bc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const qZ=Tj({scrapeMotionValuesFromProps:_j,createRenderState:Ej}),GZ=Symbol.for("motionComponentSymbol");function Zu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function HZ(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Zu(n)&&(n.current=r))},[e])}const CS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KZ="framerAppearId",Ij="data-"+CS(KZ),Cj=S.createContext({});function WZ(t,e,n,r,s){var i,a;const{visualElement:u}=S.useContext(Wy),c=S.useContext(yj),h=S.useContext(Z1),m=S.useContext(gj).reducedMotion,g=S.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,E=S.useContext(Cj);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&QZ(g.current,n,s,E);const I=S.useRef(!1);S.useInsertionEffect(()=>{v&&I.current&&v.update(n,h)});const T=n[Ij],_=S.useRef(!!T&&!((i=window.MotionHandoffIsComplete)!=null&&i.call(window,T))&&((a=window.MotionHasOptimisedAnimation)==null?void 0:a.call(window,T)));return EX(()=>{v&&(I.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),_.current&&v.animationState&&v.animationState.animateChanges())}),S.useEffect(()=>{v&&(!_.current&&v.animationState&&v.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)==null||R.call(window,T)}),_.current=!1),v.enteringChildren=void 0)}),v}function QZ(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:u,layoutScroll:c,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Aj(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||u&&Zu(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:c,layoutRoot:h})}function Aj(t){if(t)return t.options.allowProjection!==!1?t.projection:Aj(t.parent)}function vw(t,{forwardMotionProps:e=!1}={},n,r){n&&SZ(n);const s=TS(t)?qZ:$Z;function i(u,c){let h;const m={...S.useContext(gj),...u,layoutId:YZ(u)},{isStatic:g}=m,v=IZ(u),E=s(u,g);if(!g&&J1){XZ();const I=JZ(m);h=I.MeasureLayout,v.visualElement=WZ(t,E,m,r,I.ProjectionNode)}return x.jsxs(Wy.Provider,{value:v,children:[h&&v.visualElement?x.jsx(h,{visualElement:v.visualElement,...m}):null,zZ(t,u,HZ(E,v.visualElement,c),E,g,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=S.forwardRef(i);return a[GZ]=t,a}function YZ({layoutId:t}){const e=S.useContext(_M).id;return e&&t!==void 0?e+"-"+t:t}function XZ(t,e){S.useContext(yj).strict}function JZ(t){const{drag:e,layout:n}=Ic;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function ZZ(t,e){if(typeof Proxy>"u")return vw;const n=new Map,r=(i,a)=>vw(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,vw(a,void 0,t,e)),n.get(a))})}function Rj({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function eee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function tee(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ww(t){return t===void 0||t===1}function Wb({scale:t,scaleX:e,scaleY:n}){return!ww(t)||!ww(e)||!ww(n)}function Ja(t){return Wb(t)||Nj(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Nj(t){return s2(t.x)||s2(t.y)}function s2(t){return t&&t!=="0%"}function Wg(t,e,n){const r=t-n,s=e*r;return n+s}function i2(t,e,n,r,s){return s!==void 0&&(t=Wg(t,s,r)),Wg(t,n,r)+e}function Qb(t,e=0,n=1,r,s){t.min=i2(t.min,e,n,r,s),t.max=i2(t.max,e,n,r,s)}function Pj(t,{x:e,y:n}){Qb(t.x,e.translate,e.scale,e.originPoint),Qb(t.y,n.translate,n.scale,n.originPoint)}const o2=.999999999999,a2=1.0000000000001;function nee(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let u=0;u<s;u++){i=n[u],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&tc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Pj(t,a)),r&&Ja(i.latestValues)&&tc(t,i.latestValues))}e.x<a2&&e.x>o2&&(e.x=1),e.y<a2&&e.y>o2&&(e.y=1)}function ec(t,e){t.min=t.min+e,t.max=t.max+e}function l2(t,e,n,r,s=.5){const i=It(t.min,t.max,s);Qb(t,e,n,i,r)}function tc(t,e){l2(t.x,e.x,e.scaleX,e.scale,e.originX),l2(t.y,e.y,e.scaleY,e.scale,e.originY)}function Dj(t,e){return Rj(tee(t.getBoundingClientRect(),e))}function ree(t,e,n){const r=Dj(t,n),{scroll:s}=e;return s&&(ec(r.x,s.offset.x),ec(r.y,s.offset.y)),r}const u2=()=>({translate:0,scale:1,origin:0,originPoint:0}),nc=()=>({x:u2(),y:u2()}),c2=()=>({min:0,max:0}),Kt=()=>({x:c2(),y:c2()}),Yb={current:null},Oj={current:!1};function see(){if(Oj.current=!0,!!J1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yb.current=t.matches;t.addEventListener("change",e),e()}else Yb.current=!1}const iee=new WeakMap;function oee(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Rn(s))t.addValue(r,s);else if(Rn(i))t.addValue(r,_c(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,_c(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const d2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=er.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,St.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=Yy(n),this.isVariantNode=wj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const E=g[v];c[v]!==void 0&&Rn(E)&&E.set(c[v])}}mount(e){var n;this.current=e,iee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),Oj.current||see(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yb.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ra(this.notifyUpdate),ra(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Uc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&St.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ic){const n=Ic[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<d2.length;r++){const s=d2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=oee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_c(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(IM(r)||AM(r))?r=parseFloat(r):!bZ(r)&&sa.test(n)&&(r=cj(e,n)),this.setBaseTarget(e,Rn(r)?r.get():r)),Rn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=_S(this.props,r,(n=this.presenceContext)==null?void 0:n.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Rn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new sS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){wS.render(this.render)}}class Mj extends aee{constructor(){super(...arguments),this.KeyframeResolver=aZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jj(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function lee(t){return window.getComputedStyle(t)}class uee extends Mj{constructor(){super(...arguments),this.type="html",this.renderInstance=jj}readValueFromInstance(e,n){var r;if(Uc.has(n))return(r=this.projection)!=null&&r.isProjecting?Bb(n):_J(e,n);{const s=lee(e),i=(aS(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Dj(e,n)}build(e,n,r){ES(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return IS(e,n,r)}}const Lj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cee(t,e,n,r){jj(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Lj.has(s)?s:CS(s),e.attrs[s])}class dee extends Mj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Uc.has(n)){const r=uj(n);return r&&r.default||0}return n=Lj.has(n)?n:CS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return _j(e,n,r)}build(e,n,r){Sj(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){cee(e,n,r,s)}mount(e){this.isSVGTag=kj(e.tagName),super.mount(e)}}const hee=(t,e)=>TS(t)?new dee(e):new uee(e,{allowProjection:t!==S.Fragment});function cc(t,e,n){const r=t.getProps();return _S(r,e,n!==void 0?n:r.custom,t)}const Xb=t=>Array.isArray(t);function fee(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_c(n))}function pee(t){return Xb(t)?t[t.length-1]||0:t}function mee(t,e){const n=cc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const u=pee(i[a]);fee(t,a,u)}}function gee(t){return!!(Rn(t)&&t.add)}function Jb(t,e){const n=t.getValue("willChange");if(gee(n))return n.add(e);if(!n&&zi.WillChange){const r=new zi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Fj(t){return t.props[Ij]}const yee=t=>t!==null;function vee(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(yee),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const wee={type:"spring",stiffness:500,damping:25,restSpeed:10},bee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xee={type:"keyframes",duration:.8},See={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Eee=(t,{keyframes:e})=>e.length>2?xee:Uc.has(t)?t.startsWith("scale")?bee(e[1]):wee:See;function kee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:u,from:c,elapsed:h,...m}){return!!Object.keys(m).length}const AS=(t,e,n,r={},s,i)=>a=>{const u=yS(r,t)||{},c=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Gs(c);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:s};kee(u)||Object.assign(m,Eee(t,m)),m.duration&&(m.duration=Gs(m.duration)),m.repeatDelay&&(m.repeatDelay=Gs(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Hb(m),m.delay===0&&(g=!0)),(zi.instantAnimations||zi.skipAnimations)&&(g=!0,Hb(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!i&&e.get()!==void 0){const v=vee(m.keyframes,u);if(v!==void 0){St.update(()=>{m.onUpdate(v),m.onComplete()});return}}return u.isSync?new mS(m):new QJ(m)};function Tee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Vj(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...u}=e;r&&(i=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const m in u){const g=t.getValue(m,t.latestValues[m]??null),v=u[m];if(v===void 0||h&&Tee(h,m))continue;const E={delay:n,...yS(i||{},m)},I=g.get();if(I!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===I&&!E.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const R=Fj(t);if(R){const P=window.MotionHandoffAnimation(R,m,St);P!==null&&(E.startTime=P,T=!0)}}Jb(t,m),g.start(AS(m,g,v,t.shouldReduceMotion&&oj.has(m)?{type:!1}:E,t,T));const _=g.animation;_&&c.push(_)}return a&&Promise.all(c).then(()=>{St.update(()=>{a&&mee(t,a)})}),c}function zj(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),a=t.size,u=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:u-i*r}function Zb(t,e,n={}){var r;const s=cc(t,e,n.type==="exit"?(r=t.presenceContext)==null?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(Vj(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=i;return _ee(t,e,h,m,g,v,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,m]=c==="beforeChildren"?[a,u]:[u,a];return h().then(()=>m())}else return Promise.all([a(),u(n.delay)])}function _ee(t,e,n=0,r=0,s=0,i=1,a){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(Zb(c,e,{...a,delay:n+(typeof r=="function"?0:r)+zj(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function Iee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Zb(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Zb(t,e,n);else{const s=typeof e=="function"?cc(t,e,n.custom):e;r=Promise.all(Vj(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Bj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Cee=SS.length;function Uj(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Uj(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Cee;n++){const r=SS[n],s=t.props[r];(rf(s)||s===!1)&&(e[r]=s)}return e}const Aee=[...xS].reverse(),Ree=xS.length;function Nee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Iee(t,n,r)))}function Pee(t){let e=Nee(t),n=h2(),r=!0;const s=c=>(h,m)=>{var g;const v=cc(t,m,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(v){const{transition:E,transitionEnd:I,...T}=v;h={...h,...T,...I}}return h};function i(c){e=c(t)}function a(c){const{props:h}=t,m=Uj(t.parent)||{},g=[],v=new Set;let E={},I=1/0;for(let _=0;_<Ree;_++){const R=Aee[_],P=n[R],M=h[R]!==void 0?h[R]:m[R],z=rf(M),U=R===c?P.isActive:null;U===!1&&(I=_);let H=M===m[R]&&M!==h[R]&&z;if(H&&r&&t.manuallyAnimateOnMount&&(H=!1),P.protectedKeys={...E},!P.isActive&&U===null||!M&&!P.prevProp||Qy(M)||typeof M=="boolean")continue;const D=Dee(P.prevProp,M);let C=D||R===c&&P.isActive&&!H&&z||_>I&&z,N=!1;const j=Array.isArray(M)?M:[M];let V=j.reduce(s(R),{});U===!1&&(V={});const{prevResolvedValues:$={}}=P,L={...$,...V},ke=ye=>{C=!0,v.has(ye)&&(N=!0,v.delete(ye)),P.needsAnimating[ye]=!0;const ve=t.getValue(ye);ve&&(ve.liveStyle=!1)};for(const ye in L){const ve=V[ye],W=$[ye];if(E.hasOwnProperty(ye))continue;let ne=!1;Xb(ve)&&Xb(W)?ne=!Bj(ve,W):ne=ve!==W,ne?ve!=null?ke(ye):v.add(ye):ve!==void 0&&v.has(ye)?ke(ye):P.protectedKeys[ye]=!0}P.prevProp=M,P.prevResolvedValues=V,P.isActive&&(E={...E,...V}),r&&t.blockInitialAnimation&&(C=!1);const Pe=H&&D;C&&(!Pe||N)&&g.push(...j.map(ye=>{const ve={type:R};if(typeof ye=="string"&&r&&!Pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,ne=cc(W,ye);if(W.enteringChildren&&ne){const{delayChildren:oe}=ne.transition||{};ve.delay=zj(W.enteringChildren,t,oe)}}return{animation:ye,options:ve}}))}if(v.size){const _={};if(typeof h.initial!="boolean"){const R=cc(t,Array.isArray(h.initial)?h.initial[0]:h.initial);R&&R.transition&&(_.transition=R.transition)}v.forEach(R=>{const P=t.getBaseTarget(R),M=t.getValue(R);M&&(M.liveStyle=!0),_[R]=P??null}),g.push({animation:_})}let T=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(g):Promise.resolve()}function u(c,h){var m;if(n[c].isActive===h)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(v=>{var E;return(E=v.animationState)==null?void 0:E.setActive(c,h)}),n[c].isActive=h;const g=a(c);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:a,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=h2()}}}function Dee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Bj(e,t):!1}function Ka(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function h2(){return{animate:Ka(!0),whileInView:Ka(),whileHover:Ka(),whileTap:Ka(),whileDrag:Ka(),whileFocus:Ka(),exit:Ka()}}class ua{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Oee extends ua{constructor(e){super(e),e.animationState||(e.animationState=Pee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Mee=0;class jee extends ua{constructor(){super(...arguments),this.id=Mee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Lee={animation:{Feature:Oee},exit:{Feature:jee}};function of(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Mf(t){return{point:{x:t.pageX,y:t.pageY}}}const Fee=t=>e=>bS(e)&&t(e,Mf(e));function _h(t,e,n,r){return of(t,e,Fee(n),r)}const $j=1e-4,Vee=1-$j,zee=1+$j,qj=.01,Bee=0-qj,Uee=0+qj;function Ln(t){return t.max-t.min}function $ee(t,e,n){return Math.abs(t-e)<=n}function f2(t,e,n,r=.5){t.origin=r,t.originPoint=It(e.min,e.max,t.origin),t.scale=Ln(n)/Ln(e),t.translate=It(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Vee&&t.scale<=zee||isNaN(t.scale))&&(t.scale=1),(t.translate>=Bee&&t.translate<=Uee||isNaN(t.translate))&&(t.translate=0)}function Ih(t,e,n,r){f2(t.x,e.x,n.x,r?r.originX:void 0),f2(t.y,e.y,n.y,r?r.originY:void 0)}function p2(t,e,n){t.min=n.min+e.min,t.max=t.min+Ln(e)}function qee(t,e,n){p2(t.x,e.x,n.x),p2(t.y,e.y,n.y)}function m2(t,e,n){t.min=e.min-n.min,t.max=t.min+Ln(e)}function Ch(t,e,n){m2(t.x,e.x,n.x),m2(t.y,e.y,n.y)}function Pr(t){return[t("x"),t("y")]}const Gj=({current:t})=>t?t.ownerDocument.defaultView:null,g2=(t,e)=>Math.abs(t-e);function Gee(t,e){const n=g2(t.x,e.x),r=g2(t.y,e.y);return Math.sqrt(n**2+r**2)}class Hj{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=xw(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,I=Gee(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!I)return;const{point:T}=v,{timestamp:_}=yn;this.history.push({...T,timestamp:_});const{onStart:R,onMove:P}=this.handlers;E||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,v)},this.handlePointerMove=(v,E)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=bw(E,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(v,E)=>{this.end();const{onEnd:I,onSessionEnd:T,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=xw(v.type==="pointercancel"?this.lastMoveEventInfo:bw(E,this.transformPagePoint),this.history);this.startEvent&&I&&I(v,R),T&&T(v,R)},!bS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const u=Mf(e),c=bw(u,this.transformPagePoint),{point:h}=c,{timestamp:m}=yn;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,xw(c,this.history)),this.removeListeners=Pf(_h(this.contextWindow,"pointermove",this.handlePointerMove),_h(this.contextWindow,"pointerup",this.handlePointerUp),_h(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ra(this.updatePoint)}}function bw(t,e){return e?{point:e(t.point)}:t}function y2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xw({point:t},e){return{point:t,delta:y2(t,Kj(e)),offset:y2(t,Hee(e)),velocity:Kee(e,.1)}}function Hee(t){return t[0]}function Kj(t){return t[t.length-1]}function Kee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Kj(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Gs(e)));)n--;if(!r)return{x:0,y:0};const i=Fr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Wee(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?It(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?It(n,t,r.max):Math.min(t,n)),t}function v2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Qee(t,{top:e,left:n,bottom:r,right:s}){return{x:v2(t.x,n,s),y:v2(t.y,e,r)}}function w2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Yee(t,e){return{x:w2(t.x,e.x),y:w2(t.y,e.y)}}function Xee(t,e){let n=.5;const r=Ln(t),s=Ln(e);return s>r?n=ef(e.min,e.max-r,t.min):r>s&&(n=ef(t.min,t.max-s,e.min)),Vi(0,1,n)}function Jee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ex=.35;function Zee(t=ex){return t===!1?t=0:t===!0&&(t=ex),{x:b2(t,"left","right"),y:b2(t,"top","bottom")}}function b2(t,e,n){return{min:x2(t,e),max:x2(t,n)}}function x2(t,e){return typeof t=="number"?t:t[e]||0}const ete=new WeakMap;class tte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mf(g).point)},a=(g,v)=>{const{drag:E,dragPropagation:I,onDragStart:T}=this.getProps();if(E&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hZ(E),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pr(R=>{let P=this.getAxisMotionValue(R).get()||0;if(Hs.test(P)){const{projection:M}=this.visualElement;if(M&&M.layout){const z=M.layout.layoutBox[R];z&&(P=Ln(z)*(parseFloat(P)/100))}}this.originPoint[R]=P}),T&&St.postRender(()=>T(g,v)),Jb(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:E,dragDirectionLock:I,onDirectionLock:T,onDrag:_}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:R}=v;if(I&&this.currentDirection===null){this.currentDirection=nte(R),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),_&&_(g,v)},c=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Pr(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Hj(e,{onSessionStart:i,onStart:a,onMove:u,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:Gj(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&St.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!km(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Wee(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,i=this.constraints;n&&Zu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Qee(s.layoutBox,n):this.constraints=!1,this.elastic=Zee(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Pr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Jee(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zu(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=ree(r,s.root,this.visualElement.getTransformPagePoint());let a=Yee(s.layout.layoutBox,i);if(n){const u=n(eee(a));this.hasMutatedConstraints=!!u,u&&(a=Rj(u))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},h=Pr(m=>{if(!km(m,n,this.currentDirection))return;let g=c&&c[m]||{};a&&(g={min:0,max:0});const v=s?200:1e6,E=s?40:1e7,I={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(m,I)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Jb(this.visualElement,e),r.start(AS(e,r,0,n,this.visualElement,!1))}stopAnimation(){Pr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Pr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Pr(n=>{const{drag:r}=this.getProps();if(!km(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:u}=s.layout.layoutBox[n];i.set(e[n]-It(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Pr(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const c=u.get();s[a]=Xee({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Pr(a=>{if(!km(a,e,null))return;const u=this.getAxisMotionValue(a),{min:c,max:h}=this.constraints[a];u.set(It(c,h,s[a]))})}addListeners(){if(!this.visualElement.current)return;ete.set(this.visualElement,this);const e=this.visualElement.current,n=_h(e,"pointerdown",c=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Zu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),St.read(r);const a=of(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(Pr(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=c[m].translate,g.set(g.get()+c[m].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=ex,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:u}}}function km(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function nte(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class rte extends ua{constructor(e){super(e),this.removeGroupControls=Br,this.removeListeners=Br,this.controls=new tte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Br}unmount(){this.removeGroupControls(),this.removeListeners()}}const S2=t=>(e,n)=>{t&&St.postRender(()=>t(e,n))};class ste extends ua{constructor(){super(...arguments),this.removePointerDownListener=Br}onPointerDown(e){this.session=new Hj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Gj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:S2(e),onStart:S2(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&St.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=_h(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function E2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=E2(t,e.target.x),r=E2(t,e.target.y);return`${n}% ${r}%`}},ite={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=sa.parse(t);if(s.length>5)return r;const i=sa.createTransformer(t),a=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=u,s[1+a]/=c;const h=It(u,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=h),typeof s[3+a]=="number"&&(s[3+a]/=h),i(s)}};let Sw=!1;class ote extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;CZ(ate),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Sw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Zm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,Sw=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||St.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),wS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Sw=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Wj(t){const[e,n]=xZ(),r=S.useContext(_M);return x.jsx(ote,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(Cj),isPresent:e,safeToRemove:n})}const ate={borderRadius:{...sh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sh,borderTopRightRadius:sh,borderBottomLeftRadius:sh,borderBottomRightRadius:sh,boxShadow:ite};function lte(t,e,n){const r=Rn(t)?t:_c(t);return r.start(AS("",r,e,n)),r.animation}const ute=(t,e)=>t.depth-e.depth;class cte{constructor(){this.children=[],this.isDirty=!1}add(e){eS(this.children,e),this.isDirty=!0}remove(e){tS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ute),this.isDirty=!1,this.children.forEach(e)}}function dte(t,e){const n=er.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ra(r),t(i-e))};return St.setup(r,!0),()=>ra(r)}const Qj=["TopLeft","TopRight","BottomLeft","BottomRight"],hte=Qj.length,k2=t=>typeof t=="string"?parseFloat(t):t,T2=t=>typeof t=="number"||je.test(t);function fte(t,e,n,r,s,i){s?(t.opacity=It(0,n.opacity??1,pte(r)),t.opacityExit=It(e.opacity??1,0,mte(r))):i&&(t.opacity=It(e.opacity??1,n.opacity??1,r));for(let a=0;a<hte;a++){const u=`border${Qj[a]}Radius`;let c=_2(e,u),h=_2(n,u);c===void 0&&h===void 0||(c||(c=0),h||(h=0),c===0||h===0||T2(c)===T2(h)?(t[u]=Math.max(It(k2(c),k2(h),r),0),(Hs.test(h)||Hs.test(c))&&(t[u]+="%")):t[u]=h)}(e.rotate||n.rotate)&&(t.rotate=It(e.rotate||0,n.rotate||0,r))}function _2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pte=Yj(0,.5,LM),mte=Yj(.5,.95,Br);function Yj(t,e,n){return r=>r<t?0:r>e?1:n(ef(t,e,r))}function I2(t,e){t.min=e.min,t.max=e.max}function Rr(t,e){I2(t.x,e.x),I2(t.y,e.y)}function C2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function A2(t,e,n,r,s){return t-=e,t=Wg(t,1/n,r),s!==void 0&&(t=Wg(t,1/s,r)),t}function gte(t,e=0,n=1,r=.5,s,i=t,a=t){if(Hs.test(e)&&(e=parseFloat(e),e=It(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=It(i.min,i.max,r);t===i&&(u-=e),t.min=A2(t.min,e,n,u,s),t.max=A2(t.max,e,n,u,s)}function R2(t,e,[n,r,s],i,a){gte(t,e[n],e[r],e[s],e.scale,i,a)}const yte=["x","scaleX","originX"],vte=["y","scaleY","originY"];function N2(t,e,n,r){R2(t.x,e,yte,n?n.x:void 0,r?r.x:void 0),R2(t.y,e,vte,n?n.y:void 0,r?r.y:void 0)}function P2(t){return t.translate===0&&t.scale===1}function Xj(t){return P2(t.x)&&P2(t.y)}function D2(t,e){return t.min===e.min&&t.max===e.max}function wte(t,e){return D2(t.x,e.x)&&D2(t.y,e.y)}function O2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Jj(t,e){return O2(t.x,e.x)&&O2(t.y,e.y)}function M2(t){return Ln(t.x)/Ln(t.y)}function j2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class bte{constructor(){this.members=[]}add(e){eS(this.members,e),e.scheduleRender()}remove(e){if(tS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xte(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:v,skewX:E,skewY:I}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),E&&(r+=`skewX(${E}deg) `),I&&(r+=`skewY(${I}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const Ew=["","X","Y","Z"],Ste=1e3;let Ete=0;function kw(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Zj(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Fj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Zj(r)}function e4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},a=e==null?void 0:e()){this.id=Ete++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_te),this.nodes.forEach(Rte),this.nodes.forEach(Nte),this.nodes.forEach(Ite)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new cte)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new sS),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const u=this.eventHandlers.get(i);u&&u.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=mj(i)&&!vZ(i),this.instance=i;const{layoutId:a,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||a)&&(this.isLayoutDirty=!0),t){let h,m=0;const g=()=>this.root.updateBlockedByResize=!1;St.read(()=>{m=window.innerWidth}),t(i,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,h&&h(),h=dte(g,250),Zm.hasAnimatedSinceResize&&(Zm.hasAnimatedSinceResize=!1,this.nodes.forEach(V2)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||c.getDefaultTransition()||jte,{onLayoutAnimationStart:I,onLayoutAnimationComplete:T}=c.getProps(),_=!this.targetLayout||!Jj(this.targetLayout,v),R=!m&&g;if(this.options.layoutRoot||this.resumeFrom||R||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...yS(E,"layout"),onPlay:I,onComplete:T};(c.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(h,R)}else m||V2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ra(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pte),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Zj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(L2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(F2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ate),this.nodes.forEach(kte),this.nodes.forEach(Tte)):this.nodes.forEach(F2),this.clearAllSnapshots();const i=er.now();yn.delta=Vi(0,1e3/60,i-yn.timestamp),yn.timestamp=i,yn.isProcessing=!0,hw.update.process(yn),hw.preRender.process(yn),hw.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Cte),this.sharedNodes.forEach(Dte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ln(this.snapshot.measuredBox.x)&&!Ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Xj(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;i&&this.instance&&(a||Ja(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return i&&(u=this.removeTransform(u)),Lte(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return Kt();const u=a.measureViewportBox();if(!((i=this.scroll)!=null&&i.wasRoot||this.path.some(Fte))){const{scroll:c}=this.root;c&&(ec(u.x,c.offset.x),ec(u.y,c.offset.y))}return u}removeElementScroll(i){var a;const u=Kt();if(Rr(u,i),(a=this.scroll)!=null&&a.wasRoot)return u;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Rr(u,i),ec(u.x,m.offset.x),ec(u.y,m.offset.y))}return u}applyTransform(i,a=!1){const u=Kt();Rr(u,i);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&tc(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ja(h.latestValues)&&tc(u,h.latestValues)}return Ja(this.latestValues)&&tc(u,this.latestValues),u}removeTransform(i){const a=Kt();Rr(a,i);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Ja(c.latestValues))continue;Wb(c.latestValues)&&c.updateSnapshot();const h=Kt(),m=c.measurePageBox();Rr(h,m),N2(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Ja(this.latestValues)&&N2(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(a=this.parent)!=null&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=yn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),Ch(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kt(),this.targetWithTransforms=Kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rr(this.target,this.layout.layoutBox),Pj(this.target,this.targetDelta)):Rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),Ch(this.relativeTargetOrigin,this.target,g.target),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Wb(this.parent.latestValues)||Nj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(i=this.parent)!=null&&i.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(c=!1),c)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Rr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;nee(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Kt());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(C2(this.prevProjectionDelta.x,this.projectionDelta.x),C2(this.prevProjectionDelta.y,this.projectionDelta.y)),Ih(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!j2(this.projectionDelta.x,this.prevProjectionDelta.x)||!j2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),i){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nc(),this.projectionDelta=nc(),this.projectionDeltaWithTransform=nc()}setAnimationOrigin(i,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},m=nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Kt(),v=u?u.source:void 0,E=this.layout?this.layout.source:void 0,I=v!==E,T=this.getStack(),_=!T||T.members.length<=1,R=!!(I&&!_&&this.options.crossfade===!0&&!this.path.some(Mte));this.animationProgress=0;let P;this.mixTargetDelta=M=>{const z=M/1e3;z2(m.x,i.x,z),z2(m.y,i.y,z),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ch(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ote(this.relativeTarget,this.relativeTargetOrigin,g,z),P&&wte(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Kt()),Rr(P,this.relativeTarget)),I&&(this.animationValues=h,fte(h,c,this.latestValues,z,R,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var a,u,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(ra(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{Zm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_c(0)),this.currentAnimation=lte(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),i.onUpdate&&i.onUpdate(h)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ste),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=i;if(!(!a||!u||!c)){if(this!==i&&this.layout&&c&&t4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Kt();const m=Ln(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+m;const g=Ln(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+g}Rr(a,u),tc(a,h),Ih(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new bte),this.sharedNodes.get(i).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())==null?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())==null?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const c={};u.z&&kw("z",i,c,this.animationValues);for(let h=0;h<Ew.length;h++)kw(`rotate${Ew[h]}`,i,c,this.animationValues),kw(`skew${Ew[h]}`,i,c,this.animationValues);i.render();for(const h in c)i.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);i.scheduleRender()}applyProjectionStyles(i,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=Jm(a==null?void 0:a.pointerEvents)||"",i.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=Jm(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ja(this.latestValues)&&(i.transform=u?u({},""):"none",this.hasProjected=!1);return}i.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let m=xte(this.projectionDeltaWithTransform,this.treeScale,h);u&&(m=u(h,m)),i.transform=m;const{x:g,y:v}=this.projectionDelta;i.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,c.animationValues?i.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:i.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const E in sf){if(h[E]===void 0)continue;const{correct:I,applyTo:T,isCSSVariable:_}=sf[E],R=m==="none"?h[E]:I(h[E],c);if(T){const P=T.length;for(let M=0;M<P;M++)i[T[M]]=R}else _?this.options.visualElement.renderState.vars[E]=R:i[E]=R}this.options.layoutId&&(i.pointerEvents=c===this?Jm(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(L2),this.root.sharedNodes.clear()}}}function kte(t){t.updateLayout()}function Tte(t){var e;const n=((e=t.resumeFrom)==null?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?Pr(g=>{const v=a?n.measuredBox[g]:n.layoutBox[g],E=Ln(v);v.min=r[g].min,v.max=v.min+E}):t4(i,n.layoutBox,r)&&Pr(g=>{const v=a?n.measuredBox[g]:n.layoutBox[g],E=Ln(r[g]);v.max=v.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+E)});const u=nc();Ih(u,r,n.layoutBox);const c=nc();a?Ih(c,t.applyTransform(s,!0),n.measuredBox):Ih(c,r,n.layoutBox);const h=!Xj(u);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:E}=g;if(v&&E){const I=Kt();Ch(I,n.layoutBox,v.layoutBox);const T=Kt();Ch(T,r,E.layoutBox),Jj(I,T)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=I,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function _te(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ite(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Cte(t){t.clearSnapshot()}function L2(t){t.clearMeasurements()}function F2(t){t.isLayoutDirty=!1}function Ate(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function V2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Rte(t){t.resolveTargetDelta()}function Nte(t){t.calcProjection()}function Pte(t){t.resetSkewAndRotation()}function Dte(t){t.removeLeadSnapshot()}function z2(t,e,n){t.translate=It(e.translate,0,n),t.scale=It(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function B2(t,e,n,r){t.min=It(e.min,n.min,r),t.max=It(e.max,n.max,r)}function Ote(t,e,n,r){B2(t.x,e.x,n.x,r),B2(t.y,e.y,n.y,r)}function Mte(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jte={duration:.45,ease:[.4,0,.1,1]},U2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$2=U2("applewebkit/")&&!U2("chrome/")?Math.round:Br;function q2(t){t.min=$2(t.min),t.max=$2(t.max)}function Lte(t){q2(t.x),q2(t.y)}function t4(t,e,n){return t==="position"||t==="preserve-aspect"&&!$ee(M2(e),M2(n),.2)}function Fte(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Vte=e4({attachResizeListener:(t,e)=>of(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tw={current:void 0},n4=e4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tw.current){const t=new Vte({});t.mount(window),t.setOptions({layoutScroll:!0}),Tw.current=t}return Tw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zte={pan:{Feature:ste},drag:{Feature:rte,ProjectionNode:n4,MeasureLayout:Wj}};function G2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&St.postRender(()=>i(e,Mf(e)))}class Bte extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=fZ(e,(n,r)=>(G2(this.node,r,"Start"),s=>G2(this.node,s,"End"))))}unmount(){}}class Ute extends ua{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pf(of(this.node.current,"focus",()=>this.onFocus()),of(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function H2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&St.postRender(()=>i(e,Mf(e)))}class $te extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=yZ(e,(n,r)=>(H2(this.node,r,"Start"),(s,{success:i})=>H2(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tx=new WeakMap,_w=new WeakMap,qte=t=>{const e=tx.get(t.target);e&&e(t)},Gte=t=>{t.forEach(qte)};function Hte({root:t,...e}){const n=t||document;_w.has(n)||_w.set(n,{});const r=_w.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Gte,{root:t,...e})),r[s]}function Kte(t,e,n){const r=Hte(e);return tx.set(t,n),r.observe(t),()=>{tx.delete(t),r.unobserve(t)}}const Wte={some:0,all:1};class Qte extends ua{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Wte[s]},u=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=h?m:g;v&&v(c)};return Kte(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Yte(e,n))&&this.startObserver()}unmount(){}}function Yte({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Xte={inView:{Feature:Qte},tap:{Feature:$te},focus:{Feature:Ute},hover:{Feature:Bte}},Jte={layout:{ProjectionNode:n4,MeasureLayout:Wj}},Zte={...Lee,...Xte,...zte,...Jte},Ht=ZZ(Zte,hee);function nx(){const t=E1(),{user:e,loading:n}=j1(),[r,s]=rn.useState(!1);S.useEffect(()=>{!n&&e&&t(nt("Home"))},[e,n,t]);const i=()=>{e?t(nt("Home")):s(!0)};if(n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const a=[{icon:oq,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:$m,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:wb,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:Y0,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:bb,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:bq,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],u=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],c=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],h=[{icon:wb,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:Y0,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:bb,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:WI,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],m=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx(Ht.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),x.jsx(Ht.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),x.jsx(Ht.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),x.jsx(Ht.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),x.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Ht.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse overflow-hidden",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-24 h-24 object-contain transform -rotate-12"})}),x.jsx(Ht.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),x.jsx(Ht.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),x.jsx(Ht.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),x.jsx(Ht.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),x.jsxs(Ht.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[x.jsxs(Dr,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 text-lg font-bold shadow-xl border-0 animate-pulse",children:[x.jsx(H$,{className:"w-5 h-5 mr-2"}),"7-Day FREE Trial - All Features!"]}),x.jsxs(Dr,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(WI,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),x.jsxs(Dr,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(fD,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),x.jsxs(Ht.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[x.jsxs($s,{onClick:i,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[x.jsx(yq,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),x.jsxs($s,{onClick:()=>{var g;return(g=document.getElementById("features"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white bg-transparent hover:bg-white hover:text-purple-600 shadow-xl transition-all",children:["See What's Inside",x.jsx(P$,{className:"w-6 h-6 ml-2"})]})]}),x.jsx(Ht.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:h.map((g,v)=>{const E=g.icon;return x.jsxs(Ht.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[x.jsx(E,{className:`w-10 h-10 mx-auto mb-3 ${g.color}`}),x.jsx("div",{className:"text-3xl font-black text-gray-800",children:g.value}),x.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:g.label})]},v)})})]})}),x.jsxs("div",{style:{background:"linear-gradient(90deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",padding:"14px 0 12px 0",textAlign:"center",fontWeight:"bold",fontSize:"1.1rem",letterSpacing:"0.01em",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)",borderBottom:"2px solid #fff",borderRadius:8,margin:"0 auto 24px auto",maxWidth:900},className:"mx-auto mb-8",children:[x.jsx("span",{role:"img","aria-label":"lightbulb",style:{marginRight:8},children:""}),"Best Experience: ",x.jsx("span",{style:{fontWeight:700},children:"Math Adventure"})," works best on ",x.jsx("span",{style:{textDecoration:"underline"},children:"tablets"})," and ",x.jsx("span",{style:{textDecoration:"underline"},children:"desktop computers"})," for optimal gameplay and features."]}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),x.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:m.map((g,v)=>x.jsxs(Ht.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[x.jsx("div",{className:"text-7xl mb-4",children:g.emoji}),x.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:g.name}),x.jsx("p",{className:"text-gray-700 font-semibold",children:g.desc})]},v))}),x.jsxs("div",{className:"mb-16",children:[x.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:u.map((g,v)=>x.jsxs(Ht.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[x.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),x.jsx("div",{className:"font-bold text-sm text-gray-800",children:g.name}),x.jsx(Dr,{className:"mt-2 bg-purple-500 text-white text-xs",children:g.grade})]},v))})]})]})}),x.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((g,v)=>{const E=g.icon;return x.jsxs(Ht.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[x.jsxs("div",{className:`h-32 bg-gradient-to-br ${g.gradient} flex items-center justify-center relative`,children:[x.jsx("div",{className:"text-7xl",children:g.emoji}),x.jsx("div",{className:"absolute top-3 right-3",children:x.jsx(E,{className:"w-10 h-10 text-white opacity-50"})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:g.title}),x.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:g.description})]})]},v)})})]})}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsxs(Ht.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),x.jsxs(Ht.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),x.jsxs(Ht.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:c.map((g,v)=>x.jsxs(Ht.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[x.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(g.rating)].map((E,I)=>x.jsx(Y0,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},I))}),x.jsx("div",{className:"text-6xl mb-4",children:g.emoji}),x.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',g.text,'"']}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-lg text-gray-800",children:g.author}),x.jsx("p",{className:"text-sm text-gray-600 font-bold",children:g.role})]})]},v))})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[x.jsx(Ht.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),x.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),x.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),x.jsxs($s,{onClick:i,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[x.jsx(mq,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),x.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),x.jsx("div",{className:"bg-gray-900 text-white py-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[x.jsx("div",{className:"mb-4 flex items-center justify-center",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-16 h-16 object-contain"})}),x.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),x.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),x.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[x.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:""}),x.jsx(AD,{onSuccess:()=>t(nt("Home"))})]})})]})}const r4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./Home-B1e5oU6L-BnLx-1kh-B_y-JVsf.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12,13,14,15,16])),Lt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Vt([4,5,6,7,8,9,10,11,12,13,14,15,16]))),s4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./Game-BSxN8OV2-DCbKaoIo-CoKI_H68.js"),__vite__mapDeps([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Lt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Vt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7]))),i4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./Progress-CJyc2nxx-CCph28do-Dvk4WEI3.js"),__vite__mapDeps([27,7,5,9,28,10,29])),Lt([27,7,5,9,28,10,29])),Vt([27,7,5,9,28,10,29]))),o4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2.js"),__vite__mapDeps([30,18,31,32,33,34,14,0,1,35,23])),Lt([30,18,31,32,33,34,14,0,1,35,23])),Vt([30,18,31,32,33,34,14,0,1,35,23]))),a4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm.js"),__vite__mapDeps([36,18,1,19,20,10,37,24,26,5,7])),Lt([36,18,1,19,20,10,37,24,26,5,7])),Vt([36,18,1,19,20,10,37,24,26,5,7]))),l4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858.js"),__vite__mapDeps([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Lt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Vt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25]))),u4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu.js"),__vite__mapDeps([45,18,32,0,1,14,29,25,16,7])),Lt([45,18,32,0,1,14,29,25,16,7])),Vt([45,18,32,0,1,14,29,25,16,7]))),c4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md.js"),__vite__mapDeps([46,18,32,47,9,7,12,10,37,44])),Lt([46,18,32,47,9,7,12,10,37,44])),Vt([46,18,32,47,9,7,12,10,37,44]))),d4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956.js"),__vite__mapDeps([48,18,1,9,10])),Lt([48,18,1,9,10])),Vt([48,18,1,9,10]))),h4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H.js"),__vite__mapDeps([49,18,6,23])),Lt([49,18,6,23])),Vt([49,18,6,23]))),f4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa.js"),__vite__mapDeps([50,51,23,3,8])),Lt([50,51,23,3,8])),Vt([50,51,23,3,8]))),p4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW.js"),__vite__mapDeps([52,51])),Lt([52,51])),Vt([52,51]))),m4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q.js"),__vite__mapDeps([53,18,39,43,15,42])),Lt([53,18,39,43,15,42])),Vt([53,18,39,43,15,42]))),g4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT.js"),__vite__mapDeps([54,18,40,41,34,26,16,12,13,43,21,3,55])),Lt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Vt([54,18,40,41,34,26,16,12,13,43,21,3,55]))),y4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./Settings-DBhk2Jxw-eoqk1yaj-CaU4638V.js"),__vite__mapDeps([56,41,20,16,43,10,12,13,55,21,23,42])),Lt([56,41,20,16,43,10,12,13,55,21,23,42])),Vt([56,41,20,16,43,10,12,13,55,21,23,42]))),v4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn.js"),__vite__mapDeps([57,23,14])),Lt([57,23,14])),Vt([57,23,14]))),w4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq.js"),__vite__mapDeps([58,32,10,22,15,7,24,1,9,28,25,14,11])),Lt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Vt([58,32,10,22,15,7,24,1,9,28,25,14,11]))),b4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf.js"),__vite__mapDeps([59,31,47,23])),Lt([59,31,47,23])),Vt([59,31,47,23]))),x4=S.lazy(()=>zt(()=>Ft(()=>jt(()=>import("./Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf.js"),__vite__mapDeps([60,51])),Lt([60,51])),Vt([60,51]))),K2={Home:r4,Game:s4,Progress:i4,Avatar:o4,DailyChallenge:a4,ParentPortal:l4,Shop:u4,Leaderboards:c4,TeamChallenges:d4,Subscription:h4,GenerateIcons:f4,TestIconGeneration:p4,Landing:nx,Messages:m4,ColorByNumbers:g4,Settings:y4,PrivacyPolicy:v4,AITutor:w4,AdminTestAccount:b4,Subscribe:x4};function ene(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(K2).find(n=>n.toLowerCase()===e.toLowerCase())||Object.keys(K2)[0]}const tne=()=>x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})});function nne(){const t=Hi(),e=ene(t.pathname);return x.jsx(mX,{currentPageName:e,children:x.jsx(Qm,{children:x.jsx(S.Suspense,{fallback:x.jsx(tne,{}),children:x.jsxs(c7,{children:[x.jsx(Pt,{path:"/",element:x.jsx(nx,{})}),x.jsx(Pt,{path:"/Home",element:x.jsx(r4,{})}),x.jsx(Pt,{path:"/Game",element:x.jsx(s4,{})}),x.jsx(Pt,{path:"/Progress",element:x.jsx(i4,{})}),x.jsx(Pt,{path:"/Avatar",element:x.jsx(o4,{})}),x.jsx(Pt,{path:"/DailyChallenge",element:x.jsx(a4,{})}),x.jsx(Pt,{path:"/ParentPortal",element:x.jsx(l4,{})}),x.jsx(Pt,{path:"/Shop",element:x.jsx(u4,{})}),x.jsx(Pt,{path:"/Leaderboards",element:x.jsx(c4,{})}),x.jsx(Pt,{path:"/TeamChallenges",element:x.jsx(d4,{})}),x.jsx(Pt,{path:"/Subscription",element:x.jsx(h4,{})}),x.jsx(Pt,{path:"/GenerateIcons",element:x.jsx(f4,{})}),x.jsx(Pt,{path:"/TestIconGeneration",element:x.jsx(p4,{})}),x.jsx(Pt,{path:"/Landing",element:x.jsx(nx,{})}),x.jsx(Pt,{path:"/Messages",element:x.jsx(m4,{})}),x.jsx(Pt,{path:"/ColorByNumbers",element:x.jsx(g4,{})}),x.jsx(Pt,{path:"/Settings",element:x.jsx(y4,{})}),x.jsx(Pt,{path:"/PrivacyPolicy",element:x.jsx(v4,{})}),x.jsx(Pt,{path:"/AITutor",element:x.jsx(w4,{})}),x.jsx(Pt,{path:"/AdminTestAccount",element:x.jsx(b4,{})}),x.jsx(Pt,{path:"/Subscribe",element:x.jsx(x4,{})})]})})})})}function rne(){return x.jsx(D7,{children:x.jsx(nne,{})})}const sne=20,ine=1e6,Ci={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Iw=0;function one(){return Iw=(Iw+1)%Number.MAX_VALUE,Iw.toString()}const Cw=new Map,W2=t=>{if(Cw.has(t))return;const e=setTimeout(()=>{Cw.delete(t),Ah({type:Ci.REMOVE_TOAST,toastId:t})},ine);Cw.set(t,e)},ane=(t,e)=>{switch(e.type){case Ci.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,sne)};case Ci.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Ci.DISMISS_TOAST:{const{toastId:n}=e;return n?W2(n):t.toasts.forEach(r=>{W2(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Ci.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},eg=[];let tg={toasts:[]};function Ah(t){tg=ane(tg,t),eg.forEach(e=>{e(tg)})}function lne({...t}){const e=one(),n=s=>Ah({type:Ci.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>Ah({type:Ci.DISMISS_TOAST,toastId:e});return Ah({type:Ci.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function une(){const[t,e]=S.useState(tg);return S.useEffect(()=>(eg.push(e),()=>{const n=eg.indexOf(e);n>-1&&eg.splice(n,1)}),[t]),{...t,toast:lne,dismiss:n=>Ah({type:Ci.DISMISS_TOAST,toastId:n})}}const S4=S.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));S4.displayName="ToastProvider";const E4=S.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));E4.displayName="ToastViewport";const cne=Ly("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),k4=S.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,className:wt(cne({variant:e}),t),...n}));k4.displayName="Toast";const dne=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));dne.displayName="ToastAction";const T4=S.forwardRef(({className:t,...e},n)=>x.jsx("button",{ref:n,className:wt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(D1,{className:"h-4 w-4"})}));T4.displayName="ToastClose";const _4=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm font-semibold",t),...e}));_4.displayName="ToastTitle";const I4=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm opacity-90",t),...e}));I4.displayName="ToastDescription";function hne(){const{toasts:t}=une();return x.jsxs(S4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(k4,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(_4,{children:n}),r&&x.jsx(I4,{children:r})]}),s,x.jsx(T4,{})]},e)}),x.jsx(E4,{})]})}function fne(){return x.jsxs(x.Fragment,{children:[x.jsx(rne,{}),x.jsx(hne,{})]})}const pne=new f$({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});QL.createRoot(document.getElementById("root")).render(x.jsx(m$,{client:pne,children:x.jsx(RG,{children:x.jsx(fne,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{bne as $,DD as A,bq as B,H$ as C,F$ as D,S as E,wt as F,W0 as G,Y0 as H,AD as I,KI as J,J$ as K,Sy as L,j1 as M,PD as N,z$ as O,D1 as P,us as Q,Ob as R,_M as S,as as T,$s as U,Lr as V,Pn as W,Ye as X,Z1 as Y,nT as Z,ls as _,I$ as a,Ll as a$,_ne as a0,E1 as a1,AG as a2,yne as a3,qI as a4,QI as a5,P$ as a6,W$ as a7,q$ as a8,wne as a9,m1 as aA,gne as aB,Ny as aC,WI as aD,XI as aE,hs as aF,Rl as aG,mD as aH,IK as aI,sx as aJ,cP as aK,une as aL,uY as aM,YY as aN,Pne as aO,Ane as aP,vne as aQ,Sne as aR,Tne as aS,Rne as aT,Nne as aU,Ine as aV,uW as aW,_O as aX,iH as aY,BD as aZ,Dne as a_,mm as aa,Q0 as ab,bn as ac,kne as ad,Cne as ae,X0 as af,qm as ag,Ry as ah,Js as ai,_f as aj,nO as ak,Ib as al,OD as am,OK as an,nr as ao,MK as ap,Bn as aq,et as ar,Cf as as,dO as at,VD as au,jK as av,LK as aw,Ene as ax,JI as ay,Zh as az,xne as b,LD as b0,jD as b1,U$ as b2,ea as b3,C1 as b4,ji as b5,Jn as b6,J7 as b7,Tf as b8,fb as b9,Kh as ba,c$ as bb,HI as bc,mne as bd,fO as be,JK as bf,ZK as bg,dG as bh,Ly as bi,bb as c,$m as d,wb as e,gj as f,xZ as g,gX as h,ol as i,Dr as j,dX as k,ft as l,bX as m,nt as n,tq as o,O$ as p,Ht as q,fD as r,uZ as s,yX as t,p$ as u,EX as v,vX as w,x,SX as y,rn as z};
