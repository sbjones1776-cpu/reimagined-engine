const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0-.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const BL="modulepreload",UL=function(t){return"/"+t},$k={},Ot=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let a=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=a(n.map(h=>{if(h=UL(h),h in $k)return;$k[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":BL,p||(v.as="script"),v.crossOrigin="",v.href=h,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((E,I)=>{v.addEventListener("load",E),v.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return s.then(a=>{for(const u of a||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},Lt=(t,e=Lt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV-.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV-.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5-.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const zL="modulepreload",$L=function(t){return"/"+t},qk={},Vt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=$L(c),c in qk)return;qk[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":zL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,E)=>{g.addEventListener("load",v),g.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Ft=(t,e=Ft,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm-.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00-.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const qL="modulepreload",HL=function(t){return"/"+t},Hk={},Bt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=HL(c),c in Hk)return;Hk[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":qL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,E)=>{g.addEventListener("load",v),g.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Ut=(t,e=Ut,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ.js","assets/progress-DswiN-jt-CRkTvpyk.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx.js","assets/download-k8BXtbsE-hJBy54oi.js","assets/Home-B1e5oU6L-BnLx-1kh.js","assets/flame-Z4NDYWf0-CPLPmaZ3.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v.js","assets/zap-BUGd4PS--D5Rx8Je6.js","assets/external-link-B3vh6vLr-IAJFuuQW.js","assets/trending-up-DOxCo9I6-CjyZKRpy.js","assets/target-1p2ICMDN-CvDzxGjB.js","assets/book-open-CsZLkRie-CnloTbZU.js","assets/plus-CzE6Y-vE-CTS6AMhf.js","assets/minus-CxnUEU8f-CdSPzO8E.js","assets/lock-DVJmOJtR-CPCpectf.js","assets/circle-alert-D0KxAb-N-CBSI-qzf.js","assets/palette-C1tdbQoO-D9zv_SnR.js","assets/Game-BSxN8OV2-DCbKaoIo.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N.js","assets/trending-down-CtEqn-BB-zOpygq96.js","assets/triangle-alert-BF04o9wv-5R0uES8i.js","assets/QuestionGenerator-z-c728t7-CSzYVewV.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH.js","assets/arrow-left-8gFWt4dJ-CSNboBK9.js","assets/Progress-CJyc2nxx-CCph28do.js","assets/LineChart-Boznw0oC-BjVvaeYB.js","assets/gift-gU3fLUyU-xa62twJ2.js","assets/Avatar-DWsPiGGF-BsRh6I0m.js","assets/label-ClTmKTiT-BGzEp_4m.js","assets/tabs-BCUfDdd3-DRpA79_-.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T.js","assets/index-DytiPzxp-BK84tApl.js","assets/save-WpcaPzdX-CJl6cnmk.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE.js","assets/medal-iK-ypg-g-C4SGU5mg.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm.js","assets/textarea-CqrSSpqj-CdkJNOEe.js","assets/select-CEEjSQMd-D2Q8_Gex.js","assets/index-K24GeIQO-pPWQlksM.js","assets/trash-2-jwsEREBw-DdJfLY0z.js","assets/info-BwmiXNr9-k9-UA3eH.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh.js","assets/Shop-CVZgRxJn-CVz_4LS0.js","assets/Leaderboards-Bm79OtXC-B_odZ22w.js","assets/user-plus-DvDth6Co-mjoHpJFL.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz.js","assets/GenerateIcons-irEsrbiy-D96HRozy.js","assets/loader-circle-BANzzYJc-B3uLjLZr.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD.js","assets/Messages-BRMZI1jn-BJW4UB3P.js","assets/ColorByNumbers-JzUc735X-263wB9fx.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo.js","assets/Settings-DBhk2Jxw-eoqk1yaj.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ.js","assets/AITutor-CiJvOfzv-b-ne1DOj.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC.js","assets/Subscribe-D5mtZK-4-DoW00_oc.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const KL="modulepreload",GL=function(t){return"/"+t},Kk={},zt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=GL(c),c in Kk)return;Kk[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":KL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,E)=>{g.addEventListener("load",v),g.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},$t=(t,e=$t,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq.js","assets/progress-DswiN-jt.js","assets/InstallPrompt-CYulZlIm.js","assets/download-k8BXtbsE.js","assets/Home-B1e5oU6L.js","assets/flame-Z4NDYWf0.js","assets/AppTrialPromo-fh-8uCNN.js","assets/zap-BUGd4PS-.js","assets/external-link-B3vh6vLr.js","assets/trending-up-DOxCo9I6.js","assets/target-1p2ICMDN.js","assets/book-open-CsZLkRie.js","assets/plus-CzE6Y-vE.js","assets/minus-CxnUEU8f.js","assets/lock-DVJmOJtR.js","assets/circle-alert-D0KxAb-N.js","assets/palette-C1tdbQoO.js","assets/Game-BSxN8OV2.js","assets/useMutation-Dw-sPjxD.js","assets/CelebrationAnimation-Dc0BowXO.js","assets/TextToSpeech-AHz3T4an.js","assets/rotate-ccw-D8vHVTX7.js","assets/trending-down-CtEqn-BB.js","assets/triangle-alert-BF04o9wv.js","assets/QuestionGenerator-z-c728t7.js","assets/PremiumFeatureLock-DUuDI_YH.js","assets/arrow-left-8gFWt4dJ.js","assets/Progress-CJyc2nxx.js","assets/LineChart-Boznw0oC.js","assets/gift-gU3fLUyU.js","assets/Avatar-DWsPiGGF.js","assets/label-ClTmKTiT.js","assets/tabs-BCUfDdd3.js","assets/AvatarDisplay-BzkYfhqx.js","assets/index-DytiPzxp.js","assets/save-WpcaPzdX.js","assets/DailyChallenge-Bdw758IQ.js","assets/medal-iK-ypg-g.js","assets/ParentPortal-ujdsGIsq.js","assets/textarea-CqrSSpqj.js","assets/select-CEEjSQMd.js","assets/index-K24GeIQO.js","assets/trash-2-jwsEREBw.js","assets/info-BwmiXNr9.js","assets/startOfMonth-D3h4jTlt.js","assets/Shop-CVZgRxJn.js","assets/Leaderboards-Bm79OtXC.js","assets/user-plus-DvDth6Co.js","assets/TeamChallenges-YLDuyulC.js","assets/Subscription-BXM5wPAK.js","assets/GenerateIcons-irEsrbiy.js","assets/loader-circle-BANzzYJc.js","assets/TestIconGeneration-oHdXBYrX.js","assets/Messages-BRMZI1jn.js","assets/ColorByNumbers-JzUc735X.js","assets/paint-bucket-C2C9L7S8.js","assets/Settings-DBhk2Jxw.js","assets/PrivacyPolicy-CiiZkyoZ.js","assets/AITutor-CiJvOfzv.js","assets/AdminTestAccount-DOgC3vLm.js","assets/Subscribe-D5mtZK-4.js"]))=>t.map(r=>n[r]);var WL=Object.defineProperty,tN=t=>{throw TypeError(t)},QL=(t,e,n)=>e in t?WL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gk=(t,e,n)=>QL(t,typeof e!="symbol"?e+"":e,n),ax=(t,e,n)=>e.has(t)||tN("Cannot "+n),q=(t,e,n)=>(ax(t,e,"read from private field"),n?n.call(t):e.get(t)),je=(t,e,n)=>e.has(t)?tN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(ax(t,e,"write to private field"),e.set(t,n),n),Ze=(t,e,n)=>(ax(t,e,"access private method"),n),Rw=(t,e,n,r)=>({set _(s){ge(t,e,s)},get _(){return q(t,e,r)}});function YL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var Tne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wk={exports:{}},Fd={},Qk={exports:{}},Ke={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Yk;function XL(){if(Yk)return Ke;Yk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,T={};function _(G,re,pe){this.props=G,this.context=re,this.refs=T,this.updater=pe||E}_.prototype.isReactComponent={},_.prototype.setState=function(G,re){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,re,"setState")},_.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function D(){}D.prototype=_.prototype;function P(G,re,pe){this.props=G,this.context=re,this.refs=T,this.updater=pe||E}var M=P.prototype=new D;M.constructor=P,I(M,_.prototype),M.isPureReactComponent=!0;var B=Array.isArray,z=Object.prototype.hasOwnProperty,K={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function C(G,re,pe){var me,Re={},Ue=null,Ce=null;if(re!=null)for(me in re.ref!==void 0&&(Ce=re.ref),re.key!==void 0&&(Ue=""+re.key),re)z.call(re,me)&&!R.hasOwnProperty(me)&&(Re[me]=re[me]);var $e=arguments.length-2;if($e===1)Re.children=pe;else if(1<$e){for(var Be=Array($e),pt=0;pt<$e;pt++)Be[pt]=arguments[pt+2];Re.children=Be}if(G&&G.defaultProps)for(me in $e=G.defaultProps,$e)Re[me]===void 0&&(Re[me]=$e[me]);return{$$typeof:t,type:G,key:Ue,ref:Ce,props:Re,_owner:K.current}}function A(G,re){return{$$typeof:t,type:G.type,key:re,ref:G.ref,props:G.props,_owner:G._owner}}function O(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function F(G){var re={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(pe){return re[pe]})}var $=/\/+/g;function L(G,re){return typeof G=="object"&&G!==null&&G.key!=null?F(""+G.key):re.toString(36)}function ke(G,re,pe,me,Re){var Ue=typeof G;(Ue==="undefined"||Ue==="boolean")&&(G=null);var Ce=!1;if(G===null)Ce=!0;else switch(Ue){case"string":case"number":Ce=!0;break;case"object":switch(G.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=G,Re=Re(Ce),G=me===""?"."+L(Ce,0):me,B(Re)?(pe="",G!=null&&(pe=G.replace($,"$&/")+"/"),ke(Re,re,pe,"",function(pt){return pt})):Re!=null&&(O(Re)&&(Re=A(Re,pe+(!Re.key||Ce&&Ce.key===Re.key?"":(""+Re.key).replace($,"$&/")+"/")+G)),re.push(Re)),1;if(Ce=0,me=me===""?".":me+":",B(G))for(var $e=0;$e<G.length;$e++){Ue=G[$e];var Be=me+L(Ue,$e);Ce+=ke(Ue,re,pe,Be,Re)}else if(Be=v(G),typeof Be=="function")for(G=Be.call(G),$e=0;!(Ue=G.next()).done;)Ue=Ue.value,Be=me+L(Ue,$e++),Ce+=ke(Ue,re,pe,Be,Re);else if(Ue==="object")throw re=String(G),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Pe(G,re,pe){if(G==null)return G;var me=[],Re=0;return ke(G,me,"","",function(Ue){return re.call(pe,Ue,Re++)}),me}function ye(G){if(G._status===-1){var re=G._result;re=re(),re.then(function(pe){(G._status===0||G._status===-1)&&(G._status=1,G._result=pe)},function(pe){(G._status===0||G._status===-1)&&(G._status=2,G._result=pe)}),G._status===-1&&(G._status=0,G._result=re)}if(G._status===1)return G._result.default;throw G._result}var ve={current:null},W={transition:null},ne={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:W,ReactCurrentOwner:K};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:Pe,forEach:function(G,re,pe){Pe(G,function(){re.apply(this,arguments)},pe)},count:function(G){var re=0;return Pe(G,function(){re++}),re},toArray:function(G){return Pe(G,function(re){return re})||[]},only:function(G){if(!O(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ke.Component=_,Ke.Fragment=n,Ke.Profiler=s,Ke.PureComponent=P,Ke.StrictMode=r,Ke.Suspense=c,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Ke.act=oe,Ke.cloneElement=function(G,re,pe){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var me=I({},G.props),Re=G.key,Ue=G.ref,Ce=G._owner;if(re!=null){if(re.ref!==void 0&&(Ue=re.ref,Ce=K.current),re.key!==void 0&&(Re=""+re.key),G.type&&G.type.defaultProps)var $e=G.type.defaultProps;for(Be in re)z.call(re,Be)&&!R.hasOwnProperty(Be)&&(me[Be]=re[Be]===void 0&&$e!==void 0?$e[Be]:re[Be])}var Be=arguments.length-2;if(Be===1)me.children=pe;else if(1<Be){$e=Array(Be);for(var pt=0;pt<Be;pt++)$e[pt]=arguments[pt+2];me.children=$e}return{$$typeof:t,type:G.type,key:Re,ref:Ue,props:me,_owner:Ce}},Ke.createContext=function(G){return G={$$typeof:a,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:i,_context:G},G.Consumer=G},Ke.createElement=C,Ke.createFactory=function(G){var re=C.bind(null,G);return re.type=G,re},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(G){return{$$typeof:u,render:G}},Ke.isValidElement=O,Ke.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:ye}},Ke.memo=function(G,re){return{$$typeof:h,type:G,compare:re===void 0?null:re}},Ke.startTransition=function(G){var re=W.transition;W.transition={};try{G()}finally{W.transition=re}},Ke.unstable_act=oe,Ke.useCallback=function(G,re){return ve.current.useCallback(G,re)},Ke.useContext=function(G){return ve.current.useContext(G)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(G){return ve.current.useDeferredValue(G)},Ke.useEffect=function(G,re){return ve.current.useEffect(G,re)},Ke.useId=function(){return ve.current.useId()},Ke.useImperativeHandle=function(G,re,pe){return ve.current.useImperativeHandle(G,re,pe)},Ke.useInsertionEffect=function(G,re){return ve.current.useInsertionEffect(G,re)},Ke.useLayoutEffect=function(G,re){return ve.current.useLayoutEffect(G,re)},Ke.useMemo=function(G,re){return ve.current.useMemo(G,re)},Ke.useReducer=function(G,re,pe){return ve.current.useReducer(G,re,pe)},Ke.useRef=function(G){return ve.current.useRef(G)},Ke.useState=function(G){return ve.current.useState(G)},Ke.useSyncExternalStore=function(G,re,pe){return ve.current.useSyncExternalStore(G,re,pe)},Ke.useTransition=function(){return ve.current.useTransition()},Ke.version="18.3.1",Ke}var Xk;function ux(){return Xk||(Xk=1,Qk.exports=XL()),Qk.exports}/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Jk;function JL(){if(Jk)return Fd;Jk=1;var t=ux(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,h){var p,g={},v=null,E=null;h!==void 0&&(v=""+h),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(E=c.ref);for(p in c)r.call(c,p)&&!i.hasOwnProperty(p)&&(g[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)g[p]===void 0&&(g[p]=c[p]);return{$$typeof:e,type:u,key:v,ref:E,props:g,_owner:s.current}}return Fd.Fragment=n,Fd.jsx=a,Fd.jsxs=a,Fd}var Zk;function ZL(){return Zk||(Zk=1,Wk.exports=JL()),Wk.exports}var x=ZL(),S=ux();const ln=lx(S),cx=YL({__proto__:null,default:ln},[S]);var em={},E0={exports:{}},Zn={},eT={exports:{}},tT={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var nT;function e3(){return nT||(nT=1,(function(t){function e(W,ne){var oe=W.length;W.push(ne);e:for(;0<oe;){var G=oe-1>>>1,re=W[G];if(0<s(re,ne))W[G]=ne,W[oe]=re,oe=G;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ne=W[0],oe=W.pop();if(oe!==ne){W[0]=oe;e:for(var G=0,re=W.length,pe=re>>>1;G<pe;){var me=2*(G+1)-1,Re=W[me],Ue=me+1,Ce=W[Ue];if(0>s(Re,oe))Ue<re&&0>s(Ce,Re)?(W[G]=Ce,W[Ue]=oe,G=Ue):(W[G]=Re,W[me]=oe,G=me);else if(Ue<re&&0>s(Ce,oe))W[G]=Ce,W[Ue]=oe,G=Ue;else break e}}return ne}function s(W,ne){var oe=W.sortIndex-ne.sortIndex;return oe!==0?oe:W.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],h=[],p=1,g=null,v=3,E=!1,I=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(W){for(var ne=n(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=W)r(h),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(h)}}function B(W){if(T=!1,M(W),!I)if(n(c)!==null)I=!0,ye(z);else{var ne=n(h);ne!==null&&ve(B,ne.startTime-W)}}function z(W,ne){I=!1,T&&(T=!1,D(C),C=-1),E=!0;var oe=v;try{for(M(ne),g=n(c);g!==null&&(!(g.expirationTime>ne)||W&&!F());){var G=g.callback;if(typeof G=="function"){g.callback=null,v=g.priorityLevel;var re=G(g.expirationTime<=ne);ne=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(c)&&r(c),M(ne)}else r(c);g=n(c)}if(g!==null)var pe=!0;else{var me=n(h);me!==null&&ve(B,me.startTime-ne),pe=!1}return pe}finally{g=null,v=oe,E=!1}}var K=!1,R=null,C=-1,A=5,O=-1;function F(){return!(t.unstable_now()-O<A)}function $(){if(R!==null){var W=t.unstable_now();O=W;var ne=!0;try{ne=R(!0,W)}finally{ne?L():(K=!1,R=null)}}else K=!1}var L;if(typeof P=="function")L=function(){P($)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Pe=ke.port2;ke.port1.onmessage=$,L=function(){Pe.postMessage(null)}}else L=function(){_($,0)};function ye(W){R=W,K||(K=!0,L())}function ve(W,ne){C=_(function(){W(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){I||E||(I=!0,ye(z))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var oe=v;v=ne;try{return W()}finally{v=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var oe=v;v=W;try{return ne()}finally{v=oe}},t.unstable_scheduleCallback=function(W,ne,oe){var G=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?G+oe:G):oe=G,W){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=oe+re,W={id:p++,callback:ne,priorityLevel:W,startTime:oe,expirationTime:re,sortIndex:-1},oe>G?(W.sortIndex=oe,e(h,W),n(c)===null&&W===n(h)&&(T?(D(C),C=-1):T=!0,ve(B,oe-G))):(W.sortIndex=re,e(c,W),I||E||(I=!0,ye(z))),W},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(W){var ne=v;return function(){var oe=v;v=ne;try{return W.apply(this,arguments)}finally{v=oe}}}})(tT)),tT}var rT;function t3(){return rT||(rT=1,eT.exports=e3()),eT.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var sT;function n3(){if(sT)return Zn;sT=1;var t=ux(),e=t3();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(s[o]=l,o=0;o<l.length;o++)r.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(o){return c.call(g,o)?!0:c.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function E(o,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function I(o,l,d,m){if(l===null||typeof l>"u"||E(o,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(o,l,d,m,y,w,N){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=w,this.removeEmptyString=N}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){_[o]=new T(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];_[l]=new T(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){_[o]=new T(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){_[o]=new T(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){_[o]=new T(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){_[o]=new T(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){_[o]=new T(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){_[o]=new T(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){_[o]=new T(o,5,!1,o.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function P(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(D,P);_[l]=new T(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(D,P);_[l]=new T(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(D,P);_[l]=new T(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){_[o]=new T(o,1,!1,o.toLowerCase(),null,!1,!1)}),_.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){_[o]=new T(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,l,d,m){var y=_.hasOwnProperty(l)?_[l]:null;(y!==null?y.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(I(l,d,y,m)&&(d=null),m||y===null?v(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):y.mustUseProperty?o[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,m=y.attributeNamespace,d===null?o.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,m?o.setAttributeNS(m,l,d):o.setAttribute(l,d))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),K=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),W=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var oe=Object.assign,G;function re(o){if(G===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||""}return`
`+G+o}var pe=!1;function me(o,l){if(!o||pe)return"";pe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var m=Z}Reflect.construct(o,[],l)}else{try{l.call()}catch(Z){m=Z}o.call(l.prototype)}else{try{throw Error()}catch(Z){m=Z}o()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=m.stack.split(`
`),N=y.length-1,V=w.length-1;1<=N&&0<=V&&y[N]!==w[V];)V--;for(;1<=N&&0<=V;N--,V--)if(y[N]!==w[V]){if(N!==1||V!==1)do if(N--,V--,0>V||y[N]!==w[V]){var U=`
`+y[N].replace(" at new "," at ");return o.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",o.displayName)),U}while(1<=N&&0<=V);break}}}finally{pe=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?re(o):""}function Re(o){switch(o.tag){case 5:return re(o.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return o=me(o.type,!1),o;case 11:return o=me(o.type.render,!1),o;case 1:return o=me(o.type,!0),o;default:return""}}function Ue(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case R:return"Fragment";case K:return"Portal";case A:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case ke:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case F:return(o.displayName||"Context")+".Consumer";case O:return(o._context.displayName||"Context")+".Provider";case $:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Pe:return l=o.displayName||null,l!==null?l:Ue(o.type)||"Memo";case ye:l=o._payload,o=o._init;try{return Ue(o(l))}catch{}}return null}function Ce(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(l);case 8:return l===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function $e(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Be(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function pt(o){var l=Be(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,w=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return y.call(this)},set:function(N){m=""+N,w.call(this,N)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(N){m=""+N},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function kr(o){o._valueTracker||(o._valueTracker=pt(o))}function Tr(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=Be(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function Gn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Xi(o,l){var d=l.checked;return oe({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function ql(o,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=$e(l.value!=null?l.value:d),o._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Ji(o,l){l=l.checked,l!=null&&M(o,"checked",l,!1)}function oi(o,l){Ji(o,l);var d=$e(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?mt(o,l.type,d):l.hasOwnProperty("defaultValue")&&mt(o,l.type,$e(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function pa(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function mt(o,l,d){(l!=="number"||Gn(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var Ht=Array.isArray;function Wr(o,l,d,m){if(o=o.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<o.length;d++)y=l.hasOwnProperty("$"+o[d].value),o[d].selected!==y&&(o[d].selected=y),y&&m&&(o[d].defaultSelected=!0)}else{for(d=""+$e(d),l=null,y=0;y<o.length;y++){if(o[y].value===d){o[y].selected=!0,m&&(o[y].defaultSelected=!0);return}l!==null||o[y].disabled||(l=o[y])}l!==null&&(l.selected=!0)}}function Gc(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Wc(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(Ht(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:$e(d)}}function Bf(o,l){var d=$e(l.value),m=$e(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),m!=null&&(o.defaultValue=""+m)}function Zi(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Qc(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hl(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Qc(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var eo,Uf=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,y){MSApp.execUnsafeLocalFunction(function(){return o(l,d,m,y)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=eo.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function ma(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zf=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(o){zf.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),to[l]=to[o]})});function no(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||to.hasOwnProperty(o)&&to[o]?(""+l).trim():l+"px"}function Kl(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,y=no(d,l[d],m);d==="float"&&(d="cssFloat"),m?o.setProperty(d,y):o[d]=y}}var Yc=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qr(o,l){if(l){if(Yc[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Gl(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ro=null;function Wl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ai=null,li=null,Dt=null;function Xc(o){if(o=kd(o)){if(typeof ai!="function")throw Error(n(280));var l=o.stateNode;l&&(l=mp(l),ai(o.stateNode,o.type,l))}}function so(o){li?Dt?Dt.push(o):Dt=[o]:li=o}function io(){if(li){var o=li,l=Dt;if(Dt=li=null,Xc(o),l)for(o=0;o<l.length;o++)Xc(l[o])}}function $f(o,l){return o(l)}function qf(){}var ys=!1;function Hf(o,l,d){if(ys)return o(l,d);ys=!0;try{return $f(o,l,d)}finally{ys=!1,(li!==null||Dt!==null)&&(qf(),io())}}function ga(o,l){var d=o.stateNode;if(d===null)return null;var m=mp(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var oo=!1;if(u)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){oo=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{oo=!1}function Kf(o,l,d,m,y,w,N,V,U){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(d,Z)}catch(ie){this.onError(ie)}}var ui=!1,vs=null,Ql=!1,_r=null,Gf={onError:function(o){ui=!0,vs=o}};function Wf(o,l,d,m,y,w,N,V,U){ui=!1,vs=null,Kf.apply(Gf,arguments)}function Jc(o,l,d,m,y,w,N,V,U){if(Wf.apply(this,arguments),ui){if(ui){var Z=vs;ui=!1,vs=null}else throw Error(n(198));Ql||(Ql=!0,_r=Z)}}function Yr(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function Zc(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Qf(o){if(Yr(o)!==o)throw Error(n(188))}function Yf(o){var l=o.alternate;if(!l){if(l=Yr(o),l===null)throw Error(n(188));return l!==o?null:o}for(var d=o,m=l;;){var y=d.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===d)return Qf(y),o;if(w===m)return Qf(y),l;w=w.sibling}throw Error(n(188))}if(d.return!==m.return)d=y,m=w;else{for(var N=!1,V=y.child;V;){if(V===d){N=!0,d=y,m=w;break}if(V===m){N=!0,m=y,d=w;break}V=V.sibling}if(!N){for(V=w.child;V;){if(V===d){N=!0,d=w,m=y;break}if(V===m){N=!0,m=w,d=y;break}V=V.sibling}if(!N)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:l}function Xf(o){return o=Yf(o),o!==null?ya(o):null}function ya(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=ya(o);if(l!==null)return l;o=o.sibling}return null}var ed=e.unstable_scheduleCallback,Yl=e.unstable_cancelCallback,va=e.unstable_shouldYield,ci=e.unstable_requestPaint,gt=e.unstable_now,tv=e.unstable_getCurrentPriorityLevel,Xl=e.unstable_ImmediatePriority,td=e.unstable_UserBlockingPriority,wa=e.unstable_NormalPriority,nd=e.unstable_LowPriority,Jl=e.unstable_IdlePriority,ba=null,ar=null;function Jf(o){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(ba,o,void 0,(o.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:xa,ws=Math.log,Ir=Math.LN2;function xa(o){return o>>>=0,o===0?32:31-(ws(o)/Ir|0)|0}var bs=64,lo=4194304;function it(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function di(o,l){var d=o.pendingLanes;if(d===0)return 0;var m=0,y=o.suspendedLanes,w=o.pingedLanes,N=d&268435455;if(N!==0){var V=N&~y;V!==0?m=it(V):(w&=N,w!==0&&(m=it(w)))}else N=d&~y,N!==0?m=it(N):w!==0&&(m=it(w));if(m===0)return 0;if(l!==0&&l!==m&&(l&y)===0&&(y=m&-m,w=l&-l,y>=w||y===16&&(w&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=m;0<l;)d=31-lr(l),y=1<<d,m|=o[d],l&=~y;return m}function Sa(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ea(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes;0<w;){var N=31-lr(w),V=1<<N,U=y[N];U===-1?((V&d)===0||(V&m)!==0)&&(y[N]=Sa(V,l)):U<=l&&(o.expiredLanes|=V),w&=~V}}function rd(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function sd(){var o=bs;return bs<<=1,(bs&4194240)===0&&(bs=64),o}function id(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function ka(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-lr(l),o[l]=d}function nv(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<d;){var y=31-lr(d),w=1<<y;l[y]=0,m[y]=-1,o[y]=-1,d&=~w}}function od(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-lr(d),y=1<<m;y&l|o[m]&l&&(o[m]|=l),d&=~y}}var Qe=0;function xs(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var ad,Zl,ld,ud,cd,Ss=!1,eu=[],Es=null,ks=null,gn=null,Ta=new Map,hi=new Map,ur=[],Zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uo(o,l){switch(o){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Ta.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":hi.delete(l.pointerId)}}function Xr(o,l,d,m,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},l!==null&&(l=kd(l),l!==null&&Zl(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),o)}function ep(o,l,d,m,y){switch(l){case"focusin":return Es=Xr(Es,o,l,d,m,y),!0;case"dragenter":return ks=Xr(ks,o,l,d,m,y),!0;case"mouseover":return gn=Xr(gn,o,l,d,m,y),!0;case"pointerover":var w=y.pointerId;return Ta.set(w,Xr(Ta.get(w)||null,o,l,d,m,y)),!0;case"gotpointercapture":return w=y.pointerId,hi.set(w,Xr(hi.get(w)||null,o,l,d,m,y)),!0}return!1}function tu(o){var l=Na(o.target);if(l!==null){var d=Yr(l);if(d!==null){if(l=d.tag,l===13){if(l=Zc(d),l!==null){o.blockedOn=l,cd(o.priority,function(){ld(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ct(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=nu(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);ro=m,d.target.dispatchEvent(m),ro=null}else return l=kd(d),l!==null&&Zl(l),o.blockedOn=d,!1;l.shift()}return!0}function tp(o,l,d){ct(o)&&d.delete(l)}function rv(){Ss=!1,Es!==null&&ct(Es)&&(Es=null),ks!==null&&ct(ks)&&(ks=null),gn!==null&&ct(gn)&&(gn=null),Ta.forEach(tp),hi.forEach(tp)}function co(o,l){o.blockedOn===l&&(o.blockedOn=null,Ss||(Ss=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rv)))}function ho(o){function l(y){return co(y,o)}if(0<eu.length){co(eu[0],o);for(var d=1;d<eu.length;d++){var m=eu[d];m.blockedOn===o&&(m.blockedOn=null)}}for(Es!==null&&co(Es,o),ks!==null&&co(ks,o),gn!==null&&co(gn,o),Ta.forEach(l),hi.forEach(l),d=0;d<ur.length;d++)m=ur[d],m.blockedOn===o&&(m.blockedOn=null);for(;0<ur.length&&(d=ur[0],d.blockedOn===null);)tu(d),d.blockedOn===null&&ur.shift()}var fi=B.ReactCurrentBatchConfig,pi=!0;function Ts(o,l,d,m){var y=Qe,w=fi.transition;fi.transition=null;try{Qe=1,dd(o,l,d,m)}finally{Qe=y,fi.transition=w}}function np(o,l,d,m){var y=Qe,w=fi.transition;fi.transition=null;try{Qe=4,dd(o,l,d,m)}finally{Qe=y,fi.transition=w}}function dd(o,l,d,m){if(pi){var y=nu(o,l,d,m);if(y===null)pv(o,l,m,_s,d),uo(o,m);else if(ep(y,o,l,d,m))m.stopPropagation();else if(uo(o,m),l&4&&-1<Zf.indexOf(o)){for(;y!==null;){var w=kd(y);if(w!==null&&ad(w),w=nu(o,l,d,m),w===null&&pv(o,l,m,_s,d),w===y)break;y=w}y!==null&&m.stopPropagation()}else pv(o,l,m,null,d)}}var _s=null;function nu(o,l,d,m){if(_s=null,o=Wl(m),o=Na(o),o!==null)if(l=Yr(o),l===null)o=null;else if(d=l.tag,d===13){if(o=Zc(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return _s=o,null}function ru(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tv()){case Xl:return 1;case td:return 4;case wa:case nd:return 16;case Jl:return 536870912;default:return 16}default:return 16}}var cr=null,su=null,mi=null;function rp(){if(mi)return mi;var o,l=su,d=l.length,m,y="value"in cr?cr.value:cr.textContent,w=y.length;for(o=0;o<d&&l[o]===y[o];o++);var N=d-o;for(m=1;m<=N&&l[d-m]===y[w-m];m++);return mi=y.slice(o,1<m?1-m:void 0)}function _a(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Is(){return!0}function hd(){return!1}function Tn(o){function l(d,m,y,w,N){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var V in o)o.hasOwnProperty(V)&&(d=o[V],this[V]=d?d(w):w[V]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Is:hd,this.isPropagationStopped=hd,this}return oe(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),l}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Tn(Cs),fo=oe({},Cs,{view:0,detail:0}),iu=Tn(fo),ou,au,dr,Ca=oe({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ze,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==dr&&(dr&&o.type==="mousemove"?(ou=o.screenX-dr.screenX,au=o.screenY-dr.screenY):au=ou=0,dr=o),ou)},movementY:function(o){return"movementY"in o?o.movementY:au}}),fd=Tn(Ca),sp=oe({},Ca,{dataTransfer:0}),ip=Tn(sp),lu=oe({},fo,{relatedTarget:0}),yn=Tn(lu),op=oe({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),ap=Tn(op),po=oe({},Cs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),f=Tn(po),b=oe({},Cs,{data:0}),k=Tn(b),j={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function de(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=ee[o])?!!l[o]:!1}function ze(){return de}var Kt=oe({},fo,{key:function(o){if(o.key){var l=j[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=_a(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?X[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ze,charCode:function(o){return o.type==="keypress"?_a(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?_a(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),dt=Tn(Kt),Jt=oe({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hr=Tn(Jt),mo=oe({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ze}),Ns=Tn(mo),Ds=oe({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),uu=Tn(Ds),pd=oe({},Ca,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),j4=Tn(pd),M4=[9,13,27,32],sv=u&&"CompositionEvent"in window,md=null;u&&"documentMode"in document&&(md=document.documentMode);var O4=u&&"TextEvent"in window&&!md,jS=u&&(!sv||md&&8<md&&11>=md),MS=" ",OS=!1;function LS(o,l){switch(o){case"keyup":return M4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var cu=!1;function L4(o,l){switch(o){case"compositionend":return VS(l);case"keypress":return l.which!==32?null:(OS=!0,MS);case"textInput":return o=l.data,o===MS&&OS?null:o;default:return null}}function V4(o,l){if(cu)return o==="compositionend"||!sv&&LS(o,l)?(o=rp(),mi=su=cr=null,cu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return jS&&l.locale!=="ko"?null:l.data;default:return null}}var F4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FS(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!F4[o.type]:l==="textarea"}function BS(o,l,d,m){so(m),l=hp(l,"onChange"),0<l.length&&(d=new Ia("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var gd=null,yd=null;function B4(o){sE(o,0)}function lp(o){var l=mu(o);if(Tr(l))return o}function U4(o,l){if(o==="change")return l}var US=!1;if(u){var iv;if(u){var ov="oninput"in document;if(!ov){var zS=document.createElement("div");zS.setAttribute("oninput","return;"),ov=typeof zS.oninput=="function"}iv=ov}else iv=!1;US=iv&&(!document.documentMode||9<document.documentMode)}function $S(){gd&&(gd.detachEvent("onpropertychange",qS),yd=gd=null)}function qS(o){if(o.propertyName==="value"&&lp(yd)){var l=[];BS(l,yd,o,Wl(o)),Hf(B4,l)}}function z4(o,l,d){o==="focusin"?($S(),gd=l,yd=d,gd.attachEvent("onpropertychange",qS)):o==="focusout"&&$S()}function $4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return lp(yd)}function q4(o,l){if(o==="click")return lp(l)}function H4(o,l){if(o==="input"||o==="change")return lp(l)}function K4(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Jr=typeof Object.is=="function"?Object.is:K4;function vd(o,l){if(Jr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!c.call(l,y)||!Jr(o[y],l[y]))return!1}return!0}function HS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function KS(o,l){var d=HS(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=HS(d)}}function GS(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?GS(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function WS(){for(var o=window,l=Gn();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=Gn(o.document)}return l}function av(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function G4(o){var l=WS(),d=o.focusedElem,m=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&GS(d.ownerDocument.documentElement,d)){if(m!==null&&av(d)){if(l=m.start,o=m.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var y=d.textContent.length,w=Math.min(m.start,y);m=m.end===void 0?w:Math.min(m.end,y),!o.extend&&w>m&&(y=m,m=w,w=y),y=KS(d,w);var N=KS(d,m);y&&N&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==N.node||o.focusOffset!==N.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),o.removeAllRanges(),w>m?(o.addRange(l),o.extend(N.node,N.offset)):(l.setEnd(N.node,N.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var W4=u&&"documentMode"in document&&11>=document.documentMode,du=null,lv=null,wd=null,uv=!1;function QS(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;uv||du==null||du!==Gn(m)||(m=du,"selectionStart"in m&&av(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),wd&&vd(wd,m)||(wd=m,m=hp(lv,"onSelect"),0<m.length&&(l=new Ia("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=du)))}function up(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var hu={animationend:up("Animation","AnimationEnd"),animationiteration:up("Animation","AnimationIteration"),animationstart:up("Animation","AnimationStart"),transitionend:up("Transition","TransitionEnd")},cv={},YS={};u&&(YS=document.createElement("div").style,"AnimationEvent"in window||(delete hu.animationend.animation,delete hu.animationiteration.animation,delete hu.animationstart.animation),"TransitionEvent"in window||delete hu.transitionend.transition);function cp(o){if(cv[o])return cv[o];if(!hu[o])return o;var l=hu[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in YS)return cv[o]=l[d];return o}var XS=cp("animationend"),JS=cp("animationiteration"),ZS=cp("animationstart"),eE=cp("transitionend"),tE=new Map,nE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(o,l){tE.set(o,l),i(l,[o])}for(var dv=0;dv<nE.length;dv++){var hv=nE[dv],Q4=hv.toLowerCase(),Y4=hv[0].toUpperCase()+hv.slice(1);go(Q4,"on"+Y4)}go(XS,"onAnimationEnd"),go(JS,"onAnimationIteration"),go(ZS,"onAnimationStart"),go("dblclick","onDoubleClick"),go("focusin","onFocus"),go("focusout","onBlur"),go(eE,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X4=new Set("cancel close invalid load scroll toggle".split(" ").concat(bd));function rE(o,l,d){var m=o.type||"unknown-event";o.currentTarget=d,Jc(m,l,void 0,o),o.currentTarget=null}function sE(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],y=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var N=m.length-1;0<=N;N--){var V=m[N],U=V.instance,Z=V.currentTarget;if(V=V.listener,U!==w&&y.isPropagationStopped())break e;rE(y,V,Z),w=U}else for(N=0;N<m.length;N++){if(V=m[N],U=V.instance,Z=V.currentTarget,V=V.listener,U!==w&&y.isPropagationStopped())break e;rE(y,V,Z),w=U}}}if(Ql)throw o=_r,Ql=!1,_r=null,o}function yt(o,l){var d=l[bv];d===void 0&&(d=l[bv]=new Set);var m=o+"__bubble";d.has(m)||(iE(l,o,2,!1),d.add(m))}function fv(o,l,d){var m=0;l&&(m|=4),iE(d,o,m,l)}var dp="_reactListening"+Math.random().toString(36).slice(2);function xd(o){if(!o[dp]){o[dp]=!0,r.forEach(function(d){d!=="selectionchange"&&(X4.has(d)||fv(d,!1,o),fv(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[dp]||(l[dp]=!0,fv("selectionchange",!1,l))}}function iE(o,l,d,m){switch(ru(l)){case 1:var y=Ts;break;case 4:y=np;break;default:y=dd}d=y.bind(null,l,d,o),y=void 0,!oo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?o.addEventListener(l,d,{capture:!0,passive:y}):o.addEventListener(l,d,!0):y!==void 0?o.addEventListener(l,d,{passive:y}):o.addEventListener(l,d,!1)}function pv(o,l,d,m,y){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var V=m.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(N===4)for(N=m.return;N!==null;){var U=N.tag;if((U===3||U===4)&&(U=N.stateNode.containerInfo,U===y||U.nodeType===8&&U.parentNode===y))return;N=N.return}for(;V!==null;){if(N=Na(V),N===null)return;if(U=N.tag,U===5||U===6){m=w=N;continue e}V=V.parentNode}}m=m.return}Hf(function(){var Z=w,ie=Wl(d),ae=[];e:{var se=tE.get(o);if(se!==void 0){var fe=Ia,be=o;switch(o){case"keypress":if(_a(d)===0)break e;case"keydown":case"keyup":fe=dt;break;case"focusin":be="focus",fe=yn;break;case"focusout":be="blur",fe=yn;break;case"beforeblur":case"afterblur":fe=yn;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Ns;break;case XS:case JS:case ZS:fe=ap;break;case eE:fe=uu;break;case"scroll":fe=iu;break;case"wheel":fe=j4;break;case"copy":case"cut":case"paste":fe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=hr}var Te=(l&4)!==0,Gt=!Te&&o==="scroll",Y=Te?se!==null?se+"Capture":null:se;Te=[];for(var H=Z,J;H!==null;){J=H;var ue=J.stateNode;if(J.tag===5&&ue!==null&&(J=ue,Y!==null&&(ue=ga(H,Y),ue!=null&&Te.push(Sd(H,ue,J)))),Gt)break;H=H.return}0<Te.length&&(se=new fe(se,be,null,d,ie),ae.push({event:se,listeners:Te}))}}if((l&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",fe=o==="mouseout"||o==="pointerout",se&&d!==ro&&(be=d.relatedTarget||d.fromElement)&&(Na(be)||be[gi]))break e;if((fe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(be=d.relatedTarget||d.toElement,fe=Z,be=be?Na(be):null,be!==null&&(Gt=Yr(be),be!==Gt||be.tag!==5&&be.tag!==6)&&(be=null)):(fe=null,be=Z),fe!==be)){if(Te=fd,ue="onMouseLeave",Y="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Te=hr,ue="onPointerLeave",Y="onPointerEnter",H="pointer"),Gt=fe==null?se:mu(fe),J=be==null?se:mu(be),se=new Te(ue,H+"leave",fe,d,ie),se.target=Gt,se.relatedTarget=J,ue=null,Na(ie)===Z&&(Te=new Te(Y,H+"enter",be,d,ie),Te.target=J,Te.relatedTarget=Gt,ue=Te),Gt=ue,fe&&be)t:{for(Te=fe,Y=be,H=0,J=Te;J;J=fu(J))H++;for(J=0,ue=Y;ue;ue=fu(ue))J++;for(;0<H-J;)Te=fu(Te),H--;for(;0<J-H;)Y=fu(Y),J--;for(;H--;){if(Te===Y||Y!==null&&Te===Y.alternate)break t;Te=fu(Te),Y=fu(Y)}Te=null}else Te=null;fe!==null&&oE(ae,se,fe,Te,!1),be!==null&&Gt!==null&&oE(ae,Gt,be,Te,!0)}}e:{if(se=Z?mu(Z):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var _e=U4;else if(FS(se))if(US)_e=H4;else{_e=$4;var De=z4}else(fe=se.nodeName)&&fe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(_e=q4);if(_e&&(_e=_e(o,Z))){BS(ae,_e,d,ie);break e}De&&De(o,se,Z),o==="focusout"&&(De=se._wrapperState)&&De.controlled&&se.type==="number"&&mt(se,"number",se.value)}switch(De=Z?mu(Z):window,o){case"focusin":(FS(De)||De.contentEditable==="true")&&(du=De,lv=Z,wd=null);break;case"focusout":wd=lv=du=null;break;case"mousedown":uv=!0;break;case"contextmenu":case"mouseup":case"dragend":uv=!1,QS(ae,d,ie);break;case"selectionchange":if(W4)break;case"keydown":case"keyup":QS(ae,d,ie)}var Ae;if(sv)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else cu?LS(o,d)&&(Le="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Le="onCompositionStart");Le&&(jS&&d.locale!=="ko"&&(cu||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&cu&&(Ae=rp()):(cr=ie,su="value"in cr?cr.value:cr.textContent,cu=!0)),De=hp(Z,Le),0<De.length&&(Le=new k(Le,o,null,d,ie),ae.push({event:Le,listeners:De}),Ae?Le.data=Ae:(Ae=VS(d),Ae!==null&&(Le.data=Ae)))),(Ae=O4?L4(o,d):V4(o,d))&&(Z=hp(Z,"onBeforeInput"),0<Z.length&&(ie=new k("onBeforeInput","beforeinput",null,d,ie),ae.push({event:ie,listeners:Z}),ie.data=Ae))}sE(ae,l)})}function Sd(o,l,d){return{instance:o,listener:l,currentTarget:d}}function hp(o,l){for(var d=l+"Capture",m=[];o!==null;){var y=o,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=ga(o,d),w!=null&&m.unshift(Sd(o,w,y)),w=ga(o,l),w!=null&&m.push(Sd(o,w,y))),o=o.return}return m}function fu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function oE(o,l,d,m,y){for(var w=l._reactName,N=[];d!==null&&d!==m;){var V=d,U=V.alternate,Z=V.stateNode;if(U!==null&&U===m)break;V.tag===5&&Z!==null&&(V=Z,y?(U=ga(d,w),U!=null&&N.unshift(Sd(d,U,V))):y||(U=ga(d,w),U!=null&&N.push(Sd(d,U,V)))),d=d.return}N.length!==0&&o.push({event:l,listeners:N})}var J4=/\r\n?/g,Z4=/\u0000|\uFFFD/g;function aE(o){return(typeof o=="string"?o:""+o).replace(J4,`
`).replace(Z4,"")}function fp(o,l,d){if(l=aE(l),aE(o)!==l&&d)throw Error(n(425))}function pp(){}var mv=null,gv=null;function yv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var vv=typeof setTimeout=="function"?setTimeout:void 0,eL=typeof clearTimeout=="function"?clearTimeout:void 0,lE=typeof Promise=="function"?Promise:void 0,tL=typeof queueMicrotask=="function"?queueMicrotask:typeof lE<"u"?function(o){return lE.resolve(null).then(o).catch(nL)}:vv;function nL(o){setTimeout(function(){throw o})}function wv(o,l){var d=l,m=0;do{var y=d.nextSibling;if(o.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(m===0){o.removeChild(y),ho(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=y}while(d);ho(l)}function yo(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function uE(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var pu=Math.random().toString(36).slice(2),As="__reactFiber$"+pu,Ed="__reactProps$"+pu,gi="__reactContainer$"+pu,bv="__reactEvents$"+pu,rL="__reactListeners$"+pu,sL="__reactHandles$"+pu;function Na(o){var l=o[As];if(l)return l;for(var d=o.parentNode;d;){if(l=d[gi]||d[As]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=uE(o);o!==null;){if(d=o[As])return d;o=uE(o)}return l}o=d,d=o.parentNode}return null}function kd(o){return o=o[As]||o[gi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function mu(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function mp(o){return o[Ed]||null}var xv=[],gu=-1;function vo(o){return{current:o}}function vt(o){0>gu||(o.current=xv[gu],xv[gu]=null,gu--)}function ht(o,l){gu++,xv[gu]=o.current,o.current=l}var wo={},_n=vo(wo),Wn=vo(!1),Da=wo;function yu(o,l){var d=o.type.contextTypes;if(!d)return wo;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in d)y[w]=l[w];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=y),y}function Qn(o){return o=o.childContextTypes,o!=null}function gp(){vt(Wn),vt(_n)}function cE(o,l,d){if(_n.current!==wo)throw Error(n(168));ht(_n,l),ht(Wn,d)}function dE(o,l,d){var m=o.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var y in m)if(!(y in l))throw Error(n(108,Ce(o)||"Unknown",y));return oe({},d,m)}function yp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||wo,Da=_n.current,ht(_n,o),ht(Wn,Wn.current),!0}function hE(o,l,d){var m=o.stateNode;if(!m)throw Error(n(169));d?(o=dE(o,l,Da),m.__reactInternalMemoizedMergedChildContext=o,vt(Wn),vt(_n),ht(_n,o)):vt(Wn),ht(Wn,d)}var yi=null,vp=!1,Sv=!1;function fE(o){yi===null?yi=[o]:yi.push(o)}function iL(o){vp=!0,fE(o)}function bo(){if(!Sv&&yi!==null){Sv=!0;var o=0,l=Qe;try{var d=yi;for(Qe=1;o<d.length;o++){var m=d[o];do m=m(!0);while(m!==null)}yi=null,vp=!1}catch(y){throw yi!==null&&(yi=yi.slice(o+1)),ed(Xl,bo),y}finally{Qe=l,Sv=!1}}return null}var vu=[],wu=0,wp=null,bp=0,Cr=[],Nr=0,Aa=null,vi=1,wi="";function Pa(o,l){vu[wu++]=bp,vu[wu++]=wp,wp=o,bp=l}function pE(o,l,d){Cr[Nr++]=vi,Cr[Nr++]=wi,Cr[Nr++]=Aa,Aa=o;var m=vi;o=wi;var y=32-lr(m)-1;m&=~(1<<y),d+=1;var w=32-lr(l)+y;if(30<w){var N=y-y%5;w=(m&(1<<N)-1).toString(32),m>>=N,y-=N,vi=1<<32-lr(l)+y|d<<y|m,wi=w+o}else vi=1<<w|d<<y|m,wi=o}function Ev(o){o.return!==null&&(Pa(o,1),pE(o,1,0))}function kv(o){for(;o===wp;)wp=vu[--wu],vu[wu]=null,bp=vu[--wu],vu[wu]=null;for(;o===Aa;)Aa=Cr[--Nr],Cr[Nr]=null,wi=Cr[--Nr],Cr[Nr]=null,vi=Cr[--Nr],Cr[Nr]=null}var fr=null,pr=null,bt=!1,Zr=null;function mE(o,l){var d=Rr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function gE(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,fr=o,pr=yo(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,fr=o,pr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Aa!==null?{id:vi,overflow:wi}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Rr(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,fr=o,pr=null,!0):!1;default:return!1}}function Tv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function _v(o){if(bt){var l=pr;if(l){var d=l;if(!gE(o,l)){if(Tv(o))throw Error(n(418));l=yo(d.nextSibling);var m=fr;l&&gE(o,l)?mE(m,d):(o.flags=o.flags&-4097|2,bt=!1,fr=o)}}else{if(Tv(o))throw Error(n(418));o.flags=o.flags&-4097|2,bt=!1,fr=o}}}function yE(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;fr=o}function xp(o){if(o!==fr)return!1;if(!bt)return yE(o),bt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!yv(o.type,o.memoizedProps)),l&&(l=pr)){if(Tv(o))throw vE(),Error(n(418));for(;l;)mE(o,l),l=yo(l.nextSibling)}if(yE(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){pr=yo(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}pr=null}}else pr=fr?yo(o.stateNode.nextSibling):null;return!0}function vE(){for(var o=pr;o;)o=yo(o.nextSibling)}function bu(){pr=fr=null,bt=!1}function Iv(o){Zr===null?Zr=[o]:Zr.push(o)}var oL=B.ReactCurrentBatchConfig;function Td(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,o));var y=m,w=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(N){var V=y.refs;N===null?delete V[w]:V[w]=N},l._stringRef=w,l)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function Sp(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function wE(o){var l=o._init;return l(o._payload)}function bE(o){function l(Y,H){if(o){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function d(Y,H){if(!o)return null;for(;H!==null;)l(Y,H),H=H.sibling;return null}function m(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function y(Y,H){return Y=Co(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=2,H):J):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function N(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function V(Y,H,J,ue){return H===null||H.tag!==6?(H=y0(J,Y.mode,ue),H.return=Y,H):(H=y(H,J),H.return=Y,H)}function U(Y,H,J,ue){var _e=J.type;return _e===R?ie(Y,H,J.props.children,ue,J.key):H!==null&&(H.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ye&&wE(_e)===H.type)?(ue=y(H,J.props),ue.ref=Td(Y,H,J),ue.return=Y,ue):(ue=Kp(J.type,J.key,J.props,null,Y.mode,ue),ue.ref=Td(Y,H,J),ue.return=Y,ue)}function Z(Y,H,J,ue){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=v0(J,Y.mode,ue),H.return=Y,H):(H=y(H,J.children||[]),H.return=Y,H)}function ie(Y,H,J,ue,_e){return H===null||H.tag!==7?(H=Ba(J,Y.mode,ue,_e),H.return=Y,H):(H=y(H,J),H.return=Y,H)}function ae(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=y0(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case z:return J=Kp(H.type,H.key,H.props,null,Y.mode,J),J.ref=Td(Y,null,H),J.return=Y,J;case K:return H=v0(H,Y.mode,J),H.return=Y,H;case ye:var ue=H._init;return ae(Y,ue(H._payload),J)}if(Ht(H)||ne(H))return H=Ba(H,Y.mode,J,null),H.return=Y,H;Sp(Y,H)}return null}function se(Y,H,J,ue){var _e=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return _e!==null?null:V(Y,H,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case z:return J.key===_e?U(Y,H,J,ue):null;case K:return J.key===_e?Z(Y,H,J,ue):null;case ye:return _e=J._init,se(Y,H,_e(J._payload),ue)}if(Ht(J)||ne(J))return _e!==null?null:ie(Y,H,J,ue,null);Sp(Y,J)}return null}function fe(Y,H,J,ue,_e){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Y=Y.get(J)||null,V(H,Y,""+ue,_e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case z:return Y=Y.get(ue.key===null?J:ue.key)||null,U(H,Y,ue,_e);case K:return Y=Y.get(ue.key===null?J:ue.key)||null,Z(H,Y,ue,_e);case ye:var De=ue._init;return fe(Y,H,J,De(ue._payload),_e)}if(Ht(ue)||ne(ue))return Y=Y.get(J)||null,ie(H,Y,ue,_e,null);Sp(H,ue)}return null}function be(Y,H,J,ue){for(var _e=null,De=null,Ae=H,Le=H=0,fn=null;Ae!==null&&Le<J.length;Le++){Ae.index>Le?(fn=Ae,Ae=null):fn=Ae.sibling;var st=se(Y,Ae,J[Le],ue);if(st===null){Ae===null&&(Ae=fn);break}o&&Ae&&st.alternate===null&&l(Y,Ae),H=w(st,H,Le),De===null?_e=st:De.sibling=st,De=st,Ae=fn}if(Le===J.length)return d(Y,Ae),bt&&Pa(Y,Le),_e;if(Ae===null){for(;Le<J.length;Le++)Ae=ae(Y,J[Le],ue),Ae!==null&&(H=w(Ae,H,Le),De===null?_e=Ae:De.sibling=Ae,De=Ae);return bt&&Pa(Y,Le),_e}for(Ae=m(Y,Ae);Le<J.length;Le++)fn=fe(Ae,Y,Le,J[Le],ue),fn!==null&&(o&&fn.alternate!==null&&Ae.delete(fn.key===null?Le:fn.key),H=w(fn,H,Le),De===null?_e=fn:De.sibling=fn,De=fn);return o&&Ae.forEach(function(No){return l(Y,No)}),bt&&Pa(Y,Le),_e}function Te(Y,H,J,ue){var _e=ne(J);if(typeof _e!="function")throw Error(n(150));if(J=_e.call(J),J==null)throw Error(n(151));for(var De=_e=null,Ae=H,Le=H=0,fn=null,st=J.next();Ae!==null&&!st.done;Le++,st=J.next()){Ae.index>Le?(fn=Ae,Ae=null):fn=Ae.sibling;var No=se(Y,Ae,st.value,ue);if(No===null){Ae===null&&(Ae=fn);break}o&&Ae&&No.alternate===null&&l(Y,Ae),H=w(No,H,Le),De===null?_e=No:De.sibling=No,De=No,Ae=fn}if(st.done)return d(Y,Ae),bt&&Pa(Y,Le),_e;if(Ae===null){for(;!st.done;Le++,st=J.next())st=ae(Y,st.value,ue),st!==null&&(H=w(st,H,Le),De===null?_e=st:De.sibling=st,De=st);return bt&&Pa(Y,Le),_e}for(Ae=m(Y,Ae);!st.done;Le++,st=J.next())st=fe(Ae,Y,Le,st.value,ue),st!==null&&(o&&st.alternate!==null&&Ae.delete(st.key===null?Le:st.key),H=w(st,H,Le),De===null?_e=st:De.sibling=st,De=st);return o&&Ae.forEach(function(FL){return l(Y,FL)}),bt&&Pa(Y,Le),_e}function Gt(Y,H,J,ue){if(typeof J=="object"&&J!==null&&J.type===R&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case z:e:{for(var _e=J.key,De=H;De!==null;){if(De.key===_e){if(_e=J.type,_e===R){if(De.tag===7){d(Y,De.sibling),H=y(De,J.props.children),H.return=Y,Y=H;break e}}else if(De.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ye&&wE(_e)===De.type){d(Y,De.sibling),H=y(De,J.props),H.ref=Td(Y,De,J),H.return=Y,Y=H;break e}d(Y,De);break}else l(Y,De);De=De.sibling}J.type===R?(H=Ba(J.props.children,Y.mode,ue,J.key),H.return=Y,Y=H):(ue=Kp(J.type,J.key,J.props,null,Y.mode,ue),ue.ref=Td(Y,H,J),ue.return=Y,Y=ue)}return N(Y);case K:e:{for(De=J.key;H!==null;){if(H.key===De)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){d(Y,H.sibling),H=y(H,J.children||[]),H.return=Y,Y=H;break e}else{d(Y,H);break}else l(Y,H);H=H.sibling}H=v0(J,Y.mode,ue),H.return=Y,Y=H}return N(Y);case ye:return De=J._init,Gt(Y,H,De(J._payload),ue)}if(Ht(J))return be(Y,H,J,ue);if(ne(J))return Te(Y,H,J,ue);Sp(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(d(Y,H.sibling),H=y(H,J),H.return=Y,Y=H):(d(Y,H),H=y0(J,Y.mode,ue),H.return=Y,Y=H),N(Y)):d(Y,H)}return Gt}var xu=bE(!0),xE=bE(!1),Ep=vo(null),kp=null,Su=null,Cv=null;function Nv(){Cv=Su=kp=null}function Dv(o){var l=Ep.current;vt(Ep),o._currentValue=l}function Av(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function Eu(o,l){kp=o,Cv=Su=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Yn=!0),o.firstContext=null)}function Dr(o){var l=o._currentValue;if(Cv!==o)if(o={context:o,memoizedValue:l,next:null},Su===null){if(kp===null)throw Error(n(308));Su=o,kp.dependencies={lanes:0,firstContext:o}}else Su=Su.next=o;return l}var Ra=null;function Pv(o){Ra===null?Ra=[o]:Ra.push(o)}function SE(o,l,d,m){var y=l.interleaved;return y===null?(d.next=d,Pv(l)):(d.next=y.next,y.next=d),l.interleaved=d,bi(o,m)}function bi(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var xo=!1;function Rv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EE(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function xi(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function So(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(tt&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,bi(o,d)}return y=m.interleaved,y===null?(l.next=l,Pv(m)):(l.next=y.next,y.next=l),m.interleaved=l,bi(o,d)}function Tp(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,od(o,d)}}function kE(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var N={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?y=w=N:w=w.next=N,d=d.next}while(d!==null);w===null?y=w=l:w=w.next=l}else y=w=l;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,effects:m.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function _p(o,l,d,m){var y=o.updateQueue;xo=!1;var w=y.firstBaseUpdate,N=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var U=V,Z=U.next;U.next=null,N===null?w=Z:N.next=Z,N=U;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,V=ie.lastBaseUpdate,V!==N&&(V===null?ie.firstBaseUpdate=Z:V.next=Z,ie.lastBaseUpdate=U))}if(w!==null){var ae=y.baseState;N=0,ie=Z=U=null,V=w;do{var se=V.lane,fe=V.eventTime;if((m&se)===se){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var be=o,Te=V;switch(se=l,fe=d,Te.tag){case 1:if(be=Te.payload,typeof be=="function"){ae=be.call(fe,ae,se);break e}ae=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Te.payload,se=typeof be=="function"?be.call(fe,ae,se):be,se==null)break e;ae=oe({},ae,se);break e;case 2:xo=!0}}V.callback!==null&&V.lane!==0&&(o.flags|=64,se=y.effects,se===null?y.effects=[V]:se.push(V))}else fe={eventTime:fe,lane:se,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ie===null?(Z=ie=fe,U=ae):ie=ie.next=fe,N|=se;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;se=V,V=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ie===null&&(U=ae),y.baseState=U,y.firstBaseUpdate=Z,y.lastBaseUpdate=ie,l=y.shared.interleaved,l!==null){y=l;do N|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Oa|=N,o.lanes=N,o.memoizedState=ae}}function TE(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var m=o[l],y=m.callback;if(y!==null){if(m.callback=null,m=d,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var _d={},Ps=vo(_d),Id=vo(_d),Cd=vo(_d);function ja(o){if(o===_d)throw Error(n(174));return o}function jv(o,l){switch(ht(Cd,l),ht(Id,o),ht(Ps,_d),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Hl(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Hl(l,o)}vt(Ps),ht(Ps,l)}function ku(){vt(Ps),vt(Id),vt(Cd)}function _E(o){ja(Cd.current);var l=ja(Ps.current),d=Hl(l,o.type);l!==d&&(ht(Id,o),ht(Ps,d))}function Mv(o){Id.current===o&&(vt(Ps),vt(Id))}var kt=vo(0);function Ip(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ov=[];function Lv(){for(var o=0;o<Ov.length;o++)Ov[o]._workInProgressVersionPrimary=null;Ov.length=0}var Cp=B.ReactCurrentDispatcher,Vv=B.ReactCurrentBatchConfig,Ma=0,Tt=null,sn=null,dn=null,Np=!1,Nd=!1,Dd=0,aL=0;function In(){throw Error(n(321))}function Fv(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Jr(o[d],l[d]))return!1;return!0}function Bv(o,l,d,m,y,w){if(Ma=w,Tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Cp.current=o===null||o.memoizedState===null?dL:hL,o=d(m,y),Nd){w=0;do{if(Nd=!1,Dd=0,25<=w)throw Error(n(301));w+=1,dn=sn=null,l.updateQueue=null,Cp.current=fL,o=d(m,y)}while(Nd)}if(Cp.current=Pp,l=sn!==null&&sn.next!==null,Ma=0,dn=sn=Tt=null,Np=!1,l)throw Error(n(300));return o}function Uv(){var o=Dd!==0;return Dd=0,o}function Rs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Tt.memoizedState=dn=o:dn=dn.next=o,dn}function Ar(){if(sn===null){var o=Tt.alternate;o=o!==null?o.memoizedState:null}else o=sn.next;var l=dn===null?Tt.memoizedState:dn.next;if(l!==null)dn=l,sn=o;else{if(o===null)throw Error(n(310));sn=o,o={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},dn===null?Tt.memoizedState=dn=o:dn=dn.next=o}return dn}function Ad(o,l){return typeof l=="function"?l(o):l}function zv(o){var l=Ar(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=sn,y=m.baseQueue,w=d.pending;if(w!==null){if(y!==null){var N=y.next;y.next=w.next,w.next=N}m.baseQueue=y=w,d.pending=null}if(y!==null){w=y.next,m=m.baseState;var V=N=null,U=null,Z=w;do{var ie=Z.lane;if((Ma&ie)===ie)U!==null&&(U=U.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:o(m,Z.action);else{var ae={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};U===null?(V=U=ae,N=m):U=U.next=ae,Tt.lanes|=ie,Oa|=ie}Z=Z.next}while(Z!==null&&Z!==w);U===null?N=m:U.next=V,Jr(m,l.memoizedState)||(Yn=!0),l.memoizedState=m,l.baseState=N,l.baseQueue=U,d.lastRenderedState=m}if(o=d.interleaved,o!==null){y=o;do w=y.lane,Tt.lanes|=w,Oa|=w,y=y.next;while(y!==o)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function $v(o){var l=Ar(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=d.dispatch,y=d.pending,w=l.memoizedState;if(y!==null){d.pending=null;var N=y=y.next;do w=o(w,N.action),N=N.next;while(N!==y);Jr(w,l.memoizedState)||(Yn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,m]}function IE(){}function CE(o,l){var d=Tt,m=Ar(),y=l(),w=!Jr(m.memoizedState,y);if(w&&(m.memoizedState=y,Yn=!0),m=m.queue,qv(AE.bind(null,d,m,o),[o]),m.getSnapshot!==l||w||dn!==null&&dn.memoizedState.tag&1){if(d.flags|=2048,Pd(9,DE.bind(null,d,m,y,l),void 0,null),hn===null)throw Error(n(349));(Ma&30)!==0||NE(d,l,y)}return y}function NE(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Tt.updateQueue,l===null?(l={lastEffect:null,stores:null},Tt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function DE(o,l,d,m){l.value=d,l.getSnapshot=m,PE(l)&&RE(o)}function AE(o,l,d){return d(function(){PE(l)&&RE(o)})}function PE(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Jr(o,d)}catch{return!0}}function RE(o){var l=bi(o,1);l!==null&&rs(l,o,1,-1)}function jE(o){var l=Rs();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ad,lastRenderedState:o},l.queue=o,o=o.dispatch=cL.bind(null,Tt,o),[l.memoizedState,o]}function Pd(o,l,d,m){return o={tag:o,create:l,destroy:d,deps:m,next:null},l=Tt.updateQueue,l===null?(l={lastEffect:null,stores:null},Tt.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o)),o}function ME(){return Ar().memoizedState}function Dp(o,l,d,m){var y=Rs();Tt.flags|=o,y.memoizedState=Pd(1|l,d,void 0,m===void 0?null:m)}function Ap(o,l,d,m){var y=Ar();m=m===void 0?null:m;var w=void 0;if(sn!==null){var N=sn.memoizedState;if(w=N.destroy,m!==null&&Fv(m,N.deps)){y.memoizedState=Pd(l,d,w,m);return}}Tt.flags|=o,y.memoizedState=Pd(1|l,d,w,m)}function OE(o,l){return Dp(8390656,8,o,l)}function qv(o,l){return Ap(2048,8,o,l)}function LE(o,l){return Ap(4,2,o,l)}function VE(o,l){return Ap(4,4,o,l)}function FE(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function BE(o,l,d){return d=d!=null?d.concat([o]):null,Ap(4,4,FE.bind(null,l,o),d)}function Hv(){}function UE(o,l){var d=Ar();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Fv(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function zE(o,l){var d=Ar();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Fv(l,m[1])?m[0]:(o=o(),d.memoizedState=[o,l],o)}function $E(o,l,d){return(Ma&21)===0?(o.baseState&&(o.baseState=!1,Yn=!0),o.memoizedState=d):(Jr(d,l)||(d=sd(),Tt.lanes|=d,Oa|=d,o.baseState=!0),l)}function lL(o,l){var d=Qe;Qe=d!==0&&4>d?d:4,o(!0);var m=Vv.transition;Vv.transition={};try{o(!1),l()}finally{Qe=d,Vv.transition=m}}function qE(){return Ar().memoizedState}function uL(o,l,d){var m=_o(o);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},HE(o))KE(l,d);else if(d=SE(o,l,d,m),d!==null){var y=Vn();rs(d,o,m,y),GE(d,l,m)}}function cL(o,l,d){var m=_o(o),y={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(HE(o))KE(l,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var N=l.lastRenderedState,V=w(N,d);if(y.hasEagerState=!0,y.eagerState=V,Jr(V,N)){var U=l.interleaved;U===null?(y.next=y,Pv(l)):(y.next=U.next,U.next=y),l.interleaved=y;return}}catch{}finally{}d=SE(o,l,y,m),d!==null&&(y=Vn(),rs(d,o,m,y),GE(d,l,m))}}function HE(o){var l=o.alternate;return o===Tt||l!==null&&l===Tt}function KE(o,l){Nd=Np=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function GE(o,l,d){if((d&4194240)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,od(o,d)}}var Pp={readContext:Dr,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},dL={readContext:Dr,useCallback:function(o,l){return Rs().memoizedState=[o,l===void 0?null:l],o},useContext:Dr,useEffect:OE,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,Dp(4194308,4,FE.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Dp(4194308,4,o,l)},useInsertionEffect:function(o,l){return Dp(4,2,o,l)},useMemo:function(o,l){var d=Rs();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var m=Rs();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},m.queue=o,o=o.dispatch=uL.bind(null,Tt,o),[m.memoizedState,o]},useRef:function(o){var l=Rs();return o={current:o},l.memoizedState=o},useState:jE,useDebugValue:Hv,useDeferredValue:function(o){return Rs().memoizedState=o},useTransition:function(){var o=jE(!1),l=o[0];return o=lL.bind(null,o[1]),Rs().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var m=Tt,y=Rs();if(bt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),hn===null)throw Error(n(349));(Ma&30)!==0||NE(m,l,d)}y.memoizedState=d;var w={value:d,getSnapshot:l};return y.queue=w,OE(AE.bind(null,m,w,o),[o]),m.flags|=2048,Pd(9,DE.bind(null,m,w,d,l),void 0,null),d},useId:function(){var o=Rs(),l=hn.identifierPrefix;if(bt){var d=wi,m=vi;d=(m&~(1<<32-lr(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=Dd++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=aL++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},hL={readContext:Dr,useCallback:UE,useContext:Dr,useEffect:qv,useImperativeHandle:BE,useInsertionEffect:LE,useLayoutEffect:VE,useMemo:zE,useReducer:zv,useRef:ME,useState:function(){return zv(Ad)},useDebugValue:Hv,useDeferredValue:function(o){var l=Ar();return $E(l,sn.memoizedState,o)},useTransition:function(){var o=zv(Ad)[0],l=Ar().memoizedState;return[o,l]},useMutableSource:IE,useSyncExternalStore:CE,useId:qE,unstable_isNewReconciler:!1},fL={readContext:Dr,useCallback:UE,useContext:Dr,useEffect:qv,useImperativeHandle:BE,useInsertionEffect:LE,useLayoutEffect:VE,useMemo:zE,useReducer:$v,useRef:ME,useState:function(){return $v(Ad)},useDebugValue:Hv,useDeferredValue:function(o){var l=Ar();return sn===null?l.memoizedState=o:$E(l,sn.memoizedState,o)},useTransition:function(){var o=$v(Ad)[0],l=Ar().memoizedState;return[o,l]},useMutableSource:IE,useSyncExternalStore:CE,useId:qE,unstable_isNewReconciler:!1};function es(o,l){if(o&&o.defaultProps){l=oe({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function Kv(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:oe({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Rp={isMounted:function(o){return(o=o._reactInternals)?Yr(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var m=Vn(),y=_o(o),w=xi(m,y);w.payload=l,d!=null&&(w.callback=d),l=So(o,w,y),l!==null&&(rs(l,o,y,m),Tp(l,o,y))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=Vn(),y=_o(o),w=xi(m,y);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=So(o,w,y),l!==null&&(rs(l,o,y,m),Tp(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Vn(),m=_o(o),y=xi(d,m);y.tag=2,l!=null&&(y.callback=l),l=So(o,y,m),l!==null&&(rs(l,o,m,d),Tp(l,o,m))}};function WE(o,l,d,m,y,w,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,w,N):l.prototype&&l.prototype.isPureReactComponent?!vd(d,m)||!vd(y,w):!0}function QE(o,l,d){var m=!1,y=wo,w=l.contextType;return typeof w=="object"&&w!==null?w=Dr(w):(y=Qn(l)?Da:_n.current,m=l.contextTypes,w=(m=m!=null)?yu(o,y):wo),l=new l(d,w),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Rp,o.stateNode=l,l._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=w),l}function YE(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&Rp.enqueueReplaceState(l,l.state,null)}function Gv(o,l,d,m){var y=o.stateNode;y.props=d,y.state=o.memoizedState,y.refs={},Rv(o);var w=l.contextType;typeof w=="object"&&w!==null?y.context=Dr(w):(w=Qn(l)?Da:_n.current,y.context=yu(o,w)),y.state=o.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Kv(o,l,w,d),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Rp.enqueueReplaceState(y,y.state,null),_p(o,d,y,m),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function Tu(o,l){try{var d="",m=l;do d+=Re(m),m=m.return;while(m);var y=d}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:l,stack:y,digest:null}}function Wv(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function Qv(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var pL=typeof WeakMap=="function"?WeakMap:Map;function XE(o,l,d){d=xi(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){Bp||(Bp=!0,u0=m),Qv(o,l)},d}function JE(o,l,d){d=xi(-1,d),d.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=l.value;d.payload=function(){return m(y)},d.callback=function(){Qv(o,l)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){Qv(o,l),typeof m!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})}),d}function ZE(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new pL;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(d)||(y.add(d),o=CL.bind(null,o,l,d),l.then(o,o))}function ek(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function tk(o,l,d,m,y){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=xi(-1,1),l.tag=2,So(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var mL=B.ReactCurrentOwner,Yn=!1;function Ln(o,l,d,m){l.child=o===null?xE(l,null,d,m):xu(l,o.child,d,m)}function nk(o,l,d,m,y){d=d.render;var w=l.ref;return Eu(l,y),m=Bv(o,l,d,m,w,y),d=Uv(),o!==null&&!Yn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Si(o,l,y)):(bt&&d&&Ev(l),l.flags|=1,Ln(o,l,m,y),l.child)}function rk(o,l,d,m,y){if(o===null){var w=d.type;return typeof w=="function"&&!g0(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=w,sk(o,l,w,m,y)):(o=Kp(d.type,null,m,l,l.mode,y),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,(o.lanes&y)===0){var N=w.memoizedProps;if(d=d.compare,d=d!==null?d:vd,d(N,m)&&o.ref===l.ref)return Si(o,l,y)}return l.flags|=1,o=Co(w,m),o.ref=l.ref,o.return=l,l.child=o}function sk(o,l,d,m,y){if(o!==null){var w=o.memoizedProps;if(vd(w,m)&&o.ref===l.ref)if(Yn=!1,l.pendingProps=m=w,(o.lanes&y)!==0)(o.flags&131072)!==0&&(Yn=!0);else return l.lanes=o.lanes,Si(o,l,y)}return Yv(o,l,d,m,y)}function ik(o,l,d){var m=l.pendingProps,y=m.children,w=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Iu,mr),mr|=d;else{if((d&1073741824)===0)return o=w!==null?w.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,ht(Iu,mr),mr|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:d,ht(Iu,mr),mr|=m}else w!==null?(m=w.baseLanes|d,l.memoizedState=null):m=d,ht(Iu,mr),mr|=m;return Ln(o,l,y,d),l.child}function ok(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Yv(o,l,d,m,y){var w=Qn(d)?Da:_n.current;return w=yu(l,w),Eu(l,y),d=Bv(o,l,d,m,w,y),m=Uv(),o!==null&&!Yn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Si(o,l,y)):(bt&&m&&Ev(l),l.flags|=1,Ln(o,l,d,y),l.child)}function ak(o,l,d,m,y){if(Qn(d)){var w=!0;yp(l)}else w=!1;if(Eu(l,y),l.stateNode===null)Mp(o,l),QE(l,d,m),Gv(l,d,m,y),m=!0;else if(o===null){var N=l.stateNode,V=l.memoizedProps;N.props=V;var U=N.context,Z=d.contextType;typeof Z=="object"&&Z!==null?Z=Dr(Z):(Z=Qn(d)?Da:_n.current,Z=yu(l,Z));var ie=d.getDerivedStateFromProps,ae=typeof ie=="function"||typeof N.getSnapshotBeforeUpdate=="function";ae||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==m||U!==Z)&&YE(l,N,m,Z),xo=!1;var se=l.memoizedState;N.state=se,_p(l,m,N,y),U=l.memoizedState,V!==m||se!==U||Wn.current||xo?(typeof ie=="function"&&(Kv(l,d,ie,m),U=l.memoizedState),(V=xo||WE(l,d,V,m,se,U,Z))?(ae||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=U),N.props=m,N.state=U,N.context=Z,m=V):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{N=l.stateNode,EE(o,l),V=l.memoizedProps,Z=l.type===l.elementType?V:es(l.type,V),N.props=Z,ae=l.pendingProps,se=N.context,U=d.contextType,typeof U=="object"&&U!==null?U=Dr(U):(U=Qn(d)?Da:_n.current,U=yu(l,U));var fe=d.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==ae||se!==U)&&YE(l,N,m,U),xo=!1,se=l.memoizedState,N.state=se,_p(l,m,N,y);var be=l.memoizedState;V!==ae||se!==be||Wn.current||xo?(typeof fe=="function"&&(Kv(l,d,fe,m),be=l.memoizedState),(Z=xo||WE(l,d,Z,m,se,be,U)||!1)?(ie||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,be,U),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,be,U)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=be),N.props=m,N.state=be,N.context=U,m=Z):(typeof N.componentDidUpdate!="function"||V===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),m=!1)}return Xv(o,l,d,m,w,y)}function Xv(o,l,d,m,y,w){ok(o,l);var N=(l.flags&128)!==0;if(!m&&!N)return y&&hE(l,d,!1),Si(o,l,w);m=l.stateNode,mL.current=l;var V=N&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,o!==null&&N?(l.child=xu(l,o.child,null,w),l.child=xu(l,null,V,w)):Ln(o,l,V,w),l.memoizedState=m.state,y&&hE(l,d,!0),l.child}function lk(o){var l=o.stateNode;l.pendingContext?cE(o,l.pendingContext,l.pendingContext!==l.context):l.context&&cE(o,l.context,!1),jv(o,l.containerInfo)}function uk(o,l,d,m,y){return bu(),Iv(y),l.flags|=256,Ln(o,l,d,m),l.child}var Jv={dehydrated:null,treeContext:null,retryLane:0};function Zv(o){return{baseLanes:o,cachePool:null,transitions:null}}function ck(o,l,d){var m=l.pendingProps,y=kt.current,w=!1,N=(l.flags&128)!==0,V;if((V=N)||(V=o!==null&&o.memoizedState===null?!1:(y&2)!==0),V?(w=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),ht(kt,y&1),o===null)return _v(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(N=m.children,o=m.fallback,w?(m=l.mode,w=l.child,N={mode:"hidden",children:N},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=N):w=Gp(N,m,0,null),o=Ba(o,m,d,null),w.return=l,o.return=l,w.sibling=o,l.child=w,l.child.memoizedState=Zv(d),l.memoizedState=Jv,o):e0(l,N));if(y=o.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return gL(o,l,N,m,V,y,d);if(w){w=m.fallback,N=l.mode,y=o.child,V=y.sibling;var U={mode:"hidden",children:m.children};return(N&1)===0&&l.child!==y?(m=l.child,m.childLanes=0,m.pendingProps=U,l.deletions=null):(m=Co(y,U),m.subtreeFlags=y.subtreeFlags&14680064),V!==null?w=Co(V,w):(w=Ba(w,N,d,null),w.flags|=2),w.return=l,m.return=l,m.sibling=w,l.child=m,m=w,w=l.child,N=o.child.memoizedState,N=N===null?Zv(d):{baseLanes:N.baseLanes|d,cachePool:null,transitions:N.transitions},w.memoizedState=N,w.childLanes=o.childLanes&~d,l.memoizedState=Jv,m}return w=o.child,o=w.sibling,m=Co(w,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=m,l.memoizedState=null,m}function e0(o,l){return l=Gp({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function jp(o,l,d,m){return m!==null&&Iv(m),xu(l,o.child,null,d),o=e0(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function gL(o,l,d,m,y,w,N){if(d)return l.flags&256?(l.flags&=-257,m=Wv(Error(n(422))),jp(o,l,N,m)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(w=m.fallback,y=l.mode,m=Gp({mode:"visible",children:m.children},y,0,null),w=Ba(w,y,N,null),w.flags|=2,m.return=l,w.return=l,m.sibling=w,l.child=m,(l.mode&1)!==0&&xu(l,o.child,null,N),l.child.memoizedState=Zv(N),l.memoizedState=Jv,w);if((l.mode&1)===0)return jp(o,l,N,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var V=m.dgst;return m=V,w=Error(n(419)),m=Wv(w,m,void 0),jp(o,l,N,m)}if(V=(N&o.childLanes)!==0,Yn||V){if(m=hn,m!==null){switch(N&-N){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|N))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,bi(o,y),rs(m,o,y,-1))}return m0(),m=Wv(Error(n(421))),jp(o,l,N,m)}return y.data==="$?"?(l.flags|=128,l.child=o.child,l=NL.bind(null,o),y._reactRetry=l,null):(o=w.treeContext,pr=yo(y.nextSibling),fr=l,bt=!0,Zr=null,o!==null&&(Cr[Nr++]=vi,Cr[Nr++]=wi,Cr[Nr++]=Aa,vi=o.id,wi=o.overflow,Aa=l),l=e0(l,m.children),l.flags|=4096,l)}function dk(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),Av(o.return,l,d)}function t0(o,l,d,m,y){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=d,w.tailMode=y)}function hk(o,l,d){var m=l.pendingProps,y=m.revealOrder,w=m.tail;if(Ln(o,l,m.children,d),m=kt.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&dk(o,d,l);else if(o.tag===19)dk(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(ht(kt,m),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)o=d.alternate,o!==null&&Ip(o)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),t0(l,!1,y,d,w);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(o=y.alternate,o!==null&&Ip(o)===null){l.child=y;break}o=y.sibling,y.sibling=d,d=y,y=o}t0(l,!0,d,null,w);break;case"together":t0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Mp(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Si(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Oa|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,d=Co(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Co(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function yL(o,l,d){switch(l.tag){case 3:lk(l),bu();break;case 5:_E(l);break;case 1:Qn(l.type)&&yp(l);break;case 4:jv(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,y=l.memoizedProps.value;ht(Ep,m._currentValue),m._currentValue=y;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(ht(kt,kt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?ck(o,l,d):(ht(kt,kt.current&1),o=Si(o,l,d),o!==null?o.sibling:null);ht(kt,kt.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(o.flags&128)!==0){if(m)return hk(o,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ht(kt,kt.current),m)break;return null;case 22:case 23:return l.lanes=0,ik(o,l,d)}return Si(o,l,d)}var fk,n0,pk,mk;fk=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},n0=function(){},pk=function(o,l,d,m){var y=o.memoizedProps;if(y!==m){o=l.stateNode,ja(Ps.current);var w=null;switch(d){case"input":y=Xi(o,y),m=Xi(o,m),w=[];break;case"select":y=oe({},y,{value:void 0}),m=oe({},m,{value:void 0}),w=[];break;case"textarea":y=Gc(o,y),m=Gc(o,m),w=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=pp)}Qr(d,m);var N;d=null;for(Z in y)if(!m.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var V=y[Z];for(N in V)V.hasOwnProperty(N)&&(d||(d={}),d[N]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in m){var U=m[Z];if(V=y!=null?y[Z]:void 0,m.hasOwnProperty(Z)&&U!==V&&(U!=null||V!=null))if(Z==="style")if(V){for(N in V)!V.hasOwnProperty(N)||U&&U.hasOwnProperty(N)||(d||(d={}),d[N]="");for(N in U)U.hasOwnProperty(N)&&V[N]!==U[N]&&(d||(d={}),d[N]=U[N])}else d||(w||(w=[]),w.push(Z,d)),d=U;else Z==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,V=V?V.__html:void 0,U!=null&&V!==U&&(w=w||[]).push(Z,U)):Z==="children"?typeof U!="string"&&typeof U!="number"||(w=w||[]).push(Z,""+U):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(U!=null&&Z==="onScroll"&&yt("scroll",o),w||V===U||(w=[])):(w=w||[]).push(Z,U))}d&&(w=w||[]).push("style",d);var Z=w;(l.updateQueue=Z)&&(l.flags|=4)}},mk=function(o,l,d,m){d!==m&&(l.flags|=4)};function Rd(o,l){if(!bt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Cn(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var y=o.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function vL(o,l,d){var m=l.pendingProps;switch(kv(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(l),null;case 1:return Qn(l.type)&&gp(),Cn(l),null;case 3:return m=l.stateNode,ku(),vt(Wn),vt(_n),Lv(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(xp(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Zr!==null&&(h0(Zr),Zr=null))),n0(o,l),Cn(l),null;case 5:Mv(l);var y=ja(Cd.current);if(d=l.type,o!==null&&l.stateNode!=null)pk(o,l,d,m,y),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return Cn(l),null}if(o=ja(Ps.current),xp(l)){m=l.stateNode,d=l.type;var w=l.memoizedProps;switch(m[As]=l,m[Ed]=w,o=(l.mode&1)!==0,d){case"dialog":yt("cancel",m),yt("close",m);break;case"iframe":case"object":case"embed":yt("load",m);break;case"video":case"audio":for(y=0;y<bd.length;y++)yt(bd[y],m);break;case"source":yt("error",m);break;case"img":case"image":case"link":yt("error",m),yt("load",m);break;case"details":yt("toggle",m);break;case"input":ql(m,w),yt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},yt("invalid",m);break;case"textarea":Wc(m,w),yt("invalid",m)}Qr(d,w),y=null;for(var N in w)if(w.hasOwnProperty(N)){var V=w[N];N==="children"?typeof V=="string"?m.textContent!==V&&(w.suppressHydrationWarning!==!0&&fp(m.textContent,V,o),y=["children",V]):typeof V=="number"&&m.textContent!==""+V&&(w.suppressHydrationWarning!==!0&&fp(m.textContent,V,o),y=["children",""+V]):s.hasOwnProperty(N)&&V!=null&&N==="onScroll"&&yt("scroll",m)}switch(d){case"input":kr(m),pa(m,w,!0);break;case"textarea":kr(m),Zi(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=pp)}m=y,l.updateQueue=m,m!==null&&(l.flags|=4)}else{N=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Qc(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=N.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=N.createElement(d,{is:m.is}):(o=N.createElement(d),d==="select"&&(N=o,m.multiple?N.multiple=!0:m.size&&(N.size=m.size))):o=N.createElementNS(o,d),o[As]=l,o[Ed]=m,fk(o,l,!1,!1),l.stateNode=o;e:{switch(N=Gl(d,m),d){case"dialog":yt("cancel",o),yt("close",o),y=m;break;case"iframe":case"object":case"embed":yt("load",o),y=m;break;case"video":case"audio":for(y=0;y<bd.length;y++)yt(bd[y],o);y=m;break;case"source":yt("error",o),y=m;break;case"img":case"image":case"link":yt("error",o),yt("load",o),y=m;break;case"details":yt("toggle",o),y=m;break;case"input":ql(o,m),y=Xi(o,m),yt("invalid",o);break;case"option":y=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},y=oe({},m,{value:void 0}),yt("invalid",o);break;case"textarea":Wc(o,m),y=Gc(o,m),yt("invalid",o);break;default:y=m}Qr(d,y),V=y;for(w in V)if(V.hasOwnProperty(w)){var U=V[w];w==="style"?Kl(o,U):w==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Uf(o,U)):w==="children"?typeof U=="string"?(d!=="textarea"||U!=="")&&ma(o,U):typeof U=="number"&&ma(o,""+U):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?U!=null&&w==="onScroll"&&yt("scroll",o):U!=null&&M(o,w,U,N))}switch(d){case"input":kr(o),pa(o,m,!1);break;case"textarea":kr(o),Zi(o);break;case"option":m.value!=null&&o.setAttribute("value",""+$e(m.value));break;case"select":o.multiple=!!m.multiple,w=m.value,w!=null?Wr(o,!!m.multiple,w,!1):m.defaultValue!=null&&Wr(o,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=pp)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Cn(l),null;case 6:if(o&&l.stateNode!=null)mk(o,l,o.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(d=ja(Cd.current),ja(Ps.current),xp(l)){if(m=l.stateNode,d=l.memoizedProps,m[As]=l,(w=m.nodeValue!==d)&&(o=fr,o!==null))switch(o.tag){case 3:fp(m.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&fp(m.nodeValue,d,(o.mode&1)!==0)}w&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[As]=l,l.stateNode=m}return Cn(l),null;case 13:if(vt(kt),m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(bt&&pr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)vE(),bu(),l.flags|=98560,w=!1;else if(w=xp(l),m!==null&&m.dehydrated!==null){if(o===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[As]=l}else bu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Cn(l),w=!1}else Zr!==null&&(h0(Zr),Zr=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(kt.current&1)!==0?on===0&&(on=3):m0())),l.updateQueue!==null&&(l.flags|=4),Cn(l),null);case 4:return ku(),n0(o,l),o===null&&xd(l.stateNode.containerInfo),Cn(l),null;case 10:return Dv(l.type._context),Cn(l),null;case 17:return Qn(l.type)&&gp(),Cn(l),null;case 19:if(vt(kt),w=l.memoizedState,w===null)return Cn(l),null;if(m=(l.flags&128)!==0,N=w.rendering,N===null)if(m)Rd(w,!1);else{if(on!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(N=Ip(o),N!==null){for(l.flags|=128,Rd(w,!1),m=N.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)w=d,o=m,w.flags&=14680066,N=w.alternate,N===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=N.childLanes,w.lanes=N.lanes,w.child=N.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=N.memoizedProps,w.memoizedState=N.memoizedState,w.updateQueue=N.updateQueue,w.type=N.type,o=N.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return ht(kt,kt.current&1|2),l.child}o=o.sibling}w.tail!==null&&gt()>Cu&&(l.flags|=128,m=!0,Rd(w,!1),l.lanes=4194304)}else{if(!m)if(o=Ip(N),o!==null){if(l.flags|=128,m=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Rd(w,!0),w.tail===null&&w.tailMode==="hidden"&&!N.alternate&&!bt)return Cn(l),null}else 2*gt()-w.renderingStartTime>Cu&&d!==1073741824&&(l.flags|=128,m=!0,Rd(w,!1),l.lanes=4194304);w.isBackwards?(N.sibling=l.child,l.child=N):(d=w.last,d!==null?d.sibling=N:l.child=N,w.last=N)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=gt(),l.sibling=null,d=kt.current,ht(kt,m?d&1|2:d&1),l):(Cn(l),null);case 22:case 23:return p0(),m=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(mr&1073741824)!==0&&(Cn(l),l.subtreeFlags&6&&(l.flags|=8192)):Cn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function wL(o,l){switch(kv(l),l.tag){case 1:return Qn(l.type)&&gp(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ku(),vt(Wn),vt(_n),Lv(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Mv(l),null;case 13:if(vt(kt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));bu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return vt(kt),null;case 4:return ku(),null;case 10:return Dv(l.type._context),null;case 22:case 23:return p0(),null;case 24:return null;default:return null}}var Op=!1,Nn=!1,bL=typeof WeakSet=="function"?WeakSet:Set,we=null;function _u(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){At(o,l,m)}else d.current=null}function gk(o,l,d){try{d()}catch(m){At(o,l,m)}}var yk=!1;function xL(o,l){if(mv=pi,o=WS(),av(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var N=0,V=-1,U=-1,Z=0,ie=0,ae=o,se=null;t:for(;;){for(var fe;ae!==d||y!==0&&ae.nodeType!==3||(V=N+y),ae!==w||m!==0&&ae.nodeType!==3||(U=N+m),ae.nodeType===3&&(N+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)se=ae,ae=fe;for(;;){if(ae===o)break t;if(se===d&&++Z===y&&(V=N),se===w&&++ie===m&&(U=N),(fe=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=fe}d=V===-1||U===-1?null:{start:V,end:U}}else d=null}d=d||{start:0,end:0}}else d=null;for(gv={focusedElem:o,selectionRange:d},pi=!1,we=l;we!==null;)if(l=we,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,we=o;else for(;we!==null;){l=we;try{var be=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Te=be.memoizedProps,Gt=be.memoizedState,Y=l.stateNode,H=Y.getSnapshotBeforeUpdate(l.elementType===l.type?Te:es(l.type,Te),Gt);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){At(l,l.return,ue)}if(o=l.sibling,o!==null){o.return=l.return,we=o;break}we=l.return}return be=yk,yk=!1,be}function jd(o,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&o)===o){var w=y.destroy;y.destroy=void 0,w!==void 0&&gk(l,d,w)}y=y.next}while(y!==m)}}function Lp(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function r0(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function vk(o){var l=o.alternate;l!==null&&(o.alternate=null,vk(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[As],delete l[Ed],delete l[bv],delete l[rL],delete l[sL])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function wk(o){return o.tag===5||o.tag===3||o.tag===4}function bk(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||wk(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function s0(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=pp));else if(m!==4&&(o=o.child,o!==null))for(s0(o,l,d),o=o.sibling;o!==null;)s0(o,l,d),o=o.sibling}function i0(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(i0(o,l,d),o=o.sibling;o!==null;)i0(o,l,d),o=o.sibling}var vn=null,ts=!1;function Eo(o,l,d){for(d=d.child;d!==null;)xk(o,l,d),d=d.sibling}function xk(o,l,d){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(ba,d)}catch{}switch(d.tag){case 5:Nn||_u(d,l);case 6:var m=vn,y=ts;vn=null,Eo(o,l,d),vn=m,ts=y,vn!==null&&(ts?(o=vn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):vn.removeChild(d.stateNode));break;case 18:vn!==null&&(ts?(o=vn,d=d.stateNode,o.nodeType===8?wv(o.parentNode,d):o.nodeType===1&&wv(o,d),ho(o)):wv(vn,d.stateNode));break;case 4:m=vn,y=ts,vn=d.stateNode.containerInfo,ts=!0,Eo(o,l,d),vn=m,ts=y;break;case 0:case 11:case 14:case 15:if(!Nn&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var w=y,N=w.destroy;w=w.tag,N!==void 0&&((w&2)!==0||(w&4)!==0)&&gk(d,l,N),y=y.next}while(y!==m)}Eo(o,l,d);break;case 1:if(!Nn&&(_u(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(V){At(d,l,V)}Eo(o,l,d);break;case 21:Eo(o,l,d);break;case 22:d.mode&1?(Nn=(m=Nn)||d.memoizedState!==null,Eo(o,l,d),Nn=m):Eo(o,l,d);break;default:Eo(o,l,d)}}function Sk(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new bL),l.forEach(function(m){var y=DL.bind(null,o,m);d.has(m)||(d.add(m),m.then(y,y))})}}function ns(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];try{var w=o,N=l,V=N;e:for(;V!==null;){switch(V.tag){case 5:vn=V.stateNode,ts=!1;break e;case 3:vn=V.stateNode.containerInfo,ts=!0;break e;case 4:vn=V.stateNode.containerInfo,ts=!0;break e}V=V.return}if(vn===null)throw Error(n(160));xk(w,N,y),vn=null,ts=!1;var U=y.alternate;U!==null&&(U.return=null),y.return=null}catch(Z){At(y,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Ek(l,o),l=l.sibling}function Ek(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ns(l,o),js(o),m&4){try{jd(3,o,o.return),Lp(3,o)}catch(Te){At(o,o.return,Te)}try{jd(5,o,o.return)}catch(Te){At(o,o.return,Te)}}break;case 1:ns(l,o),js(o),m&512&&d!==null&&_u(d,d.return);break;case 5:if(ns(l,o),js(o),m&512&&d!==null&&_u(d,d.return),o.flags&32){var y=o.stateNode;try{ma(y,"")}catch(Te){At(o,o.return,Te)}}if(m&4&&(y=o.stateNode,y!=null)){var w=o.memoizedProps,N=d!==null?d.memoizedProps:w,V=o.type,U=o.updateQueue;if(o.updateQueue=null,U!==null)try{V==="input"&&w.type==="radio"&&w.name!=null&&Ji(y,w),Gl(V,N);var Z=Gl(V,w);for(N=0;N<U.length;N+=2){var ie=U[N],ae=U[N+1];ie==="style"?Kl(y,ae):ie==="dangerouslySetInnerHTML"?Uf(y,ae):ie==="children"?ma(y,ae):M(y,ie,ae,Z)}switch(V){case"input":oi(y,w);break;case"textarea":Bf(y,w);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?Wr(y,!!w.multiple,fe,!1):se!==!!w.multiple&&(w.defaultValue!=null?Wr(y,!!w.multiple,w.defaultValue,!0):Wr(y,!!w.multiple,w.multiple?[]:"",!1))}y[Ed]=w}catch(Te){At(o,o.return,Te)}}break;case 6:if(ns(l,o),js(o),m&4){if(o.stateNode===null)throw Error(n(162));y=o.stateNode,w=o.memoizedProps;try{y.nodeValue=w}catch(Te){At(o,o.return,Te)}}break;case 3:if(ns(l,o),js(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{ho(l.containerInfo)}catch(Te){At(o,o.return,Te)}break;case 4:ns(l,o),js(o);break;case 13:ns(l,o),js(o),y=o.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(l0=gt())),m&4&&Sk(o);break;case 22:if(ie=d!==null&&d.memoizedState!==null,o.mode&1?(Nn=(Z=Nn)||ie,ns(l,o),Nn=Z):ns(l,o),js(o),m&8192){if(Z=o.memoizedState!==null,(o.stateNode.isHidden=Z)&&!ie&&(o.mode&1)!==0)for(we=o,ie=o.child;ie!==null;){for(ae=we=ie;we!==null;){switch(se=we,fe=se.child,se.tag){case 0:case 11:case 14:case 15:jd(4,se,se.return);break;case 1:_u(se,se.return);var be=se.stateNode;if(typeof be.componentWillUnmount=="function"){m=se,d=se.return;try{l=m,be.props=l.memoizedProps,be.state=l.memoizedState,be.componentWillUnmount()}catch(Te){At(m,d,Te)}}break;case 5:_u(se,se.return);break;case 22:if(se.memoizedState!==null){_k(ae);continue}}fe!==null?(fe.return=se,we=fe):_k(ae)}ie=ie.sibling}e:for(ie=null,ae=o;;){if(ae.tag===5){if(ie===null){ie=ae;try{y=ae.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(V=ae.stateNode,U=ae.memoizedProps.style,N=U!=null&&U.hasOwnProperty("display")?U.display:null,V.style.display=no("display",N))}catch(Te){At(o,o.return,Te)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=Z?"":ae.memoizedProps}catch(Te){At(o,o.return,Te)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===o)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===o)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===o)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:ns(l,o),js(o),m&4&&Sk(o);break;case 21:break;default:ns(l,o),js(o)}}function js(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(wk(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(ma(y,""),m.flags&=-33);var w=bk(o);i0(o,w,y);break;case 3:case 4:var N=m.stateNode.containerInfo,V=bk(o);s0(o,V,N);break;default:throw Error(n(161))}}catch(U){At(o,o.return,U)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function SL(o,l,d){we=o,kk(o)}function kk(o,l,d){for(var m=(o.mode&1)!==0;we!==null;){var y=we,w=y.child;if(y.tag===22&&m){var N=y.memoizedState!==null||Op;if(!N){var V=y.alternate,U=V!==null&&V.memoizedState!==null||Nn;V=Op;var Z=Nn;if(Op=N,(Nn=U)&&!Z)for(we=y;we!==null;)N=we,U=N.child,N.tag===22&&N.memoizedState!==null?Ik(y):U!==null?(U.return=N,we=U):Ik(y);for(;w!==null;)we=w,kk(w),w=w.sibling;we=y,Op=V,Nn=Z}Tk(o)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,we=w):Tk(o)}}function Tk(o){for(;we!==null;){var l=we;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Nn||Lp(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!Nn)if(d===null)m.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:es(l.type,d.memoizedProps);m.componentDidUpdate(y,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&TE(l,w,m);break;case 3:var N=l.updateQueue;if(N!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}TE(l,N,d)}break;case 5:var V=l.stateNode;if(d===null&&l.flags&4){d=V;var U=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&d.focus();break;case"img":U.src&&(d.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&ho(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nn||l.flags&512&&r0(l)}catch(se){At(l,l.return,se)}}if(l===o){we=null;break}if(d=l.sibling,d!==null){d.return=l.return,we=d;break}we=l.return}}function _k(o){for(;we!==null;){var l=we;if(l===o){we=null;break}var d=l.sibling;if(d!==null){d.return=l.return,we=d;break}we=l.return}}function Ik(o){for(;we!==null;){var l=we;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Lp(4,l)}catch(U){At(l,d,U)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var y=l.return;try{m.componentDidMount()}catch(U){At(l,y,U)}}var w=l.return;try{r0(l)}catch(U){At(l,w,U)}break;case 5:var N=l.return;try{r0(l)}catch(U){At(l,N,U)}}}catch(U){At(l,l.return,U)}if(l===o){we=null;break}var V=l.sibling;if(V!==null){V.return=l.return,we=V;break}we=l.return}}var EL=Math.ceil,Vp=B.ReactCurrentDispatcher,o0=B.ReactCurrentOwner,Pr=B.ReactCurrentBatchConfig,tt=0,hn=null,Zt=null,wn=0,mr=0,Iu=vo(0),on=0,Md=null,Oa=0,Fp=0,a0=0,Od=null,Xn=null,l0=0,Cu=1/0,Ei=null,Bp=!1,u0=null,ko=null,Up=!1,To=null,zp=0,Ld=0,c0=null,$p=-1,qp=0;function Vn(){return(tt&6)!==0?gt():$p!==-1?$p:$p=gt()}function _o(o){return(o.mode&1)===0?1:(tt&2)!==0&&wn!==0?wn&-wn:oL.transition!==null?(qp===0&&(qp=sd()),qp):(o=Qe,o!==0||(o=window.event,o=o===void 0?16:ru(o.type)),o)}function rs(o,l,d,m){if(50<Ld)throw Ld=0,c0=null,Error(n(185));ka(o,d,m),((tt&2)===0||o!==hn)&&(o===hn&&((tt&2)===0&&(Fp|=d),on===4&&Io(o,wn)),Jn(o,m),d===1&&tt===0&&(l.mode&1)===0&&(Cu=gt()+500,vp&&bo()))}function Jn(o,l){var d=o.callbackNode;Ea(o,l);var m=di(o,o===hn?wn:0);if(m===0)d!==null&&Yl(d),o.callbackNode=null,o.callbackPriority=0;else if(l=m&-m,o.callbackPriority!==l){if(d!=null&&Yl(d),l===1)o.tag===0?iL(Nk.bind(null,o)):fE(Nk.bind(null,o)),tL(function(){(tt&6)===0&&bo()}),d=null;else{switch(xs(m)){case 1:d=Xl;break;case 4:d=td;break;case 16:d=wa;break;case 536870912:d=Jl;break;default:d=wa}d=Lk(d,Ck.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function Ck(o,l){if($p=-1,qp=0,(tt&6)!==0)throw Error(n(327));var d=o.callbackNode;if(Nu()&&o.callbackNode!==d)return null;var m=di(o,o===hn?wn:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||l)l=Hp(o,m);else{l=m;var y=tt;tt|=2;var w=Ak();(hn!==o||wn!==l)&&(Ei=null,Cu=gt()+500,Va(o,l));do try{_L();break}catch(V){Dk(o,V)}while(!0);Nv(),Vp.current=w,tt=y,Zt!==null?l=0:(hn=null,wn=0,l=on)}if(l!==0){if(l===2&&(y=rd(o),y!==0&&(m=y,l=d0(o,y))),l===1)throw d=Md,Va(o,0),Io(o,m),Jn(o,gt()),d;if(l===6)Io(o,m);else{if(y=o.current.alternate,(m&30)===0&&!kL(y)&&(l=Hp(o,m),l===2&&(w=rd(o),w!==0&&(m=w,l=d0(o,w))),l===1))throw d=Md,Va(o,0),Io(o,m),Jn(o,gt()),d;switch(o.finishedWork=y,o.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:Fa(o,Xn,Ei);break;case 3:if(Io(o,m),(m&130023424)===m&&(l=l0+500-gt(),10<l)){if(di(o,0)!==0)break;if(y=o.suspendedLanes,(y&m)!==m){Vn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=vv(Fa.bind(null,o,Xn,Ei),l);break}Fa(o,Xn,Ei);break;case 4:if(Io(o,m),(m&4194240)===m)break;for(l=o.eventTimes,y=-1;0<m;){var N=31-lr(m);w=1<<N,N=l[N],N>y&&(y=N),m&=~w}if(m=y,m=gt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*EL(m/1960))-m,10<m){o.timeoutHandle=vv(Fa.bind(null,o,Xn,Ei),m);break}Fa(o,Xn,Ei);break;case 5:Fa(o,Xn,Ei);break;default:throw Error(n(329))}}}return Jn(o,gt()),o.callbackNode===d?Ck.bind(null,o):null}function d0(o,l){var d=Od;return o.current.memoizedState.isDehydrated&&(Va(o,l).flags|=256),o=Hp(o,l),o!==2&&(l=Xn,Xn=d,l!==null&&h0(l)),o}function h0(o){Xn===null?Xn=o:Xn.push.apply(Xn,o)}function kL(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var y=d[m],w=y.getSnapshot;y=y.value;try{if(!Jr(w(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Io(o,l){for(l&=~a0,l&=~Fp,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-lr(l),m=1<<d;o[d]=-1,l&=~m}}function Nk(o){if((tt&6)!==0)throw Error(n(327));Nu();var l=di(o,0);if((l&1)===0)return Jn(o,gt()),null;var d=Hp(o,l);if(o.tag!==0&&d===2){var m=rd(o);m!==0&&(l=m,d=d0(o,m))}if(d===1)throw d=Md,Va(o,0),Io(o,l),Jn(o,gt()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Fa(o,Xn,Ei),Jn(o,gt()),null}function f0(o,l){var d=tt;tt|=1;try{return o(l)}finally{tt=d,tt===0&&(Cu=gt()+500,vp&&bo())}}function La(o){To!==null&&To.tag===0&&(tt&6)===0&&Nu();var l=tt;tt|=1;var d=Pr.transition,m=Qe;try{if(Pr.transition=null,Qe=1,o)return o()}finally{Qe=m,Pr.transition=d,tt=l,(tt&6)===0&&bo()}}function p0(){mr=Iu.current,vt(Iu)}function Va(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,eL(d)),Zt!==null)for(d=Zt.return;d!==null;){var m=d;switch(kv(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&gp();break;case 3:ku(),vt(Wn),vt(_n),Lv();break;case 5:Mv(m);break;case 4:ku();break;case 13:vt(kt);break;case 19:vt(kt);break;case 10:Dv(m.type._context);break;case 22:case 23:p0()}d=d.return}if(hn=o,Zt=o=Co(o.current,null),wn=mr=l,on=0,Md=null,a0=Fp=Oa=0,Xn=Od=null,Ra!==null){for(l=0;l<Ra.length;l++)if(d=Ra[l],m=d.interleaved,m!==null){d.interleaved=null;var y=m.next,w=d.pending;if(w!==null){var N=w.next;w.next=y,m.next=N}d.pending=m}Ra=null}return o}function Dk(o,l){do{var d=Zt;try{if(Nv(),Cp.current=Pp,Np){for(var m=Tt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Np=!1}if(Ma=0,dn=sn=Tt=null,Nd=!1,Dd=0,o0.current=null,d===null||d.return===null){on=1,Md=l,Zt=null;break}e:{var w=o,N=d.return,V=d,U=l;if(l=wn,V.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Z=U,ie=V,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=ek(N);if(fe!==null){fe.flags&=-257,tk(fe,N,V,w,l),fe.mode&1&&ZE(w,Z,l),l=fe,U=Z;var be=l.updateQueue;if(be===null){var Te=new Set;Te.add(U),l.updateQueue=Te}else be.add(U);break e}else{if((l&1)===0){ZE(w,Z,l),m0();break e}U=Error(n(426))}}else if(bt&&V.mode&1){var Gt=ek(N);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),tk(Gt,N,V,w,l),Iv(Tu(U,V));break e}}w=U=Tu(U,V),on!==4&&(on=2),Od===null?Od=[w]:Od.push(w),w=N;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var Y=XE(w,U,l);kE(w,Y);break e;case 1:V=U;var H=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(ko===null||!ko.has(J)))){w.flags|=65536,l&=-l,w.lanes|=l;var ue=JE(w,V,l);kE(w,ue);break e}}w=w.return}while(w!==null)}Rk(d)}catch(_e){l=_e,Zt===d&&d!==null&&(Zt=d=d.return);continue}break}while(!0)}function Ak(){var o=Vp.current;return Vp.current=Pp,o===null?Pp:o}function m0(){(on===0||on===3||on===2)&&(on=4),hn===null||(Oa&268435455)===0&&(Fp&268435455)===0||Io(hn,wn)}function Hp(o,l){var d=tt;tt|=2;var m=Ak();(hn!==o||wn!==l)&&(Ei=null,Va(o,l));do try{TL();break}catch(y){Dk(o,y)}while(!0);if(Nv(),tt=d,Vp.current=m,Zt!==null)throw Error(n(261));return hn=null,wn=0,on}function TL(){for(;Zt!==null;)Pk(Zt)}function _L(){for(;Zt!==null&&!va();)Pk(Zt)}function Pk(o){var l=Ok(o.alternate,o,mr);o.memoizedProps=o.pendingProps,l===null?Rk(o):Zt=l,o0.current=null}function Rk(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=vL(d,l,mr),d!==null){Zt=d;return}}else{if(d=wL(d,l),d!==null){d.flags&=32767,Zt=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{on=6,Zt=null;return}}if(l=l.sibling,l!==null){Zt=l;return}Zt=l=o}while(l!==null);on===0&&(on=5)}function Fa(o,l,d){var m=Qe,y=Pr.transition;try{Pr.transition=null,Qe=1,IL(o,l,d,m)}finally{Pr.transition=y,Qe=m}return null}function IL(o,l,d,m){do Nu();while(To!==null);if((tt&6)!==0)throw Error(n(327));d=o.finishedWork;var y=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var w=d.lanes|d.childLanes;if(nv(o,w),o===hn&&(Zt=hn=null,wn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Up||(Up=!0,Lk(wa,function(){return Nu(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=Pr.transition,Pr.transition=null;var N=Qe;Qe=1;var V=tt;tt|=4,o0.current=null,xL(o,d),Ek(d,o),G4(gv),pi=!!mv,gv=mv=null,o.current=d,SL(d),ci(),tt=V,Qe=N,Pr.transition=w}else o.current=d;if(Up&&(Up=!1,To=o,zp=y),w=o.pendingLanes,w===0&&(ko=null),Jf(d.stateNode),Jn(o,gt()),l!==null)for(m=o.onRecoverableError,d=0;d<l.length;d++)y=l[d],m(y.value,{componentStack:y.stack,digest:y.digest});if(Bp)throw Bp=!1,o=u0,u0=null,o;return(zp&1)!==0&&o.tag!==0&&Nu(),w=o.pendingLanes,(w&1)!==0?o===c0?Ld++:(Ld=0,c0=o):Ld=0,bo(),null}function Nu(){if(To!==null){var o=xs(zp),l=Pr.transition,d=Qe;try{if(Pr.transition=null,Qe=16>o?16:o,To===null)var m=!1;else{if(o=To,To=null,zp=0,(tt&6)!==0)throw Error(n(331));var y=tt;for(tt|=4,we=o.current;we!==null;){var w=we,N=w.child;if((we.flags&16)!==0){var V=w.deletions;if(V!==null){for(var U=0;U<V.length;U++){var Z=V[U];for(we=Z;we!==null;){var ie=we;switch(ie.tag){case 0:case 11:case 15:jd(8,ie,w)}var ae=ie.child;if(ae!==null)ae.return=ie,we=ae;else for(;we!==null;){ie=we;var se=ie.sibling,fe=ie.return;if(vk(ie),ie===Z){we=null;break}if(se!==null){se.return=fe,we=se;break}we=fe}}}var be=w.alternate;if(be!==null){var Te=be.child;if(Te!==null){be.child=null;do{var Gt=Te.sibling;Te.sibling=null,Te=Gt}while(Te!==null)}}we=w}}if((w.subtreeFlags&2064)!==0&&N!==null)N.return=w,we=N;else e:for(;we!==null;){if(w=we,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:jd(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,we=Y;break e}we=w.return}}var H=o.current;for(we=H;we!==null;){N=we;var J=N.child;if((N.subtreeFlags&2064)!==0&&J!==null)J.return=N,we=J;else e:for(N=H;we!==null;){if(V=we,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Lp(9,V)}}catch(_e){At(V,V.return,_e)}if(V===N){we=null;break e}var ue=V.sibling;if(ue!==null){ue.return=V.return,we=ue;break e}we=V.return}}if(tt=y,bo(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(ba,o)}catch{}m=!0}return m}finally{Qe=d,Pr.transition=l}}return!1}function jk(o,l,d){l=Tu(d,l),l=XE(o,l,1),o=So(o,l,1),l=Vn(),o!==null&&(ka(o,1,l),Jn(o,l))}function At(o,l,d){if(o.tag===3)jk(o,o,d);else for(;l!==null;){if(l.tag===3){jk(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ko===null||!ko.has(m))){o=Tu(d,o),o=JE(l,o,1),l=So(l,o,1),o=Vn(),l!==null&&(ka(l,1,o),Jn(l,o));break}}l=l.return}}function CL(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),l=Vn(),o.pingedLanes|=o.suspendedLanes&d,hn===o&&(wn&d)===d&&(on===4||on===3&&(wn&130023424)===wn&&500>gt()-l0?Va(o,0):a0|=d),Jn(o,l)}function Mk(o,l){l===0&&((o.mode&1)===0?l=1:(l=lo,lo<<=1,(lo&130023424)===0&&(lo=4194304)));var d=Vn();o=bi(o,l),o!==null&&(ka(o,l,d),Jn(o,d))}function NL(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),Mk(o,d)}function DL(o,l){var d=0;switch(o.tag){case 13:var m=o.stateNode,y=o.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),Mk(o,d)}var Ok;Ok=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||Wn.current)Yn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return Yn=!1,yL(o,l,d);Yn=(o.flags&131072)!==0}else Yn=!1,bt&&(l.flags&1048576)!==0&&pE(l,bp,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;Mp(o,l),o=l.pendingProps;var y=yu(l,_n.current);Eu(l,d),y=Bv(null,l,m,o,y,d);var w=Uv();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Qn(m)?(w=!0,yp(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Rv(l),y.updater=Rp,l.stateNode=y,y._reactInternals=l,Gv(l,m,o,d),l=Xv(null,l,m,!0,w,d)):(l.tag=0,bt&&w&&Ev(l),Ln(null,l,y,d),l=l.child),l;case 16:m=l.elementType;e:{switch(Mp(o,l),o=l.pendingProps,y=m._init,m=y(m._payload),l.type=m,y=l.tag=PL(m),o=es(m,o),y){case 0:l=Yv(null,l,m,o,d);break e;case 1:l=ak(null,l,m,o,d);break e;case 11:l=nk(null,l,m,o,d);break e;case 14:l=rk(null,l,m,es(m.type,o),d);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:es(m,y),Yv(o,l,m,y,d);case 1:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:es(m,y),ak(o,l,m,y,d);case 3:e:{if(lk(l),o===null)throw Error(n(387));m=l.pendingProps,w=l.memoizedState,y=w.element,EE(o,l),_p(l,m,null,d);var N=l.memoizedState;if(m=N.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){y=Tu(Error(n(423)),l),l=uk(o,l,m,d,y);break e}else if(m!==y){y=Tu(Error(n(424)),l),l=uk(o,l,m,d,y);break e}else for(pr=yo(l.stateNode.containerInfo.firstChild),fr=l,bt=!0,Zr=null,d=xE(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(bu(),m===y){l=Si(o,l,d);break e}Ln(o,l,m,d)}l=l.child}return l;case 5:return _E(l),o===null&&_v(l),m=l.type,y=l.pendingProps,w=o!==null?o.memoizedProps:null,N=y.children,yv(m,y)?N=null:w!==null&&yv(m,w)&&(l.flags|=32),ok(o,l),Ln(o,l,N,d),l.child;case 6:return o===null&&_v(l),null;case 13:return ck(o,l,d);case 4:return jv(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=xu(l,null,m,d):Ln(o,l,m,d),l.child;case 11:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:es(m,y),nk(o,l,m,y,d);case 7:return Ln(o,l,l.pendingProps,d),l.child;case 8:return Ln(o,l,l.pendingProps.children,d),l.child;case 12:return Ln(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,y=l.pendingProps,w=l.memoizedProps,N=y.value,ht(Ep,m._currentValue),m._currentValue=N,w!==null)if(Jr(w.value,N)){if(w.children===y.children&&!Wn.current){l=Si(o,l,d);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var V=w.dependencies;if(V!==null){N=w.child;for(var U=V.firstContext;U!==null;){if(U.context===m){if(w.tag===1){U=xi(-1,d&-d),U.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?U.next=U:(U.next=ie.next,ie.next=U),Z.pending=U}}w.lanes|=d,U=w.alternate,U!==null&&(U.lanes|=d),Av(w.return,d,l),V.lanes|=d;break}U=U.next}}else if(w.tag===10)N=w.type===l.type?null:w.child;else if(w.tag===18){if(N=w.return,N===null)throw Error(n(341));N.lanes|=d,V=N.alternate,V!==null&&(V.lanes|=d),Av(N,d,l),N=w.sibling}else N=w.child;if(N!==null)N.return=w;else for(N=w;N!==null;){if(N===l){N=null;break}if(w=N.sibling,w!==null){w.return=N.return,N=w;break}N=N.return}w=N}Ln(o,l,y.children,d),l=l.child}return l;case 9:return y=l.type,m=l.pendingProps.children,Eu(l,d),y=Dr(y),m=m(y),l.flags|=1,Ln(o,l,m,d),l.child;case 14:return m=l.type,y=es(m,l.pendingProps),y=es(m.type,y),rk(o,l,m,y,d);case 15:return sk(o,l,l.type,l.pendingProps,d);case 17:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:es(m,y),Mp(o,l),l.tag=1,Qn(m)?(o=!0,yp(l)):o=!1,Eu(l,d),QE(l,m,y),Gv(l,m,y,d),Xv(null,l,m,!0,o,d);case 19:return hk(o,l,d);case 22:return ik(o,l,d)}throw Error(n(156,l.tag))};function Lk(o,l){return ed(o,l)}function AL(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(o,l,d,m){return new AL(o,l,d,m)}function g0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function PL(o){if(typeof o=="function")return g0(o)?1:0;if(o!=null){if(o=o.$$typeof,o===$)return 11;if(o===Pe)return 14}return 2}function Co(o,l){var d=o.alternate;return d===null?(d=Rr(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function Kp(o,l,d,m,y,w){var N=2;if(m=o,typeof o=="function")g0(o)&&(N=1);else if(typeof o=="string")N=5;else e:switch(o){case R:return Ba(d.children,y,w,l);case C:N=8,y|=8;break;case A:return o=Rr(12,d,l,y|2),o.elementType=A,o.lanes=w,o;case L:return o=Rr(13,d,l,y),o.elementType=L,o.lanes=w,o;case ke:return o=Rr(19,d,l,y),o.elementType=ke,o.lanes=w,o;case ve:return Gp(d,y,w,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:N=10;break e;case F:N=9;break e;case $:N=11;break e;case Pe:N=14;break e;case ye:N=16,m=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=Rr(N,d,l,y),l.elementType=o,l.type=m,l.lanes=w,l}function Ba(o,l,d,m){return o=Rr(7,o,m,l),o.lanes=d,o}function Gp(o,l,d,m){return o=Rr(22,o,m,l),o.elementType=ve,o.lanes=d,o.stateNode={isHidden:!1},o}function y0(o,l,d){return o=Rr(6,o,null,l),o.lanes=d,o}function v0(o,l,d){return l=Rr(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function RL(o,l,d,m,y){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=id(0),this.expirationTimes=id(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=id(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function w0(o,l,d,m,y,w,N,V,U){return o=new RL(o,l,d,V,U),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Rr(3,null,null,l),o.current=w,w.stateNode=o,w.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rv(w),o}function jL(o,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:m==null?null:""+m,children:o,containerInfo:l,implementation:d}}function Vk(o){if(!o)return wo;o=o._reactInternals;e:{if(Yr(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Qn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(Qn(d))return dE(o,d,l)}return l}function Fk(o,l,d,m,y,w,N,V,U){return o=w0(d,m,!0,o,y,w,N,V,U),o.context=Vk(null),d=o.current,m=Vn(),y=_o(d),w=xi(m,y),w.callback=l??null,So(d,w,y),o.current.lanes=y,ka(o,y,m),Jn(o,m),o}function Wp(o,l,d,m){var y=l.current,w=Vn(),N=_o(y);return d=Vk(d),l.context===null?l.context=d:l.pendingContext=d,l=xi(w,N),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=So(y,l,N),o!==null&&(rs(o,y,N,w),Tp(o,y,N)),N}function Qp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Bk(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function b0(o,l){Bk(o,l),(o=o.alternate)&&Bk(o,l)}function ML(){return null}var Uk=typeof reportError=="function"?reportError:function(o){console.error(o)};function x0(o){this._internalRoot=o}Yp.prototype.render=x0.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));Wp(o,l,null,null)},Yp.prototype.unmount=x0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;La(function(){Wp(null,o,null,null)}),l[gi]=null}};function Yp(o){this._internalRoot=o}Yp.prototype.unstable_scheduleHydration=function(o){if(o){var l=ud();o={blockedOn:null,target:o,priority:l};for(var d=0;d<ur.length&&l!==0&&l<ur[d].priority;d++);ur.splice(d,0,o),d===0&&tu(o)}};function S0(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Xp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function zk(){}function OL(o,l,d,m,y){if(y){if(typeof m=="function"){var w=m;m=function(){var Z=Qp(N);w.call(Z)}}var N=Fk(l,m,o,0,null,!1,!1,"",zk);return o._reactRootContainer=N,o[gi]=N.current,xd(o.nodeType===8?o.parentNode:o),La(),N}for(;y=o.lastChild;)o.removeChild(y);if(typeof m=="function"){var V=m;m=function(){var Z=Qp(U);V.call(Z)}}var U=w0(o,0,!1,null,null,!1,!1,"",zk);return o._reactRootContainer=U,o[gi]=U.current,xd(o.nodeType===8?o.parentNode:o),La(function(){Wp(l,U,d,m)}),U}function Jp(o,l,d,m,y){var w=d._reactRootContainer;if(w){var N=w;if(typeof y=="function"){var V=y;y=function(){var U=Qp(N);V.call(U)}}Wp(l,N,o,y)}else N=OL(d,l,o,y,m);return Qp(N)}ad=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=it(l.pendingLanes);d!==0&&(od(l,d|1),Jn(l,gt()),(tt&6)===0&&(Cu=gt()+500,bo()))}break;case 13:La(function(){var m=bi(o,1);if(m!==null){var y=Vn();rs(m,o,1,y)}}),b0(o,1)}},Zl=function(o){if(o.tag===13){var l=bi(o,134217728);if(l!==null){var d=Vn();rs(l,o,134217728,d)}b0(o,134217728)}},ld=function(o){if(o.tag===13){var l=_o(o),d=bi(o,l);if(d!==null){var m=Vn();rs(d,o,l,m)}b0(o,l)}},ud=function(){return Qe},cd=function(o,l){var d=Qe;try{return Qe=o,l()}finally{Qe=d}},ai=function(o,l,d){switch(l){case"input":if(oi(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var y=mp(m);if(!y)throw Error(n(90));Tr(m),oi(m,y)}}}break;case"textarea":Bf(o,d);break;case"select":l=d.value,l!=null&&Wr(o,!!d.multiple,l,!1)}},$f=f0,qf=La;var LL={usingClientEntryPoint:!1,Events:[kd,mu,mp,so,io,f0]},Vd={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VL={bundleType:Vd.bundleType,version:Vd.version,rendererPackageName:Vd.rendererPackageName,rendererConfig:Vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Xf(o),o===null?null:o.stateNode},findFiberByHostInstance:Vd.findFiberByHostInstance||ML,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zp.isDisabled&&Zp.supportsFiber)try{ba=Zp.inject(VL),ar=Zp}catch{}}return Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LL,Zn.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S0(l))throw Error(n(200));return jL(o,l,null,d)},Zn.createRoot=function(o,l){if(!S0(o))throw Error(n(299));var d=!1,m="",y=Uk;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=w0(o,1,!1,null,null,d,!1,m,y),o[gi]=l.current,xd(o.nodeType===8?o.parentNode:o),new x0(l)},Zn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Xf(l),o=o===null?null:o.stateNode,o},Zn.flushSync=function(o){return La(o)},Zn.hydrate=function(o,l,d){if(!Xp(l))throw Error(n(200));return Jp(null,o,l,!0,d)},Zn.hydrateRoot=function(o,l,d){if(!S0(o))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,y=!1,w="",N=Uk;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(N=d.onRecoverableError)),l=Fk(l,null,o,1,d??null,y,!1,w,N),o[gi]=l.current,xd(o),m)for(o=0;o<m.length;o++)d=m[o],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new Yp(l)},Zn.render=function(o,l,d){if(!Xp(l))throw Error(n(200));return Jp(null,o,l,!1,d)},Zn.unmountComponentAtNode=function(o){if(!Xp(o))throw Error(n(40));return o._reactRootContainer?(La(function(){Jp(null,null,o,!1,function(){o._reactRootContainer=null,o[gi]=null})}),!0):!1},Zn.unstable_batchedUpdates=f0,Zn.unstable_renderSubtreeIntoContainer=function(o,l,d,m){if(!Xp(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Jp(o,l,d,!1,m)},Zn.version="18.3.1-next-f1338f8080-20240426",Zn}var iT;function nN(){if(iT)return E0.exports;iT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),E0.exports=n3(),E0.exports}var oT;function r3(){if(oT)return em;oT=1;var t=nN();return em.createRoot=t.createRoot,em.hydrateRoot=t.hydrateRoot,em}var s3=r3();const i3=lx(s3),o3="modulepreload",a3=function(t){return"/"+t},aT={},qt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=a3(c),c in aT)return;aT[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":o3,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,E)=>{g.addEventListener("load",v),g.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function lT({size:t="md",variant:e="circle",className:n=""}){const r={xs:{wrapper:"w-6 h-6",img:"w-5 h-5"},sm:{wrapper:"w-8 h-8",img:"w-6 h-6"},md:{wrapper:"w-12 h-12",img:"w-10 h-10"},lg:{wrapper:"w-20 h-20",img:"w-16 h-16"},xl:{wrapper:"w-32 h-32",img:"w-24 h-24"}},s=r[t]||r.md;return x.jsx("div",{className:`${e==="circle"?"bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full shadow-lg overflow-hidden flex items-center justify-center":""} ${s.wrapper} ${n}`.trim(),children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:`${s.img} object-contain ${e==="circle"?"transform -rotate-12":""}`,loading:"lazy"})})}const l3=()=>{};var uT={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},u3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],u=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},sN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,u=a?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,p=i>>2,g=(i&3)<<4|u>>4;let v=(u&15)<<2|h>>6,E=h&63;c||(E=64,a||(v=64)),r.push(n[p],n[g],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const c=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||c==null)throw new c3;const h=i<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),c!==64){const g=u<<6&192|c;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class c3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d3=function(t){const e=rN(t);return sN.encodeByteArray(e,!0)},og=function(t){return d3(t).replace(/\./g,"")},iN=function(t){try{return sN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const h3=()=>oN().__FIREBASE_DEFAULTS__,f3=()=>{if(typeof process>"u"||typeof uT>"u")return;const t=uT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},p3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iN(t[1]);return e&&JSON.parse(e)},Zg=()=>{try{return l3()||h3()||f3()||p3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aN=t=>{var e,n;return(n=(e=Zg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},lN=t=>{const e=aN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uN=()=>{var t;return(t=Zg())==null?void 0:t.config},cN=t=>{var e;return(e=Zg())==null?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class m3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ml(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dx(t){return(await fetch(t,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[og(JSON.stringify(n)),og(JSON.stringify(a)),""].join(".")}const vh={};function g3(){const t={prod:[],emulator:[]};for(const e of Object.keys(vh))vh[e]?t.emulator.push(e):t.prod.push(e);return t}function y3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cT=!1;function hx(t,e){if(typeof window>"u"||typeof document>"u"||!Ml(window.location.host)||vh[t]===e||vh[t]||cT)return;vh[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=g3().prod.length>0;function i(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{cT=!0,i()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=y3(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),I=n("learnmore"),T=document.getElementById(I)||document.createElement("a"),_=n("preprendIcon"),D=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const P=g.element;a(P),h(T,I);const M=c();u(D,_),P.append(D,E,T,M),document.body.appendChild(P)}s?(E.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function hN(){var t;const e=(t=Zg())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function b3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x3(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fN(){return!hN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pN(){return!hN()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ey(){try{return typeof indexedDB=="object"}catch{return!1}}function px(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function mN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const S3="FirebaseError";class Gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=S3,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?E3(i,r):"Error",u=`${this.serviceName}: ${a} (${s}).`;return new Gr(s,u,r)}}function E3(t,e){return t.replace(k3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const k3=/\{\$([^}]+)}/g;function T3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(dT(i)&&dT(a)){if(!Zo(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function dT(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function df(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function ch(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _3(t,e){const n=new I3(t,e);return n.subscribe.bind(n)}class I3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");C3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=k0),s.error===void 0&&(s.error=k0),s.complete===void 0&&(s.complete=k0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function k0(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const N3=1e3,D3=2,A3=14400*1e3,P3=.5;function hT(t,e=N3,n=D3){const r=e*Math.pow(n,t),s=Math.round(P3*r*(Math.random()-.5)*2);return Math.min(A3,r+s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Nt(t){return t&&t._delegate?t._delegate:t}class Kr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ja="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new m3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M3(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j3(t){return t===Ja?void 0:t}function M3(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new R3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const L3={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},V3=Ge.INFO,F3={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},B3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=F3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ty{constructor(e){this.name=e,this._logLevel=V3,this._logHandler=B3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const U3=(t,e)=>e.some(n=>t instanceof n);let fT,pT;function z3(){return fT||(fT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $3(){return pT||(pT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gN=new WeakMap,jw=new WeakMap,yN=new WeakMap,T0=new WeakMap,mx=new WeakMap;function q3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Go(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&gN.set(n,t)}).catch(()=>{}),mx.set(e,t),e}function H3(t){if(jw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});jw.set(t,e)}let Mw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K3(t){Mw=t(Mw)}function G3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_0(this),e,...n);return yN.set(r,e.sort?e.sort():[e]),Go(r)}:$3().includes(t)?function(...e){return t.apply(_0(this),e),Go(gN.get(this))}:function(...e){return Go(t.apply(_0(this),e))}}function W3(t){return typeof t=="function"?G3(t):(t instanceof IDBTransaction&&H3(t),U3(t,z3())?new Proxy(t,Mw):t)}function Go(t){if(t instanceof IDBRequest)return q3(t);if(T0.has(t))return T0.get(t);const e=W3(t);return e!==t&&(T0.set(t,e),mx.set(e,t)),e}const _0=t=>mx.get(t);function vN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),u=Go(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Go(a.result),c.oldVersion,c.newVersion,Go(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const Q3=["get","getKey","getAll","getAllKeys","count"],Y3=["put","add","delete","clear"],I0=new Map;function mT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(I0.get(e))return I0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Y3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Q3.includes(n)))return;const i=async function(a,...u){const c=this.transaction(a,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),s&&c.done]))[0]};return I0.set(e,i),i}K3(t=>({...t,get:(e,n,r)=>mT(e,n)||t.get(e,n,r),has:(e,n)=>!!mT(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class X3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(J3(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function J3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ow="@firebase/app",gT="0.14.5";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Mi=new ty("@firebase/app"),Z3="@firebase/app-compat",e5="@firebase/analytics-compat",t5="@firebase/analytics",n5="@firebase/app-check-compat",r5="@firebase/app-check",s5="@firebase/auth",i5="@firebase/auth-compat",o5="@firebase/database",a5="@firebase/data-connect",l5="@firebase/database-compat",u5="@firebase/functions",c5="@firebase/functions-compat",d5="@firebase/installations",h5="@firebase/installations-compat",f5="@firebase/messaging",p5="@firebase/messaging-compat",m5="@firebase/performance",g5="@firebase/performance-compat",y5="@firebase/remote-config",v5="@firebase/remote-config-compat",w5="@firebase/storage",b5="@firebase/storage-compat",x5="@firebase/firestore",S5="@firebase/ai",E5="@firebase/firestore-compat",k5="firebase",T5="12.5.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Lw="[DEFAULT]",_5={[Ow]:"fire-core",[Z3]:"fire-core-compat",[t5]:"fire-analytics",[e5]:"fire-analytics-compat",[r5]:"fire-app-check",[n5]:"fire-app-check-compat",[s5]:"fire-auth",[i5]:"fire-auth-compat",[o5]:"fire-rtdb",[a5]:"fire-data-connect",[l5]:"fire-rtdb-compat",[u5]:"fire-fn",[c5]:"fire-fn-compat",[d5]:"fire-iid",[h5]:"fire-iid-compat",[f5]:"fire-fcm",[p5]:"fire-fcm-compat",[m5]:"fire-perf",[g5]:"fire-perf-compat",[y5]:"fire-rc",[v5]:"fire-rc-compat",[w5]:"fire-gcs",[b5]:"fire-gcs-compat",[x5]:"fire-fst",[E5]:"fire-fst-compat",[S5]:"fire-vertex","fire-js":"fire-js",[k5]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ag=new Map,I5=new Map,Vw=new Map;function yT(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function us(t){const e=t.name;if(Vw.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Vw.set(e,t);for(const n of ag.values())yT(n,t);for(const n of I5.values())yT(n,t);return!0}function ua(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wr(t){return t==null?!1:t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const C5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wo=new Ol("app","Firebase",C5);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class N5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ll=T5;function wN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Lw,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Wo.create("bad-app-name",{appName:String(s)});if(n||(n=uN()),!n)throw Wo.create("no-options");const i=ag.get(s);if(i){if(Zo(n,i.options)&&Zo(r,i.config))return i;throw Wo.create("duplicate-app",{appName:s})}const a=new O3(s);for(const c of Vw.values())a.addComponent(c);const u=new N5(n,r,a);return ag.set(s,u),u}function ny(t=Lw){const e=ag.get(t);if(!e&&t===Lw&&uN())return wN();if(!e)throw Wo.create("no-app",{appName:t});return e}function ir(t,e,n){let r=_5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(a.join(" "));return}us(new Kr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const D5="firebase-heartbeat-database",A5=1,jh="firebase-heartbeat-store";let C0=null;function bN(){return C0||(C0=vN(D5,A5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wo.create("idb-open",{originalErrorMessage:t.message})})),C0}async function P5(t){try{const e=(await bN()).transaction(jh),n=await e.objectStore(jh).get(xN(t));return await e.done,n}catch(e){if(e instanceof Gr)Mi.warn(e.message);else{const n=Wo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function vT(t,e){try{const n=(await bN()).transaction(jh,"readwrite");await n.objectStore(jh).put(e,xN(t)),await n.done}catch(n){if(n instanceof Gr)Mi.warn(n.message);else{const r=Wo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}function xN(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R5=1024,j5=30;class M5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>j5){const i=V5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wT(),{heartbeatsToSend:r,unsentEntries:s}=O5(this._heartbeatsCache.heartbeats),i=og(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Mi.warn(n),""}}}function wT(){return new Date().toISOString().substring(0,10)}function O5(t,e=R5){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),bT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),bT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class L5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ey()?px().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await P5(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return vT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return vT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function bT(t){return og(JSON.stringify({version:2,heartbeats:t})).length}function V5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function F5(t){us(new Kr("platform-logger",e=>new X3(e),"PRIVATE")),us(new Kr("heartbeat",e=>new M5(e),"PRIVATE")),ir(Ow,gT,t),ir(Ow,gT,"esm2020"),ir("fire-js","")}F5("");function SN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B5=SN,EN=new Ol("auth","Firebase",SN());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lg=new ty("@firebase/auth");function U5(t,...e){lg.logLevel<=Ge.WARN&&lg.warn(`Auth (${Ll}): ${t}`,...e)}function Nm(t,...e){lg.logLevel<=Ge.ERROR&&lg.error(`Auth (${Ll}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cs(t,...e){throw gx(t,...e)}function zs(t,...e){return gx(t,...e)}function kN(t,e,n){const r={...B5(),[e]:n};return new Ol("auth","Firebase",r).create(e,{appName:t.name})}function Ri(t){return kN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EN.create(t,...e)}function Me(t,e,...n){if(!t)throw gx(e,...n)}function Ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nm(e),new Error(e)}function Oi(t,e){t||Ni(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Fw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function z5(){return xT()==="http:"||xT()==="https:"}function xT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z5()||fx()||"connection"in navigator)?navigator.onLine:!0}function q5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oi(n>e,"Short delay should be less than long delay!"),this.isMobile=v3()||b3()}get(){return $5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yx(t,e){Oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const H5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const K5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G5=new hf(3e4,6e4);function Hi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ki(t,e,n,r,s={}){return _N(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const u=df({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:c,...i};return w3()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Ml(t.emulatorConfig.host)&&(h.credentials="include"),TN.fetch()(await IN(t,t.config.apiHost,n,u),h)})}async function _N(t,e,n){t._canInitEmulator=!1;const r={...H5,...e};try{const s=new Q5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw tm(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const u=i.ok?a.errorMessage:a.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw tm(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw tm(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw tm(t,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw kN(t,p,h);cs(t,p)}}catch(s){if(s instanceof Gr)throw s;cs(t,"network-request-failed",{message:String(s)})}}async function ff(t,e,n,r,s={}){const i=await Ki(t,e,n,r,s);return"mfaPendingCredential"in i&&cs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function IN(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?yx(t.config,s):`${t.config.apiScheme}://${s}`;return K5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function W5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zs(this.auth,"network-request-failed")),G5.get())})}}function tm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=zs(t,e,r);return s.customData._tokenResponse=n,s}function ST(t){return t!==void 0&&t.enterprise!==void 0}class Y5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return W5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X5(t,e){return Ki(t,"GET","/v2/recaptchaConfig",Hi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function J5(t,e){return Ki(t,"POST","/v1/accounts:delete",e)}async function ug(t,e){return Ki(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z5(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),s=vx(r);Me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:wh(N0(s.auth_time)),issuedAtTime:wh(N0(s.iat)),expirationTime:wh(N0(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function N0(t){return Number(t)*1e3}function vx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nm("JWT malformed, contained fewer than 3 sections"),null;try{const s=iN(n);return s?JSON.parse(s):(Nm("Failed to decode base64 JWT payload"),null)}catch(s){return Nm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ET(t){const e=vx(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Mh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gr&&e6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function cg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Mh(t,ug(n,{idToken:r}));Me(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=(e=i.providerUserInfo)!=null&&e.length?CN(i.providerUserInfo):[],u=r6(t.providerData,a),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(u!=null&&u.length),p=c?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Bw(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function n6(t){const e=Nt(t);await cg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r6(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function CN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function s6(t,e){const n=await _N(t,{},async()=>{const r=df({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await IN(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&Ml(t.emulatorConfig.host)&&(c.credentials="include"),TN.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i6(t,e){return Ki(t,"POST","/v2/accounts:revokeToken",Hi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ac{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ET(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=ET(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await s6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new ac;return r&&(Me(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Me(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Me(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ac,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Do(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class as{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new t6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Bw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Mh(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Z5(this,e)}reload(){return n6(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new as({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(Ri(this.auth));const e=await this.getIdToken();return await Mh(this,J5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:E,providerData:I,stsTokenManager:T}=n;Me(g&&T,e,"internal-error");const _=ac.fromJSON(this.name,T);Me(typeof g=="string",e,"internal-error"),Do(r,e.name),Do(s,e.name),Me(typeof v=="boolean",e,"internal-error"),Me(typeof E=="boolean",e,"internal-error"),Do(i,e.name),Do(a,e.name),Do(u,e.name),Do(c,e.name),Do(h,e.name),Do(p,e.name);const D=new as({uid:g,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:E,photoURL:a,phoneNumber:i,tenantId:u,stsTokenManager:_,createdAt:h,lastLoginAt:p});return I&&Array.isArray(I)&&(D.providerData=I.map(P=>({...P}))),c&&(D._redirectEventId=c),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new ac;s.updateFromServerResponse(n);const i=new as({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Me(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?CN(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new ac;u.updateFromIdToken(r);const c=new as({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Bw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,h),c}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kT=new Map;function Di(t){Oi(t instanceof Function,"Expected a class definition");let e=kT.get(t);return e?(Oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kT.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NN.type="NONE";const TT=NN;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Dm(t,e,n){return`firebase:${t}:${e}:${n}`}class lc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Dm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Dm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ug(this.auth,{idToken:e}).catch(()=>{});return n?as._fromGetAccountInfoResponse(this.auth,n,e):null}return as._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lc(Di(TT),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Di(TT);const a=Dm(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(a);if(p){let g;if(typeof p=="string"){const v=await ug(e,{idToken:p}).catch(()=>{});if(!v)break;g=await as._fromGetAccountInfoResponse(e,v,p)}else g=as._fromJSON(e,p);h!==i&&(u=g),i=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new lc(i,e,r):(i=c[0],u&&await i._set(a,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(a)}catch{}})),new lc(i,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _T(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MN(e))return"Blackberry";if(ON(e))return"Webos";if(AN(e))return"Safari";if((e.includes("chrome/")||PN(e))&&!e.includes("edge/"))return"Chrome";if(jN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DN(t=un()){return/firefox\//i.test(t)}function AN(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PN(t=un()){return/crios\//i.test(t)}function RN(t=un()){return/iemobile/i.test(t)}function jN(t=un()){return/android/i.test(t)}function MN(t=un()){return/blackberry/i.test(t)}function ON(t=un()){return/webos/i.test(t)}function wx(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o6(t=un()){var e;return wx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function a6(){return x3()&&document.documentMode===10}function LN(t=un()){return wx(t)||jN(t)||ON(t)||MN(t)||/windows phone/i.test(t)||RN(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function VN(t,e=[]){let n;switch(t){case"Browser":n=_T(un());break;case"Worker":n=`${_T(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ll}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class l6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,u)=>{try{const c=e(i);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function u6(t,e={}){return Ki(t,"GET","/v2/passwordPolicy",Hi(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c6=6;class d6{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??c6,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IT(this),this.idTokenSubscription=new IT(this),this.beforeStateQueue=new l6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await lc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ug(this,{idToken:e}),r=await as._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)==null?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&c!=null&&c.user&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(Ri(this));const n=e?Nt(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(Ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(Ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u6(this),n=new d6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ol("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Di(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await lc.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(u,this,"internal-error"),u.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return n!=null&&n.error&&U5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ca(t){return Nt(t)}let IT=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=_3(e=>this.observer=e)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ry={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f6(t){ry=t}function FN(t){return ry.loadJS(t)}function p6(){return ry.recaptchaEnterpriseScript}function m6(){return ry.gapiScript}function g6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class y6{constructor(){this.enterprise=new v6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class v6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const w6="recaptcha-enterprise",BN="NO_RECAPTCHA";class b6{constructor(e){this.type=w6,this.auth=ca(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,u)=>{X5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new Y5(c);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,a(h.siteKey)}}).catch(c=>{u(c)})})}function s(i,a,u){const c=window.grecaptcha;ST(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(h=>{a(h)}).catch(()=>{a(BN)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y6().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(u=>{if(!n&&ST(window.grecaptcha))s(u,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=p6();c.length!==0&&(c+=u),FN(c).then(()=>{s(u,i,a)}).catch(h=>{a(h)})}}).catch(u=>{a(u)})})}}async function CT(t,e,n,r=!1,s=!1){const i=new b6(t);let a;if(s)a=BN;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function dg(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await CT(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await CT(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function x6(t,e){const n=ua(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Zo(s,e??{}))return r;cs(r,"already-initialized")}return n.initialize({options:e})}function S6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function E6(t,e,n){const r=ca(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=UN(e),{host:a,port:u}=k6(e),c=u===null?"":`:${u}`,h={url:`${i}//${a}${c}/`},p=Object.freeze({host:a,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Zo(h,r.config.emulator)&&Zo(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ml(a)?(dx(`${i}//${a}${c}`),hx("Auth",!0)):T6()}function UN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function k6(t){const e=UN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:NT(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:NT(a)}}}function NT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function T6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,n){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function _6(t,e){return Ki(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function I6(t,e){return ff(t,"POST","/v1/accounts:signInWithPassword",Hi(t,e))}async function C6(t,e){return Ki(t,"POST","/v1/accounts:sendOobCode",Hi(t,e))}async function N6(t,e){return C6(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function D6(t,e){return ff(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}async function A6(t,e){return ff(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Oh extends bx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Oh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Oh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dg(e,n,"signInWithPassword",I6);case"emailLink":return D6(e,{email:this._email,oobCode:this._password});default:cs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dg(e,r,"signUpPassword",_6);case"emailLink":return A6(e,{idToken:n,email:this._email,oobCode:this._password});default:cs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function uc(t,e){return ff(t,"POST","/v1/accounts:signInWithIdp",Hi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const P6="http://localhost";class bl extends bx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new bl(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return uc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uc(e,n)}buildRequest(){const e={requestUri:P6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=df(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function R6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j6(t){const e=uh(ch(t)).link,n=e?uh(ch(e)).deep_link_id:null,r=uh(ch(t)).deep_link_id;return(r?uh(ch(r)).link:null)||r||n||e||t}class xx{constructor(e){const n=uh(ch(e)),r=n.apiKey??null,s=n.oobCode??null,i=R6(n.mode??null);Me(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=j6(e);try{return new xx(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pc{constructor(){this.providerId=Pc.PROVIDER_ID}static credential(e,n){return Oh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xx.parseLink(n);return Me(r,"argument-error"),Oh._fromEmailAndCode(e,r.code,r.tenantId)}}Pc.PROVIDER_ID="password";Pc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pf extends zN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uo extends pf{constructor(){super("facebook.com")}static credential(e){return bl._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uo.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zo extends pf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bl._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zo.credential(n,r)}catch{return null}}}zo.GOOGLE_SIGN_IN_METHOD="google.com";zo.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $o extends pf{constructor(){super("github.com")}static credential(e){return bl._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $o.credential(e.oauthAccessToken)}catch{return null}}}$o.GITHUB_SIGN_IN_METHOD="github.com";$o.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qo extends pf{constructor(){super("twitter.com")}static credential(e,n){return bl._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qo.credential(n,r)}catch{return null}}}qo.TWITTER_SIGN_IN_METHOD="twitter.com";qo.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function M6(t,e){return ff(t,"POST","/v1/accounts:signUp",Hi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await as._fromIdTokenResponse(e,r,s),a=DT(r);return new xl({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=DT(r);return new xl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function DT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hg extends Gr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,hg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new hg(e,n,r,s)}}function $N(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hg._fromErrorAndOperation(t,s,e,r):s})}async function O6(t,e,n=!1){const r=await Mh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xl._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function L6(t,e,n=!1){const{auth:r}=t;if(wr(r.app))return Promise.reject(Ri(r));const s="reauthenticate";try{const i=await Mh(t,$N(r,s,e,t),n);Me(i.idToken,r,"internal-error");const a=vx(i.idToken);Me(a,r,"internal-error");const{sub:u}=a;return Me(t.uid===u,r,"user-mismatch"),xl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&cs(r,"user-mismatch"),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function qN(t,e,n=!1){if(wr(t.app))return Promise.reject(Ri(t));const r="signIn",s=await $N(t,r,e),i=await xl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function V6(t,e){return qN(ca(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function HN(t){const e=ca(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F6(t,e,n){const r=ca(t);await dg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",N6)}async function B6(t,e,n){if(wr(t.app))return Promise.reject(Ri(t));const r=ca(t),s=await dg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M6).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&HN(t),a}),i=await xl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function U6(t,e,n){return wr(t.app)?Promise.reject(Ri(t)):V6(Nt(t),Pc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&HN(t),r})}function z6(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function $6(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function q6(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function H6(t){return Nt(t).signOut()}const fg="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fg,"1"),this.storage.removeItem(fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const K6=1e3,G6=10;class GN extends KN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);a6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,G6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},K6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GN.type="LOCAL";const W6=GN;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WN extends KN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WN.type="SESSION";const QN=WN;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Q6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new sy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(a).map(async h=>h(n.origin,i)),c=await Q6(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sy.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Sx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Y6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((u,c)=>{const h=Sx("",20);s.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(v.data.response);break;default:clearTimeout(p),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $s(){return window}function X6(t){$s().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function YN(){return typeof $s().WorkerGlobalScope<"u"&&typeof $s().importScripts=="function"}async function J6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Z6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function eV(){return YN()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const XN="firebaseLocalStorageDb",tV=1,pg="firebaseLocalStorage",JN="fbase_key";class mf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function iy(t,e){return t.transaction([pg],e?"readwrite":"readonly").objectStore(pg)}function nV(){const t=indexedDB.deleteDatabase(XN);return new mf(t).toPromise()}function Uw(){const t=indexedDB.open(XN,tV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pg,{keyPath:JN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pg)?e(r):(r.close(),await nV(),e(await Uw()))})})}async function AT(t,e,n){const r=iy(t,!0).put({[JN]:e,value:n});return new mf(r).toPromise()}async function rV(t,e){const n=iy(t,!1).get(e),r=await new mf(n).toPromise();return r===void 0?null:r.value}function PT(t,e){const n=iy(t,!0).delete(e);return new mf(n).toPromise()}const sV=800,iV=3;class ZN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sy._getInstance(eV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await J6(),!this.activeServiceWorker)return;this.sender=new Y6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(e=r[0])!=null&&e.fulfilled&&(n=r[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Z6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uw();return await AT(e,fg,"1"),await PT(e,fg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>AT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=iy(s,!1).getAll();return new mf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZN.type="LOCAL";const oV=ZN;new hf(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aV(t,e){return e?Di(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ex extends bx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lV(t){return qN(t.auth,new Ex(t),t.bypassAuthState)}function uV(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),L6(n,new Ex(t),t.bypassAuthState)}async function cV(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),O6(n,new Ex(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eD{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lV;case"linkViaPopup":case"linkViaRedirect":return cV;case"reauthViaPopup":case"reauthViaRedirect":return uV;default:cs(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dV=new hf(2e3,1e4);class tc extends eD{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,tc.currentPopupAction&&tc.currentPopupAction.cancel(),tc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=Sx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dV.get())};e()}}tc.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hV="pendingRedirect",Am=new Map;class fV extends eD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Am.get(this.auth._key());if(!e){try{const n=await pV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Am.set(this.auth._key(),e)}return this.bypassAuthState||Am.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pV(t,e){const n=yV(e),r=gV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function mV(t,e){Am.set(t._key(),e)}function gV(t){return Di(t._redirectPersistence)}function yV(t){return Dm(hV,t.config.apiKey,t.name)}async function vV(t,e,n=!1){if(wr(t.app))return Promise.reject(Ri(t));const r=ca(t),s=aV(r,e),i=await new fV(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wV=600*1e3;class bV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tD(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(zs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wV&&this.cachedEventUids.clear(),this.cachedEventUids.has(RT(e))}saveEventToCache(e){this.cachedEventUids.add(RT(e)),this.lastProcessedEventTime=Date.now()}}function RT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tD(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function SV(t,e={}){return Ki(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const EV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kV=/^https?/;async function TV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SV(t);for(const n of e)try{if(_V(n))return}catch{}cs(t,"unauthorized-domain")}function _V(t){const e=Fw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!kV.test(n))return!1;if(EV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IV=new hf(3e4,6e4);function jT(){const t=$s().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CV(t){return new Promise((e,n)=>{var r,s,i;function a(){jT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jT(),n(zs(t,"network-request-failed"))},timeout:IV.get()})}if((s=(r=$s().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((i=$s().gapi)!=null&&i.load)a();else{const u=g6("iframefcb");return $s()[u]=()=>{gapi.load?a():n(zs(t,"network-request-failed"))},FN(`${m6()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Pm=null,e})}let Pm=null;function NV(t){return Pm=Pm||CV(t),Pm}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DV=new hf(5e3,15e3),AV="__/auth/iframe",PV="emulator/auth/iframe",RV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MV(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yx(e,PV):`https://${t.config.authDomain}/${AV}`,r={apiKey:e.apiKey,appName:t.name,v:Ll},s=jV.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${df(r).slice(1)}`}async function OV(t){const e=await NV(t),n=$s().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:MV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RV,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=zs(t,"network-request-failed"),u=$s().setTimeout(()=>{i(a)},DV.get());function c(){$s().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const LV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VV=500,FV=600,BV="_blank",UV="http://localhost";class MT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zV(t,e,n,r=VV,s=FV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...LV,width:r.toString(),height:s.toString(),top:i,left:a},h=un().toLowerCase();n&&(u=PN(h)?BV:n),DN(h)&&(e=e||UV,c.scrollbars="yes");const p=Object.entries(c).reduce((v,[E,I])=>`${v}${E}=${I},`,"");if(o6(h)&&u!=="_self")return $V(e||"",u),new MT(null);const g=window.open(e||"",u,p);Me(g,t,"popup-blocked");try{g.focus()}catch{}return new MT(g)}function $V(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qV="__/auth/handler",HV="emulator/auth/handler",KV=encodeURIComponent("fac");async function OT(t,e,n,r,s,i){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ll,eventId:s};if(e instanceof zN){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",T3(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))a[p]=g}if(e instanceof pf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),h=c?`#${KV}=${encodeURIComponent(c)}`:"";return`${GV(t)}?${df(u).slice(1)}${h}`}function GV({config:t}){return t.emulator?yx(t,HV):`https://${t.authDomain}/${qV}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const D0="webStorageSupport";class WV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QN,this._completeRedirectFn=vV,this._overrideRedirectResult=mV}async _openPopup(e,n,r,s){var i;Oi((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await OT(e,n,r,Fw(),s);return zV(e,a,Sx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await OT(e,n,r,Fw(),s);return X6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Oi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OV(e),r=new bV(e);return n.register("authEvent",s=>(Me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(D0,{type:D0},r=>{var s;const i=(s=r==null?void 0:r[0])==null?void 0:s[D0];i!==void 0&&n(!!i),cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LN()||AN()||wx()}}const QV=WV;var LT="@firebase/auth",VT="1.11.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function XV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JV(t){us(new Kr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Me(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VN(t)},h=new h6(r,s,i,c);return S6(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),us(new Kr("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(r=>new YV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(LT,VT,XV(t)),ir(LT,VT,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ZV=300,eF=cN("authIdTokenMaxAge")||ZV;let FT=null;const tF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eF)return;const s=n==null?void 0:n.token;FT!==s&&(FT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function oy(t=ny()){const e=ua(t,"auth");if(e.isInitialized())return e.getImmediate();const n=x6(t,{popupRedirectResolver:QV,persistence:[oV,W6,QN]}),r=cN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=tF(i.toString());$6(n,a,()=>a(n.currentUser)),z6(n,u=>a(u))}}const s=aN("auth");return s&&E6(n,`http://${s}`),n}function nF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}f6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=zs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",nF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JV("Browser");var rF="firebase",sF="12.5.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/ir(rF,sF,"app");var BT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qo,nD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function A(){}A.prototype=C.prototype,R.F=C.prototype,R.prototype=new A,R.prototype.constructor=R,R.D=function(O,F,$){for(var L=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)L[ke-2]=arguments[ke];return C.prototype[F].apply(O,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,C,A){A||(A=0);const O=Array(16);if(typeof C=="string")for(var F=0;F<16;++F)O[F]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(F=0;F<16;++F)O[F]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=R.g[0],A=R.g[1],F=R.g[2];let $=R.g[3],L;L=C+($^A&(F^$))+O[0]+3614090360&4294967295,C=A+(L<<7&4294967295|L>>>25),L=$+(F^C&(A^F))+O[1]+3905402710&4294967295,$=C+(L<<12&4294967295|L>>>20),L=F+(A^$&(C^A))+O[2]+606105819&4294967295,F=$+(L<<17&4294967295|L>>>15),L=A+(C^F&($^C))+O[3]+3250441966&4294967295,A=F+(L<<22&4294967295|L>>>10),L=C+($^A&(F^$))+O[4]+4118548399&4294967295,C=A+(L<<7&4294967295|L>>>25),L=$+(F^C&(A^F))+O[5]+1200080426&4294967295,$=C+(L<<12&4294967295|L>>>20),L=F+(A^$&(C^A))+O[6]+2821735955&4294967295,F=$+(L<<17&4294967295|L>>>15),L=A+(C^F&($^C))+O[7]+4249261313&4294967295,A=F+(L<<22&4294967295|L>>>10),L=C+($^A&(F^$))+O[8]+1770035416&4294967295,C=A+(L<<7&4294967295|L>>>25),L=$+(F^C&(A^F))+O[9]+2336552879&4294967295,$=C+(L<<12&4294967295|L>>>20),L=F+(A^$&(C^A))+O[10]+4294925233&4294967295,F=$+(L<<17&4294967295|L>>>15),L=A+(C^F&($^C))+O[11]+2304563134&4294967295,A=F+(L<<22&4294967295|L>>>10),L=C+($^A&(F^$))+O[12]+1804603682&4294967295,C=A+(L<<7&4294967295|L>>>25),L=$+(F^C&(A^F))+O[13]+4254626195&4294967295,$=C+(L<<12&4294967295|L>>>20),L=F+(A^$&(C^A))+O[14]+2792965006&4294967295,F=$+(L<<17&4294967295|L>>>15),L=A+(C^F&($^C))+O[15]+1236535329&4294967295,A=F+(L<<22&4294967295|L>>>10),L=C+(F^$&(A^F))+O[1]+4129170786&4294967295,C=A+(L<<5&4294967295|L>>>27),L=$+(A^F&(C^A))+O[6]+3225465664&4294967295,$=C+(L<<9&4294967295|L>>>23),L=F+(C^A&($^C))+O[11]+643717713&4294967295,F=$+(L<<14&4294967295|L>>>18),L=A+($^C&(F^$))+O[0]+3921069994&4294967295,A=F+(L<<20&4294967295|L>>>12),L=C+(F^$&(A^F))+O[5]+3593408605&4294967295,C=A+(L<<5&4294967295|L>>>27),L=$+(A^F&(C^A))+O[10]+38016083&4294967295,$=C+(L<<9&4294967295|L>>>23),L=F+(C^A&($^C))+O[15]+3634488961&4294967295,F=$+(L<<14&4294967295|L>>>18),L=A+($^C&(F^$))+O[4]+3889429448&4294967295,A=F+(L<<20&4294967295|L>>>12),L=C+(F^$&(A^F))+O[9]+568446438&4294967295,C=A+(L<<5&4294967295|L>>>27),L=$+(A^F&(C^A))+O[14]+3275163606&4294967295,$=C+(L<<9&4294967295|L>>>23),L=F+(C^A&($^C))+O[3]+4107603335&4294967295,F=$+(L<<14&4294967295|L>>>18),L=A+($^C&(F^$))+O[8]+1163531501&4294967295,A=F+(L<<20&4294967295|L>>>12),L=C+(F^$&(A^F))+O[13]+2850285829&4294967295,C=A+(L<<5&4294967295|L>>>27),L=$+(A^F&(C^A))+O[2]+4243563512&4294967295,$=C+(L<<9&4294967295|L>>>23),L=F+(C^A&($^C))+O[7]+1735328473&4294967295,F=$+(L<<14&4294967295|L>>>18),L=A+($^C&(F^$))+O[12]+2368359562&4294967295,A=F+(L<<20&4294967295|L>>>12),L=C+(A^F^$)+O[5]+4294588738&4294967295,C=A+(L<<4&4294967295|L>>>28),L=$+(C^A^F)+O[8]+2272392833&4294967295,$=C+(L<<11&4294967295|L>>>21),L=F+($^C^A)+O[11]+1839030562&4294967295,F=$+(L<<16&4294967295|L>>>16),L=A+(F^$^C)+O[14]+4259657740&4294967295,A=F+(L<<23&4294967295|L>>>9),L=C+(A^F^$)+O[1]+2763975236&4294967295,C=A+(L<<4&4294967295|L>>>28),L=$+(C^A^F)+O[4]+1272893353&4294967295,$=C+(L<<11&4294967295|L>>>21),L=F+($^C^A)+O[7]+4139469664&4294967295,F=$+(L<<16&4294967295|L>>>16),L=A+(F^$^C)+O[10]+3200236656&4294967295,A=F+(L<<23&4294967295|L>>>9),L=C+(A^F^$)+O[13]+681279174&4294967295,C=A+(L<<4&4294967295|L>>>28),L=$+(C^A^F)+O[0]+3936430074&4294967295,$=C+(L<<11&4294967295|L>>>21),L=F+($^C^A)+O[3]+3572445317&4294967295,F=$+(L<<16&4294967295|L>>>16),L=A+(F^$^C)+O[6]+76029189&4294967295,A=F+(L<<23&4294967295|L>>>9),L=C+(A^F^$)+O[9]+3654602809&4294967295,C=A+(L<<4&4294967295|L>>>28),L=$+(C^A^F)+O[12]+3873151461&4294967295,$=C+(L<<11&4294967295|L>>>21),L=F+($^C^A)+O[15]+530742520&4294967295,F=$+(L<<16&4294967295|L>>>16),L=A+(F^$^C)+O[2]+3299628645&4294967295,A=F+(L<<23&4294967295|L>>>9),L=C+(F^(A|~$))+O[0]+4096336452&4294967295,C=A+(L<<6&4294967295|L>>>26),L=$+(A^(C|~F))+O[7]+1126891415&4294967295,$=C+(L<<10&4294967295|L>>>22),L=F+(C^($|~A))+O[14]+2878612391&4294967295,F=$+(L<<15&4294967295|L>>>17),L=A+($^(F|~C))+O[5]+4237533241&4294967295,A=F+(L<<21&4294967295|L>>>11),L=C+(F^(A|~$))+O[12]+1700485571&4294967295,C=A+(L<<6&4294967295|L>>>26),L=$+(A^(C|~F))+O[3]+2399980690&4294967295,$=C+(L<<10&4294967295|L>>>22),L=F+(C^($|~A))+O[10]+4293915773&4294967295,F=$+(L<<15&4294967295|L>>>17),L=A+($^(F|~C))+O[1]+2240044497&4294967295,A=F+(L<<21&4294967295|L>>>11),L=C+(F^(A|~$))+O[8]+1873313359&4294967295,C=A+(L<<6&4294967295|L>>>26),L=$+(A^(C|~F))+O[15]+4264355552&4294967295,$=C+(L<<10&4294967295|L>>>22),L=F+(C^($|~A))+O[6]+2734768916&4294967295,F=$+(L<<15&4294967295|L>>>17),L=A+($^(F|~C))+O[13]+1309151649&4294967295,A=F+(L<<21&4294967295|L>>>11),L=C+(F^(A|~$))+O[4]+4149444226&4294967295,C=A+(L<<6&4294967295|L>>>26),L=$+(A^(C|~F))+O[11]+3174756917&4294967295,$=C+(L<<10&4294967295|L>>>22),L=F+(C^($|~A))+O[2]+718787259&4294967295,F=$+(L<<15&4294967295|L>>>17),L=A+($^(F|~C))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(F+(L<<21&4294967295|L>>>11))&4294967295,R.g[2]=R.g[2]+F&4294967295,R.g[3]=R.g[3]+$&4294967295}r.prototype.v=function(R,C){C===void 0&&(C=R.length);const A=C-this.blockSize,O=this.C;let F=this.h,$=0;for(;$<C;){if(F==0)for(;$<=A;)s(this,R,$),$+=this.blockSize;if(typeof R=="string"){for(;$<C;)if(O[F++]=R.charCodeAt($++),F==this.blockSize){s(this,O),F=0;break}}else for(;$<C;)if(O[F++]=R[$++],F==this.blockSize){s(this,O),F=0;break}}this.h=F,this.o+=C},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;C=this.o*8;for(var A=R.length-8;A<R.length;++A)R[A]=C&255,C/=256;for(this.v(R),R=Array(16),C=0,A=0;A<4;++A)for(let O=0;O<32;O+=8)R[C++]=this.g[A]>>>O&255;return R};function i(R,C){var A=u;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=C(R)}function a(R,C){this.h=C;const A=[];let O=!0;for(let F=R.length-1;F>=0;F--){const $=R[F]|0;O&&$==C||(A[F]=$,O=!1)}this.g=A}var u={};function c(R){return-128<=R&&R<128?i(R,function(C){return new a([C|0],C<0?-1:0)}):new a([R|0],R<0?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return g;if(R<0)return _(h(-R));const C=[];let A=1;for(let O=0;R>=A;O++)C[O]=R/A|0,A*=4294967296;return new a(C,0)}function p(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return _(p(R.substring(1),C));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=h(Math.pow(C,8));let O=g;for(let $=0;$<R.length;$+=8){var F=Math.min(8,R.length-$);const L=parseInt(R.substring($,$+F),C);F<8?(F=h(Math.pow(C,F)),O=O.j(F).add(h(L))):(O=O.j(A),O=O.add(h(L)))}return O}var g=c(0),v=c(1),E=c(16777216);t=a.prototype,t.m=function(){if(T(this))return-_(this).m();let R=0,C=1;for(let A=0;A<this.g.length;A++){const O=this.i(A);R+=(O>=0?O:4294967296+O)*C,C*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I(this))return"0";if(T(this))return"-"+_(this).toString(R);const C=h(Math.pow(R,6));var A=this;let O="";for(;;){const F=B(A,C).g;A=D(A,F.j(C));let $=((A.g.length>0?A.g[0]:A.h)>>>0).toString(R);if(A=F,I(A))return $+O;for(;$.length<6;)$="0"+$;O=$+O}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function I(R){if(R.h!=0)return!1;for(let C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function T(R){return R.h==-1}t.l=function(R){return R=D(this,R),T(R)?-1:I(R)?0:1};function _(R){const C=R.g.length,A=[];for(let O=0;O<C;O++)A[O]=~R.g[O];return new a(A,~R.h).add(v)}t.abs=function(){return T(this)?_(this):this},t.add=function(R){const C=Math.max(this.g.length,R.g.length),A=[];let O=0;for(let F=0;F<=C;F++){let $=O+(this.i(F)&65535)+(R.i(F)&65535),L=($>>>16)+(this.i(F)>>>16)+(R.i(F)>>>16);O=L>>>16,$&=65535,L&=65535,A[F]=L<<16|$}return new a(A,A[A.length-1]&-2147483648?-1:0)};function D(R,C){return R.add(_(C))}t.j=function(R){if(I(this)||I(R))return g;if(T(this))return T(R)?_(this).j(_(R)):_(_(this).j(R));if(T(R))return _(this.j(_(R)));if(this.l(E)<0&&R.l(E)<0)return h(this.m()*R.m());const C=this.g.length+R.g.length,A=[];for(var O=0;O<2*C;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(let F=0;F<R.g.length;F++){const $=this.i(O)>>>16,L=this.i(O)&65535,ke=R.i(F)>>>16,Pe=R.i(F)&65535;A[2*O+2*F]+=L*Pe,P(A,2*O+2*F),A[2*O+2*F+1]+=$*Pe,P(A,2*O+2*F+1),A[2*O+2*F+1]+=L*ke,P(A,2*O+2*F+1),A[2*O+2*F+2]+=$*ke,P(A,2*O+2*F+2)}for(R=0;R<C;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=C;R<2*C;R++)A[R]=0;return new a(A,0)};function P(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function M(R,C){this.g=R,this.h=C}function B(R,C){if(I(C))throw Error("division by zero");if(I(R))return new M(g,g);if(T(R))return C=B(_(R),C),new M(_(C.g),_(C.h));if(T(C))return C=B(R,_(C)),new M(_(C.g),C.h);if(R.g.length>30){if(T(R)||T(C))throw Error("slowDivide_ only works with positive integers.");for(var A=v,O=C;O.l(R)<=0;)A=z(A),O=z(O);var F=K(A,1),$=K(O,1);for(O=K(O,2),A=K(A,2);!I(O);){var L=$.add(O);L.l(R)<=0&&(F=F.add(A),$=L),O=K(O,1),A=K(A,1)}return C=D(R,F.j(C)),new M(F,C)}for(F=g;R.l(C)>=0;){for(A=Math.max(1,Math.floor(R.m()/C.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),$=h(A),L=$.j(C);T(L)||L.l(R)>0;)A-=O,$=h(A),L=$.j(C);I($)&&($=v),F=F.add($),R=D(R,L)}return new M(F,R)}t.B=function(R){return B(this,R).h},t.and=function(R){const C=Math.max(this.g.length,R.g.length),A=[];for(let O=0;O<C;O++)A[O]=this.i(O)&R.i(O);return new a(A,this.h&R.h)},t.or=function(R){const C=Math.max(this.g.length,R.g.length),A=[];for(let O=0;O<C;O++)A[O]=this.i(O)|R.i(O);return new a(A,this.h|R.h)},t.xor=function(R){const C=Math.max(this.g.length,R.g.length),A=[];for(let O=0;O<C;O++)A[O]=this.i(O)^R.i(O);return new a(A,this.h^R.h)};function z(R){const C=R.g.length+1,A=[];for(let O=0;O<C;O++)A[O]=R.i(O)<<1|R.i(O-1)>>>31;return new a(A,R.h)}function K(R,C){const A=C>>5;C%=32;const O=R.g.length-A,F=[];for(let $=0;$<O;$++)F[$]=C>0?R.i($+A)>>>C|R.i($+A+1)<<32-C:R.i($+A);return new a(F,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,nD=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=p,Qo=a}).apply(typeof BT<"u"?BT:typeof self<"u"?self:typeof window<"u"?window:{});var nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rD,dh,sD,Rm,zw,iD,oD,aD;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof nm=="object"&&nm];for(var b=0;b<f.length;++b){var k=f[b];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var k=r;f=f.split(".");for(var j=0;j<f.length-1;j++){var X=f[j];if(!(X in k))break e;k=k[X]}f=f[f.length-1],j=k[f],b=b(j),b!=j&&b!=null&&e(k,f,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(b){var k=[],j;for(j in b)Object.prototype.hasOwnProperty.call(b,j)&&k.push([j,b[j]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function u(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function c(f,b,k){return f.call.apply(f.bind,arguments)}function h(f,b,k){return h=c,h.apply(null,arguments)}function p(f,b){var k=Array.prototype.slice.call(arguments,1);return function(){var j=k.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function g(f,b){function k(){}k.prototype=b.prototype,f.Z=b.prototype,f.prototype=new k,f.prototype.constructor=f,f.Ob=function(j,X,ee){for(var de=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)de[ze-2]=arguments[ze];return b.prototype[X].apply(j,de)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function E(f){const b=f.length;if(b>0){const k=Array(b);for(let j=0;j<b;j++)k[j]=f[j];return k}return[]}function I(f,b){for(let j=1;j<arguments.length;j++){const X=arguments[j];var k=typeof X;if(k=k!="object"?k:X?Array.isArray(X)?"array":k:"null",k=="array"||k=="object"&&typeof X.length=="number"){k=f.length||0;const ee=X.length||0;f.length=k+ee;for(let de=0;de<ee;de++)f[k+de]=X[de]}else f.push(X)}}class T{constructor(b,k){this.i=b,this.j=k,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function _(f){a.setTimeout(()=>{throw f},0)}function D(){var f=R;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class P{constructor(){this.h=this.g=null}add(b,k){const j=M.get();j.set(b,k),this.h?this.h.next=j:this.g=j,this.h=j}}var M=new T(()=>new B,f=>f.reset());class B{constructor(){this.next=this.g=this.h=null}set(b,k){this.h=b,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let z,K=!1,R=new P,C=()=>{const f=Promise.resolve(void 0);z=()=>{f.then(A)}};function A(){for(var f;f=D();){try{f.h.call(f.g)}catch(k){_(k)}var b=M;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}K=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};a.addEventListener("test",k,b),a.removeEventListener("test",k,b)}catch{}return f})();function L(f){return/^[\s\xa0]*$/.test(f)}function ke(f,b){F.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}g(ke,F),ke.prototype.init=function(f,b){const k=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(k=="mouseover"?b=f.fromElement:k=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),ye=0;function ve(f,b,k,j,X){this.listener=f,this.proxy=null,this.src=b,this.type=k,this.capture=!!j,this.ha=X,this.key=++ye,this.da=this.fa=!1}function W(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,b,k){for(const j in f)b.call(k,f[j],j,f)}function oe(f,b){for(const k in f)b.call(void 0,f[k],k,f)}function G(f){const b={};for(const k in f)b[k]=f[k];return b}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(f,b){let k,j;for(let X=1;X<arguments.length;X++){j=arguments[X];for(k in j)f[k]=j[k];for(let ee=0;ee<re.length;ee++)k=re[ee],Object.prototype.hasOwnProperty.call(j,k)&&(f[k]=j[k])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,b,k,j,X){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const de=Ue(f,b,j,X);return de>-1?(b=f[de],k||(b.fa=!1)):(b=new ve(b,this.src,ee,!!j,X),b.fa=k,f.push(b)),b};function Re(f,b){const k=b.type;if(k in f.g){var j=f.g[k],X=Array.prototype.indexOf.call(j,b,void 0),ee;(ee=X>=0)&&Array.prototype.splice.call(j,X,1),ee&&(W(b),f.g[k].length==0&&(delete f.g[k],f.h--))}}function Ue(f,b,k,j){for(let X=0;X<f.length;++X){const ee=f[X];if(!ee.da&&ee.listener==b&&ee.capture==!!k&&ee.ha==j)return X}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),$e={};function Be(f,b,k,j,X){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)Be(f,b[ee],k,j,X);return null}return k=pa(k),f&&f[Pe]?f.J(b,k,u(j)?!!j.capture:!1,X):pt(f,b,k,!1,j,X)}function pt(f,b,k,j,X,ee){if(!b)throw Error("Invalid event type");const de=u(X)?!!X.capture:!!X;let ze=Ji(f);if(ze||(f[Ce]=ze=new me(f)),k=ze.add(b,k,j,de,ee),k.proxy)return k;if(j=kr(),k.proxy=j,j.src=f,j.listener=k,f.addEventListener)$||(X=de),X===void 0&&(X=!1),f.addEventListener(b.toString(),j,X);else if(f.attachEvent)f.attachEvent(Xi(b.toString()),j);else if(f.addListener&&f.removeListener)f.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return k}function kr(){function f(k){return b.call(f.src,f.listener,k)}const b=ql;return f}function Tr(f,b,k,j,X){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)Tr(f,b[ee],k,j,X);else j=u(j)?!!j.capture:!!j,k=pa(k),f&&f[Pe]?(f=f.i,ee=String(b).toString(),ee in f.g&&(b=f.g[ee],k=Ue(b,k,j,X),k>-1&&(W(b[k]),Array.prototype.splice.call(b,k,1),b.length==0&&(delete f.g[ee],f.h--)))):f&&(f=Ji(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Ue(b,k,j,X)),(k=f>-1?b[f]:null)&&Gn(k))}function Gn(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Pe])Re(b.i,f);else{var k=f.type,j=f.proxy;b.removeEventListener?b.removeEventListener(k,j,f.capture):b.detachEvent?b.detachEvent(Xi(k),j):b.addListener&&b.removeListener&&b.removeListener(j),(k=Ji(b))?(Re(k,f),k.h==0&&(k.src=null,b[Ce]=null)):W(f)}}}function Xi(f){return f in $e?$e[f]:$e[f]="on"+f}function ql(f,b){if(f.da)f=!0;else{b=new ke(b,this);const k=f.listener,j=f.ha||f.src;f.fa&&Gn(f),f=k.call(j,b)}return f}function Ji(f){return f=f[Ce],f instanceof me?f:null}var oi="__closure_events_fn_"+(Math.random()*1e9>>>0);function pa(f){return typeof f=="function"?f:(f[oi]||(f[oi]=function(b){return f.handleEvent(b)}),f[oi])}function mt(){O.call(this),this.i=new me(this),this.M=this,this.G=null}g(mt,O),mt.prototype[Pe]=!0,mt.prototype.removeEventListener=function(f,b,k,j){Tr(this,f,b,k,j)};function Ht(f,b){var k,j=f.G;if(j)for(k=[];j;j=j.G)k.push(j);if(f=f.M,j=b.type||b,typeof b=="string")b=new F(b,f);else if(b instanceof F)b.target=b.target||f;else{var X=b;b=new F(j,f),pe(b,X)}X=!0;let ee,de;if(k)for(de=k.length-1;de>=0;de--)ee=b.g=k[de],X=Wr(ee,j,!0,b)&&X;if(ee=b.g=f,X=Wr(ee,j,!0,b)&&X,X=Wr(ee,j,!1,b)&&X,k)for(de=0;de<k.length;de++)ee=b.g=k[de],X=Wr(ee,j,!1,b)&&X}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const k=f.g[b];for(let j=0;j<k.length;j++)W(k[j]);delete f.g[b],f.h--}}this.G=null},mt.prototype.J=function(f,b,k,j){return this.i.add(String(f),b,!1,k,j)},mt.prototype.K=function(f,b,k,j){return this.i.add(String(f),b,!0,k,j)};function Wr(f,b,k,j){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let X=!0;for(let ee=0;ee<b.length;++ee){const de=b[ee];if(de&&!de.da&&de.capture==k){const ze=de.listener,Kt=de.ha||de.src;de.fa&&Re(f.i,de),X=ze.call(Kt,j)!==!1&&X}}return X&&!j.defaultPrevented}function Gc(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:a.setTimeout(f,b||0)}function Wc(f){f.g=Gc(()=>{f.g=null,f.i&&(f.i=!1,Wc(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Bf extends O{constructor(b,k){super(),this.m=b,this.l=k,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Wc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(f){O.call(this),this.h=f,this.g={}}g(Zi,O);var Qc=[];function Hl(f){ne(f.g,function(b,k){this.g.hasOwnProperty(k)&&Gn(b)},f),f.g={}}Zi.prototype.N=function(){Zi.Z.N.call(this),Hl(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eo=a.JSON.stringify,Uf=a.JSON.parse,ma=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function to(){}function zf(){}var no={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kl(){F.call(this,"d")}g(Kl,F);function Yc(){F.call(this,"c")}g(Yc,F);var Qr={},Gl=null;function ro(){return Gl=Gl||new mt}Qr.Ia="serverreachability";function Wl(f){F.call(this,Qr.Ia,f)}g(Wl,F);function ai(f){const b=ro();Ht(b,new Wl(b))}Qr.STAT_EVENT="statevent";function li(f,b){F.call(this,Qr.STAT_EVENT,f),this.stat=b}g(li,F);function Dt(f){const b=ro();Ht(b,new li(b,f))}Qr.Ja="timingevent";function Xc(f,b){F.call(this,Qr.Ja,f),this.size=b}g(Xc,F);function so(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},b)}function io(){this.g=!0}io.prototype.ua=function(){this.g=!1};function $f(f,b,k,j,X,ee){f.info(function(){if(f.g)if(ee){var de="",ze=ee.split("&");for(let dt=0;dt<ze.length;dt++){var Kt=ze[dt].split("=");if(Kt.length>1){const Jt=Kt[0];Kt=Kt[1];const hr=Jt.split("_");de=hr.length>=2&&hr[1]=="type"?de+(Jt+"="+Kt+"&"):de+(Jt+"=redacted&")}}}else de=null;else de=ee;return"XMLHTTP REQ ("+j+") [attempt "+X+"]: "+b+`
`+k+`
`+de})}function qf(f,b,k,j,X,ee,de){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+X+"]: "+b+`
`+k+`
`+ee+" "+de})}function ys(f,b,k,j){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+ga(f,k)+(j?" "+j:"")})}function Hf(f,b){f.info(function(){return"TIMEOUT: "+b})}io.prototype.info=function(){};function ga(f,b){if(!f.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var k=ee[f];if(!(k.length<2)){var j=k[1];if(Array.isArray(j)&&!(j.length<1)){var X=j[0];if(X!="noop"&&X!="stop"&&X!="close")for(let de=1;de<j.length;de++)j[de]=""}}}}return eo(ee)}catch{return b}}var oo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kf;function ui(){}g(ui,to),ui.prototype.g=function(){return new XMLHttpRequest},Kf=new ui;function vs(f){return encodeURIComponent(String(f))}function Ql(f){var b=1;f=f.split(":");const k=[];for(;b>0&&f.length;)k.push(f.shift()),b--;return f.length&&k.push(f.join(":")),k}function _r(f,b,k,j){this.j=f,this.i=b,this.l=k,this.S=j||1,this.V=new Zi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gf}function Gf(){this.i=null,this.g="",this.h=!1}var Wf={},Jc={};function Yr(f,b,k){f.M=1,f.A=di(Ir(b)),f.u=k,f.R=!0,Zc(f,null)}function Zc(f,b){f.F=Date.now(),ya(f),f.B=Ir(f.A);var k=f.B,j=f.S;Array.isArray(j)||(j=[String(j)]),ud(k.i,"t",j),f.C=0,k=f.j.L,f.h=new Gf,f.g=sp(f.j,k?b:null,!f.u),f.P>0&&(f.O=new Bf(h(f.Y,f,f.g),f.P)),b=f.V,k=f.g,j=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(Qc[0]=X.toString()),X=Qc);for(let ee=0;ee<X.length;ee++){const de=Be(k,X[ee],j||b.handleEvent,!1,b.h||b);if(!de)break;b.g[de.key]=de}b=f.J?G(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),ai(),$f(f.i,f.v,f.B,f.l,f.S,f.u)}_r.prototype.ba=function(f){f=f.target;const b=this.O;b&&Ts(f)==3?b.j():this.Y(f)},_r.prototype.Y=function(f){try{if(f==this.g)e:{const ze=Ts(this.g),Kt=this.g.ya(),dt=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||np(this.g)))){this.K||ze!=4||Kt==7||(Kt==8||dt<=0?ai(3):ai(2)),Yl(this);var b=this.g.ca();this.X=b;var k=Qf(this);if(this.o=b==200,qf(this.i,this.v,this.B,this.l,this.S,ze,b),this.o){if(this.U&&!this.L){t:{if(this.g){var j,X=this.g;if((j=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(j)){var ee=j;break t}}ee=null}if(f=ee)ys(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gt(this,f);else{this.o=!1,this.m=3,Dt(12),ci(this),va(this);break e}}if(this.R){f=!0;let Jt;for(;!this.K&&this.C<k.length;)if(Jt=Xf(this,k),Jt==Jc){ze==4&&(this.m=4,Dt(14),f=!1),ys(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Wf){this.m=4,Dt(15),ys(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else ys(this.i,this.l,Jt,null),gt(this,Jt);if(Yf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||k.length!=0||this.h.h||(this.m=1,Dt(16),f=!1),this.o=this.o&&f,!f)ys(this.i,this.l,k,"[Invalid Chunked Response]"),ci(this),va(this);else if(k.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Ia(de),de.P=!0,Dt(11))}}else ys(this.i,this.l,k,null),gt(this,k);ze==4&&ci(this),this.o&&!this.K&&(ze==4?ou(this.j,this):(this.o=!1,ya(this)))}else dd(this.g),b==400&&k.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),ci(this),va(this)}}}catch{}finally{}};function Qf(f){if(!Yf(f))return f.g.la();const b=np(f.g);if(b==="")return"";let k="";const j=b.length,X=Ts(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ci(f),va(f),"";f.h.i=new a.TextDecoder}for(let ee=0;ee<j;ee++)f.h.h=!0,k+=f.h.i.decode(b[ee],{stream:!(X&&ee==j-1)});return b.length=0,f.h.g+=k,f.C=0,f.h.g}function Yf(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Xf(f,b){var k=f.C,j=b.indexOf(`
`,k);return j==-1?Jc:(k=Number(b.substring(k,j)),isNaN(k)?Wf:(j+=1,j+k>b.length?Jc:(b=b.slice(j,j+k),f.C=j+k,b)))}_r.prototype.cancel=function(){this.K=!0,ci(this)};function ya(f){f.T=Date.now()+f.H,ed(f,f.H)}function ed(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=so(h(f.aa,f),b)}function Yl(f){f.D&&(a.clearTimeout(f.D),f.D=null)}_r.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Hf(this.i,this.B),this.M!=2&&(ai(),Dt(17)),ci(this),this.m=2,va(this)):ed(this,this.T-f)};function va(f){f.j.I==0||f.K||ou(f.j,f)}function ci(f){Yl(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Hl(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function gt(f,b){try{var k=f.j;if(k.I!=0&&(k.g==f||nd(k.h,f))){if(!f.L&&nd(k.h,f)&&k.I==3){try{var j=k.Ba.g.parse(b)}catch{j=null}if(Array.isArray(j)&&j.length==3){var X=j;if(X[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<f.F)iu(k),cr(k);else break e;Cs(k),Dt(18)}}else k.xa=X[1],0<k.xa-k.K&&X[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=so(h(k.Va,k),6e3));wa(k.h)<=1&&k.ta&&(k.ta=void 0)}else dr(k,11)}else if((f.L||k.g==f)&&iu(k),!L(b))for(X=k.Ba.g.parse(b),b=0;b<X.length;b++){let dt=X[b];const Jt=dt[0];if(!(Jt<=k.K))if(k.K=Jt,dt=dt[1],k.I==2)if(dt[0]=="c"){k.M=dt[1],k.ba=dt[2];const hr=dt[3];hr!=null&&(k.ka=hr,k.j.info("VER="+k.ka));const mo=dt[4];mo!=null&&(k.za=mo,k.j.info("SVER="+k.za));const Ns=dt[5];Ns!=null&&typeof Ns=="number"&&Ns>0&&(j=1.5*Ns,k.O=j,k.j.info("backChannelRequestTimeoutMs_="+j)),j=k;const Ds=f.g;if(Ds){const uu=Ds.g?Ds.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uu){var ee=j.h;ee.g||uu.indexOf("spdy")==-1&&uu.indexOf("quic")==-1&&uu.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Jl(ee,ee.h),ee.h=null))}if(j.G){const pd=Ds.g?Ds.g.getResponseHeader("X-HTTP-Session-Id"):null;pd&&(j.wa=pd,it(j.J,j.G,pd))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-f.F,k.j.info("Handshake RTT: "+k.T+"ms")),j=k;var de=f;if(j.na=fd(j,j.L?j.ba:null,j.W),de.L){ba(j.h,de);var ze=de,Kt=j.O;Kt&&(ze.H=Kt),ze.D&&(Yl(ze),ya(ze)),j.g=de}else Tn(j);k.i.length>0&&mi(k)}else dt[0]!="stop"&&dt[0]!="close"||dr(k,7);else k.I==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?dr(k,7):ru(k):dt[0]!="noop"&&k.l&&k.l.qa(dt),k.A=0)}}ai(4)}catch{}}var tv=class{constructor(f,b){this.g=f,this.map=b}};function Xl(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function td(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function wa(f){return f.h?1:f.g?f.g.size:0}function nd(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Jl(f,b){f.g?f.g.add(b):f.h=b}function ba(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Xl.prototype.cancel=function(){if(this.i=ar(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ar(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const k of f.g.values())b=b.concat(k.G);return b}return E(f.i)}var Jf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lr(f,b){if(f){f=f.split("&");for(let k=0;k<f.length;k++){const j=f[k].indexOf("=");let X,ee=null;j>=0?(X=f[k].substring(0,j),ee=f[k].substring(j+1)):X=f[k],b(X,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function ws(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof ws?(this.l=f.l,xa(this,f.j),this.o=f.o,this.g=f.g,bs(this,f.u),this.h=f.h,lo(this,cd(f.i)),this.m=f.m):f&&(b=String(f).match(Jf))?(this.l=!1,xa(this,b[1]||"",!0),this.o=Sa(b[2]||""),this.g=Sa(b[3]||"",!0),bs(this,b[4]),this.h=Sa(b[5]||"",!0),lo(this,b[6]||"",!0),this.m=Sa(b[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}ws.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(Ea(b,sd,!0),":");var k=this.g;return(k||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Ea(b,sd,!0),"@"),f.push(vs(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&f.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(Ea(k,k.charAt(0)=="/"?ka:id,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",Ea(k,od)),f.join("")},ws.prototype.resolve=function(f){const b=Ir(this);let k=!!f.j;k?xa(b,f.j):k=!!f.o,k?b.o=f.o:k=!!f.g,k?b.g=f.g:k=f.u!=null;var j=f.h;if(k)bs(b,f.u);else if(k=!!f.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var X=b.h.lastIndexOf("/");X!=-1&&(j=b.h.slice(0,X+1)+j)}if(X=j,X==".."||X==".")j="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){j=X.lastIndexOf("/",0)==0,X=X.split("/");const ee=[];for(let de=0;de<X.length;){const ze=X[de++];ze=="."?j&&de==X.length&&ee.push(""):ze==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),j&&de==X.length&&ee.push("")):(ee.push(ze),j=!0)}j=ee.join("/")}else j=X}return k?b.h=j:k=f.i.toString()!=="",k?lo(b,cd(f.i)):k=!!f.m,k&&(b.m=f.m),b};function Ir(f){return new ws(f)}function xa(f,b,k){f.j=k?Sa(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function bs(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function lo(f,b,k){b instanceof Qe?(f.i=b,eu(f.i,f.l)):(k||(b=Ea(b,nv)),f.i=new Qe(b,f.l))}function it(f,b,k){f.i.set(b,k)}function di(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Sa(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ea(f,b,k){return typeof f=="string"?(f=encodeURI(f).replace(b,rd),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function rd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var sd=/[#\/\?@]/g,id=/[#\?:]/g,ka=/[#\?]/g,nv=/[#\?@]/g,od=/#/g;function Qe(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function xs(f){f.g||(f.g=new Map,f.h=0,f.i&&lr(f.i,function(b,k){f.add(decodeURIComponent(b.replace(/\+/g," ")),k)}))}t=Qe.prototype,t.add=function(f,b){xs(this),this.i=null,f=Ss(this,f);let k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(b),this.h+=1,this};function ad(f,b){xs(f),b=Ss(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Zl(f,b){return xs(f),b=Ss(f,b),f.g.has(b)}t.forEach=function(f,b){xs(this),this.g.forEach(function(k,j){k.forEach(function(X){f.call(b,X,j,this)},this)},this)};function ld(f,b){xs(f);let k=[];if(typeof b=="string")Zl(f,b)&&(k=k.concat(f.g.get(Ss(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)k=k.concat(f[b]);return k}t.set=function(f,b){return xs(this),this.i=null,f=Ss(this,f),Zl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=ld(this,f),f.length>0?String(f[0]):b):b};function ud(f,b,k){ad(f,b),k.length>0&&(f.i=null,f.g.set(Ss(f,b),E(k)),f.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let j=0;j<b.length;j++){var k=b[j];const X=vs(k);k=ld(this,k);for(let ee=0;ee<k.length;ee++){let de=X;k[ee]!==""&&(de+="="+vs(k[ee])),f.push(de)}}return this.i=f.join("&")};function cd(f){const b=new Qe;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function Ss(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function eu(f,b){b&&!f.j&&(xs(f),f.i=null,f.g.forEach(function(k,j){const X=j.toLowerCase();j!=X&&(ad(this,j),ud(this,X,k))},f)),f.j=b}function Es(f,b){const k=new io;if(a.Image){const j=new Image;j.onload=p(gn,k,"TestLoadImage: loaded",!0,b,j),j.onerror=p(gn,k,"TestLoadImage: error",!1,b,j),j.onabort=p(gn,k,"TestLoadImage: abort",!1,b,j),j.ontimeout=p(gn,k,"TestLoadImage: timeout",!1,b,j),a.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else b(!1)}function ks(f,b){const k=new io,j=new AbortController,X=setTimeout(()=>{j.abort(),gn(k,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:j.signal}).then(ee=>{clearTimeout(X),ee.ok?gn(k,"TestPingServer: ok",!0,b):gn(k,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),gn(k,"TestPingServer: error",!1,b)})}function gn(f,b,k,j,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),j(k)}catch{}}function Ta(){this.g=new ma}function hi(f){this.i=f.Sb||null,this.h=f.ab||!1}g(hi,to),hi.prototype.g=function(){return new ur(this.i,this.h)};function ur(f,b){mt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(ur,mt),t=ur.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Xr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||a).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,uo(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zf(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zf(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?uo(this):Xr(this),this.readyState==3&&Zf(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,uo(this))},t.Na=function(f){this.g&&(this.response=f,uo(this))},t.ga=function(){this.g&&uo(this)};function uo(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Xr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var k=b.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=b.next();return f.join(`\r
`)};function Xr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ep(f){let b="";return ne(f,function(k,j){b+=j,b+=":",b+=k,b+=`\r
`}),b}function tu(f,b,k){e:{for(j in k){var j=!1;break e}j=!0}j||(k=ep(k),typeof f=="string"?k!=null&&vs(k):it(f,b,k))}function ct(f){mt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ct,mt);var tp=/^https?$/i,rv=["POST","PUT"];t=ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,k,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kf.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ee){co(this,ee);return}if(f=k||"",k=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var X in j)k.set(X,j[X]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ee of j.keys())k.set(ee,j.get(ee));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(k.keys()).find(ee=>ee.toLowerCase()=="content-type"),X=a.FormData&&f instanceof a.FormData,!(Array.prototype.indexOf.call(rv,b,void 0)>=0)||j||X||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,de]of k)this.g.setRequestHeader(ee,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){co(this,ee)}};function co(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,ho(f),pi(f)}function ho(f){f.A||(f.A=!0,Ht(f,"complete"),Ht(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ht(this,"complete"),Ht(this,"abort"),pi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fi(this):this.Xa())},t.Xa=function(){fi(this)};function fi(f){if(f.h&&typeof i<"u"){if(f.v&&Ts(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ht(f,"readystatechange"),Ts(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var k;if(!(k=b)){var j;if(j=ee===0){let de=String(f.D).match(Jf)[1]||null;!de&&a.self&&a.self.location&&(de=a.self.location.protocol.slice(0,-1)),j=!tp.test(de?de.toLowerCase():"")}k=j}if(k)Ht(f,"complete"),Ht(f,"success");else{f.o=6;try{var X=Ts(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",ho(f)}}finally{pi(f)}}}}function pi(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const k=f.g;f.g=null,b||Ht(f,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ts(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ts(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Uf(b)}};function np(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function dd(f){const b={};f=(f.g&&Ts(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<f.length;j++){if(L(f[j]))continue;var k=Ql(f[j]);const X=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ee=b[X]||[];b[X]=ee,ee.push(k)}oe(b,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(f,b,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||b}function nu(f){this.za=0,this.i=[],this.j=new io,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_s("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_s("baseRetryDelayMs",5e3,f),this.Za=_s("retryDelaySeedMs",1e4,f),this.Ta=_s("forwardChannelMaxRetries",2,f),this.va=_s("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Xl(f&&f.concurrentRequestLimit),this.Ba=new Ta,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=nu.prototype,t.ka=8,t.I=1,t.connect=function(f,b,k,j){Dt(0),this.W=f,this.H=b||{},k&&j!==void 0&&(this.H.OSID=k,this.H.OAID=j),this.F=this.X,this.J=fd(this,null,this.W),mi(this)};function ru(f){if(su(f),f.I==3){var b=f.V++,k=Ir(f.J);if(it(k,"SID",f.M),it(k,"RID",b),it(k,"TYPE","terminate"),Is(f,k),b=new _r(f,f.j,b),b.M=2,b.A=di(Ir(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(b.A.toString(),"")}catch{}!k&&a.Image&&(new Image().src=b.A,k=!0),k||(b.g=sp(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ya(b)}Ca(f)}function cr(f){f.g&&(Ia(f),f.g.cancel(),f.g=null)}function su(f){cr(f),f.v&&(a.clearTimeout(f.v),f.v=null),iu(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&a.clearTimeout(f.m),f.m=null)}function mi(f){if(!td(f.h)&&!f.m){f.m=!0;var b=f.Ea;z||C(),K||(z(),K=!0),R.add(b,f),f.D=0}}function rp(f,b){return wa(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=so(h(f.Ea,f,b),au(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new _r(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=G(ee),pe(ee,this.U)):ee=this.U),this.u!==null||this.R||(X.J=ee,ee=null),this.S)e:{for(var b=0,k=0;k<this.i.length;k++){t:{var j=this.i[k];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(b+=j,b>4096){b=k;break e}if(b===4096||k===this.i.length-1){b=k+1;break e}}b=1e3}else b=1e3;b=hd(this,X,b),k=Ir(this.J),it(k,"RID",f),it(k,"CVER",22),this.G&&it(k,"X-HTTP-Session-Id",this.G),Is(this,k),ee&&(this.R?b="headers="+vs(ep(ee))+"&"+b:this.u&&tu(k,this.u,ee)),Jl(this.h,X),this.Ra&&it(k,"TYPE","init"),this.S?(it(k,"$req",b),it(k,"SID","null"),X.U=!0,Yr(X,k,null)):Yr(X,k,b),this.I=2}}else this.I==3&&(f?_a(this,f):this.i.length==0||td(this.h)||_a(this))};function _a(f,b){var k;b?k=b.l:k=f.V++;const j=Ir(f.J);it(j,"SID",f.M),it(j,"RID",k),it(j,"AID",f.K),Is(f,j),f.u&&f.o&&tu(j,f.u,f.o),k=new _r(f,f.j,k,f.D+1),f.u===null&&(k.J=f.o),b&&(f.i=b.G.concat(f.i)),b=hd(f,k,1e3),k.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Jl(f.h,k),Yr(k,j,b)}function Is(f,b){f.H&&ne(f.H,function(k,j){it(b,j,k)}),f.l&&ne({},function(k,j){it(b,j,k)})}function hd(f,b,k){k=Math.min(f.i.length,k);const j=f.l?h(f.l.Ka,f.l,f):null;e:{var X=f.i;let ze=-1;for(;;){const Kt=["count="+k];ze==-1?k>0?(ze=X[0].g,Kt.push("ofs="+ze)):ze=0:Kt.push("ofs="+ze);let dt=!0;for(let Jt=0;Jt<k;Jt++){var ee=X[Jt].g;const hr=X[Jt].map;if(ee-=ze,ee<0)ze=Math.max(0,X[Jt].g-100),dt=!1;else try{ee="req"+ee+"_"||"";try{var de=hr instanceof Map?hr:Object.entries(hr);for(const[mo,Ns]of de){let Ds=Ns;u(Ns)&&(Ds=eo(Ns)),Kt.push(ee+mo+"="+encodeURIComponent(Ds))}}catch(mo){throw Kt.push(ee+"type="+encodeURIComponent("_badmap")),mo}}catch{j&&j(hr)}}if(dt){de=Kt.join("&");break e}}de=void 0}return f=f.i.splice(0,k),b.G=f,de}function Tn(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;z||C(),K||(z(),K=!0),R.add(b,f),f.A=0}}function Cs(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=so(h(f.Da,f),au(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,fo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=so(h(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),cr(this),fo(this))};function Ia(f){f.B!=null&&(a.clearTimeout(f.B),f.B=null)}function fo(f){f.g=new _r(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Ir(f.na);it(b,"RID","rpc"),it(b,"SID",f.M),it(b,"AID",f.K),it(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(b,"TO",f.ia),it(b,"TYPE","xmlhttp"),Is(f,b),f.u&&f.o&&tu(b,f.u,f.o),f.O&&(f.g.H=f.O);var k=f.g;f=f.ba,k.M=1,k.A=di(Ir(b)),k.u=null,k.R=!0,Zc(k,f)}t.Va=function(){this.C!=null&&(this.C=null,cr(this),Cs(this),Dt(19))};function iu(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function ou(f,b){var k=null;if(f.g==b){iu(f),Ia(f),f.g=null;var j=2}else if(nd(f.h,b))k=b.G,ba(f.h,b),j=1;else return;if(f.I!=0){if(b.o)if(j==1){k=b.u?b.u.length:0,b=Date.now()-b.F;var X=f.D;j=ro(),Ht(j,new Xc(j,k)),mi(f)}else Tn(f);else if(X=b.m,X==3||X==0&&b.X>0||!(j==1&&rp(f,b)||j==2&&Cs(f)))switch(k&&k.length>0&&(b=f.h,b.i=b.i.concat(k)),X){case 1:dr(f,5);break;case 4:dr(f,10);break;case 3:dr(f,6);break;default:dr(f,2)}}}function au(f,b){let k=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(k*=2),k*b}function dr(f,b){if(f.j.info("Error code "+b),b==2){var k=h(f.bb,f),j=f.Ua;const X=!j;j=new ws(j||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xa(j,"https"),di(j),X?Es(j.toString(),k):ks(j.toString(),k)}else Dt(2);f.I=0,f.l&&f.l.pa(b),Ca(f),su(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Ca(f){if(f.I=0,f.ja=[],f.l){const b=ar(f.h);(b.length!=0||f.i.length!=0)&&(I(f.ja,b),I(f.ja,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.oa()}}function fd(f,b,k){var j=k instanceof ws?Ir(k):new ws(k);if(j.g!="")b&&(j.g=b+"."+j.g),bs(j,j.u);else{var X=a.location;j=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;const ee=new ws(null);j&&xa(ee,j),b&&(ee.g=b),X&&bs(ee,X),k&&(ee.h=k),j=ee}return k=f.G,b=f.wa,k&&b&&it(j,k,b),it(j,"VER",f.ka),Is(f,j),j}function sp(f,b,k){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ct(new hi({ab:k})):new ct(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ip(){}t=ip.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function lu(){}lu.prototype.g=function(f,b){return new yn(f,b)};function yn(f,b){mt.call(this),this.g=new nu(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!L(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new po(this)}g(yn,mt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){ru(this.g)},yn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.v&&(k={},k.__data__=eo(f),f=k);b.i.push(new tv(b.Ya++,f)),b.I==3&&mi(b)},yn.prototype.N=function(){this.g.l=null,delete this.j,ru(this.g),delete this.g,yn.Z.N.call(this)};function op(f){Kl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const k in b){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}g(op,Kl);function ap(){Yc.call(this),this.status=1}g(ap,Yc);function po(f){this.g=f}g(po,ip),po.prototype.ra=function(){Ht(this.g,"a")},po.prototype.qa=function(f){Ht(this.g,new op(f))},po.prototype.pa=function(f){Ht(this.g,new ap)},po.prototype.oa=function(){Ht(this.g,"b")},lu.prototype.createWebChannel=lu.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,aD=function(){return new lu},oD=function(){return ro()},iD=Qr,zw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},oo.NO_ERROR=0,oo.TIMEOUT=8,oo.HTTP_ERROR=6,Rm=oo,ao.COMPLETE="complete",sD=ao,zf.EventType=no,no.OPEN="a",no.CLOSE="b",no.ERROR="c",no.MESSAGE="d",mt.prototype.listen=mt.prototype.J,dh=zf,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,rD=ct}).apply(typeof nm<"u"?nm:typeof self<"u"?self:typeof window<"u"?window:{});const UT="@firebase/firestore",zT="4.9.2";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Sn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Rc="12.3.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sl=new ty("@firebase/firestore");function Yu(){return Sl.logLevel}function le(t,...e){if(Sl.logLevel<=Ge.DEBUG){const n=e.map(kx);Sl.debug(`Firestore (${Rc}): ${t}`,...n)}}function Fn(t,...e){if(Sl.logLevel<=Ge.ERROR){const n=e.map(kx);Sl.error(`Firestore (${Rc}): ${t}`,...n)}}function El(t,...e){if(Sl.logLevel<=Ge.WARN){const n=e.map(kx);Sl.warn(`Firestore (${Rc}): ${t}`,...n)}}function kx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,lD(t,r,n)}function lD(t,e,n){let r=`FIRESTORE (${Rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fn(r),new Error(r)}function Ie(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||lD(e,s,r)}function Fe(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Sn.UNAUTHENTICATED)))}shutdown(){}}class oF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class aF{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qs,e.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},u=c=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qs)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new uD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class lF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new lF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $T{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $T(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $T(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=dF(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function $w(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return A0(s)===A0(i)?Ve(s,i):A0(s)?1:-1}return Ve(t.length,e.length)}const hF=55296,fF=57343;function A0(t){const e=t.charCodeAt(0);return e>=hF&&e<=fF}function mc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function cD(t){return t+"\0"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qT="__name__";class Ls{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ls.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ls?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ls.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ve(e.length,n.length)}static compareSegments(e,n){const r=Ls.isNumericId(e),s=Ls.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ls.extractNumericId(e).compare(Ls.extractNumericId(n)):$w(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qo.fromString(e.substring(4,e.length-2))}}class ot extends Ls{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const pF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Ls{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return pF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qT}static keyField(){return new _t([qT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else u==="`"?(a=!a,s++):u!=="."||a?(r+=u,s++):(i(),s++)}if(i(),a)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class he{constructor(e){this.path=e}static fromPath(e){return new he(ot.fromString(e))}static fromName(e){return new he(ot.fromString(e).popFirst(5))}static empty(){return new he(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new ot(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dD(t,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mF(t,e,n,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HT(t){if(!he.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KT(t){if(he.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ay(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ay(t);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function gF(t,e){if(e<=0)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nn(t,e){const n={typeString:t};return e&&(n.value=e),n}function gf(t,e){if(!hD(t))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GT=-62135596800,WT=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*WT);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<GT)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WT}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gf(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-GT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:nn("string",rt._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new rt(0,0))}static max(){return new Ne(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Lh=-1;class mg{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function qw(t){return t.fields.find((e=>e.kind===2))}function Za(t){return t.fields.filter((e=>e.kind!==2))}mg.UNKNOWN_ID=-1;class jm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Vh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Vh(0,Er.min())}}function yF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Er(s,he.empty(),e)}function fD(t){return new Er(t.readTime,t.key,Lh)}class Er{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Er(Ne.min(),he.empty(),Lh)}static max(){return new Er(Ne.max(),he.empty(),Lh)}}function _x(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Vl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==pD)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let s=0,i=0,a=!1;e.forEach((u=>{++s,u.next((()=>{++i,a&&i===s&&n()}),(c=>r(c)))})),a=!0,i===s&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((s=>s?Q.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,s)=>{const i=e.length,a=new Array(i);let u=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next((p=>{a[h]=p,++u,u===i&&r(a)}),(p=>s(p)))}}))}static doWhile(e,n){return new Q(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yr="SimpleDb";class ly{static open(e,n,r,s){try{return new ly(n,e.transaction(s,r))}catch(i){throw new bh(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new qs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new bh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=Ix(r.target.error);this.S.reject(new bh(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(yr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new wF(n)}}class Yo{static delete(e){return le(yr,"Removing database:",e),rl(oN().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!ey())return!1;if(Yo.F())return!0;const e=un(),n=Yo.M(e),r=0<n&&n<10,s=gD(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Yo.M(un())===12.2&&Fn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(yr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const a=i.target.result;n(a)},s.onblocked=()=>{r(new bh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new ce(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new ce(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new bh(e,a))},s.onupgradeneeded=i=>{le(yr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.N.k(a,s.transaction,i.oldVersion,this.version).next((()=>{le(yr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const u=ly.open(this.db,e,i?"readonly":"readwrite",r),c=s(u).next((h=>(u.C(),h))).catch((h=>(u.abort(h),Q.reject(h)))).toPromise();return c.catch((()=>{})),await u.D,c}catch(u){const c=u,h=c.name!=="FirebaseError"&&a<3;if(le(yr,"Transaction failed with error:",c.message,"Retrying:",h),this.close(),!h)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function gD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class vF{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return rl(this.U.delete())}}class bh extends ce{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function da(t){return t.name==="IndexedDbTransactionError"}class wF{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(le(yr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(le(yr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),rl(r)}add(e){return le(yr,"ADD",this.store.name,e,e),rl(this.store.add(e))}get(e){return rl(this.store.get(e)).next((n=>(n===void 0&&(n=null),le(yr,"GET",this.store.name,e,n),n)))}delete(e){return le(yr,"DELETE",this.store.name,e),rl(this.store.delete(e))}count(){return le(yr,"COUNT",this.store.name),rl(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Q(((a,u)=>{i.onerror=c=>{u(c.target.error)},i.onsuccess=c=>{a(c.target.result)}}))}{const i=this.cursor(r),a=[];return this.H(i,((u,c)=>{a.push(c)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((s,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{s(a.target.result)}}))}Z(e,n){le(yr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,a,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new Q(((r,s)=>{n.onerror=i=>{const a=Ix(i.target.error);s(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next((u=>{u?a.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((s,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const u=a.target.result;if(!u)return void s();const c=new vF(u),h=n(u.primaryKey,u.value,c);if(h instanceof Q){const p=h.catch((g=>(c.done(),Q.reject(g))));r.push(p)}c.isDone?s():c.G===null?u.continue():u.continue(c.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function rl(t){return new Q(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Ix(r.target.error);n(s)}}))}let QT=!1;function Ix(t){const e=Yo.M(un());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return QT||(QT=!0,setTimeout((()=>{throw r}),0)),r}}return t}const xh="IndexBackfiller";class bF{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(xh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();le(xh,`Documents written: ${n}`)}catch(n){da(n)?le(xh,"Ignoring IndexedDB error during index backfill: ",n):await Vl(n)}await this.re(6e4)}))}}class xF{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return Q.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return le(xh,`Processing collection: ${a}`),this.oe(e,a,s).next((u=>{s-=u,r.add(a)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(s,i))).next((u=>(le(xh,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const a=fD(i);_x(a,r)>0&&(r=a)})),new Er(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Br{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Br.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fl=-1;function uy(t){return t==null}function Fh(t){return t===0&&1/t==-1/0}function SF(t){return typeof t=="number"&&Number.isInteger(t)&&!Fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gg="";function Mn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=YT(e)),e=EF(t.get(n),e);return YT(e)}function EF(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case gg:n+="";break;default:n+=i}}return n}function YT(t){return t+gg+""}function Fs(t){const e=t.length;if(Ie(e>=2,64408,{path:t}),e===2)return Ie(t.charAt(0)===gg&&t.charAt(1)==="",56145,{path:t}),ot.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const a=t.indexOf(gg,i);switch((a<0||a>n)&&Ee(50515,{path:t}),t.charAt(a+1)){case"":const u=t.substring(i,a);let c;s.length===0?c=u:(s+=u,c=s,s=""),r.push(c);break;case"":s+=t.substring(i,a),s+="\0";break;case"":s+=t.substring(i,a+1);break;default:Ee(61167,{path:t})}i=a+2}return new ot(r)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const el="remoteDocuments",yf="owner",Du="owner",Bh="mutationQueues",kF="userId",os="mutations",XT="batchId",al="userMutationsIndex",JT=["userId","batchId"];/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Mm(t,e){return[t,Mn(e)]}function yD(t,e,n){return[t,Mn(e),n]}const TF={},gc="documentMutations",yg="remoteDocumentsV14",_F=["prefixPath","collectionGroup","readTime","documentId"],Om="documentKeyIndex",IF=["prefixPath","collectionGroup","documentId"],vD="collectionGroupIndex",CF=["collectionGroup","readTime","prefixPath","documentId"],Uh="remoteDocumentGlobal",Hw="remoteDocumentGlobalKey",yc="targets",wD="queryTargetsIndex",NF=["canonicalId","targetId"],vc="targetDocuments",DF=["targetId","path"],Cx="documentTargetsIndex",AF=["path","targetId"],vg="targetGlobalKey",pl="targetGlobal",zh="collectionParents",PF=["collectionId","parent"],wc="clientMetadata",RF="clientId",cy="bundles",jF="bundleId",dy="namedQueries",MF="name",Nx="indexConfiguration",OF="indexId",Kw="collectionGroupIndex",LF="collectionGroup",Sh="indexState",VF=["indexId","uid"],bD="sequenceNumberIndex",FF=["uid","sequenceNumber"],Eh="indexEntries",BF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xD="documentKeyIndex",UF=["indexId","uid","orderedDocumentKey"],hy="documentOverlays",zF=["userId","collectionPath","documentId"],Gw="collectionPathOverlayIndex",$F=["userId","collectionPath","largestBatchId"],SD="collectionGroupOverlayIndex",qF=["userId","collectionGroup","largestBatchId"],Dx="globals",HF="name",ED=[Bh,os,gc,el,yc,yf,pl,vc,wc,Uh,zh,cy,dy],KF=[...ED,hy],kD=[Bh,os,gc,yg,yc,yf,pl,vc,wc,Uh,zh,cy,dy,hy],TD=kD,Ax=[...TD,Nx,Sh,Eh],GF=Ax,_D=[...Ax,Dx],WF=_D;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ww extends mD{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function cn(t,e){const n=Fe(t);return Yo.O(n.le,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ZT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ID(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Et{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rm(this.root,e,this.comparator,!1)}getReverseIterator(){return new rm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rm(this.root,e,this.comparator,!0)}}class rm{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??En.RED,this.left=s??En.EMPTY,this.right=i??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new En(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return En.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(t,e,n,r,s){return this}insert(t,e,n){return new En(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ut{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Au(t){return t.hasNext()?t.getNext():void 0}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rr{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new rr([])}unionWith(e){let n=new ut(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CD("Invalid base64 string: "+s):s}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const QF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=QF.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vi(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ND="server_timestamp",DD="__type__",AD="__previous_value__",PD="__local_write_time__";function Px(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[DD])==null?void 0:n.stringValue)===ND}function fy(t){const e=t.mapValue.fields[AD];return Px(e)?fy(e):e}function $h(t){const e=Li(t.mapValue.fields[PD].timestampValue);return new rt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YF{constructor(e,n,r,s,i,a,u,c,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=p}}const wg="(default)";class kl{constructor(e,n){this.projectId=e,this.database=n||wg}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===wg}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rx="__type__",RD="__max__",Ko={mapValue:{fields:{__type__:{stringValue:RD}}}},jx="__vector__",bc="value",Lm={nullValue:"NULL_VALUE"};function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Px(t)?4:jD(t)?9007199254740991:py(t)?10:11:Ee(28295,{value:t})}function Xs(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $h(t).isEqual($h(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Li(r.timestampValue),a=Li(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,s){return Vi(r.bytesValue).isEqual(Vi(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,s){return xt(r.geoPointValue.latitude)===xt(s.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(s.geoPointValue.longitude)})(t,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return xt(r.integerValue)===xt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=xt(r.doubleValue),a=xt(s.doubleValue);return i===a?Fh(i)===Fh(a):isNaN(i)&&isNaN(a)}return!1})(t,e);case 9:return mc(t.arrayValue.values||[],e.arrayValue.values||[],Xs);case 10:case 11:return(function(r,s){const i=r.mapValue.fields||{},a=s.mapValue.fields||{};if(ZT(i)!==ZT(a))return!1;for(const u in i)if(i.hasOwnProperty(u)&&(a[u]===void 0||!Xs(i[u],a[u])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function qh(t,e){return(t.values||[]).find((n=>Xs(n,e)))!==void 0}function ta(t,e){if(t===e)return 0;const n=ea(t),r=ea(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return(function(s,i){const a=xt(s.integerValue||s.doubleValue),u=xt(i.integerValue||i.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return t_(t.timestampValue,e.timestampValue);case 4:return t_($h(t),$h(e));case 5:return $w(t.stringValue,e.stringValue);case 6:return(function(s,i){const a=Vi(s),u=Vi(i);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,i){const a=s.split("/"),u=i.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=Ve(a[c],u[c]);if(h!==0)return h}return Ve(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,i){const a=Ve(xt(s.latitude),xt(i.latitude));return a!==0?a:Ve(xt(s.longitude),xt(i.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return n_(t.arrayValue,e.arrayValue);case 10:return(function(s,i){var a,u,c,h;const p=s.fields||{},g=i.fields||{},v=(a=p[bc])==null?void 0:a.arrayValue,E=(u=g[bc])==null?void 0:u.arrayValue,I=Ve(((c=v==null?void 0:v.values)==null?void 0:c.length)||0,((h=E==null?void 0:E.values)==null?void 0:h.length)||0);return I!==0?I:n_(v,E)})(t.mapValue,e.mapValue);case 11:return(function(s,i){if(s===Ko.mapValue&&i===Ko.mapValue)return 0;if(s===Ko.mapValue)return 1;if(i===Ko.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=i.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const g=$w(u[p],h[p]);if(g!==0)return g;const v=ta(a[u[p]],c[h[p]]);if(v!==0)return v}return Ve(u.length,h.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function t_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Li(t),r=Li(e),s=Ve(n.seconds,r.seconds);return s!==0?s:Ve(n.nanos,r.nanos)}function n_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ta(n[s],r[s]);if(i)return i}return Ve(n.length,r.length)}function xc(t){return Qw(t)}function Qw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(e){const n=Li(e);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(e){return Vi(e).toBase64()})(t.bytesValue):"referenceValue"in t?(function(e){return he.fromName(e).toString()})(t.referenceValue):"geoPointValue"in t?(function(e){return`geo(${e.latitude},${e.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(e){let n="[",r=!0;for(const s of e.values||[])r?r=!1:n+=",",n+=Qw(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(e){const n=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const i of n)s?s=!1:r+=",",r+=`${i}:${Qw(e.fields[i])}`;return r+"}"})(t.mapValue):Ee(61005,{value:t})}function Vm(t){switch(ea(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fy(t);return e?16+Vm(e):16;case 5:return 2*t.stringValue.length;case 6:return Vi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,s)=>r+Vm(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let r=0;return ha(n.fields,((s,i)=>{r+=s.length+Vm(i)})),r})(t.mapValue);default:throw Ee(13486,{value:t})}}function Hh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yw(t){return!!t&&"integerValue"in t}function Kh(t){return!!t&&"arrayValue"in t}function r_(t){return!!t&&"nullValue"in t}function s_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fm(t){return!!t&&"mapValue"in t}function py(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[Rx])==null?void 0:n.stringValue)===jx}function kh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ha(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=kh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kh(t.arrayValue.values[n]);return e}return{...t}}function jD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===RD}const MD={mapValue:{fields:{[Rx]:{stringValue:jx},[bc]:{arrayValue:{}}}}};function XF(t){return"nullValue"in t?Lm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Hh(kl.empty(),he.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?py(t)?MD:{mapValue:{}}:Ee(35942,{value:t})}function JF(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Hh(kl.empty(),he.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?MD:"mapValue"in t?py(t)?{mapValue:{}}:Ko:Ee(61959,{value:t})}function i_(t,e){const n=ta(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function o_(t,e){const n=ta(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kh(n)}setAll(e){let n=_t.emptyPath(),r={},s=[];e.forEach(((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=u.popLast()}a?r[u.lastSegment()]=kh(a):s.push(u.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Fm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Fm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ha(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Pn(kh(this.value))}}function OD(t){const e=[];return ha(t.fields,((n,r)=>{const s=new _t([n]);if(Fm(r)){const i=OD(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)})),new rr(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jt{constructor(e,n,r,s,i,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new jt(e,0,Ne.min(),Ne.min(),Ne.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,s){return new jt(e,1,n,Ne.min(),r,s,0)}static newNoDocument(e,n){return new jt(e,2,n,Ne.min(),Ne.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,Ne.min(),Ne.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sc{constructor(e,n){this.position=e,this.inclusive=n}}function a_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=he.comparator(he.fromName(a.referenceValue),n.key):r=ta(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function l_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xs(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LD{}class We extends LD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new e9(e,n,r):n==="array-contains"?new r9(e,r):n==="in"?new $D(e,r):n==="not-in"?new s9(e,r):n==="array-contains-any"?new i9(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new t9(e,r):new n9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ta(n,this.value)):n!==null&&ea(this.value)===ea(n)&&this.matchesComparison(ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends LD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lt(e,n)}matches(e){return Ec(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ec(t){return t.op==="and"}function Xw(t){return t.op==="or"}function Mx(t){return VD(t)&&Ec(t)}function VD(t){for(const e of t.filters)if(e instanceof lt)return!1;return!0}function Jw(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+xc(t.value);if(Mx(t))return t.filters.map((e=>Jw(e))).join(",");{const e=t.filters.map((n=>Jw(n))).join(",");return`${t.op}(${e})`}}function FD(t,e){return t instanceof We?(function(n,r){return r instanceof We&&n.op===r.op&&n.field.isEqual(r.field)&&Xs(n.value,r.value)})(t,e):t instanceof lt?(function(n,r){return r instanceof lt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((s,i,a)=>s&&FD(i,r.filters[a])),!0):!1})(t,e):void Ee(19439)}function BD(t,e){const n=t.filters.concat(e);return lt.create(n,t.op)}function UD(t){return t instanceof We?(function(e){return`${e.field.canonicalString()} ${e.op} ${xc(e.value)}`})(t):t instanceof lt?(function(e){return e.op.toString()+" {"+e.getFilters().map(UD).join(" ,")+"}"})(t):"Filter"}class e9 extends We{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class t9 extends We{constructor(e,n){super(e,"in",n),this.keys=zD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class n9 extends We{constructor(e,n){super(e,"not-in",n),this.keys=zD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function zD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>he.fromName(r.referenceValue)))}class r9 extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kh(n)&&qh(n.arrayValue,this.value)}}class $D extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qh(this.value.arrayValue,n)}}class s9 extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(qh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qh(this.value.arrayValue,n)}}class i9 extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>qh(this.value.arrayValue,r)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class o9{constructor(e,n=null,r=[],s=[],i=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=u,this.Te=null}}function Zw(t,e=null,n=[],r=[],s=null,i=null,a=null){return new o9(t,e,n,r,s,i,a)}function Tl(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Jw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),uy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>xc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>xc(r))).join(",")),e.Te=n}return e.Te}function vf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!l_(t.startAt,e.startAt)&&l_(t.endAt,e.endAt)}function bg(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function xg(t,e){return t.filters.filter((n=>n instanceof We&&n.field.isEqual(e)))}function u_(t,e,n){let r=Lm,s=!0;for(const i of xg(t,e)){let a=Lm,u=!0;switch(i.op){case"<":case"<=":a=XF(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,u=!1;break;case"!=":case"not-in":a=Lm}i_({value:r,inclusive:s},{value:a,inclusive:u})<0&&(r=a,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];i_({value:r,inclusive:s},{value:a,inclusive:n.inclusive})<0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}function c_(t,e,n){let r=Ko,s=!0;for(const i of xg(t,e)){let a=Ko,u=!0;switch(i.op){case">=":case">":a=JF(i.value),u=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,u=!1;break;case"!=":case"not-in":a=Ko}o_({value:r,inclusive:s},{value:a,inclusive:u})>0&&(r=a,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];o_({value:r,inclusive:s},{value:a,inclusive:n.inclusive})>0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jc{constructor(e,n=null,r=[],s=[],i=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function a9(t,e,n,r,s,i,a,u){return new jc(t,e,n,r,s,i,a,u)}function wf(t){return new jc(t)}function d_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qD(t){return t.collectionGroup!==null}function Th(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let i=new ut(_t.comparator);return s.filters.forEach((a=>{a.getFlattenedFilters().forEach((u=>{u.isInequality()&&(i=i.add(u.field))}))})),i})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Gh(s,r))})),n.has(_t.keyField().canonicalString())||e.Ie.push(new Gh(_t.keyField(),r))}return e.Ie}function $r(t){const e=Fe(t);return e.Ee||(e.Ee=l9(e,Th(t))),e.Ee}function l9(t,e){if(t.limitType==="F")return Zw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Gh(s.field,i)}));const n=t.endAt?new Sc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sc(t.startAt.position,t.startAt.inclusive):null;return Zw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eb(t,e){const n=t.filters.concat([e]);return new jc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sg(t,e,n){return new jc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function my(t,e){return vf($r(t),$r(e))&&t.limitType===e.limitType}function HD(t){return`${Tl($r(t))}|lt:${t.limitType}`}function Xu(t){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((r=>UD(r))).join(", ")}]`),uy(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((r=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(r))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>xc(r))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>xc(r))).join(",")),`Target(${n})`})($r(t))}; limitType=${t.limitType})`}function bf(t,e){return e.isFoundDocument()&&(function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):he.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,r){for(const s of Th(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0})(t,e)&&(function(n,r){return!(n.startAt&&!(function(s,i,a){const u=a_(s,i,a);return s.inclusive?u<=0:u<0})(n.startAt,Th(n),r)||n.endAt&&!(function(s,i,a){const u=a_(s,i,a);return s.inclusive?u>=0:u>0})(n.endAt,Th(n),r))})(t,e)}function u9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KD(t){return(e,n)=>{let r=!1;for(const s of Th(t)){const i=c9(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function c9(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):(function(s,i,a){const u=i.data.field(s),c=a.data.field(s);return u!==null&&c!==null?ta(u,c):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:t.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return ID(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d9=new Et(he.comparator);function br(){return d9}const GD=new Et(he.comparator);function hh(...t){let e=GD;for(const n of t)e=e.insert(n.key,n);return e}function WD(t){let e=GD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Bs(){return _h()}function QD(){return _h()}function _h(){return new Gi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const h9=new Et(he.comparator),f9=new ut(he.comparator);function He(...t){let e=f9;for(const n of t)e=e.add(n);return e}const p9=new ut(Ve);function m9(){return p9}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ox(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function YD(t){return{integerValue:""+t}}function g9(t,e){return SF(e)?YD(e):Ox(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gy{constructor(){this._=void 0}}function y9(t,e,n){return t instanceof kc?(function(r,s){const i={fields:{[DD]:{stringValue:ND},[PD]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Px(s)&&(s=fy(s)),s&&(i.fields[AD]=s),{mapValue:i}})(n,e):t instanceof Tc?JD(t,e):t instanceof _c?ZD(t,e):(function(r,s){const i=XD(r,s),a=h_(i)+h_(r.Ae);return Yw(i)&&Yw(r.Ae)?YD(a):Ox(r.serializer,a)})(t,e)}function v9(t,e,n){return t instanceof Tc?JD(t,e):t instanceof _c?ZD(t,e):n}function XD(t,e){return t instanceof Wh?(function(n){return Yw(n)||(function(r){return!!r&&"doubleValue"in r})(n)})(e)?e:{integerValue:0}:null}class kc extends gy{}class Tc extends gy{constructor(e){super(),this.elements=e}}function JD(t,e){const n=eA(e);for(const r of t.elements)n.some((s=>Xs(s,r)))||n.push(r);return{arrayValue:{values:n}}}class _c extends gy{constructor(e){super(),this.elements=e}}function ZD(t,e){let n=eA(e);for(const r of t.elements)n=n.filter((s=>!Xs(s,r)));return{arrayValue:{values:n}}}class Wh extends gy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function h_(t){return xt(t.integerValue||t.doubleValue)}function eA(t){return Kh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tA{constructor(e,n){this.field=e,this.transform=n}}function w9(t,e){return t.field.isEqual(e.field)&&(function(n,r){return n instanceof Tc&&r instanceof Tc||n instanceof _c&&r instanceof _c?mc(n.elements,r.elements,Xs):n instanceof Wh&&r instanceof Wh?Xs(n.Ae,r.Ae):n instanceof kc&&r instanceof kc})(t.transform,e.transform)}class b9{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let yy=class{};function nA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vy(t.key,Rn.none()):new Mc(t.key,t.data,Rn.none());{const n=t.data,r=Pn.empty();let s=new ut(_t.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Wi(t.key,r,new rr(s.toArray()),Rn.none())}}function x9(t,e,n){t instanceof Mc?(function(r,s,i){const a=r.value.clone(),u=p_(r.fieldTransforms,s,i.transformResults);a.setAll(u),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Wi?(function(r,s,i){if(!Bm(r.precondition,s))return void s.convertToUnknownDocument(i.version);const a=p_(r.fieldTransforms,s,i.transformResults),u=s.data;u.setAll(rA(r)),u.setAll(a),s.convertToFoundDocument(i.version,u).setHasCommittedMutations()})(t,e,n):(function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()})(0,e,n)}function Ih(t,e,n,r){return t instanceof Mc?(function(s,i,a,u){if(!Bm(s.precondition,i))return a;const c=s.value.clone(),h=m_(s.fieldTransforms,u,i);return c.setAll(h),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Wi?(function(s,i,a,u){if(!Bm(s.precondition,i))return a;const c=m_(s.fieldTransforms,u,i),h=i.data;return h.setAll(rA(s)),h.setAll(c),i.convertToFoundDocument(i.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,i,a){return Bm(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a})(t,e,n)}function S9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=XD(r.transform,s||null);i!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,i))}return n||null}function f_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&mc(n,r,((s,i)=>w9(s,i)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mc extends yy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wi extends yy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function rA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function p_(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,u=e.data.field(i.field);r.set(i.field,v9(a,u,n[s]))}return r}function m_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,y9(i,a,e))}return r}class vy extends yy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sA extends yy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lx{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&x9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ih(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ih(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QD();return this.mutations.forEach((s=>{const i=e.get(s.key),a=i.overlayedDocument;let u=this.applyToLocalView(a,i.mutatedFields);u=n.has(s.key)?null:u;const c=nA(a,u);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,((n,r)=>f_(n,r)))&&mc(this.baseMutations,e.baseMutations,((n,r)=>f_(n,r)))}}class Vx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return h9})();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Vx(e,n,r,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class E9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var en,Xe;function k9(t){switch(t){case te.OK:return Ee(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function iA(t){if(t===void 0)return Fn("GRPC error has no .code"),te.UNKNOWN;switch(t){case en.OK:return te.OK;case en.CANCELLED:return te.CANCELLED;case en.UNKNOWN:return te.UNKNOWN;case en.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case en.INTERNAL:return te.INTERNAL;case en.UNAVAILABLE:return te.UNAVAILABLE;case en.UNAUTHENTICATED:return te.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case en.NOT_FOUND:return te.NOT_FOUND;case en.ALREADY_EXISTS:return te.ALREADY_EXISTS;case en.PERMISSION_DENIED:return te.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case en.ABORTED:return te.ABORTED;case en.OUT_OF_RANGE:return te.OUT_OF_RANGE;case en.UNIMPLEMENTED:return te.UNIMPLEMENTED;case en.DATA_LOSS:return te.DATA_LOSS;default:return Ee(39323,{code:t})}}(Xe=en||(en={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function T9(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _9=new Qo([4294967295,4294967295],0);function g_(t){const e=T9().encode(t),n=new nD;return n.update(e),new Uint8Array(n.digest())}function y_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Qo([n,r],0),new Qo([s,i],0)]}class Bx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fh(`Invalid padding: ${n}`);if(r<0)throw new fh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Qo.fromNumber(r)));return s.compare(_9)===1&&(s=new Qo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=g_(e),[r,s]=y_(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Bx(i,s,n);return r.forEach((u=>a.insert(u))),a}insert(e){if(this.ge===0)return;const n=g_(e),[r,s]=y_(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,xf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wy(Ne.min(),s,new Et(Ve),br(),He())}}class xf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xf(r,n,He(),He(),He())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Um{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class oA{constructor(e,n){this.targetId=e,this.Ce=n}}class aA{constructor(e,n,r=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class v_{constructor(){this.ve=0,this.Fe=w_(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),r=He();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ee(38017,{changeType:i})}})),new xf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=w_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class I9{constructor(e){this.Ge=e,this.ze=new Map,this.je=br(),this.Je=sm(),this.He=sm(),this.Ye=new Et(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(bg(i))if(r===0){const a=new he(i.path);this.et(n,a,jt.newNoDocument(a,Ne.min()))}else Ie(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const u=this.ut(e),c=u?this.ct(u,e,a):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,u;try{a=Vi(r).toUint8Array()}catch(c){if(c instanceof CD)return El("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Bx(a,s,i)}catch(c){return El(c instanceof fh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,a)=>{const u=this.ot(a);if(u){if(i.current&&bg(u.target)){const c=new he(u.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,jt.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}}));let r=He();this.He.forEach(((i,a)=>{let u=!0;a.forEachWhile((c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(e)));const s=new wy(e,n,this.Ye,this.je,r);return this.je=br(),this.Je=sm(),this.He=sm(),this.Ye=new Et(Ve),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new v_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ut(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ut(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sm(){return new Et(he.comparator)}function w_(){return new Et(he.comparator)}const C9={asc:"ASCENDING",desc:"DESCENDING"},N9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D9={and:"AND",or:"OR"};class A9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tb(t,e){return t.useProto3Json||uy(e)?e:{value:e}}function Ic(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function P9(t,e){return Ic(t,e.toTimestamp())}function $n(t){return Ie(!!t,49232),Ne.fromTimestamp((function(e){const n=Li(e);return new rt(n.seconds,n.nanos)})(t))}function Ux(t,e){return nb(t,e).canonicalString()}function nb(t,e){const n=(function(r){return new ot(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function uA(t){const e=ot.fromString(t);return Ie(vA(e),10190,{key:e.toString()}),e}function Eg(t,e){return Ux(t.databaseId,e.path)}function ml(t,e){const n=uA(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(hA(n))}function cA(t,e){return Ux(t.databaseId,e)}function dA(t){const e=uA(t);return e.length===4?ot.emptyPath():hA(e)}function rb(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hA(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function b_(t,e,n){return{name:Eg(t,e),fields:n.value.mapValue.fields}}function R9(t,e,n){const r=ml(t,e.name),s=$n(e.updateTime),i=e.createTime?$n(e.createTime):Ne.min(),a=new Pn({mapValue:{fields:e.fields}}),u=jt.newFoundDocument(r,s,i,a);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function j9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ee(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(c,h){return c.useProto3Json?(Ie(h===void 0||typeof h=="string",58123),rn.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),rn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(c){const h=c.code===void 0?te.UNKNOWN:iA(c.code);return new ce(h,c.message||"")})(a);n=new aA(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ml(t,r.document.name),i=$n(r.document.updateTime),a=r.document.createTime?$n(r.document.createTime):Ne.min(),u=new Pn({mapValue:{fields:r.document.fields}}),c=jt.newFoundDocument(s,i,a,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Um(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ml(t,r.document),i=r.readTime?$n(r.readTime):Ne.min(),a=jt.newNoDocument(s,i),u=r.removedTargetIds||[];n=new Um([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ml(t,r.document),i=r.removedTargetIds||[];n=new Um([],i,s,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new E9(s,i),u=r.targetId;n=new oA(u,a)}}return n}function kg(t,e){let n;if(e instanceof Mc)n={update:b_(t,e.key,e.value)};else if(e instanceof vy)n={delete:Eg(t,e.key)};else if(e instanceof Wi)n={update:b_(t,e.key,e.data),updateMask:B9(e.fieldMask)};else{if(!(e instanceof sA))return Ee(16599,{Vt:e.type});n={verify:Eg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,i){const a=i.transform;if(a instanceof kc)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Tc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _c)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wh)return{fieldPath:i.field.canonicalString(),increment:a.Ae};throw Ee(20930,{transform:i.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:P9(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee(27497)})(t,e.precondition)),n}function sb(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Rn.updateTime($n(s.updateTime)):s.exists!==void 0?Rn.exists(s.exists):Rn.none()})(e.currentDocument):Rn.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(i,a){let u=null;if("setToServerValue"in a)Ie(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),u=new kc;else if("appendMissingElements"in a){const h=a.appendMissingElements.values||[];u=new Tc(h)}else if("removeAllFromArray"in a){const h=a.removeAllFromArray.values||[];u=new _c(h)}else"increment"in a?u=new Wh(i,a.increment):Ee(16584,{proto:a});const c=_t.fromServerFormat(a.fieldPath);return new tA(c,u)})(t,s))):[];if(e.update){e.update.name;const s=ml(t,e.update.name),i=new Pn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(u){const c=u.fieldPaths||[];return new rr(c.map((h=>_t.fromServerFormat(h))))})(e.updateMask);return new Wi(s,i,a,n,r)}return new Mc(s,i,n,r)}if(e.delete){const s=ml(t,e.delete);return new vy(s,n)}if(e.verify){const s=ml(t,e.verify);return new sA(s,n)}return Ee(1463,{proto:e})}function M9(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map((n=>(function(r,s){let i=r.updateTime?$n(r.updateTime):$n(s);return i.isEqual(Ne.min())&&(i=$n(s)),new b9(i,r.transformResults||[])})(n,e)))):[]}function fA(t,e){return{documents:[cA(t,e.path)]}}function pA(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cA(t,s);const i=(function(c){if(c.length!==0)return yA(lt.create(c,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(c){if(c.length!==0)return c.map((h=>(function(p){return{field:Ju(p.field),direction:L9(p.dir)}})(h)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=tb(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:s}}function mA(t){let e=dA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ie(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=(function(p){const g=gA(p);return g instanceof lt&&Mx(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(v){return new Gh(Zu(v.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let g;return g=typeof p=="object"?p.value:p,uy(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new Sc(v,g)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const g=!p.before,v=p.values||[];return new Sc(v,g)})(n.endAt)),a9(e,s,a,i,u,"F",c,h)}function O9(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gA(t){return t.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Zu(e.unaryFilter.field);return We.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Zu(e.unaryFilter.field);return We.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zu(e.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Zu(e.unaryFilter.field);return We.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(e){return We.create(Zu(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(e){return lt.create(e.compositeFilter.filters.map((n=>gA(n))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(e.compositeFilter.op))})(t):Ee(30097,{filter:t})}function L9(t){return C9[t]}function V9(t){return N9[t]}function F9(t){return D9[t]}function Ju(t){return{fieldPath:t.canonicalString()}}function Zu(t){return _t.fromServerFormat(t.fieldPath)}function yA(t){return t instanceof We?(function(e){if(e.op==="=="){if(s_(e.value))return{unaryFilter:{field:Ju(e.field),op:"IS_NAN"}};if(r_(e.value))return{unaryFilter:{field:Ju(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(s_(e.value))return{unaryFilter:{field:Ju(e.field),op:"IS_NOT_NAN"}};if(r_(e.value))return{unaryFilter:{field:Ju(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ju(e.field),op:V9(e.op),value:e.value}}})(t):t instanceof lt?(function(e){const n=e.getFilters().map((r=>yA(r)));return n.length===1?n[0]:{compositeFilter:{op:F9(e.op),filters:n}}})(t):Ee(54877,{filter:t})}function B9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function vA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ai{constructor(e,n,r,s,i=Ne.min(),a=Ne.min(),u=rn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wA{constructor(e){this.yt=e}}function U9(t,e){let n;if(e.document)n=R9(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=he.fromSegments(e.noDocument.path),s=Il(e.noDocument.readTime);n=jt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee(56709);{const r=he.fromSegments(e.unknownDocument.path),s=Il(e.unknownDocument.version);n=jt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(r){const s=new rt(r[0],r[1]);return Ne.fromTimestamp(s)})(e.readTime)),n}function x_(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Tg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,i){return{name:Eg(s,i.key),fields:i.data.value.mapValue.fields,updateTime:Ic(s,i.version.toTimestamp()),createTime:Ic(s,i.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:_l(e.version)};else{if(!e.isUnknownDocument())return Ee(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:_l(e.version)}}return r}function Tg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function _l(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Il(t){const e=new rt(t.seconds,t.nanoseconds);return Ne.fromTimestamp(e)}function sl(t,e){const n=(e.baseMutations||[]).map((i=>sb(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];a.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>sb(t.yt,i))),s=rt.fromMillis(e.localWriteTimeMs);return new Lx(e.batchId,s,n,r)}function ph(t){const e=Il(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Il(t.lastLimboFreeSnapshotVersion):Ne.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const i=s.documents.length;return Ie(i===1,1966,{count:i}),$r(wf(dA(s.documents[0])))})(t.query):(function(s){return $r(mA(s))})(t.query),new Ai(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,rn.fromBase64String(t.resumeToken))}function bA(t,e){const n=_l(e.snapshotVersion),r=_l(e.lastLimboFreeSnapshotVersion);let s;s=bg(e.target)?fA(t.yt,e.target):pA(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Tl(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function xA(t){const e=mA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sg(e,e.limit,"L"):e}function P0(t,e){return new Fx(e.largestBatchId,sb(t.yt,e.overlayMutation))}function S_(t,e){const n=e.path.lastSegment();return[t,Mn(e.path.popLast()),n]}function E_(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:_l(r.readTime),documentKey:Mn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class z9{getBundleMetadata(e,n){return k_(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Il(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return k_(e).put((function(r){return{bundleId:r.id,createTime:_l($n(r.createTime)),version:r.version}})(n))}getNamedQuery(e,n){return T_(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:xA(s.bundledQuery),readTime:Il(s.readTime)}})(r)}))}saveNamedQuery(e,n){return T_(e).put((function(r){return{name:r.name,readTime:_l($n(r.readTime)),bundledQuery:r.bundledQuery}})(n))}}function k_(t){return cn(t,cy)}function T_(t){return cn(t,dy)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class by{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new by(e,r)}getOverlay(e,n){return Bd(e).get(S_(this.userId,n)).next((r=>r?P0(this.serializer,r):null))}getOverlays(e,n){const r=Bs();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,a)=>{const u=new Fx(n,a);s.push(this.St(e,u))})),Q.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((a=>s.add(Mn(a.getCollectionPath()))));const i=[];return s.forEach((a=>{const u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);i.push(Bd(e).Z(Gw,u))})),Q.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Bs(),i=Mn(n),a=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Bd(e).J(Gw,a).next((u=>{for(const c of u){const h=P0(this.serializer,c);s.set(h.getKey(),h)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=Bs();let a;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Bd(e).ee({index:SD,range:u},((c,h,p)=>{const g=P0(this.serializer,h);i.size()<s||g.largestBatchId===a?(i.set(g.getKey(),g),a=g.largestBatchId):p.done()})).next((()=>i))}St(e,n){return Bd(e).put((function(r,s,i){const[a,u,c]=S_(s,i.mutation.key);return{userId:s,collectionPath:u,documentId:c,collectionGroup:i.mutation.key.getCollectionGroup(),largestBatchId:i.largestBatchId,overlayMutation:kg(r.yt,i.mutation)}})(this.serializer,this.userId,n))}}function Bd(t){return cn(t,hy)}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $9{bt(e){return cn(e,Dx)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?rn.fromUint8Array(r):rn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class il{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(xt(e.integerValue));else if("doubleValue"in e){const r=xt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Fh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Li(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Vi(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?jD(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):py(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ee(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){var r,s;const i=e.fields||{};this.Ft(n,53);const a=bc,u=((s=(r=i[a].arrayValue)==null?void 0:r.values)==null?void 0:s.length)||0;this.Ft(n,15),n.Mt(xt(u)),this.Ot(a,n),this.Ct(i[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),he.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}il.Kt=new il;/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law | agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pu=255;function q9(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function __(t){const e=64-(function(n){let r=0;for(let s=0;s<8;++s){const i=q9(255&n[s]);if(r+=i,i!==8)break}return r})(t);return Math.ceil(e/8)}class H9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=__(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=__(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(Pu),this.sn(255)}_n(){this.an(Pu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const i=new DataView(new ArrayBuffer(8));return i.setFloat64(0,s,!1),new Uint8Array(i.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Pu?(this.sn(Pu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Pu?(this.an(Pu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class K9{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class G9{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Ud{constructor(){this.cn=new H9,this.ln=new K9(this.cn),this.hn=new G9(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ol{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new ol(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:zm(this.En),directionalValue:zm(this.dn),orderedDocumentKey:zm(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Ao(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=I_(t.En,e.En),n!==0?n:(n=I_(t.dn,e.dn),n!==0?n:he.comparator(t.In,e.In)))}function I_(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function zm(t){return pN()?(function(e){let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return n})(t):t}function C_(t){return typeof t!="string"?t:(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(t)}class N_{constructor(e){this.mn=new ut(((n,r)=>_t.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ie(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=qw(e);if(n!==void 0&&!this.wn(n))return!1;const r=Za(e);let s=new Set,i=0,a=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const c=r[i];if(!this.Sn(u,c)||!this.bn(this.fn[a++],c))return!1}++i}for(;i<r.length;++i){const u=r[i];if(a>=this.fn.length||!this.bn(this.fn[a++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new ut(_t.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new jm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new jm(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new jm(r.field,r.dir==="asc"?0:1)));return new mg(mg.UNKNOWN_ID,this.collectionId,n,Vh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function SA(t){var e,n;if(Ie(t instanceof We||t instanceof lt,20012),t instanceof We){if(t instanceof $D){const s=((n=(e=t.value.arrayValue)==null?void 0:e.values)==null?void 0:n.map((i=>We.create(t.field,"==",i))))||[];return lt.create(s,"or")}return t}const r=t.filters.map((s=>SA(s)));return lt.create(r,t.op)}function W9(t){if(t.getFilters().length===0)return[];const e=ab(SA(t));return Ie(EA(e),7391),ib(e)||ob(e)?[e]:e.getFilters()}function ib(t){return t instanceof We}function ob(t){return t instanceof lt&&Mx(t)}function EA(t){return ib(t)||ob(t)||(function(e){if(e instanceof lt&&Xw(e)){for(const n of e.getFilters())if(!ib(n)&&!ob(n))return!1;return!0}return!1})(t)}function ab(t){if(Ie(t instanceof We||t instanceof lt,34018),t instanceof We)return t;if(t.filters.length===1)return ab(t.filters[0]);const e=t.filters.map((r=>ab(r)));let n=lt.create(e,t.op);return n=_g(n),EA(n)?n:(Ie(n instanceof lt,64498),Ie(Ec(n),40251),Ie(n.filters.length>1,57927),n.filters.reduce(((r,s)=>zx(r,s))))}function zx(t,e){let n;return Ie(t instanceof We||t instanceof lt,38388),Ie(e instanceof We||e instanceof lt,25473),n=t instanceof We?e instanceof We?(function(r,s){return lt.create([r,s],"and")})(t,e):D_(t,e):e instanceof We?D_(e,t):(function(r,s){if(Ie(r.filters.length>0&&s.filters.length>0,48005),Ec(r)&&Ec(s))return BD(r,s.getFilters());const i=Xw(r)?r:s,a=Xw(r)?s:r,u=i.filters.map((c=>zx(c,a)));return lt.create(u,"or")})(t,e),_g(n)}function D_(t,e){if(Ec(e))return BD(e,t.getFilters());{const n=e.filters.map((r=>zx(t,r)));return lt.create(n,"or")}}function _g(t){if(Ie(t instanceof We||t instanceof lt,11850),t instanceof We)return t;const e=t.getFilters();if(e.length===1)return _g(e[0]);if(VD(t))return t;const n=e.map((s=>_g(s))),r=[];return n.forEach((s=>{s instanceof We?r.push(s):s instanceof lt&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:lt.create(r,t.op)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q9{constructor(){this.Cn=new $x}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Er.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class $x{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ut(ot.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ut(ot.comparator)).toArray()}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const A_="IndexedDbIndexManager",im=new Uint8Array(0);class Y9{constructor(e,n){this.databaseId=n,this.vn=new $x,this.Fn=new Gi((r=>Tl(r)),((r,s)=>vf(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:Mn(s)};return P_(e).put(i)}return Q.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[cD(n),""],!1,!0);return P_(e).J(s).next((i=>{for(const a of i){if(a.collectionId!==n)break;r.push(Fs(a.parent))}return r}))}addFieldIndex(e,n){const r=zd(e),s=(function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const a=ju(e);return i.next((u=>{a.put(E_(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=zd(e),s=ju(e),i=Ru(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=zd(e),r=Ru(e),s=ju(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new N_(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=Ru(e);let s=!0;const i=new Map;return Q.forEach(this.Mn(n),(a=>this.xn(e,a).next((u=>{s&&(s=!!u),i.set(a,u)})))).next((()=>{if(s){let a=He();const u=[];return Q.forEach(i,((c,h)=>{le(A_,`Using index ${(function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map((M=>`${M.fieldPath}:${M.kind}`)).join(",")}`})(c)} to execute ${Tl(n)}`);const p=(function(P,M){const B=qw(M);if(B===void 0)return null;for(const z of xg(P,B.fieldPath))switch(z.op){case"array-contains-any":return z.value.arrayValue.values||[];case"array-contains":return[z.value]}return null})(h,c),g=(function(P,M){const B=new Map;for(const z of Za(M))for(const K of xg(P,z.fieldPath))switch(K.op){case"==":case"in":B.set(z.fieldPath.canonicalString(),K.value);break;case"not-in":case"!=":return B.set(z.fieldPath.canonicalString(),K.value),Array.from(B.values())}return null})(h,c),v=(function(P,M){const B=[];let z=!0;for(const K of Za(M)){const R=K.kind===0?u_(P,K.fieldPath,P.startAt):c_(P,K.fieldPath,P.startAt);B.push(R.value),z&&(z=R.inclusive)}return new Sc(B,z)})(h,c),E=(function(P,M){const B=[];let z=!0;for(const K of Za(M)){const R=K.kind===0?c_(P,K.fieldPath,P.endAt):u_(P,K.fieldPath,P.endAt);B.push(R.value),z&&(z=R.inclusive)}return new Sc(B,z)})(h,c),I=this.On(c,h,v),T=this.On(c,h,E),_=this.Nn(c,h,g),D=this.Bn(c.indexId,p,I,v.inclusive,T,E.inclusive,_);return Q.forEach(D,(P=>r.Y(P,n.limit).next((M=>{M.forEach((B=>{const z=he.fromSegments(B.documentKey);a.has(z)||(a=a.add(z),u.push(z))}))}))))})).next((()=>u))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=W9(lt.create(e.filters,"and")).map((r=>Zw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,a,u){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),h=c/(n!=null?n.length:1),p=[];for(let g=0;g<c;++g){const v=n?this.Ln(n[g/h]):im,E=this.kn(e,v,r[g%h],s),I=this.qn(e,v,i[g%h],a),T=u.map((_=>this.kn(e,v,_,!0)));p.push(...this.createRange(E,I,T))}return p}kn(e,n,r,s){const i=new ol(e,he.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new ol(e,he.empty(),n,r);return s?i.An():i}xn(e,n){const r=new N_(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let a=null;for(const u of i)r.yn(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return Q.forEach(s,(i=>this.xn(e,i).next((a=>{a?r!==0&&a.fields.length<(function(u){let c=new ut(_t.comparator),h=!1;for(const p of u.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?h=!0:c=c.add(g.field));for(const p of u.orderBy)p.field.isKeyField()||(c=c.add(p.field));return c.size+(h?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(i){return i.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new Ud;for(const s of Za(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const a=r.Pn(s.kind);il.Kt.Dt(i,a)}return r.un()}Ln(e){const n=new Ud;return il.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Ud;return il.Kt.Dt(Hh(this.databaseId,n),r.Pn((function(s){const i=Za(s);return i.length===0?0:i[i.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new Ud);let i=0;for(const a of Za(e)){const u=r[i++];for(const c of s)if(this.Un(n,a.fieldPath)&&Kh(u))s=this.Kn(s,a,u);else{const h=c.Pn(a.kind);il.Kt.Dt(u,h)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const a of r.arrayValue.values||[])for(const u of s){const c=new Ud;c.seed(u.un()),il.Kt.Dt(a,c.Pn(n.kind)),i.push(c)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof We&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=zd(e),s=ju(e);return(n?r.J(Kw,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const a=[];return Q.forEach(i,(u=>s.get([u.indexId,this.uid]).next((c=>{a.push((function(h,p){const g=p?new Vh(p.sequenceNumber,new Er(Il(p.readTime),new he(Fs(p.documentKey)),p.largestBatchId)):Vh.empty(),v=h.fields.map((([E,I])=>new jm(_t.fromServerFormat(E),I)));return new mg(h.indexId,h.collectionGroup,v,g)})(u,c))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Ve(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=zd(e),i=ju(e);return this.Gn(e).next((a=>s.J(Kw,IDBKeyRange.bound(n,n)).next((u=>Q.forEach(u,(c=>i.put(E_(c.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((s,i)=>{const a=r.get(s.collectionGroup);return(a?Q.resolve(a):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Q.forEach(u,(c=>this.zn(e,s,c).next((h=>{const p=this.jn(i,c);return h.isEqual(p)?Q.resolve():this.Jn(e,i,c,h,p)})))))))}))}Hn(e,n,r,s){return Ru(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return Ru(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=Ru(e);let i=new ut(Ao);return s.ee({index:xD,range:IDBKeyRange.only([r.indexId,this.uid,zm(this.$n(r,n))])},((a,u)=>{i=i.add(new ol(r.indexId,n,C_(u.arrayValue),C_(u.directionalValue)))})).next((()=>i))}jn(e,n){let r=new ut(Ao);const s=this.Qn(n,e);if(s==null)return r;const i=qw(n);if(i!=null){const a=e.data.field(i.fieldPath);if(Kh(a))for(const u of a.arrayValue.values||[])r=r.add(new ol(n.indexId,e.key,this.Ln(u),s))}else r=r.add(new ol(n.indexId,e.key,im,s));return r}Jn(e,n,r,s,i){le(A_,"Updating index entries for document '%s'",n.key);const a=[];return(function(u,c,h,p,g){const v=u.getIterator(),E=c.getIterator();let I=Au(v),T=Au(E);for(;I||T;){let _=!1,D=!1;if(I&&T){const P=h(I,T);P<0?D=!0:P>0&&(_=!0)}else I!=null?D=!0:_=!0;_?(p(T),T=Au(E)):D?(g(I),I=Au(v)):(I=Au(v),T=Au(E))}})(s,i,Ao,(u=>{a.push(this.Hn(e,n,r,u))}),(u=>{a.push(this.Yn(e,n,r,u))})),Q.waitFor(a)}Gn(e){let n=1;return ju(e).ee({index:bD,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,u)=>Ao(a,u))).filter(((a,u,c)=>!u||Ao(a,c[u-1])!==0));const s=[];s.push(e);for(const a of r){const u=Ao(a,e),c=Ao(a,n);if(u===0)s[0]=e.An();else if(u>0&&c<0)s.push(a),s.push(a.An());else if(c>0)break}s.push(n);const i=[];for(let a=0;a<s.length;a+=2){if(this.Zn(s[a],s[a+1]))return[];const u=s[a].Vn(this.uid,im,he.empty()),c=s[a+1].Vn(this.uid,im,he.empty());i.push(IDBKeyRange.bound(u,c))}return i}Zn(e,n){return Ao(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(R_)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||Ee(44426))))).next(R_)}}function P_(t){return cn(t,zh)}function Ru(t){return cn(t,Eh)}function zd(t){return cn(t,Nx)}function ju(t){return cn(t,Sh)}function R_(t){Ie(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;_x(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Er(e.readTime,e.documentKey,n)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const j_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kA=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function TA(t,e,n){const r=t.store(os),s=t.store(gc),i=[],a=IDBKeyRange.only(n.batchId);let u=0;const c=r.ee({range:a},((p,g,v)=>(u++,v.delete())));i.push(c.next((()=>{Ie(u===1,47070,{batchId:n.batchId})})));const h=[];for(const p of n.mutations){const g=yD(e,p.key.path,n.batchId);i.push(s.delete(g)),h.push(p.key)}return Q.waitFor(i).next((()=>h))}function Ig(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ee(14731);e=t.noDocument}return JSON.stringify(e).length}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(kA,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class xy{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){Ie(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new xy(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Po(e).ee({index:al,range:r},((s,i,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=ec(e),a=Po(e);return a.add({}).next((u=>{Ie(typeof u=="number",49019);const c=new Lx(u,n,r,s),h=(function(v,E,I){const T=I.baseMutations.map((D=>kg(v.yt,D))),_=I.mutations.map((D=>kg(v.yt,D)));return{userId:E,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:T,mutations:_}})(this.serializer,this.userId,c),p=[];let g=new ut(((v,E)=>Ve(v.canonicalString(),E.canonicalString())));for(const v of s){const E=yD(this.userId,v.key.path,u);g=g.add(v.key.path.popLast()),p.push(a.put(h)),p.push(i.put(E,TF))}return g.forEach((v=>{p.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=c.keys()})),Q.waitFor(p).next((()=>c))}))}lookupMutationBatch(e,n){return Po(e).get(n).next((r=>r?(Ie(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),sl(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Po(e).ee({index:al,range:s},((a,u,c)=>{u.userId===this.userId&&(Ie(u.batchId>=r,47524,{tr:r}),i=sl(this.serializer,u)),c.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=fl;return Po(e).ee({index:al,range:n,reverse:!0},((s,i,a)=>{r=i.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,fl],[this.userId,Number.POSITIVE_INFINITY]);return Po(e).J(al,n).next((r=>r.map((s=>sl(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Mm(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return ec(e).ee({range:s},((a,u,c)=>{const[h,p,g]=a,v=Fs(p);if(h===this.userId&&n.path.isEqual(v))return Po(e).get(g).next((E=>{if(!E)throw Ee(61480,{nr:a,batchId:g});Ie(E.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:E.userId,batchId:g}),i.push(sl(this.serializer,E))}));c.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Ve);const s=[];return n.forEach((i=>{const a=Mm(this.userId,i.path),u=IDBKeyRange.lowerBound(a),c=ec(e).ee({range:u},((h,p,g)=>{const[v,E,I]=h,T=Fs(E);v===this.userId&&i.path.isEqual(T)?r=r.add(I):g.done()}));s.push(c)})),Q.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Mm(this.userId,r),a=IDBKeyRange.lowerBound(i);let u=new ut(Ve);return ec(e).ee({range:a},((c,h,p)=>{const[g,v,E]=c,I=Fs(v);g===this.userId&&r.isPrefixOf(I)?I.length===s&&(u=u.add(E)):p.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push(Po(e).get(i).next((a=>{if(a===null)throw Ee(35274,{batchId:i});Ie(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:i}),r.push(sl(this.serializer,a))})))})),Q.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return TA(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(i){return[i]})(this.userId)),s=[];return ec(e).ee({range:r},((i,a,u)=>{if(i[0]===this.userId){const c=Fs(i[1]);s.push(c)}else u.done()})).next((()=>{Ie(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return _A(e,this.userId,n)}_r(e){return IA(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:fl,lastStreamToken:""}))}}function _A(t,e,n){const r=Mm(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let a=!1;return ec(t).ee({range:i,X:!0},((u,c,h)=>{const[p,g,v]=u;p===e&&g===s&&(a=!0),h.done()})).next((()=>a))}function Po(t){return cn(t,os)}function ec(t){return cn(t,gc)}function IA(t){return cn(t,Bh)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cl(0)}static cr(){return new Cl(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class X9{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Cl(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ne.fromTimestamp(new rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Mu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ie(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return Mu(e).ee(((a,u)=>{const c=ph(u);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))})).next((()=>Q.waitFor(i))).next((()=>s))}forEachTarget(e,n){return Mu(e).ee(((r,s)=>{const i=ph(s);n(i)}))}lr(e){return M_(e).get(vg).next((n=>(Ie(n!==null,2888),n)))}hr(e,n){return M_(e).put(vg,n)}Pr(e,n){return Mu(e).put(bA(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Tl(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Mu(e).ee({range:s,index:wD},((a,u,c)=>{const h=ph(u);vf(n,h.target)&&(i=h,c.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=Ho(e);return n.forEach((a=>{const u=Mn(a.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,a))})),Q.waitFor(s)}removeMatchingKeys(e,n,r){const s=Ho(e);return Q.forEach(n,(i=>{const a=Mn(i.path);return Q.waitFor([s.delete([r,a]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=Ho(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Ho(e);let i=He();return s.ee({range:r,X:!0},((a,u,c)=>{const h=Fs(a[1]),p=new he(h);i=i.add(p)})).next((()=>i))}containsKey(e,n){const r=Mn(n.path),s=IDBKeyRange.bound([r],[cD(r)],!1,!0);let i=0;return Ho(e).ee({index:Cx,X:!0,range:s},(([a,u],c,h)=>{a!==0&&(i++,h.done())})).next((()=>i>0))}At(e,n){return Mu(e).get(n).next((r=>r?ph(r):null))}}function Mu(t){return cn(t,yc)}function M_(t){return cn(t,pl)}function Ho(t){return cn(t,vc)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const O_="LruGarbageCollector",J9=1048576;function L_([t,e],[n,r]){const s=Ve(t,n);return s===0?Ve(e,r):s}class Z9{constructor(e){this.Ir=e,this.buffer=new ut(L_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();L_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(O_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){da(n)?le(O_,"Ignoring IndexedDB error during garbage collection: ",n):await Vl(n)}await this.Vr(3e5)}))}}class eB{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Br.ce);const r=new Z9(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(j_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,u,c,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,a=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Yu()<=Ge.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${s} in `+(u-a)+`ms
	Removed ${i} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(h-c)+`ms
Total Duration: ${h-p}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function NA(t,e){return new eB(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tB{constructor(e,n){this.db=e,this.garbageCollector=NA(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return om(e,r)}removeReference(e,n,r){return om(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return om(e,n)}br(e,n){return(function(r,s){let i=!1;return IA(r).te((a=>_A(r,a,s).next((u=>(u&&(i=!0),Q.resolve(!u)))))).next((()=>i))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((a,u)=>{if(u<=n){const c=this.br(e,a).next((h=>{if(!h)return i++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Ne.min()),Ho(e).delete((function(p){return[0,Mn(p.path)]})(a)))))}));s.push(c)}})).next((()=>Q.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return om(e,n)}Sr(e,n){const r=Ho(e);let s,i=Br.ce;return r.ee({index:Cx},(([a,u],{path:c,sequenceNumber:h})=>{a===0?(i!==Br.ce&&n(new he(Fs(s)),i),i=h,s=c):i=Br.ce})).next((()=>{i!==Br.ce&&n(new he(Fs(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function om(t,e){return Ho(t).put((function(n,r){return{targetId:0,path:Mn(n.path),sequenceNumber:r}})(e,t.currentSequenceNumber))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DA{constructor(){this.changes=new Gi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ua(e).put(r)}removeEntry(e,n,r){return Ua(e).delete((function(s,i){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Tg(i),a[a.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=jt.newInvalidDocument(n);return Ua(e).ee({index:Om,range:IDBKeyRange.only($d(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:jt.newInvalidDocument(n)};return Ua(e).ee({index:Om,range:IDBKeyRange.only($d(n))},((s,i)=>{r={document:this.Cr(n,i),size:Ig(i)}})).next((()=>r))}getEntries(e,n){let r=br();return this.Fr(e,n,((s,i)=>{const a=this.Cr(s,i);r=r.insert(s,a)})).next((()=>r))}Mr(e,n){let r=br(),s=new Et(he.comparator);return this.Fr(e,n,((i,a)=>{const u=this.Cr(i,a);r=r.insert(i,u),s=s.insert(i,Ig(a))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let s=new ut(B_);n.forEach((c=>s=s.add(c)));const i=IDBKeyRange.bound($d(s.first()),$d(s.last())),a=s.getIterator();let u=a.getNext();return Ua(e).ee({index:Om,range:i},((c,h,p)=>{const g=he.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;u&&B_(u,g)<0;)r(u,null),u=a.getNext();u&&u.isEqual(g)&&(r(u,h),u=a.hasNext()?a.getNext():null),u?p.j($d(u)):p.done()})).next((()=>{for(;u;)r(u,null),u=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const a=n.path,u=[a.popLast().toArray(),a.lastSegment(),Tg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ua(e).J(IDBKeyRange.bound(u,c,!0)).next((h=>{i==null||i.incrementDocumentReadCount(h.length);let p=br();for(const g of h){const v=this.Cr(he.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(bf(n,v)||s.has(v.key))&&(p=p.insert(v.key,v))}return p}))}getAllFromCollectionGroup(e,n,r,s){let i=br();const a=F_(n,r),u=F_(n,Er.max());return Ua(e).ee({index:vD,range:IDBKeyRange.bound(a,u,!0)},((c,h,p)=>{const g=this.Cr(he.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);i=i.insert(g.key,g),i.size===s&&p.done()})).next((()=>i))}newChangeBuffer(e){return new rB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return V_(e).get(Hw).next((n=>(Ie(!!n,20021),n)))}Dr(e,n){return V_(e).put(Hw,n)}Cr(e,n){if(n){const r=U9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ne.min())))return r}return jt.newInvalidDocument(e)}}function AA(t){return new nB(t)}class rB extends DA{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Gi((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new ut(((i,a)=>Ve(i.canonicalString(),a.canonicalString())));return this.changes.forEach(((i,a)=>{const u=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,u.readTime)),a.isValidDocument()){const c=x_(this.Nr.serializer,a);s=s.add(i.path.popLast());const h=Ig(c);r+=h-u.size,n.push(this.Nr.addEntry(e,i,c))}else if(r-=u.size,this.trackRemovals){const c=x_(this.Nr.serializer,a.convertToNoDocument(Ne.min()));n.push(this.Nr.addEntry(e,i,c))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,a)=>{this.Br.set(i,{size:a,readTime:r.get(i).readTime})})),r)))}}function V_(t){return cn(t,Uh)}function Ua(t){return cn(t,yg)}function $d(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function F_(t,e){const n=e.documentKey.path.toArray();return[t,Tg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function B_(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Ve(n[i],r[i]),s)return s;return s=Ve(n.length,r.length),s||(s=Ve(n[n.length-2],r[r.length-2]),s||Ve(n[n.length-1],r[r.length-1]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PA{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Ih(r.mutation,s,rr.empty(),rt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=He()){const s=Bs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let a=hh();return i.forEach(((u,c)=>{a=a.insert(u,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Bs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,He())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((a,u)=>{n.set(a,u)}))}))}computeViews(e,n,r,s){let i=br();const a=_h(),u=(function(){return _h()})();return n.forEach(((c,h)=>{const p=r.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof Wi)?i=i.insert(h.key,h):p!==void 0?(a.set(h.key,p.mutation.getFieldMask()),Ih(p.mutation,h,p.mutation.getFieldMask(),rt.now())):a.set(h.key,rr.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((h,p)=>a.set(h,p))),n.forEach(((h,p)=>u.set(h,new sB(p,a.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=_h();let s=new Et(((a,u)=>a-u)),i=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const u of a)u.keys().forEach((c=>{const h=n.get(c);if(h===null)return;let p=r.get(c)||rr.empty();p=u.applyToLocalView(h,p),r.set(c,p);const g=(s.get(u.batchId)||He()).add(c);s=s.insert(u.batchId,g)}))})).next((()=>{const a=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,p=c.value,g=QD();p.forEach((v=>{if(!i.has(v)){const E=nA(n.get(v),r.get(v));E!==null&&g.set(v,E),i=i.add(v)}})),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Q.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(i){return he.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Bs());let u=Lh,c=i;return a.next((h=>Q.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),i.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{c=c.insert(p,v)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,c,h,He()))).next((p=>({batchId:u,changes:WD(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next((r=>{let s=hh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=hh();return this.indexManager.getCollectionParents(e,i).next((u=>Q.forEach(u,(c=>{const h=(function(p,g){return new jc(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((p=>{p.forEach(((g,v)=>{a=a.insert(g,v)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((a=>{i.forEach(((c,h)=>{const p=h.getKey();a.get(p)===null&&(a=a.insert(p,jt.newInvalidDocument(p)))}));let u=hh();return a.forEach(((c,h)=>{const p=i.get(c);p!==void 0&&Ih(p.mutation,h,rr.empty(),rt.now()),bf(n,h)&&(u=u.insert(c,h))})),u}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class iB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:$n(r.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:xA(r.bundledQuery),readTime:$n(r.readTime)}})(n)),Q.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oB{constructor(){this.overlays=new Et(he.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bs();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Bs(),i=n.length+1,a=new he(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Et(((h,p)=>h-p));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=i.get(h.largestBatchId);p===null&&(p=Bs(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=Bs(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=s)););return Q.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Fx(n,r));let i=this.qr.get(n);i===void 0&&(i=He(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aB{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qx{constructor(){this.Qr=new ut(pn.$r),this.Ur=new ut(pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new pn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new pn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new he(new ot([])),r=new pn(n,e),s=new pn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new he(new ot([])),r=new pn(n,e),s=new pn(n,e+1);let i=He();return this.Ur.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new pn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return he.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||he.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ut(pn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Lx(i,n,r,s);this.mutationQueue.push(a);for(const u of s)this.Zr=this.Zr.add(new pn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?fl:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pn(n,0),s=new pn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(a=>{const u=this.Xr(a.Yr);i.push(u)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Ve);return n.forEach((s=>{const i=new pn(s,0),a=new pn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(u=>{r=r.add(u.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;he.isDocumentKey(i)||(i=i.child(""));const a=new pn(new he(i),0);let u=new ut(Ve);return this.Zr.forEachWhile((c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(u=u.add(c.Yr)),!0)}),a),Q.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ie(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(s=>{const i=new pn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new pn(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uB{constructor(e){this.ri=e,this.docs=(function(){return new Et(he.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=br();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jt.newInvalidDocument(s))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=br();const a=n.path,u=new he(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||_x(fD(p),r)<=0||(s.has(p.key)||bf(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ee(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new cB(this)}getSize(e){return Q.resolve(this.size)}}class cB extends DA{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dB{constructor(e){this.persistence=e,this.si=new Gi((n=>Tl(n)),vf),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new qx,this.targetCount=0,this.ai=Cl.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Cl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Q.waitFor(i).next((()=>s))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(e,a))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Br(0),this.li=!1,this.li=!0,this.hi=new aB,this.referenceDelegate=e(this),this.Pi=new dB(this),this.indexManager=new Q9,this.remoteDocumentCache=(function(r){return new uB(r)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new wA(n),this.Ii=new iB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new lB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new hB(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class hB extends mD{constructor(e){super(),this.currentSequenceNumber=e}}class Sy{constructor(e){this.persistence=e,this.Ri=new qx,this.Vi=null}static mi(e){return new Sy(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const s=he.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Cg{constructor(e,n){this.persistence=e,this.pi=new Gi((r=>Mn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=NA(this,n)}static mi(e,n){return new Cg(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Q.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(a=>this.br(e,a,n).next((u=>{u||(r++,i.removeEntry(a,Ne.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vm(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fB{constructor(e){this.serializer=e}k(e,n,r,s){const i=new ly("createOrUpgrade",n);r<1&&s>=1&&((function(u){u.createObjectStore(yf)})(e),(function(u){u.createObjectStore(Bh,{keyPath:kF}),u.createObjectStore(os,{keyPath:XT,autoIncrement:!0}).createIndex(al,JT,{unique:!0}),u.createObjectStore(gc)})(e),U_(e),(function(u){u.createObjectStore(el)})(e));let a=Q.resolve();return r<3&&s>=3&&(r!==0&&((function(u){u.deleteObjectStore(vc),u.deleteObjectStore(yc),u.deleteObjectStore(pl)})(e),U_(e)),a=a.next((()=>(function(u){const c=u.store(pl),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return c.put(vg,h)})(i)))),r<4&&s>=4&&(r!==0&&(a=a.next((()=>(function(u,c){return c.store(os).J().next((h=>{u.deleteObjectStore(os),u.createObjectStore(os,{keyPath:XT,autoIncrement:!0}).createIndex(al,JT,{unique:!0});const p=c.store(os),g=h.map((v=>p.put(v)));return Q.waitFor(g)}))})(e,i)))),a=a.next((()=>{(function(u){u.createObjectStore(wc,{keyPath:RF})})(e)}))),r<5&&s>=5&&(a=a.next((()=>this.yi(i)))),r<6&&s>=6&&(a=a.next((()=>((function(u){u.createObjectStore(Uh)})(e),this.wi(i))))),r<7&&s>=7&&(a=a.next((()=>this.Si(i)))),r<8&&s>=8&&(a=a.next((()=>this.bi(e,i)))),r<9&&s>=9&&(a=a.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(a=a.next((()=>this.Di(i)))),r<11&&s>=11&&(a=a.next((()=>{(function(u){u.createObjectStore(cy,{keyPath:jF})})(e),(function(u){u.createObjectStore(dy,{keyPath:MF})})(e)}))),r<12&&s>=12&&(a=a.next((()=>{(function(u){const c=u.createObjectStore(hy,{keyPath:zF});c.createIndex(Gw,$F,{unique:!1}),c.createIndex(SD,qF,{unique:!1})})(e)}))),r<13&&s>=13&&(a=a.next((()=>(function(u){const c=u.createObjectStore(yg,{keyPath:_F});c.createIndex(Om,IF),c.createIndex(vD,CF)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(el)))),r<14&&s>=14&&(a=a.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(a=a.next((()=>(function(u){u.createObjectStore(Nx,{keyPath:OF,autoIncrement:!0}).createIndex(Kw,LF,{unique:!1}),u.createObjectStore(Sh,{keyPath:VF}).createIndex(bD,FF,{unique:!1}),u.createObjectStore(Eh,{keyPath:BF}).createIndex(xD,UF,{unique:!1})})(e)))),r<16&&s>=16&&(a=a.next((()=>{n.objectStore(Sh).clear()})).next((()=>{n.objectStore(Eh).clear()}))),r<17&&s>=17&&(a=a.next((()=>{(function(u){u.createObjectStore(Dx,{keyPath:HF})})(e)}))),r<18&&s>=18&&pN()&&(a=a.next((()=>{n.objectStore(Sh).clear()})).next((()=>{n.objectStore(Eh).clear()}))),a}wi(e){let n=0;return e.store(el).ee(((r,s)=>{n+=Ig(s)})).next((()=>{const r={byteSize:n};return e.store(Uh).put(Hw,r)}))}yi(e){const n=e.store(Bh),r=e.store(os);return n.J().next((s=>Q.forEach(s,(i=>{const a=IDBKeyRange.bound([i.userId,fl],[i.userId,i.lastAcknowledgedBatchId]);return r.J(al,a).next((u=>Q.forEach(u,(c=>{Ie(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const h=sl(this.serializer,c);return TA(e,i.userId,h).next((()=>{}))}))))}))))}Si(e){const n=e.store(vc),r=e.store(el);return e.store(pl).get(vg).next((s=>{const i=[];return r.ee(((a,u)=>{const c=new ot(a),h=(function(p){return[0,Mn(p)]})(c);i.push(n.get(h).next((p=>p?Q.resolve():(g=>n.put({targetId:0,path:Mn(g),sequenceNumber:s.highestListenSequenceNumber}))(c))))})).next((()=>Q.waitFor(i)))}))}bi(e,n){e.createObjectStore(zh,{keyPath:PF});const r=n.store(zh),s=new $x,i=a=>{if(s.add(a)){const u=a.lastSegment(),c=a.popLast();return r.put({collectionId:u,parent:Mn(c)})}};return n.store(el).ee({X:!0},((a,u)=>{const c=new ot(a);return i(c.popLast())})).next((()=>n.store(gc).ee({X:!0},(([a,u,c],h)=>{const p=Fs(u);return i(p.popLast())}))))}Di(e){const n=e.store(yc);return n.ee(((r,s)=>{const i=ph(s),a=bA(this.serializer,i);return n.put(a)}))}Ci(e,n){const r=n.store(el),s=[];return r.ee(((i,a)=>{const u=n.store(yg),c=(function(p){return p.document?new he(ot.fromString(p.document.name).popFirst(5)):p.noDocument?he.fromSegments(p.noDocument.path):p.unknownDocument?he.fromSegments(p.unknownDocument.path):Ee(36783)})(a).path.toArray(),h={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};s.push(u.put(h))})).next((()=>Q.waitFor(s)))}Fi(e,n){const r=n.store(os),s=AA(this.serializer),i=new Hx(Sy.mi,this.serializer.yt);return r.J().next((a=>{const u=new Map;return a.forEach((c=>{let h=u.get(c.userId)??He();sl(this.serializer,c).keys().forEach((p=>h=h.add(p))),u.set(c.userId,h)})),Q.forEach(u,((c,h)=>{const p=new Sn(h),g=by.wt(this.serializer,p),v=i.getIndexManager(p),E=xy.wt(p,this.serializer,v,i.referenceDelegate);return new PA(s,E,g,v).recalculateAndSaveOverlaysForDocumentKeys(new Ww(n,Br.ce),c).next()}))}))}}function U_(t){t.createObjectStore(vc,{keyPath:DF}).createIndex(Cx,AF,{unique:!0}),t.createObjectStore(yc,{keyPath:"targetId"}).createIndex(wD,NF,{unique:!0}),t.createObjectStore(pl)}const Ro="IndexedDbPersistence",R0=18e5,j0=5e3,M0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pB="main";class Kx{constructor(e,n,r,s,i,a,u,c,h,p,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=a,this.document=u,this.xi=h,this.Oi=p,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!Kx.v())throw new ce(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tB(this,s),this.$i=n+pB,this.serializer=new wA(c),this.Ui=new Yo(this.$i,this.Ni,new fB(this.serializer)),this.hi=new $9,this.Pi=new X9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=AA(this.serializer),this.Ii=new z9,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&Fn(Ro,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,M0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Br(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>am(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(da(e))return le(Ro,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(Ro,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return qd(e).get(Du).next((n=>Q.resolve(this.es(n))))}ts(e){return am(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,R0)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=cn(n,wc);return r.J().next((s=>{const i=this.ss(s,R0),a=s.filter((u=>i.indexOf(u)===-1));return Q.forEach(a,(u=>r.delete(u.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):qd(e).get(Du).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,j0)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,M0);return!1}}return!(!this.networkEnabled||!this.inForeground)||am(e).J().next((r=>this.ss(r,j0).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,a=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||a&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&le(Ro,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[yf,wc],(e=>{const n=new Ww(e,Br.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>am(e).J().next((n=>this.ss(n,R0).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return xy.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Y9(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return by.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){le(Ro,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(u){return u===18?WF:u===17?_D:u===16?GF:u===15?Ax:u===14?TD:u===13?kD:u===12?KF:u===11?ED:void Ee(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,s,i,(u=>(a=new Ww(u,this.ci?this.ci.next():Br.ce),n==="readwrite-primary"?this.Hi(a).next((c=>!!c||this.Yi(a))).next((c=>{if(!c)throw Fn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ce(te.FAILED_PRECONDITION,pD);return r(a)})).next((c=>this.Xi(a).next((()=>c)))):this.Is(a).next((()=>r(a)))))).then((u=>(a.raiseOnCommittedEvent(),u)))}Is(e){return qd(e).get(Du).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,j0)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(te.FAILED_PRECONDITION,M0)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qd(e).put(Du,n)}static v(){return Yo.v()}Zi(e){const n=qd(e);return n.get(Du).next((r=>this.es(r)?(le(Ro,"Releasing primary lease."),n.delete(Du)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Fn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;fN()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return le(Ro,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Fn(Ro,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Fn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qd(t){return cn(t,yf)}function am(t){return cn(t,wc)}function mB(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=He(),s=He();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Gx(e,n.fromCache,r,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class RA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fN()?8:gD(un())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new gB;return this.Ss(e,n,a).next((u=>{if(i.result=u,this.Vs)return this.bs(e,n,a,u.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Yu()<=Ge.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Xu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Yu()<=Ge.DEBUG&&le("QueryEngine","Query:",Xu(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Yu()<=Ge.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Xu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):Q.resolve())}ys(e,n){if(d_(n))return Q.resolve(null);let r=$r(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Sg(n,null,"F"),r=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const a=He(...i);return this.ps.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const h=this.Ds(n,u);return this.Cs(n,h,a,c.readTime)?this.ys(e,Sg(n,null,"F")):this.vs(e,h,n,c)}))))})))))}ws(e,n,r,s){return d_(n)||s.isEqual(Ne.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?Q.resolve(null):(Yu()<=Ge.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xu(n)),this.vs(e,a,n,yF(s,Lh)).next((u=>u)))}))}Ds(e,n){let r=new ut(KD(e));return n.forEach(((s,i)=>{bf(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Yu()<=Ge.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Xu(n)),this.ps.getDocumentsMatchingQuery(e,n,Er.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Wx="LocalStore",yB=3e8;class vB{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Et(Ve),this.xs=new Gi((i=>Tl(i)),vf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function jA(t,e,n,r){return new vB(t,e,n,r)}async function MA(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],u=[];let c=He();for(const h of s){a.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of i){u.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:u})))}))}))}function wB(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,u,c,h){const p=c.batch,g=p.keys();let v=Q.resolve();return g.forEach((E=>{v=v.next((()=>h.getEntry(u,E))).next((I=>{const T=c.docVersions.get(E);Ie(T!==null,48541),I.version.compareTo(T)<0&&(p.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))}))})),v.next((()=>a.mutationQueue.removeMutationBatch(u,p)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=He();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function OA(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function bB(t,e){const n=Fe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const v=s.get(g);if(!v)return;u.push(n.Pi.removeMatchingKeys(i,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,p.addedDocuments,g))));let E=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(rn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),s=s.insert(g,E),(function(I,T,_){return I.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=yB?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(v,E,p)&&u.push(n.Pi.updateTargetData(i,E))}));let c=br(),h=He();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))})),u.push(xB(i,a,e.documentUpdates).next((p=>{c=p.ks,h=p.qs}))),!r.isEqual(Ne.min())){const p=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(p)}return Q.waitFor(u).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,h))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function xB(t,e,n){let r=He(),s=He();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let a=br();return n.forEach(((u,c)=>{const h=i.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(Ne.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):le(Wx,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)})),{ks:a,qs:s}}))}function SB(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=fl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function EB(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Q.resolve(s)):n.Pi.allocateTargetId(r).next((a=>(s=new Ai(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function lb(t,e,n){const r=Fe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!da(a))throw a;le(Wx,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function z_(t,e,n){const r=Fe(t);let s=Ne.min(),i=He();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,c,h){const p=Fe(u),g=p.xs.get(h);return g!==void 0?Q.resolve(p.Ms.get(g)):p.Pi.getTargetData(c,h)})(r,a,$r(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,u.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Ne.min(),n?i:He()))).next((u=>(kB(r,u9(e),u),{documents:u,Qs:i})))))}function kB(t,e,n){let r=t.Os.get(e)||Ne.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class $_{constructor(){this.activeTargetIds=m9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LA{constructor(){this.Mo=new $_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TB{Oo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const q_="ConnectivityMonitor";class H_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(q_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let lm=null;function ub(){return lm===null?lm=(function(){return 268435456+Math.round(2147483648*Math.random())})():lm++,"0x"+lm.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const O0="RestConnection",_B={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===wg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=ub(),u=this.zo(e,n.toUriEncodedString());le(O0,`Sending RPC '${e}' ${a}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:h}=new URL(u),p=Ml(h);return this.Jo(e,u,c,r,p).then((g=>(le(O0,`Received RPC '${e}' ${a}: `,g),g)),(g=>{throw El(O0,`RPC '${e}' ${a} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=_B[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Dn="WebChannelConnection";class NB extends IB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=ub();return new Promise(((u,c)=>{const h=new rD;h.setWithCredentials(!0),h.listenOnce(sD.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Rm.NO_ERROR:const g=h.getResponseJson();le(Dn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Rm.TIMEOUT:le(Dn,`RPC '${e}' ${a} timed out`),c(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case Rm.HTTP_ERROR:const v=h.getStatus();if(le(Dn,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E==null?void 0:E.error;if(I&&I.status&&I.message){const T=(function(_){const D=_.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(D)>=0?D:te.UNKNOWN})(I.status);c(new ce(T,I.message))}else c(new ce(te.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{le(Dn,`RPC '${e}' ${a} completed.`)}}));const p=JSON.stringify(s);le(Dn,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const s=ub(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=aD(),u=oD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=i.join("");le(Dn,`Creating RPC '${e}' stream ${s}: ${p}`,c);const g=a.createWebChannel(p,c);this.I_(g);let v=!1,E=!1;const I=new CB({Yo:_=>{E?le(Dn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(v||(le(Dn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),le(Dn,`RPC '${e}' stream ${s} sending:`,_),g.send(_))},Zo:()=>g.close()}),T=(_,D,P)=>{_.listen(D,(M=>{try{P(M)}catch(B){setTimeout((()=>{throw B}),0)}}))};return T(g,dh.EventType.OPEN,(()=>{E||(le(Dn,`RPC '${e}' stream ${s} transport opened.`),I.o_())})),T(g,dh.EventType.CLOSE,(()=>{E||(E=!0,le(Dn,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(g))})),T(g,dh.EventType.ERROR,(_=>{E||(E=!0,El(Dn,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),I.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),T(g,dh.EventType.MESSAGE,(_=>{var D;if(!E){const P=_.data[0];Ie(!!P,16349);const M=P,B=(M==null?void 0:M.error)||((D=M[0])==null?void 0:D.error);if(B){le(Dn,`RPC '${e}' stream ${s} received error:`,B);const z=B.status;let K=(function(C){const A=en[C];if(A!==void 0)return iA(A)})(z),R=B.message;K===void 0&&(K=te.INTERNAL,R="Unknown error status: "+z+" with message "+B.message),E=!0,I.a_(new ce(K,R)),g.close()}else le(Dn,`RPC '${e}' stream ${s} received:`,P),I.u_(P)}})),T(u,iD.STAT_EVENT,(_=>{_.stat===zw.PROXY?le(Dn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===zw.NOPROXY&&le(Dn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function DB(){return typeof window<"u"?window:null}function $m(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ey(t){return new A9(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const K_="PersistentStream";class FA{constructor(e,n,r,s,i,a,u,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Fn(n.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(K_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(K_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AB extends FA{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=j9(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ne.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Ne.min():i.readTime?$n(i.readTime):Ne.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=rb(this.serializer),n.addTarget=(function(s,i){let a;const u=i.target;if(a=bg(u)?{documents:fA(s,u)}:{query:pA(s,u).ft},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=lA(s,i.resumeToken);const c=tb(s,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(Ne.min())>0){a.readTime=Ic(s,i.snapshotVersion.toTimestamp());const c=tb(s,i.expectedCount);c!==null&&(a.expectedCount=c)}return a})(this.serializer,e);const r=O9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=rb(this.serializer),n.removeTarget=e,this.q_(n)}}class PB extends FA{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=M9(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=rb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>kg(this.serializer,r)))};this.q_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class RB{}class jB extends RB{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,nb(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(te.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Ho(e,nb(n,r),s,a,u,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(te.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fn(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Nl="RemoteStore";class OB{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Fl(this)&&(le(Nl,"Restarting streams for network reachability change."),await(async function(u){const c=Fe(u);c.Ea.add(4),await Sf(c),c.Ra.set("Unknown"),c.Ea.delete(4),await ky(c)})(this))}))})),this.Ra=new MB(r,s)}}async function ky(t){if(Fl(t))for(const e of t.da)await e(!0)}async function Sf(t){for(const e of t.da)await e(!1)}function BA(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Jx(n)?Xx(n):Oc(n).O_()&&Yx(n,e))}function Qx(t,e){const n=Fe(t),r=Oc(n);n.Ia.delete(e),r.O_()&&UA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Fl(n)&&n.Ra.set("Unknown"))}function Yx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oc(t).Y_(e)}function UA(t,e){t.Va.Ue(e),Oc(t).Z_(e)}function Xx(t){t.Va=new I9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Oc(t).start(),t.Ra.ua()}function Jx(t){return Fl(t)&&!Oc(t).x_()&&t.Ia.size>0}function Fl(t){return Fe(t).Ea.size===0}function zA(t){t.Va=void 0}async function LB(t){t.Ra.set("Online")}async function VB(t){t.Ia.forEach(((e,n)=>{Yx(t,e)}))}async function FB(t,e){zA(t),Jx(t)?(t.Ra.ha(e),Xx(t)):t.Ra.set("Unknown")}async function BB(t,e,n){if(t.Ra.set("Online"),e instanceof aA&&e.state===2&&e.cause)try{await(async function(r,s){const i=s.cause;for(const a of s.targetIds)r.Ia.has(a)&&(await r.remoteSyncer.rejectListen(a,i),r.Ia.delete(a),r.Va.removeTarget(a))})(t,e)}catch(r){le(Nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ng(t,r)}else if(e instanceof Um?t.Va.Ze(e):e instanceof oA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const r=await OA(t.localStore);n.compareTo(r)>=0&&await(function(s,i){const a=s.Va.Tt(i);return a.targetChanges.forEach(((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(u.resumeToken,i))}})),a.targetMismatches.forEach(((u,c)=>{const h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(rn.EMPTY_BYTE_STRING,h.snapshotVersion)),UA(s,u);const p=new Ai(h.target,u,c,h.sequenceNumber);Yx(s,p)})),s.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){le(Nl,"Failed to raise snapshot:",r),await Ng(t,r)}}async function Ng(t,e,n){if(!da(e))throw e;t.Ea.add(1),await Sf(t),t.Ra.set("Offline"),n||(n=()=>OA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(Nl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ky(t)}))}function $A(t,e){return e().catch((n=>Ng(t,n,e)))}async function Ef(t){const e=Fe(t),n=na(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fl;for(;UB(e);)try{const s=await SB(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,zB(e,s)}catch(s){await Ng(e,s)}qA(e)&&HA(e)}function UB(t){return Fl(t)&&t.Ta.length<10}function zB(t,e){t.Ta.push(e);const n=na(t);n.O_()&&n.X_&&n.ea(e.mutations)}function qA(t){return Fl(t)&&!na(t).x_()&&t.Ta.length>0}function HA(t){na(t).start()}async function $B(t){na(t).ra()}async function qB(t){const e=na(t);for(const n of t.Ta)e.ea(n.mutations)}async function HB(t,e,n){const r=t.Ta.shift(),s=Vx.from(r,e,n);await $A(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Ef(t)}async function KB(t,e){e&&na(t).X_&&await(async function(n,r){if((function(s){return k9(s)&&s!==te.ABORTED})(r.code)){const s=n.Ta.shift();na(n).B_(),await $A(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r))),await Ef(n)}})(t,e),qA(t)&&HA(t)}async function G_(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),le(Nl,"RemoteStore received new credentials");const r=Fl(n);n.Ea.add(3),await Sf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ky(n)}async function GB(t,e){const n=Fe(t);e?(n.Ea.delete(2),await ky(n)):e||(n.Ea.add(2),await Sf(n),n.Ra.set("Unknown"))}function Oc(t){return t.ma||(t.ma=(function(e,n,r){const s=Fe(e);return s.sa(),new AB(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:LB.bind(null,t),t_:VB.bind(null,t),r_:FB.bind(null,t),H_:BB.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Jx(t)?Xx(t):t.Ra.set("Unknown")):(await t.ma.stop(),zA(t))}))),t.ma}function na(t){return t.fa||(t.fa=(function(e,n,r){const s=Fe(e);return s.sa(),new PB(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:$B.bind(null,t),r_:KB.bind(null,t),ta:qB.bind(null,t),na:HB.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ef(t)):(await t.fa.stop(),t.Ta.length>0&&(le(Nl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,u=new Zx(e,n,a,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e1(t,e){if(Fn("AsyncQueue",`${e}: ${t}`),da(t))return new ce(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cc{static emptySet(e){return new cc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=hh(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new cc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W_{constructor(){this.ga=new Et(he.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Cc{constructor(e,n,r,s,i,a,u,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach((u=>{a.push({type:0,doc:u})})),new Cc(e,n,cc.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&my(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class QB{constructor(){this.queries=Q_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const r=Fe(e),s=r.queries;r.queries=Q_(),s.forEach(((i,a)=>{for(const u of a.Sa)u.onError(n)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function Q_(){return new Gi((t=>HD(t)),my)}async function t1(t,e){const n=Fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new WB,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const u=e1(a,`Initialization of query '${Xu(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&r1(n)}async function n1(t,e){const n=Fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YB(t,e){const n=Fe(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const u of a.Sa)u.Fa(s)&&(r=!0);a.wa=s}}r&&r1(n)}function XB(t,e,n){const r=Fe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function r1(t){t.Ca.forEach((e=>{e.next()}))}var cb,Y_;(Y_=cb||(cb={})).Ma="default",Y_.Cache="cache";class s1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cb.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KA{constructor(e){this.key=e}}class GA{constructor(e){this.key=e}}class JB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=KD(e),this.tu=new cc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new W_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,g)=>{const v=s.get(p),E=bf(this.query,g)?g:null,I=!!v&&this.mutatedKeys.has(v.key),T=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let _=!1;v&&E?v.data.isEqual(E.data)?I!==T&&(r.track({type:3,doc:E}),_=!0):this.su(v,E)||(r.track({type:2,doc:E}),_=!0,(c&&this.eu(E,c)>0||h&&this.eu(E,h)<0)&&(u=!0)):!v&&E?(r.track({type:0,doc:E}),_=!0):v&&!E&&(r.track({type:1,doc:v}),_=!0,(c||h)&&(u=!0)),_&&(E?(a=a.add(E),i=T?i.add(p):i.delete(p)):(a=a.delete(p),i=i.delete(p)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{tu:a,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((p,g)=>(function(v,E){const I=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:T})}};return I(v)-I(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,h=c!==this.Za;return this.Za=c,a.length!==0||h?{snapshot:new Cc(this.query,e.tu,i,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new GA(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new KA(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Cc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const i1="SyncEngine";class ZB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eU{constructor(e){this.key=e,this.hu=!1}}class tU{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Gi((u=>HD(u)),my),this.Iu=new Map,this.Eu=new Set,this.du=new Et(he.comparator),this.Au=new Map,this.Ru=new qx,this.Vu={},this.mu=new Map,this.fu=Cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nU(t,e,n=!0){const r=ZA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await WA(r,e,n,!0),s}async function rU(t,e){const n=ZA(t);await WA(n,e,!0,!1)}async function WA(t,e,n,r){const s=await EB(t.localStore,$r(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await sU(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&BA(t.remoteStore,s),u}async function sU(t,e,n,r,s){t.pu=(g,v,E)=>(async function(I,T,_,D){let P=T.view.ru(_);P.Cs&&(P=await z_(I.localStore,T.query,!1).then((({documents:K})=>T.view.ru(K,P))));const M=D&&D.targetChanges.get(T.targetId),B=D&&D.targetMismatches.get(T.targetId)!=null,z=T.view.applyChanges(P,I.isPrimaryClient,M,B);return J_(I,T.targetId,z.au),z.snapshot})(t,g,v,E);const i=await z_(t.localStore,e,!0),a=new JB(e,i.Qs),u=a.ru(i.documents),c=xf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=a.applyChanges(u,t.isPrimaryClient,c);J_(t,n,h.au);const p=new ZB(e,n,a);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function iU(t,e,n){const r=Fe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((a=>!my(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await lb(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Qx(r.remoteStore,s.targetId),db(r,s.targetId)})).catch(Vl)):(db(r,s.targetId),await lb(r.localStore,s.targetId,!0))}async function oU(t,e){const n=Fe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qx(n.remoteStore,r.targetId))}async function aU(t,e,n){const r=eP(t);try{const s=await(function(i,a){const u=Fe(i),c=rt.now(),h=a.reduce(((v,E)=>v.add(E.key)),He());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let E=br(),I=He();return u.Ns.getEntries(v,h).next((T=>{E=T,E.forEach(((_,D)=>{D.isValidDocument()||(I=I.add(_))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,E))).next((T=>{p=T;const _=[];for(const D of a){const P=S9(D,p.get(D.key).overlayedDocument);P!=null&&_.push(new Wi(D.key,P,OD(P.value.mapValue),Rn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,_,a)})).next((T=>{g=T;const _=T.applyToLocalDocumentSet(p,I);return u.documentOverlayCache.saveOverlays(v,T.batchId,_)}))})).then((()=>({batchId:g.batchId,changes:WD(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(i,a,u){let c=i.Vu[i.currentUser.toKey()];c||(c=new Et(Ve)),c=c.insert(a,u),i.Vu[i.currentUser.toKey()]=c})(r,s.batchId,n),await kf(r,s.changes),await Ef(r.remoteStore)}catch(s){const i=e1(s,"Failed to persist write");n.reject(i)}}async function QA(t,e){const n=Fe(t);try{const r=await bB(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const a=n.Au.get(i);a&&(Ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Ie(a.hu,14607):s.removedDocuments.size>0&&(Ie(a.hu,42227),a.hu=!1))})),await kf(n,r,e)}catch(r){await Vl(r)}}function X_(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,a)=>{const u=a.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(i,a){const u=Fe(i);u.onlineState=a;let c=!1;u.queries.forEach(((h,p)=>{for(const g of p.Sa)g.va(a)&&(c=!0)})),c&&r1(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lU(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Et(he.comparator);a=a.insert(i,jt.newNoDocument(i,Ne.min()));const u=He().add(i),c=new wy(Ne.min(),new Map,new Et(Ve),a,u);await QA(r,c),r.du=r.du.remove(i),r.Au.delete(e),o1(r)}else await lb(r.localStore,e,!1).then((()=>db(r,e,n))).catch(Vl)}async function uU(t,e){const n=Fe(t),r=e.batch.batchId;try{const s=await wB(n.localStore,e);XA(n,r,null),YA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kf(n,s)}catch(s){await Vl(s)}}async function cU(t,e,n){const r=Fe(t);try{const s=await(function(i,a){const u=Fe(i);return u.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next((p=>(Ie(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(c,p)))).next((()=>u.mutationQueue.performConsistencyCheck(c))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h))).next((()=>u.localDocuments.getDocuments(c,h)))}))})(r.localStore,e);XA(r,e,n),YA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kf(r,s)}catch(s){await Vl(s)}}function YA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function XA(t,e,n){const r=Fe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function db(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||JA(t,r)}))}function JA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Qx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),o1(t))}function J_(t,e,n){for(const r of n)r instanceof KA?(t.Ru.addReference(r.key,e),dU(t,r)):r instanceof GA?(le(i1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||JA(t,r.key)):Ee(19791,{wu:r})}function dU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(i1,"New document in limbo: "+n),t.Eu.add(r),o1(t))}function o1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new he(ot.fromString(e)),r=t.fu.next();t.Au.set(r,new eU(n)),t.du=t.du.insert(n,r),BA(t.remoteStore,new Ai($r(wf(n.path)),r,"TargetPurposeLimboResolution",Br.ce))}}async function kf(t,e,n){const r=Fe(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{a.push(r.pu(c,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(h){s.push(h);const g=Gx.As(c.targetId,h);i.push(g)}})))})),await Promise.all(a),r.Pu.H_(s),await(async function(u,c){const h=Fe(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Q.forEach(c,(g=>Q.forEach(g.Es,(v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>Q.forEach(g.ds,(v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!da(p))throw p;le(Wx,"Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const v=h.Ms.get(g),E=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(E);h.Ms=h.Ms.insert(g,I)}}})(r.localStore,i))}async function hU(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){le(i1,"User change. New user:",e.toKey());const r=await MA(n.localStore,e);n.currentUser=e,(function(s,i){s.mu.forEach((a=>{a.forEach((u=>{u.reject(new ce(te.CANCELLED,i))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kf(n,r.Ls)}}function fU(t,e){const n=Fe(t),r=n.Au.get(e);if(r&&r.hu)return He().add(r.key);{let s=He();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const u=n.Tu.get(a);s=s.unionWith(u.view.nu)}return s}}function ZA(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lU.bind(null,e),e.Pu.H_=YB.bind(null,e.eventManager),e.Pu.yu=XB.bind(null,e.eventManager),e}function eP(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cU.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ey(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jA(this.persistence,new RA,e.initialUser,this.serializer)}Cu(e){return new Hx(Sy.mi,this.serializer)}Du(e){return new LA}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class pU extends Qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof Cg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CA(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new Hx((r=>Cg.mi(r,n)),this.serializer)}}class mU extends Qh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await eP(this.xu.syncEngine),await Ef(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return jA(this.persistence,new RA,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new CA(r,e.asyncQueue,n)}Mu(e,n){const r=new xF(n,this.persistence);return new bF(e.asyncQueue,r)}Cu(e){const n=mB(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new Kx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,DB(),$m(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new LA}}class Dg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>X_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hU.bind(null,this.syncEngine),await GB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QB})()}createDatastore(e){const n=Ey(e.databaseInfo.databaseId),r=(function(s){return new NB(s)})(e.databaseInfo);return(function(s,i,a,u){return new jB(s,i,a,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(n,r,s,i,a){return new OB(n,r,s,i,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>X_(this.syncEngine,n,0)),(function(){return H_.v()?new H_:new TB})())}createSyncEngine(e,n){return(function(r,s,i,a,u,c,h){const p=new tU(r,s,i,a,u,c);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const s=Fe(r);le(Nl,"RemoteStore shutting down."),s.Ea.add(5),await Sf(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Dg.provider={build:()=>new Dg};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class a1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ra="FirestoreClient";class gU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Sn.UNAUTHENTICATED,this.clientId=Tx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{le(ra,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(le(ra,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=e1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function L0(t,e){t.asyncQueue.verifyOperationInProgress(),le(ra,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await MA(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Z_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yU(t);le(ra,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>G_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>G_(e.remoteStore,s))),t._onlineComponents=e}async function yU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(ra,"Using user provided OfflineComponentProvider");try{await L0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===te.FAILED_PRECONDITION||r.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;El("Error using user provided cache. Falling back to memory cache: "+n),await L0(t,new Qh)}}else le(ra,"Using default OfflineComponentProvider"),await L0(t,new pU(void 0));return t._offlineComponents}async function tP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(ra,"Using user provided OnlineComponentProvider"),await Z_(t,t._uninitializedComponentsProvider._online)):(le(ra,"Using default OnlineComponentProvider"),await Z_(t,new Dg))),t._onlineComponents}function vU(t){return tP(t).then((e=>e.syncEngine))}async function Ag(t){const e=await tP(t),n=e.eventManager;return n.onListen=nU.bind(null,e.syncEngine),n.onUnlisten=iU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oU.bind(null,e.syncEngine),n}function wU(t,e,n={}){const r=new qs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,a,u,c){const h=new a1({next:g=>{h.Nu(),i.enqueueAndForget((()=>n1(s,p)));const v=g.docs.has(a);!v&&g.fromCache?c.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new s1(wf(a.path),h,{includeMetadataChanges:!0,qa:!0});return t1(s,p)})(await Ag(t),t.asyncQueue,e,n,r))),r.promise}function bU(t,e,n={}){const r=new qs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,a,u,c){const h=new a1({next:g=>{h.Nu(),i.enqueueAndForget((()=>n1(s,p))),g.fromCache&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new s1(a,h,{includeMetadataChanges:!0,qa:!0});return t1(s,p)})(await Ag(t),t.asyncQueue,e,n,r))),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eI=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rP="firestore.googleapis.com",tI=!0;class nI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rP,this.ssl=tI}else this.host=e.host,this.ssl=e.ssl??tI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<J9)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nP(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ty{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new iF;switch(n.type){case"firstParty":return new uF(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=eI.get(e);n&&(le("ComponentProvider","Removing Datastore"),eI.delete(e),n.terminate())})(this),Promise.resolve()}}function xU(t,e,n,r={}){var s;t=zn(t,Ty);const i=Ml(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(dx(`https://${c}`),hx("Firestore",!0)),a.host!==rP&&a.host!==c&&El("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:c,ssl:i,emulatorOptions:r};if(!Zo(h,u)&&(t._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Sn.MOCK_USER;else{p=dN(r.mockUserToken,(s=t._app)==null?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Sn(v)}t._authCredentials=new oF(new uD(p,g))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Bl=class sP{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sP(this.firestore,e,this._query)}};class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gf(n,Mt._jsonSchema))return new Mt(e,r||null,new he(ot.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:nn("string",Mt._jsonSchemaVersion),referencePath:nn("string")};class Xo extends Bl{constructor(e,n,r){super(e,n,wf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new he(e))}withConverter(e){return new Xo(this.firestore,e,this._path)}}function On(t,e,...n){if(t=Nt(t),dD("collection","path",e),t instanceof Ty){const r=ot.fromString(e,...n);return KT(r),new Xo(t,null,r)}{if(!(t instanceof Mt||t instanceof Xo))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return KT(r),new Xo(t.firestore,null,r)}}function ni(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=Tx.newId()),dD("doc","path",e),t instanceof Ty){const r=ot.fromString(e,...n);return HT(r),new Mt(t,null,new he(r))}{if(!(t instanceof Mt||t instanceof Xo))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return HT(r),new Mt(t.firestore,t instanceof Xo?t.converter:null,new he(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rI="AsyncQueue";class sI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VA(this,"async_queue_retry"),this._c=()=>{const r=$m();r&&le(rI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=$m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!da(e))throw e;le(rI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Fn("INTERNAL UNHANDLED ERROR: ",iI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Zx.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Ee(47125,{Pc:iI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function iI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oI(t){return(function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Js extends Ty{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new sI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sI(e),this._firestoreClient=void 0,await e}}}function _y(t,e){const n=typeof t=="object"?t:ny(),r=typeof t=="string"?t:wg,s=ua(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=lN("firestore");i&&xU(s,...i)}return s}function Iy(t){if(t._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iP(t),t._firestoreClient}function iP(t){var e,n,r;const s=t._freezeSettings(),i=(function(a,u,c,h){return new YF(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,nP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)==null?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||(n=s.localCache)!=null&&n._offlineComponentProvider&&(r=s.localCache)!=null&&r._onlineComponentProvider&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new gU(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}})(t._componentsProvider))}function SU(t,e){El("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return EU(t,Dg.provider,{build:r=>new mU(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function EU(t,e,n){if((t=zn(t,Js))._firestoreClient||t._terminated)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ce(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},iP(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fr(rn.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fr(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gf(e,Fr._jsonSchema))return Fr.fromBase64String(e.bytes)}}Fr._jsonSchemaVersion="firestore/bytes/1.0",Fr._jsonSchema={type:nn("string",Fr._jsonSchemaVersion),bytes:nn("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ny{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hs._jsonSchemaVersion}}static fromJSON(e){if(gf(e,Hs._jsonSchema))return new Hs(e.latitude,e.longitude)}}Hs._jsonSchemaVersion="firestore/geoPoint/1.0",Hs._jsonSchema={type:nn("string",Hs._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ks{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ks._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gf(e,Ks._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ks(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ks._jsonSchemaVersion="firestore/vectorValue/1.0",Ks._jsonSchema={type:nn("string",Ks._jsonSchemaVersion),vectorValues:nn("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kU=/^__.*__$/;class TU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mc(e,this.data,n,this.fieldTransforms)}}class oP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class l1{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new l1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Pg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aP(this.Ac)&&kU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _U{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ey(e)}Cc(e,n,r,s=!1){return new l1({Ac:e,methodName:n,Dc:r,path:_t.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dy(t){const e=t._freezeSettings(),n=Ey(t._databaseId);return new _U(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lP(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);c1("Data must be an object, but it was:",a,r);const u=uP(r,a);let c,h;if(i.merge)c=new rr(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const v=hb(e,g,n);if(!a.contains(v))throw new ce(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);dP(p,v)||p.push(v)}c=new rr(p),h=a.fieldTransforms.filter((g=>c.covers(g.field)))}else c=null,h=a.fieldTransforms;return new TU(new Pn(u),c,h)}class Ay extends Ny{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ay}}class u1 extends Ny{_toFieldTransform(e){return new tA(e.path,new kc)}isEqual(e){return e instanceof u1}}function IU(t,e,n,r){const s=t.Cc(1,e,n);c1("Data must be an object, but it was:",s,r);const i=[],a=Pn.empty();ha(r,((c,h)=>{const p=d1(e,c,n);h=Nt(h);const g=s.yc(p);if(h instanceof Ay)i.push(p);else{const v=Tf(h,g);v!=null&&(i.push(p),a.set(p,v))}}));const u=new rr(i);return new oP(a,u,s.fieldTransforms)}function CU(t,e,n,r,s,i){const a=t.Cc(1,e,n),u=[hb(e,r,n)],c=[s];if(i.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)u.push(hb(e,i[v])),c.push(i[v+1]);const h=[],p=Pn.empty();for(let v=u.length-1;v>=0;--v)if(!dP(h,u[v])){const E=u[v];let I=c[v];I=Nt(I);const T=a.yc(E);if(I instanceof Ay)h.push(E);else{const _=Tf(I,T);_!=null&&(h.push(E),p.set(E,_))}}const g=new rr(h);return new oP(p,g,a.fieldTransforms)}function NU(t,e,n,r=!1){return Tf(n,t.Cc(r?4:3,e))}function Tf(t,e){if(cP(t=Nt(t)))return c1("Unsupported field value:",e,t),uP(t,e);if(t instanceof Ny)return(function(n,r){if(!aP(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const s=[];let i=0;for(const a of n){let u=Tf(a,r.wc(i));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),i++}return{arrayValue:{values:s}}})(t,e)}return(function(n,r){if((n=Nt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return g9(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=rt.fromDate(n);return{timestampValue:Ic(r.serializer,s)}}if(n instanceof rt){const s=new rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ic(r.serializer,s)}}if(n instanceof Hs)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Fr)return{bytesValue:lA(r.serializer,n._byteString)};if(n instanceof Mt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ux(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Ks)return(function(s,i){return{mapValue:{fields:{[Rx]:{stringValue:jx},[bc]:{arrayValue:{values:s.toArray().map((a=>{if(typeof a!="number")throw i.Sc("VectorValues must only contain numeric values.");return Ox(i.serializer,a)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${ay(n)}`)})(t,e)}function uP(t,e){const n={};return ID(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(t,((r,s)=>{const i=Tf(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function cP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Hs||t instanceof Fr||t instanceof Mt||t instanceof Ny||t instanceof Ks)}function c1(t,e,n){if(!cP(n)||!hD(n)){const r=ay(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function hb(t,e,n){if((e=Nt(e))instanceof Cy)return e._internalPath;if(typeof e=="string")return d1(t,e);throw Pg("Field path arguments must be of type string or ",t,!1,void 0,n)}const DU=new RegExp("[~\\*/\\[\\]]");function d1(t,e,n){if(e.search(DU)>=0)throw Pg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cy(...e.split("."))._internalPath}catch{throw Pg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pg(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new ce(te.INVALID_ARGUMENT,u+t+c)}function dP(t,e){return t.some((n=>n.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hP{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Py("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AU extends hP{data(){return super.data()}}function Py(t,e){return typeof e=="string"?d1(t,e):e instanceof Cy?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class h1{}class f1 extends h1{}function ds(t,e,...n){let r=[];e instanceof h1&&r.push(e),r=r.concat(n),(function(s){const i=s.filter((u=>u instanceof p1)).length,a=s.filter((u=>u instanceof Ry)).length;if(i>1||i>0&&a>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Ry extends f1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ry(e,n,r)}_apply(e){const n=this._parse(e);return pP(e._query,n),new Bl(e.firestore,e.converter,eb(e._query,n))}_parse(e){const n=Dy(e.firestore);return(function(r,s,i,a,u,c,h){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){lI(h,c);const g=[];for(const v of h)g.push(aI(a,r,v));p={arrayValue:{values:g}}}else p=aI(a,r,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||lI(h,c),p=NU(i,s,h,c==="in"||c==="not-in");return We.create(u,c,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ur(t,e,n){const r=e,s=Py("where",t);return Ry._create(s,r,n)}class p1 extends h1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new p1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:lt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,s){let i=r;const a=s.getFlattenedFilters();for(const u of a)pP(i,u),i=eb(i,u)})(e._query,n),new Bl(e.firestore,e.converter,eb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class m1 extends f1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new m1(e,n)}_apply(e){const n=(function(r,s,i){if(r.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gh(s,i)})(e._query,this._field,this._direction);return new Bl(e.firestore,e.converter,(function(r,s){const i=r.explicitOrderBy.concat([s]);return new jc(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function Lc(t,e="asc"){const n=e,r=Py("orderBy",t);return m1._create(r,n)}class g1 extends f1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new g1(e,n,r)}_apply(e){return new Bl(e.firestore,e.converter,Sg(e._query,this._limit,this._limitType))}}function y1(t){return gF("limit",t),g1._create("limit",t,"F")}function aI(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qD(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!he.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hh(t,new he(r))}if(n instanceof Mt)return Hh(t,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ay(n)}.`)}function lI(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pP(t,e){const n=(function(r,s){for(const i of r)for(const a of i.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PU{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ha(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)==null?void 0:n[bc].arrayValue)==null?void 0:r.values)==null?void 0:s.map((a=>xt(a.doubleValue)));return new Ks(i)}convertGeoPoint(e){return new Hs(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($h(e));default:return null}}convertTimestamp(e){const n=Li(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Ie(vA(r),9688,{name:e});const s=new kl(r.get(1),r.get(3)),i=new he(r.popFirst(5));return s.isEqual(n)||Fn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class mh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gl extends hP{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Py("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=gl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),n}}gl._jsonSchemaVersion="firestore/documentSnapshot/1.0",gl._jsonSchema={type:nn("string",gl._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class qm extends gl{data(e={}){return super.data(e)}}class yl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new mh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new qm(this._firestore,this._userDataWriter,r.key,r,new mh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map((a=>{const u=new qm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new mh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:i++}}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const u=new qm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new mh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),h=i.indexOf(a.doc.key)),{type:RU(a.type),doc:u,oldIndex:c,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function RU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gP(t){t=zn(t,Mt);const e=zn(t.firestore,Js);return wU(Iy(e),t._key).then((n=>vP(e,t,n)))}yl._jsonSchemaVersion="firestore/querySnapshot/1.0",yl._jsonSchema={type:nn("string",yl._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class v1 extends PU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function hs(t){t=zn(t,Bl);const e=zn(t.firestore,Js),n=Iy(e),r=new v1(e);return fP(t._query),bU(n,t._query).then((s=>new yl(e,r,t,s)))}function jy(t,e,n){t=zn(t,Mt);const r=zn(t.firestore,Js),s=mP(t.converter,e,n);return Oy(r,[lP(Dy(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Rn.none())])}function My(t,e,n,...r){t=zn(t,Mt);const s=zn(t.firestore,Js),i=Dy(s);let a;return a=typeof(e=Nt(e))=="string"||e instanceof Cy?CU(i,"updateDoc",t._key,e,n,r):IU(i,"updateDoc",t._key,e),Oy(s,[a.toMutation(t._key,Rn.exists(!0))])}function _ne(t){return Oy(zn(t.firestore,Js),[new vy(t._key,Rn.none())])}function w1(t,e){const n=zn(t.firestore,Js),r=ni(t),s=mP(t.converter,e);return Oy(n,[lP(Dy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then((()=>r))}function yP(t,...e){var n,r,s;t=Nt(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||oI(e[a])||(i=e[a++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(oI(e[a])){const g=e[a];e[a]=(n=g.next)==null?void 0:n.bind(g),e[a+1]=(r=g.error)==null?void 0:r.bind(g),e[a+2]=(s=g.complete)==null?void 0:s.bind(g)}let c,h,p;if(t instanceof Mt)h=zn(t.firestore,Js),p=wf(t._key.path),c={next:g=>{e[a]&&e[a](vP(h,t,g))},error:e[a+1],complete:e[a+2]};else{const g=zn(t,Bl);h=zn(g.firestore,Js),p=g._query;const v=new v1(h);c={next:E=>{e[a]&&e[a](new yl(h,v,g,E))},error:e[a+1],complete:e[a+2]},fP(t._query)}return(function(g,v,E,I){const T=new a1(I),_=new s1(v,T,E);return g.asyncQueue.enqueueAndForget((async()=>t1(await Ag(g),_))),()=>{T.Nu(),g.asyncQueue.enqueueAndForget((async()=>n1(await Ag(g),_)))}})(Iy(h),p,u,c)}function Oy(t,e){return(function(n,r){const s=new qs;return n.asyncQueue.enqueueAndForget((async()=>aU(await vU(n),r,s))),s.promise})(Iy(t),e)}function vP(t,e,n){const r=n.docs.get(e._key),s=new v1(t);return new gl(t,s,e._key,r,new mh(n.hasPendingWrites,n.fromCache),e.converter)}function Bn(){return new u1("serverTimestamp")}(function(t,e=!0){(function(n){Rc=n})(Ll),us(new Kr("firestore",((n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),a=new Js(new aF(n.getProvider("auth-internal")),new cF(i,n.getProvider("app-check-internal")),(function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(u.options.projectId,c)})(i,r),i);return s={useFetchStreams:e,...s},a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),ir(UT,zT,t),ir(UT,zT,"esm2020")})();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wP="firebasestorage.googleapis.com",jU="storageBucket",MU=120*1e3,OU=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ri extends Gr{constructor(e,n,r=0){super(V0(e),`Firebase Storage: ${n} (${V0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ri.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return V0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zs||(Zs={}));function V0(t){return"storage/"+t}function LU(){const t="An unknown error occurred, please check the error payload for server response.";return new ri(Zs.UNKNOWN,t)}function VU(){return new ri(Zs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FU(){return new ri(Zs.CANCELED,"User canceled the upload/download.")}function BU(t){return new ri(Zs.INVALID_URL,"Invalid URL '"+t+"'.")}function UU(t){return new ri(Zs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uI(t){return new ri(Zs.INVALID_ARGUMENT,t)}function bP(){return new ri(Zs.APP_DELETED,"The Firebase app was deleted.")}function zU(t){return new ri(Zs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ls{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ls.makeFromUrl(e,n)}catch{return new ls(e,"")}if(r.path==="")return r;throw UU(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function h(M){M.path_=decodeURIComponent(M.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp(`^https?://${g}/${p}/b/${s}/o${v}`,"i"),I={bucket:1,path:3},T=n===wP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",D=new RegExp(`^https?://${T}/${s}/${_}`,"i"),P=[{regex:u,indices:c,postModify:i},{regex:E,indices:I,postModify:h},{regex:D,indices:{bucket:1,path:2},postModify:h}];for(let M=0;M<P.length;M++){const B=P[M],z=B.regex.exec(e);if(z){const K=z[B.indices.bucket];let R=z[B.indices.path];R||(R=""),r=new ls(K,R),B.postModify(r);break}}if(r==null)throw BU(e);return r}}class $U{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qU(t,e,n){let r=1,s=null,i=null,a=!1,u=0;function c(){return u===2}let h=!1;function p(..._){h||(h=!0,e.apply(null,_))}function g(_){s=setTimeout(()=>{s=null,t(E,c())},_)}function v(){i&&clearTimeout(i)}function E(_,...D){if(h){v();return}if(_){v(),p.call(null,_,...D);return}if(c()||a){v(),p.call(null,_,...D);return}r<64&&(r*=2);let P;u===1?(u=2,P=0):P=(r+Math.random())*1e3,g(P)}let I=!1;function T(_){I||(I=!0,v(),!h&&(s!==null?(_||(u=2),clearTimeout(s),g(0)):_||(u=1)))}return g(0),i=setTimeout(()=>{a=!0,T(!0)},n),T}function HU(t){t(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function KU(t){return t!==void 0}function cI(t,e,n,r){if(r<e)throw uI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw uI(`Invalid value for '${t}'. Expected ${n} or less.`)}function GU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Rg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Rg||(Rg={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function WU(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class QU{constructor(e,n,r,s,i,a,u,c,h,p,g,v=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,T)=>{this.resolve_=I,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new um(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=u=>{const c=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const u=i.getErrorCode()===Rg.NO_ERROR,c=i.getStatus();if(!u||WU(c,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===Rg.ABORT;r(!1,new um(!1,null,p));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new um(h,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());KU(c)?i(c):i()}catch(c){a(c)}else if(u!==null){const c=LU();c.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,c)):a(c)}else if(s.canceled){const c=this.appDelete_?bP():FU();a(c)}else{const c=VU();a(c)}};this.canceled_?n(!1,new um(!1,null,!0)):this.backoffId_=qU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class um{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function YU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function XU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ZU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function e8(t,e,n,r,s,i,a=!0,u=!1){const c=GU(t.urlParams),h=t.url+c,p=Object.assign({},t.headers);return JU(p,e),YU(p,n),XU(p,i),ZU(p,r),new QU(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,u)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function t8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function n8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jg{constructor(e,n){this._service=e,n instanceof ls?this._location=n:this._location=ls.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new jg(e,n)}get root(){const e=new ls(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return n8(this._location.path)}get storage(){return this._service}get parent(){const e=t8(this._location.path);if(e===null)return null;const n=new ls(this._location.bucket,e);return new jg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zU(e)}}function dI(t,e){const n=e==null?void 0:e[jU];return n==null?null:ls.makeFromBucketSpec(n,t)}function r8(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ml(e);s&&(dx(`https://${t.host}/b`),hx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:dN(i,t.app.options.projectId))}class s8{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=wP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MU,this._maxUploadRetryTime=OU,this._requests=new Set,s!=null?this._bucket=ls.makeFromBucketSpec(s,this._host):this._bucket=dI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ls.makeFromBucketSpec(this._url,e):this._bucket=dI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jg(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new $U(bP());{const a=e8(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const hI="@firebase/storage",fI="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xP="storage";function i8(t=ny(),e){t=Nt(t);const n=ua(t,xP).getImmediate({identifier:e}),r=lN("storage");return r&&o8(n,...r),n}function o8(t,e,n,r={}){r8(t,e,n,r)}function a8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new s8(n,r,s,e,Ll)}function l8(){us(new Kr(xP,a8,"PUBLIC").setMultipleInstances(!0)),ir(hI,fI,""),ir(hI,fI,"esm2020")}l8();const SP="@firebase/installations",b1="0.6.19";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const EP=1e4,kP=`w:${b1}`,TP="FIS_v2",u8="https://firebaseinstallations.googleapis.com/v1",c8=3600*1e3,d8="installations",h8="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const f8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Dl=new Ol(d8,h8,f8);function _P(t){return t instanceof Gr&&t.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function IP({projectId:t}){return`${u8}/projects/${t}/installations`}function CP(t){return{token:t.token,requestStatus:2,expiresIn:m8(t.expiresIn),creationTime:Date.now()}}async function NP(t,e){const n=(await e.json()).error;return Dl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function DP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function p8(t,{refreshToken:e}){const n=DP(t);return n.append("Authorization",g8(e)),n}async function AP(t){const e=await t();return e.status>=500&&e.status<600?t():e}function m8(t){return Number(t.replace("s","000"))}function g8(t){return`${TP} ${t}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function y8({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=IP(t),s=DP(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={fid:n,authVersion:TP,appId:t.appId,sdkVersion:kP},u={method:"POST",headers:s,body:JSON.stringify(a)},c=await AP(()=>fetch(r,u));if(c.ok){const h=await c.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:CP(h.authToken)}}else throw await NP("Create Installation",c)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function PP(t){return new Promise(e=>{setTimeout(e,t)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function v8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const w8=/^[cdef][\w-]{21}$/,fb="";function b8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=x8(t);return w8.test(e)?e:fb}catch{return fb}}function x8(t){return v8(t).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ly(t){return`${t.appName}!${t.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const RP=new Map;function jP(t,e){const n=Ly(t);MP(n,e),S8(n,e)}function MP(t,e){const n=RP.get(t);if(n)for(const r of n)r(e)}function S8(t,e){const n=E8();n&&n.postMessage({key:t,fid:e}),k8()}let ll=null;function E8(){return!ll&&"BroadcastChannel"in self&&(ll=new BroadcastChannel("[Firebase] FID Change"),ll.onmessage=t=>{MP(t.data.key,t.data.fid)}),ll}function k8(){RP.size===0&&ll&&(ll.close(),ll=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T8="firebase-installations-database",_8=1,Al="firebase-installations-store";let F0=null;function x1(){return F0||(F0=vN(T8,_8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Al)}}})),F0}async function Mg(t,e){const n=Ly(t),r=(await x1()).transaction(Al,"readwrite"),s=r.objectStore(Al),i=await s.get(n);return await s.put(e,n),await r.done,(!i||i.fid!==e.fid)&&jP(t,e.fid),e}async function OP(t){const e=Ly(t),n=(await x1()).transaction(Al,"readwrite");await n.objectStore(Al).delete(e),await n.done}async function Vy(t,e){const n=Ly(t),r=(await x1()).transaction(Al,"readwrite"),s=r.objectStore(Al),i=await s.get(n),a=e(i);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!i||i.fid!==a.fid)&&jP(t,a.fid),a}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function S1(t){let e;const n=await Vy(t.appConfig,r=>{const s=I8(r),i=C8(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===fb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function I8(t){const e=t||{fid:b8(),registrationStatus:0};return LP(e)}function C8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Dl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=N8(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:D8(t)}:{installationEntry:e}}async function N8(t,e){try{const n=await y8(t,e);return Mg(t.appConfig,n)}catch(n){throw _P(n)&&n.customData.serverCode===409?await OP(t.appConfig):await Mg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function D8(t){let e=await pI(t.appConfig);for(;e.registrationStatus===1;)await PP(100),e=await pI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await S1(t);return r||n}return e}function pI(t){return Vy(t,e=>{if(!e)throw Dl.create("installation-not-found");return LP(e)})}function LP(t){return A8(t)?{fid:t.fid,registrationStatus:0}:t}function A8(t){return t.registrationStatus===1&&t.registrationTime+EP<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function P8({appConfig:t,heartbeatServiceProvider:e},n){const r=R8(t,n),s=p8(t,n),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={installation:{sdkVersion:kP,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(a)},c=await AP(()=>fetch(r,u));if(c.ok){const h=await c.json();return CP(h)}else throw await NP("Generate Auth Token",c)}function R8(t,{fid:e}){return`${IP(t)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function E1(t,e=!1){let n;const r=await Vy(t.appConfig,s=>{if(!VP(s))throw Dl.create("not-registered");const i=s.authToken;if(!e&&O8(i))return s;if(i.requestStatus===1)return n=j8(t,e),s;{if(!navigator.onLine)throw Dl.create("app-offline");const a=V8(s);return n=M8(t,a),a}});return n?await n:r.authToken}async function j8(t,e){let n=await mI(t.appConfig);for(;n.authToken.requestStatus===1;)await PP(100),n=await mI(t.appConfig);const r=n.authToken;return r.requestStatus===0?E1(t,e):r}function mI(t){return Vy(t,e=>{if(!VP(e))throw Dl.create("not-registered");const n=e.authToken;return F8(n)?{...e,authToken:{requestStatus:0}}:e})}async function M8(t,e){try{const n=await P8(t,e),r={...e,authToken:n};return await Mg(t.appConfig,r),n}catch(n){if(_P(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await OP(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Mg(t.appConfig,r)}throw n}}function VP(t){return t!==void 0&&t.registrationStatus===2}function O8(t){return t.requestStatus===2&&!L8(t)}function L8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+c8}function V8(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function F8(t){return t.requestStatus===1&&t.requestTime+EP<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function B8(t){const e=t,{installationEntry:n,registrationPromise:r}=await S1(e);return r?r.catch(console.error):E1(e).catch(console.error),n.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function U8(t,e=!1){const n=t;return await z8(n),(await E1(n,e)).token}async function z8(t){const{registrationPromise:e}=await S1(t);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $8(t){if(!t||!t.options)throw B0("App Configuration");if(!t.name)throw B0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw B0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function B0(t){return Dl.create("missing-app-config-values",{valueName:t})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const FP="installations",q8="installations-internal",H8=t=>{const e=t.getProvider("app").getImmediate(),n=$8(e),r=ua(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},K8=t=>{const e=t.getProvider("app").getImmediate(),n=ua(e,FP).getImmediate();return{getId:()=>B8(n),getToken:r=>U8(n,r)}};function G8(){us(new Kr(FP,H8,"PUBLIC")),us(new Kr(q8,K8,"PRIVATE"))}G8();ir(SP,b1);ir(SP,b1,"esm2020");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Og="analytics",W8="firebase_id",Q8="origin",Y8=60*1e3,X8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",k1="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qn=new ty("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const J8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xr=new Ol("analytics","Analytics",J8);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Z8(t){if(!t.startsWith(k1)){const e=xr.create("invalid-gtag-resource",{gtagURL:t});return qn.warn(e.message),""}return t}function BP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function e7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function t7(t,e){const n=e7("firebase-js-sdk-policy",{createScriptURL:Z8}),r=document.createElement("script"),s=`${k1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function n7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function r7(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const u=(await BP(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(u){qn.error(u)}t("config",s,i)}async function s7(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const u=await BP(n);for(const c of a){const h=u.find(g=>g.measurementId===c),p=h&&e[h.appId];if(p)i.push(p);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){qn.error(i)}}function i7(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[u,c]=a;await s7(t,e,n,u,c)}else if(i==="config"){const[u,c]=a;await r7(t,e,n,r,u,c)}else if(i==="consent"){const[u,c]=a;t("consent",u,c)}else if(i==="get"){const[u,c,h]=a;t("get",u,c,h)}else if(i==="set"){const[u]=a;t("set",u)}else t(i,...a)}catch(u){qn.error(u)}}return s}function o7(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=i7(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function a7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(k1)&&n.src.includes(t))return n;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const l7=30,u7=1e3;class c7{constructor(e={},n=u7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const UP=new c7;function d7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function h7(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:d7(r)},i=X8.replace("{app-id}",n),a=await fetch(i,s);if(a.status!==200&&a.status!==304){let u="";try{const c=await a.json();(e=c.error)!=null&&e.message&&(u=c.error.message)}catch{}throw xr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function f7(t,e=UP,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw xr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw xr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new g7;return setTimeout(async()=>{u.abort()},Y8),zP({appId:r,apiKey:s,measurementId:i},a,u,e)}async function zP(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=UP){var i;const{appId:a,measurementId:u}=t;try{await p7(r,e)}catch(c){if(u)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:u};throw c}try{const c=await h7(t);return s.deleteThrottleMetadata(a),c}catch(c){const h=c;if(!m7(h)){if(s.deleteThrottleMetadata(a),u)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:a,measurementId:u};throw c}const p=Number((i=h==null?void 0:h.customData)==null?void 0:i.httpStatus)===503?hT(n,s.intervalMillis,l7):hT(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(a,g),qn.debug(`Calling attemptFetch again in ${p} millis`),zP(t,g,r,s)}}function p7(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(xr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function m7(t){if(!(t instanceof Gr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class g7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function y7(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a={...r,send_to:i};t("event",n,a)}}async function v7(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function w7(){if(ey())try{await px()}catch(t){return qn.warn(xr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return qn.warn(xr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function b7(t,e,n,r,s,i,a){const u=f7(t);u.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>qn.error(v)),e.push(u);const c=w7().then(v=>{if(v)return r.getId()}),[h,p]=await Promise.all([u,c]);a7(i)||t7(i,h.measurementId),s("js",new Date);const g=(a==null?void 0:a.config)??{};return g[Q8]="firebase",g.update=!0,p!=null&&(g[W8]=p),s("config",h.measurementId,g),h.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class x7{constructor(e){this.app=e}_delete(){return delete dc[this.app.options.appId],Promise.resolve()}}let dc={},gI=[];const yI={};let U0="dataLayer",S7="gtag",vI,T1,wI=!1;function E7(){const t=[];if(fx()&&t.push("This is a browser extension environment."),mN()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=xr.create("invalid-analytics-context",{errorInfo:e});qn.warn(n.message)}}function k7(t,e,n){E7();const r=t.options.appId;if(!r)throw xr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xr.create("no-api-key");if(dc[r]!=null)throw xr.create("already-exists",{id:r});if(!wI){n7(U0);const{wrappedGtag:s,gtagCore:i}=o7(dc,gI,yI,U0,S7);T1=s,vI=i,wI=!0}return dc[r]=b7(t,gI,yI,e,vI,U0,n),new x7(t)}function $P(t=ny()){t=Nt(t);const e=ua(t,Og);return e.isInitialized()?e.getImmediate():T7(t)}function T7(t,e={}){const n=ua(t,Og);if(n.isInitialized()){const r=n.getImmediate();if(Zo(e,n.getOptions()))return r;throw xr.create("already-initialized")}return n.initialize({options:e})}async function qP(){if(fx()||!mN()||!ey())return!1;try{return await px()}catch{return!1}}function _7(t,e,n){t=Nt(t),v7(T1,dc[t.app.options.appId],e,n).catch(r=>qn.error(r))}function HP(t,e,n,r){t=Nt(t),y7(T1,dc[t.app.options.appId],e,n,r).catch(s=>qn.error(s))}const bI="@firebase/analytics",xI="0.10.19";function I7(){us(new Kr(Og,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return k7(r,s,n)},"PUBLIC")),us(new Kr("analytics-internal",t,"PRIVATE")),ir(bI,xI),ir(bI,xI,"esm2020");function t(e){try{const n=e.getProvider(Og).getImmediate();return{logEvent:(r,s,i)=>HP(n,r,s,i),setUserProperties:(r,s)=>_7(n,r,s)}}catch(n){throw xr.create("interop-component-reg-failed",{reason:n})}}}I7();const C7={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},fs=wN(C7),z0=oy(fs),N7=_y(fs);i8(fs);try{SU(N7).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence: Not supported in this browser")})}catch(t){console.warn("Firestore persistence init failed:",t)}let KP=null;try{qP().then(t=>{t&&(KP=$P(fs))}).catch(()=>{})}catch{}const D7=KP;/**
* react-router v7.9.5
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var SI="popstate";function A7(t={}){function e(r,s){let{pathname:i,search:a,hash:u}=r.location;return pb("",{pathname:i,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Yh(s)}return R7(e,n,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ei(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P7(){return Math.random().toString(36).substring(2,10)}function EI(t,e){return{usr:t.state,key:t.key,idx:e}}function pb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vc(e):e,state:n,key:e&&e.key||r||P7()}}function Yh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function R7(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,u="POP",c=null,h=p();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function p(){return(a.state||{idx:null}).idx}function g(){u="POP";let _=p(),D=_==null?null:_-h;h=_,c&&c({action:u,location:T.location,delta:D})}function v(_,D){u="PUSH";let P=pb(T.location,_,D);h=p()+1;let M=EI(P,h),B=T.createHref(P);try{a.pushState(M,"",B)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(B)}i&&c&&c({action:u,location:T.location,delta:1})}function E(_,D){u="REPLACE";let P=pb(T.location,_,D);h=p();let M=EI(P,h),B=T.createHref(P);a.replaceState(M,"",B),i&&c&&c({action:u,location:T.location,delta:0})}function I(_){return j7(_)}let T={get action(){return u},get location(){return t(s,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(SI,g),c=_,()=>{s.removeEventListener(SI,g),c=null}},createHref(_){return e(s,_)},createURL:I,encodeLocation(_){let D=I(_);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:v,replace:E,go(_){return a.go(_)}};return T}function j7(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Yh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function GP(t,e,n="/"){return M7(t,e,n,!1)}function M7(t,e,n,r){let s=typeof e=="string"?Vc(e):e,i=Fi(s.pathname||"/",n);if(i==null)return null;let a=WP(t);O7(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let h=G7(i);u=H7(a[c],h,r)}return u}function WP(t,e=[],n=[],r="",s=!1){let i=(a,u,c=s,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&c)return;Ct(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=ji([r,p.relativePath]),v=n.concat(p);a.children&&a.children.length>0&&(Ct(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),WP(a.children,e,v,g,c)),!(a.path==null&&!a.index)&&e.push({path:g,score:$7(g,a.index),routesMeta:v})};return t.forEach((a,u)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,u);else for(let h of QP(a.path))i(a,u,!0,h)}),e}function QP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=QP(r.join("/")),u=[];return u.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function O7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:q7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var L7=/^:[\w-]+$/,V7=3,F7=2,B7=1,U7=10,z7=-2,kI=t=>t==="*";function $7(t,e){let n=t.split("/"),r=n.length;return n.some(kI)&&(r+=z7),e&&(r+=F7),n.filter(s=>!kI(s)).reduce((s,i)=>s+(L7.test(i)?V7:i===""?B7:U7),r)}function q7(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function H7(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=Lg({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),v=c.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Lg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:ji([i,g.pathname]),pathnameBase:X7(ji([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=ji([i,g.pathnameBase]))}return a}function Lg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=K7(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:p},g)=>{if(h==="*"){let E=u[g]||"";a=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const v=u[g];return p&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function K7(t,e=!1,n=!0){ei(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function G7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ei(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Fi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function W7(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Vc(t):t;return{pathname:n?n.startsWith("/")?n:Q7(n,e):e,search:J7(r),hash:Z7(s)}}function Q7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function $0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Y7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function YP(t){let e=Y7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function XP(t,e,n,r=!1){let s;typeof t=="string"?s=Vc(t):(s={...t},Ct(!s.pathname||!s.pathname.includes("?"),$0("?","pathname","search",s)),Ct(!s.pathname||!s.pathname.includes("#"),$0("#","pathname","hash",s)),Ct(!s.search||!s.search.includes("#"),$0("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,u;if(a==null)u=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?e[g]:"/"}let c=W7(s,u),h=a&&a!=="/"&&a.endsWith("/"),p=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}var ji=t=>t.join("/").replace(/\/\/+/g,"/"),X7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),J7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Z7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ez(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JP=["POST","PUT","PATCH","DELETE"];new Set(JP);var tz=["GET",...JP];new Set(tz);var Fc=S.createContext(null);Fc.displayName="DataRouter";var Fy=S.createContext(null);Fy.displayName="DataRouterState";S.createContext(!1);var ZP=S.createContext({isTransitioning:!1});ZP.displayName="ViewTransition";var nz=S.createContext(new Map);nz.displayName="Fetchers";var rz=S.createContext(null);rz.displayName="Await";var si=S.createContext(null);si.displayName="Navigation";var _f=S.createContext(null);_f.displayName="Location";var Qi=S.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var _1=S.createContext(null);_1.displayName="RouteError";function sz(t,{relative:e}={}){Ct(If(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(si),{hash:s,pathname:i,search:a}=Cf(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:ji([n,i])),r.createHref({pathname:u,search:a,hash:s})}function If(){return S.useContext(_f)!=null}function Yi(){return Ct(If(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(_f).location}var eR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tR(t){S.useContext(si).static||S.useLayoutEffect(t)}function I1(){let{isDataRoute:t}=S.useContext(Qi);return t?yz():iz()}function iz(){Ct(If(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Fc),{basename:e,navigator:n}=S.useContext(si),{matches:r}=S.useContext(Qi),{pathname:s}=Yi(),i=JSON.stringify(YP(r)),a=S.useRef(!1);return tR(()=>{a.current=!0}),S.useCallback((u,c={})=>{if(ei(a.current,eR),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=XP(u,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ji([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,i,s,t])}S.createContext(null);function Cf(t,{relative:e}={}){let{matches:n}=S.useContext(Qi),{pathname:r}=Yi(),s=JSON.stringify(YP(n));return S.useMemo(()=>XP(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function oz(t,e){return nR(t,e)}function nR(t,e,n,r,s){var i;Ct(If(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(si),{matches:u}=S.useContext(Qi),c=u[u.length-1],h=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let M=v&&v.path||"";rR(p,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let E=Yi(),I;if(e){let M=typeof e=="string"?Vc(e):e;Ct(g==="/"||((i=M.pathname)==null?void 0:i.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),I=M}else I=E;let T=I.pathname||"/",_=T;if(g!=="/"){let M=g.replace(/^\//,"").split("/");_="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let D=GP(t,{pathname:_});ei(v||D!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),ei(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=dz(D&&D.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:ji([g,a.encodeLocation?a.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:ji([g,a.encodeLocation?a.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),u,n,r,s);return e&&P?S.createElement(_f.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},P):P}function az(){let t=gz(),e=ez(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,a)}var lz=S.createElement(az,null),uz=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(Qi.Provider,{value:this.props.routeContext},S.createElement(_1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cz({routeContext:t,match:e,children:n}){let r=S.useContext(Fc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Qi.Provider,{value:t},n)}function dz(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let h=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:v}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let v,E=!1,I=null,T=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||lz,u&&(c<0&&g===0?(rR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,T=null):c===g&&(E=!0,T=p.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,g+1)),D=()=>{let P;return v?P=I:E?P=T:p.route.Component?P=S.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=h,S.createElement(cz,{match:p,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:P})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?S.createElement(uz,{location:n.location,revalidation:n.revalidation,component:I,error:v,children:D(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):D()},null)}function C1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hz(t){let e=S.useContext(Fc);return Ct(e,C1(t)),e}function fz(t){let e=S.useContext(Fy);return Ct(e,C1(t)),e}function pz(t){let e=S.useContext(Qi);return Ct(e,C1(t)),e}function N1(t){let e=pz(t),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function mz(){return N1("useRouteId")}function gz(){var t;let e=S.useContext(_1),n=fz("useRouteError"),r=N1("useRouteError");return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function yz(){let{router:t}=hz("useNavigate"),e=N1("useNavigate"),n=S.useRef(!1);return tR(()=>{n.current=!0}),S.useCallback(async(r,s={})=>{ei(n.current,eR),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var TI={};function rR(t,e,n){!e&&!TI[t]&&(TI[t]=!0,ei(!1,n))}S.memo(vz);function vz({routes:t,future:e,state:n,unstable_onError:r}){return nR(t,void 0,n,r,e)}function Pt(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wz({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Ct(!If(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=Vc(n));let{pathname:c="/",search:h="",hash:p="",state:g=null,key:v="default"}=n,E=S.useMemo(()=>{let I=Fi(c,a);return I==null?null:{location:{pathname:I,search:h,hash:p,state:g,key:v},navigationType:r}},[a,c,h,p,g,v,r]);return ei(E!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:S.createElement(si.Provider,{value:u},S.createElement(_f.Provider,{children:e,value:E}))}function bz({children:t,location:e}){return oz(mb(t),e)}function mb(t,e=[]){let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,mb(r.props.children,i));return}Ct(r.type===Pt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=mb(r.props.children,i)),n.push(a)}),n}var Hm="get",Km="application/x-www-form-urlencoded";function By(t){return t!=null&&typeof t.tagName=="string"}function xz(t){return By(t)&&t.tagName.toLowerCase()==="button"}function Sz(t){return By(t)&&t.tagName.toLowerCase()==="form"}function Ez(t){return By(t)&&t.tagName.toLowerCase()==="input"}function kz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Tz(t,e){return t.button===0&&(!e||e==="_self")&&!kz(t)}var cm=null;function _z(){if(cm===null)try{new FormData(document.createElement("form"),0),cm=!1}catch{cm=!0}return cm}var Iz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function q0(t){return t!=null&&!Iz.has(t)?(ei(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Km}"`),null):t}function Cz(t,e){let n,r,s,i,a;if(Sz(t)){let u=t.getAttribute("action");r=u?Fi(u,e):null,n=t.getAttribute("method")||Hm,s=q0(t.getAttribute("enctype"))||Km,i=new FormData(t)}else if(xz(t)||Ez(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Fi(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Hm,s=q0(t.getAttribute("formenctype"))||q0(u.getAttribute("enctype"))||Km,i=new FormData(u,t),!_z()){let{name:h,type:p,value:g}=t;if(p==="image"){let v=h?`${h}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else h&&i.append(h,g)}}else{if(By(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hm,r=null,s=Km,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function D1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nz(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Fi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Dz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Az(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Pz(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await Dz(i,n);return a.links?a.links():[]}return[]}));return Oz(r.flat(1).filter(Az).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _I(t,e,n,r,s,i){let a=(c,h)=>n[h]?c.route.id!==n[h].route.id:!0,u=(c,h)=>{var p;return n[h].pathname!==c.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,h)=>a(c,h)||u(c,h)):i==="data"?e.filter((c,h)=>{var p;let g=r.routes[c.route.id];if(!g||!g.hasLoader)return!1;if(a(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Rz(t,e,{includeHydrateFallback:n}={}){return jz(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function jz(t){return[...new Set(t)]}function Mz(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Oz(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Mz(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function sR(){let t=S.useContext(Fc);return D1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Lz(){let t=S.useContext(Fy);return D1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var A1=S.createContext(void 0);A1.displayName="FrameworkContext";function iR(){let t=S.useContext(A1);return D1(t,"You must render this element inside a <HydratedRouter> element"),t}function Vz(t,e){let n=S.useContext(A1),[r,s]=S.useState(!1),[i,a]=S.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,v=S.useRef(null);S.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let T=D=>{D.forEach(P=>{a(P.isIntersecting)})},_=new IntersectionObserver(T,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[t]),S.useEffect(()=>{if(r){let T=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(T)}}},[r]);let E=()=>{s(!0)},I=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Hd(u,E),onBlur:Hd(c,I),onMouseEnter:Hd(h,E),onMouseLeave:Hd(p,I),onTouchStart:Hd(g,E)}]:[!1,v,{}]}function Hd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Fz({page:t,...e}){let{router:n}=sR(),r=S.useMemo(()=>GP(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(Uz,{page:t,matches:r,...e}):null}function Bz(t){let{manifest:e,routeModules:n}=iR(),[r,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return Pz(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function Uz({page:t,matches:e,...n}){let r=Yi(),{manifest:s,routeModules:i}=iR(),{basename:a}=sR(),{loaderData:u,matches:c}=Lz(),h=S.useMemo(()=>_I(t,e,c,s,r,"data"),[t,e,c,s,r]),p=S.useMemo(()=>_I(t,e,c,s,r,"assets"),[t,e,c,s,r]),g=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,T=!1;if(e.forEach(D=>{var P;let M=s.routes[D.route.id];!M||!M.hasLoader||(!h.some(B=>B.route.id===D.route.id)&&D.route.id in u&&(P=i[D.route.id])!=null&&P.shouldRevalidate||M.hasClientLoader?T=!0:I.add(D.route.id))}),I.size===0)return[];let _=Nz(t,a,"data");return T&&I.size>0&&_.searchParams.set("_routes",e.filter(D=>I.has(D.route.id)).map(D=>D.route.id).join(",")),[_.pathname+_.search]},[a,u,r,s,h,e,t,i]),v=S.useMemo(()=>Rz(p,s),[p,s]),E=Bz(p);return S.createElement(S.Fragment,null,g.map(I=>S.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),v.map(I=>S.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),E.map(({key:I,link:T})=>S.createElement("link",{key:I,nonce:n.nonce,...T})))}function zz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var oR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oR&&(window.__reactRouterVersion="7.9.5")}catch{}function $z({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=A7({window:n,v5Compat:!0}));let s=r.current,[i,a]=S.useState({action:s.action,location:s.location}),u=S.useCallback(c=>{S.startTransition(()=>a(c))},[a]);return S.useLayoutEffect(()=>s.listen(u),[s,u]),S.createElement(wz,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var aR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=S.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:s,replace:i,state:a,target:u,to:c,preventScrollReset:h,viewTransition:p,...g},v){let{basename:E}=S.useContext(si),I=typeof c=="string"&&aR.test(c),T,_=!1;if(typeof c=="string"&&I&&(T=c,oR))try{let C=new URL(window.location.href),A=c.startsWith("//")?new URL(C.protocol+c):new URL(c),O=Fi(A.pathname,E);A.origin===C.origin&&O!=null?c=O+A.search+A.hash:_=!0}catch{ei(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=sz(c,{relative:r}),[P,M,B]=Vz(n,g),z=Gz(c,{replace:i,state:a,target:u,preventScrollReset:h,relative:r,viewTransition:p});function K(C){t&&t(C),C.defaultPrevented||z(C)}let R=S.createElement("a",{...g,...B,href:T||D,onClick:_||s?t:K,ref:zz(v,M),target:u,"data-discover":!I&&e==="render"?"true":void 0});return P&&!I?S.createElement(S.Fragment,null,R,S.createElement(Fz,{page:D})):R});ft.displayName="Link";var qz=S.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:s,to:i,viewTransition:a,children:u,...c},h){let p=Cf(i,{relative:c.relative}),g=Yi(),v=S.useContext(Fy),{navigator:E,basename:I}=S.useContext(si),T=v!=null&&Jz(p)&&a===!0,_=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,D=g.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(D=D.toLowerCase(),P=P?P.toLowerCase():null,_=_.toLowerCase()),P&&I&&(P=Fi(P,I)||P);const M=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let B=D===_||!r&&D.startsWith(_)&&D.charAt(M)==="/",z=P!=null&&(P===_||!r&&P.startsWith(_)&&P.charAt(_.length)==="/"),K={isActive:B,isPending:z,isTransitioning:T},R=B?t:void 0,C;typeof n=="function"?C=n(K):C=[n,B?"active":null,z?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let A=typeof s=="function"?s(K):s;return S.createElement(ft,{...c,"aria-current":R,className:C,ref:h,style:A,to:i,viewTransition:a},typeof u=="function"?u(K):u)});qz.displayName="NavLink";var Hz=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Hm,action:u,onSubmit:c,relative:h,preventScrollReset:p,viewTransition:g,...v},E)=>{let I=Yz(),T=Xz(u,{relative:h}),_=a.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&aR.test(u),P=M=>{if(c&&c(M),M.defaultPrevented)return;M.preventDefault();let B=M.nativeEvent.submitter,z=(B==null?void 0:B.getAttribute("formmethod"))||a;I(B||M.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:s,state:i,relative:h,preventScrollReset:p,viewTransition:g})};return S.createElement("form",{ref:E,method:_,action:T,onSubmit:r?c:P,...v,"data-discover":!D&&t==="render"?"true":void 0})});Hz.displayName="Form";function Kz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lR(t){let e=S.useContext(Fc);return Ct(e,Kz(t)),e}function Gz(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let u=I1(),c=Yi(),h=Cf(t,{relative:i});return S.useCallback(p=>{if(Tz(p,e)){p.preventDefault();let g=n!==void 0?n:Yh(c)===Yh(h);u(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[c,u,h,n,r,e,t,s,i,a])}var Wz=0,Qz=()=>`__${String(++Wz)}__`;function Yz(){let{router:t}=lR("useSubmit"),{basename:e}=S.useContext(si),n=mz();return S.useCallback(async(r,s={})=>{let{action:i,method:a,encType:u,formData:c,body:h}=Cz(r,e);if(s.navigate===!1){let p=s.fetcherKey||Qz();await t.fetch(p,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||a,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||a,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Xz(t,{relative:e}={}){let{basename:n}=S.useContext(si),r=S.useContext(Qi);Ct(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Cf(t||".",{relative:e})},a=Yi();if(t==null){i.search=a.search;let u=new URLSearchParams(i.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:ji([n,i.pathname])),Yh(i)}function Jz(t,{relative:e}={}){let n=S.useContext(ZP);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=lR("useViewTransitionState"),s=Cf(t,{relative:e});if(!n.isTransitioning)return!1;let i=Fi(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Fi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lg(s.pathname,a)!=null||Lg(s.pathname,i)!=null}var P1=nN();const Zz=lx(P1);function nt(t){if(!t)return"/";const[e,n]=t.split("?"),r="/"+e.replace(/\s+/g,"");return n?`${r}?${n}`:r}var Nf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},e$={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},za,II,CI,t$=(CI=class{constructor(){je(this,za,e$),je(this,II,!1)}setTimeoutProvider(t){ge(this,za,t)}setTimeout(t,e){return q(this,za).setTimeout(t,e)}clearTimeout(t){q(this,za).clearTimeout(t)}setInterval(t,e){return q(this,za).setInterval(t,e)}clearInterval(t){q(this,za).clearInterval(t)}},za=new WeakMap,II=new WeakMap,CI),ul=new t$;function n$(t){setTimeout(t,0)}var Pl=typeof window>"u"||"Deno"in globalThis;function nr(){}function r$(t,e){return typeof t=="function"?t(e):t}function gb(t){return typeof t=="number"&&t>=0&&t!==1/0}function uR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Jo(t,e){return typeof t=="function"?t(e):t}function Vr(t,e){return typeof t=="function"?t(e):t}function NI(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:u}=t;if(a){if(r){if(e.queryHash!==R1(a,e.options))return!1}else if(!Jh(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||i&&!i(e))}function DI(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Xh(e.options.mutationKey)!==Xh(i))return!1}else if(!Jh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function R1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Xh)(t)}function Xh(t){return JSON.stringify(t,(e,n)=>vb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Jh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Jh(t[n],e[n])):!1}var s$=Object.prototype.hasOwnProperty;function cR(t,e){if(t===e)return t;const n=AI(t)&&AI(e);if(!n&&!(vb(t)&&vb(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),i=s.length,a=n?new Array(i):{};let u=0;for(let c=0;c<i;c++){const h=n?c:s[c],p=t[h],g=e[h];if(p===g){a[h]=p,(n?c<r:s$.call(t,h))&&u++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){a[h]=g;continue}const v=cR(p,g);a[h]=v,v===p&&u++}return r===i&&u===r?t:a}function yb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function AI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function vb(t){if(!PI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!PI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function PI(t){return Object.prototype.toString.call(t)==="[object Object]"}function i$(t){return new Promise(e=>{ul.setTimeout(e,t)})}function wb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?cR(t,e):e}function o$(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function a$(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var j1=Symbol();function dR(t,e){return!t.queryFn&&e!=null&&e.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===j1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function l$(t,e){return typeof t=="function"?t(...e):!!t}var Ou,$a,Kd,RI,u$=(RI=class extends Nf{constructor(){super(),je(this,Ou),je(this,$a),je(this,Kd),ge(this,Kd,t=>{if(!Pl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){q(this,$a)||this.setEventListener(q(this,Kd))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,$a))==null||t.call(this),ge(this,$a,void 0))}setEventListener(t){var e;ge(this,Kd,t),(e=q(this,$a))==null||e.call(this),ge(this,$a,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){q(this,Ou)!==t&&(ge(this,Ou,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof q(this,Ou)=="boolean"?q(this,Ou):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ou=new WeakMap,$a=new WeakMap,Kd=new WeakMap,RI),M1=new u$;function bb(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var c$=n$;function d$(){let t=[],e=0,n=u=>{u()},r=u=>{u()},s=c$;const i=u=>{e?t.push(u):s(()=>{n(u)})},a=()=>{const u=t;t=[],u.length&&s(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;e++;try{c=u()}finally{e--,e||a()}return c},batchCalls:u=>(...c)=>{i(()=>{u(...c)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var kn=d$(),Gd,qa,Wd,jI,h$=(jI=class extends Nf{constructor(){super(),je(this,Gd,!0),je(this,qa),je(this,Wd),ge(this,Wd,t=>{if(!Pl&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){q(this,qa)||this.setEventListener(q(this,Wd))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,qa))==null||t.call(this),ge(this,qa,void 0))}setEventListener(t){var e;ge(this,Wd,t),(e=q(this,qa))==null||e.call(this),ge(this,qa,t(this.setOnline.bind(this)))}setOnline(t){q(this,Gd)!==t&&(ge(this,Gd,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return q(this,Gd)}},Gd=new WeakMap,qa=new WeakMap,Wd=new WeakMap,jI),Vg=new h$;function f$(t){return Math.min(1e3*2**t,3e4)}function hR(t){return(t??"online")==="online"?Vg.isOnline():!0}var xb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function fR(t){let e=!1,n=0,r;const s=bb(),i=()=>s.status!=="pending",a=T=>{var _;if(!i()){const D=new xb(T);v(D),(_=t.onCancel)==null||_.call(t,D)}},u=()=>{e=!0},c=()=>{e=!1},h=()=>M1.isFocused()&&(t.networkMode==="always"||Vg.isOnline())&&t.canRun(),p=()=>hR(t.networkMode)&&t.canRun(),g=T=>{i()||(r==null||r(),s.resolve(T))},v=T=>{i()||(r==null||r(),s.reject(T))},E=()=>new Promise(T=>{var _;r=D=>{(i()||h())&&T(D)},(_=t.onPause)==null||_.call(t)}).then(()=>{var T;r=void 0,i()||(T=t.onContinue)==null||T.call(t)}),I=()=>{if(i())return;let T;const _=n===0?t.initialPromise:void 0;try{T=_??t.fn()}catch(D){T=Promise.reject(D)}Promise.resolve(T).then(g).catch(D=>{var P;if(i())return;const M=t.retry??(Pl?0:3),B=t.retryDelay??f$,z=typeof B=="function"?B(n,D):B,K=M===!0||typeof M=="number"&&n<M||typeof M=="function"&&M(n,D);if(e||!K){v(D);return}n++,(P=t.onFail)==null||P.call(t,n,D),i$(z).then(()=>h()?void 0:E()).then(()=>{e?v(D):I()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:c,canStart:p,start:()=>(p()?I():E().then(I),s)}}var Lu,MI,pR=(MI=class{constructor(){je(this,Lu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gb(this.gcTime)&&ge(this,Lu,ul.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Pl?1/0:300*1e3))}clearGcTimeout(){q(this,Lu)&&(ul.clearTimeout(q(this,Lu)),ge(this,Lu,void 0))}},Lu=new WeakMap,MI),Vu,Qd,ss,Fu,bn,dm,Bu,Ms,ki,OI,p$=(OI=class extends pR{constructor(t){super(),je(this,Ms),je(this,Vu),je(this,Qd),je(this,ss),je(this,Fu),je(this,bn),je(this,dm),je(this,Bu),ge(this,Bu,!1),ge(this,dm,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,Fu,t.client),ge(this,ss,q(this,Fu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,Vu,VI(this.options)),this.state=t.state??q(this,Vu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,bn))==null?void 0:t.promise}setOptions(t){if(this.options={...q(this,dm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=VI(this.options);e.data!==void 0&&(this.setState(LI(e.data,e.dataUpdatedAt)),ge(this,Vu,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,ss).remove(this)}setData(t,e){const n=wb(this.state.data,t,this.options);return Ze(this,Ms,ki).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){Ze(this,Ms,ki).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var e,n;const r=(e=q(this,bn))==null?void 0:e.promise;return(n=q(this,bn))==null||n.cancel(t),r?r.then(nr).catch(nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,Vu))}isActive(){return this.observers.some(t=>Vr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===j1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Jo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!uR(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=q(this,bn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=q(this,bn))==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,ss).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(q(this,bn)&&(q(this,Bu)?q(this,bn).cancel({revert:!0}):q(this,bn).cancelRetry()),this.scheduleGc()),q(this,ss).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Ms,ki).call(this,{type:"invalidate"})}async fetch(t,e){var n,r,s,i,a,u,c,h,p,g,v,E;if(this.state.fetchStatus!=="idle"&&((n=q(this,bn))==null?void 0:n.status())!=="rejected"){if(this.state.data!==void 0&&e!=null&&e.cancelRefetch)this.cancel({silent:!0});else if(q(this,bn))return q(this,bn).continueRetry(),q(this,bn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const P=this.observers.find(M=>M.options.queryFn);P&&this.setOptions(P.options)}const I=new AbortController,T=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(ge(this,Bu,!0),I.signal)})},_=()=>{const P=dR(this.options,e),M=(()=>{const B={client:q(this,Fu),queryKey:this.queryKey,meta:this.meta};return T(B),B})();return ge(this,Bu,!1),this.options.persister?this.options.persister(P,M,this):P(M)},D=(()=>{const P={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:q(this,Fu),state:this.state,fetchFn:_};return T(P),P})();(r=this.options.behavior)==null||r.onFetch(D,this),ge(this,Qd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=D.fetchOptions)==null?void 0:s.meta))&&Ze(this,Ms,ki).call(this,{type:"fetch",meta:(i=D.fetchOptions)==null?void 0:i.meta}),ge(this,bn,fR({initialPromise:e==null?void 0:e.initialPromise,fn:D.fetchFn,onCancel:P=>{P instanceof xb&&P.revert&&this.setState({...q(this,Qd),fetchStatus:"idle"}),I.abort()},onFail:(P,M)=>{Ze(this,Ms,ki).call(this,{type:"failed",failureCount:P,error:M})},onPause:()=>{Ze(this,Ms,ki).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Ms,ki).call(this,{type:"continue"})},retry:D.options.retry,retryDelay:D.options.retryDelay,networkMode:D.options.networkMode,canRun:()=>!0}));try{const P=await q(this,bn).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(u=(a=q(this,ss).config).onSuccess)==null||u.call(a,P,this),(h=(c=q(this,ss).config).onSettled)==null||h.call(c,P,this.state.error,this),P}catch(P){if(P instanceof xb){if(P.silent)return q(this,bn).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw Ze(this,Ms,ki).call(this,{type:"error",error:P}),(g=(p=q(this,ss).config).onError)==null||g.call(p,P,this),(E=(v=q(this,ss).config).onSettled)==null||E.call(v,this.state.data,P,this),P}finally{this.scheduleGc()}}},Vu=new WeakMap,Qd=new WeakMap,ss=new WeakMap,Fu=new WeakMap,bn=new WeakMap,dm=new WeakMap,Bu=new WeakMap,Ms=new WeakSet,ki=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...mR(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...LI(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,Qd,t.manual?r:void 0),r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),kn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),q(this,ss).notify({query:this,type:"updated",action:t})})},OI);function mR(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function LI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function VI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var gr,Je,hm,er,Uu,Yd,jo,Ha,fm,Xd,Jd,zu,$u,Ka,Zd,Wt,eh,H0,K0,G0,W0,Q0,Y0,X0,FI,BI,m$=(BI=class extends Nf{constructor(t,e){super(),je(this,Wt),je(this,gr),je(this,Je),je(this,hm),je(this,er),je(this,Uu),je(this,Yd),je(this,jo),je(this,Ha),je(this,fm),je(this,Xd),je(this,Jd),je(this,zu),je(this,$u),je(this,Ka),je(this,Zd,new Set),this.options=e,ge(this,gr,t),ge(this,Ha,null),ge(this,jo,bb()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,Je).addObserver(this),UI(q(this,Je),this.options)?Ze(this,Wt,eh).call(this):this.updateResult(),Ze(this,Wt,W0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Sb(q(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Sb(q(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,Wt,Q0).call(this),Ze(this,Wt,Y0).call(this),q(this,Je).removeObserver(this)}setOptions(t){const e=this.options,n=q(this,Je);if(this.options=q(this,gr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vr(this.options.enabled,q(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,Wt,X0).call(this),q(this,Je).setOptions(this.options),e._defaulted&&!yb(this.options,e)&&q(this,gr).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,Je),observer:this});const r=this.hasListeners();r&&zI(q(this,Je),n,this.options,e)&&Ze(this,Wt,eh).call(this),this.updateResult(),r&&(q(this,Je)!==n||Vr(this.options.enabled,q(this,Je))!==Vr(e.enabled,q(this,Je))||Jo(this.options.staleTime,q(this,Je))!==Jo(e.staleTime,q(this,Je)))&&Ze(this,Wt,H0).call(this);const s=Ze(this,Wt,K0).call(this);r&&(q(this,Je)!==n||Vr(this.options.enabled,q(this,Je))!==Vr(e.enabled,q(this,Je))||s!==q(this,Ka))&&Ze(this,Wt,G0).call(this,s)}getOptimisticResult(t){const e=q(this,gr).getQueryCache().build(q(this,gr),t),n=this.createResult(e,t);return y$(this,n)&&(ge(this,er,n),ge(this,Yd,this.options),ge(this,Uu,q(this,Je).state)),n}getCurrentResult(){return q(this,er)}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e==null||e(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&q(this,jo).status==="pending"&&q(this,jo).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){q(this,Zd).add(t)}getCurrentQuery(){return q(this,Je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=q(this,gr).defaultQueryOptions(t),n=q(this,gr).getQueryCache().build(q(this,gr),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return Ze(this,Wt,eh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,er)))}createResult(t,e){var n;const r=q(this,Je),s=this.options,i=q(this,er),a=q(this,Uu),u=q(this,Yd),c=t!==r?t.state:q(this,hm),{state:h}=t;let p={...h},g=!1,v;if(e._optimisticResults){const R=this.hasListeners(),C=!R&&UI(t,e),A=R&&zI(t,r,e,s);(C||A)&&(p={...p,...mR(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:E,errorUpdatedAt:I,status:T}=p;v=p.data;let _=!1;if(e.placeholderData!==void 0&&v===void 0&&T==="pending"){let R;i!=null&&i.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData)?(R=i.data,_=!0):R=typeof e.placeholderData=="function"?e.placeholderData((n=q(this,Jd))==null?void 0:n.state.data,q(this,Jd)):e.placeholderData,R!==void 0&&(T="success",v=wb(i==null?void 0:i.data,R,e),g=!0)}if(e.select&&v!==void 0&&!_)if(i&&v===(a==null?void 0:a.data)&&e.select===q(this,fm))v=q(this,Xd);else try{ge(this,fm,e.select),v=e.select(v),v=wb(i==null?void 0:i.data,v,e),ge(this,Xd,v),ge(this,Ha,null)}catch(R){ge(this,Ha,R)}q(this,Ha)&&(E=q(this,Ha),v=q(this,Xd),I=Date.now(),T="error");const D=p.fetchStatus==="fetching",P=T==="pending",M=T==="error",B=P&&D,z=v!==void 0,K={status:T,fetchStatus:p.fetchStatus,isPending:P,isSuccess:T==="success",isError:M,isInitialLoading:B,isLoading:B,data:v,dataUpdatedAt:p.dataUpdatedAt,error:E,errorUpdatedAt:I,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:D,isRefetching:D&&!P,isLoadingError:M&&!z,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:M&&z,isStale:O1(t,e),refetch:this.refetch,promise:q(this,jo),isEnabled:Vr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=O=>{K.status==="error"?O.reject(K.error):K.data!==void 0&&O.resolve(K.data)},C=()=>{const O=ge(this,jo,K.promise=bb());R(O)},A=q(this,jo);switch(A.status){case"pending":t.queryHash===r.queryHash&&R(A);break;case"fulfilled":(K.status==="error"||K.data!==A.value)&&C();break;case"rejected":(K.status!=="error"||K.error!==A.reason)&&C();break}}return K}updateResult(){const t=q(this,er),e=this.createResult(q(this,Je),this.options);if(ge(this,Uu,q(this,Je).state),ge(this,Yd,this.options),q(this,Uu).data!==void 0&&ge(this,Jd,q(this,Je)),yb(e,t))return;ge(this,er,e);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!q(this,Zd).size)return!0;const i=new Set(s??q(this,Zd));return this.options.throwOnError&&i.add("error"),Object.keys(q(this,er)).some(a=>{const u=a;return q(this,er)[u]!==t[u]&&i.has(u)})};Ze(this,Wt,FI).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,Wt,W0).call(this)}},gr=new WeakMap,Je=new WeakMap,hm=new WeakMap,er=new WeakMap,Uu=new WeakMap,Yd=new WeakMap,jo=new WeakMap,Ha=new WeakMap,fm=new WeakMap,Xd=new WeakMap,Jd=new WeakMap,zu=new WeakMap,$u=new WeakMap,Ka=new WeakMap,Zd=new WeakMap,Wt=new WeakSet,eh=function(t){Ze(this,Wt,X0).call(this);let e=q(this,Je).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(nr)),e},H0=function(){Ze(this,Wt,Q0).call(this);const t=Jo(this.options.staleTime,q(this,Je));if(Pl||q(this,er).isStale||!gb(t))return;const e=uR(q(this,er).dataUpdatedAt,t)+1;ge(this,zu,ul.setTimeout(()=>{q(this,er).isStale||this.updateResult()},e))},K0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,Je)):this.options.refetchInterval)??!1},G0=function(t){Ze(this,Wt,Y0).call(this),ge(this,Ka,t),!(Pl||Vr(this.options.enabled,q(this,Je))===!1||!gb(q(this,Ka))||q(this,Ka)===0)&&ge(this,$u,ul.setInterval(()=>{(this.options.refetchIntervalInBackground||M1.isFocused())&&Ze(this,Wt,eh).call(this)},q(this,Ka)))},W0=function(){Ze(this,Wt,H0).call(this),Ze(this,Wt,G0).call(this,Ze(this,Wt,K0).call(this))},Q0=function(){q(this,zu)&&(ul.clearTimeout(q(this,zu)),ge(this,zu,void 0))},Y0=function(){q(this,$u)&&(ul.clearInterval(q(this,$u)),ge(this,$u,void 0))},X0=function(){const t=q(this,gr).getQueryCache().build(q(this,gr),this.options);if(t===q(this,Je))return;const e=q(this,Je);ge(this,Je,t),ge(this,hm,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},FI=function(t){kn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(q(this,er))}),q(this,gr).getQueryCache().notify({query:q(this,Je),type:"observerResultsUpdated"})})},BI);function g$(t,e){return Vr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function UI(t,e){return g$(t,e)||t.state.data!==void 0&&Sb(t,e,e.refetchOnMount)}function Sb(t,e,n){if(Vr(e.enabled,t)!==!1&&Jo(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&O1(t,e)}return!1}function zI(t,e,n,r){return(t!==e||Vr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&O1(t,n)}function O1(t,e){return Vr(e.enabled,t)!==!1&&t.isStaleByTime(Jo(e.staleTime,t))}function y$(t,e){return!yb(t.getCurrentResult(),e)}function $I(t){return{onFetch:(e,n)=>{var r,s,i,a,u;const c=e.options,h=(i=(s=(r=e.fetchOptions)==null?void 0:r.meta)==null?void 0:s.fetchMore)==null?void 0:i.direction,p=((a=e.state.data)==null?void 0:a.pages)||[],g=((u=e.state.data)==null?void 0:u.pageParams)||[];let v={pages:[],pageParams:[]},E=0;const I=async()=>{let T=!1;const _=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?T=!0:e.signal.addEventListener("abort",()=>{T=!0}),e.signal)})},D=dR(e.options,e.fetchOptions),P=async(M,B,z)=>{if(T)return Promise.reject();if(B==null&&M.pages.length)return Promise.resolve(M);const K=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:B,direction:z?"backward":"forward",meta:e.options.meta};return _(O),O})(),R=await D(K),{maxPages:C}=e.options,A=z?a$:o$;return{pages:A(M.pages,R,C),pageParams:A(M.pageParams,B,C)}};if(h&&p.length){const M=h==="backward",B=M?v$:qI,z={pages:p,pageParams:g},K=B(c,z);v=await P(z,K,M)}else{const M=t??p.length;do{const B=E===0?g[0]??c.initialPageParam:qI(c,v);if(E>0&&B==null)break;v=await P(v,B),E++}while(E<M)}return v};e.options.persister?e.fetchFn=()=>{var T,_;return(_=(T=e.options).persister)==null?void 0:_.call(T,I,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=I}}}function qI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function v$(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var pm,Ti,tr,qu,_i,Mo,HI,w$=(HI=class extends pR{constructor(t){super(),je(this,_i),je(this,pm),je(this,Ti),je(this,tr),je(this,qu),ge(this,pm,t.client),this.mutationId=t.mutationId,ge(this,tr,t.mutationCache),ge(this,Ti,[]),this.state=t.state||b$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,Ti).includes(t)||(q(this,Ti).push(t),this.clearGcTimeout(),q(this,tr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,Ti,q(this,Ti).filter(e=>e!==t)),this.scheduleGc(),q(this,tr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,Ti).length||(this.state.status==="pending"?this.scheduleGc():q(this,tr).remove(this))}continue(){var t;return((t=q(this,qu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var e,n,r,s,i,a,u,c,h,p,g,v,E,I,T,_,D,P,M,B;const z=()=>{Ze(this,_i,Mo).call(this,{type:"continue"})},K={client:q(this,pm),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,qu,fR({fn:()=>this.options.mutationFn?this.options.mutationFn(t,K):Promise.reject(new Error("No mutationFn found")),onFail:(A,O)=>{Ze(this,_i,Mo).call(this,{type:"failed",failureCount:A,error:O})},onPause:()=>{Ze(this,_i,Mo).call(this,{type:"pause"})},onContinue:z,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,tr).canRun(this)}));const R=this.state.status==="pending",C=!q(this,qu).canStart();try{if(R)z();else{Ze(this,_i,Mo).call(this,{type:"pending",variables:t,isPaused:C}),await((n=(e=q(this,tr).config).onMutate)==null?void 0:n.call(e,t,this,K));const O=await((s=(r=this.options).onMutate)==null?void 0:s.call(r,t,K));O!==this.state.context&&Ze(this,_i,Mo).call(this,{type:"pending",context:O,variables:t,isPaused:C})}const A=await q(this,qu).start();return await((a=(i=q(this,tr).config).onSuccess)==null?void 0:a.call(i,A,t,this.state.context,this,K)),await((c=(u=this.options).onSuccess)==null?void 0:c.call(u,A,t,this.state.context,K)),await((p=(h=q(this,tr).config).onSettled)==null?void 0:p.call(h,A,null,this.state.variables,this.state.context,this,K)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,A,null,t,this.state.context,K)),Ze(this,_i,Mo).call(this,{type:"success",data:A}),A}catch(A){try{throw await((I=(E=q(this,tr).config).onError)==null?void 0:I.call(E,A,t,this.state.context,this,K)),await((_=(T=this.options).onError)==null?void 0:_.call(T,A,t,this.state.context,K)),await((P=(D=q(this,tr).config).onSettled)==null?void 0:P.call(D,void 0,A,this.state.variables,this.state.context,this,K)),await((B=(M=this.options).onSettled)==null?void 0:B.call(M,void 0,A,t,this.state.context,K)),A}finally{Ze(this,_i,Mo).call(this,{type:"error",error:A})}}finally{q(this,tr).runNext(this)}}},pm=new WeakMap,Ti=new WeakMap,tr=new WeakMap,qu=new WeakMap,_i=new WeakSet,Mo=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),kn.batch(()=>{q(this,Ti).forEach(n=>{n.onMutationUpdate(t)}),q(this,tr).notify({mutation:this,type:"updated",action:t})})},HI);function b$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Oo,Os,mm,KI,x$=(KI=class extends Nf{constructor(t={}){super(),je(this,Oo),je(this,Os),je(this,mm),this.config=t,ge(this,Oo,new Set),ge(this,Os,new Map),ge(this,mm,0)}build(t,e,n){const r=new w$({client:t,mutationCache:this,mutationId:++Rw(this,mm)._,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){q(this,Oo).add(t);const e=gm(t);if(typeof e=="string"){const n=q(this,Os).get(e);n?n.push(t):q(this,Os).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,Oo).delete(t)){const e=gm(t);if(typeof e=="string"){const n=q(this,Os).get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&q(this,Os).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=gm(t);if(typeof e=="string"){const n=q(this,Os).get(e),r=n==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){var e;const n=gm(t);if(typeof n=="string"){const r=(e=q(this,Os).get(n))==null?void 0:e.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kn.batch(()=>{q(this,Oo).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,Oo).clear(),q(this,Os).clear()})}getAll(){return Array.from(q(this,Oo))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>DI(e,n))}findAll(t={}){return this.getAll().filter(e=>DI(t,e))}notify(t){kn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return kn.batch(()=>Promise.all(t.map(e=>e.continue().catch(nr))))}},Oo=new WeakMap,Os=new WeakMap,mm=new WeakMap,KI);function gm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ii,GI,S$=(GI=class extends Nf{constructor(t={}){super(),je(this,Ii),this.config=t,ge(this,Ii,new Map)}build(t,e,n){const r=e.queryKey,s=e.queryHash??R1(r,e);let i=this.get(s);return i||(i=new p$({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){q(this,Ii).has(t.queryHash)||(q(this,Ii).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=q(this,Ii).get(t.queryHash);e&&(t.destroy(),e===t&&q(this,Ii).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,Ii).get(t)}getAll(){return[...q(this,Ii).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>NI(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>NI(t,n)):e}notify(t){kn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){kn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ii=new WeakMap,GI),Qt,Ga,Wa,th,nh,Qa,rh,sh,WI,E$=(WI=class{constructor(t={}){je(this,Qt),je(this,Ga),je(this,Wa),je(this,th),je(this,nh),je(this,Qa),je(this,rh),je(this,sh),ge(this,Qt,t.queryCache||new S$),ge(this,Ga,t.mutationCache||new x$),ge(this,Wa,t.defaultOptions||{}),ge(this,th,new Map),ge(this,nh,new Map),ge(this,Qa,0)}mount(){Rw(this,Qa)._++,q(this,Qa)===1&&(ge(this,rh,M1.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Qt).onFocus())})),ge(this,sh,Vg.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Qt).onOnline())})))}unmount(){var t,e;Rw(this,Qa)._--,q(this,Qa)===0&&((t=q(this,rh))==null||t.call(this),ge(this,rh,void 0),(e=q(this,sh))==null||e.call(this),ge(this,sh,void 0))}isFetching(t){return q(this,Qt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return q(this,Ga).findAll({...t,status:"pending"}).length}getQueryData(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=q(this,Qt).get(n.queryHash))==null?void 0:e.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=q(this,Qt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Jo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return q(this,Qt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=q(this,Qt).get(r.queryHash),i=s==null?void 0:s.state.data,a=r$(e,i);if(a!==void 0)return q(this,Qt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return kn.batch(()=>q(this,Qt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=q(this,Qt).get(n.queryHash))==null?void 0:e.state}removeQueries(t){const e=q(this,Qt);kn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=q(this,Qt);return kn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=kn.batch(()=>q(this,Qt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(nr).catch(nr)}invalidateQueries(t,e={}){return kn.batch(()=>(q(this,Qt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=kn.batch(()=>q(this,Qt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(nr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(nr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=q(this,Qt).build(this,e);return n.isStaleByTime(Jo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(nr).catch(nr)}fetchInfiniteQuery(t){return t.behavior=$I(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(nr).catch(nr)}ensureInfiniteQueryData(t){return t.behavior=$I(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vg.isOnline()?q(this,Ga).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,Qt)}getMutationCache(){return q(this,Ga)}getDefaultOptions(){return q(this,Wa)}setDefaultOptions(t){ge(this,Wa,t)}setQueryDefaults(t,e){q(this,th).set(Xh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...q(this,th).values()],n={};return e.forEach(r=>{Jh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){q(this,nh).set(Xh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...q(this,nh).values()],n={};return e.forEach(r=>{Jh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...q(this,Wa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=R1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===j1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...q(this,Wa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){q(this,Qt).clear(),q(this,Ga).clear()}},Qt=new WeakMap,Ga=new WeakMap,Wa=new WeakMap,th=new WeakMap,nh=new WeakMap,Qa=new WeakMap,rh=new WeakMap,sh=new WeakMap,WI),gR=S.createContext(void 0),k$=t=>{const e=S.useContext(gR);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},T$=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(gR.Provider,{value:t,children:e})),yR=S.createContext(!1),_$=()=>S.useContext(yR);yR.Provider;function I$(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var C$=S.createContext(I$()),N$=()=>S.useContext(C$),D$=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},A$=t=>{S.useEffect(()=>{t.clearReset()},[t])},P$=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||l$(n,[t.error,r])),R$=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},j$=(t,e)=>t.isLoading&&t.isFetching&&!e,M$=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,QI=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function O$(t,e,n){var r,s,i,a,u;const c=_$(),h=N$(),p=k$(),g=p.defaultQueryOptions(t);(s=(r=p.getDefaultOptions().queries)==null?void 0:r._experimental_beforeQuery)==null||s.call(r,g),g._optimisticResults=c?"isRestoring":"optimistic",R$(g),D$(g,h),A$(h);const v=!p.getQueryCache().get(g.queryHash),[E]=S.useState(()=>new e(p,g)),I=E.getOptimisticResult(g),T=!c&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(_=>{const D=T?E.subscribe(kn.batchCalls(_)):nr;return E.updateResult(),D},[E,T]),()=>E.getCurrentResult(),()=>E.getCurrentResult()),S.useEffect(()=>{E.setOptions(g)},[g,E]),M$(g,I))throw QI(g,E,h);if(P$({result:I,errorResetBoundary:h,throwOnError:g.throwOnError,query:p.getQueryCache().get(g.queryHash),suspense:g.suspense}))throw I.error;if((a=(i=p.getDefaultOptions().queries)==null?void 0:i._experimental_afterQuery)==null||a.call(i,g,I),g.experimental_prefetchInRender&&!Pl&&j$(I,c)){const _=v?QI(g,E,h):(u=p.getQueryCache().get(g.queryHash))==null?void 0:u.promise;_==null||_.catch(nr).finally(()=>{E.updateResult()})}return g.notifyOnChangeProps?I:E.trackResult(I)}function L$(t,e){return O$(t,m$)}/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const V$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var F$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const B$=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...u},c)=>S.createElement("svg",{ref:c,...F$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:vR("lucide",s),...u},[...a.map(([h,p])=>S.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ye=(t,e)=>{const n=S.forwardRef(({className:r,...s},i)=>S.createElement(B$,{ref:i,iconNode:e,className:vR(`lucide-${V$(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const U$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],z$=Ye("ArrowRight",U$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $$=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],q$=Ye("Award",$$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const H$=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Gm=Ye("Brain",H$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const K$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],J0=Ye("Calendar",K$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const G$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],W$=Ye("ChartColumn",G$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Q$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Y$=Ye("Check",Q$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const X$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],J$=Ye("ChevronDown",X$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Z$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eq=Ye("ChevronRight",Z$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const tq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nq=Ye("CircleCheckBig",tq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const rq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sq=Ye("CircleX",rq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oq=Ye("Circle",iq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const aq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],lq=Ye("Clock",aq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uq=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],YI=Ye("Coins",uq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const cq=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],dq=Ye("CreditCard",cq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hq=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],cl=Ye("Crown",hq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],XI=Ye("EyeOff",fq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const pq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JI=Ye("Eye",pq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mq=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],gq=Ye("Gamepad2",mq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const yq=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ZI=Ye("GraduationCap",yq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vq=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],eC=Ye("Heart",vq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],tC=Ye("House",wq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const bq=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],nC=Ye("LogOut",bq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xq=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],rC=Ye("Mail",xq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Sq=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Eq=Ye("Menu",Sq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kq=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],Tq=Ye("PartyPopper",kq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _q=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Iq=Ye("Rocket",_q);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Cq=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sC=Ye("Settings",Cq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Nq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Dq=Ye("Shield",Nq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Aq=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Z0=Ye("ShoppingBag",Aq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Pq=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],wR=Ye("Sparkles",Pq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Rq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ew=Ye("Star",Rq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const jq=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Eb=Ye("Trophy",jq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Mq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tw=Ye("User",Mq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Oq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],kb=Ye("Users",Oq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Lq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],L1=Ye("X",Lq);function bR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=bR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xR(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=bR(t))&&(r&&(r+=" "),r+=e);return r}const iC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,oC=xR,Uy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return oC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(h=>{const p=n==null?void 0:n[h],g=i==null?void 0:i[h];if(p===null)return null;const v=iC(p)||iC(g);return s[h][v]}),u=n&&Object.entries(n).reduce((h,p)=>{let[g,v]=p;return v===void 0||(h[g]=v),h},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:g,className:v,...E}=p;return Object.entries(E).every(I=>{let[T,_]=I;return Array.isArray(_)?_.includes({...i,...u}[T]):{...i,...u}[T]===_})?[...h,g,v]:h},[]);return oC(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},V1="-",Vq=t=>{const e=Bq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const i=s.split(V1);return i[0]===""&&i.length!==1&&i.shift(),SR(i,e)||Fq(s)},getConflictingClassGroupIds:(s,i)=>{const a=n[s]||[];return i&&r[s]?[...a,...r[s]]:a}}},SR=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),i=s?SR(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(V1);return(n=e.validators.find(({validator:u})=>u(a)))==null?void 0:n.classGroupId},aC=/^\[(.+)\]$/,Fq=t=>{if(aC.test(t)){const e=aC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Bq=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Tb(n[s],r,s,e);return r},Tb=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:lC(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Uq(s)){Tb(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Tb(a,lC(e,i),n,r)})})},lC=(t,e)=>{let n=t;return e.split(V1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Uq=t=>t.isThemeGetter,zq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},_b="!",Ib=":",$q=Ib.length,qq=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let a=0,u=0,c=0,h;for(let I=0;I<s.length;I++){let T=s[I];if(a===0&&u===0){if(T===Ib){i.push(s.slice(c,I)),c=I+$q;continue}if(T==="/"){h=I;continue}}T==="["?a++:T==="]"?a--:T==="("?u++:T===")"&&u--}const p=i.length===0?s:s.substring(c),g=Hq(p),v=g!==p,E=h&&h>c?h-c:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:E}};if(e){const s=e+Ib,i=r;r=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},Hq=t=>t.endsWith(_b)?t.substring(0,t.length-1):t.startsWith(_b)?t.substring(1):t,Kq=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r}},Gq=t=>({cache:zq(t.cacheSize),parseClassName:qq(t),sortModifiers:Kq(t),...Vq(t)}),Wq=/\s+/,Qq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],u=t.trim().split(Wq);let c="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{isExternal:g,modifiers:v,hasImportantModifier:E,baseClassName:I,maybePostfixModifierPosition:T}=n(p);if(g){c=p+(c.length>0?" "+c:c);continue}let _=!!T,D=r(_?I.substring(0,T):I);if(!D){if(!_){c=p+(c.length>0?" "+c:c);continue}if(D=r(I),!D){c=p+(c.length>0?" "+c:c);continue}_=!1}const P=i(v).join(":"),M=E?P+_b:P,B=M+D;if(a.includes(B))continue;a.push(B);const z=s(D,_);for(let K=0;K<z.length;++K){const R=z[K];a.push(M+R)}c=p+(c.length>0?" "+c:c)}return c};function Yq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ER(e))&&(r&&(r+=" "),r+=n);return r}const ER=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ER(t[r]))&&(n&&(n+=" "),n+=e);return n};function Xq(t,...e){let n,r,s,i=a;function a(c){const h=e.reduce((p,g)=>g(p),t());return n=Gq(h),r=n.cache.get,s=n.cache.set,i=u,u(c)}function u(c){const h=r(c);if(h)return h;const p=Qq(c,n);return s(c,p),p}return function(){return i(Yq.apply(null,arguments))}}const an=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},kR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,TR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Jq=/^\d+\/\d+$/,Zq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,nH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hu=t=>Jq.test(t),qe=t=>!!t&&!Number.isNaN(Number(t)),Lo=t=>!!t&&Number.isInteger(Number(t)),nw=t=>t.endsWith("%")&&qe(t.slice(0,-1)),Ci=t=>Zq.test(t),sH=()=>!0,iH=t=>eH.test(t)&&!tH.test(t),_R=()=>!1,oH=t=>nH.test(t),aH=t=>rH.test(t),lH=t=>!xe(t)&&!Se(t),uH=t=>Bc(t,NR,_R),xe=t=>kR.test(t),Ya=t=>Bc(t,DR,iH),rw=t=>Bc(t,pH,qe),uC=t=>Bc(t,IR,_R),cH=t=>Bc(t,CR,aH),ym=t=>Bc(t,AR,oH),Se=t=>TR.test(t),ih=t=>Uc(t,DR),dH=t=>Uc(t,mH),cC=t=>Uc(t,IR),hH=t=>Uc(t,NR),fH=t=>Uc(t,CR),vm=t=>Uc(t,AR,!0),Bc=(t,e,n)=>{const r=kR.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Uc=(t,e,n=!1)=>{const r=TR.exec(t);return r?r[1]?e(r[1]):n:!1},IR=t=>t==="position"||t==="percentage",CR=t=>t==="image"||t==="url",NR=t=>t==="length"||t==="size"||t==="bg-size",DR=t=>t==="length",pH=t=>t==="number",mH=t=>t==="family-name",AR=t=>t==="shadow",gH=()=>{const t=an("color"),e=an("font"),n=an("text"),r=an("font-weight"),s=an("tracking"),i=an("leading"),a=an("breakpoint"),u=an("container"),c=an("spacing"),h=an("radius"),p=an("shadow"),g=an("inset-shadow"),v=an("text-shadow"),E=an("drop-shadow"),I=an("blur"),T=an("perspective"),_=an("aspect"),D=an("ease"),P=an("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...B(),Se,xe],K=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],C=()=>[Se,xe,c],A=()=>[Hu,"full","auto",...C()],O=()=>[Lo,"none","subgrid",Se,xe],F=()=>["auto",{span:["full",Lo,Se,xe]},Lo,Se,xe],$=()=>[Lo,"auto",Se,xe],L=()=>["auto","min","max","fr",Se,xe],ke=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Pe=()=>["start","end","center","stretch","center-safe","end-safe"],ye=()=>["auto",...C()],ve=()=>[Hu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],W=()=>[t,Se,xe],ne=()=>[...B(),cC,uC,{position:[Se,xe]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",hH,uH,{size:[Se,xe]}],re=()=>[nw,ih,Ya],pe=()=>["","none","full",h,Se,xe],me=()=>["",qe,ih,Ya],Re=()=>["solid","dashed","dotted","double"],Ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[qe,nw,cC,uC],$e=()=>["","none",I,Se,xe],Be=()=>["none",qe,Se,xe],pt=()=>["none",qe,Se,xe],kr=()=>[qe,Se,xe],Tr=()=>[Hu,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ci],breakpoint:[Ci],color:[sH],container:[Ci],"drop-shadow":[Ci],ease:["in","out","in-out"],font:[lH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ci],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ci],shadow:[Ci],spacing:["px",qe],text:[Ci],"text-shadow":[Ci],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hu,xe,Se,_]}],container:["container"],columns:[{columns:[qe,xe,Se,u]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[Lo,"auto",Se,xe]}],basis:[{basis:[Hu,"full","auto",u,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,Hu,"auto","initial","none",xe]}],grow:[{grow:["",qe,Se,xe]}],shrink:[{shrink:["",qe,Se,xe]}],order:[{order:[Lo,"first","last","none",Se,xe]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...ke(),"normal"]}],"justify-items":[{"justify-items":[...Pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Pe()]}],"align-content":[{content:["normal",...ke()]}],"align-items":[{items:[...Pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ke()}],"place-items":[{"place-items":[...Pe(),"baseline"]}],"place-self":[{"place-self":["auto",...Pe()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:ye()}],mx:[{mx:ye()}],my:[{my:ye()}],ms:[{ms:ye()}],me:[{me:ye()}],mt:[{mt:ye()}],mr:[{mr:ye()}],mb:[{mb:ye()}],ml:[{ml:ye()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:ve()}],w:[{w:[u,"screen",...ve()]}],"min-w":[{"min-w":[u,"screen","none",...ve()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[a]},...ve()]}],h:[{h:["screen","lh",...ve()]}],"min-h":[{"min-h":["screen","lh","none",...ve()]}],"max-h":[{"max-h":["screen","lh",...ve()]}],"font-size":[{text:["base",n,ih,Ya]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Se,rw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",nw,xe]}],"font-family":[{font:[dH,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Se,xe]}],"line-clamp":[{"line-clamp":[qe,"none",Se,rw]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",Se,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",Se,Ya]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[qe,"auto",Se,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Lo,Se,xe],radial:["",Se,xe],conic:[Lo,Se,xe]},fH,cH]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,Se,xe]}],"outline-w":[{outline:["",qe,ih,Ya]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",p,vm,ym]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",g,vm,ym]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[qe,Ya]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",v,vm,ym]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[qe,Se,xe]}],"mix-blend":[{"mix-blend":[...Ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Se,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,xe]}],filter:[{filter:["","none",Se,xe]}],blur:[{blur:$e()}],brightness:[{brightness:[qe,Se,xe]}],contrast:[{contrast:[qe,Se,xe]}],"drop-shadow":[{"drop-shadow":["","none",E,vm,ym]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",qe,Se,xe]}],"hue-rotate":[{"hue-rotate":[qe,Se,xe]}],invert:[{invert:["",qe,Se,xe]}],saturate:[{saturate:[qe,Se,xe]}],sepia:[{sepia:["",qe,Se,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,xe]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[qe,Se,xe]}],"backdrop-contrast":[{"backdrop-contrast":[qe,Se,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,Se,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,Se,xe]}],"backdrop-invert":[{"backdrop-invert":["",qe,Se,xe]}],"backdrop-opacity":[{"backdrop-opacity":[qe,Se,xe]}],"backdrop-saturate":[{"backdrop-saturate":[qe,Se,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,Se,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",Se,xe]}],ease:[{ease:["linear","initial",D,Se,xe]}],delay:[{delay:[qe,Se,xe]}],animate:[{animate:["none",P,Se,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Se,xe]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:Be()}],"rotate-x":[{"rotate-x":Be()}],"rotate-y":[{"rotate-y":Be()}],"rotate-z":[{"rotate-z":Be()}],scale:[{scale:pt()}],"scale-x":[{"scale-x":pt()}],"scale-y":[{"scale-y":pt()}],"scale-z":[{"scale-z":pt()}],"scale-3d":["scale-3d"],skew:[{skew:kr()}],"skew-x":[{"skew-x":kr()}],"skew-y":[{"skew-y":kr()}],transform:[{transform:[Se,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Tr()}],"translate-x":[{"translate-x":Tr()}],"translate-y":[{"translate-y":Tr()}],"translate-z":[{"translate-z":Tr()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,xe]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[qe,ih,Ya,rw]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yH=Xq(gH);function wt(...t){return yH(xR(t))}function Cb(t){const e=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];if(t<20)return e[t];if(t<100)return n[Math.floor(t/10)]+(t%10?"-"+e[t%10]:"");if(t<1e3){const r=t%100,s=e[Math.floor(t/100)]+" hundred";return r?s+" "+Cb(r):s}return String(t)}function Nb(t){const e=["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","diecisis","diecisiete","dieciocho","diecinueve"],n=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];if(t<20)return e[t];if(t<30)return t===20?"veinte":"veinti"+e[t-20];if(t<100)return n[Math.floor(t/10)]+(t%10?" y "+e[t%10]:"");if(t<200)return"ciento"+(t%100?" "+Nb(t%100):"");if(t<1e3){const r=["cero","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"][Math.floor(t/100)],s=t%100;return r+(s?" "+Nb(s):"")}return String(t)}function Ine(t,e={}){if(!t||typeof t!="string")return t;const{numberToWords:n="auto",language:r,pauseOperators:s=!0}=e;let i="en";try{i=r||(localStorage.getItem("tts.lang")==="es"?"es":"en")||"en"}catch{}let a=t;a=a.replace(//g,"-").replace(/|/g,"");const u={2:"half",3:"third",4:"fourth",5:"fifth",6:"sixth",7:"seventh",8:"eighth",9:"ninth",10:"tenth",12:"twelfth"},c={2:"medios",3:"tercios",4:"cuartos",5:"quintos",6:"sextos",7:"sptimos",8:"octavos",9:"novenos",10:"dcimos",12:"duodcimos"};if([{pattern:/\s*\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\/\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\s*/g,spoken:i==="es"?" por ":" times "},{pattern:/\s*\*\s*/g,spoken:" times "},{pattern:/(\d+)\s*[xX]\s*(\d+)/g,spoken:i==="es"?"$1 por $2":"$1 times $2"},{pattern:/\s*\+\s*/g,spoken:i==="es"?" ms ":" plus "},{pattern:/(\d+)\s*-\s*(\d+)/g,spoken:i==="es"?"$1 menos $2":"$1 minus $2"},{pattern:/\s*=\s*/g,spoken:i==="es"?" igual a ":" equals "},{pattern:/\s*>\s*/g,spoken:i==="es"?" es mayor que ":" is greater than "},{pattern:/\s*<\s*/g,spoken:i==="es"?" es menor que ":" is less than "},{pattern:/\s*\s*/g,spoken:i==="es"?" es mayor o igual que ":" is greater than or equal to "},{pattern:/\s*\s*/g,spoken:i==="es"?" es menor o igual que ":" is less than or equal to "},{pattern:/(\d+)\/(\d+)/g,spoken:(h,p,g)=>i==="es"?`${p} ${c[g]||"sobre "+g}`:u[g]?`${p==="1"?"one":Cb(Number(p))} ${u[g]}${p!=="1"?"s":""}`:`${p} over ${g}`},{pattern:/%/g,spoken:i==="es"?" por ciento":" percent"},{pattern:/\^(\d+)/g,spoken:i==="es"?" a la potencia de $1":" to the power of $1"},{pattern:/(\d+)/g,spoken:i==="es"?"raz cuadrada de $1":"square root of $1"}].forEach(({pattern:h,spoken:p})=>{a=a.replace(h,p)}),a=a.replace(/(\d)\.(\d)/g,i==="es"?"$1 coma $2":"$1 point $2"),a=a.replace(/\s*(,)?\s*(\?+|_+)\s*(,)?\s*/g,(h,p,g,v)=>p&&v?", ":" "),a=a.replace(/\?\s*$/g,""),s&&(i==="es"?[" ms "," menos "," por "," dividido entre "," igual a "]:[" plus "," minus "," times "," divided by "," equals "]).forEach(h=>{const p=new RegExp(h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(?!,)","g");a=a.replace(p,h+", ")}),n!=="none"){const h=i==="es"?Nb:Cb;a=a.replace(/\b\d+\b/g,(p,g)=>{const v=parseInt(p,10);if(!Number.isFinite(v))return p;if(n==="all")return h(v);const E=v<=20,I=a[g-1]||"",T=a[g+p.length]||"";return E||I===","||T===","?h(v):p})}return a=a.replace(/\s+,/g,",").replace(/,\s*,/g,", ").replace(/\s+/g," ").replace(/\s+,\s*$/g,"").trim(),a}const vH=Uy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Lr({className:t,variant:e,...n}){return x.jsx("div",{className:wt(vH({variant:e}),t),...n})}function dC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ul(...t){return e=>{let n=!1;const r=t.map(s=>{const i=dC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():dC(t[s],null)}}}}function or(...t){return S.useCallback(Ul(...t),t)}var wH=Symbol.for("react.lazy"),Fg=cx[" use ".trim().toString()];function bH(t){return typeof t=="object"&&t!==null&&"then"in t}function PR(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===wH&&"_payload"in t&&bH(t._payload)}function xH(t){const e=EH(t),n=S.forwardRef((r,s)=>{let{children:i,...a}=r;PR(i)&&typeof Fg=="function"&&(i=Fg(i._payload));const u=S.Children.toArray(i),c=u.find(TH);if(c){const h=c.props.children,p=u.map(g=>g===c?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var SH=xH("Slot");function EH(t){const e=S.forwardRef((n,r)=>{let{children:s,...i}=n;if(PR(s)&&typeof Fg=="function"&&(s=Fg(s._payload)),S.isValidElement(s)){const a=IH(s),u=_H(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Ul(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var kH=Symbol("radix.slottable");function TH(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kH}function _H(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function IH(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}const CH=Uy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Gs=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?SH:"button";return x.jsx(a,{className:wt(CH({variant:e,size:n,className:t})),ref:i,...s})});Gs.displayName="Button";const mn=_y(fs);oy(fs);const RR=async(t,e={})=>{const n=ni(mn,"users",t),r={email:t,subscription_tier:"free",subscription_expires_at:null,subscription_auto_renew:!1,trial_start_date:Bn(),trial_expires_at:null,trial_used:!1,trial_grace_used:!1,coins:0,stars_spent:0,total_stars_earned:0,owned_pets:[],active_pet:null,purchased_items:[],unlocked_items:[],power_ups:{},pet_experience:{},daily_login_streak:0,total_login_days:0,last_login_date:null,parental_controls:{enabled:!1,allowed_operations:[],allowed_levels:[],focus_operations:[],daily_time_limit_minutes:0,enforce_time_limits:!1},daily_usage_tracking:{},is_parent_mode:!1,is_premium_parent:!1,is_family_teacher:!1,parent_email:null,child_name:null,full_name:null,created_at:Bn(),updated_at:Bn(),...e};await jy(n,r);const s=(await gP(n)).data();let i=null;if(s&&s.trial_start_date&&s.trial_start_date.toDate?i=s.trial_start_date.toDate():s&&s.trial_start_date&&s.trial_start_date.seconds&&(i=new Date(s.trial_start_date.seconds*1e3)),i){const a=new Date(i.getTime()+6048e5);return await My(n,{trial_expires_at:rt.fromDate(a),updated_at:Bn()}),{...s,trial_expires_at:rt.fromDate(a)}}return s||r},jR=async t=>{const e=ni(mn,"users",t),n=await gP(e);return n.exists()?{id:n.id,...n.data()}:await RR(t)},wm=async(t,e)=>{const n=ni(mn,"users",t);await My(n,{...e,updated_at:Bn()})},Cne=async()=>{const t=On(mn,"users");return(await hs(t)).docs.map(e=>({id:e.id,...e.data()}))},Nne=async(t,e)=>{const n=On(mn,"gameProgress"),r=ni(n),s={user_email:t,operation:e.operation,level:e.level,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,coins_earned:e.coins_earned||0,accuracy:e.accuracy||0,completed_at:Bn(),...e};return await jy(r,s),{id:r.id,...s}},Dne=async t=>{const e=On(mn,"gameProgress"),n=ds(e,Ur("user_email","==",t),Lc("completed_at","desc"));return(await hs(n)).docs.map(r=>({id:r.id,...r.data()}))},Ane=(t,e)=>{const n=On(mn,"gameProgress"),r=ds(n,Ur("user_email","==",t),Lc("completed_at","desc"));return yP(r,s=>{const i=s.docs.map(a=>({id:a.id,...a.data()}));e(i)})},Pne=async()=>{const t=On(mn,"gameProgress"),e=ds(t,Lc("score","desc"),y1(100));return(await hs(e)).docs.map(n=>({id:n.id,...n.data()}))},Rne=async(t,e)=>{const n=On(mn,"dailyChallenges"),r=ni(n),s={user_email:t,challenge_type:e.challenge_type,challenge_date:e.challenge_date,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,bonus_coins:e.bonus_coins||0,completed_at:Bn(),...e};return await jy(r,s),{id:r.id,...s}},jne=async t=>{const e=On(mn,"dailyChallenges"),n=ds(e,Ur("user_email","==",t),Lc("completed_at","desc"));return(await hs(n)).docs.map(r=>({id:r.id,...r.data()}))},Mne=async()=>{const t=On(mn,"dailyChallenges"),e=ds(t,Lc("score","desc"),y1(100));return(await hs(e)).docs.map(n=>({id:n.id,...n.data()}))},One=async t=>{const e=On(mn,"teamChallenges"),n=ds(e,Ur("creator_email","==",t)),r=ds(e,Ur("team_members","array-contains",t)),[s,i]=await Promise.all([hs(n),hs(r)]),a=new Map;return s.docs.forEach(u=>a.set(u.id,{id:u.id,...u.data()})),i.docs.forEach(u=>a.set(u.id,{id:u.id,...u.data()})),Array.from(a.values())},Lne=async(t,e)=>{const n=ni(mn,"teamChallenges",t);await My(n,{...e,updated_at:Bn()})},Vne=async t=>{const e=On(mn,"tutorSessions"),n=ds(e,Ur("user_email","==",t),Lc("created_at","desc"),y1(50));return(await hs(n)).docs.map(r=>({id:r.id,...r.data()}))},Fne=async(t,e)=>{const n=On(mn,"friendConnections"),r=ni(n),s={user_email:t,friend_email:e,status:"pending",sent_at:Bn()};return await jy(r,s),{id:r.id,...s}},Bne=async t=>{const e=On(mn,"friendConnections"),n=ds(e,Ur("user_email","==",t),Ur("status","==","accepted")),r=ds(e,Ur("friend_email","==",t),Ur("status","==","accepted")),[s,i]=await Promise.all([hs(n),hs(r)]);return[...s.docs.map(a=>({id:a.id,...a.data()})),...i.docs.map(a=>({id:a.id,...a.data()}))]},Une=async t=>{const e=On(mn,"friendConnections"),n=ds(e,Ur("friend_email","==",t),Ur("status","==","pending"));return(await hs(n)).docs.map(r=>({id:r.id,...r.data()}))},zne=async(t,e)=>{const n=ni(mn,"friendConnections",t);await My(n,{status:e,updated_at:Bn()})},Wm=S.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:wt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Wm.displayName="Input";function MR(){const[t,e]=S.useState("sign-in"),[n,r]=S.useState(""),[s,i]=S.useState(""),[a,u]=S.useState(""),[c,h]=S.useState(!1),[p,g]=S.useState(""),[v,E]=S.useState(""),[I,T]=S.useState(!1),[_,D]=S.useState(!1),P=()=>{E(""),g("")},M=async()=>{if(P(),!n){E("Email required");return}if(t==="sign-up"){if(!s){E("Password required");return}if(s!==a){E("Passwords do not match");return}}if(t==="sign-in"&&!s){E("Password required");return}h(!0);try{t==="sign-up"?(await B6(z0,n,s),await RR(n),g("Account created. You are signed in.")):t==="sign-in"?(await U6(z0,n,s),await jR(n),g("Signed in.")):t==="reset"&&(await F6(z0,n),g("Reset link sent. Check your email."))}catch(z){E((z==null?void 0:z.message)||"Auth failed")}finally{h(!1)}},B=z=>{P(),e(z)};return x.jsxs("div",{className:"w-full max-w-sm mx-auto bg-white/90 rounded-xl shadow-lg p-5 space-y-4",children:[x.jsxs("h2",{className:"text-xl font-bold text-purple-700 text-center",children:[t==="sign-in"&&"Sign In",t==="sign-up"&&"Create Account",t==="reset"&&"Reset Password"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Wm,{type:"email",autoComplete:"email",placeholder:"Email",value:n,onChange:z=>r(z.target.value)}),t!=="reset"&&x.jsxs("div",{className:"relative",children:[x.jsx(Wm,{type:I?"text":"password",autoComplete:t==="sign-up"?"new-password":"current-password",placeholder:"Password",value:s,onChange:z=>i(z.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>T(!I),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:I?x.jsx(XI,{className:"w-4 h-4"}):x.jsx(JI,{className:"w-4 h-4"})})]}),t==="sign-up"&&x.jsxs("div",{className:"relative",children:[x.jsx(Wm,{type:_?"text":"password",placeholder:"Confirm Password",value:a,onChange:z=>u(z.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>D(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:_?x.jsx(XI,{className:"w-4 h-4"}):x.jsx(JI,{className:"w-4 h-4"})})]})]}),(v||p)&&x.jsx("div",{className:`text-sm rounded-md p-2 ${v?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:v||p}),x.jsx(Gs,{onClick:M,disabled:c,className:"w-full bg-purple-600 hover:bg-purple-700",children:c?"Please wait":t==="sign-in"?"Sign In":t==="sign-up"?"Sign Up":"Send Reset Link"}),x.jsxs("div",{className:"text-xs text-center text-gray-600 space-y-1",children:[t==="sign-in"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>B("sign-up"),className:"text-purple-600 hover:underline block w-full",children:"Need an account? Sign up"}),x.jsx("button",{onClick:()=>B("reset"),className:"text-purple-600 hover:underline block w-full",children:"Forgot password?"})]}),t==="sign-up"&&x.jsx("button",{onClick:()=>B("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Have an account? Sign in"}),t==="reset"&&x.jsx("button",{onClick:()=>B("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Back to sign in"})]})]})}const OR=t=>{if(!t)return!1;if(!t.trial_start_date||!t.trial_expires_at)return t.subscription_tier==="free"&&t.trial_used!==!0;if(t.subscription_tier!=="free"||t.trial_used===!0)return!1;const e=new Date,n=t.trial_expires_at.toDate();return e<n},NH=t=>{if(!t||!t.trial_start_date||!t.trial_expires_at||t.subscription_tier!=="free")return!1;const e=new Date,n=t.trial_expires_at.toDate();return e>=n},DH=t=>{if(!t||!t.trial_expires_at||t.subscription_tier!=="free")return 0;const e=new Date,n=t.trial_expires_at.toDate()-e;return n<=0?0:Math.ceil(n/(1e3*60*60*24))},AH=t=>t?!!(t.subscription_tier&&t.subscription_tier!=="free"||OR(t)&&t.trial_used!==!0):!1;let Bg=D7;(async()=>{try{!Bg&&await qP()&&(Bg=$P(fs))}catch{}})();function zy(t,e={}){if(Bg)try{HP(Bg,t,e)}catch(n){console.warn("analytics log skipped",t,n==null?void 0:n.message)}}const PH=t=>zy("trial_start",{method:"auto",user_email:t}),RH=(t,e)=>zy("trial_day",{day:e,user_email:t}),jH=t=>zy("trial_expired",{user_email:t}),MH=t=>zy("trial_grace_lock",{user_email:t}),F1=_y(fs);async function OH(t){try{await w1(On(F1,"notifications"),{user_email:t,type:"trial_day6_warning",title:"Trial Ending Soon!",message:"Your 7-day trial ends tomorrow. Upgrade now to keep unlimited access to premium features!",is_read:!1,created_at:Bn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create day6 notification:",e.message)}}async function LH(t){try{await w1(On(F1,"notifications"),{user_email:t,type:"trial_expired",title:"Trial Ended",message:"Your 7-day trial has ended. You are now on the free plan. Upgrade anytime to regain premium features.",is_read:!1,created_at:Bn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create trial expired notification:",e.message)}}async function VH(t){try{await w1(On(F1,"notifications"),{user_email:t,type:"trial_grace_day",title:"Grace Day: Final Chance!",message:"Your trial expired, but you still have premium access today only. Upgrade now before it locks tomorrow.",is_read:!1,created_at:Bn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create grace day notification:",e.message)}}function FH(){const[t,e]=S.useState(null),[n,r]=S.useState(!0),[s,i]=S.useState(null);return S.useEffect(()=>{const a=oy(fs),u=_y(fs);let c=null;const h=q6(a,async p=>{var g;if(!p){e(null),r(!1);return}try{e(v=>v||{email:p.email,subscription_tier:"free",coins:0}),i(null);try{const v=(g=p==null?void 0:p.metadata)!=null&&g.creationTime?new Date(p.metadata.creationTime).getTime():null,E=v?Date.now()-v<1440*60*1e3:!1,I=`optimistic_trial_${p.email}`,T=typeof window<"u"?localStorage.getItem(I):null;E&&!T&&(e(_=>({..._||{},email:p.email,subscription_tier:"free",coins:0,isOnTrial:!0,trialExpired:!1,trialDaysRemaining:7,inGraceDay:!1,hasPremiumAccess:!0,_optimisticTrial:!0})),localStorage.setItem(I,"true"))}catch{}try{if(typeof window<"u"&&window.location.search.includes("reset_trial=true")){const v=Date.now(),E=new Date(v+10080*60*1e3);await wm(p.email,{trial_start_date:Bn(),trial_expires_at:rt.fromDate(E),trial_used:!1,trial_grace_used:!1}),localStorage.removeItem(`trial_log_${p.email}`);const I=new URL(window.location.href);I.searchParams.delete("reset_trial"),window.history.replaceState({},"",I.toString()),console.info("[trial] Trial reset performed for",p.email)}}catch(v){console.warn("[trial] Trial reset attempt failed:",v==null?void 0:v.message)}c&&c(),c=yP(ni(u,"users",p.email),v=>{var E,I;if(v.exists()){const T={id:v.id,...v.data()};(async()=>{try{if(!T.trial_start_date||!T.trial_expires_at){const F=Date.now(),$=new Date(F+10080*60*1e3);await wm(p.email,{trial_start_date:Bn(),trial_expires_at:rt.fromDate($),trial_used:!1,trial_grace_used:!1})}}catch{}})();const _=OR(T)||!T.trial_start_date||!T.trial_expires_at,D=NH(T),P=DH(T),M=7,B=(E=T.trial_start_date)!=null&&E.toDate?Math.floor((Date.now()-T.trial_start_date.toDate().getTime())/(1e3*60*60*24)):null,z=D&&B===M&&T.trial_grace_used!==!0;e({...T,isOnTrial:_,trialExpired:D,trialDaysRemaining:P,inGraceDay:z,hasPremiumAccess:AH(T)||_||z});const K=v.id,R=`trial_log_${K}`,C=localStorage.getItem(R);let A=C?JSON.parse(C):{};const O=(I=T.trial_start_date)!=null&&I.toDate?T.trial_start_date.toDate().getTime():null;if(O){const F=A.trial_start_timestamp||null;(!F||F!==O)&&(A={})}if(T.trial_start_date&&!A.trial_start&&(PH(K),A.trial_start=!0,O&&(A.trial_start_timestamp=O)),_&&P>=0&&P<=7){const F=`day_${7-P}`;A[F]||(RH(K,7-P),A[F]=!0),P===1&&!A.notif_day6&&(OH(K),A.notif_day6=!0)}D&&T.subscription_tier==="free"&&!A.trial_expired&&(jH(K),A.trial_expired=!0,T.trial_used!==!0&&wm(v.id,{trial_used:!0}).catch(()=>{}),A.notif_expired||(LH(K),A.notif_expired=!0)),z&&!A.grace_lock&&(MH(K),A.grace_lock=!0,T.trial_grace_used!==!0&&wm(v.id,{trial_grace_used:!0}).catch(()=>{}),A.notif_grace||(VH(K),A.notif_grace=!0));try{localStorage.setItem(R,JSON.stringify(A))}catch{}}},v=>{console.error("Firestore snapshot error:",v)}),jR(p.email).catch(v=>{console.error("Failed to ensure user profile",v),i(v)})}catch(v){console.error("Failed to initialize user session",v),i(v),e({email:p.email,subscription_tier:"free",coins:0})}finally{r(!1)}});return()=>{c&&c(),h()}},[]),{user:t,loading:n,error:s}}const LR=S.createContext({user:null,loading:!0,error:null});function BH({children:t}){const e=FH();return x.jsx(LR.Provider,{value:e,children:t})}function B1(){return S.useContext(LR)}const UH=Uy("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),VR=S.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,role:"alert",className:wt(UH({variant:e}),t),...n}));VR.displayName="Alert";const zH=S.forwardRef(({className:t,...e},n)=>x.jsx("h5",{ref:n,className:wt("mb-1 font-medium leading-none tracking-tight",t),...e}));zH.displayName="AlertTitle";const FR=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm [&_p]:leading-relaxed",t),...e}));FR.displayName="AlertDescription";function $H(){const{user:t}=B1(),e=I1(),[n,r]=ln.useState(!1),[s,i]=ln.useState(!0);if(!t||n===!0||s===!1||!(t.isOnTrial||t.trialExpired||t.inGraceDay))return null;const a=t.trialExpired&&!t.inGraceDay,u=t.trialDaysRemaining||0,c=t.inGraceDay;return x.jsx(VR,{className:`mb-4 ${a?"bg-red-50 border-red-300":u<=2?"bg-orange-50 border-orange-300":"bg-blue-50 border-blue-300"}`,children:x.jsxs("div",{className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c?x.jsx(cl,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}):a?x.jsx(cl,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):x.jsx(lq,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),x.jsx(FR,{className:c?"text-orange-800":a?"text-red-800":"text-blue-800",children:x.jsx("div",{className:"space-y-2",children:c?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Grace Day: Final Chance!"}),x.jsx("p",{className:"text-sm",children:"Your trial expired, but you still have premium access today only. Upgrade now to keep everything before it locks tomorrow."})]}):a?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Your 7-day trial has ended"}),x.jsx("p",{className:"text-sm",children:"You're now on the free plan with limited access. Upgrade to continue enjoying premium features like unlimited games, AI tutor, and more!"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:u===0?" Trial ends today!":`${u} day${u===1?"":"s"} left in your trial`}),x.jsx("p",{className:"text-sm",children:"You're currently enjoying premium features. Upgrade now to keep unlimited access after your trial ends!"})]})})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(Gs,{onClick:()=>e("/subscription"),className:`${c?"bg-orange-600 hover:bg-orange-700":a?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white whitespace-nowrap`,size:"sm",children:[x.jsx(cl,{className:"w-4 h-4 mr-1"}),"Upgrade Now"]}),x.jsx(Gs,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"flex-shrink-0",children:x.jsx(L1,{className:"w-4 h-4"})})]})]})})}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function $ne(t,e){const n=S.createContext(e),r=i=>{const{children:a,...u}=i,c=S.useMemo(()=>u,Object.values(u));return x.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=S.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Df(t,e=[]){let n=[];function r(i,a){const u=S.createContext(a),c=n.length;n=[...n,a];const h=g=>{var v;const{scope:E,children:I,...T}=g,_=((v=E==null?void 0:E[t])==null?void 0:v[c])||u,D=S.useMemo(()=>T,Object.values(T));return x.jsx(_.Provider,{value:D,children:I})};h.displayName=i+"Provider";function p(g,v){var E;const I=((E=v==null?void 0:v[t])==null?void 0:E[c])||u,T=S.useContext(I);if(T)return T;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,p]}const s=()=>{const i=n.map(a=>S.createContext(a));return function(a){const u=(a==null?void 0:a[t])||i;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,qH(s,...e)]}function qH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const i=r.reduce((a,{useScope:u,scopeName:c})=>{const h=u(s)[`__scope${c}`];return{...a,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var sa=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},HH=cx[" useInsertionEffect ".trim().toString()]||sa;function BR({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=KH({defaultProp:e,onChange:n}),u=t!==void 0,c=u?t:s;{const p=S.useRef(t!==void 0);S.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const h=S.useCallback(p=>{var g;if(u){const v=GH(p)?p(t):p;v!==t&&((g=a.current)==null||g.call(a,v))}else i(p)},[u,t,i,a]);return[c,h]}function KH({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),s=S.useRef(n),i=S.useRef(e);return HH(()=>{i.current=e},[e]),S.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function GH(t){return typeof t=="function"}function WH(t){const e=QH(t),n=S.forwardRef((r,s)=>{const{children:i,...a}=r,u=S.Children.toArray(i),c=u.find(XH);if(c){const h=c.props.children,p=u.map(g=>g===c?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function QH(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const a=ZH(s),u=JH(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Ul(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var YH=Symbol("radix.slottable");function XH(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===YH}function JH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function ZH(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var eK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hn=eK.reduce((t,e)=>{const n=WH(`Primitive.${e}`),r=S.forwardRef((s,i)=>{const{asChild:a,...u}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(c,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function UR(t,e){t&&P1.flushSync(()=>t.dispatchEvent(e))}function hC(t){const e=tK(t),n=S.forwardRef((r,s)=>{const{children:i,...a}=r,u=S.Children.toArray(i),c=u.find(rK);if(c){const h=c.props.children,p=u.map(g=>g===c?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function tK(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const a=iK(s),u=sK(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Ul(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var nK=Symbol("radix.slottable");function rK(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===nK}function sK(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function iK(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function zR(t){const e=t+"CollectionProvider",[n,r]=Df(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=T=>{const{scope:_,children:D}=T,P=ln.useRef(null),M=ln.useRef(new Map).current;return x.jsx(s,{scope:_,itemMap:M,collectionRef:P,children:D})};a.displayName=e;const u=t+"CollectionSlot",c=hC(u),h=ln.forwardRef((T,_)=>{const{scope:D,children:P}=T,M=i(u,D),B=or(_,M.collectionRef);return x.jsx(c,{ref:B,children:P})});h.displayName=u;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=hC(p),E=ln.forwardRef((T,_)=>{const{scope:D,children:P,...M}=T,B=ln.useRef(null),z=or(_,B),K=i(p,D);return ln.useEffect(()=>(K.itemMap.set(B,{ref:B,...M}),()=>void K.itemMap.delete(B))),x.jsx(v,{[g]:"",ref:z,children:P})});E.displayName=p;function I(T){const _=i(t+"CollectionConsumer",T);return ln.useCallback(()=>{const D=_.collectionRef.current;if(!D)return[];const P=Array.from(D.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((M,B)=>P.indexOf(M.ref.current)-P.indexOf(B.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:h,ItemSlot:E},I,r]}var oK=S.createContext(void 0);function $R(t){const e=S.useContext(oK);return t||e||"ltr"}function Bi(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function aK(t,e=globalThis==null?void 0:globalThis.document){const n=Bi(t);S.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var lK="DismissableLayer",Db="dismissableLayer.update",uK="dismissableLayer.pointerDownOutside",cK="dismissableLayer.focusOutside",fC,qR=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),HR=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:u,...c}=t,h=S.useContext(qR),[p,g]=S.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=S.useState({}),I=or(e,R=>g(R)),T=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),D=T.indexOf(_),P=p?T.indexOf(p):-1,M=h.layersWithOutsidePointerEventsDisabled.size>0,B=P>=D,z=fK(R=>{const C=R.target,A=[...h.branches].some(O=>O.contains(C));!B||A||(s==null||s(R),a==null||a(R),R.defaultPrevented||u==null||u())},v),K=pK(R=>{const C=R.target;[...h.branches].some(A=>A.contains(C))||(i==null||i(R),a==null||a(R),R.defaultPrevented||u==null||u())},v);return aK(R=>{P===h.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},v),S.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(fC=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),pC(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=fC)}},[p,v,n,h]),S.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),pC())},[p,h]),S.useEffect(()=>{const R=()=>E({});return document.addEventListener(Db,R),()=>document.removeEventListener(Db,R)},[]),x.jsx(Hn.div,{...c,ref:I,style:{pointerEvents:M?B?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,K.onFocusCapture),onBlurCapture:et(t.onBlurCapture,K.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,z.onPointerDownCapture)})});HR.displayName=lK;var dK="DismissableLayerBranch",hK=S.forwardRef((t,e)=>{const n=S.useContext(qR),r=S.useRef(null),s=or(e,r);return S.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(Hn.div,{...t,ref:s})});hK.displayName=dK;function fK(t,e=globalThis==null?void 0:globalThis.document){const n=Bi(t),r=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let c=function(){KR(uK,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function pK(t,e=globalThis==null?void 0:globalThis.document){const n=Bi(t),r=S.useRef(!1);return S.useEffect(()=>{const s=i=>{i.target&&!r.current&&KR(cK,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pC(){const t=new CustomEvent(Db);document.dispatchEvent(t)}function KR(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?UR(s,i):s.dispatchEvent(i)}var sw=0;function mK(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??mC()),document.body.insertAdjacentElement("beforeend",t[1]??mC()),sw++,()=>{sw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sw--}},[])}function mC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var iw="focusScope.autoFocusOnMount",ow="focusScope.autoFocusOnUnmount",gC={bubbles:!1,cancelable:!0},gK="FocusScope",GR=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[u,c]=S.useState(null),h=Bi(s),p=Bi(i),g=S.useRef(null),v=or(e,T=>c(T)),E=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let T=function(M){if(E.paused||!u)return;const B=M.target;u.contains(B)?g.current=B:Fo(g.current,{select:!0})},_=function(M){if(E.paused||!u)return;const B=M.relatedTarget;B!==null&&(u.contains(B)||Fo(g.current,{select:!0}))},D=function(M){if(document.activeElement===document.body)for(const B of M)B.removedNodes.length>0&&Fo(u)};document.addEventListener("focusin",T),document.addEventListener("focusout",_);const P=new MutationObserver(D);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",_),P.disconnect()}}},[r,u,E.paused]),S.useEffect(()=>{if(u){vC.add(E);const T=document.activeElement;if(!u.contains(T)){const _=new CustomEvent(iw,gC);u.addEventListener(iw,h),u.dispatchEvent(_),_.defaultPrevented||(yK(SK(WR(u)),{select:!0}),document.activeElement===T&&Fo(u))}return()=>{u.removeEventListener(iw,h),setTimeout(()=>{const _=new CustomEvent(ow,gC);u.addEventListener(ow,p),u.dispatchEvent(_),_.defaultPrevented||Fo(T??document.body,{select:!0}),u.removeEventListener(ow,p),vC.remove(E)},0)}}},[u,h,p,E]);const I=S.useCallback(T=>{if(!n&&!r||E.paused)return;const _=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,D=document.activeElement;if(_&&D){const P=T.currentTarget,[M,B]=vK(P);M&&B?!T.shiftKey&&D===B?(T.preventDefault(),n&&Fo(M,{select:!0})):T.shiftKey&&D===M&&(T.preventDefault(),n&&Fo(B,{select:!0})):D===P&&T.preventDefault()}},[n,r,E.paused]);return x.jsx(Hn.div,{tabIndex:-1,...a,ref:v,onKeyDown:I})});GR.displayName=gK;function yK(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Fo(r,{select:e}),document.activeElement!==n)return}function vK(t){const e=WR(t),n=yC(e,t),r=yC(e.reverse(),t);return[n,r]}function WR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function yC(t,e){for(const n of t)if(!wK(n,{upTo:e}))return n}function wK(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bK(t){return t instanceof HTMLInputElement&&"select"in t}function Fo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bK(t)&&e&&t.select()}}var vC=xK();function xK(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=wC(t,e),t.unshift(e)},remove(e){var n;t=wC(t,e),(n=t[0])==null||n.resume()}}}function wC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function SK(t){return t.filter(e=>e.tagName!=="A")}var EK=cx[" useId ".trim().toString()]||(()=>{}),kK=0;function Ab(t){const[e,n]=S.useState(EK());return sa(()=>{n(r=>r??String(kK++))},[t]),e?`radix-${e}`:""}const TK=["top","right","bottom","left"],ia=Math.min,vr=Math.max,Ug=Math.round,bm=Math.floor,Ws=t=>({x:t,y:t}),_K={left:"right",right:"left",bottom:"top",top:"bottom"},IK={start:"end",end:"start"};function Pb(t,e,n){return vr(t,ia(e,n))}function Ui(t,e){return typeof t=="function"?t(e):t}function zi(t){return t.split("-")[0]}function zc(t){return t.split("-")[1]}function U1(t){return t==="x"?"y":"x"}function z1(t){return t==="y"?"height":"width"}const CK=new Set(["top","bottom"]);function Us(t){return CK.has(zi(t))?"y":"x"}function $1(t){return U1(Us(t))}function NK(t,e,n){n===void 0&&(n=!1);const r=zc(t),s=$1(t),i=z1(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=zg(a)),[a,zg(a)]}function DK(t){const e=zg(t);return[Rb(t),e,Rb(e)]}function Rb(t){return t.replace(/start|end/g,e=>IK[e])}const bC=["left","right"],xC=["right","left"],AK=["top","bottom"],PK=["bottom","top"];function RK(t,e,n){switch(t){case"top":case"bottom":return n?e?xC:bC:e?bC:xC;case"left":case"right":return e?AK:PK;default:return[]}}function jK(t,e,n,r){const s=zc(t);let i=RK(zi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(Rb)))),i}function zg(t){return t.replace(/left|right|bottom|top/g,e=>_K[e])}function MK(t){return{top:0,right:0,bottom:0,left:0,...t}}function QR(t){return typeof t!="number"?MK(t):{top:t,right:t,bottom:t,left:t}}function $g(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function SC(t,e,n){let{reference:r,floating:s}=t;const i=Us(e),a=$1(e),u=z1(a),c=zi(e),h=i==="y",p=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let E;switch(c){case"top":E={x:p,y:r.y-s.height};break;case"bottom":E={x:p,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:g};break;case"left":E={x:r.x-s.width,y:g};break;default:E={x:r.x,y:r.y}}switch(zc(e)){case"start":E[a]-=v*(n&&h?-1:1);break;case"end":E[a]+=v*(n&&h?-1:1);break}return E}const OK=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,u=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:g}=SC(h,r,c),v=r,E={},I=0;for(let T=0;T<u.length;T++){const{name:_,fn:D}=u[T],{x:P,y:M,data:B,reset:z}=await D({x:p,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:E,rects:h,platform:a,elements:{reference:t,floating:e}});p=P??p,g=M??g,E={...E,[_]:{...E[_],...B}},z&&I<=50&&(I++,typeof z=="object"&&(z.placement&&(v=z.placement),z.rects&&(h=z.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):z.rects),{x:p,y:g}=SC(h,v,c)),T=-1)}return{x:p,y:g,placement:v,strategy:s,middlewareData:E}};async function Zh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:u,strategy:c}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:E=0}=Ui(e,t),I=QR(E),T=u[v?g==="floating"?"reference":"floating":g],_=$g(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:c})),D=g==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),M=await(i.isElement==null?void 0:i.isElement(P))?await(i.getScale==null?void 0:i.getScale(P))||{x:1,y:1}:{x:1,y:1},B=$g(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:P,strategy:c}):D);return{top:(_.top-B.top+I.top)/M.y,bottom:(B.bottom-_.bottom+I.bottom)/M.y,left:(_.left-B.left+I.left)/M.x,right:(B.right-_.right+I.right)/M.x}}const LK=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:u,middlewareData:c}=e,{element:h,padding:p=0}=Ui(t,e)||{};if(h==null)return{};const g=QR(p),v={x:n,y:r},E=$1(s),I=z1(E),T=await a.getDimensions(h),_=E==="y",D=_?"top":"left",P=_?"bottom":"right",M=_?"clientHeight":"clientWidth",B=i.reference[I]+i.reference[E]-v[E]-i.floating[I],z=v[E]-i.reference[E],K=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let R=K?K[M]:0;(!R||!await(a.isElement==null?void 0:a.isElement(K)))&&(R=u.floating[M]||i.floating[I]);const C=B/2-z/2,A=R/2-T[I]/2-1,O=ia(g[D],A),F=ia(g[P],A),$=O,L=R-T[I]-F,ke=R/2-T[I]/2+C,Pe=Pb($,ke,L),ye=!c.arrow&&zc(s)!=null&&ke!==Pe&&i.reference[I]/2-(ke<$?O:F)-T[I]/2<0,ve=ye?ke<$?ke-$:ke-L:0;return{[E]:v[E]+ve,data:{[E]:Pe,centerOffset:ke-Pe-ve,...ye&&{alignmentOffset:ve}},reset:ye}}}),VK=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:u,platform:c,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:T=!0,..._}=Ui(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const D=zi(s),P=Us(u),M=zi(u)===u,B=await(c.isRTL==null?void 0:c.isRTL(h.floating)),z=v||(M||!T?[zg(u)]:DK(u)),K=I!=="none";!v&&K&&z.push(...jK(u,T,I,B));const R=[u,...z],C=await Zh(e,_),A=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&A.push(C[D]),g){const ke=NK(s,a,B);A.push(C[ke[0]],C[ke[1]])}if(O=[...O,{placement:s,overflows:A}],!A.every(ke=>ke<=0)){var F,$;const ke=(((F=i.flip)==null?void 0:F.index)||0)+1,Pe=R[ke];if(Pe&&(!(g==="alignment"&&P!==Us(Pe))||O.every(ve=>Us(ve.placement)===P?ve.overflows[0]>0:!0)))return{data:{index:ke,overflows:O},reset:{placement:Pe}};let ye=($=O.filter(ve=>ve.overflows[0]<=0).sort((ve,W)=>ve.overflows[1]-W.overflows[1])[0])==null?void 0:$.placement;if(!ye)switch(E){case"bestFit":{var L;const ve=(L=O.filter(W=>{if(K){const ne=Us(W.placement);return ne===P||ne==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ne=>ne>0).reduce((ne,oe)=>ne+oe,0)]).sort((W,ne)=>W[1]-ne[1])[0])==null?void 0:L[0];ve&&(ye=ve);break}case"initialPlacement":ye=u;break}if(s!==ye)return{reset:{placement:ye}}}return{}}}};function EC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function kC(t){return TK.some(e=>t[e]>=0)}const FK=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ui(t,e);switch(r){case"referenceHidden":{const i=await Zh(e,{...s,elementContext:"reference"}),a=EC(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:kC(a)}}}case"escaped":{const i=await Zh(e,{...s,altBoundary:!0}),a=EC(i,n.floating);return{data:{escapedOffsets:a,escaped:kC(a)}}}default:return{}}}}},YR=new Set(["left","top"]);async function BK(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=zi(n),u=zc(n),c=Us(n)==="y",h=YR.has(a)?-1:1,p=i&&c?-1:1,g=Ui(e,t);let{mainAxis:v,crossAxis:E,alignmentAxis:I}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof I=="number"&&(E=u==="end"?I*-1:I),c?{x:E*p,y:v*h}:{x:v*h,y:E*p}}const UK=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:u}=e,c=await BK(e,t);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},zK=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:u={fn:_=>{let{x:D,y:P}=_;return{x:D,y:P}}},...c}=Ui(t,e),h={x:n,y:r},p=await Zh(e,c),g=Us(zi(s)),v=U1(g);let E=h[v],I=h[g];if(i){const _=v==="y"?"top":"left",D=v==="y"?"bottom":"right",P=E+p[_],M=E-p[D];E=Pb(P,E,M)}if(a){const _=g==="y"?"top":"left",D=g==="y"?"bottom":"right",P=I+p[_],M=I-p[D];I=Pb(P,I,M)}const T=u.fn({...e,[v]:E,[g]:I});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[v]:i,[g]:a}}}}}},$K=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:u=0,mainAxis:c=!0,crossAxis:h=!0}=Ui(t,e),p={x:n,y:r},g=Us(s),v=U1(g);let E=p[v],I=p[g];const T=Ui(u,e),_=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(c){const M=v==="y"?"height":"width",B=i.reference[v]-i.floating[M]+_.mainAxis,z=i.reference[v]+i.reference[M]-_.mainAxis;E<B?E=B:E>z&&(E=z)}if(h){var D,P;const M=v==="y"?"width":"height",B=YR.has(zi(s)),z=i.reference[g]-i.floating[M]+(B&&((D=a.offset)==null?void 0:D[g])||0)+(B?0:_.crossAxis),K=i.reference[g]+i.reference[M]+(B?0:((P=a.offset)==null?void 0:P[g])||0)-(B?_.crossAxis:0);I<z?I=z:I>K&&(I=K)}return{[v]:E,[g]:I}}}},qK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:u}=e,{apply:c=()=>{},...h}=Ui(t,e),p=await Zh(e,h),g=zi(s),v=zc(s),E=Us(s)==="y",{width:I,height:T}=i.floating;let _,D;g==="top"||g==="bottom"?(_=g,D=v===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(D=g,_=v==="end"?"top":"bottom");const P=T-p.top-p.bottom,M=I-p.left-p.right,B=ia(T-p[_],P),z=ia(I-p[D],M),K=!e.middlewareData.shift;let R=B,C=z;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=M),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=P),K&&!v){const O=vr(p.left,0),F=vr(p.right,0),$=vr(p.top,0),L=vr(p.bottom,0);E?C=I-2*(O!==0||F!==0?O+F:vr(p.left,p.right)):R=T-2*($!==0||L!==0?$+L:vr(p.top,p.bottom))}await c({...e,availableWidth:C,availableHeight:R});const A=await a.getDimensions(u.floating);return I!==A.width||T!==A.height?{reset:{rects:!0}}:{}}}};function $y(){return typeof window<"u"}function $c(t){return XR(t)?(t.nodeName||"").toLowerCase():"#document"}function Sr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ii(t){var e;return(e=(XR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function XR(t){return $y()?t instanceof Node||t instanceof Sr(t).Node:!1}function ps(t){return $y()?t instanceof Element||t instanceof Sr(t).Element:!1}function ti(t){return $y()?t instanceof HTMLElement||t instanceof Sr(t).HTMLElement:!1}function TC(t){return!$y()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sr(t).ShadowRoot}const HK=new Set(["inline","contents"]);function Af(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ms(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!HK.has(s)}const KK=new Set(["table","td","th"]);function GK(t){return KK.has($c(t))}const WK=[":popover-open",":modal"];function qy(t){return WK.some(e=>{try{return t.matches(e)}catch{return!1}})}const QK=["transform","translate","scale","rotate","perspective"],YK=["transform","translate","scale","rotate","perspective","filter"],XK=["paint","layout","strict","content"];function q1(t){const e=H1(),n=ps(t)?ms(t):t;return QK.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||YK.some(r=>(n.willChange||"").includes(r))||XK.some(r=>(n.contain||"").includes(r))}function JK(t){let e=oa(t);for(;ti(e)&&!Nc(e);){if(q1(e))return e;if(qy(e))return null;e=oa(e)}return null}function H1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ZK=new Set(["html","body","#document"]);function Nc(t){return ZK.has($c(t))}function ms(t){return Sr(t).getComputedStyle(t)}function Hy(t){return ps(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oa(t){if($c(t)==="html")return t;const e=t.assignedSlot||t.parentNode||TC(t)&&t.host||ii(t);return TC(e)?e.host:e}function JR(t){const e=oa(t);return Nc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ti(e)&&Af(e)?e:JR(e)}function ef(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=JR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Sr(s);if(i){const u=jb(a);return e.concat(a,a.visualViewport||[],Af(s)?s:[],u&&n?ef(u):[])}return e.concat(s,ef(s,[],n))}function jb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZR(t){const e=ms(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ti(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,u=Ug(n)!==i||Ug(r)!==a;return u&&(n=i,r=a),{width:n,height:r,$:u}}function K1(t){return ps(t)?t:t.contextElement}function hc(t){const e=K1(t);if(!ti(e))return Ws(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=ZR(e);let a=(i?Ug(n.width):n.width)/r,u=(i?Ug(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const eG=Ws(0);function ej(t){const e=Sr(t);return!H1()||!e.visualViewport?eG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function tG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sr(t)?!1:e}function Rl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=K1(t);let a=Ws(1);e&&(r?ps(r)&&(a=hc(r)):a=hc(t));const u=tG(i,n,r)?ej(i):Ws(0);let c=(s.left+u.x)/a.x,h=(s.top+u.y)/a.y,p=s.width/a.x,g=s.height/a.y;if(i){const v=Sr(i),E=r&&ps(r)?Sr(r):r;let I=v,T=jb(I);for(;T&&r&&E!==I;){const _=hc(T),D=T.getBoundingClientRect(),P=ms(T),M=D.left+(T.clientLeft+parseFloat(P.paddingLeft))*_.x,B=D.top+(T.clientTop+parseFloat(P.paddingTop))*_.y;c*=_.x,h*=_.y,p*=_.x,g*=_.y,c+=M,h+=B,I=Sr(T),T=jb(I)}}return $g({width:p,height:g,x:c,y:h})}function Ky(t,e){const n=Hy(t).scrollLeft;return e?e.left+n:Rl(ii(t)).left+n}function tj(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ky(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function nG(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=ii(r),u=e?qy(e.floating):!1;if(r===a||u&&i)return n;let c={scrollLeft:0,scrollTop:0},h=Ws(1);const p=Ws(0),g=ti(r);if((g||!g&&!i)&&(($c(r)!=="body"||Af(a))&&(c=Hy(r)),ti(r))){const E=Rl(r);h=hc(r),p.x=E.x+r.clientLeft,p.y=E.y+r.clientTop}const v=a&&!g&&!i?tj(a,c):Ws(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-c.scrollLeft*h.x+p.x+v.x,y:n.y*h.y-c.scrollTop*h.y+p.y+v.y}}function rG(t){return Array.from(t.getClientRects())}function sG(t){const e=ii(t),n=Hy(t),r=t.ownerDocument.body,s=vr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=vr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ky(t);const u=-n.scrollTop;return ms(r).direction==="rtl"&&(a+=vr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:u}}const _C=25;function iG(t,e){const n=Sr(t),r=ii(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,u=0,c=0;if(s){i=s.width,a=s.height;const p=H1();(!p||p&&e==="fixed")&&(u=s.offsetLeft,c=s.offsetTop)}const h=Ky(r);if(h<=0){const p=r.ownerDocument,g=p.body,v=getComputedStyle(g),E=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,I=Math.abs(r.clientWidth-g.clientWidth-E);I<=_C&&(i-=I)}else h<=_C&&(i+=h);return{width:i,height:a,x:u,y:c}}const oG=new Set(["absolute","fixed"]);function aG(t,e){const n=Rl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ti(t)?hc(t):Ws(1),a=t.clientWidth*i.x,u=t.clientHeight*i.y,c=s*i.x,h=r*i.y;return{width:a,height:u,x:c,y:h}}function IC(t,e,n){let r;if(e==="viewport")r=iG(t,n);else if(e==="document")r=sG(ii(t));else if(ps(e))r=aG(e,n);else{const s=ej(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return $g(r)}function nj(t,e){const n=oa(t);return n===e||!ps(n)||Nc(n)?!1:ms(n).position==="fixed"||nj(n,e)}function lG(t,e){const n=e.get(t);if(n)return n;let r=ef(t,[],!1).filter(u=>ps(u)&&$c(u)!=="body"),s=null;const i=ms(t).position==="fixed";let a=i?oa(t):t;for(;ps(a)&&!Nc(a);){const u=ms(a),c=q1(a);!c&&u.position==="fixed"&&(s=null),(i?!c&&!s:!c&&u.position==="static"&&s&&oG.has(s.position)||Af(a)&&!c&&nj(t,a))?r=r.filter(h=>h!==a):s=u,a=oa(a)}return e.set(t,r),r}function uG(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?qy(e)?[]:lG(e,this._c):[].concat(n),r],a=i[0],u=i.reduce((c,h)=>{const p=IC(e,h,s);return c.top=vr(p.top,c.top),c.right=ia(p.right,c.right),c.bottom=ia(p.bottom,c.bottom),c.left=vr(p.left,c.left),c},IC(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function cG(t){const{width:e,height:n}=ZR(t);return{width:e,height:n}}function dG(t,e,n){const r=ti(e),s=ii(e),i=n==="fixed",a=Rl(t,!0,i,e);let u={scrollLeft:0,scrollTop:0};const c=Ws(0);function h(){c.x=Ky(s)}if(r||!r&&!i)if(($c(e)!=="body"||Af(s))&&(u=Hy(e)),r){const E=Rl(e,!0,i,e);c.x=E.x+e.clientLeft,c.y=E.y+e.clientTop}else s&&h();i&&!r&&s&&h();const p=s&&!r&&!i?tj(s,u):Ws(0),g=a.left+u.scrollLeft-c.x-p.x,v=a.top+u.scrollTop-c.y-p.y;return{x:g,y:v,width:a.width,height:a.height}}function aw(t){return ms(t).position==="static"}function CC(t,e){if(!ti(t)||ms(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ii(t)===n&&(n=n.ownerDocument.body),n}function rj(t,e){const n=Sr(t);if(qy(t))return n;if(!ti(t)){let s=oa(t);for(;s&&!Nc(s);){if(ps(s)&&!aw(s))return s;s=oa(s)}return n}let r=CC(t,e);for(;r&&GK(r)&&aw(r);)r=CC(r,e);return r&&Nc(r)&&aw(r)&&!q1(r)?n:r||JK(t)||n}const hG=async function(t){const e=this.getOffsetParent||rj,n=this.getDimensions,r=await n(t.floating);return{reference:dG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fG(t){return ms(t).direction==="rtl"}const pG={convertOffsetParentRelativeRectToViewportRelativeRect:nG,getDocumentElement:ii,getClippingRect:uG,getOffsetParent:rj,getElementRects:hG,getClientRects:rG,getDimensions:cG,getScale:hc,isElement:ps,isRTL:fG};function sj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function mG(t,e){let n=null,r;const s=ii(t);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),i();const h=t.getBoundingClientRect(),{left:p,top:g,width:v,height:E}=h;if(u||e(),!v||!E)return;const I=bm(g),T=bm(s.clientWidth-(p+v)),_=bm(s.clientHeight-(g+E)),D=bm(p),P={rootMargin:-I+"px "+-T+"px "+-_+"px "+-D+"px",threshold:vr(0,ia(1,c))||1};let M=!0;function B(z){const K=z[0].intersectionRatio;if(K!==c){if(!M)return a();K?a(!1,K):r=setTimeout(()=>{a(!1,1e-7)},1e3)}K===1&&!sj(h,t.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(B,{...P,root:s.ownerDocument})}catch{n=new IntersectionObserver(B,P)}n.observe(t)}return a(!0),i}function gG(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,h=K1(t),p=s||i?[...h?ef(h):[],...ef(e)]:[];p.forEach(D=>{s&&D.addEventListener("scroll",n,{passive:!0}),i&&D.addEventListener("resize",n)});const g=h&&u?mG(h,n):null;let v=-1,E=null;a&&(E=new ResizeObserver(D=>{let[P]=D;P&&P.target===h&&E&&(E.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var M;(M=E)==null||M.observe(e)})),n()}),h&&!c&&E.observe(h),E.observe(e));let I,T=c?Rl(t):null;c&&_();function _(){const D=Rl(t);T&&!sj(T,D)&&n(),T=D,I=requestAnimationFrame(_)}return n(),()=>{var D;p.forEach(P=>{s&&P.removeEventListener("scroll",n),i&&P.removeEventListener("resize",n)}),g==null||g(),(D=E)==null||D.disconnect(),E=null,c&&cancelAnimationFrame(I)}}const yG=UK,vG=zK,wG=VK,bG=qK,xG=FK,NC=LK,SG=$K,EG=(t,e,n)=>{const r=new Map,s={platform:pG,...n},i={...s.platform,_c:r};return OK(t,e,{...s,platform:i})};var kG=typeof document<"u",TG=function(){},Qm=kG?S.useLayoutEffect:TG;function qg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!qg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!qg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function ij(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function DC(t,e){const n=ij(t);return Math.round(e*n)/n}function lw(t){const e=S.useRef(t);return Qm(()=>{e.current=t}),e}function _G(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:u=!0,whileElementsMounted:c,open:h}=t,[p,g]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,E]=S.useState(r);qg(v,r)||E(r);const[I,T]=S.useState(null),[_,D]=S.useState(null),P=S.useCallback(W=>{W!==K.current&&(K.current=W,T(W))},[]),M=S.useCallback(W=>{W!==R.current&&(R.current=W,D(W))},[]),B=i||I,z=a||_,K=S.useRef(null),R=S.useRef(null),C=S.useRef(p),A=c!=null,O=lw(c),F=lw(s),$=lw(h),L=S.useCallback(()=>{if(!K.current||!R.current)return;const W={placement:e,strategy:n,middleware:v};F.current&&(W.platform=F.current),EG(K.current,R.current,W).then(ne=>{const oe={...ne,isPositioned:$.current!==!1};ke.current&&!qg(C.current,oe)&&(C.current=oe,P1.flushSync(()=>{g(oe)}))})},[v,e,n,F,$]);Qm(()=>{h===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(W=>({...W,isPositioned:!1})))},[h]);const ke=S.useRef(!1);Qm(()=>(ke.current=!0,()=>{ke.current=!1}),[]),Qm(()=>{if(B&&(K.current=B),z&&(R.current=z),B&&z){if(O.current)return O.current(B,z,L);L()}},[B,z,L,O,A]);const Pe=S.useMemo(()=>({reference:K,floating:R,setReference:P,setFloating:M}),[P,M]),ye=S.useMemo(()=>({reference:B,floating:z}),[B,z]),ve=S.useMemo(()=>{const W={position:n,left:0,top:0};if(!ye.floating)return W;const ne=DC(ye.floating,p.x),oe=DC(ye.floating,p.y);return u?{...W,transform:"translate("+ne+"px, "+oe+"px)",...ij(ye.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:oe}},[n,u,ye.floating,p.x,p.y]);return S.useMemo(()=>({...p,update:L,refs:Pe,elements:ye,floatingStyles:ve}),[p,L,Pe,ye,ve])}const IG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?NC({element:r.current,padding:s}).fn(n):{}:r?NC({element:r,padding:s}).fn(n):{}}}},CG=(t,e)=>({...yG(t),options:[t,e]}),NG=(t,e)=>({...vG(t),options:[t,e]}),DG=(t,e)=>({...SG(t),options:[t,e]}),AG=(t,e)=>({...wG(t),options:[t,e]}),PG=(t,e)=>({...bG(t),options:[t,e]}),RG=(t,e)=>({...xG(t),options:[t,e]}),jG=(t,e)=>({...IG(t),options:[t,e]});var MG="Arrow",oj=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx(Hn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});oj.displayName=MG;var OG=oj;function LG(t){const[e,n]=S.useState(void 0);return sa(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,u;if("borderBoxSize"in i){const c=i.borderBoxSize,h=Array.isArray(c)?c[0]:c;a=h.inlineSize,u=h.blockSize}else a=t.offsetWidth,u=t.offsetHeight;n({width:a,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var G1="Popper",[aj,lj]=Df(G1),[VG,uj]=aj(G1),cj=t=>{const{__scopePopper:e,children:n}=t,[r,s]=S.useState(null);return x.jsx(VG,{scope:e,anchor:r,onAnchorChange:s,children:n})};cj.displayName=G1;var dj="PopperAnchor",hj=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=uj(dj,n),a=S.useRef(null),u=or(e,a),c=S.useRef(null);return S.useEffect(()=>{const h=c.current;c.current=(r==null?void 0:r.current)||a.current,h!==c.current&&i.onAnchorChange(c.current)}),r?null:x.jsx(Hn.div,{...s,ref:u})});hj.displayName=dj;var W1="PopperContent",[FG,BG]=aj(W1),fj=S.forwardRef((t,e)=>{var n,r,s,i,a,u;const{__scopePopper:c,side:h="bottom",sideOffset:p=0,align:g="center",alignOffset:v=0,arrowPadding:E=0,avoidCollisions:I=!0,collisionBoundary:T=[],collisionPadding:_=0,sticky:D="partial",hideWhenDetached:P=!1,updatePositionStrategy:M="optimized",onPlaced:B,...z}=t,K=uj(W1,c),[R,C]=S.useState(null),A=or(e,Gn=>C(Gn)),[O,F]=S.useState(null),$=LG(O),L=($==null?void 0:$.width)??0,ke=($==null?void 0:$.height)??0,Pe=h+(g!=="center"?"-"+g:""),ye=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},ve=Array.isArray(T)?T:[T],W=ve.length>0,ne={padding:ye,boundary:ve.filter(zG),altBoundary:W},{refs:oe,floatingStyles:G,placement:re,isPositioned:pe,middlewareData:me}=_G({strategy:"fixed",placement:Pe,whileElementsMounted:(...Gn)=>gG(...Gn,{animationFrame:M==="always"}),elements:{reference:K.anchor},middleware:[CG({mainAxis:p+ke,alignmentAxis:v}),I&&NG({mainAxis:!0,crossAxis:!1,limiter:D==="partial"?DG():void 0,...ne}),I&&AG({...ne}),PG({...ne,apply:({elements:Gn,rects:Xi,availableWidth:ql,availableHeight:Ji})=>{const{width:oi,height:pa}=Xi.reference,mt=Gn.floating.style;mt.setProperty("--radix-popper-available-width",`${ql}px`),mt.setProperty("--radix-popper-available-height",`${Ji}px`),mt.setProperty("--radix-popper-anchor-width",`${oi}px`),mt.setProperty("--radix-popper-anchor-height",`${pa}px`)}}),O&&jG({element:O,padding:E}),$G({arrowWidth:L,arrowHeight:ke}),P&&RG({strategy:"referenceHidden",...ne})]}),[Re,Ue]=gj(re),Ce=Bi(B);sa(()=>{pe&&(Ce==null||Ce())},[pe,Ce]);const $e=(n=me.arrow)==null?void 0:n.x,Be=(r=me.arrow)==null?void 0:r.y,pt=((s=me.arrow)==null?void 0:s.centerOffset)!==0,[kr,Tr]=S.useState();return sa(()=>{R&&Tr(window.getComputedStyle(R).zIndex)},[R]),x.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:pe?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:kr,"--radix-popper-transform-origin":[(i=me.transformOrigin)==null?void 0:i.x,(a=me.transformOrigin)==null?void 0:a.y].join(" "),...((u=me.hide)==null?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(FG,{scope:c,placedSide:Re,onArrowChange:F,arrowX:$e,arrowY:Be,shouldHideArrow:pt,children:x.jsx(Hn.div,{"data-side":Re,"data-align":Ue,...z,ref:A,style:{...z.style,animation:pe?void 0:"none"}})})})});fj.displayName=W1;var pj="PopperArrow",UG={top:"bottom",right:"left",bottom:"top",left:"right"},mj=S.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,s=BG(pj,n),i=UG[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(OG,{...r,ref:e,style:{...r.style,display:"block"}})})});mj.displayName=pj;function zG(t){return t!==null}var $G=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s;const{placement:i,rects:a,middlewareData:u}=e,c=((n=u.arrow)==null?void 0:n.centerOffset)!==0,h=c?0:t.arrowWidth,p=c?0:t.arrowHeight,[g,v]=gj(i),E={start:"0%",center:"50%",end:"100%"}[v],I=(((r=u.arrow)==null?void 0:r.x)??0)+h/2,T=(((s=u.arrow)==null?void 0:s.y)??0)+p/2;let _="",D="";return g==="bottom"?(_=c?E:`${I}px`,D=`${-p}px`):g==="top"?(_=c?E:`${I}px`,D=`${a.floating.height+p}px`):g==="right"?(_=`${-p}px`,D=c?E:`${T}px`):g==="left"&&(_=`${a.floating.width+p}px`,D=c?E:`${T}px`),{data:{x:_,y:D}}}});function gj(t){const[e,n="center"]=t.split("-");return[e,n]}var qG=cj,HG=hj,KG=fj,GG=mj,WG="Portal",yj=S.forwardRef((t,e)=>{var n;const{container:r,...s}=t,[i,a]=S.useState(!1);sa(()=>a(!0),[]);const u=r||i&&((n=globalThis==null?void 0:globalThis.document)==null?void 0:n.body);return u?Zz.createPortal(x.jsx(Hn.div,{...s,ref:e}),u):null});yj.displayName=WG;function QG(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var Pf=t=>{const{present:e,children:n}=t,r=YG(e),s=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),i=or(r.ref,XG(s));return typeof n=="function"||r.isPresent?S.cloneElement(s,{ref:i}):null};Pf.displayName="Presence";function YG(t){const[e,n]=S.useState(),r=S.useRef(null),s=S.useRef(t),i=S.useRef("none"),a=t?"mounted":"unmounted",[u,c]=QG(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const h=xm(r.current);i.current=u==="mounted"?h:"none"},[u]),sa(()=>{const h=r.current,p=s.current;if(p!==t){const g=i.current,v=xm(h);t?c("MOUNT"):v==="none"||(h==null?void 0:h.display)==="none"?c("UNMOUNT"):c(p&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),sa(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=E=>{const I=xm(r.current).includes(CSS.escape(E.animationName));if(E.target===e&&I&&(c("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},v=E=>{E.target===e&&(i.current=xm(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:S.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function xm(t){return(t==null?void 0:t.animationName)||"none"}function XG(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var uw="rovingFocusGroup.onEntryFocus",JG={bubbles:!1,cancelable:!0},Rf="RovingFocusGroup",[Mb,vj,ZG]=zR(Rf),[eW,wj]=Df(Rf,[ZG]),[tW,nW]=eW(Rf),bj=S.forwardRef((t,e)=>x.jsx(Mb.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(Mb.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(rW,{...t,ref:e})})}));bj.displayName=Rf;var rW=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=t,v=S.useRef(null),E=or(e,v),I=$R(i),[T,_]=BR({prop:a,defaultProp:u??null,onChange:c,caller:Rf}),[D,P]=S.useState(!1),M=Bi(h),B=vj(n),z=S.useRef(!1),[K,R]=S.useState(0);return S.useEffect(()=>{const C=v.current;if(C)return C.addEventListener(uw,M),()=>C.removeEventListener(uw,M)},[M]),x.jsx(tW,{scope:n,orientation:r,dir:I,loop:s,currentTabStopId:T,onItemFocus:S.useCallback(C=>_(C),[_]),onItemShiftTab:S.useCallback(()=>P(!0),[]),onFocusableItemAdd:S.useCallback(()=>R(C=>C+1),[]),onFocusableItemRemove:S.useCallback(()=>R(C=>C-1),[]),children:x.jsx(Hn.div,{tabIndex:D||K===0?-1:0,"data-orientation":r,...g,ref:E,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{z.current=!0}),onFocus:et(t.onFocus,C=>{const A=!z.current;if(C.target===C.currentTarget&&A&&!D){const O=new CustomEvent(uw,JG);if(C.currentTarget.dispatchEvent(O),!O.defaultPrevented){const F=B().filter(Pe=>Pe.focusable),$=F.find(Pe=>Pe.active),L=F.find(Pe=>Pe.id===T),ke=[$,L,...F].filter(Boolean).map(Pe=>Pe.ref.current);Ej(ke,p)}}z.current=!1}),onBlur:et(t.onBlur,()=>P(!1))})})}),xj="RovingFocusGroupItem",Sj=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...u}=t,c=Ab(),h=i||c,p=nW(xj,n),g=p.currentTabStopId===h,v=vj(n),{onFocusableItemAdd:E,onFocusableItemRemove:I,currentTabStopId:T}=p;return S.useEffect(()=>{if(r)return E(),()=>I()},[r,E,I]),x.jsx(Mb.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:x.jsx(Hn.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:et(t.onMouseDown,_=>{r?p.onItemFocus(h):_.preventDefault()}),onFocus:et(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:et(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){p.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const D=oW(_,p.orientation,p.dir);if(D!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let P=v().filter(M=>M.focusable).map(M=>M.ref.current);if(D==="last")P.reverse();else if(D==="prev"||D==="next"){D==="prev"&&P.reverse();const M=P.indexOf(_.currentTarget);P=p.loop?aW(P,M+1):P.slice(M+1)}setTimeout(()=>Ej(P))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:T!=null}):a})})});Sj.displayName=xj;var sW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function oW(t,e,n){const r=iW(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return sW[r]}function Ej(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function aW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var lW=bj,uW=Sj;function cW(t){const e=dW(t),n=S.forwardRef((r,s)=>{const{children:i,...a}=r,u=S.Children.toArray(i),c=u.find(fW);if(c){const h=c.props.children,p=u.map(g=>g===c?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function dW(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const a=mW(s),u=pW(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Ul(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var hW=Symbol("radix.slottable");function fW(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===hW}function pW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function mW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var gW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ku=new WeakMap,Sm=new WeakMap,Em={},cw=0,kj=function(t){return t&&(t.host||kj(t.parentNode))},yW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kj(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},vW=function(t,e,n,r){var s=yW(e,Array.isArray(t)?t:[t]);Em[n]||(Em[n]=new WeakMap);var i=Em[n],a=[],u=new Set,c=new Set(s),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};s.forEach(h);var p=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))p(v);else try{var E=v.getAttribute(r),I=E!==null&&E!=="false",T=(Ku.get(v)||0)+1,_=(i.get(v)||0)+1;Ku.set(v,T),i.set(v,_),a.push(v),T===1&&I&&Sm.set(v,!0),_===1&&v.setAttribute(n,"true"),I||v.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",v,D)}})};return p(e),u.clear(),cw++,function(){a.forEach(function(g){var v=Ku.get(g)-1,E=i.get(g)-1;Ku.set(g,v),i.set(g,E),v||(Sm.has(g)||g.removeAttribute(r),Sm.delete(g)),E||g.removeAttribute(n)}),cw--,cw||(Ku=new WeakMap,Ku=new WeakMap,Sm=new WeakMap,Em={})}},wW=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=gW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),vW(r,s,n,"aria-hidden")):function(){return null}},Vs=function(){return Vs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Vs.apply(this,arguments)};function Tj(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function bW(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Ym="right-scroll-bar-position",Xm="width-before-scroll-bar",xW="with-scroll-bars-hidden",SW="--removed-body-scroll-bar-size";function dw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function EW(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var kW=typeof window<"u"?S.useLayoutEffect:S.useEffect,AC=new WeakMap;function TW(t,e){var n=EW(null,function(r){return t.forEach(function(s){return dw(s,r)})});return kW(function(){var r=AC.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(u){i.has(u)||dw(u,null)}),i.forEach(function(u){s.has(u)||dw(u,a)})}AC.set(n,t)},[t]),n}function _W(t){return t}function IW(t,e){e===void 0&&(e=_W);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(u){return u!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var u=n;n=[],u.forEach(i),a=n}var c=function(){var p=a;a=[],p.forEach(i)},h=function(){return Promise.resolve().then(c)};h(),n={push:function(p){a.push(p),h()},filter:function(p){return a=a.filter(p),n}}}};return s}function CW(t){t===void 0&&(t={});var e=IW(null);return e.options=Vs({async:!0,ssr:!1},t),e}var _j=function(t){var e=t.sideCar,n=Tj(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Vs({},n))};_j.isSideCarExport=!0;function NW(t,e){return t.useMedium(e),_j}var Ij=CW(),hw=function(){},Gy=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:hw,onWheelCapture:hw,onTouchMoveCapture:hw}),s=r[0],i=r[1],a=t.forwardProps,u=t.children,c=t.className,h=t.removeScrollBar,p=t.enabled,g=t.shards,v=t.sideCar,E=t.noRelative,I=t.noIsolation,T=t.inert,_=t.allowPinchZoom,D=t.as,P=D===void 0?"div":D,M=t.gapMode,B=Tj(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=v,K=TW([n,e]),R=Vs(Vs({},B),s);return S.createElement(S.Fragment,null,p&&S.createElement(z,{sideCar:Ij,removeScrollBar:h,shards:g,noRelative:E,noIsolation:I,inert:T,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:M}),a?S.cloneElement(S.Children.only(u),Vs(Vs({},R),{ref:K})):S.createElement(P,Vs({},R,{className:c,ref:K}),u))});Gy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gy.classNames={fullWidth:Xm,zeroRight:Ym};var DW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=DW();return e&&t.setAttribute("nonce",e),t}function PW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function RW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var jW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=AW())&&(PW(e,n),RW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},MW=function(){var t=jW();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Cj=function(){var t=MW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},OW={left:0,top:0,right:0,gap:0},fw=function(t){return parseInt(t||"",10)||0},LW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[fw(n),fw(r),fw(s)]},VW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return OW;var e=LW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},FW=Cj(),fc="data-scroll-locked",BW=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(xW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(fc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ym,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Xm,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Ym," .").concat(Ym,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xm," .").concat(Xm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fc,`] {
    `).concat(SW,": ").concat(u,`px;
  }
`)},PC=function(){var t=parseInt(document.body.getAttribute(fc)||"0",10);return isFinite(t)?t:0},UW=function(){S.useEffect(function(){return document.body.setAttribute(fc,(PC()+1).toString()),function(){var t=PC()-1;t<=0?document.body.removeAttribute(fc):document.body.setAttribute(fc,t.toString())}},[])},zW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;UW();var i=S.useMemo(function(){return VW(s)},[s]);return S.createElement(FW,{styles:BW(i,!e,s,n?"":"!important")})},Ob=!1;if(typeof window<"u")try{var km=Object.defineProperty({},"passive",{get:function(){return Ob=!0,!0}});window.addEventListener("test",km,km),window.removeEventListener("test",km,km)}catch{Ob=!1}var Gu=Ob?{passive:!1}:!1,$W=function(t){return t.tagName==="TEXTAREA"},Nj=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!$W(t)&&n[e]==="visible")},qW=function(t){return Nj(t,"overflowY")},HW=function(t){return Nj(t,"overflowX")},RC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Dj(t,r);if(s){var i=Aj(t,r),a=i[1],u=i[2];if(a>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},KW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},GW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Dj=function(t,e){return t==="v"?qW(e):HW(e)},Aj=function(t,e){return t==="v"?KW(e):GW(e)},WW=function(t,e){return t==="h"&&e==="rtl"?-1:1},QW=function(t,e,n,r,s){var i=WW(t,window.getComputedStyle(e).direction),a=i*r,u=n.target,c=e.contains(u),h=!1,p=a>0,g=0,v=0;do{if(!u)break;var E=Aj(t,u),I=E[0],T=E[1],_=E[2],D=T-_-i*I;(I||D)&&Dj(t,u)&&(g+=D,v+=I);var P=u.parentNode;u=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!c&&u!==document.body||c&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(h=!0),h},Tm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},jC=function(t){return[t.deltaX,t.deltaY]},MC=function(t){return t&&"current"in t?t.current:t},YW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},XW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},JW=0,Wu=[];function ZW(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),s=S.useState(JW++)[0],i=S.useState(Cj)[0],a=S.useRef(t);S.useEffect(function(){a.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var T=bW([t.lockRef.current],(t.shards||[]).map(MC)).filter(Boolean);return T.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=S.useCallback(function(T,_){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!a.current.allowPinchZoom;var D=Tm(T),P=n.current,M="deltaX"in T?T.deltaX:P[0]-D[0],B="deltaY"in T?T.deltaY:P[1]-D[1],z,K=T.target,R=Math.abs(M)>Math.abs(B)?"h":"v";if("touches"in T&&R==="h"&&K.type==="range")return!1;var C=RC(R,K);if(!C)return!0;if(C?z=R:(z=R==="v"?"h":"v",C=RC(R,K)),!C)return!1;if(!r.current&&"changedTouches"in T&&(M||B)&&(r.current=z),!z)return!0;var A=r.current||z;return QW(A,_,T,A==="h"?M:B)},[]),c=S.useCallback(function(T){var _=T;if(!(!Wu.length||Wu[Wu.length-1]!==i)){var D="deltaY"in _?jC(_):Tm(_),P=e.current.filter(function(z){return z.name===_.type&&(z.target===_.target||_.target===z.shadowParent)&&YW(z.delta,D)})[0];if(P&&P.should){_.cancelable&&_.preventDefault();return}if(!P){var M=(a.current.shards||[]).map(MC).filter(Boolean).filter(function(z){return z.contains(_.target)}),B=M.length>0?u(_,M[0]):!a.current.noIsolation;B&&_.cancelable&&_.preventDefault()}}},[]),h=S.useCallback(function(T,_,D,P){var M={name:T,delta:_,target:D,should:P,shadowParent:eQ(D)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(B){return B!==M})},1)},[]),p=S.useCallback(function(T){n.current=Tm(T),r.current=void 0},[]),g=S.useCallback(function(T){h(T.type,jC(T),T.target,u(T,t.lockRef.current))},[]),v=S.useCallback(function(T){h(T.type,Tm(T),T.target,u(T,t.lockRef.current))},[]);S.useEffect(function(){return Wu.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",c,Gu),document.addEventListener("touchmove",c,Gu),document.addEventListener("touchstart",p,Gu),function(){Wu=Wu.filter(function(T){return T!==i}),document.removeEventListener("wheel",c,Gu),document.removeEventListener("touchmove",c,Gu),document.removeEventListener("touchstart",p,Gu)}},[]);var E=t.removeScrollBar,I=t.inert;return S.createElement(S.Fragment,null,I?S.createElement(i,{styles:XW(s)}):null,E?S.createElement(zW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function eQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const tQ=NW(Ij,ZW);var Pj=S.forwardRef(function(t,e){return S.createElement(Gy,Vs({},t,{ref:e,sideCar:tQ}))});Pj.classNames=Gy.classNames;var Lb=["Enter"," "],nQ=["ArrowDown","PageUp","Home"],Rj=["ArrowUp","PageDown","End"],rQ=[...nQ,...Rj],sQ={ltr:[...Lb,"ArrowRight"],rtl:[...Lb,"ArrowLeft"]},iQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jf="Menu",[tf,oQ,aQ]=zR(jf),[zl,jj]=Df(jf,[aQ,lj,wj]),Wy=lj(),Mj=wj(),[lQ,$l]=zl(jf),[uQ,Mf]=zl(jf),Oj=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,u=Wy(e),[c,h]=S.useState(null),p=S.useRef(!1),g=Bi(i),v=$R(s);return S.useEffect(()=>{const E=()=>{p.current=!0,document.addEventListener("pointerdown",I,{capture:!0,once:!0}),document.addEventListener("pointermove",I,{capture:!0,once:!0})},I=()=>p.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",I,{capture:!0}),document.removeEventListener("pointermove",I,{capture:!0})}},[]),x.jsx(qG,{...u,children:x.jsx(lQ,{scope:e,open:n,onOpenChange:g,content:c,onContentChange:h,children:x.jsx(uQ,{scope:e,onClose:S.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:a,children:r})})})};Oj.displayName=jf;var cQ="MenuAnchor",Q1=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Wy(n);return x.jsx(HG,{...s,...r,ref:e})});Q1.displayName=cQ;var Y1="MenuPortal",[dQ,Lj]=zl(Y1,{forceMount:void 0}),Vj=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=$l(Y1,e);return x.jsx(dQ,{scope:e,forceMount:n,children:x.jsx(Pf,{present:n||i.open,children:x.jsx(yj,{asChild:!0,container:s,children:r})})})};Vj.displayName=Y1;var qr="MenuContent",[hQ,X1]=zl(qr),Fj=S.forwardRef((t,e)=>{const n=Lj(qr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=$l(qr,t.__scopeMenu),a=Mf(qr,t.__scopeMenu);return x.jsx(tf.Provider,{scope:t.__scopeMenu,children:x.jsx(Pf,{present:r||i.open,children:x.jsx(tf.Slot,{scope:t.__scopeMenu,children:a.modal?x.jsx(fQ,{...s,ref:e}):x.jsx(pQ,{...s,ref:e})})})})}),fQ=S.forwardRef((t,e)=>{const n=$l(qr,t.__scopeMenu),r=S.useRef(null),s=or(e,r);return S.useEffect(()=>{const i=r.current;if(i)return wW(i)},[]),x.jsx(J1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),pQ=S.forwardRef((t,e)=>{const n=$l(qr,t.__scopeMenu);return x.jsx(J1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),mQ=cW("MenuContent.ScrollLock"),J1=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEntryFocus:c,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:E,disableOutsideScroll:I,...T}=t,_=$l(qr,n),D=Mf(qr,n),P=Wy(n),M=Mj(n),B=oQ(n),[z,K]=S.useState(null),R=S.useRef(null),C=or(e,R,_.onContentChange),A=S.useRef(0),O=S.useRef(""),F=S.useRef(0),$=S.useRef(null),L=S.useRef("right"),ke=S.useRef(0),Pe=I?Pj:S.Fragment,ye=I?{as:mQ,allowPinchZoom:!0}:void 0,ve=ne=>{var oe,G;const re=O.current+ne,pe=B().filter(Be=>!Be.disabled),me=document.activeElement,Re=(oe=pe.find(Be=>Be.ref.current===me))==null?void 0:oe.textValue,Ue=pe.map(Be=>Be.textValue),Ce=IQ(Ue,re,Re),$e=(G=pe.find(Be=>Be.textValue===Ce))==null?void 0:G.ref.current;(function Be(pt){O.current=pt,window.clearTimeout(A.current),pt!==""&&(A.current=window.setTimeout(()=>Be(""),1e3))})(re),$e&&setTimeout(()=>$e.focus())};S.useEffect(()=>()=>window.clearTimeout(A.current),[]),mK();const W=S.useCallback(ne=>{var oe,G;return L.current===((oe=$.current)==null?void 0:oe.side)&&NQ(ne,(G=$.current)==null?void 0:G.area)},[]);return x.jsx(hQ,{scope:n,searchRef:O,onItemEnter:S.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),onItemLeave:S.useCallback(ne=>{var oe;W(ne)||((oe=R.current)==null||oe.focus(),K(null))},[W]),onTriggerLeave:S.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),pointerGraceTimerRef:F,onPointerGraceIntentChange:S.useCallback(ne=>{$.current=ne},[]),children:x.jsx(Pe,{...ye,children:x.jsx(GR,{asChild:!0,trapped:s,onMountAutoFocus:et(i,ne=>{var oe;ne.preventDefault(),(oe=R.current)==null||oe.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:x.jsx(HR,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:E,children:x.jsx(lW,{asChild:!0,...M,dir:D.dir,orientation:"vertical",loop:r,currentTabStopId:z,onCurrentTabStopIdChange:K,onEntryFocus:et(c,ne=>{D.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(KG,{role:"menu","aria-orientation":"vertical","data-state":tM(_.open),"data-radix-menu-content":"",dir:D.dir,...P,...T,ref:C,style:{outline:"none",...T.style},onKeyDown:et(T.onKeyDown,ne=>{const oe=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,G=ne.ctrlKey||ne.altKey||ne.metaKey,re=ne.key.length===1;oe&&(ne.key==="Tab"&&ne.preventDefault(),!G&&re&&ve(ne.key));const pe=R.current;if(ne.target!==pe||!rQ.includes(ne.key))return;ne.preventDefault();const me=B().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);Rj.includes(ne.key)&&me.reverse(),TQ(me)}),onBlur:et(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(A.current),O.current="")}),onPointerMove:et(t.onPointerMove,nf(ne=>{const oe=ne.target,G=ke.current!==ne.clientX;if(ne.currentTarget.contains(oe)&&G){const re=ne.clientX>ke.current?"right":"left";L.current=re,ke.current=ne.clientX}}))})})})})})})});Fj.displayName=qr;var gQ="MenuGroup",Z1=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Hn.div,{role:"group",...r,ref:e})});Z1.displayName=gQ;var yQ="MenuLabel",Bj=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Hn.div,{...r,ref:e})});Bj.displayName=yQ;var Hg="MenuItem",OC="menu.itemSelect",Qy=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=S.useRef(null),a=Mf(Hg,t.__scopeMenu),u=X1(Hg,t.__scopeMenu),c=or(e,i),h=S.useRef(!1),p=()=>{const g=i.current;if(!n&&g){const v=new CustomEvent(OC,{bubbles:!0,cancelable:!0});g.addEventListener(OC,E=>r==null?void 0:r(E),{once:!0}),UR(g,v),v.defaultPrevented?h.current=!1:a.onClose()}};return x.jsx(Uj,{...s,ref:c,disabled:n,onClick:et(t.onClick,p),onPointerDown:g=>{var v;(v=t.onPointerDown)==null||v.call(t,g),h.current=!0},onPointerUp:et(t.onPointerUp,g=>{var v;h.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:et(t.onKeyDown,g=>{const v=u.searchRef.current!=="";n||v&&g.key===" "||Lb.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Qy.displayName=Hg;var Uj=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=X1(Hg,n),u=Mj(n),c=S.useRef(null),h=or(e,c),[p,g]=S.useState(!1),[v,E]=S.useState("");return S.useEffect(()=>{const I=c.current;I&&E((I.textContent??"").trim())},[i.children]),x.jsx(tf.ItemSlot,{scope:n,disabled:r,textValue:s??v,children:x.jsx(uW,{asChild:!0,...u,focusable:!r,children:x.jsx(Hn.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:h,onPointerMove:et(t.onPointerMove,nf(I=>{r?a.onItemLeave(I):(a.onItemEnter(I),I.defaultPrevented||I.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,nf(I=>a.onItemLeave(I))),onFocus:et(t.onFocus,()=>g(!0)),onBlur:et(t.onBlur,()=>g(!1))})})})}),vQ="MenuCheckboxItem",zj=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return x.jsx(Gj,{scope:t.__scopeMenu,checked:n,children:x.jsx(Qy,{role:"menuitemcheckbox","aria-checked":Kg(n)?"mixed":n,...s,ref:e,"data-state":tS(n),onSelect:et(s.onSelect,()=>r==null?void 0:r(Kg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});zj.displayName=vQ;var $j="MenuRadioGroup",[wQ,bQ]=zl($j,{value:void 0,onValueChange:()=>{}}),qj=S.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Bi(r);return x.jsx(wQ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:x.jsx(Z1,{...s,ref:e})})});qj.displayName=$j;var Hj="MenuRadioItem",Kj=S.forwardRef((t,e)=>{const{value:n,...r}=t,s=bQ(Hj,t.__scopeMenu),i=n===s.value;return x.jsx(Gj,{scope:t.__scopeMenu,checked:i,children:x.jsx(Qy,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":tS(i),onSelect:et(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});Kj.displayName=Hj;var eS="MenuItemIndicator",[Gj,xQ]=zl(eS,{checked:!1}),Wj=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=xQ(eS,n);return x.jsx(Pf,{present:r||Kg(i.checked)||i.checked===!0,children:x.jsx(Hn.span,{...s,ref:e,"data-state":tS(i.checked)})})});Wj.displayName=eS;var SQ="MenuSeparator",Qj=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Hn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Qj.displayName=SQ;var EQ="MenuArrow",Yj=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Wy(n);return x.jsx(GG,{...s,...r,ref:e})});Yj.displayName=EQ;var kQ="MenuSub",[qne,Xj]=zl(kQ),gh="MenuSubTrigger",Jj=S.forwardRef((t,e)=>{const n=$l(gh,t.__scopeMenu),r=Mf(gh,t.__scopeMenu),s=Xj(gh,t.__scopeMenu),i=X1(gh,t.__scopeMenu),a=S.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:c}=i,h={__scopeMenu:t.__scopeMenu},p=S.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return S.useEffect(()=>p,[p]),S.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),c(null)}},[u,c]),x.jsx(Q1,{asChild:!0,...h,children:x.jsx(Uj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":tM(n.open),...t,ref:Ul(e,s.onTriggerChange),onClick:g=>{var v;(v=t.onClick)==null||v.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,nf(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:et(t.onPointerLeave,nf(g=>{var v,E;p();const I=(v=n.content)==null?void 0:v.getBoundingClientRect();if(I){const T=(E=n.content)==null?void 0:E.dataset.side,_=T==="right",D=_?-5:5,P=I[_?"left":"right"],M=I[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+D,y:g.clientY},{x:P,y:I.top},{x:M,y:I.top},{x:M,y:I.bottom},{x:P,y:I.bottom}],side:T}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,g=>{var v;const E=i.searchRef.current!=="";t.disabled||E&&g.key===" "||sQ[r.dir].includes(g.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),g.preventDefault())})})})});Jj.displayName=gh;var Zj="MenuSubContent",eM=S.forwardRef((t,e)=>{const n=Lj(qr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=$l(qr,t.__scopeMenu),a=Mf(qr,t.__scopeMenu),u=Xj(Zj,t.__scopeMenu),c=S.useRef(null),h=or(e,c);return x.jsx(tf.Provider,{scope:t.__scopeMenu,children:x.jsx(Pf,{present:r||i.open,children:x.jsx(tf.Slot,{scope:t.__scopeMenu,children:x.jsx(J1,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:h,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;a.isUsingKeyboardRef.current&&((g=c.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:et(t.onFocusOutside,p=>{p.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,p=>{a.onClose(),p.preventDefault()}),onKeyDown:et(t.onKeyDown,p=>{var g;const v=p.currentTarget.contains(p.target),E=iQ[a.dir].includes(p.key);v&&E&&(i.onOpenChange(!1),(g=u.trigger)==null||g.focus(),p.preventDefault())})})})})})});eM.displayName=Zj;function tM(t){return t?"open":"closed"}function Kg(t){return t==="indeterminate"}function tS(t){return Kg(t)?"indeterminate":t?"checked":"unchecked"}function TQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function _Q(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function IQ(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=_Q(t,Math.max(s,0));r.length===1&&(i=i.filter(u=>u!==n));const a=i.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return a!==n?a:void 0}function CQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const u=e[i],c=e[a],h=u.x,p=u.y,g=c.x,v=c.y;p>r!=v>r&&n<(g-h)*(r-p)/(v-p)+h&&(s=!s)}return s}function NQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return CQ(n,e)}function nf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var DQ=Oj,AQ=Q1,PQ=Vj,RQ=Fj,jQ=Z1,MQ=Bj,OQ=Qy,LQ=zj,VQ=qj,FQ=Kj,BQ=Wj,UQ=Qj,zQ=Yj,$Q=Jj,qQ=eM,Yy="DropdownMenu",[HQ]=Df(Yy,[jj]),Kn=jj(),[KQ,nM]=HQ(Yy),rM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:u=!0}=t,c=Kn(e),h=S.useRef(null),[p,g]=BR({prop:s,defaultProp:i??!1,onChange:a,caller:Yy});return x.jsx(KQ,{scope:e,triggerId:Ab(),triggerRef:h,contentId:Ab(),open:p,onOpenChange:g,onOpenToggle:S.useCallback(()=>g(v=>!v),[g]),modal:u,children:x.jsx(DQ,{...c,open:p,onOpenChange:g,dir:r,modal:u,children:n})})};rM.displayName=Yy;var sM="DropdownMenuTrigger",iM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=nM(sM,n),a=Kn(n);return x.jsx(AQ,{asChild:!0,...a,children:x.jsx(Hn.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ul(e,i.triggerRef),onPointerDown:et(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:et(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});iM.displayName=sM;var GQ="DropdownMenuPortal",oM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Kn(e);return x.jsx(PQ,{...r,...n})};oM.displayName=GQ;var aM="DropdownMenuContent",lM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nM(aM,n),i=Kn(n),a=S.useRef(!1);return x.jsx(RQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,u=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,u.preventDefault()}),onInteractOutside:et(t.onInteractOutside,u=>{const c=u.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0,p=c.button===2||h;(!s.modal||p)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lM.displayName=aM;var WQ="DropdownMenuGroup",QQ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return x.jsx(jQ,{...s,...r,ref:e})});QQ.displayName=WQ;var YQ="DropdownMenuLabel",uM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return x.jsx(MQ,{...s,...r,ref:e})});uM.displayName=YQ;var XQ="DropdownMenuItem",cM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return x.jsx(OQ,{...s,...r,ref:e})});cM.displayName=XQ;var JQ="DropdownMenuCheckboxItem",dM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return x.jsx(LQ,{...s,...r,ref:e})});dM.displayName=JQ;var ZQ="DropdownMenuRadioGroup",eY=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return x.jsx(VQ,{...s,...r,ref:e})});eY.displayName=ZQ;var tY="DropdownMenuRadioItem",hM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return x.jsx(FQ,{...s,...r,ref:e})});hM.displayName=tY;var nY="DropdownMenuItemIndicator",fM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return x.jsx(BQ,{...s,...r,ref:e})});fM.displayName=nY;var rY="DropdownMenuSeparator",pM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return x.jsx(UQ,{...s,...r,ref:e})});pM.displayName=rY;var sY="DropdownMenuArrow",iY=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return x.jsx(zQ,{...s,...r,ref:e})});iY.displayName=sY;var oY="DropdownMenuSubTrigger",mM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return x.jsx($Q,{...s,...r,ref:e})});mM.displayName=oY;var aY="DropdownMenuSubContent",gM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return x.jsx(qQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gM.displayName=aY;var lY=rM,uY=iM,cY=oM,yM=lM,vM=uM,wM=cM,bM=dM,xM=hM,SM=fM,EM=pM,kM=mM,TM=gM;const dY=lY,hY=uY,fY=S.forwardRef(({className:t,inset:e,children:n,...r},s)=>x.jsxs(kM,{ref:s,className:wt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,x.jsx(eq,{className:"ml-auto"})]}));fY.displayName=kM.displayName;const pY=S.forwardRef(({className:t,...e},n)=>x.jsx(TM,{ref:n,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));pY.displayName=TM.displayName;const _M=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(cY,{children:x.jsx(yM,{ref:r,sideOffset:e,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));_M.displayName=yM.displayName;const Mr=S.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(wM,{ref:r,className:wt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Mr.displayName=wM.displayName;const mY=S.forwardRef(({className:t,children:e,checked:n,...r},s)=>x.jsxs(bM,{ref:s,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(SM,{children:x.jsx(Y$,{className:"h-4 w-4"})})}),e]}));mY.displayName=bM.displayName;const gY=S.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(xM,{ref:r,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(SM,{children:x.jsx(oq,{className:"h-2 w-2 fill-current"})})}),e]}));gY.displayName=xM.displayName;const IM=S.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(vM,{ref:r,className:wt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));IM.displayName=vM.displayName;const Jm=S.forwardRef(({className:t,...e},n)=>x.jsx(EM,{ref:n,className:wt("-mx-1 my-1 h-px bg-muted",t),...e}));Jm.displayName=EM.displayName;function gs(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function jl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const CM=6048e5,yY=864e5;let vY={};function Xy(){return vY}function rf(t,e){var n,r,s,i;const a=Xy(),u=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??a.weekStartsOn??((i=(s=a.locale)==null?void 0:s.options)==null?void 0:i.weekStartsOn)??0,c=gs(t),h=c.getDay(),p=(h<u?7:0)+h-u;return c.setDate(c.getDate()-p),c.setHours(0,0,0,0),c}function Gg(t){return rf(t,{weekStartsOn:1})}function NM(t){const e=gs(t),n=e.getFullYear(),r=jl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Gg(r),i=jl(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Gg(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Vb(t){const e=gs(t);return e.setHours(0,0,0,0),e}function LC(t){const e=gs(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function wY(t,e){const n=Vb(t),r=Vb(e),s=+n-LC(n),i=+r-LC(r);return Math.round((s-i)/yY)}function bY(t){const e=NM(t),n=jl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Gg(n)}function xY(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function SY(t){if(!xY(t)&&typeof t!="number")return!1;const e=gs(t);return!isNaN(Number(e))}function EY(t){const e=gs(t),n=jl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const kY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TY=(t,e,n)=>{let r;const s=kY[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function pw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const _Y={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},IY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},NY={date:pw({formats:_Y,defaultWidth:"full"}),time:pw({formats:IY,defaultWidth:"full"}),dateTime:pw({formats:CY,defaultWidth:"full"})},DY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},AY=(t,e,n,r)=>DY[t];function oh(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):a;s=t.formattingValues[u]||t.formattingValues[a]}else{const a=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const PY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},RY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},LY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},VY=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},FY={ordinalNumber:VY,era:oh({values:PY,defaultWidth:"wide"}),quarter:oh({values:RY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:oh({values:jY,defaultWidth:"wide"}),day:oh({values:MY,defaultWidth:"wide"}),dayPeriod:oh({values:OY,defaultWidth:"wide",formattingValues:LY,defaultFormattingWidth:"wide"})};function ah(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?UY(u,g=>g.test(a)):BY(u,g=>g.test(a));let h;h=t.valueCallback?t.valueCallback(c):c,h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(a.length);return{value:h,rest:p}}}function BY(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function UY(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function zY(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const u=e.slice(s.length);return{value:a,rest:u}}}const $Y=/^(\d+)(th|st|nd|rd)?/i,qY=/\d+/i,HY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KY={any:[/^b/i,/^(a|c)/i]},GY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},WY={any:[/1/i,/2/i,/3/i,/4/i]},QY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},YY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},XY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},JY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ZY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},eX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tX={ordinalNumber:zY({matchPattern:$Y,parsePattern:qY,valueCallback:t=>parseInt(t,10)}),era:ah({matchPatterns:HY,defaultMatchWidth:"wide",parsePatterns:KY,defaultParseWidth:"any"}),quarter:ah({matchPatterns:GY,defaultMatchWidth:"wide",parsePatterns:WY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ah({matchPatterns:QY,defaultMatchWidth:"wide",parsePatterns:YY,defaultParseWidth:"any"}),day:ah({matchPatterns:XY,defaultMatchWidth:"wide",parsePatterns:JY,defaultParseWidth:"any"}),dayPeriod:ah({matchPatterns:ZY,defaultMatchWidth:"any",parsePatterns:eX,defaultParseWidth:"any"})},nX={code:"en-US",formatDistance:TY,formatLong:NY,formatRelative:AY,localize:FY,match:tX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rX(t){const e=gs(t);return wY(e,EY(e))+1}function sX(t){const e=gs(t),n=+Gg(e)-+bY(e);return Math.round(n/CM)+1}function DM(t,e){var n,r,s,i;const a=gs(t),u=a.getFullYear(),c=Xy(),h=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??c.firstWeekContainsDate??((i=(s=c.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,p=jl(t,0);p.setFullYear(u+1,0,h),p.setHours(0,0,0,0);const g=rf(p,e),v=jl(t,0);v.setFullYear(u,0,h),v.setHours(0,0,0,0);const E=rf(v,e);return a.getTime()>=g.getTime()?u+1:a.getTime()>=E.getTime()?u:u-1}function iX(t,e){var n,r,s,i;const a=Xy(),u=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??a.firstWeekContainsDate??((i=(s=a.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,c=DM(t,e),h=jl(t,0);return h.setFullYear(c,0,u),h.setHours(0,0,0,0),rf(h,e)}function oX(t,e){const n=gs(t),r=+rf(n,e)-+iX(n,e);return Math.round(r/CM)+1}function at(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Vo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return at(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):at(n+1,2)},d(t,e){return at(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return at(t.getHours()%12||12,e.length)},H(t,e){return at(t.getHours(),e.length)},m(t,e){return at(t.getMinutes(),e.length)},s(t,e){return at(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return at(s,e.length)}},Qu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},VC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Vo.y(t,e)},Y:function(t,e,n,r){const s=DM(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return at(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):at(i,e.length)},R:function(t,e){const n=NM(t);return at(n,e.length)},u:function(t,e){const n=t.getFullYear();return at(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return at(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return at(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Vo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return at(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=oX(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):at(s,e.length)},I:function(t,e,n){const r=sX(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):at(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Vo.d(t,e)},D:function(t,e,n){const r=rX(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):at(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return at(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return at(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return at(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Qu.noon:r===0?s=Qu.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Qu.evening:r>=12?s=Qu.afternoon:r>=4?s=Qu.morning:s=Qu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Vo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Vo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Vo.s(t,e)},S:function(t,e){return Vo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return BC(r);case"XXXX":case"XX":return tl(r);case"XXXXX":case"XXX":default:return tl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return BC(r);case"xxxx":case"xx":return tl(r);case"xxxxx":case"xxx":default:return tl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+FC(r,":");case"OOOO":default:return"GMT"+tl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+FC(r,":");case"zzzz":default:return"GMT"+tl(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return at(r,e.length)},T:function(t,e,n){const r=t.getTime();return at(r,e.length)}};function FC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+at(i,2)}function BC(t,e){return t%60===0?(t>0?"-":"+")+at(Math.abs(t)/60,2):tl(t,e)}function tl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=at(Math.trunc(r/60),2),i=at(r%60,2);return n+s+e+i}const UC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},AM=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},aX=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return UC(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",UC(r,e)).replace("{{time}}",AM(s,e))},lX={p:AM,P:aX},uX=/^D+$/,cX=/^Y+$/,dX=["D","DD","YY","YYYY"];function hX(t){return uX.test(t)}function fX(t){return cX.test(t)}function pX(t,e,n){const r=mX(t,e,n);if(console.warn(r),dX.includes(t))throw new RangeError(r)}function mX(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vX=/^'([^]*?)'?$/,wX=/''/g,bX=/[a-zA-Z]/;function xX(t,e,n){var r,s,i,a;const u=Xy(),c=u.locale??nX,h=u.firstWeekContainsDate??((s=(r=u.locale)==null?void 0:r.options)==null?void 0:s.firstWeekContainsDate)??1,p=u.weekStartsOn??((a=(i=u.locale)==null?void 0:i.options)==null?void 0:a.weekStartsOn)??0,g=gs(t);if(!SY(g))throw new RangeError("Invalid time value");let v=e.match(yX).map(I=>{const T=I[0];if(T==="p"||T==="P"){const _=lX[T];return _(I,c.formatLong)}return I}).join("").match(gX).map(I=>{if(I==="''")return{isToken:!1,value:"'"};const T=I[0];if(T==="'")return{isToken:!1,value:SX(I)};if(VC[T])return{isToken:!0,value:I};if(T.match(bX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:I}});c.localize.preprocessor&&(v=c.localize.preprocessor(g,v));const E={firstWeekContainsDate:h,weekStartsOn:p,locale:c};return v.map(I=>{if(!I.isToken)return I.value;const T=I.value;(fX(T)||hX(T))&&pX(T,e,String(t));const _=VC[T[0]];return _(g,T,c.localize,E)}).join("")}function SX(t){const e=t.match(vX);return e?e[1].replace(wX,"'"):t}class Zm extends ln.Component{constructor(e){super(e),Gk(this,"hardReload",()=>{window.location.reload(!0)}),Gk(this,"clearCachesAndReload",async()=>{try{if("caches"in window){const n=await caches.keys();await Promise.all(n.map(r=>caches.delete(r)))}if("serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistrations();await Promise.all(n.map(r=>r.unregister()))}}catch(n){console.warn("Failed to clear caches or unregister SW",n)}finally{window.location.reload()}}),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ChunkErrorBoundary caught an error:",e,n)}render(){var e,n,r,s;if(this.state.hasError){const i=((e=this.state.error)==null?void 0:e.message)||"";return((n=this.state.error)==null?void 0:n.name)==="ChunkLoadError"||((r=this.state.error)==null?void 0:r.name)==="CSSChunkLoadError"||/Loading chunk|Failed to fetch dynamically imported module|Importing a module script failed/i.test(i)?x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Update available"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The app was updated. Please refresh to load the latest version."}),x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("button",{onClick:this.hardReload,className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"}),x.jsx("button",{onClick:this.clearCachesAndReload,className:"px-4 py-2 rounded-lg bg-gray-200",children:"Reset cache & reload"})]}),x.jsxs("details",{className:"mt-4 text-left text-xs text-gray-500",children:[x.jsx("summary",{children:"Details"}),x.jsx("pre",{className:"whitespace-pre-wrap break-words",children:((s=this.state.error)==null?void 0:s.stack)||i})]})]})}):x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"Try refreshing the page."}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"})]})})}return this.props.children}}const mw=ln.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_.js"),[]),[]),[]),[]),[])),EX=ln.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC.js"),__vite__mapDeps([0,1])),Lt([0,1])),Ft([0,1])),Ut([0,1])),$t([0,1]))),kX=ln.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc.js"),__vite__mapDeps([2,3])),Lt([2,3])),Ft([2,3])),Ut([2,3])),$t([2,3])));function TX({children:t,currentPageName:e}){var n;const r=Yi(),[s,i]=S.useState(!1),{user:a,loading:u}=B1(),[c,h]=S.useState(()=>localStorage.getItem("app.theme")==="dark");S.useEffect(()=>{const K=()=>{h(localStorage.getItem("app.theme")==="dark")};K(),window.addEventListener("storage",K);const R=setInterval(K,500);return()=>{window.removeEventListener("storage",K),clearInterval(R)}},[]),S.useEffect(()=>{const K=document.createElement("link");K.rel="manifest",K.href="/manifest.json",document.head.appendChild(K);const R=document.createElement("meta");R.name="theme-color",R.content=c?"#1e293b":"#9333ea",document.head.appendChild(R);const C=document.createElement("meta");C.name="apple-mobile-web-app-capable",C.content="yes",document.head.appendChild(C);const A=document.createElement("meta");A.name="apple-mobile-web-app-status-bar-style",A.content="default",document.head.appendChild(A);const O=document.createElement("meta");O.name="apple-mobile-web-app-title",O.content="Math Adventure",document.head.appendChild(O);const F=document.createElement("link");return F.rel="apple-touch-icon",document.head.appendChild(F),()=>{F.parentNode&&F.remove()}},[c]);const[p,g]=S.useState(0);S.useEffect(()=>{a!=null&&a.email&&g(0)},[a==null?void 0:a.email]);const v=xX(Vb(new Date),"yyyy-MM-dd"),{data:E=[]}=L$({queryKey:["dailyChallenges",v],initialData:[],enabled:!!a});if(e==="Landing")return x.jsx(x.Fragment,{children:t});if(e==="Home"&&!a)return x.jsx(x.Fragment,{children:t});if(!a)return u?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center max-w-md w-full",children:[x.jsx(lT,{size:"xl",variant:"circle",className:"mx-auto mb-6"}),x.jsx("h1",{className:"text-4xl font-extrabold text-white mb-3 drop-shadow-2xl",children:"Math Adventure"}),x.jsx("p",{className:"text-lg text-white mb-6 drop-shadow-lg",children:"Sign in or create an account to start."}),x.jsx(MR,{})]})});const I=E.some(K=>K.created_by===(a==null?void 0:a.email)),T=a?{avatar_skin_tone:a.avatar_skin_tone||"medium",avatar_hair_style:a.avatar_hair_style||"short",avatar_hair_color:a.avatar_hair_color||"brown",avatar_eyes:a.avatar_eyes||"normal",avatar_outfit:a.avatar_outfit||"casual",avatar_accessory:a.avatar_accessory||"none"}:null,_=a==null?void 0:a.active_pet,D=_?{id:_,name:"Pet",emoji:_==="dragon"?"":_==="owl"?"":_==="fox"?"":"",gradient:_==="dragon"?"from-red-400 to-orange-500":_==="owl"?"from-indigo-400 to-purple-500":_==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500",evolveLevel:5}:null,P=(a==null?void 0:a.subscription_tier)||"free",M=P!=="free",B=async()=>{const K=oy(fs);await H6(K),localStorage.clear(),window.location.href="/"},z=({to:K,icon:R,label:C,badge:A,badgeColor:O="red",isDarkMode:F})=>{const $=r.pathname===nt(K);return x.jsxs(ft,{to:nt(K),onClick:()=>i(!1),className:`relative flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${$?"bg-purple-500 text-white shadow-lg":F?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[x.jsx(R,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:C}),A&&x.jsx(Lr,{className:`absolute -top-1 -right-1 bg-${O}-500 text-white text-xs px-1.5 py-0.5 ${O==="red"?"animate-pulse":""}`,children:A})]})};return x.jsxs("div",{className:`min-h-screen ${c?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[x.jsx($H,{}),x.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${c?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),x.jsx("header",{className:`${c?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:x.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-2 md:py-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(ft,{to:nt("Home"),className:"flex items-center gap-3",children:[x.jsx(lT,{size:"md",variant:"circle"}),x.jsx("div",{children:x.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${c&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[a&&x.jsx(ft,{to:nt("Home"),className:"hidden md:inline-block",children:x.jsxs(Gs,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold shadow-lg",children:[x.jsx(wR,{className:"w-4 h-4 mr-2"}),"Play Now"]})}),a&&x.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white px-3 py-2 rounded-xl shadow-md",children:[x.jsx(YI,{className:"w-4 h-4"}),x.jsx("span",{className:"font-bold text-sm",children:a.coins||0})]}),P!=="free"?x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(Lr,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 px-3 py-1.5 cursor-pointer",children:[x.jsx(cl,{className:"w-3 h-3 mr-1"}),P==="family_teacher"?"Family":P==="premium_player"?"Premium":"Parent"]})}):x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(Lr,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 px-3 py-1.5 cursor-pointer animate-pulse",children:[x.jsx(cl,{className:"w-3 h-3 mr-1"}),"Upgrade"]})}),a&&x.jsx("div",{className:"hidden lg:block",children:x.jsxs(dY,{children:[x.jsx(hY,{asChild:!0,children:x.jsx(Gs,{variant:"ghost",className:`${c?"hover:bg-slate-700 text-gray-50":"hover:bg-purple-50 text-gray-900"} h-auto p-2`,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex items-center gap-1",children:x.jsx(Zm,{children:x.jsxs(ln.Suspense,{fallback:x.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 animate-pulse"}),children:[T&&x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(mw,{avatarData:T,size:"small"})}),D&&x.jsx("div",{className:"scale-50 origin-center -ml-2",children:x.jsx(EX,{pet:D,experience:((n=a==null?void 0:a.pet_experience)==null?void 0:n[_])||0,size:"small"})})]})})}),x.jsxs("div",{className:"text-left",children:[x.jsx("p",{className:`text-sm font-semibold ${c?"text-gray-50":"text-gray-900"}`,children:a.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:a.email})]}),x.jsx(J$,{className:`w-4 h-4 ${c?"text-gray-300":"text-gray-500"}`})]})})}),x.jsxs(_M,{align:"end",className:`${c?"bg-slate-800 border-slate-700 text-gray-50":"bg-white"} w-56`,children:[x.jsx(IM,{children:x.jsxs("div",{className:"flex flex-col space-y-1",children:[x.jsx("p",{className:`text-sm font-medium ${c?"text-gray-50":"text-gray-900"}`,children:a.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:a.email})]})}),x.jsx(Jm,{className:c?"bg-slate-700":""}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Avatar"),className:"cursor-pointer",children:[x.jsx(tw,{className:"w-4 h-4 mr-2"}),"View Profile"]})}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Messages"),className:"cursor-pointer",children:[x.jsx(rC,{className:"w-4 h-4 mr-2"}),"Messages",p>0&&x.jsx(Lr,{className:"ml-auto bg-blue-500 text-white text-xs",children:p})]})}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("DailyChallenge"),className:"cursor-pointer",children:[x.jsx(J0,{className:"w-4 h-4 mr-2"}),"Daily Challenge",!I&&x.jsx(Lr,{className:"ml-auto bg-red-500 text-white text-xs animate-pulse",children:"!"})]})}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("AITutor"),className:"cursor-pointer",children:[x.jsx(Gm,{className:"w-4 h-4 mr-2"}),"AI Tutor"]})}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Progress"),className:"cursor-pointer",children:[x.jsx(W$,{className:"w-4 h-4 mr-2"}),"Progress & Stats"]})}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Shop"),className:"cursor-pointer",children:[x.jsx(Z0,{className:"w-4 h-4 mr-2"}),"Rewards Shop"]})}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("ParentPortal"),className:"cursor-pointer",children:[x.jsx(ZI,{className:"w-4 h-4 mr-2"}),"Parent Portal",(a==null?void 0:a.is_parent_mode)&&x.jsx(Lr,{className:"ml-2 bg-blue-500 text-white text-xs",children:"ON"})]})}),x.jsx(Jm,{className:c?"bg-slate-700":""}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Settings"),className:"cursor-pointer",children:[x.jsx(sC,{className:"w-4 h-4 mr-2"}),"App Settings"]})}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer",children:[x.jsx(dq,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})}),M&&(a==null?void 0:a.subscription_auto_renew)!==!1&&x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer text-orange-600 focus:text-orange-600",children:[x.jsx(sq,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})}),x.jsx(Jm,{className:c?"bg-slate-700":""}),x.jsxs(Mr,{onClick:B,className:`${c?"text-red-400 focus:bg-slate-700 focus:text-red-400":"text-red-600 focus:text-red-600"} cursor-pointer`,children:[x.jsx(nC,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),x.jsx(Gs,{variant:"ghost",size:"icon",onClick:()=>i(!s),className:`lg:hidden ${c?"text-gray-50 hover:bg-slate-700":""}`,children:s?x.jsx(L1,{className:"w-6 h-6"}):x.jsx(Eq,{className:"w-6 h-6"})})]})]}),s&&x.jsxs("div",{className:`mt-4 pb-4 space-y-2 border-t pt-4 max-h-[calc(100vh-140px)] overflow-y-auto ${c?"border-slate-700":""}`,children:[a&&x.jsxs("div",{className:`${c?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx(ln.Suspense,{fallback:null,children:T&&x.jsx("div",{className:"scale-90 origin-center",children:x.jsx(mw,{avatarData:T,size:"small"})})}),x.jsxs("div",{children:[x.jsx("p",{className:`font-bold ${c?"text-gray-50":"text-gray-900"}`,children:a.full_name||"Player"}),x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:a.email})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(Lr,{className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white",children:[x.jsx(YI,{className:"w-3 h-3 mr-1"}),a.coins||0," Coins"]}),P!=="free"&&x.jsxs(Lr,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[x.jsx(cl,{className:"w-3 h-3 mr-1"}),P==="family_teacher"?"Family":P==="premium_player"?"Premium":"Parent"]})]})]}),x.jsx(z,{to:"Home",icon:tC,label:"Home",isDarkMode:c}),x.jsx(z,{to:"DailyChallenge",icon:J0,label:"Daily Challenge",badge:I?null:"!",isDarkMode:c}),x.jsx(z,{to:"Progress",icon:Eb,label:"Progress",isDarkMode:c}),x.jsx(z,{to:"AITutor",icon:Gm,label:"AI Tutor",isDarkMode:c}),x.jsx(z,{to:"Messages",icon:rC,label:"Messages",badge:p>0?p:null,badgeColor:"blue",isDarkMode:c}),x.jsx(z,{to:"Leaderboards",icon:q$,label:"Leaderboards",isDarkMode:c}),x.jsx(z,{to:"Shop",icon:Z0,label:"Shop",isDarkMode:c}),x.jsx(z,{to:"TeamChallenges",icon:kb,label:"Team Challenges",isDarkMode:c}),x.jsx(z,{to:"ParentPortal",icon:ZI,label:"Parent Portal",badge:a!=null&&a.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:c}),x.jsx(z,{to:"Avatar",icon:tw,label:"Profile",isDarkMode:c}),x.jsx("div",{className:`pt-2 mt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Settings"),onClick:()=>i(!1),children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-gradient-to-r from-gray-700 to-gray-800 text-gray-50 hover:bg-gray-700":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[x.jsx(sC,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"App Settings"})]})})}),x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Subscription"),onClick:()=>i(!1),className:"w-full block",children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${P!=="free"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 text-white animate-pulse"}`,children:[x.jsx(cl,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:P!=="free"?"Manage Subscription":"Upgrade to Premium"})]})})}),a&&x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsxs("button",{onClick:()=>{i(!1),B()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[x.jsx(nC,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]})}),x.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${c?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:x.jsxs("div",{className:"grid grid-cols-5 gap-1 px-2 py-2",children:[x.jsxs(ft,{to:nt("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Home")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(tC,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),x.jsxs(ft,{to:nt("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("DailyChallenge")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(J0,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!I&&x.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),x.jsxs(ft,{to:nt("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("AITutor")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(Gm,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),x.jsxs(ft,{to:nt("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Shop")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(Z0,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),x.jsx(ft,{to:nt("Avatar"),className:`flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Avatar")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:T?x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(mw,{avatarData:T,size:"small"})}):x.jsx(tw,{className:"w-6 h-6"})})]})}),x.jsx(Zm,{children:x.jsx(ln.Suspense,{fallback:null,children:x.jsx(kX,{})})}),x.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:x.jsx(Zm,{children:x.jsx(ln.Suspense,{fallback:x.jsx("div",{className:"min-h-[40vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-3"}),x.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),children:t})})}),x.jsx("footer",{className:`${c?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:x.jsx("div",{className:"max-w-7xl mx-auto px-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),x.jsx("p",{className:`text-xs ${c?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[x.jsx(ft,{to:nt("PrivacyPolicy"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx(ft,{to:nt("Subscription"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}const _X=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));_X.displayName="Card";const IX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex flex-col space-y-1.5 p-6",t),...e}));IX.displayName="CardHeader";const CX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("font-semibold leading-none tracking-tight",t),...e}));CX.displayName="CardTitle";const NX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm text-muted-foreground",t),...e}));NX.displayName="CardDescription";const DX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("p-6 pt-0",t),...e}));DX.displayName="CardContent";const AX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex items-center p-6 pt-0",t),...e}));AX.displayName="CardFooter";const PM=S.createContext({});function PX(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const nS=typeof window<"u",RX=nS?S.useLayoutEffect:S.useEffect,rS=S.createContext(null);function sS(t,e){t.indexOf(e)===-1&&t.push(e)}function iS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $i=(t,e,n)=>n>e?e:n<t?t:n;let oS=()=>{};const qi={},RM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function jM(t){return typeof t=="object"&&t!==null}const MM=t=>/^0[^.\s]+$/u.test(t);function aS(t){let e;return()=>(e===void 0&&(e=t()),e)}const Hr=t=>t,jX=(t,e)=>n=>e(t(n)),Of=(...t)=>t.reduce(jX),sf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class lS{constructor(){this.subscriptions=[]}add(e){return sS(this.subscriptions,e),()=>iS(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qs=t=>t*1e3,zr=t=>t/1e3;function OM(t,e){return e?t*(1e3/e):0}const LM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,MX=1e-7,OX=12;function LX(t,e,n,r,s){let i,a,u=0;do a=e+(n-e)/2,i=LM(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>MX&&++u<OX);return a}function Lf(t,e,n,r){if(t===e&&n===r)return Hr;const s=i=>LX(i,0,1,t,n);return i=>i===0||i===1?i:LM(s(i),e,r)}const VM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,FM=t=>e=>1-t(1-e),BM=Lf(.33,1.53,.69,.99),uS=FM(BM),UM=VM(uS),zM=t=>(t*=2)<1?.5*uS(t):.5*(2-Math.pow(2,-10*(t-1))),cS=t=>1-Math.sin(Math.acos(t)),$M=FM(cS),qM=VM(cS),VX=Lf(.42,0,1,1),FX=Lf(0,0,.58,1),HM=Lf(.42,0,.58,1),BX=t=>Array.isArray(t)&&typeof t[0]!="number",KM=t=>Array.isArray(t)&&typeof t[0]=="number",UX={linear:Hr,easeIn:VX,easeInOut:HM,easeOut:FX,circIn:cS,circInOut:qM,circOut:$M,backIn:uS,backInOut:UM,backOut:BM,anticipate:zM},zX=t=>typeof t=="string",zC=t=>{if(KM(t)){oS(t.length===4);const[e,n,r,s]=t;return Lf(e,n,r,s)}else if(zX(t))return UX[t];return t},_m=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $X(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(h.schedule(p),t()),p(u)}const h={schedule:(p,g=!1,v=!1)=>{const E=v&&s?n:r;return g&&a.add(p),E.has(p)||E.add(p),p},cancel:p=>{r.delete(p),a.delete(p)},process:p=>{if(u=p,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,h.process(p))}};return h}const qX=40;function GM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=_m.reduce((D,P)=>(D[P]=$X(i),D),{}),{setup:u,read:c,resolveKeyframes:h,preUpdate:p,update:g,preRender:v,render:E,postRender:I}=a,T=()=>{const D=qi.useManualTiming?s.timestamp:performance.now();n=!1,qi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(D-s.timestamp,qX),1)),s.timestamp=D,s.isProcessing=!0,u.process(s),c.process(s),h.process(s),p.process(s),g.process(s),v.process(s),E.process(s),I.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(T))},_=()=>{n=!0,r=!0,s.isProcessing||t(T)};return{schedule:_m.reduce((D,P)=>{const M=a[P];return D[P]=(B,z=!1,K=!1)=>(n||_(),M.schedule(B,z,K)),D},{}),cancel:D=>{for(let P=0;P<_m.length;P++)a[_m[P]].cancel(D)},state:s,steps:a}}const{schedule:St,cancel:aa,state:xn,steps:gw}=GM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hr,!0);let eg;function HX(){eg=void 0}const sr={now:()=>(eg===void 0&&sr.set(xn.isProcessing||qi.useManualTiming?xn.timestamp:performance.now()),eg),set:t=>{eg=t,queueMicrotask(HX)}},WM=t=>e=>typeof e=="string"&&e.startsWith(t),dS=WM("--"),KX=WM("var(--"),hS=t=>KX(t)?GX.test(t.split("/*")[0].trim()):!1,GX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},of={...qc,transform:t=>$i(0,1,t)},Im={...qc,default:1},Ch=t=>Math.round(t*1e5)/1e5,fS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WX(t){return t==null}const QX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pS=(t,e)=>n=>!!(typeof n=="string"&&QX.test(n)&&n.startsWith(t)||e&&!WX(n)&&Object.prototype.hasOwnProperty.call(n,e)),QM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,u]=r.match(fS);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},YX=t=>$i(0,255,t),yw={...qc,transform:t=>Math.round(YX(t))},dl={test:pS("rgb","red"),parse:QM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+yw.transform(t)+", "+yw.transform(e)+", "+yw.transform(n)+", "+Ch(of.transform(r))+")"};function XX(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Fb={test:pS("#"),parse:XX,transform:dl.transform},Vf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bo=Vf("deg"),Ys=Vf("%"),Oe=Vf("px"),JX=Vf("vh"),ZX=Vf("vw"),$C={...Ys,parse:t=>Ys.parse(t)/100,transform:t=>Ys.transform(t*100)},nc={test:pS("hsl","hue"),parse:QM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ys.transform(Ch(e))+", "+Ys.transform(Ch(n))+", "+Ch(of.transform(r))+")"},tn={test:t=>dl.test(t)||Fb.test(t)||nc.test(t),parse:t=>dl.test(t)?dl.parse(t):nc.test(t)?nc.parse(t):Fb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?dl.transform(t):nc.transform(t),getAnimatableNone:t=>{const e=tn.parse(t);return e.alpha=0,tn.transform(e)}},eJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tJ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(fS))==null?void 0:e.length)||0)+(((n=t.match(eJ))==null?void 0:n.length)||0)>0}const YM="number",XM="color",nJ="var",rJ="var(",qC="${}",sJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function af(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(sJ,u=>(tn.test(u)?(r.color.push(i),s.push(XM),n.push(tn.parse(u))):u.startsWith(rJ)?(r.var.push(i),s.push(nJ),n.push(u)):(r.number.push(i),s.push(YM),n.push(parseFloat(u))),++i,qC)).split(qC);return{values:n,split:a,indexes:r,types:s}}function JM(t){return af(t).values}function ZM(t){const{split:e,types:n}=af(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const u=n[a];u===YM?i+=Ch(s[a]):u===XM?i+=tn.transform(s[a]):i+=s[a]}return i}}const iJ=t=>typeof t=="number"?0:tn.test(t)?tn.getAnimatableNone(t):t;function oJ(t){const e=JM(t);return ZM(t)(e.map(iJ))}const la={test:tJ,parse:JM,createTransformer:ZM,getAnimatableNone:oJ};function vw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aJ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;s=vw(c,u,t+1/3),i=vw(c,u,t),a=vw(c,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Wg(t,e){return n=>n>0?e:t}const It=(t,e,n)=>t+(e-t)*n,ww=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},lJ=[Fb,dl,nc],uJ=t=>lJ.find(e=>e.test(t));function HC(t){const e=uJ(t);if(!e)return!1;let n=e.parse(t);return e===nc&&(n=aJ(n)),n}const KC=(t,e)=>{const n=HC(t),r=HC(e);if(!n||!r)return Wg(t,e);const s={...n};return i=>(s.red=ww(n.red,r.red,i),s.green=ww(n.green,r.green,i),s.blue=ww(n.blue,r.blue,i),s.alpha=It(n.alpha,r.alpha,i),dl.transform(s))},Bb=new Set(["none","hidden"]);function cJ(t,e){return Bb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function dJ(t,e){return n=>It(t,e,n)}function mS(t){return typeof t=="number"?dJ:typeof t=="string"?hS(t)?Wg:tn.test(t)?KC:pJ:Array.isArray(t)?eO:typeof t=="object"?tn.test(t)?KC:hJ:Wg}function eO(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>mS(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function hJ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=mS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function fJ(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],u=t.values[a]??0;n[s]=u,r[i]++}return n}const pJ=(t,e)=>{const n=la.createTransformer(e),r=af(t),s=af(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Bb.has(t)&&!s.values.length||Bb.has(e)&&!r.values.length?cJ(t,e):Of(eO(fJ(r,s),s.values),n):Wg(t,e)};function tO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?It(t,e,n):mS(t)(t,e)}const mJ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>St.update(e,n),stop:()=>aa(e),now:()=>xn.isProcessing?xn.timestamp:sr.now()}},nO=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Qg=2e4;function gS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Qg;)e+=n,r=t.next(e);return e>=Qg?1/0:e}function gJ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(gS(r),Qg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:zr(s)}}const yJ=5;function rO(t,e,n){const r=Math.max(e-yJ,0);return OM(n-t(r),e-r)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bw=.001;function vJ({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:r=Rt.mass}){let s,i,a=1-e;a=$i(Rt.minDamping,Rt.maxDamping,a),t=$i(Rt.minDuration,Rt.maxDuration,zr(t)),a<1?(s=h=>{const p=h*a,g=p*t,v=p-n,E=Ub(h,a),I=Math.exp(-g);return bw-v/E*I},i=h=>{const p=h*a*t,g=p*n+n,v=Math.pow(a,2)*Math.pow(h,2)*t,E=Math.exp(-p),I=Ub(Math.pow(h,2),a);return(-s(h)+bw>0?-1:1)*((g-v)*E)/I}):(s=h=>{const p=Math.exp(-h*t),g=(h-n)*t+1;return-bw+p*g},i=h=>{const p=Math.exp(-h*t),g=(n-h)*(t*t);return p*g});const u=5/t,c=bJ(s,i,u);if(t=Qs(t),isNaN(c))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const h=Math.pow(c,2)*r;return{stiffness:h,damping:a*2*Math.sqrt(r*h),duration:t}}}const wJ=12;function bJ(t,e,n){let r=n;for(let s=1;s<wJ;s++)r=r-t(r)/e(r);return r}function Ub(t,e){return t*Math.sqrt(1-e*e)}const xJ=["duration","bounce"],SJ=["stiffness","damping","mass"];function GC(t,e){return e.some(n=>t[n]!==void 0)}function EJ(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!GC(t,SJ)&&GC(t,xJ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*$i(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Rt.mass,stiffness:s,damping:i}}else{const n=vJ(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function Yg(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:c,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:E}=EJ({...n,velocity:-zr(n.velocity||0)}),I=v||0,T=h/(2*Math.sqrt(c*p)),_=a-i,D=zr(Math.sqrt(c/p)),P=Math.abs(_)<5;r||(r=P?Rt.restSpeed.granular:Rt.restSpeed.default),s||(s=P?Rt.restDelta.granular:Rt.restDelta.default);let M;if(T<1){const z=Ub(D,T);M=K=>{const R=Math.exp(-T*D*K);return a-R*((I+T*D*_)/z*Math.sin(z*K)+_*Math.cos(z*K))}}else if(T===1)M=z=>a-Math.exp(-D*z)*(_+(I+D*_)*z);else{const z=D*Math.sqrt(T*T-1);M=K=>{const R=Math.exp(-T*D*K),C=Math.min(z*K,300);return a-R*((I+T*D*_)*Math.sinh(C)+z*_*Math.cosh(C))/z}}const B={calculatedDuration:E&&g||null,next:z=>{const K=M(z);if(E)u.done=z>=g;else{let R=z===0?I:0;T<1&&(R=z===0?Qs(I):rO(M,z,K));const C=Math.abs(R)<=r,A=Math.abs(a-K)<=s;u.done=C&&A}return u.value=u.done?a:K,u},toString:()=>{const z=Math.min(gS(B),Qg),K=nO(R=>B.next(z*R).value,z,30);return z+"ms "+K},toTransition:()=>{}};return B}Yg.applyToOptions=t=>{const e=gJ(t,100,Yg);return t.ease=e.ease,t.duration=Qs(e.duration),t.type="keyframes",t};function zb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:u,max:c,restDelta:h=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},E=C=>u!==void 0&&C<u||c!==void 0&&C>c,I=C=>u===void 0?c:c===void 0||Math.abs(u-C)<Math.abs(c-C)?u:c;let T=n*e;const _=g+T,D=a===void 0?_:a(_);D!==_&&(T=D-g);const P=C=>-T*Math.exp(-C/r),M=C=>D+P(C),B=C=>{const A=P(C),O=M(C);v.done=Math.abs(A)<=h,v.value=v.done?D:O};let z,K;const R=C=>{E(v.value)&&(z=C,K=Yg({keyframes:[v.value,I(v.value)],velocity:rO(M,C,v.value),damping:s,stiffness:i,restDelta:h,restSpeed:p}))};return R(0),{calculatedDuration:null,next:C=>{let A=!1;return!K&&z===void 0&&(A=!0,B(C),R(C)),z!==void 0&&C>=z?K.next(C-z):(!A&&B(C),v)}}}function kJ(t,e,n){const r=[],s=n||qi.mix||tO,i=t.length-1;for(let a=0;a<i;a++){let u=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Hr:e;u=Of(c,u)}r.push(u)}return r}function TJ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(oS(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=kJ(e,r,s),c=u.length,h=p=>{if(a&&p<t[0])return e[0];let g=0;if(c>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=sf(t[g],t[g+1],p);return u[g](v)};return n?p=>h($i(t[0],t[i-1],p)):h}function _J(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=sf(0,e,r);t.push(It(n,1,s))}}function IJ(t){const e=[0];return _J(e,t.length-1),e}function CJ(t,e){return t.map(n=>n*e)}function NJ(t,e){return t.map(()=>e||HM).splice(0,t.length-1)}function Nh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=BX(r)?r.map(zC):zC(r),i={done:!1,value:e[0]},a=CJ(n&&n.length===e.length?n:IJ(e),t),u=TJ(a,e,{ease:Array.isArray(s)?s:NJ(e,s)});return{calculatedDuration:t,next:c=>(i.value=u(c),i.done=c>=t,i)}}const DJ=t=>t!==null;function yS(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(DJ),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const AJ={decay:zb,inertia:zb,tween:Nh,keyframes:Nh,spring:Yg};function sO(t){typeof t.type=="string"&&(t.type=AJ[t.type])}class vS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const PJ=t=>t/100;class wS extends vS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==sr.now()&&this.tick(sr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;sO(e);const{type:n=Nh,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:u}=e;const c=n||Nh;c!==Nh&&typeof u[0]!="number"&&(this.mixKeyframes=Of(PJ,tO(u[0],u[1])),u=[0,100]);const h=c({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=gS(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:E,type:I,onUpdate:T,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-h*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let M=this.currentTime,B=r;if(g){const C=Math.min(this.currentTime,s)/u;let A=Math.floor(C),O=C%1;!O&&C>=1&&(O=1),O===1&&A--,A=Math.min(A,g+1),A%2&&(v==="reverse"?(O=1-O,E&&(O-=E/u)):v==="mirror"&&(B=a)),M=$i(0,1,O)*u}const z=P?{done:!1,value:p[0]}:B.next(M);i&&(z.value=i(z.value));let{done:K}=z;!P&&c!==null&&(K=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return R&&I!==zb&&(z.value=yS(p,this.options,_,this.speed)),T&&T(z.value),R&&this.finish(),z}then(e,n){return this.finished.then(e,n)}get duration(){return zr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+zr(e)}get time(){return zr(this.currentTime)}set time(e){var n;e=Qs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(sr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=zr(this.currentTime))}play(){var e,n;if(this.isStopped)return;const{driver:r=mJ,startTime:s}=this.options;this.driver||(this.driver=r(a=>this.tick(a))),(n=(e=this.options).onPlay)==null||n.call(e);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function RJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const hl=t=>t*180/Math.PI,$b=t=>{const e=hl(Math.atan2(t[1],t[0]));return qb(e)},jJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:$b,rotateZ:$b,skewX:t=>hl(Math.atan(t[1])),skewY:t=>hl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},qb=t=>(t=t%360,t<0&&(t+=360),t),WC=$b,QC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),YC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),MJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:QC,scaleY:YC,scale:t=>(QC(t)+YC(t))/2,rotateX:t=>qb(hl(Math.atan2(t[6],t[5]))),rotateY:t=>qb(hl(Math.atan2(-t[2],t[0]))),rotateZ:WC,rotate:WC,skewX:t=>hl(Math.atan(t[4])),skewY:t=>hl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Hb(t){return t.includes("scale")?1:0}function Kb(t,e){if(!t||t==="none")return Hb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=MJ,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=jJ,s=u}if(!s)return Hb(e);const i=r[e],a=s[1].split(",").map(LJ);return typeof i=="function"?i(a):a[i]}const OJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Kb(n,e)};function LJ(t){return parseFloat(t.trim())}const Hc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kc=new Set(Hc),XC=t=>t===qc||t===Oe,VJ=new Set(["x","y","z"]),FJ=Hc.filter(t=>!VJ.has(t));function BJ(t){const e=[];return FJ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const vl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Kb(e,"x"),y:(t,{transform:e})=>Kb(e,"y")};vl.translateX=vl.x;vl.translateY=vl.y;const wl=new Set;let Gb=!1,Wb=!1,Qb=!1;function iO(){if(Wb){const t=Array.from(wl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=BJ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var u;(u=r.getValue(i))==null||u.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wb=!1,Gb=!1,wl.forEach(t=>t.complete(Qb)),wl.clear()}function oO(){wl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Wb=!0)})}function UJ(){Qb=!0,oO(),iO(),Qb=!1}class bS{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(wl.add(this),Gb||(Gb=!0,St.read(oO),St.resolveKeyframes(iO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}RJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wl.delete(this)}cancel(){this.state==="scheduled"&&(wl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const zJ=t=>t.startsWith("--");function $J(t,e,n){zJ(e)?t.style.setProperty(e,n):t.style[e]=n}const qJ=aS(()=>window.ScrollTimeline!==void 0),HJ={};function KJ(t,e){const n=aS(t);return()=>HJ[e]??n()}const aO=KJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,JC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yh([0,.65,.55,1]),circOut:yh([.55,0,1,.45]),backIn:yh([.31,.01,.66,-.59]),backOut:yh([.33,1.53,.69,.99])};function lO(t,e){if(t)return typeof t=="function"?aO()?nO(t,e):"ease-out":KM(t)?yh(t):Array.isArray(t)?t.map(n=>lO(n,e)||JC.easeOut):JC[t]}function GJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:u="easeOut",times:c}={},h=void 0){const p={[e]:n};c&&(p.offset=c);const g=lO(u,s);Array.isArray(g)&&(p.easing=g);const v={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),t.animate(p,v)}function uO(t){return typeof t=="function"&&"applyToOptions"in t}function WJ({type:t,...e}){return uO(t)&&aO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class QJ extends vS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,oS(typeof e.type!="string");const h=WJ(e);this.animation=GJ(n,r,s,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=yS(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):$J(n,r,p),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var e,n;const r=((n=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:n.call(e).duration)||0;return zr(Number(r))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+zr(e)}get time(){return zr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&qJ()?(this.animation.timeline=e,Hr):n(this)}}const cO={anticipate:zM,backInOut:UM,circInOut:qM};function YJ(t){return t in cO}function XJ(t){typeof t.ease=="string"&&YJ(t.ease)&&(t.ease=cO[t.ease])}const ZC=10;class JJ extends QJ{constructor(e){XJ(e),sO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new wS({...a,autoplay:!1}),c=Qs(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-ZC).value,u.sample(c).value,ZC),u.stop()}}const e2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(la.test(t)||t==="0")&&!t.startsWith("url("));function ZJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function eZ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=e2(s,e),u=e2(i,e);return!a||!u?!1:ZJ(t)||(n==="spring"||uO(n))&&r}function Yb(t){t.duration=0,t.type="keyframes"}const tZ=new Set(["opacity","clipPath","filter","transform"]),nZ=aS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rZ(t){var e;const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:u}=t;if(!(((e=n==null?void 0:n.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=n.owner.getProps();return nZ()&&r&&tZ.has(r)&&(r!=="transform"||!h)&&!c&&!s&&i!=="mirror"&&a!==0&&u!=="inertia"}const sZ=40;class iZ extends vS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:u,name:c,motionValue:h,element:p,...g}){var v;super(),this.stop=()=>{var T,_;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=sr.now();const E={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:h,element:p,...g},I=(p==null?void 0:p.KeyframeResolver)||bS;this.keyframeResolver=new I(u,(T,_,D)=>this.onKeyframesResolved(T,_,E,!D),c,h,p),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:u,delay:c,isHandoff:h,onUpdate:p}=r;this.resolvedAt=sr.now(),eZ(e,i,a,u)||((qi.instantAnimations||!c)&&(p==null||p(yS(e,r,n))),e[0]=e[e.length-1],Yb(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>sZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!h&&rZ(g)?new JJ({...g,element:g.motionValue.owner.current}):new wS(g);v.finished.then(()=>this.notifyFinished()).catch(Hr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),UJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const oZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aZ(t){const e=oZ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function dO(t,e,n=1){const[r,s]=aZ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return RM(a)?parseFloat(a):a}return hS(s)?dO(s,e,n+1):s}function xS(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const hO=new Set(["width","height","top","left","right","bottom",...Hc]),lZ={test:t=>t==="auto",parse:t=>t},fO=t=>e=>e.test(t),pO=[qc,Oe,Ys,Bo,ZX,JX,lZ],t2=t=>pO.find(fO(t));function uZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||MM(t):!0}const cZ=new Set(["brightness","contrast","saturate","opacity"]);function dZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(fS)||[];if(!r)return t;const s=n.replace(r,"");let i=cZ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const hZ=/\b([a-z-]*)\(.*?\)/gu,Xb={...la,getAnimatableNone:t=>{const e=t.match(hZ);return e?e.map(dZ).join(" "):t}},n2={...qc,transform:Math.round},fZ={rotate:Bo,rotateX:Bo,rotateY:Bo,rotateZ:Bo,scale:Im,scaleX:Im,scaleY:Im,scaleZ:Im,skew:Bo,skewX:Bo,skewY:Bo,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:of,originX:$C,originY:$C,originZ:Oe},SS={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...fZ,zIndex:n2,fillOpacity:of,strokeOpacity:of,numOctaves:n2},pZ={...SS,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:Xb,WebkitFilter:Xb},mO=t=>pZ[t];function gO(t,e){let n=mO(t);return n!==Xb&&(n=la),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const mZ=new Set(["auto","none","0"]);function gZ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!mZ.has(i)&&af(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=gO(n,s)}class yZ extends bS{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),hS(h))){const p=dO(h,n.current);p!==void 0&&(e[c]=p),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!hO.has(r)||e.length!==2)return;const[s,i]=e,a=t2(s),u=t2(i);if(a!==u)if(XC(a)&&XC(u))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else vl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||uZ(e[s]))&&r.push(s);r.length&&gZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,u=s[a];s[a]=vl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([c,h])=>{n.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function vZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const yO=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function wZ(t){return jM(t)&&"offsetHeight"in t}const r2=30,bZ=t=>!isNaN(parseFloat(t));class xZ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=sr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=sr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=bZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lS);const r=this.events[e].add(n);return e==="change"?()=>{r(),St.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=sr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>r2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,r2);return OM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dc(t,e){return new xZ(t,e)}const{schedule:ES}=GM(queueMicrotask,!1),is={x:!1,y:!1};function vO(){return is.x||is.y}function SZ(t){return t==="x"||t==="y"?is[t]?null:(is[t]=!0,()=>{is[t]=!1}):is.x||is.y?null:(is.x=is.y=!0,()=>{is.x=is.y=!1})}function wO(t,e){const n=vZ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function s2(t){return!(t.pointerType==="touch"||vO())}function EZ(t,e,n={}){const[r,s,i]=wO(t,n),a=u=>{if(!s2(u))return;const{target:c}=u,h=e(c,u);if(typeof h!="function"||!c)return;const p=g=>{s2(g)&&(h(g),c.removeEventListener("pointerleave",p))};c.addEventListener("pointerleave",p,s)};return r.forEach(u=>{u.addEventListener("pointerenter",a,s)}),i}const bO=(t,e)=>e?t===e?!0:bO(t,e.parentElement):!1,kS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TZ(t){return kZ.has(t.tagName)||t.tabIndex!==-1}const tg=new WeakSet;function i2(t){return e=>{e.key==="Enter"&&t(e)}}function xw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _Z=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=i2(()=>{if(tg.has(n))return;xw(n,"down");const s=i2(()=>{xw(n,"up")}),i=()=>xw(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function o2(t){return kS(t)&&!vO()}function IZ(t,e,n={}){const[r,s,i]=wO(t,n),a=u=>{const c=u.currentTarget;if(!o2(u))return;tg.add(c);const h=e(c,u),p=(E,I)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),tg.has(c)&&tg.delete(c),o2(E)&&typeof h=="function"&&h(E,{success:I})},g=E=>{p(E,c===window||c===document||n.useGlobalTarget||bO(c,E.target))},v=E=>{p(E,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",a,s),wZ(u)&&(u.addEventListener("focus",c=>_Z(c,s)),!TZ(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function xO(t){return jM(t)&&"ownerSVGElement"in t}function CZ(t){return xO(t)&&t.tagName==="svg"}const jn=t=>!!(t&&t.getVelocity),NZ=[...pO,tn,la],DZ=t=>NZ.find(fO(t)),SO=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function AZ(t=!0){const e=S.useContext(rS);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=S.useId();S.useEffect(()=>{if(t)return s(i)},[t]);const a=S.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const EO=S.createContext({strict:!1}),a2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ac={};for(const t in a2)Ac[t]={isEnabled:e=>a2[t].some(n=>!!e[n])};function PZ(t){for(const e in t)Ac[e]={...Ac[e],...t[e]}}const RZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||RZ.has(t)}let kO=t=>!Xg(t);function jZ(t){typeof t=="function"&&(kO=e=>e.startsWith("on")?!Xg(e):t(e))}try{jZ(require("@emotion/is-prop-valid").default)}catch{}function MZ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(kO(s)||n===!0&&Xg(s)||!e&&!Xg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Jy=S.createContext({});function Zy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function lf(t){return typeof t=="string"||Array.isArray(t)}const TS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_S=["initial",...TS];function ev(t){return Zy(t.animate)||_S.some(e=>lf(t[e]))}function TO(t){return!!(ev(t)||t.variants)}function OZ(t,e){if(ev(t)){const{initial:n,animate:r}=t;return{initial:n===!1||lf(n)?n:void 0,animate:lf(r)?r:void 0}}return t.inherit!==!1?e:{}}function LZ(t){const{initial:e,animate:n}=OZ(t,S.useContext(Jy));return S.useMemo(()=>({initial:e,animate:n}),[l2(e),l2(n)])}function l2(t){return Array.isArray(t)?t.join(" "):t}const uf={};function VZ(t){for(const e in t)uf[e]=t[e],dS(e)&&(uf[e].isCSSVariable=!0)}function _O(t,{layout:e,layoutId:n}){return Kc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!uf[t]||t==="opacity")}const FZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BZ=Hc.length;function UZ(t,e,n){let r="",s=!0;for(let i=0;i<BZ;i++){const a=Hc[i],u=t[a];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(a.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const h=yO(u,SS[a]);if(!c){s=!1;const p=FZ[a]||a;r+=`${p}(${h}) `}n&&(e[a]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function IS(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,u=!1;for(const c in e){const h=e[c];if(Kc.has(c)){a=!0;continue}else if(dS(c)){s[c]=h;continue}else{const p=yO(h,SS[c]);c.startsWith("origin")?(u=!0,i[c]=p):r[c]=p}}if(e.transform||(a||n?r.transform=UZ(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:h="50%",originZ:p=0}=i;r.transformOrigin=`${c} ${h} ${p}`}}const CS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IO(t,e,n){for(const r in e)!jn(e[r])&&!_O(r,n)&&(t[r]=e[r])}function zZ({transformTemplate:t},e){return S.useMemo(()=>{const n=CS();return IS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $Z(t,e){const n=t.style||{},r={};return IO(r,n,t),Object.assign(r,zZ(t,e)),r}function qZ(t,e){const n={},r=$Z(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const HZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},KZ={offset:"strokeDashoffset",array:"strokeDasharray"};function GZ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?HZ:KZ;t[i.offset]=Oe.transform(-r);const a=Oe.transform(e),u=Oe.transform(n);t[i.array]=`${a} ${u}`}function CO(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...u},c,h,p){if(IS(t,u,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&GZ(g,s,i,a,!1)}const NO=()=>({...CS(),attrs:{}}),DO=t=>typeof t=="string"&&t.toLowerCase()==="svg";function WZ(t,e,n,r){const s=S.useMemo(()=>{const i=NO();return CO(i,e,DO(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};IO(i,t.style,t),s.style={...i,...s.style}}return s}const QZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NS(t){return typeof t!="string"||t.includes("-")?!1:!!(QZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function YZ(t,e,n,{latestValues:r},s,i=!1){const a=(NS(t)?WZ:qZ)(e,r,s,t),u=MZ(e,typeof t=="string",i),c=t!==S.Fragment?{...u,...a,ref:n}:{},{children:h}=e,p=S.useMemo(()=>jn(h)?h.get():h,[h]);return S.createElement(t,{...c,children:p})}function u2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function DS(t,e,n,r){if(typeof e=="function"){const[s,i]=u2(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=u2(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function ng(t){return jn(t)?t.get():t}function XZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:JZ(n,r,s,t),renderState:e()}}function JZ(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=ng(i[v]);let{initial:a,animate:u}=t;const c=ev(t),h=TO(t);e&&h&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const g=p?u:a;if(g&&typeof g!="boolean"&&!Zy(g)){const v=Array.isArray(g)?g:[g];for(let E=0;E<v.length;E++){const I=DS(t,v[E]);if(I){const{transitionEnd:T,transition:_,...D}=I;for(const P in D){let M=D[P];if(Array.isArray(M)){const B=p?M.length-1:0;M=M[B]}M!==null&&(s[P]=M)}for(const P in T)s[P]=T[P]}}}return s}const AO=t=>(e,n)=>{const r=S.useContext(Jy),s=S.useContext(rS),i=()=>XZ(t,e,r,s);return n?i():PX(i)};function AS(t,e,n){var r;const{style:s}=t,i={};for(const a in s)(jn(s[a])||e.style&&jn(e.style[a])||_O(a,t)||((r=n==null?void 0:n.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}const ZZ=AO({scrapeMotionValuesFromProps:AS,createRenderState:CS});function PO(t,e,n){const r=AS(t,e,n);for(const s in t)if(jn(t[s])||jn(e[s])){const i=Hc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const eee=AO({scrapeMotionValuesFromProps:PO,createRenderState:NO}),tee=Symbol.for("motionComponentSymbol");function rc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function nee(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):rc(n)&&(n.current=r))},[e])}const PS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ree="framerAppearId",RO="data-"+PS(ree),jO=S.createContext({});function see(t,e,n,r,s){var i,a;const{visualElement:u}=S.useContext(Jy),c=S.useContext(EO),h=S.useContext(rS),p=S.useContext(SO).reducedMotion,g=S.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=S.useContext(jO);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&iee(g.current,n,s,E);const I=S.useRef(!1);S.useInsertionEffect(()=>{v&&I.current&&v.update(n,h)});const T=n[RO],_=S.useRef(!!T&&!((i=window.MotionHandoffIsComplete)!=null&&i.call(window,T))&&((a=window.MotionHasOptimisedAnimation)==null?void 0:a.call(window,T)));return RX(()=>{v&&(I.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),_.current&&v.animationState&&v.animationState.animateChanges())}),S.useEffect(()=>{v&&(!_.current&&v.animationState&&v.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,T)}),_.current=!1),v.enteringChildren=void 0)}),v}function iee(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:u,layoutScroll:c,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:MO(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||u&&rc(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:c,layoutRoot:h})}function MO(t){if(t)return t.options.allowProjection!==!1?t.projection:MO(t.parent)}function Sw(t,{forwardMotionProps:e=!1}={},n,r){n&&PZ(n);const s=NS(t)?eee:ZZ;function i(u,c){let h;const p={...S.useContext(SO),...u,layoutId:oee(u)},{isStatic:g}=p,v=LZ(u),E=s(u,g);if(!g&&nS){aee();const I=lee(p);h=I.MeasureLayout,v.visualElement=see(t,E,p,r,I.ProjectionNode)}return x.jsxs(Jy.Provider,{value:v,children:[h&&v.visualElement?x.jsx(h,{visualElement:v.visualElement,...p}):null,YZ(t,u,nee(E,v.visualElement,c),E,g,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=S.forwardRef(i);return a[tee]=t,a}function oee({layoutId:t}){const e=S.useContext(PM).id;return e&&t!==void 0?e+"-"+t:t}function aee(t,e){S.useContext(EO).strict}function lee(t){const{drag:e,layout:n}=Ac;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function uee(t,e){if(typeof Proxy>"u")return Sw;const n=new Map,r=(i,a)=>Sw(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,Sw(a,void 0,t,e)),n.get(a))})}function OO({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function cee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function dee(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ew(t){return t===void 0||t===1}function Jb({scale:t,scaleX:e,scaleY:n}){return!Ew(t)||!Ew(e)||!Ew(n)}function nl(t){return Jb(t)||LO(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function LO(t){return c2(t.x)||c2(t.y)}function c2(t){return t&&t!=="0%"}function Jg(t,e,n){const r=t-n,s=e*r;return n+s}function d2(t,e,n,r,s){return s!==void 0&&(t=Jg(t,s,r)),Jg(t,n,r)+e}function Zb(t,e=0,n=1,r,s){t.min=d2(t.min,e,n,r,s),t.max=d2(t.max,e,n,r,s)}function VO(t,{x:e,y:n}){Zb(t.x,e.translate,e.scale,e.originPoint),Zb(t.y,n.translate,n.scale,n.originPoint)}const h2=.999999999999,f2=1.0000000000001;function hee(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let u=0;u<s;u++){i=n[u],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ic(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,VO(t,a)),r&&nl(i.latestValues)&&ic(t,i.latestValues))}e.x<f2&&e.x>h2&&(e.x=1),e.y<f2&&e.y>h2&&(e.y=1)}function sc(t,e){t.min=t.min+e,t.max=t.max+e}function p2(t,e,n,r,s=.5){const i=It(t.min,t.max,s);Zb(t,e,n,i,r)}function ic(t,e){p2(t.x,e.x,e.scaleX,e.scale,e.originX),p2(t.y,e.y,e.scaleY,e.scale,e.originY)}function FO(t,e){return OO(dee(t.getBoundingClientRect(),e))}function fee(t,e,n){const r=FO(t,n),{scroll:s}=e;return s&&(sc(r.x,s.offset.x),sc(r.y,s.offset.y)),r}const m2=()=>({translate:0,scale:1,origin:0,originPoint:0}),oc=()=>({x:m2(),y:m2()}),g2=()=>({min:0,max:0}),Xt=()=>({x:g2(),y:g2()}),ex={current:null},BO={current:!1};function pee(){if(BO.current=!0,!!nS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ex.current=t.matches;t.addEventListener("change",e),e()}else ex.current=!1}const mee=new WeakMap;function gee(t,e,n){for(const r in e){const s=e[r],i=n[r];if(jn(s))t.addValue(r,s);else if(jn(i))t.addValue(r,Dc(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Dc(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const y2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=sr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,St.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=ev(n),this.isVariantNode=TO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const E=g[v];c[v]!==void 0&&jn(E)&&E.set(c[v])}}mount(e){var n;this.current=e,mee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),BO.current||pee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ex.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),aa(this.notifyUpdate),aa(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Kc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&St.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ac){const n=Ac[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<y2.length;r++){const s=y2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=gee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Dc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(RM(r)||MM(r))?r=parseFloat(r):!DZ(r)&&la.test(n)&&(r=gO(e,n)),this.setBaseTarget(e,jn(r)?r.get():r)),jn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=DS(this.props,r,(n=this.presenceContext)==null?void 0:n.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!jn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ES.render(this.render)}}class UO extends yee{constructor(){super(...arguments),this.KeyframeResolver=yZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function zO(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function vee(t){return window.getComputedStyle(t)}class wee extends UO{constructor(){super(...arguments),this.type="html",this.renderInstance=zO}readValueFromInstance(e,n){var r;if(Kc.has(n))return(r=this.projection)!=null&&r.isProjecting?Hb(n):OJ(e,n);{const s=vee(e),i=(dS(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return FO(e,n)}build(e,n,r){IS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return AS(e,n,r)}}const $O=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bee(t,e,n,r){zO(t,e,void 0,r);for(const s in e.attrs)t.setAttribute($O.has(s)?s:PS(s),e.attrs[s])}class xee extends UO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Kc.has(n)){const r=mO(n);return r&&r.default||0}return n=$O.has(n)?n:PS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return PO(e,n,r)}build(e,n,r){CO(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){bee(e,n,r,s)}mount(e){this.isSVGTag=DO(e.tagName),super.mount(e)}}const See=(t,e)=>NS(t)?new xee(e):new wee(e,{allowProjection:t!==S.Fragment});function pc(t,e,n){const r=t.getProps();return DS(r,e,n!==void 0?n:r.custom,t)}const tx=t=>Array.isArray(t);function Eee(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Dc(n))}function kee(t){return tx(t)?t[t.length-1]||0:t}function Tee(t,e){const n=pc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const u=kee(i[a]);Eee(t,a,u)}}function _ee(t){return!!(jn(t)&&t.add)}function nx(t,e){const n=t.getValue("willChange");if(_ee(n))return n.add(e);if(!n&&qi.WillChange){const r=new qi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function qO(t){return t.props[RO]}const Iee=t=>t!==null;function Cee(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Iee),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const Nee={type:"spring",stiffness:500,damping:25,restSpeed:10},Dee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Aee={type:"keyframes",duration:.8},Pee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ree=(t,{keyframes:e})=>e.length>2?Aee:Kc.has(t)?t.startsWith("scale")?Dee(e[1]):Nee:Pee;function jee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:u,from:c,elapsed:h,...p}){return!!Object.keys(p).length}const RS=(t,e,n,r={},s,i)=>a=>{const u=xS(r,t)||{},c=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Qs(c);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:s};jee(u)||Object.assign(p,Ree(t,p)),p.duration&&(p.duration=Qs(p.duration)),p.repeatDelay&&(p.repeatDelay=Qs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Yb(p),p.delay===0&&(g=!0)),(qi.instantAnimations||qi.skipAnimations)&&(g=!0,Yb(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!i&&e.get()!==void 0){const v=Cee(p.keyframes,u);if(v!==void 0){St.update(()=>{p.onUpdate(v),p.onComplete()});return}}return u.isSync?new wS(p):new iZ(p)};function Mee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function HO(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...u}=e;r&&(i=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),v=u[p];if(v===void 0||h&&Mee(h,p))continue;const E={delay:n,...xS(i||{},p)},I=g.get();if(I!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===I&&!E.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const D=qO(t);if(D){const P=window.MotionHandoffAnimation(D,p,St);P!==null&&(E.startTime=P,T=!0)}}nx(t,p),g.start(RS(p,g,v,t.shouldReduceMotion&&hO.has(p)?{type:!1}:E,t,T));const _=g.animation;_&&c.push(_)}return a&&Promise.all(c).then(()=>{St.update(()=>{a&&Tee(t,a)})}),c}function KO(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),a=t.size,u=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:u-i*r}function rx(t,e,n={}){var r;const s=pc(t,e,n.type==="exit"?(r=t.presenceContext)==null?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(HO(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=i;return Oee(t,e,h,p,g,v,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,p]=c==="beforeChildren"?[a,u]:[u,a];return h().then(()=>p())}else return Promise.all([a(),u(n.delay)])}function Oee(t,e,n=0,r=0,s=0,i=1,a){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(rx(c,e,{...a,delay:n+(typeof r=="function"?0:r)+KO(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function Lee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>rx(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=rx(t,e,n);else{const s=typeof e=="function"?pc(t,e,n.custom):e;r=Promise.all(HO(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function GO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Vee=_S.length;function WO(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?WO(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Vee;n++){const r=_S[n],s=t.props[r];(lf(s)||s===!1)&&(e[r]=s)}return e}const Fee=[...TS].reverse(),Bee=TS.length;function Uee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Lee(t,n,r)))}function zee(t){let e=Uee(t),n=v2(),r=!0;const s=c=>(h,p)=>{var g;const v=pc(t,p,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(v){const{transition:E,transitionEnd:I,...T}=v;h={...h,...T,...I}}return h};function i(c){e=c(t)}function a(c){const{props:h}=t,p=WO(t.parent)||{},g=[],v=new Set;let E={},I=1/0;for(let _=0;_<Bee;_++){const D=Fee[_],P=n[D],M=h[D]!==void 0?h[D]:p[D],B=lf(M),z=D===c?P.isActive:null;z===!1&&(I=_);let K=M===p[D]&&M!==h[D]&&B;if(K&&r&&t.manuallyAnimateOnMount&&(K=!1),P.protectedKeys={...E},!P.isActive&&z===null||!M&&!P.prevProp||Zy(M)||typeof M=="boolean")continue;const R=$ee(P.prevProp,M);let C=R||D===c&&P.isActive&&!K&&B||_>I&&B,A=!1;const O=Array.isArray(M)?M:[M];let F=O.reduce(s(D),{});z===!1&&(F={});const{prevResolvedValues:$={}}=P,L={...$,...F},ke=ye=>{C=!0,v.has(ye)&&(A=!0,v.delete(ye)),P.needsAnimating[ye]=!0;const ve=t.getValue(ye);ve&&(ve.liveStyle=!1)};for(const ye in L){const ve=F[ye],W=$[ye];if(E.hasOwnProperty(ye))continue;let ne=!1;tx(ve)&&tx(W)?ne=!GO(ve,W):ne=ve!==W,ne?ve!=null?ke(ye):v.add(ye):ve!==void 0&&v.has(ye)?ke(ye):P.protectedKeys[ye]=!0}P.prevProp=M,P.prevResolvedValues=F,P.isActive&&(E={...E,...F}),r&&t.blockInitialAnimation&&(C=!1);const Pe=K&&R;C&&(!Pe||A)&&g.push(...O.map(ye=>{const ve={type:D};if(typeof ye=="string"&&r&&!Pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,ne=pc(W,ye);if(W.enteringChildren&&ne){const{delayChildren:oe}=ne.transition||{};ve.delay=KO(W.enteringChildren,t,oe)}}return{animation:ye,options:ve}}))}if(v.size){const _={};if(typeof h.initial!="boolean"){const D=pc(t,Array.isArray(h.initial)?h.initial[0]:h.initial);D&&D.transition&&(_.transition=D.transition)}v.forEach(D=>{const P=t.getBaseTarget(D),M=t.getValue(D);M&&(M.liveStyle=!0),_[D]=P??null}),g.push({animation:_})}let T=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(g):Promise.resolve()}function u(c,h){var p;if(n[c].isActive===h)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(v=>{var E;return(E=v.animationState)==null?void 0:E.setActive(c,h)}),n[c].isActive=h;const g=a(c);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:a,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=v2()}}}function $ee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!GO(e,t):!1}function Xa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function v2(){return{animate:Xa(!0),whileInView:Xa(),whileHover:Xa(),whileTap:Xa(),whileDrag:Xa(),whileFocus:Xa(),exit:Xa()}}class fa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qee extends fa{constructor(e){super(e),e.animationState||(e.animationState=zee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Hee=0;class Kee extends fa{constructor(){super(...arguments),this.id=Hee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Gee={animation:{Feature:qee},exit:{Feature:Kee}};function cf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ff(t){return{point:{x:t.pageX,y:t.pageY}}}const Wee=t=>e=>kS(e)&&t(e,Ff(e));function Dh(t,e,n,r){return cf(t,e,Wee(n),r)}const QO=1e-4,Qee=1-QO,Yee=1+QO,YO=.01,Xee=0-YO,Jee=0+YO;function Un(t){return t.max-t.min}function Zee(t,e,n){return Math.abs(t-e)<=n}function w2(t,e,n,r=.5){t.origin=r,t.originPoint=It(e.min,e.max,t.origin),t.scale=Un(n)/Un(e),t.translate=It(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Qee&&t.scale<=Yee||isNaN(t.scale))&&(t.scale=1),(t.translate>=Xee&&t.translate<=Jee||isNaN(t.translate))&&(t.translate=0)}function Ah(t,e,n,r){w2(t.x,e.x,n.x,r?r.originX:void 0),w2(t.y,e.y,n.y,r?r.originY:void 0)}function b2(t,e,n){t.min=n.min+e.min,t.max=t.min+Un(e)}function ete(t,e,n){b2(t.x,e.x,n.x),b2(t.y,e.y,n.y)}function x2(t,e,n){t.min=e.min-n.min,t.max=t.min+Un(e)}function Ph(t,e,n){x2(t.x,e.x,n.x),x2(t.y,e.y,n.y)}function Or(t){return[t("x"),t("y")]}const XO=({current:t})=>t?t.ownerDocument.defaultView:null,S2=(t,e)=>Math.abs(t-e);function tte(t,e){const n=S2(t.x,e.x),r=S2(t.y,e.y);return Math.sqrt(n**2+r**2)}class JO{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Tw(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,I=tte(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!I)return;const{point:T}=v,{timestamp:_}=xn;this.history.push({...T,timestamp:_});const{onStart:D,onMove:P}=this.handlers;E||(D&&D(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,v)},this.handlePointerMove=(v,E)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=kw(E,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(v,E)=>{this.end();const{onEnd:I,onSessionEnd:T,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Tw(v.type==="pointercancel"?this.lastMoveEventInfo:kw(E,this.transformPagePoint),this.history);this.startEvent&&I&&I(v,D),T&&T(v,D)},!kS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const u=Ff(e),c=kw(u,this.transformPagePoint),{point:h}=c,{timestamp:p}=xn;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Tw(c,this.history)),this.removeListeners=Of(Dh(this.contextWindow,"pointermove",this.handlePointerMove),Dh(this.contextWindow,"pointerup",this.handlePointerUp),Dh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),aa(this.updatePoint)}}function kw(t,e){return e?{point:e(t.point)}:t}function E2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tw({point:t},e){return{point:t,delta:E2(t,ZO(e)),offset:E2(t,nte(e)),velocity:rte(e,.1)}}function nte(t){return t[0]}function ZO(t){return t[t.length-1]}function rte(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=ZO(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Qs(e)));)n--;if(!r)return{x:0,y:0};const i=zr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function ste(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?It(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?It(n,t,r.max):Math.min(t,n)),t}function k2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ite(t,{top:e,left:n,bottom:r,right:s}){return{x:k2(t.x,n,s),y:k2(t.y,e,r)}}function T2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ote(t,e){return{x:T2(t.x,e.x),y:T2(t.y,e.y)}}function ate(t,e){let n=.5;const r=Un(t),s=Un(e);return s>r?n=sf(e.min,e.max-r,t.min):r>s&&(n=sf(t.min,t.max-s,e.min)),$i(0,1,n)}function lte(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sx=.35;function ute(t=sx){return t===!1?t=0:t===!0&&(t=sx),{x:_2(t,"left","right"),y:_2(t,"top","bottom")}}function _2(t,e,n){return{min:I2(t,e),max:I2(t,n)}}function I2(t,e){return typeof t=="number"?t:t[e]||0}const cte=new WeakMap;class dte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ff(g).point)},a=(g,v)=>{const{drag:E,dragPropagation:I,onDragStart:T}=this.getProps();if(E&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SZ(E),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Or(D=>{let P=this.getAxisMotionValue(D).get()||0;if(Ys.test(P)){const{projection:M}=this.visualElement;if(M&&M.layout){const B=M.layout.layoutBox[D];B&&(P=Un(B)*(parseFloat(P)/100))}}this.originPoint[D]=P}),T&&St.postRender(()=>T(g,v)),nx(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:E,dragDirectionLock:I,onDirectionLock:T,onDrag:_}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:D}=v;if(I&&this.currentDirection===null){this.currentDirection=hte(D),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,D),this.updateAxis("y",v.point,D),this.visualElement.render(),_&&_(g,v)},c=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Or(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new JO(e,{onSessionStart:i,onStart:a,onMove:u,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:XO(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&St.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Cm(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=ste(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,i=this.constraints;n&&rc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=ite(s.layoutBox,n):this.constraints=!1,this.elastic=ute(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Or(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=lte(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!rc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=fee(r,s.root,this.visualElement.getTransformPagePoint());let a=ote(s.layout.layoutBox,i);if(n){const u=n(cee(a));this.hasMutatedConstraints=!!u,u&&(a=OO(u))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},h=Or(p=>{if(!Cm(p,n,this.currentDirection))return;let g=c&&c[p]||{};a&&(g={min:0,max:0});const v=s?200:1e6,E=s?40:1e7,I={type:"inertia",velocity:r?e[p]:0,bounceStiffness:v,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(p,I)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return nx(this.visualElement,e),r.start(RS(e,r,0,n,this.visualElement,!1))}stopAnimation(){Or(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Or(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Or(n=>{const{drag:r}=this.getProps();if(!Cm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:u}=s.layout.layoutBox[n];i.set(e[n]-It(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!rc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Or(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const c=u.get();s[a]=ate({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Or(a=>{if(!Cm(a,e,null))return;const u=this.getAxisMotionValue(a),{min:c,max:h}=this.constraints[a];u.set(It(c,h,s[a]))})}addListeners(){if(!this.visualElement.current)return;cte.set(this.visualElement,this);const e=this.visualElement.current,n=Dh(e,"pointerdown",c=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();rc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),St.read(r);const a=cf(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(Or(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=c[p].translate,g.set(g.get()+c[p].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=sx,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:u}}}function Cm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function hte(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class fte extends fa{constructor(e){super(e),this.removeGroupControls=Hr,this.removeListeners=Hr,this.controls=new dte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hr}unmount(){this.removeGroupControls(),this.removeListeners()}}const C2=t=>(e,n)=>{t&&St.postRender(()=>t(e,n))};class pte extends fa{constructor(){super(...arguments),this.removePointerDownListener=Hr}onPointerDown(e){this.session=new JO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:C2(e),onStart:C2(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&St.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Dh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const lh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=N2(t,e.target.x),r=N2(t,e.target.y);return`${n}% ${r}%`}},mte={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=la.parse(t);if(s.length>5)return r;const i=la.createTransformer(t),a=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=u,s[1+a]/=c;const h=It(u,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=h),typeof s[3+a]=="number"&&(s[3+a]/=h),i(s)}};let _w=!1;class gte extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;VZ(yte),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),_w&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),rg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,_w=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||St.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ES.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;_w=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function e4(t){const[e,n]=AZ(),r=S.useContext(PM);return x.jsx(gte,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(jO),isPresent:e,safeToRemove:n})}const yte={borderRadius:{...lh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lh,borderTopRightRadius:lh,borderBottomLeftRadius:lh,borderBottomRightRadius:lh,boxShadow:mte};function vte(t,e,n){const r=jn(t)?t:Dc(t);return r.start(RS("",r,e,n)),r.animation}const wte=(t,e)=>t.depth-e.depth;class bte{constructor(){this.children=[],this.isDirty=!1}add(e){sS(this.children,e),this.isDirty=!0}remove(e){iS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wte),this.isDirty=!1,this.children.forEach(e)}}function xte(t,e){const n=sr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(aa(r),t(i-e))};return St.setup(r,!0),()=>aa(r)}const t4=["TopLeft","TopRight","BottomLeft","BottomRight"],Ste=t4.length,D2=t=>typeof t=="string"?parseFloat(t):t,A2=t=>typeof t=="number"||Oe.test(t);function Ete(t,e,n,r,s,i){s?(t.opacity=It(0,n.opacity??1,kte(r)),t.opacityExit=It(e.opacity??1,0,Tte(r))):i&&(t.opacity=It(e.opacity??1,n.opacity??1,r));for(let a=0;a<Ste;a++){const u=`border${t4[a]}Radius`;let c=P2(e,u),h=P2(n,u);c===void 0&&h===void 0||(c||(c=0),h||(h=0),c===0||h===0||A2(c)===A2(h)?(t[u]=Math.max(It(D2(c),D2(h),r),0),(Ys.test(h)||Ys.test(c))&&(t[u]+="%")):t[u]=h)}(e.rotate||n.rotate)&&(t.rotate=It(e.rotate||0,n.rotate||0,r))}function P2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kte=n4(0,.5,$M),Tte=n4(.5,.95,Hr);function n4(t,e,n){return r=>r<t?0:r>e?1:n(sf(t,e,r))}function R2(t,e){t.min=e.min,t.max=e.max}function jr(t,e){R2(t.x,e.x),R2(t.y,e.y)}function j2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function M2(t,e,n,r,s){return t-=e,t=Jg(t,1/n,r),s!==void 0&&(t=Jg(t,1/s,r)),t}function _te(t,e=0,n=1,r=.5,s,i=t,a=t){if(Ys.test(e)&&(e=parseFloat(e),e=It(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=It(i.min,i.max,r);t===i&&(u-=e),t.min=M2(t.min,e,n,u,s),t.max=M2(t.max,e,n,u,s)}function O2(t,e,[n,r,s],i,a){_te(t,e[n],e[r],e[s],e.scale,i,a)}const Ite=["x","scaleX","originX"],Cte=["y","scaleY","originY"];function L2(t,e,n,r){O2(t.x,e,Ite,n?n.x:void 0,r?r.x:void 0),O2(t.y,e,Cte,n?n.y:void 0,r?r.y:void 0)}function V2(t){return t.translate===0&&t.scale===1}function r4(t){return V2(t.x)&&V2(t.y)}function F2(t,e){return t.min===e.min&&t.max===e.max}function Nte(t,e){return F2(t.x,e.x)&&F2(t.y,e.y)}function B2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function s4(t,e){return B2(t.x,e.x)&&B2(t.y,e.y)}function U2(t){return Un(t.x)/Un(t.y)}function z2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Dte{constructor(){this.members=[]}add(e){sS(this.members,e),e.scheduleRender()}remove(e){if(iS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ate(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:v,skewX:E,skewY:I}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),E&&(r+=`skewX(${E}deg) `),I&&(r+=`skewY(${I}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const Iw=["","X","Y","Z"],Pte=1e3;let Rte=0;function Cw(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function i4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=qO(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&i4(r)}function o4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},a=e==null?void 0:e()){this.id=Rte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ote),this.nodes.forEach(Bte),this.nodes.forEach(Ute),this.nodes.forEach(Lte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new bte)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new lS),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const u=this.eventHandlers.get(i);u&&u.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=xO(i)&&!CZ(i),this.instance=i;const{layoutId:a,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||a)&&(this.isLayoutDirty=!0),t){let h,p=0;const g=()=>this.root.updateBlockedByResize=!1;St.read(()=>{p=window.innerWidth}),t(i,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,h&&h(),h=xte(g,250),rg.hasAnimatedSinceResize&&(rg.hasAnimatedSinceResize=!1,this.nodes.forEach(H2)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||c.getDefaultTransition()||Kte,{onLayoutAnimationStart:I,onLayoutAnimationComplete:T}=c.getProps(),_=!this.targetLayout||!s4(this.targetLayout,v),D=!p&&g;if(this.options.layoutRoot||this.resumeFrom||D||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...xS(E,"layout"),onPlay:I,onComplete:T};(c.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(h,D)}else p||H2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),aa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zte),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&i4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(q2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Fte),this.nodes.forEach(jte),this.nodes.forEach(Mte)):this.nodes.forEach(q2),this.clearAllSnapshots();const i=sr.now();xn.delta=$i(0,1e3/60,i-xn.timestamp),xn.timestamp=i,xn.isProcessing=!0,gw.update.process(xn),gw.preRender.process(xn),gw.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ES.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Vte),this.sharedNodes.forEach($te)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Un(this.snapshot.measuredBox.x)&&!Un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!r4(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;i&&this.instance&&(a||nl(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return i&&(u=this.removeTransform(u)),Gte(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return Xt();const u=a.measureViewportBox();if(!((i=this.scroll)!=null&&i.wasRoot||this.path.some(Wte))){const{scroll:c}=this.root;c&&(sc(u.x,c.offset.x),sc(u.y,c.offset.y))}return u}removeElementScroll(i){var a;const u=Xt();if(jr(u,i),(a=this.scroll)!=null&&a.wasRoot)return u;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&jr(u,i),sc(u.x,p.offset.x),sc(u.y,p.offset.y))}return u}applyTransform(i,a=!1){const u=Xt();jr(u,i);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ic(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),nl(h.latestValues)&&ic(u,h.latestValues)}return nl(this.latestValues)&&ic(u,this.latestValues),u}removeTransform(i){const a=Xt();jr(a,i);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!nl(c.latestValues))continue;Jb(c.latestValues)&&c.updateSnapshot();const h=Xt(),p=c.measurePageBox();jr(h,p),L2(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return nl(this.latestValues)&&L2(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(a=this.parent)!=null&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=xn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),Ph(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xt(),this.targetWithTransforms=Xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ete(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jr(this.target,this.layout.layoutBox),VO(this.target,this.targetDelta)):jr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),Ph(this.relativeTargetOrigin,this.target,g.target),jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Jb(this.parent.latestValues)||LO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(i=this.parent)!=null&&i.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(c=!1),c)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;jr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;hee(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Xt());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(j2(this.prevProjectionDelta.x,this.projectionDelta.x),j2(this.prevProjectionDelta.y,this.projectionDelta.y)),Ah(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!z2(this.projectionDelta.x,this.prevProjectionDelta.x)||!z2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),i){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=oc(),this.projectionDelta=oc(),this.projectionDeltaWithTransform=oc()}setAnimationOrigin(i,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},p=oc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Xt(),v=u?u.source:void 0,E=this.layout?this.layout.source:void 0,I=v!==E,T=this.getStack(),_=!T||T.members.length<=1,D=!!(I&&!_&&this.options.crossfade===!0&&!this.path.some(Hte));this.animationProgress=0;let P;this.mixTargetDelta=M=>{const B=M/1e3;K2(p.x,i.x,B),K2(p.y,i.y,B),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ph(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qte(this.relativeTarget,this.relativeTargetOrigin,g,B),P&&Nte(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Xt()),jr(P,this.relativeTarget)),I&&(this.animationValues=h,Ete(h,c,this.latestValues,B,D,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var a,u,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(aa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{rg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Dc(0)),this.currentAnimation=vte(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),i.onUpdate&&i.onUpdate(h)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Pte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=i;if(!(!a||!u||!c)){if(this!==i&&this.layout&&c&&a4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Xt();const p=Un(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+p;const g=Un(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+g}jr(a,u),ic(a,h),Ah(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Dte),this.sharedNodes.get(i).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())==null?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())==null?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const c={};u.z&&Cw("z",i,c,this.animationValues);for(let h=0;h<Iw.length;h++)Cw(`rotate${Iw[h]}`,i,c,this.animationValues),Cw(`skew${Iw[h]}`,i,c,this.animationValues);i.render();for(const h in c)i.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);i.scheduleRender()}applyProjectionStyles(i,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=ng(a==null?void 0:a.pointerEvents)||"",i.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=ng(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!nl(this.latestValues)&&(i.transform=u?u({},""):"none",this.hasProjected=!1);return}i.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let p=Ate(this.projectionDeltaWithTransform,this.treeScale,h);u&&(p=u(h,p)),i.transform=p;const{x:g,y:v}=this.projectionDelta;i.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,c.animationValues?i.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:i.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const E in uf){if(h[E]===void 0)continue;const{correct:I,applyTo:T,isCSSVariable:_}=uf[E],D=p==="none"?h[E]:I(h[E],c);if(T){const P=T.length;for(let M=0;M<P;M++)i[T[M]]=D}else _?this.options.visualElement.renderState.vars[E]=D:i[E]=D}this.options.layoutId&&(i.pointerEvents=c===this?ng(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach($2),this.root.sharedNodes.clear()}}}function jte(t){t.updateLayout()}function Mte(t){var e;const n=((e=t.resumeFrom)==null?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?Or(g=>{const v=a?n.measuredBox[g]:n.layoutBox[g],E=Un(v);v.min=r[g].min,v.max=v.min+E}):a4(i,n.layoutBox,r)&&Or(g=>{const v=a?n.measuredBox[g]:n.layoutBox[g],E=Un(r[g]);v.max=v.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+E)});const u=oc();Ah(u,r,n.layoutBox);const c=oc();a?Ah(c,t.applyTransform(s,!0),n.measuredBox):Ah(c,r,n.layoutBox);const h=!r4(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:E}=g;if(v&&E){const I=Xt();Ph(I,n.layoutBox,v.layoutBox);const T=Xt();Ph(T,r,E.layoutBox),s4(I,T)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=I,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Ote(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Lte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Vte(t){t.clearSnapshot()}function $2(t){t.clearMeasurements()}function q2(t){t.isLayoutDirty=!1}function Fte(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function H2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Bte(t){t.resolveTargetDelta()}function Ute(t){t.calcProjection()}function zte(t){t.resetSkewAndRotation()}function $te(t){t.removeLeadSnapshot()}function K2(t,e,n){t.translate=It(e.translate,0,n),t.scale=It(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function G2(t,e,n,r){t.min=It(e.min,n.min,r),t.max=It(e.max,n.max,r)}function qte(t,e,n,r){G2(t.x,e.x,n.x,r),G2(t.y,e.y,n.y,r)}function Hte(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Kte={duration:.45,ease:[.4,0,.1,1]},W2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Q2=W2("applewebkit/")&&!W2("chrome/")?Math.round:Hr;function Y2(t){t.min=Q2(t.min),t.max=Q2(t.max)}function Gte(t){Y2(t.x),Y2(t.y)}function a4(t,e,n){return t==="position"||t==="preserve-aspect"&&!Zee(U2(e),U2(n),.2)}function Wte(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Qte=o4({attachResizeListener:(t,e)=>cf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nw={current:void 0},l4=o4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Nw.current){const t=new Qte({});t.mount(window),t.setOptions({layoutScroll:!0}),Nw.current=t}return Nw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Yte={pan:{Feature:pte},drag:{Feature:fte,ProjectionNode:l4,MeasureLayout:e4}};function X2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&St.postRender(()=>i(e,Ff(e)))}class Xte extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=EZ(e,(n,r)=>(X2(this.node,r,"Start"),s=>X2(this.node,s,"End"))))}unmount(){}}class Jte extends fa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Of(cf(this.node.current,"focus",()=>this.onFocus()),cf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function J2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&St.postRender(()=>i(e,Ff(e)))}class Zte extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=IZ(e,(n,r)=>(J2(this.node,r,"Start"),(s,{success:i})=>J2(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ix=new WeakMap,Dw=new WeakMap,ene=t=>{const e=ix.get(t.target);e&&e(t)},tne=t=>{t.forEach(ene)};function nne({root:t,...e}){const n=t||document;Dw.has(n)||Dw.set(n,{});const r=Dw.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(tne,{root:t,...e})),r[s]}function rne(t,e,n){const r=nne(e);return ix.set(t,n),r.observe(t),()=>{ix.delete(t),r.unobserve(t)}}const sne={some:0,all:1};class ine extends fa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:sne[s]},u=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=h?p:g;v&&v(c)};return rne(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(one(e,n))&&this.startObserver()}unmount(){}}function one({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ane={inView:{Feature:ine},tap:{Feature:Zte},focus:{Feature:Jte},hover:{Feature:Xte}},lne={layout:{ProjectionNode:l4,MeasureLayout:e4}},une={...Gee,...ane,...Yte,...lne},Yt=uee(une,See);function ox(){const t=I1(),{user:e,loading:n}=B1(),[r,s]=ln.useState(!1);S.useEffect(()=>{!n&&e&&t(nt("Home"))},[e,n,t]);const i=()=>{e?t(nt("Home")):s(!0)};if(n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const a=[{icon:gq,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:Gm,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:Eb,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:ew,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:kb,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:Dq,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],u=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],c=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],h=[{icon:Eb,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:ew,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:kb,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:eC,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],p=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx(Yt.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),x.jsx(Yt.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),x.jsx(Yt.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),x.jsx(Yt.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),x.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Yt.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse overflow-hidden",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-24 h-24 object-contain transform -rotate-12"})}),x.jsx(Yt.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),x.jsx(Yt.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),x.jsx(Yt.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),x.jsx(Yt.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),x.jsxs(Yt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[x.jsxs(Lr,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 text-lg font-bold shadow-xl border-0 animate-pulse",children:[x.jsx(nq,{className:"w-5 h-5 mr-2"}),"7-Day FREE Trial - All Features!"]}),x.jsxs(Lr,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(eC,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),x.jsxs(Lr,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(wR,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),x.jsxs(Yt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[x.jsxs(Gs,{onClick:i,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[x.jsx(Iq,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),x.jsxs(Gs,{onClick:()=>{var g;return(g=document.getElementById("features"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white bg-transparent hover:bg-white hover:text-purple-600 shadow-xl transition-all",children:["See What's Inside",x.jsx(z$,{className:"w-6 h-6 ml-2"})]})]}),x.jsx(Yt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:h.map((g,v)=>{const E=g.icon;return x.jsxs(Yt.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[x.jsx(E,{className:`w-10 h-10 mx-auto mb-3 ${g.color}`}),x.jsx("div",{className:"text-3xl font-black text-gray-800",children:g.value}),x.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:g.label})]},v)})})]})}),x.jsxs("div",{style:{background:"linear-gradient(90deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",padding:"14px 0 12px 0",textAlign:"center",fontWeight:"bold",fontSize:"1.1rem",letterSpacing:"0.01em",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)",borderBottom:"2px solid #fff",borderRadius:8,margin:"0 auto 24px auto",maxWidth:900},className:"mx-auto mb-8",children:[x.jsx("span",{role:"img","aria-label":"lightbulb",style:{marginRight:8},children:""}),"Best Experience: ",x.jsx("span",{style:{fontWeight:700},children:"Math Adventure"})," works best on ",x.jsx("span",{style:{textDecoration:"underline"},children:"tablets"})," and ",x.jsx("span",{style:{textDecoration:"underline"},children:"desktop computers"})," for optimal gameplay and features."]}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),x.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:p.map((g,v)=>x.jsxs(Yt.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[x.jsx("div",{className:"text-7xl mb-4",children:g.emoji}),x.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:g.name}),x.jsx("p",{className:"text-gray-700 font-semibold",children:g.desc})]},v))}),x.jsxs("div",{className:"mb-16",children:[x.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:u.map((g,v)=>x.jsxs(Yt.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[x.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),x.jsx("div",{className:"font-bold text-sm text-gray-800",children:g.name}),x.jsx(Lr,{className:"mt-2 bg-purple-500 text-white text-xs",children:g.grade})]},v))})]})]})}),x.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((g,v)=>{const E=g.icon;return x.jsxs(Yt.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[x.jsxs("div",{className:`h-32 bg-gradient-to-br ${g.gradient} flex items-center justify-center relative`,children:[x.jsx("div",{className:"text-7xl",children:g.emoji}),x.jsx("div",{className:"absolute top-3 right-3",children:x.jsx(E,{className:"w-10 h-10 text-white opacity-50"})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:g.title}),x.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:g.description})]})]},v)})})]})}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsxs(Yt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),x.jsxs(Yt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),x.jsxs(Yt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:c.map((g,v)=>x.jsxs(Yt.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[x.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(g.rating)].map((E,I)=>x.jsx(ew,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},I))}),x.jsx("div",{className:"text-6xl mb-4",children:g.emoji}),x.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',g.text,'"']}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-lg text-gray-800",children:g.author}),x.jsx("p",{className:"text-sm text-gray-600 font-bold",children:g.role})]})]},v))})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[x.jsx(Yt.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),x.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),x.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),x.jsxs(Gs,{onClick:i,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[x.jsx(Tq,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),x.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),x.jsx("div",{className:"bg-gray-900 text-white py-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[x.jsx("div",{className:"mb-4 flex items-center justify-center",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-16 h-16 object-contain"})}),x.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),x.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),x.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[x.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:""}),x.jsx(MR,{onSuccess:()=>t(nt("Home"))})]})})]})}const u4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12,13,14,15,16])),Lt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Ft([4,5,6,7,8,9,10,11,12,13,14,15,16])),Ut([4,5,6,7,8,9,10,11,12,13,14,15,16])),$t([4,5,6,7,8,9,10,11,12,13,14,15,16]))),c4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o.js"),__vite__mapDeps([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Lt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Ft([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Ut([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),$t([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7]))),d4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk.js"),__vite__mapDeps([27,7,5,9,28,10,29])),Lt([27,7,5,9,28,10,29])),Ft([27,7,5,9,28,10,29])),Ut([27,7,5,9,28,10,29])),$t([27,7,5,9,28,10,29]))),h4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9.js"),__vite__mapDeps([30,18,31,32,33,34,14,0,1,35,23])),Lt([30,18,31,32,33,34,14,0,1,35,23])),Ft([30,18,31,32,33,34,14,0,1,35,23])),Ut([30,18,31,32,33,34,14,0,1,35,23])),$t([30,18,31,32,33,34,14,0,1,35,23]))),f4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv.js"),__vite__mapDeps([36,18,1,19,20,10,37,24,26,5,7])),Lt([36,18,1,19,20,10,37,24,26,5,7])),Ft([36,18,1,19,20,10,37,24,26,5,7])),Ut([36,18,1,19,20,10,37,24,26,5,7])),$t([36,18,1,19,20,10,37,24,26,5,7]))),p4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr.js"),__vite__mapDeps([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Lt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Ft([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Ut([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),$t([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25]))),m4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u.js"),__vite__mapDeps([45,18,32,0,1,14,29,25,16,7])),Lt([45,18,32,0,1,14,29,25,16,7])),Ft([45,18,32,0,1,14,29,25,16,7])),Ut([45,18,32,0,1,14,29,25,16,7])),$t([45,18,32,0,1,14,29,25,16,7]))),g4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb.js"),__vite__mapDeps([46,18,32,47,9,7,12,10,37,44])),Lt([46,18,32,47,9,7,12,10,37,44])),Ft([46,18,32,47,9,7,12,10,37,44])),Ut([46,18,32,47,9,7,12,10,37,44])),$t([46,18,32,47,9,7,12,10,37,44]))),y4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4.js"),__vite__mapDeps([48,18,1,9,10])),Lt([48,18,1,9,10])),Ft([48,18,1,9,10])),Ut([48,18,1,9,10])),$t([48,18,1,9,10]))),v4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f.js"),__vite__mapDeps([49,18,6,23])),Lt([49,18,6,23])),Ft([49,18,6,23])),Ut([49,18,6,23])),$t([49,18,6,23]))),w4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN.js"),__vite__mapDeps([50,51,23,3,8])),Lt([50,51,23,3,8])),Ft([50,51,23,3,8])),Ut([50,51,23,3,8])),$t([50,51,23,3,8]))),b4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv.js"),__vite__mapDeps([52,51])),Lt([52,51])),Ft([52,51])),Ut([52,51])),$t([52,51]))),x4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC.js"),__vite__mapDeps([53,18,39,43,15,42])),Lt([53,18,39,43,15,42])),Ft([53,18,39,43,15,42])),Ut([53,18,39,43,15,42])),$t([53,18,39,43,15,42]))),S4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb.js"),__vite__mapDeps([54,18,40,41,34,26,16,12,13,43,21,3,55])),Lt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Ft([54,18,40,41,34,26,16,12,13,43,21,3,55])),Ut([54,18,40,41,34,26,16,12,13,43,21,3,55])),$t([54,18,40,41,34,26,16,12,13,43,21,3,55]))),E4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7.js"),__vite__mapDeps([56,41,20,16,43,10,12,13,55,21,23,42])),Lt([56,41,20,16,43,10,12,13,55,21,23,42])),Ft([56,41,20,16,43,10,12,13,55,21,23,42])),Ut([56,41,20,16,43,10,12,13,55,21,23,42])),$t([56,41,20,16,43,10,12,13,55,21,23,42]))),k4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q.js"),__vite__mapDeps([57,23,14])),Lt([57,23,14])),Ft([57,23,14])),Ut([57,23,14])),$t([57,23,14]))),T4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw.js"),__vite__mapDeps([58,32,10,22,15,7,24,1,9,28,25,14,11])),Lt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Ft([58,32,10,22,15,7,24,1,9,28,25,14,11])),Ut([58,32,10,22,15,7,24,1,9,28,25,14,11])),$t([58,32,10,22,15,7,24,1,9,28,25,14,11]))),_4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg.js"),__vite__mapDeps([59,31,47,23])),Lt([59,31,47,23])),Ft([59,31,47,23])),Ut([59,31,47,23])),$t([59,31,47,23]))),I4=S.lazy(()=>qt(()=>zt(()=>Bt(()=>Vt(()=>Ot(()=>import("./Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499.js"),__vite__mapDeps([60,51])),Lt([60,51])),Ft([60,51])),Ut([60,51])),$t([60,51]))),Z2={Home:u4,Game:c4,Progress:d4,Avatar:h4,DailyChallenge:f4,ParentPortal:p4,Shop:m4,Leaderboards:g4,TeamChallenges:y4,Subscription:v4,GenerateIcons:w4,TestIconGeneration:b4,Landing:ox,Messages:x4,ColorByNumbers:S4,Settings:E4,PrivacyPolicy:k4,AITutor:T4,AdminTestAccount:_4,Subscribe:I4};function cne(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(Z2).find(n=>n.toLowerCase()===e.toLowerCase())||Object.keys(Z2)[0]}const dne=()=>x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})});function hne(){const t=Yi(),e=cne(t.pathname);return x.jsx(TX,{currentPageName:e,children:x.jsx(Zm,{children:x.jsx(S.Suspense,{fallback:x.jsx(dne,{}),children:x.jsxs(bz,{children:[x.jsx(Pt,{path:"/",element:x.jsx(ox,{})}),x.jsx(Pt,{path:"/Home",element:x.jsx(u4,{})}),x.jsx(Pt,{path:"/Game",element:x.jsx(c4,{})}),x.jsx(Pt,{path:"/Progress",element:x.jsx(d4,{})}),x.jsx(Pt,{path:"/Avatar",element:x.jsx(h4,{})}),x.jsx(Pt,{path:"/DailyChallenge",element:x.jsx(f4,{})}),x.jsx(Pt,{path:"/ParentPortal",element:x.jsx(p4,{})}),x.jsx(Pt,{path:"/Shop",element:x.jsx(m4,{})}),x.jsx(Pt,{path:"/Leaderboards",element:x.jsx(g4,{})}),x.jsx(Pt,{path:"/TeamChallenges",element:x.jsx(y4,{})}),x.jsx(Pt,{path:"/Subscription",element:x.jsx(v4,{})}),x.jsx(Pt,{path:"/GenerateIcons",element:x.jsx(w4,{})}),x.jsx(Pt,{path:"/TestIconGeneration",element:x.jsx(b4,{})}),x.jsx(Pt,{path:"/Landing",element:x.jsx(ox,{})}),x.jsx(Pt,{path:"/Messages",element:x.jsx(x4,{})}),x.jsx(Pt,{path:"/ColorByNumbers",element:x.jsx(S4,{})}),x.jsx(Pt,{path:"/Settings",element:x.jsx(E4,{})}),x.jsx(Pt,{path:"/PrivacyPolicy",element:x.jsx(k4,{})}),x.jsx(Pt,{path:"/AITutor",element:x.jsx(T4,{})}),x.jsx(Pt,{path:"/AdminTestAccount",element:x.jsx(_4,{})}),x.jsx(Pt,{path:"/Subscribe",element:x.jsx(I4,{})})]})})})})}function fne(){return x.jsx($z,{children:x.jsx(hne,{})})}const pne=20,mne=1e6,Pi={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Aw=0;function gne(){return Aw=(Aw+1)%Number.MAX_VALUE,Aw.toString()}const Pw=new Map,eN=t=>{if(Pw.has(t))return;const e=setTimeout(()=>{Pw.delete(t),Rh({type:Pi.REMOVE_TOAST,toastId:t})},mne);Pw.set(t,e)},yne=(t,e)=>{switch(e.type){case Pi.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,pne)};case Pi.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Pi.DISMISS_TOAST:{const{toastId:n}=e;return n?eN(n):t.toasts.forEach(r=>{eN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Pi.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},sg=[];let ig={toasts:[]};function Rh(t){ig=yne(ig,t),sg.forEach(e=>{e(ig)})}function vne({...t}){const e=gne(),n=s=>Rh({type:Pi.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>Rh({type:Pi.DISMISS_TOAST,toastId:e});return Rh({type:Pi.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function wne(){const[t,e]=S.useState(ig);return S.useEffect(()=>(sg.push(e),()=>{const n=sg.indexOf(e);n>-1&&sg.splice(n,1)}),[t]),{...t,toast:vne,dismiss:n=>Rh({type:Pi.DISMISS_TOAST,toastId:n})}}const C4=S.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));C4.displayName="ToastProvider";const N4=S.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));N4.displayName="ToastViewport";const bne=Uy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),D4=S.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,className:wt(bne({variant:e}),t),...n}));D4.displayName="Toast";const xne=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));xne.displayName="ToastAction";const A4=S.forwardRef(({className:t,...e},n)=>x.jsx("button",{ref:n,className:wt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(L1,{className:"h-4 w-4"})}));A4.displayName="ToastClose";const P4=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm font-semibold",t),...e}));P4.displayName="ToastTitle";const R4=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm opacity-90",t),...e}));R4.displayName="ToastDescription";function Sne(){const{toasts:t}=wne();return x.jsxs(C4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(D4,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(P4,{children:n}),r&&x.jsx(R4,{children:r})]}),s,x.jsx(A4,{})]},e)}),x.jsx(N4,{})]})}function Ene(){return x.jsxs(x.Fragment,{children:[x.jsx(fne,{}),x.jsx(Sne,{})]})}const kne=new E$({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});i3.createRoot(document.getElementById("root")).render(x.jsx(T$,{client:kne,children:x.jsx(BH,{children:x.jsx(Ene,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{W$ as $,Vb as A,wt as B,RX as C,L$ as D,S as E,B1 as F,Yt as G,ZI as H,PX as I,ew as J,Y$ as K,_y as L,fs as M,ds as N,FR as O,PM as P,Ur as Q,On as R,CX as S,DX as T,q$ as U,hs as V,Gs as W,Ye as X,nq as Y,Dne as Z,AZ as _,_X as a,Ul as a$,One as a0,I1 as a1,FH as a2,Ine as a3,YI as a4,tC as a5,z$ as a6,sq as a7,eq as a8,Nne as a9,w1 as aA,_ne as aB,My as aC,eC as aD,rC as aE,gs as aF,jl as aG,xR as aH,LG as aI,lx as aJ,gP as aK,wne as aL,wY as aM,oX as aN,zne as aO,Fne as aP,Cne as aQ,Pne as aR,Mne as aS,Bne as aT,Une as aU,Lne as aV,wW as aW,Pj as aX,mK as aY,GR as aZ,$ne as a_,wm as aa,Z0 as ab,kn as ac,jne as ad,Vne as ae,tw as af,Wm as ag,jy as ah,ni as ai,Df as aj,lj as ak,Ab as al,BR as am,qG as an,or as ao,HG as ap,Hn as aq,et as ar,Pf as as,yj as at,HR as au,KG as av,GG as aw,Rne as ax,sC as ay,rf as az,k$ as b,$R as b0,zR as b1,J$ as b2,sa as b3,P1 as b4,Bi as b5,nr as b6,l$ as b7,Nf as b8,yb as b9,Xh as ba,b$ as bb,JI as bc,Tne as bd,wj as be,lW as bf,uW as bg,xH as bh,Uy as bi,Ane as c,kb as d,Gm as e,J0 as f,Eb as g,Lr as h,xX as i,L1 as j,ft as k,cl as l,dq as m,nt as n,VR as o,wZ as p,wR as q,lq as r,IX as s,rS as t,lT as u,MR as v,SO as w,x,ln as y,Dq as z};
