var t4=t=>{throw TypeError(t)};var gj=(t,e,r)=>e.has(t)||t4("Cannot "+r);var ye=(t,e,r)=>(gj(t,e,"read from private field"),r?r.call(t):e.get(t)),rr=(t,e,r)=>e.has(t)?t4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Et=(t,e,r,n)=>(gj(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Sr=(t,e,r)=>(gj(t,e,"access private method"),r);function dee(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yj={exports:{}},up={},vj={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r4;function hee(){if(r4)return At;r4=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function p(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function g(W,Z,ue){this.props=W,this.context=Z,this.refs=x,this.updater=ue||v}g.prototype.isReactComponent={},g.prototype.setState=function(W,Z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Z,"setState")},g.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function _(){}_.prototype=g.prototype;function T(W,Z,ue){this.props=W,this.context=Z,this.refs=x,this.updater=ue||v}var P=T.prototype=new _;P.constructor=T,w(P,g.prototype),P.isPureReactComponent=!0;var I=Array.isArray,A=Object.prototype.hasOwnProperty,C={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function N(W,Z,ue){var le,be={},ge=null,me=null;if(Z!=null)for(le in Z.ref!==void 0&&(me=Z.ref),Z.key!==void 0&&(ge=""+Z.key),Z)A.call(Z,le)&&!E.hasOwnProperty(le)&&(be[le]=Z[le]);var Ie=arguments.length-2;if(Ie===1)be.children=ue;else if(1<Ie){for(var fe=Array(Ie),Pe=0;Pe<Ie;Pe++)fe[Pe]=arguments[Pe+2];be.children=fe}if(W&&W.defaultProps)for(le in Ie=W.defaultProps,Ie)be[le]===void 0&&(be[le]=Ie[le]);return{$$typeof:t,type:W,key:ge,ref:me,props:be,_owner:C.current}}function O(W,Z){return{$$typeof:t,type:W.type,key:Z,ref:W.ref,props:W.props,_owner:W._owner}}function D(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function L(W){var Z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ue){return Z[ue]})}var $=/\/+/g;function F(W,Z){return typeof W=="object"&&W!==null&&W.key!=null?L(""+W.key):Z.toString(36)}function G(W,Z,ue,le,be){var ge=typeof W;(ge==="undefined"||ge==="boolean")&&(W=null);var me=!1;if(W===null)me=!0;else switch(ge){case"string":case"number":me=!0;break;case"object":switch(W.$$typeof){case t:case e:me=!0}}if(me)return me=W,be=be(me),W=le===""?"."+F(me,0):le,I(be)?(ue="",W!=null&&(ue=W.replace($,"$&/")+"/"),G(be,Z,ue,"",function(Pe){return Pe})):be!=null&&(D(be)&&(be=O(be,ue+(!be.key||me&&me.key===be.key?"":(""+be.key).replace($,"$&/")+"/")+W)),Z.push(be)),1;if(me=0,le=le===""?".":le+":",I(W))for(var Ie=0;Ie<W.length;Ie++){ge=W[Ie];var fe=le+F(ge,Ie);me+=G(ge,Z,ue,fe,be)}else if(fe=p(W),typeof fe=="function")for(W=fe.call(W),Ie=0;!(ge=W.next()).done;)ge=ge.value,fe=le+F(ge,Ie++),me+=G(ge,Z,ue,fe,be);else if(ge==="object")throw Z=String(W),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return me}function Y(W,Z,ue){if(W==null)return W;var le=[],be=0;return G(W,le,"","",function(ge){return Z.call(ue,ge,be++)}),le}function K(W){if(W._status===-1){var Z=W._result;Z=Z(),Z.then(function(ue){(W._status===0||W._status===-1)&&(W._status=1,W._result=ue)},function(ue){(W._status===0||W._status===-1)&&(W._status=2,W._result=ue)}),W._status===-1&&(W._status=0,W._result=Z)}if(W._status===1)return W._result.default;throw W._result}var X={current:null},U={transition:null},Q={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:U,ReactCurrentOwner:C};function ne(){throw Error("act(...) is not supported in production builds of React.")}return At.Children={map:Y,forEach:function(W,Z,ue){Y(W,function(){Z.apply(this,arguments)},ue)},count:function(W){var Z=0;return Y(W,function(){Z++}),Z},toArray:function(W){return Y(W,function(Z){return Z})||[]},only:function(W){if(!D(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},At.Component=g,At.Fragment=r,At.Profiler=i,At.PureComponent=T,At.StrictMode=n,At.Suspense=c,At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,At.act=ne,At.cloneElement=function(W,Z,ue){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var le=w({},W.props),be=W.key,ge=W.ref,me=W._owner;if(Z!=null){if(Z.ref!==void 0&&(ge=Z.ref,me=C.current),Z.key!==void 0&&(be=""+Z.key),W.type&&W.type.defaultProps)var Ie=W.type.defaultProps;for(fe in Z)A.call(Z,fe)&&!E.hasOwnProperty(fe)&&(le[fe]=Z[fe]===void 0&&Ie!==void 0?Ie[fe]:Z[fe])}var fe=arguments.length-2;if(fe===1)le.children=ue;else if(1<fe){Ie=Array(fe);for(var Pe=0;Pe<fe;Pe++)Ie[Pe]=arguments[Pe+2];le.children=Ie}return{$$typeof:t,type:W.type,key:be,ref:ge,props:le,_owner:me}},At.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},At.createElement=N,At.createFactory=function(W){var Z=N.bind(null,W);return Z.type=W,Z},At.createRef=function(){return{current:null}},At.forwardRef=function(W){return{$$typeof:l,render:W}},At.isValidElement=D,At.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:K}},At.memo=function(W,Z){return{$$typeof:d,type:W,compare:Z===void 0?null:Z}},At.startTransition=function(W){var Z=U.transition;U.transition={};try{W()}finally{U.transition=Z}},At.unstable_act=ne,At.useCallback=function(W,Z){return X.current.useCallback(W,Z)},At.useContext=function(W){return X.current.useContext(W)},At.useDebugValue=function(){},At.useDeferredValue=function(W){return X.current.useDeferredValue(W)},At.useEffect=function(W,Z){return X.current.useEffect(W,Z)},At.useId=function(){return X.current.useId()},At.useImperativeHandle=function(W,Z,ue){return X.current.useImperativeHandle(W,Z,ue)},At.useInsertionEffect=function(W,Z){return X.current.useInsertionEffect(W,Z)},At.useLayoutEffect=function(W,Z){return X.current.useLayoutEffect(W,Z)},At.useMemo=function(W,Z){return X.current.useMemo(W,Z)},At.useReducer=function(W,Z,ue){return X.current.useReducer(W,Z,ue)},At.useRef=function(W){return X.current.useRef(W)},At.useState=function(W){return X.current.useState(W)},At.useSyncExternalStore=function(W,Z,ue){return X.current.useSyncExternalStore(W,Z,ue)},At.useTransition=function(){return X.current.useTransition()},At.version="18.3.1",At}var n4;function _C(){return n4||(n4=1,vj.exports=hee()),vj.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4;function fee(){if(i4)return up;i4=1;var t=_C(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var f,m={},p=null,v=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(v=c.ref);for(f in c)n.call(c,f)&&!s.hasOwnProperty(f)&&(m[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)m[f]===void 0&&(m[f]=c[f]);return{$$typeof:e,type:l,key:p,ref:v,props:m,_owner:i.current}}return up.Fragment=r,up.jsx=o,up.jsxs=o,up}var s4;function mee(){return s4||(s4=1,yj.exports=fee()),yj.exports}var a=mee(),S=_C();const z=Jt(S),jC=dee({__proto__:null,default:z},[S]);var dv={},xj={exports:{}},Ri={},bj={exports:{}},wj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a4;function pee(){return a4||(a4=1,(function(t){function e(U,Q){var ne=U.length;U.push(Q);e:for(;0<ne;){var W=ne-1>>>1,Z=U[W];if(0<i(Z,Q))U[W]=Q,U[ne]=Z,ne=W;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var Q=U[0],ne=U.pop();if(ne!==Q){U[0]=ne;e:for(var W=0,Z=U.length,ue=Z>>>1;W<ue;){var le=2*(W+1)-1,be=U[le],ge=le+1,me=U[ge];if(0>i(be,ne))ge<Z&&0>i(me,be)?(U[W]=me,U[ge]=ne,W=ge):(U[W]=be,U[le]=ne,W=le);else if(ge<Z&&0>i(me,ne))U[W]=me,U[ge]=ne,W=ge;else break e}}return Q}function i(U,Q){var ne=U.sortIndex-Q.sortIndex;return ne!==0?ne:U.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,p=3,v=!1,w=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(U){for(var Q=r(d);Q!==null;){if(Q.callback===null)n(d);else if(Q.startTime<=U)n(d),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=r(d)}}function I(U){if(x=!1,P(U),!w)if(r(c)!==null)w=!0,K(A);else{var Q=r(d);Q!==null&&X(I,Q.startTime-U)}}function A(U,Q){w=!1,x&&(x=!1,_(N),N=-1),v=!0;var ne=p;try{for(P(Q),m=r(c);m!==null&&(!(m.expirationTime>Q)||U&&!L());){var W=m.callback;if(typeof W=="function"){m.callback=null,p=m.priorityLevel;var Z=W(m.expirationTime<=Q);Q=t.unstable_now(),typeof Z=="function"?m.callback=Z:m===r(c)&&n(c),P(Q)}else n(c);m=r(c)}if(m!==null)var ue=!0;else{var le=r(d);le!==null&&X(I,le.startTime-Q),ue=!1}return ue}finally{m=null,p=ne,v=!1}}var C=!1,E=null,N=-1,O=5,D=-1;function L(){return!(t.unstable_now()-D<O)}function $(){if(E!==null){var U=t.unstable_now();D=U;var Q=!0;try{Q=E(!0,U)}finally{Q?F():(C=!1,E=null)}}else C=!1}var F;if(typeof T=="function")F=function(){T($)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Y=G.port2;G.port1.onmessage=$,F=function(){Y.postMessage(null)}}else F=function(){g($,0)};function K(U){E=U,C||(C=!0,F())}function X(U,Q){N=g(function(){U(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,K(A))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var ne=p;p=Q;try{return U()}finally{p=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=p;p=U;try{return Q()}finally{p=ne}},t.unstable_scheduleCallback=function(U,Q,ne){var W=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?W+ne:W):ne=W,U){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ne+Z,U={id:f++,callback:Q,priorityLevel:U,startTime:ne,expirationTime:Z,sortIndex:-1},ne>W?(U.sortIndex=ne,e(d,U),r(c)===null&&U===r(d)&&(x?(_(N),N=-1):x=!0,X(I,ne-W))):(U.sortIndex=Z,e(c,U),w||v||(w=!0,K(A))),U},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(U){var Q=p;return function(){var ne=p;p=Q;try{return U.apply(this,arguments)}finally{p=ne}}}})(wj)),wj}var o4;function gee(){return o4||(o4=1,bj.exports=pee()),bj.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l4;function yee(){if(l4)return Ri;l4=1;var t=_C(),e=gee();function r(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(u,h){o(u,h),o(u+"Capture",h)}function o(u,h){for(i[u]=h,u=0;u<h.length;u++)n.add(h[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(u){return c.call(m,u)?!0:c.call(f,u)?!1:d.test(u)?m[u]=!0:(f[u]=!0,!1)}function v(u,h,y,j){if(y!==null&&y.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return j?!1:y!==null?!y.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function w(u,h,y,j){if(h===null||typeof h>"u"||v(u,h,y,j))return!0;if(j)return!1;if(y!==null)switch(y.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(u,h,y,j,k,R,B){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=j,this.attributeNamespace=k,this.mustUseProperty=y,this.propertyName=u,this.type=h,this.sanitizeURL=R,this.removeEmptyString=B}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){g[u]=new x(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];g[h]=new x(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){g[u]=new x(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){g[u]=new x(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){g[u]=new x(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){g[u]=new x(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){g[u]=new x(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){g[u]=new x(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){g[u]=new x(u,5,!1,u.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function T(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(_,T);g[h]=new x(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(_,T);g[h]=new x(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(_,T);g[h]=new x(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){g[u]=new x(u,1,!1,u.toLowerCase(),null,!1,!1)}),g.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){g[u]=new x(u,1,!1,u.toLowerCase(),null,!0,!0)});function P(u,h,y,j){var k=g.hasOwnProperty(h)?g[h]:null;(k!==null?k.type!==0:j||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(w(h,y,k,j)&&(y=null),j||k===null?p(h)&&(y===null?u.removeAttribute(h):u.setAttribute(h,""+y)):k.mustUseProperty?u[k.propertyName]=y===null?k.type===3?!1:"":y:(h=k.attributeName,j=k.attributeNamespace,y===null?u.removeAttribute(h):(k=k.type,y=k===3||k===4&&y===!0?"":""+y,j?u.setAttributeNS(j,h,y):u.setAttribute(h,y))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),U=Symbol.iterator;function Q(u){return u===null||typeof u!="object"?null:(u=U&&u[U]||u["@@iterator"],typeof u=="function"?u:null)}var ne=Object.assign,W;function Z(u){if(W===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);W=h&&h[1]||""}return`
`+W+u}var ue=!1;function le(u,h){if(!u||ue)return"";ue=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(ce){var j=ce}Reflect.construct(u,[],h)}else{try{h.call()}catch(ce){j=ce}u.call(h.prototype)}else{try{throw Error()}catch(ce){j=ce}u()}}catch(ce){if(ce&&j&&typeof ce.stack=="string"){for(var k=ce.stack.split(`
`),R=j.stack.split(`
`),B=k.length-1,H=R.length-1;1<=B&&0<=H&&k[B]!==R[H];)H--;for(;1<=B&&0<=H;B--,H--)if(k[B]!==R[H]){if(B!==1||H!==1)do if(B--,H--,0>H||k[B]!==R[H]){var J=`
`+k[B].replace(" at new "," at ");return u.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",u.displayName)),J}while(1<=B&&0<=H);break}}}finally{ue=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?Z(u):""}function be(u){switch(u.tag){case 5:return Z(u.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return u=le(u.type,!1),u;case 11:return u=le(u.type.render,!1),u;case 1:return u=le(u.type,!0),u;default:return""}}function ge(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case E:return"Fragment";case C:return"Portal";case O:return"Profiler";case N:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case L:return(u.displayName||"Context")+".Consumer";case D:return(u._context.displayName||"Context")+".Provider";case $:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Y:return h=u.displayName||null,h!==null?h:ge(u.type)||"Memo";case K:h=u._payload,u=u._init;try{return ge(u(h))}catch{}}return null}function me(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(h);case 8:return h===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Ie(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function fe(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Pe(u){var h=fe(u)?"checked":"value",y=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),j=""+u[h];if(!u.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var k=y.get,R=y.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return k.call(this)},set:function(B){j=""+B,R.call(this,B)}}),Object.defineProperty(u,h,{enumerable:y.enumerable}),{getValue:function(){return j},setValue:function(B){j=""+B},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Re(u){u._valueTracker||(u._valueTracker=Pe(u))}function he(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var y=h.getValue(),j="";return u&&(j=fe(u)?u.checked?"true":"false":u.value),u=j,u!==y?(h.setValue(u),!0):!1}function ot(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function et(u,h){var y=h.checked;return ne({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??u._wrapperState.initialChecked})}function kt(u,h){var y=h.defaultValue==null?"":h.defaultValue,j=h.checked!=null?h.checked:h.defaultChecked;y=Ie(h.value!=null?h.value:y),u._wrapperState={initialChecked:j,initialValue:y,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function It(u,h){h=h.checked,h!=null&&P(u,"checked",h,!1)}function Gt(u,h){It(u,h);var y=Ie(h.value),j=h.type;if(y!=null)j==="number"?(y===0&&u.value===""||u.value!=y)&&(u.value=""+y):u.value!==""+y&&(u.value=""+y);else if(j==="submit"||j==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?Ot(u,h.type,y):h.hasOwnProperty("defaultValue")&&Ot(u,h.type,Ie(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function Hr(u,h,y){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var j=h.type;if(!(j!=="submit"&&j!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,y||h===u.value||(u.value=h),u.defaultValue=h}y=u.name,y!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,y!==""&&(u.name=y)}function Ot(u,h,y){(h!=="number"||ot(u.ownerDocument)!==u)&&(y==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+y&&(u.defaultValue=""+y))}var tr=Array.isArray;function Ar(u,h,y,j){if(u=u.options,h){h={};for(var k=0;k<y.length;k++)h["$"+y[k]]=!0;for(y=0;y<u.length;y++)k=h.hasOwnProperty("$"+u[y].value),u[y].selected!==k&&(u[y].selected=k),k&&j&&(u[y].defaultSelected=!0)}else{for(y=""+Ie(y),h=null,k=0;k<u.length;k++){if(u[k].value===y){u[k].selected=!0,j&&(u[k].defaultSelected=!0);return}h!==null||u[k].disabled||(h=u[k])}h!==null&&(h.selected=!0)}}function bn(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function fi(u,h){var y=h.value;if(y==null){if(y=h.children,h=h.defaultValue,y!=null){if(h!=null)throw Error(r(92));if(tr(y)){if(1<y.length)throw Error(r(93));y=y[0]}h=y}h==null&&(h=""),y=h}u._wrapperState={initialValue:Ie(y)}}function hs(u,h){var y=Ie(h.value),j=Ie(h.defaultValue);y!=null&&(y=""+y,y!==u.value&&(u.value=y),h.defaultValue==null&&u.defaultValue!==y&&(u.defaultValue=y)),j!=null&&(u.defaultValue=""+j)}function kn(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function Bs(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qs(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?Bs(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Pi,Ae=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,y,j,k){MSApp.execUnsafeLocalFunction(function(){return u(h,y,j,k)})}:u})(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(Pi=Pi||document.createElement("div"),Pi.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Pi.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function ve(u,h){if(h){var y=u.firstChild;if(y&&y===u.lastChild&&y.nodeType===3){y.nodeValue=h;return}}u.textContent=h}var De={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},st=["Webkit","ms","Moz","O"];Object.keys(De).forEach(function(u){st.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),De[h]=De[u]})});function Be(u,h,y){return h==null||typeof h=="boolean"||h===""?"":y||typeof h!="number"||h===0||De.hasOwnProperty(u)&&De[u]?(""+h).trim():h+"px"}function gt(u,h){u=u.style;for(var y in h)if(h.hasOwnProperty(y)){var j=y.indexOf("--")===0,k=Be(y,h[y],j);y==="float"&&(y="cssFloat"),j?u.setProperty(y,k):u[y]=k}}var jt=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(u,h){if(h){if(jt[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(r(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(r(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(r(61))}if(h.style!=null&&typeof h.style!="object")throw Error(r(62))}}function dr(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var In=null;function po(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var fs=null,ms=null,Br=null;function _m(u){if(u=Ym(u)){if(typeof fs!="function")throw Error(r(280));var h=u.stateNode;h&&(h=S0(h),fs(u.stateNode,u.type,h))}}function Nl(u){ms?Br?Br.push(u):Br=[u]:ms=u}function Sl(){if(ms){var u=ms,h=Br;if(Br=ms=null,_m(u),h)for(u=0;u<h.length;u++)_m(h[u])}}function Zy(u,h){return u(h)}function e0(){}var va=!1;function t0(u,h,y){if(va)return u(h,y);va=!0;try{return Zy(u,h,y)}finally{va=!1,(ms!==null||Br!==null)&&(e0(),Sl())}}function Xc(u,h){var y=u.stateNode;if(y===null)return null;var j=S0(y);if(j===null)return null;y=j[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(u=u.type,j=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!j;break e;default:u=!1}if(u)return null;if(y&&typeof y!="function")throw Error(r(231,h,typeof y));return y}var Tl=!1;if(l)try{var El={};Object.defineProperty(El,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{Tl=!1}function r0(u,h,y,j,k,R,B,H,J){var ce=Array.prototype.slice.call(arguments,3);try{h.apply(y,ce)}catch(Te){this.onError(Te)}}var go=!1,xa=null,Od=!1,ps=null,n0={onError:function(u){go=!0,xa=u}};function i0(u,h,y,j,k,R,B,H,J){go=!1,xa=null,r0.apply(n0,arguments)}function jm(u,h,y,j,k,R,B,H,J){if(i0.apply(this,arguments),go){if(go){var ce=xa;go=!1,xa=null}else throw Error(r(198));Od||(Od=!0,ps=ce)}}function Us(u){var h=u,y=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(y=h.return),u=h.return;while(u)}return h.tag===3?y:null}function Nm(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function s0(u){if(Us(u)!==u)throw Error(r(188))}function a0(u){var h=u.alternate;if(!h){if(h=Us(u),h===null)throw Error(r(188));return h!==u?null:u}for(var y=u,j=h;;){var k=y.return;if(k===null)break;var R=k.alternate;if(R===null){if(j=k.return,j!==null){y=j;continue}break}if(k.child===R.child){for(R=k.child;R;){if(R===y)return s0(k),u;if(R===j)return s0(k),h;R=R.sibling}throw Error(r(188))}if(y.return!==j.return)y=k,j=R;else{for(var B=!1,H=k.child;H;){if(H===y){B=!0,y=k,j=R;break}if(H===j){B=!0,j=k,y=R;break}H=H.sibling}if(!B){for(H=R.child;H;){if(H===y){B=!0,y=R,j=k;break}if(H===j){B=!0,j=R,y=k;break}H=H.sibling}if(!B)throw Error(r(189))}}if(y.alternate!==j)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?u:h}function o0(u){return u=a0(u),u!==null?Jc(u):null}function Jc(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=Jc(u);if(h!==null)return h;u=u.sibling}return null}var Sm=e.unstable_scheduleCallback,Rd=e.unstable_cancelCallback,Zc=e.unstable_shouldYield,yo=e.unstable_requestPaint,_r=e.unstable_now,G1=e.unstable_getCurrentPriorityLevel,Md=e.unstable_ImmediatePriority,Tm=e.unstable_UserBlockingPriority,eu=e.unstable_NormalPriority,Em=e.unstable_LowPriority,Dd=e.unstable_IdlePriority,tu=null,Hi=null;function l0(u){if(Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(tu,u,void 0,(u.current.flags&128)===128)}catch{}}var Gi=Math.clz32?Math.clz32:ru,ba=Math.log,gs=Math.LN2;function ru(u){return u>>>=0,u===0?32:31-(ba(u)/gs|0)|0}var wa=64,Pl=4194304;function Zt(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function vo(u,h){var y=u.pendingLanes;if(y===0)return 0;var j=0,k=u.suspendedLanes,R=u.pingedLanes,B=y&268435455;if(B!==0){var H=B&~k;H!==0?j=Zt(H):(R&=B,R!==0&&(j=Zt(R)))}else B=y&~k,B!==0?j=Zt(B):R!==0&&(j=Zt(R));if(j===0)return 0;if(h!==0&&h!==j&&(h&k)===0&&(k=j&-j,R=h&-h,k>=R||k===16&&(R&4194240)!==0))return h;if((j&4)!==0&&(j|=y&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=j;0<h;)y=31-Gi(h),k=1<<y,j|=u[y],h&=~k;return j}function nu(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(u,h){for(var y=u.suspendedLanes,j=u.pingedLanes,k=u.expirationTimes,R=u.pendingLanes;0<R;){var B=31-Gi(R),H=1<<B,J=k[B];J===-1?((H&y)===0||(H&j)!==0)&&(k[B]=nu(H,h)):J<=h&&(u.expiredLanes|=H),R&=~H}}function Pm(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Am(){var u=wa;return wa<<=1,(wa&4194240)===0&&(wa=64),u}function Cm(u){for(var h=[],y=0;31>y;y++)h.push(u);return h}function su(u,h,y){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-Gi(h),u[h]=y}function K1(u,h){var y=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var j=u.eventTimes;for(u=u.expirationTimes;0<y;){var k=31-Gi(y),R=1<<k;h[k]=0,j[k]=-1,u[k]=-1,y&=~R}}function km(u,h){var y=u.entangledLanes|=h;for(u=u.entanglements;y;){var j=31-Gi(y),k=1<<j;k&h|u[j]&h&&(u[j]|=h),y&=~k}}var Ft=0;function _a(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Im,Ld,Om,Rm,Mm,ja=!1,$d=[],Na=null,Sa=null,On=null,au=new Map,xo=new Map,Ki=[],c0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Al(u,h){switch(u){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":au.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(h.pointerId)}}function zs(u,h,y,j,k,R){return u===null||u.nativeEvent!==R?(u={blockedOn:h,domEventName:y,eventSystemFlags:j,nativeEvent:R,targetContainers:[k]},h!==null&&(h=Ym(h),h!==null&&Ld(h)),u):(u.eventSystemFlags|=j,h=u.targetContainers,k!==null&&h.indexOf(k)===-1&&h.push(k),u)}function u0(u,h,y,j,k){switch(h){case"focusin":return Na=zs(Na,u,h,y,j,k),!0;case"dragenter":return Sa=zs(Sa,u,h,y,j,k),!0;case"mouseover":return On=zs(On,u,h,y,j,k),!0;case"pointerover":var R=k.pointerId;return au.set(R,zs(au.get(R)||null,u,h,y,j,k)),!0;case"gotpointercapture":return R=k.pointerId,xo.set(R,zs(xo.get(R)||null,u,h,y,j,k)),!0}return!1}function Fd(u){var h=uu(u.target);if(h!==null){var y=Us(h);if(y!==null){if(h=y.tag,h===13){if(h=Nm(y),h!==null){u.blockedOn=h,Mm(u.priority,function(){Om(y)});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){u.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}u.blockedOn=null}function fr(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var y=Vd(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(y===null){y=u.nativeEvent;var j=new y.constructor(y.type,y);In=j,y.target.dispatchEvent(j),In=null}else return h=Ym(y),h!==null&&Ld(h),u.blockedOn=y,!1;h.shift()}return!0}function d0(u,h,y){fr(u)&&y.delete(h)}function Y1(){ja=!1,Na!==null&&fr(Na)&&(Na=null),Sa!==null&&fr(Sa)&&(Sa=null),On!==null&&fr(On)&&(On=null),au.forEach(d0),xo.forEach(d0)}function Cl(u,h){u.blockedOn===h&&(u.blockedOn=null,ja||(ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Y1)))}function kl(u){function h(k){return Cl(k,u)}if(0<$d.length){Cl($d[0],u);for(var y=1;y<$d.length;y++){var j=$d[y];j.blockedOn===u&&(j.blockedOn=null)}}for(Na!==null&&Cl(Na,u),Sa!==null&&Cl(Sa,u),On!==null&&Cl(On,u),au.forEach(h),xo.forEach(h),y=0;y<Ki.length;y++)j=Ki[y],j.blockedOn===u&&(j.blockedOn=null);for(;0<Ki.length&&(y=Ki[0],y.blockedOn===null);)Fd(y),y.blockedOn===null&&Ki.shift()}var bo=I.ReactCurrentBatchConfig,wo=!0;function Ta(u,h,y,j){var k=Ft,R=bo.transition;bo.transition=null;try{Ft=1,Dm(u,h,y,j)}finally{Ft=k,bo.transition=R}}function h0(u,h,y,j){var k=Ft,R=bo.transition;bo.transition=null;try{Ft=4,Dm(u,h,y,j)}finally{Ft=k,bo.transition=R}}function Dm(u,h,y,j){if(wo){var k=Vd(u,h,y,j);if(k===null)a_(u,h,j,Ea,y),Al(u,j);else if(u0(k,u,h,y,j))j.stopPropagation();else if(Al(u,j),h&4&&-1<c0.indexOf(u)){for(;k!==null;){var R=Ym(k);if(R!==null&&Im(R),R=Vd(u,h,y,j),R===null&&a_(u,h,j,Ea,y),R===k)break;k=R}k!==null&&j.stopPropagation()}else a_(u,h,j,null,y)}}var Ea=null;function Vd(u,h,y,j){if(Ea=null,u=po(j),u=uu(u),u!==null)if(h=Us(u),h===null)u=null;else if(y=h.tag,y===13){if(u=Nm(h),u!==null)return u;u=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return Ea=u,null}function Bd(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G1()){case Md:return 1;case Tm:return 4;case eu:case Em:return 16;case Dd:return 536870912;default:return 16}default:return 16}}var Yi=null,qd=null,_o=null;function f0(){if(_o)return _o;var u,h=qd,y=h.length,j,k="value"in Yi?Yi.value:Yi.textContent,R=k.length;for(u=0;u<y&&h[u]===k[u];u++);var B=y-u;for(j=1;j<=B&&h[y-j]===k[R-j];j++);return _o=k.slice(u,1<j?1-j:void 0)}function ou(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function Pa(){return!0}function Lm(){return!1}function Yn(u){function h(y,j,k,R,B){this._reactName=y,this._targetInst=k,this.type=j,this.nativeEvent=R,this.target=B,this.currentTarget=null;for(var H in u)u.hasOwnProperty(H)&&(y=u[H],this[H]=y?y(R):R[H]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Pa:Lm,this.isPropagationStopped=Lm,this}return ne(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),h}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lu=Yn(Aa),Il=ne({},Aa,{view:0,detail:0}),Ud=Yn(Il),zd,Wd,Qi,cu=ne({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xt,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Qi&&(Qi&&u.type==="mousemove"?(zd=u.screenX-Qi.screenX,Wd=u.screenY-Qi.screenY):Wd=zd=0,Qi=u),zd)},movementY:function(u){return"movementY"in u?u.movementY:Wd}}),$m=Yn(cu),m0=ne({},cu,{dataTransfer:0}),p0=Yn(m0),Hd=ne({},Il,{relatedTarget:0}),Rn=Yn(Hd),g0=ne({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),y0=Yn(g0),Ol=ne({},Aa,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),b=Yn(Ol),M=ne({},Aa,{data:0}),V=Yn(M),q={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},se={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},de={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Me(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=de[u])?!!h[u]:!1}function xt(){return Me}var Gr=ne({},Il,{key:function(u){if(u.key){var h=q[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=ou(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?se[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xt,charCode:function(u){return u.type==="keypress"?ou(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?ou(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),or=Yn(Gr),Zr=ne({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Yn(Zr),jo=ne({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xt}),Ca=Yn(jo),ka=ne({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gd=Yn(ka),Fm=ne({},cu,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),sZ=Yn(Fm),aZ=[9,13,27,32],Q1=l&&"CompositionEvent"in window,Vm=null;l&&"documentMode"in document&&(Vm=document.documentMode);var oZ=l&&"TextEvent"in window&&!Vm,GO=l&&(!Q1||Vm&&8<Vm&&11>=Vm),KO=" ",YO=!1;function QO(u,h){switch(u){case"keyup":return aZ.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XO(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Kd=!1;function lZ(u,h){switch(u){case"compositionend":return XO(h);case"keypress":return h.which!==32?null:(YO=!0,KO);case"textInput":return u=h.data,u===KO&&YO?null:u;default:return null}}function cZ(u,h){if(Kd)return u==="compositionend"||!Q1&&QO(u,h)?(u=f0(),_o=qd=Yi=null,Kd=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return GO&&h.locale!=="ko"?null:h.data;default:return null}}var uZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JO(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!uZ[u.type]:h==="textarea"}function ZO(u,h,y,j){Nl(j),h=_0(h,"onChange"),0<h.length&&(y=new lu("onChange","change",null,y,j),u.push({event:y,listeners:h}))}var Bm=null,qm=null;function dZ(u){yR(u,0)}function v0(u){var h=Zd(u);if(he(h))return u}function hZ(u,h){if(u==="change")return h}var eR=!1;if(l){var X1;if(l){var J1="oninput"in document;if(!J1){var tR=document.createElement("div");tR.setAttribute("oninput","return;"),J1=typeof tR.oninput=="function"}X1=J1}else X1=!1;eR=X1&&(!document.documentMode||9<document.documentMode)}function rR(){Bm&&(Bm.detachEvent("onpropertychange",nR),qm=Bm=null)}function nR(u){if(u.propertyName==="value"&&v0(qm)){var h=[];ZO(h,qm,u,po(u)),t0(dZ,h)}}function fZ(u,h,y){u==="focusin"?(rR(),Bm=h,qm=y,Bm.attachEvent("onpropertychange",nR)):u==="focusout"&&rR()}function mZ(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return v0(qm)}function pZ(u,h){if(u==="click")return v0(h)}function gZ(u,h){if(u==="input"||u==="change")return v0(h)}function yZ(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Ws=typeof Object.is=="function"?Object.is:yZ;function Um(u,h){if(Ws(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var y=Object.keys(u),j=Object.keys(h);if(y.length!==j.length)return!1;for(j=0;j<y.length;j++){var k=y[j];if(!c.call(h,k)||!Ws(u[k],h[k]))return!1}return!0}function iR(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function sR(u,h){var y=iR(u);u=0;for(var j;y;){if(y.nodeType===3){if(j=u+y.textContent.length,u<=h&&j>=h)return{node:y,offset:h-u};u=j}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=iR(y)}}function aR(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?aR(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function oR(){for(var u=window,h=ot();h instanceof u.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)u=h.contentWindow;else break;h=ot(u.document)}return h}function Z1(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function vZ(u){var h=oR(),y=u.focusedElem,j=u.selectionRange;if(h!==y&&y&&y.ownerDocument&&aR(y.ownerDocument.documentElement,y)){if(j!==null&&Z1(y)){if(h=j.start,u=j.end,u===void 0&&(u=h),"selectionStart"in y)y.selectionStart=h,y.selectionEnd=Math.min(u,y.value.length);else if(u=(h=y.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var k=y.textContent.length,R=Math.min(j.start,k);j=j.end===void 0?R:Math.min(j.end,k),!u.extend&&R>j&&(k=j,j=R,R=k),k=sR(y,R);var B=sR(y,j);k&&B&&(u.rangeCount!==1||u.anchorNode!==k.node||u.anchorOffset!==k.offset||u.focusNode!==B.node||u.focusOffset!==B.offset)&&(h=h.createRange(),h.setStart(k.node,k.offset),u.removeAllRanges(),R>j?(u.addRange(h),u.extend(B.node,B.offset)):(h.setEnd(B.node,B.offset),u.addRange(h)))}}for(h=[],u=y;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<h.length;y++)u=h[y],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var xZ=l&&"documentMode"in document&&11>=document.documentMode,Yd=null,e_=null,zm=null,t_=!1;function lR(u,h,y){var j=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;t_||Yd==null||Yd!==ot(j)||(j=Yd,"selectionStart"in j&&Z1(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),zm&&Um(zm,j)||(zm=j,j=_0(e_,"onSelect"),0<j.length&&(h=new lu("onSelect","select",null,h,y),u.push({event:h,listeners:j}),h.target=Yd)))}function x0(u,h){var y={};return y[u.toLowerCase()]=h.toLowerCase(),y["Webkit"+u]="webkit"+h,y["Moz"+u]="moz"+h,y}var Qd={animationend:x0("Animation","AnimationEnd"),animationiteration:x0("Animation","AnimationIteration"),animationstart:x0("Animation","AnimationStart"),transitionend:x0("Transition","TransitionEnd")},r_={},cR={};l&&(cR=document.createElement("div").style,"AnimationEvent"in window||(delete Qd.animationend.animation,delete Qd.animationiteration.animation,delete Qd.animationstart.animation),"TransitionEvent"in window||delete Qd.transitionend.transition);function b0(u){if(r_[u])return r_[u];if(!Qd[u])return u;var h=Qd[u],y;for(y in h)if(h.hasOwnProperty(y)&&y in cR)return r_[u]=h[y];return u}var uR=b0("animationend"),dR=b0("animationiteration"),hR=b0("animationstart"),fR=b0("transitionend"),mR=new Map,pR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rl(u,h){mR.set(u,h),s(h,[u])}for(var n_=0;n_<pR.length;n_++){var i_=pR[n_],bZ=i_.toLowerCase(),wZ=i_[0].toUpperCase()+i_.slice(1);Rl(bZ,"on"+wZ)}Rl(uR,"onAnimationEnd"),Rl(dR,"onAnimationIteration"),Rl(hR,"onAnimationStart"),Rl("dblclick","onDoubleClick"),Rl("focusin","onFocus"),Rl("focusout","onBlur"),Rl(fR,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_Z=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wm));function gR(u,h,y){var j=u.type||"unknown-event";u.currentTarget=y,jm(j,h,void 0,u),u.currentTarget=null}function yR(u,h){h=(h&4)!==0;for(var y=0;y<u.length;y++){var j=u[y],k=j.event;j=j.listeners;e:{var R=void 0;if(h)for(var B=j.length-1;0<=B;B--){var H=j[B],J=H.instance,ce=H.currentTarget;if(H=H.listener,J!==R&&k.isPropagationStopped())break e;gR(k,H,ce),R=J}else for(B=0;B<j.length;B++){if(H=j[B],J=H.instance,ce=H.currentTarget,H=H.listener,J!==R&&k.isPropagationStopped())break e;gR(k,H,ce),R=J}}}if(Od)throw u=ps,Od=!1,ps=null,u}function jr(u,h){var y=h[h_];y===void 0&&(y=h[h_]=new Set);var j=u+"__bubble";y.has(j)||(vR(h,u,2,!1),y.add(j))}function s_(u,h,y){var j=0;h&&(j|=4),vR(y,u,j,h)}var w0="_reactListening"+Math.random().toString(36).slice(2);function Hm(u){if(!u[w0]){u[w0]=!0,n.forEach(function(y){y!=="selectionchange"&&(_Z.has(y)||s_(y,!1,u),s_(y,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[w0]||(h[w0]=!0,s_("selectionchange",!1,h))}}function vR(u,h,y,j){switch(Bd(h)){case 1:var k=Ta;break;case 4:k=h0;break;default:k=Dm}y=k.bind(null,h,y,u),k=void 0,!Tl||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(k=!0),j?k!==void 0?u.addEventListener(h,y,{capture:!0,passive:k}):u.addEventListener(h,y,!0):k!==void 0?u.addEventListener(h,y,{passive:k}):u.addEventListener(h,y,!1)}function a_(u,h,y,j,k){var R=j;if((h&1)===0&&(h&2)===0&&j!==null)e:for(;;){if(j===null)return;var B=j.tag;if(B===3||B===4){var H=j.stateNode.containerInfo;if(H===k||H.nodeType===8&&H.parentNode===k)break;if(B===4)for(B=j.return;B!==null;){var J=B.tag;if((J===3||J===4)&&(J=B.stateNode.containerInfo,J===k||J.nodeType===8&&J.parentNode===k))return;B=B.return}for(;H!==null;){if(B=uu(H),B===null)return;if(J=B.tag,J===5||J===6){j=R=B;continue e}H=H.parentNode}}j=j.return}t0(function(){var ce=R,Te=po(y),Ce=[];e:{var Se=mR.get(u);if(Se!==void 0){var $e=lu,He=u;switch(u){case"keypress":if(ou(y)===0)break e;case"keydown":case"keyup":$e=or;break;case"focusin":He="focus",$e=Rn;break;case"focusout":He="blur",$e=Rn;break;case"beforeblur":case"afterblur":$e=Rn;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=$m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=p0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=Ca;break;case uR:case dR:case hR:$e=y0;break;case fR:$e=Gd;break;case"scroll":$e=Ud;break;case"wheel":$e=sZ;break;case"copy":case"cut":case"paste":$e=b;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=Xi}var Qe=(h&4)!==0,Kr=!Qe&&u==="scroll",ie=Qe?Se!==null?Se+"Capture":null:Se;Qe=[];for(var ee=ce,ae;ee!==null;){ae=ee;var Oe=ae.stateNode;if(ae.tag===5&&Oe!==null&&(ae=Oe,ie!==null&&(Oe=Xc(ee,ie),Oe!=null&&Qe.push(Gm(ee,Oe,ae)))),Kr)break;ee=ee.return}0<Qe.length&&(Se=new $e(Se,He,null,y,Te),Ce.push({event:Se,listeners:Qe}))}}if((h&7)===0){e:{if(Se=u==="mouseover"||u==="pointerover",$e=u==="mouseout"||u==="pointerout",Se&&y!==In&&(He=y.relatedTarget||y.fromElement)&&(uu(He)||He[No]))break e;if(($e||Se)&&(Se=Te.window===Te?Te:(Se=Te.ownerDocument)?Se.defaultView||Se.parentWindow:window,$e?(He=y.relatedTarget||y.toElement,$e=ce,He=He?uu(He):null,He!==null&&(Kr=Us(He),He!==Kr||He.tag!==5&&He.tag!==6)&&(He=null)):($e=null,He=ce),$e!==He)){if(Qe=$m,Oe="onMouseLeave",ie="onMouseEnter",ee="mouse",(u==="pointerout"||u==="pointerover")&&(Qe=Xi,Oe="onPointerLeave",ie="onPointerEnter",ee="pointer"),Kr=$e==null?Se:Zd($e),ae=He==null?Se:Zd(He),Se=new Qe(Oe,ee+"leave",$e,y,Te),Se.target=Kr,Se.relatedTarget=ae,Oe=null,uu(Te)===ce&&(Qe=new Qe(ie,ee+"enter",He,y,Te),Qe.target=ae,Qe.relatedTarget=Kr,Oe=Qe),Kr=Oe,$e&&He)t:{for(Qe=$e,ie=He,ee=0,ae=Qe;ae;ae=Xd(ae))ee++;for(ae=0,Oe=ie;Oe;Oe=Xd(Oe))ae++;for(;0<ee-ae;)Qe=Xd(Qe),ee--;for(;0<ae-ee;)ie=Xd(ie),ae--;for(;ee--;){if(Qe===ie||ie!==null&&Qe===ie.alternate)break t;Qe=Xd(Qe),ie=Xd(ie)}Qe=null}else Qe=null;$e!==null&&xR(Ce,Se,$e,Qe,!1),He!==null&&Kr!==null&&xR(Ce,Kr,He,Qe,!0)}}e:{if(Se=ce?Zd(ce):window,$e=Se.nodeName&&Se.nodeName.toLowerCase(),$e==="select"||$e==="input"&&Se.type==="file")var Xe=hZ;else if(JO(Se))if(eR)Xe=gZ;else{Xe=mZ;var nt=fZ}else($e=Se.nodeName)&&$e.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(Xe=pZ);if(Xe&&(Xe=Xe(u,ce))){ZO(Ce,Xe,y,Te);break e}nt&&nt(u,Se,ce),u==="focusout"&&(nt=Se._wrapperState)&&nt.controlled&&Se.type==="number"&&Ot(Se,"number",Se.value)}switch(nt=ce?Zd(ce):window,u){case"focusin":(JO(nt)||nt.contentEditable==="true")&&(Yd=nt,e_=ce,zm=null);break;case"focusout":zm=e_=Yd=null;break;case"mousedown":t_=!0;break;case"contextmenu":case"mouseup":case"dragend":t_=!1,lR(Ce,y,Te);break;case"selectionchange":if(xZ)break;case"keydown":case"keyup":lR(Ce,y,Te)}var it;if(Q1)e:{switch(u){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Kd?QO(u,y)&&(mt="onCompositionEnd"):u==="keydown"&&y.keyCode===229&&(mt="onCompositionStart");mt&&(GO&&y.locale!=="ko"&&(Kd||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Kd&&(it=f0()):(Yi=Te,qd="value"in Yi?Yi.value:Yi.textContent,Kd=!0)),nt=_0(ce,mt),0<nt.length&&(mt=new V(mt,u,null,y,Te),Ce.push({event:mt,listeners:nt}),it?mt.data=it:(it=XO(y),it!==null&&(mt.data=it)))),(it=oZ?lZ(u,y):cZ(u,y))&&(ce=_0(ce,"onBeforeInput"),0<ce.length&&(Te=new V("onBeforeInput","beforeinput",null,y,Te),Ce.push({event:Te,listeners:ce}),Te.data=it))}yR(Ce,h)})}function Gm(u,h,y){return{instance:u,listener:h,currentTarget:y}}function _0(u,h){for(var y=h+"Capture",j=[];u!==null;){var k=u,R=k.stateNode;k.tag===5&&R!==null&&(k=R,R=Xc(u,y),R!=null&&j.unshift(Gm(u,R,k)),R=Xc(u,h),R!=null&&j.push(Gm(u,R,k))),u=u.return}return j}function Xd(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function xR(u,h,y,j,k){for(var R=h._reactName,B=[];y!==null&&y!==j;){var H=y,J=H.alternate,ce=H.stateNode;if(J!==null&&J===j)break;H.tag===5&&ce!==null&&(H=ce,k?(J=Xc(y,R),J!=null&&B.unshift(Gm(y,J,H))):k||(J=Xc(y,R),J!=null&&B.push(Gm(y,J,H)))),y=y.return}B.length!==0&&u.push({event:h,listeners:B})}var jZ=/\r\n?/g,NZ=/\u0000|\uFFFD/g;function bR(u){return(typeof u=="string"?u:""+u).replace(jZ,`
`).replace(NZ,"")}function j0(u,h,y){if(h=bR(h),bR(u)!==h&&y)throw Error(r(425))}function N0(){}var o_=null,l_=null;function c_(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var u_=typeof setTimeout=="function"?setTimeout:void 0,SZ=typeof clearTimeout=="function"?clearTimeout:void 0,wR=typeof Promise=="function"?Promise:void 0,TZ=typeof queueMicrotask=="function"?queueMicrotask:typeof wR<"u"?function(u){return wR.resolve(null).then(u).catch(EZ)}:u_;function EZ(u){setTimeout(function(){throw u})}function d_(u,h){var y=h,j=0;do{var k=y.nextSibling;if(u.removeChild(y),k&&k.nodeType===8)if(y=k.data,y==="/$"){if(j===0){u.removeChild(k),kl(h);return}j--}else y!=="$"&&y!=="$?"&&y!=="$!"||j++;y=k}while(y);kl(h)}function Ml(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function _R(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="$"||y==="$!"||y==="$?"){if(h===0)return u;h--}else y==="/$"&&h++}u=u.previousSibling}return null}var Jd=Math.random().toString(36).slice(2),Ia="__reactFiber$"+Jd,Km="__reactProps$"+Jd,No="__reactContainer$"+Jd,h_="__reactEvents$"+Jd,PZ="__reactListeners$"+Jd,AZ="__reactHandles$"+Jd;function uu(u){var h=u[Ia];if(h)return h;for(var y=u.parentNode;y;){if(h=y[No]||y[Ia]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(u=_R(u);u!==null;){if(y=u[Ia])return y;u=_R(u)}return h}u=y,y=u.parentNode}return null}function Ym(u){return u=u[Ia]||u[No],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Zd(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(r(33))}function S0(u){return u[Km]||null}var f_=[],eh=-1;function Dl(u){return{current:u}}function Nr(u){0>eh||(u.current=f_[eh],f_[eh]=null,eh--)}function yr(u,h){eh++,f_[eh]=u.current,u.current=h}var Ll={},Qn=Dl(Ll),Ai=Dl(!1),du=Ll;function th(u,h){var y=u.type.contextTypes;if(!y)return Ll;var j=u.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===h)return j.__reactInternalMemoizedMaskedChildContext;var k={},R;for(R in y)k[R]=h[R];return j&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=k),k}function Ci(u){return u=u.childContextTypes,u!=null}function T0(){Nr(Ai),Nr(Qn)}function jR(u,h,y){if(Qn.current!==Ll)throw Error(r(168));yr(Qn,h),yr(Ai,y)}function NR(u,h,y){var j=u.stateNode;if(h=h.childContextTypes,typeof j.getChildContext!="function")return y;j=j.getChildContext();for(var k in j)if(!(k in h))throw Error(r(108,me(u)||"Unknown",k));return ne({},y,j)}function E0(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Ll,du=Qn.current,yr(Qn,u),yr(Ai,Ai.current),!0}function SR(u,h,y){var j=u.stateNode;if(!j)throw Error(r(169));y?(u=NR(u,h,du),j.__reactInternalMemoizedMergedChildContext=u,Nr(Ai),Nr(Qn),yr(Qn,u)):Nr(Ai),yr(Ai,y)}var So=null,P0=!1,m_=!1;function TR(u){So===null?So=[u]:So.push(u)}function CZ(u){P0=!0,TR(u)}function $l(){if(!m_&&So!==null){m_=!0;var u=0,h=Ft;try{var y=So;for(Ft=1;u<y.length;u++){var j=y[u];do j=j(!0);while(j!==null)}So=null,P0=!1}catch(k){throw So!==null&&(So=So.slice(u+1)),Sm(Md,$l),k}finally{Ft=h,m_=!1}}return null}var rh=[],nh=0,A0=null,C0=0,ys=[],vs=0,hu=null,To=1,Eo="";function fu(u,h){rh[nh++]=C0,rh[nh++]=A0,A0=u,C0=h}function ER(u,h,y){ys[vs++]=To,ys[vs++]=Eo,ys[vs++]=hu,hu=u;var j=To;u=Eo;var k=32-Gi(j)-1;j&=~(1<<k),y+=1;var R=32-Gi(h)+k;if(30<R){var B=k-k%5;R=(j&(1<<B)-1).toString(32),j>>=B,k-=B,To=1<<32-Gi(h)+k|y<<k|j,Eo=R+u}else To=1<<R|y<<k|j,Eo=u}function p_(u){u.return!==null&&(fu(u,1),ER(u,1,0))}function g_(u){for(;u===A0;)A0=rh[--nh],rh[nh]=null,C0=rh[--nh],rh[nh]=null;for(;u===hu;)hu=ys[--vs],ys[vs]=null,Eo=ys[--vs],ys[vs]=null,To=ys[--vs],ys[vs]=null}var Ji=null,Zi=null,Cr=!1,Hs=null;function PR(u,h){var y=_s(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=u,h=u.deletions,h===null?(u.deletions=[y],u.flags|=16):h.push(y)}function AR(u,h){switch(u.tag){case 5:var y=u.type;return h=h.nodeType!==1||y.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,Ji=u,Zi=Ml(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,Ji=u,Zi=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(y=hu!==null?{id:To,overflow:Eo}:null,u.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=_s(18,null,null,0),y.stateNode=h,y.return=u,u.child=y,Ji=u,Zi=null,!0):!1;default:return!1}}function y_(u){return(u.mode&1)!==0&&(u.flags&128)===0}function v_(u){if(Cr){var h=Zi;if(h){var y=h;if(!AR(u,h)){if(y_(u))throw Error(r(418));h=Ml(y.nextSibling);var j=Ji;h&&AR(u,h)?PR(j,y):(u.flags=u.flags&-4097|2,Cr=!1,Ji=u)}}else{if(y_(u))throw Error(r(418));u.flags=u.flags&-4097|2,Cr=!1,Ji=u}}}function CR(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Ji=u}function k0(u){if(u!==Ji)return!1;if(!Cr)return CR(u),Cr=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!c_(u.type,u.memoizedProps)),h&&(h=Zi)){if(y_(u))throw kR(),Error(r(418));for(;h;)PR(u,h),h=Ml(h.nextSibling)}if(CR(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="/$"){if(h===0){Zi=Ml(u.nextSibling);break e}h--}else y!=="$"&&y!=="$!"&&y!=="$?"||h++}u=u.nextSibling}Zi=null}}else Zi=Ji?Ml(u.stateNode.nextSibling):null;return!0}function kR(){for(var u=Zi;u;)u=Ml(u.nextSibling)}function ih(){Zi=Ji=null,Cr=!1}function x_(u){Hs===null?Hs=[u]:Hs.push(u)}var kZ=I.ReactCurrentBatchConfig;function Qm(u,h,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(r(309));var j=y.stateNode}if(!j)throw Error(r(147,u));var k=j,R=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===R?h.ref:(h=function(B){var H=k.refs;B===null?delete H[R]:H[R]=B},h._stringRef=R,h)}if(typeof u!="string")throw Error(r(284));if(!y._owner)throw Error(r(290,u))}return u}function I0(u,h){throw u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function IR(u){var h=u._init;return h(u._payload)}function OR(u){function h(ie,ee){if(u){var ae=ie.deletions;ae===null?(ie.deletions=[ee],ie.flags|=16):ae.push(ee)}}function y(ie,ee){if(!u)return null;for(;ee!==null;)h(ie,ee),ee=ee.sibling;return null}function j(ie,ee){for(ie=new Map;ee!==null;)ee.key!==null?ie.set(ee.key,ee):ie.set(ee.index,ee),ee=ee.sibling;return ie}function k(ie,ee){return ie=Hl(ie,ee),ie.index=0,ie.sibling=null,ie}function R(ie,ee,ae){return ie.index=ae,u?(ae=ie.alternate,ae!==null?(ae=ae.index,ae<ee?(ie.flags|=2,ee):ae):(ie.flags|=2,ee)):(ie.flags|=1048576,ee)}function B(ie){return u&&ie.alternate===null&&(ie.flags|=2),ie}function H(ie,ee,ae,Oe){return ee===null||ee.tag!==6?(ee=uj(ae,ie.mode,Oe),ee.return=ie,ee):(ee=k(ee,ae),ee.return=ie,ee)}function J(ie,ee,ae,Oe){var Xe=ae.type;return Xe===E?Te(ie,ee,ae.props.children,Oe,ae.key):ee!==null&&(ee.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===K&&IR(Xe)===ee.type)?(Oe=k(ee,ae.props),Oe.ref=Qm(ie,ee,ae),Oe.return=ie,Oe):(Oe=rv(ae.type,ae.key,ae.props,null,ie.mode,Oe),Oe.ref=Qm(ie,ee,ae),Oe.return=ie,Oe)}function ce(ie,ee,ae,Oe){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ae.containerInfo||ee.stateNode.implementation!==ae.implementation?(ee=dj(ae,ie.mode,Oe),ee.return=ie,ee):(ee=k(ee,ae.children||[]),ee.return=ie,ee)}function Te(ie,ee,ae,Oe,Xe){return ee===null||ee.tag!==7?(ee=wu(ae,ie.mode,Oe,Xe),ee.return=ie,ee):(ee=k(ee,ae),ee.return=ie,ee)}function Ce(ie,ee,ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=uj(""+ee,ie.mode,ae),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case A:return ae=rv(ee.type,ee.key,ee.props,null,ie.mode,ae),ae.ref=Qm(ie,null,ee),ae.return=ie,ae;case C:return ee=dj(ee,ie.mode,ae),ee.return=ie,ee;case K:var Oe=ee._init;return Ce(ie,Oe(ee._payload),ae)}if(tr(ee)||Q(ee))return ee=wu(ee,ie.mode,ae,null),ee.return=ie,ee;I0(ie,ee)}return null}function Se(ie,ee,ae,Oe){var Xe=ee!==null?ee.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Xe!==null?null:H(ie,ee,""+ae,Oe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return ae.key===Xe?J(ie,ee,ae,Oe):null;case C:return ae.key===Xe?ce(ie,ee,ae,Oe):null;case K:return Xe=ae._init,Se(ie,ee,Xe(ae._payload),Oe)}if(tr(ae)||Q(ae))return Xe!==null?null:Te(ie,ee,ae,Oe,null);I0(ie,ae)}return null}function $e(ie,ee,ae,Oe,Xe){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return ie=ie.get(ae)||null,H(ee,ie,""+Oe,Xe);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case A:return ie=ie.get(Oe.key===null?ae:Oe.key)||null,J(ee,ie,Oe,Xe);case C:return ie=ie.get(Oe.key===null?ae:Oe.key)||null,ce(ee,ie,Oe,Xe);case K:var nt=Oe._init;return $e(ie,ee,ae,nt(Oe._payload),Xe)}if(tr(Oe)||Q(Oe))return ie=ie.get(ae)||null,Te(ee,ie,Oe,Xe,null);I0(ee,Oe)}return null}function He(ie,ee,ae,Oe){for(var Xe=null,nt=null,it=ee,mt=ee=0,jn=null;it!==null&&mt<ae.length;mt++){it.index>mt?(jn=it,it=null):jn=it.sibling;var Kt=Se(ie,it,ae[mt],Oe);if(Kt===null){it===null&&(it=jn);break}u&&it&&Kt.alternate===null&&h(ie,it),ee=R(Kt,ee,mt),nt===null?Xe=Kt:nt.sibling=Kt,nt=Kt,it=jn}if(mt===ae.length)return y(ie,it),Cr&&fu(ie,mt),Xe;if(it===null){for(;mt<ae.length;mt++)it=Ce(ie,ae[mt],Oe),it!==null&&(ee=R(it,ee,mt),nt===null?Xe=it:nt.sibling=it,nt=it);return Cr&&fu(ie,mt),Xe}for(it=j(ie,it);mt<ae.length;mt++)jn=$e(it,ie,mt,ae[mt],Oe),jn!==null&&(u&&jn.alternate!==null&&it.delete(jn.key===null?mt:jn.key),ee=R(jn,ee,mt),nt===null?Xe=jn:nt.sibling=jn,nt=jn);return u&&it.forEach(function(Gl){return h(ie,Gl)}),Cr&&fu(ie,mt),Xe}function Qe(ie,ee,ae,Oe){var Xe=Q(ae);if(typeof Xe!="function")throw Error(r(150));if(ae=Xe.call(ae),ae==null)throw Error(r(151));for(var nt=Xe=null,it=ee,mt=ee=0,jn=null,Kt=ae.next();it!==null&&!Kt.done;mt++,Kt=ae.next()){it.index>mt?(jn=it,it=null):jn=it.sibling;var Gl=Se(ie,it,Kt.value,Oe);if(Gl===null){it===null&&(it=jn);break}u&&it&&Gl.alternate===null&&h(ie,it),ee=R(Gl,ee,mt),nt===null?Xe=Gl:nt.sibling=Gl,nt=Gl,it=jn}if(Kt.done)return y(ie,it),Cr&&fu(ie,mt),Xe;if(it===null){for(;!Kt.done;mt++,Kt=ae.next())Kt=Ce(ie,Kt.value,Oe),Kt!==null&&(ee=R(Kt,ee,mt),nt===null?Xe=Kt:nt.sibling=Kt,nt=Kt);return Cr&&fu(ie,mt),Xe}for(it=j(ie,it);!Kt.done;mt++,Kt=ae.next())Kt=$e(it,ie,mt,Kt.value,Oe),Kt!==null&&(u&&Kt.alternate!==null&&it.delete(Kt.key===null?mt:Kt.key),ee=R(Kt,ee,mt),nt===null?Xe=Kt:nt.sibling=Kt,nt=Kt);return u&&it.forEach(function(uee){return h(ie,uee)}),Cr&&fu(ie,mt),Xe}function Kr(ie,ee,ae,Oe){if(typeof ae=="object"&&ae!==null&&ae.type===E&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:e:{for(var Xe=ae.key,nt=ee;nt!==null;){if(nt.key===Xe){if(Xe=ae.type,Xe===E){if(nt.tag===7){y(ie,nt.sibling),ee=k(nt,ae.props.children),ee.return=ie,ie=ee;break e}}else if(nt.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===K&&IR(Xe)===nt.type){y(ie,nt.sibling),ee=k(nt,ae.props),ee.ref=Qm(ie,nt,ae),ee.return=ie,ie=ee;break e}y(ie,nt);break}else h(ie,nt);nt=nt.sibling}ae.type===E?(ee=wu(ae.props.children,ie.mode,Oe,ae.key),ee.return=ie,ie=ee):(Oe=rv(ae.type,ae.key,ae.props,null,ie.mode,Oe),Oe.ref=Qm(ie,ee,ae),Oe.return=ie,ie=Oe)}return B(ie);case C:e:{for(nt=ae.key;ee!==null;){if(ee.key===nt)if(ee.tag===4&&ee.stateNode.containerInfo===ae.containerInfo&&ee.stateNode.implementation===ae.implementation){y(ie,ee.sibling),ee=k(ee,ae.children||[]),ee.return=ie,ie=ee;break e}else{y(ie,ee);break}else h(ie,ee);ee=ee.sibling}ee=dj(ae,ie.mode,Oe),ee.return=ie,ie=ee}return B(ie);case K:return nt=ae._init,Kr(ie,ee,nt(ae._payload),Oe)}if(tr(ae))return He(ie,ee,ae,Oe);if(Q(ae))return Qe(ie,ee,ae,Oe);I0(ie,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,ee!==null&&ee.tag===6?(y(ie,ee.sibling),ee=k(ee,ae),ee.return=ie,ie=ee):(y(ie,ee),ee=uj(ae,ie.mode,Oe),ee.return=ie,ie=ee),B(ie)):y(ie,ee)}return Kr}var sh=OR(!0),RR=OR(!1),O0=Dl(null),R0=null,ah=null,b_=null;function w_(){b_=ah=R0=null}function __(u){var h=O0.current;Nr(O0),u._currentValue=h}function j_(u,h,y){for(;u!==null;){var j=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,j!==null&&(j.childLanes|=h)):j!==null&&(j.childLanes&h)!==h&&(j.childLanes|=h),u===y)break;u=u.return}}function oh(u,h){R0=u,b_=ah=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(ki=!0),u.firstContext=null)}function xs(u){var h=u._currentValue;if(b_!==u)if(u={context:u,memoizedValue:h,next:null},ah===null){if(R0===null)throw Error(r(308));ah=u,R0.dependencies={lanes:0,firstContext:u}}else ah=ah.next=u;return h}var mu=null;function N_(u){mu===null?mu=[u]:mu.push(u)}function MR(u,h,y,j){var k=h.interleaved;return k===null?(y.next=y,N_(h)):(y.next=k.next,k.next=y),h.interleaved=y,Po(u,j)}function Po(u,h){u.lanes|=h;var y=u.alternate;for(y!==null&&(y.lanes|=h),y=u,u=u.return;u!==null;)u.childLanes|=h,y=u.alternate,y!==null&&(y.childLanes|=h),y=u,u=u.return;return y.tag===3?y.stateNode:null}var Fl=!1;function S_(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DR(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Ao(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function Vl(u,h,y){var j=u.updateQueue;if(j===null)return null;if(j=j.shared,(zt&2)!==0){var k=j.pending;return k===null?h.next=h:(h.next=k.next,k.next=h),j.pending=h,Po(u,y)}return k=j.interleaved,k===null?(h.next=h,N_(j)):(h.next=k.next,k.next=h),j.interleaved=h,Po(u,y)}function M0(u,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var j=h.lanes;j&=u.pendingLanes,y|=j,h.lanes=y,km(u,y)}}function LR(u,h){var y=u.updateQueue,j=u.alternate;if(j!==null&&(j=j.updateQueue,y===j)){var k=null,R=null;if(y=y.firstBaseUpdate,y!==null){do{var B={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};R===null?k=R=B:R=R.next=B,y=y.next}while(y!==null);R===null?k=R=h:R=R.next=h}else k=R=h;y={baseState:j.baseState,firstBaseUpdate:k,lastBaseUpdate:R,shared:j.shared,effects:j.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=h:u.next=h,y.lastBaseUpdate=h}function D0(u,h,y,j){var k=u.updateQueue;Fl=!1;var R=k.firstBaseUpdate,B=k.lastBaseUpdate,H=k.shared.pending;if(H!==null){k.shared.pending=null;var J=H,ce=J.next;J.next=null,B===null?R=ce:B.next=ce,B=J;var Te=u.alternate;Te!==null&&(Te=Te.updateQueue,H=Te.lastBaseUpdate,H!==B&&(H===null?Te.firstBaseUpdate=ce:H.next=ce,Te.lastBaseUpdate=J))}if(R!==null){var Ce=k.baseState;B=0,Te=ce=J=null,H=R;do{var Se=H.lane,$e=H.eventTime;if((j&Se)===Se){Te!==null&&(Te=Te.next={eventTime:$e,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var He=u,Qe=H;switch(Se=h,$e=y,Qe.tag){case 1:if(He=Qe.payload,typeof He=="function"){Ce=He.call($e,Ce,Se);break e}Ce=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Qe.payload,Se=typeof He=="function"?He.call($e,Ce,Se):He,Se==null)break e;Ce=ne({},Ce,Se);break e;case 2:Fl=!0}}H.callback!==null&&H.lane!==0&&(u.flags|=64,Se=k.effects,Se===null?k.effects=[H]:Se.push(H))}else $e={eventTime:$e,lane:Se,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Te===null?(ce=Te=$e,J=Ce):Te=Te.next=$e,B|=Se;if(H=H.next,H===null){if(H=k.shared.pending,H===null)break;Se=H,H=Se.next,Se.next=null,k.lastBaseUpdate=Se,k.shared.pending=null}}while(!0);if(Te===null&&(J=Ce),k.baseState=J,k.firstBaseUpdate=ce,k.lastBaseUpdate=Te,h=k.shared.interleaved,h!==null){k=h;do B|=k.lane,k=k.next;while(k!==h)}else R===null&&(k.shared.lanes=0);yu|=B,u.lanes=B,u.memoizedState=Ce}}function $R(u,h,y){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var j=u[h],k=j.callback;if(k!==null){if(j.callback=null,j=y,typeof k!="function")throw Error(r(191,k));k.call(j)}}}var Xm={},Oa=Dl(Xm),Jm=Dl(Xm),Zm=Dl(Xm);function pu(u){if(u===Xm)throw Error(r(174));return u}function T_(u,h){switch(yr(Zm,h),yr(Jm,u),yr(Oa,Xm),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:qs(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=qs(h,u)}Nr(Oa),yr(Oa,h)}function lh(){Nr(Oa),Nr(Jm),Nr(Zm)}function FR(u){pu(Zm.current);var h=pu(Oa.current),y=qs(h,u.type);h!==y&&(yr(Jm,u),yr(Oa,y))}function E_(u){Jm.current===u&&(Nr(Oa),Nr(Jm))}var Or=Dl(0);function L0(u){for(var h=u;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var P_=[];function A_(){for(var u=0;u<P_.length;u++)P_[u]._workInProgressVersionPrimary=null;P_.length=0}var $0=I.ReactCurrentDispatcher,C_=I.ReactCurrentBatchConfig,gu=0,Rr=null,ln=null,wn=null,F0=!1,ep=!1,tp=0,IZ=0;function Xn(){throw Error(r(321))}function k_(u,h){if(h===null)return!1;for(var y=0;y<h.length&&y<u.length;y++)if(!Ws(u[y],h[y]))return!1;return!0}function I_(u,h,y,j,k,R){if(gu=R,Rr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,$0.current=u===null||u.memoizedState===null?DZ:LZ,u=y(j,k),ep){R=0;do{if(ep=!1,tp=0,25<=R)throw Error(r(301));R+=1,wn=ln=null,h.updateQueue=null,$0.current=$Z,u=y(j,k)}while(ep)}if($0.current=q0,h=ln!==null&&ln.next!==null,gu=0,wn=ln=Rr=null,F0=!1,h)throw Error(r(300));return u}function O_(){var u=tp!==0;return tp=0,u}function Ra(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Rr.memoizedState=wn=u:wn=wn.next=u,wn}function bs(){if(ln===null){var u=Rr.alternate;u=u!==null?u.memoizedState:null}else u=ln.next;var h=wn===null?Rr.memoizedState:wn.next;if(h!==null)wn=h,ln=u;else{if(u===null)throw Error(r(310));ln=u,u={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},wn===null?Rr.memoizedState=wn=u:wn=wn.next=u}return wn}function rp(u,h){return typeof h=="function"?h(u):h}function R_(u){var h=bs(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=u;var j=ln,k=j.baseQueue,R=y.pending;if(R!==null){if(k!==null){var B=k.next;k.next=R.next,R.next=B}j.baseQueue=k=R,y.pending=null}if(k!==null){R=k.next,j=j.baseState;var H=B=null,J=null,ce=R;do{var Te=ce.lane;if((gu&Te)===Te)J!==null&&(J=J.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),j=ce.hasEagerState?ce.eagerState:u(j,ce.action);else{var Ce={lane:Te,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};J===null?(H=J=Ce,B=j):J=J.next=Ce,Rr.lanes|=Te,yu|=Te}ce=ce.next}while(ce!==null&&ce!==R);J===null?B=j:J.next=H,Ws(j,h.memoizedState)||(ki=!0),h.memoizedState=j,h.baseState=B,h.baseQueue=J,y.lastRenderedState=j}if(u=y.interleaved,u!==null){k=u;do R=k.lane,Rr.lanes|=R,yu|=R,k=k.next;while(k!==u)}else k===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function M_(u){var h=bs(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=u;var j=y.dispatch,k=y.pending,R=h.memoizedState;if(k!==null){y.pending=null;var B=k=k.next;do R=u(R,B.action),B=B.next;while(B!==k);Ws(R,h.memoizedState)||(ki=!0),h.memoizedState=R,h.baseQueue===null&&(h.baseState=R),y.lastRenderedState=R}return[R,j]}function VR(){}function BR(u,h){var y=Rr,j=bs(),k=h(),R=!Ws(j.memoizedState,k);if(R&&(j.memoizedState=k,ki=!0),j=j.queue,D_(zR.bind(null,y,j,u),[u]),j.getSnapshot!==h||R||wn!==null&&wn.memoizedState.tag&1){if(y.flags|=2048,np(9,UR.bind(null,y,j,k,h),void 0,null),_n===null)throw Error(r(349));(gu&30)!==0||qR(y,h,k)}return k}function qR(u,h,y){u.flags|=16384,u={getSnapshot:h,value:y},h=Rr.updateQueue,h===null?(h={lastEffect:null,stores:null},Rr.updateQueue=h,h.stores=[u]):(y=h.stores,y===null?h.stores=[u]:y.push(u))}function UR(u,h,y,j){h.value=y,h.getSnapshot=j,WR(h)&&HR(u)}function zR(u,h,y){return y(function(){WR(h)&&HR(u)})}function WR(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!Ws(u,y)}catch{return!0}}function HR(u){var h=Po(u,1);h!==null&&Qs(h,u,1,-1)}function GR(u){var h=Ra();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:u},h.queue=u,u=u.dispatch=MZ.bind(null,Rr,u),[h.memoizedState,u]}function np(u,h,y,j){return u={tag:u,create:h,destroy:y,deps:j,next:null},h=Rr.updateQueue,h===null?(h={lastEffect:null,stores:null},Rr.updateQueue=h,h.lastEffect=u.next=u):(y=h.lastEffect,y===null?h.lastEffect=u.next=u:(j=y.next,y.next=u,u.next=j,h.lastEffect=u)),u}function KR(){return bs().memoizedState}function V0(u,h,y,j){var k=Ra();Rr.flags|=u,k.memoizedState=np(1|h,y,void 0,j===void 0?null:j)}function B0(u,h,y,j){var k=bs();j=j===void 0?null:j;var R=void 0;if(ln!==null){var B=ln.memoizedState;if(R=B.destroy,j!==null&&k_(j,B.deps)){k.memoizedState=np(h,y,R,j);return}}Rr.flags|=u,k.memoizedState=np(1|h,y,R,j)}function YR(u,h){return V0(8390656,8,u,h)}function D_(u,h){return B0(2048,8,u,h)}function QR(u,h){return B0(4,2,u,h)}function XR(u,h){return B0(4,4,u,h)}function JR(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function ZR(u,h,y){return y=y!=null?y.concat([u]):null,B0(4,4,JR.bind(null,h,u),y)}function L_(){}function eM(u,h){var y=bs();h=h===void 0?null:h;var j=y.memoizedState;return j!==null&&h!==null&&k_(h,j[1])?j[0]:(y.memoizedState=[u,h],u)}function tM(u,h){var y=bs();h=h===void 0?null:h;var j=y.memoizedState;return j!==null&&h!==null&&k_(h,j[1])?j[0]:(u=u(),y.memoizedState=[u,h],u)}function rM(u,h,y){return(gu&21)===0?(u.baseState&&(u.baseState=!1,ki=!0),u.memoizedState=y):(Ws(y,h)||(y=Am(),Rr.lanes|=y,yu|=y,u.baseState=!0),h)}function OZ(u,h){var y=Ft;Ft=y!==0&&4>y?y:4,u(!0);var j=C_.transition;C_.transition={};try{u(!1),h()}finally{Ft=y,C_.transition=j}}function nM(){return bs().memoizedState}function RZ(u,h,y){var j=zl(u);if(y={lane:j,action:y,hasEagerState:!1,eagerState:null,next:null},iM(u))sM(h,y);else if(y=MR(u,h,y,j),y!==null){var k=pi();Qs(y,u,j,k),aM(y,h,j)}}function MZ(u,h,y){var j=zl(u),k={lane:j,action:y,hasEagerState:!1,eagerState:null,next:null};if(iM(u))sM(h,k);else{var R=u.alternate;if(u.lanes===0&&(R===null||R.lanes===0)&&(R=h.lastRenderedReducer,R!==null))try{var B=h.lastRenderedState,H=R(B,y);if(k.hasEagerState=!0,k.eagerState=H,Ws(H,B)){var J=h.interleaved;J===null?(k.next=k,N_(h)):(k.next=J.next,J.next=k),h.interleaved=k;return}}catch{}finally{}y=MR(u,h,k,j),y!==null&&(k=pi(),Qs(y,u,j,k),aM(y,h,j))}}function iM(u){var h=u.alternate;return u===Rr||h!==null&&h===Rr}function sM(u,h){ep=F0=!0;var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}function aM(u,h,y){if((y&4194240)!==0){var j=h.lanes;j&=u.pendingLanes,y|=j,h.lanes=y,km(u,y)}}var q0={readContext:xs,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},DZ={readContext:xs,useCallback:function(u,h){return Ra().memoizedState=[u,h===void 0?null:h],u},useContext:xs,useEffect:YR,useImperativeHandle:function(u,h,y){return y=y!=null?y.concat([u]):null,V0(4194308,4,JR.bind(null,h,u),y)},useLayoutEffect:function(u,h){return V0(4194308,4,u,h)},useInsertionEffect:function(u,h){return V0(4,2,u,h)},useMemo:function(u,h){var y=Ra();return h=h===void 0?null:h,u=u(),y.memoizedState=[u,h],u},useReducer:function(u,h,y){var j=Ra();return h=y!==void 0?y(h):h,j.memoizedState=j.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},j.queue=u,u=u.dispatch=RZ.bind(null,Rr,u),[j.memoizedState,u]},useRef:function(u){var h=Ra();return u={current:u},h.memoizedState=u},useState:GR,useDebugValue:L_,useDeferredValue:function(u){return Ra().memoizedState=u},useTransition:function(){var u=GR(!1),h=u[0];return u=OZ.bind(null,u[1]),Ra().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,y){var j=Rr,k=Ra();if(Cr){if(y===void 0)throw Error(r(407));y=y()}else{if(y=h(),_n===null)throw Error(r(349));(gu&30)!==0||qR(j,h,y)}k.memoizedState=y;var R={value:y,getSnapshot:h};return k.queue=R,YR(zR.bind(null,j,R,u),[u]),j.flags|=2048,np(9,UR.bind(null,j,R,y,h),void 0,null),y},useId:function(){var u=Ra(),h=_n.identifierPrefix;if(Cr){var y=Eo,j=To;y=(j&~(1<<32-Gi(j)-1)).toString(32)+y,h=":"+h+"R"+y,y=tp++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=IZ++,h=":"+h+"r"+y.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},LZ={readContext:xs,useCallback:eM,useContext:xs,useEffect:D_,useImperativeHandle:ZR,useInsertionEffect:QR,useLayoutEffect:XR,useMemo:tM,useReducer:R_,useRef:KR,useState:function(){return R_(rp)},useDebugValue:L_,useDeferredValue:function(u){var h=bs();return rM(h,ln.memoizedState,u)},useTransition:function(){var u=R_(rp)[0],h=bs().memoizedState;return[u,h]},useMutableSource:VR,useSyncExternalStore:BR,useId:nM,unstable_isNewReconciler:!1},$Z={readContext:xs,useCallback:eM,useContext:xs,useEffect:D_,useImperativeHandle:ZR,useInsertionEffect:QR,useLayoutEffect:XR,useMemo:tM,useReducer:M_,useRef:KR,useState:function(){return M_(rp)},useDebugValue:L_,useDeferredValue:function(u){var h=bs();return ln===null?h.memoizedState=u:rM(h,ln.memoizedState,u)},useTransition:function(){var u=M_(rp)[0],h=bs().memoizedState;return[u,h]},useMutableSource:VR,useSyncExternalStore:BR,useId:nM,unstable_isNewReconciler:!1};function Gs(u,h){if(u&&u.defaultProps){h=ne({},h),u=u.defaultProps;for(var y in u)h[y]===void 0&&(h[y]=u[y]);return h}return h}function $_(u,h,y,j){h=u.memoizedState,y=y(j,h),y=y==null?h:ne({},h,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var U0={isMounted:function(u){return(u=u._reactInternals)?Us(u)===u:!1},enqueueSetState:function(u,h,y){u=u._reactInternals;var j=pi(),k=zl(u),R=Ao(j,k);R.payload=h,y!=null&&(R.callback=y),h=Vl(u,R,k),h!==null&&(Qs(h,u,k,j),M0(h,u,k))},enqueueReplaceState:function(u,h,y){u=u._reactInternals;var j=pi(),k=zl(u),R=Ao(j,k);R.tag=1,R.payload=h,y!=null&&(R.callback=y),h=Vl(u,R,k),h!==null&&(Qs(h,u,k,j),M0(h,u,k))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var y=pi(),j=zl(u),k=Ao(y,j);k.tag=2,h!=null&&(k.callback=h),h=Vl(u,k,j),h!==null&&(Qs(h,u,j,y),M0(h,u,j))}};function oM(u,h,y,j,k,R,B){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(j,R,B):h.prototype&&h.prototype.isPureReactComponent?!Um(y,j)||!Um(k,R):!0}function lM(u,h,y){var j=!1,k=Ll,R=h.contextType;return typeof R=="object"&&R!==null?R=xs(R):(k=Ci(h)?du:Qn.current,j=h.contextTypes,R=(j=j!=null)?th(u,k):Ll),h=new h(y,R),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=U0,u.stateNode=h,h._reactInternals=u,j&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=k,u.__reactInternalMemoizedMaskedChildContext=R),h}function cM(u,h,y,j){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,j),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,j),h.state!==u&&U0.enqueueReplaceState(h,h.state,null)}function F_(u,h,y,j){var k=u.stateNode;k.props=y,k.state=u.memoizedState,k.refs={},S_(u);var R=h.contextType;typeof R=="object"&&R!==null?k.context=xs(R):(R=Ci(h)?du:Qn.current,k.context=th(u,R)),k.state=u.memoizedState,R=h.getDerivedStateFromProps,typeof R=="function"&&($_(u,h,R,y),k.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(h=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),h!==k.state&&U0.enqueueReplaceState(k,k.state,null),D0(u,y,k,j),k.state=u.memoizedState),typeof k.componentDidMount=="function"&&(u.flags|=4194308)}function ch(u,h){try{var y="",j=h;do y+=be(j),j=j.return;while(j);var k=y}catch(R){k=`
Error generating stack: `+R.message+`
`+R.stack}return{value:u,source:h,stack:k,digest:null}}function V_(u,h,y){return{value:u,source:null,stack:y??null,digest:h??null}}function B_(u,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var FZ=typeof WeakMap=="function"?WeakMap:Map;function uM(u,h,y){y=Ao(-1,y),y.tag=3,y.payload={element:null};var j=h.value;return y.callback=function(){Q0||(Q0=!0,rj=j),B_(u,h)},y}function dM(u,h,y){y=Ao(-1,y),y.tag=3;var j=u.type.getDerivedStateFromError;if(typeof j=="function"){var k=h.value;y.payload=function(){return j(k)},y.callback=function(){B_(u,h)}}var R=u.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(y.callback=function(){B_(u,h),typeof j!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var B=h.stack;this.componentDidCatch(h.value,{componentStack:B!==null?B:""})}),y}function hM(u,h,y){var j=u.pingCache;if(j===null){j=u.pingCache=new FZ;var k=new Set;j.set(h,k)}else k=j.get(h),k===void 0&&(k=new Set,j.set(h,k));k.has(y)||(k.add(y),u=ZZ.bind(null,u,h,y),h.then(u,u))}function fM(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function mM(u,h,y,j,k){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=Ao(-1,1),h.tag=2,Vl(y,h,1))),y.lanes|=1),u):(u.flags|=65536,u.lanes=k,u)}var VZ=I.ReactCurrentOwner,ki=!1;function mi(u,h,y,j){h.child=u===null?RR(h,null,y,j):sh(h,u.child,y,j)}function pM(u,h,y,j,k){y=y.render;var R=h.ref;return oh(h,k),j=I_(u,h,y,j,R,k),y=O_(),u!==null&&!ki?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~k,Co(u,h,k)):(Cr&&y&&p_(h),h.flags|=1,mi(u,h,j,k),h.child)}function gM(u,h,y,j,k){if(u===null){var R=y.type;return typeof R=="function"&&!cj(R)&&R.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=R,yM(u,h,R,j,k)):(u=rv(y.type,null,j,h,h.mode,k),u.ref=h.ref,u.return=h,h.child=u)}if(R=u.child,(u.lanes&k)===0){var B=R.memoizedProps;if(y=y.compare,y=y!==null?y:Um,y(B,j)&&u.ref===h.ref)return Co(u,h,k)}return h.flags|=1,u=Hl(R,j),u.ref=h.ref,u.return=h,h.child=u}function yM(u,h,y,j,k){if(u!==null){var R=u.memoizedProps;if(Um(R,j)&&u.ref===h.ref)if(ki=!1,h.pendingProps=j=R,(u.lanes&k)!==0)(u.flags&131072)!==0&&(ki=!0);else return h.lanes=u.lanes,Co(u,h,k)}return q_(u,h,y,j,k)}function vM(u,h,y){var j=h.pendingProps,k=j.children,R=u!==null?u.memoizedState:null;if(j.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},yr(dh,es),es|=y;else{if((y&1073741824)===0)return u=R!==null?R.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,yr(dh,es),es|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=R!==null?R.baseLanes:y,yr(dh,es),es|=j}else R!==null?(j=R.baseLanes|y,h.memoizedState=null):j=y,yr(dh,es),es|=j;return mi(u,h,k,y),h.child}function xM(u,h){var y=h.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function q_(u,h,y,j,k){var R=Ci(y)?du:Qn.current;return R=th(h,R),oh(h,k),y=I_(u,h,y,j,R,k),j=O_(),u!==null&&!ki?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~k,Co(u,h,k)):(Cr&&j&&p_(h),h.flags|=1,mi(u,h,y,k),h.child)}function bM(u,h,y,j,k){if(Ci(y)){var R=!0;E0(h)}else R=!1;if(oh(h,k),h.stateNode===null)W0(u,h),lM(h,y,j),F_(h,y,j,k),j=!0;else if(u===null){var B=h.stateNode,H=h.memoizedProps;B.props=H;var J=B.context,ce=y.contextType;typeof ce=="object"&&ce!==null?ce=xs(ce):(ce=Ci(y)?du:Qn.current,ce=th(h,ce));var Te=y.getDerivedStateFromProps,Ce=typeof Te=="function"||typeof B.getSnapshotBeforeUpdate=="function";Ce||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(H!==j||J!==ce)&&cM(h,B,j,ce),Fl=!1;var Se=h.memoizedState;B.state=Se,D0(h,j,B,k),J=h.memoizedState,H!==j||Se!==J||Ai.current||Fl?(typeof Te=="function"&&($_(h,y,Te,j),J=h.memoizedState),(H=Fl||oM(h,y,H,j,Se,J,ce))?(Ce||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(h.flags|=4194308)):(typeof B.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=j,h.memoizedState=J),B.props=j,B.state=J,B.context=ce,j=H):(typeof B.componentDidMount=="function"&&(h.flags|=4194308),j=!1)}else{B=h.stateNode,DR(u,h),H=h.memoizedProps,ce=h.type===h.elementType?H:Gs(h.type,H),B.props=ce,Ce=h.pendingProps,Se=B.context,J=y.contextType,typeof J=="object"&&J!==null?J=xs(J):(J=Ci(y)?du:Qn.current,J=th(h,J));var $e=y.getDerivedStateFromProps;(Te=typeof $e=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(H!==Ce||Se!==J)&&cM(h,B,j,J),Fl=!1,Se=h.memoizedState,B.state=Se,D0(h,j,B,k);var He=h.memoizedState;H!==Ce||Se!==He||Ai.current||Fl?(typeof $e=="function"&&($_(h,y,$e,j),He=h.memoizedState),(ce=Fl||oM(h,y,ce,j,Se,He,J)||!1)?(Te||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(j,He,J),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(j,He,J)),typeof B.componentDidUpdate=="function"&&(h.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof B.componentDidUpdate!="function"||H===u.memoizedProps&&Se===u.memoizedState||(h.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||H===u.memoizedProps&&Se===u.memoizedState||(h.flags|=1024),h.memoizedProps=j,h.memoizedState=He),B.props=j,B.state=He,B.context=J,j=ce):(typeof B.componentDidUpdate!="function"||H===u.memoizedProps&&Se===u.memoizedState||(h.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||H===u.memoizedProps&&Se===u.memoizedState||(h.flags|=1024),j=!1)}return U_(u,h,y,j,R,k)}function U_(u,h,y,j,k,R){xM(u,h);var B=(h.flags&128)!==0;if(!j&&!B)return k&&SR(h,y,!1),Co(u,h,R);j=h.stateNode,VZ.current=h;var H=B&&typeof y.getDerivedStateFromError!="function"?null:j.render();return h.flags|=1,u!==null&&B?(h.child=sh(h,u.child,null,R),h.child=sh(h,null,H,R)):mi(u,h,H,R),h.memoizedState=j.state,k&&SR(h,y,!0),h.child}function wM(u){var h=u.stateNode;h.pendingContext?jR(u,h.pendingContext,h.pendingContext!==h.context):h.context&&jR(u,h.context,!1),T_(u,h.containerInfo)}function _M(u,h,y,j,k){return ih(),x_(k),h.flags|=256,mi(u,h,y,j),h.child}var z_={dehydrated:null,treeContext:null,retryLane:0};function W_(u){return{baseLanes:u,cachePool:null,transitions:null}}function jM(u,h,y){var j=h.pendingProps,k=Or.current,R=!1,B=(h.flags&128)!==0,H;if((H=B)||(H=u!==null&&u.memoizedState===null?!1:(k&2)!==0),H?(R=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(k|=1),yr(Or,k&1),u===null)return v_(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(B=j.children,u=j.fallback,R?(j=h.mode,R=h.child,B={mode:"hidden",children:B},(j&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=B):R=nv(B,j,0,null),u=wu(u,j,y,null),R.return=h,u.return=h,R.sibling=u,h.child=R,h.child.memoizedState=W_(y),h.memoizedState=z_,u):H_(h,B));if(k=u.memoizedState,k!==null&&(H=k.dehydrated,H!==null))return BZ(u,h,B,j,H,k,y);if(R){R=j.fallback,B=h.mode,k=u.child,H=k.sibling;var J={mode:"hidden",children:j.children};return(B&1)===0&&h.child!==k?(j=h.child,j.childLanes=0,j.pendingProps=J,h.deletions=null):(j=Hl(k,J),j.subtreeFlags=k.subtreeFlags&14680064),H!==null?R=Hl(H,R):(R=wu(R,B,y,null),R.flags|=2),R.return=h,j.return=h,j.sibling=R,h.child=j,j=R,R=h.child,B=u.child.memoizedState,B=B===null?W_(y):{baseLanes:B.baseLanes|y,cachePool:null,transitions:B.transitions},R.memoizedState=B,R.childLanes=u.childLanes&~y,h.memoizedState=z_,j}return R=u.child,u=R.sibling,j=Hl(R,{mode:"visible",children:j.children}),(h.mode&1)===0&&(j.lanes=y),j.return=h,j.sibling=null,u!==null&&(y=h.deletions,y===null?(h.deletions=[u],h.flags|=16):y.push(u)),h.child=j,h.memoizedState=null,j}function H_(u,h){return h=nv({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function z0(u,h,y,j){return j!==null&&x_(j),sh(h,u.child,null,y),u=H_(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function BZ(u,h,y,j,k,R,B){if(y)return h.flags&256?(h.flags&=-257,j=V_(Error(r(422))),z0(u,h,B,j)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(R=j.fallback,k=h.mode,j=nv({mode:"visible",children:j.children},k,0,null),R=wu(R,k,B,null),R.flags|=2,j.return=h,R.return=h,j.sibling=R,h.child=j,(h.mode&1)!==0&&sh(h,u.child,null,B),h.child.memoizedState=W_(B),h.memoizedState=z_,R);if((h.mode&1)===0)return z0(u,h,B,null);if(k.data==="$!"){if(j=k.nextSibling&&k.nextSibling.dataset,j)var H=j.dgst;return j=H,R=Error(r(419)),j=V_(R,j,void 0),z0(u,h,B,j)}if(H=(B&u.childLanes)!==0,ki||H){if(j=_n,j!==null){switch(B&-B){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(j.suspendedLanes|B))!==0?0:k,k!==0&&k!==R.retryLane&&(R.retryLane=k,Po(u,k),Qs(j,u,k,-1))}return lj(),j=V_(Error(r(421))),z0(u,h,B,j)}return k.data==="$?"?(h.flags|=128,h.child=u.child,h=eee.bind(null,u),k._reactRetry=h,null):(u=R.treeContext,Zi=Ml(k.nextSibling),Ji=h,Cr=!0,Hs=null,u!==null&&(ys[vs++]=To,ys[vs++]=Eo,ys[vs++]=hu,To=u.id,Eo=u.overflow,hu=h),h=H_(h,j.children),h.flags|=4096,h)}function NM(u,h,y){u.lanes|=h;var j=u.alternate;j!==null&&(j.lanes|=h),j_(u.return,h,y)}function G_(u,h,y,j,k){var R=u.memoizedState;R===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:j,tail:y,tailMode:k}:(R.isBackwards=h,R.rendering=null,R.renderingStartTime=0,R.last=j,R.tail=y,R.tailMode=k)}function SM(u,h,y){var j=h.pendingProps,k=j.revealOrder,R=j.tail;if(mi(u,h,j.children,y),j=Or.current,(j&2)!==0)j=j&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&NM(u,y,h);else if(u.tag===19)NM(u,y,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}j&=1}if(yr(Or,j),(h.mode&1)===0)h.memoizedState=null;else switch(k){case"forwards":for(y=h.child,k=null;y!==null;)u=y.alternate,u!==null&&L0(u)===null&&(k=y),y=y.sibling;y=k,y===null?(k=h.child,h.child=null):(k=y.sibling,y.sibling=null),G_(h,!1,k,y,R);break;case"backwards":for(y=null,k=h.child,h.child=null;k!==null;){if(u=k.alternate,u!==null&&L0(u)===null){h.child=k;break}u=k.sibling,k.sibling=y,y=k,k=u}G_(h,!0,y,null,R);break;case"together":G_(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function W0(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function Co(u,h,y){if(u!==null&&(h.dependencies=u.dependencies),yu|=h.lanes,(y&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,y=Hl(u,u.pendingProps),h.child=y,y.return=h;u.sibling!==null;)u=u.sibling,y=y.sibling=Hl(u,u.pendingProps),y.return=h;y.sibling=null}return h.child}function qZ(u,h,y){switch(h.tag){case 3:wM(h),ih();break;case 5:FR(h);break;case 1:Ci(h.type)&&E0(h);break;case 4:T_(h,h.stateNode.containerInfo);break;case 10:var j=h.type._context,k=h.memoizedProps.value;yr(O0,j._currentValue),j._currentValue=k;break;case 13:if(j=h.memoizedState,j!==null)return j.dehydrated!==null?(yr(Or,Or.current&1),h.flags|=128,null):(y&h.child.childLanes)!==0?jM(u,h,y):(yr(Or,Or.current&1),u=Co(u,h,y),u!==null?u.sibling:null);yr(Or,Or.current&1);break;case 19:if(j=(y&h.childLanes)!==0,(u.flags&128)!==0){if(j)return SM(u,h,y);h.flags|=128}if(k=h.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),yr(Or,Or.current),j)break;return null;case 22:case 23:return h.lanes=0,vM(u,h,y)}return Co(u,h,y)}var TM,K_,EM,PM;TM=function(u,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},K_=function(){},EM=function(u,h,y,j){var k=u.memoizedProps;if(k!==j){u=h.stateNode,pu(Oa.current);var R=null;switch(y){case"input":k=et(u,k),j=et(u,j),R=[];break;case"select":k=ne({},k,{value:void 0}),j=ne({},j,{value:void 0}),R=[];break;case"textarea":k=bn(u,k),j=bn(u,j),R=[];break;default:typeof k.onClick!="function"&&typeof j.onClick=="function"&&(u.onclick=N0)}_t(y,j);var B;y=null;for(ce in k)if(!j.hasOwnProperty(ce)&&k.hasOwnProperty(ce)&&k[ce]!=null)if(ce==="style"){var H=k[ce];for(B in H)H.hasOwnProperty(B)&&(y||(y={}),y[B]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(i.hasOwnProperty(ce)?R||(R=[]):(R=R||[]).push(ce,null));for(ce in j){var J=j[ce];if(H=k!=null?k[ce]:void 0,j.hasOwnProperty(ce)&&J!==H&&(J!=null||H!=null))if(ce==="style")if(H){for(B in H)!H.hasOwnProperty(B)||J&&J.hasOwnProperty(B)||(y||(y={}),y[B]="");for(B in J)J.hasOwnProperty(B)&&H[B]!==J[B]&&(y||(y={}),y[B]=J[B])}else y||(R||(R=[]),R.push(ce,y)),y=J;else ce==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,H=H?H.__html:void 0,J!=null&&H!==J&&(R=R||[]).push(ce,J)):ce==="children"?typeof J!="string"&&typeof J!="number"||(R=R||[]).push(ce,""+J):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(ce)?(J!=null&&ce==="onScroll"&&jr("scroll",u),R||H===J||(R=[])):(R=R||[]).push(ce,J))}y&&(R=R||[]).push("style",y);var ce=R;(h.updateQueue=ce)&&(h.flags|=4)}},PM=function(u,h,y,j){y!==j&&(h.flags|=4)};function ip(u,h){if(!Cr)switch(u.tailMode){case"hidden":h=u.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var j=null;y!==null;)y.alternate!==null&&(j=y),y=y.sibling;j===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:j.sibling=null}}function Jn(u){var h=u.alternate!==null&&u.alternate.child===u.child,y=0,j=0;if(h)for(var k=u.child;k!==null;)y|=k.lanes|k.childLanes,j|=k.subtreeFlags&14680064,j|=k.flags&14680064,k.return=u,k=k.sibling;else for(k=u.child;k!==null;)y|=k.lanes|k.childLanes,j|=k.subtreeFlags,j|=k.flags,k.return=u,k=k.sibling;return u.subtreeFlags|=j,u.childLanes=y,h}function UZ(u,h,y){var j=h.pendingProps;switch(g_(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(h),null;case 1:return Ci(h.type)&&T0(),Jn(h),null;case 3:return j=h.stateNode,lh(),Nr(Ai),Nr(Qn),A_(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(u===null||u.child===null)&&(k0(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Hs!==null&&(sj(Hs),Hs=null))),K_(u,h),Jn(h),null;case 5:E_(h);var k=pu(Zm.current);if(y=h.type,u!==null&&h.stateNode!=null)EM(u,h,y,j,k),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!j){if(h.stateNode===null)throw Error(r(166));return Jn(h),null}if(u=pu(Oa.current),k0(h)){j=h.stateNode,y=h.type;var R=h.memoizedProps;switch(j[Ia]=h,j[Km]=R,u=(h.mode&1)!==0,y){case"dialog":jr("cancel",j),jr("close",j);break;case"iframe":case"object":case"embed":jr("load",j);break;case"video":case"audio":for(k=0;k<Wm.length;k++)jr(Wm[k],j);break;case"source":jr("error",j);break;case"img":case"image":case"link":jr("error",j),jr("load",j);break;case"details":jr("toggle",j);break;case"input":kt(j,R),jr("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!R.multiple},jr("invalid",j);break;case"textarea":fi(j,R),jr("invalid",j)}_t(y,R),k=null;for(var B in R)if(R.hasOwnProperty(B)){var H=R[B];B==="children"?typeof H=="string"?j.textContent!==H&&(R.suppressHydrationWarning!==!0&&j0(j.textContent,H,u),k=["children",H]):typeof H=="number"&&j.textContent!==""+H&&(R.suppressHydrationWarning!==!0&&j0(j.textContent,H,u),k=["children",""+H]):i.hasOwnProperty(B)&&H!=null&&B==="onScroll"&&jr("scroll",j)}switch(y){case"input":Re(j),Hr(j,R,!0);break;case"textarea":Re(j),kn(j);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(j.onclick=N0)}j=k,h.updateQueue=j,j!==null&&(h.flags|=4)}else{B=k.nodeType===9?k:k.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Bs(y)),u==="http://www.w3.org/1999/xhtml"?y==="script"?(u=B.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof j.is=="string"?u=B.createElement(y,{is:j.is}):(u=B.createElement(y),y==="select"&&(B=u,j.multiple?B.multiple=!0:j.size&&(B.size=j.size))):u=B.createElementNS(u,y),u[Ia]=h,u[Km]=j,TM(u,h,!1,!1),h.stateNode=u;e:{switch(B=dr(y,j),y){case"dialog":jr("cancel",u),jr("close",u),k=j;break;case"iframe":case"object":case"embed":jr("load",u),k=j;break;case"video":case"audio":for(k=0;k<Wm.length;k++)jr(Wm[k],u);k=j;break;case"source":jr("error",u),k=j;break;case"img":case"image":case"link":jr("error",u),jr("load",u),k=j;break;case"details":jr("toggle",u),k=j;break;case"input":kt(u,j),k=et(u,j),jr("invalid",u);break;case"option":k=j;break;case"select":u._wrapperState={wasMultiple:!!j.multiple},k=ne({},j,{value:void 0}),jr("invalid",u);break;case"textarea":fi(u,j),k=bn(u,j),jr("invalid",u);break;default:k=j}_t(y,k),H=k;for(R in H)if(H.hasOwnProperty(R)){var J=H[R];R==="style"?gt(u,J):R==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&Ae(u,J)):R==="children"?typeof J=="string"?(y!=="textarea"||J!=="")&&ve(u,J):typeof J=="number"&&ve(u,""+J):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?J!=null&&R==="onScroll"&&jr("scroll",u):J!=null&&P(u,R,J,B))}switch(y){case"input":Re(u),Hr(u,j,!1);break;case"textarea":Re(u),kn(u);break;case"option":j.value!=null&&u.setAttribute("value",""+Ie(j.value));break;case"select":u.multiple=!!j.multiple,R=j.value,R!=null?Ar(u,!!j.multiple,R,!1):j.defaultValue!=null&&Ar(u,!!j.multiple,j.defaultValue,!0);break;default:typeof k.onClick=="function"&&(u.onclick=N0)}switch(y){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Jn(h),null;case 6:if(u&&h.stateNode!=null)PM(u,h,u.memoizedProps,j);else{if(typeof j!="string"&&h.stateNode===null)throw Error(r(166));if(y=pu(Zm.current),pu(Oa.current),k0(h)){if(j=h.stateNode,y=h.memoizedProps,j[Ia]=h,(R=j.nodeValue!==y)&&(u=Ji,u!==null))switch(u.tag){case 3:j0(j.nodeValue,y,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&j0(j.nodeValue,y,(u.mode&1)!==0)}R&&(h.flags|=4)}else j=(y.nodeType===9?y:y.ownerDocument).createTextNode(j),j[Ia]=h,h.stateNode=j}return Jn(h),null;case 13:if(Nr(Or),j=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Cr&&Zi!==null&&(h.mode&1)!==0&&(h.flags&128)===0)kR(),ih(),h.flags|=98560,R=!1;else if(R=k0(h),j!==null&&j.dehydrated!==null){if(u===null){if(!R)throw Error(r(318));if(R=h.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[Ia]=h}else ih(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Jn(h),R=!1}else Hs!==null&&(sj(Hs),Hs=null),R=!0;if(!R)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=y,h):(j=j!==null,j!==(u!==null&&u.memoizedState!==null)&&j&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(Or.current&1)!==0?cn===0&&(cn=3):lj())),h.updateQueue!==null&&(h.flags|=4),Jn(h),null);case 4:return lh(),K_(u,h),u===null&&Hm(h.stateNode.containerInfo),Jn(h),null;case 10:return __(h.type._context),Jn(h),null;case 17:return Ci(h.type)&&T0(),Jn(h),null;case 19:if(Nr(Or),R=h.memoizedState,R===null)return Jn(h),null;if(j=(h.flags&128)!==0,B=R.rendering,B===null)if(j)ip(R,!1);else{if(cn!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(B=L0(u),B!==null){for(h.flags|=128,ip(R,!1),j=B.updateQueue,j!==null&&(h.updateQueue=j,h.flags|=4),h.subtreeFlags=0,j=y,y=h.child;y!==null;)R=y,u=j,R.flags&=14680066,B=R.alternate,B===null?(R.childLanes=0,R.lanes=u,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=B.childLanes,R.lanes=B.lanes,R.child=B.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=B.memoizedProps,R.memoizedState=B.memoizedState,R.updateQueue=B.updateQueue,R.type=B.type,u=B.dependencies,R.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),y=y.sibling;return yr(Or,Or.current&1|2),h.child}u=u.sibling}R.tail!==null&&_r()>hh&&(h.flags|=128,j=!0,ip(R,!1),h.lanes=4194304)}else{if(!j)if(u=L0(B),u!==null){if(h.flags|=128,j=!0,y=u.updateQueue,y!==null&&(h.updateQueue=y,h.flags|=4),ip(R,!0),R.tail===null&&R.tailMode==="hidden"&&!B.alternate&&!Cr)return Jn(h),null}else 2*_r()-R.renderingStartTime>hh&&y!==1073741824&&(h.flags|=128,j=!0,ip(R,!1),h.lanes=4194304);R.isBackwards?(B.sibling=h.child,h.child=B):(y=R.last,y!==null?y.sibling=B:h.child=B,R.last=B)}return R.tail!==null?(h=R.tail,R.rendering=h,R.tail=h.sibling,R.renderingStartTime=_r(),h.sibling=null,y=Or.current,yr(Or,j?y&1|2:y&1),h):(Jn(h),null);case 22:case 23:return oj(),j=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==j&&(h.flags|=8192),j&&(h.mode&1)!==0?(es&1073741824)!==0&&(Jn(h),h.subtreeFlags&6&&(h.flags|=8192)):Jn(h),null;case 24:return null;case 25:return null}throw Error(r(156,h.tag))}function zZ(u,h){switch(g_(h),h.tag){case 1:return Ci(h.type)&&T0(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return lh(),Nr(Ai),Nr(Qn),A_(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return E_(h),null;case 13:if(Nr(Or),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));ih()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return Nr(Or),null;case 4:return lh(),null;case 10:return __(h.type._context),null;case 22:case 23:return oj(),null;case 24:return null;default:return null}}var H0=!1,Zn=!1,WZ=typeof WeakSet=="function"?WeakSet:Set,qe=null;function uh(u,h){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(j){qr(u,h,j)}else y.current=null}function Y_(u,h,y){try{y()}catch(j){qr(u,h,j)}}var AM=!1;function HZ(u,h){if(o_=wo,u=oR(),Z1(u)){if("selectionStart"in u)var y={start:u.selectionStart,end:u.selectionEnd};else e:{y=(y=u.ownerDocument)&&y.defaultView||window;var j=y.getSelection&&y.getSelection();if(j&&j.rangeCount!==0){y=j.anchorNode;var k=j.anchorOffset,R=j.focusNode;j=j.focusOffset;try{y.nodeType,R.nodeType}catch{y=null;break e}var B=0,H=-1,J=-1,ce=0,Te=0,Ce=u,Se=null;t:for(;;){for(var $e;Ce!==y||k!==0&&Ce.nodeType!==3||(H=B+k),Ce!==R||j!==0&&Ce.nodeType!==3||(J=B+j),Ce.nodeType===3&&(B+=Ce.nodeValue.length),($e=Ce.firstChild)!==null;)Se=Ce,Ce=$e;for(;;){if(Ce===u)break t;if(Se===y&&++ce===k&&(H=B),Se===R&&++Te===j&&(J=B),($e=Ce.nextSibling)!==null)break;Ce=Se,Se=Ce.parentNode}Ce=$e}y=H===-1||J===-1?null:{start:H,end:J}}else y=null}y=y||{start:0,end:0}}else y=null;for(l_={focusedElem:u,selectionRange:y},wo=!1,qe=h;qe!==null;)if(h=qe,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,qe=u;else for(;qe!==null;){h=qe;try{var He=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var Qe=He.memoizedProps,Kr=He.memoizedState,ie=h.stateNode,ee=ie.getSnapshotBeforeUpdate(h.elementType===h.type?Qe:Gs(h.type,Qe),Kr);ie.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var ae=h.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Oe){qr(h,h.return,Oe)}if(u=h.sibling,u!==null){u.return=h.return,qe=u;break}qe=h.return}return He=AM,AM=!1,He}function sp(u,h,y){var j=h.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var k=j=j.next;do{if((k.tag&u)===u){var R=k.destroy;k.destroy=void 0,R!==void 0&&Y_(h,y,R)}k=k.next}while(k!==j)}}function G0(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&u)===u){var j=y.create;y.destroy=j()}y=y.next}while(y!==h)}}function Q_(u){var h=u.ref;if(h!==null){var y=u.stateNode;switch(u.tag){case 5:u=y;break;default:u=y}typeof h=="function"?h(u):h.current=u}}function CM(u){var h=u.alternate;h!==null&&(u.alternate=null,CM(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[Ia],delete h[Km],delete h[h_],delete h[PZ],delete h[AZ])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function kM(u){return u.tag===5||u.tag===3||u.tag===4}function IM(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||kM(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function X_(u,h,y){var j=u.tag;if(j===5||j===6)u=u.stateNode,h?y.nodeType===8?y.parentNode.insertBefore(u,h):y.insertBefore(u,h):(y.nodeType===8?(h=y.parentNode,h.insertBefore(u,y)):(h=y,h.appendChild(u)),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=N0));else if(j!==4&&(u=u.child,u!==null))for(X_(u,h,y),u=u.sibling;u!==null;)X_(u,h,y),u=u.sibling}function J_(u,h,y){var j=u.tag;if(j===5||j===6)u=u.stateNode,h?y.insertBefore(u,h):y.appendChild(u);else if(j!==4&&(u=u.child,u!==null))for(J_(u,h,y),u=u.sibling;u!==null;)J_(u,h,y),u=u.sibling}var Mn=null,Ks=!1;function Bl(u,h,y){for(y=y.child;y!==null;)OM(u,h,y),y=y.sibling}function OM(u,h,y){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(tu,y)}catch{}switch(y.tag){case 5:Zn||uh(y,h);case 6:var j=Mn,k=Ks;Mn=null,Bl(u,h,y),Mn=j,Ks=k,Mn!==null&&(Ks?(u=Mn,y=y.stateNode,u.nodeType===8?u.parentNode.removeChild(y):u.removeChild(y)):Mn.removeChild(y.stateNode));break;case 18:Mn!==null&&(Ks?(u=Mn,y=y.stateNode,u.nodeType===8?d_(u.parentNode,y):u.nodeType===1&&d_(u,y),kl(u)):d_(Mn,y.stateNode));break;case 4:j=Mn,k=Ks,Mn=y.stateNode.containerInfo,Ks=!0,Bl(u,h,y),Mn=j,Ks=k;break;case 0:case 11:case 14:case 15:if(!Zn&&(j=y.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){k=j=j.next;do{var R=k,B=R.destroy;R=R.tag,B!==void 0&&((R&2)!==0||(R&4)!==0)&&Y_(y,h,B),k=k.next}while(k!==j)}Bl(u,h,y);break;case 1:if(!Zn&&(uh(y,h),j=y.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=y.memoizedProps,j.state=y.memoizedState,j.componentWillUnmount()}catch(H){qr(y,h,H)}Bl(u,h,y);break;case 21:Bl(u,h,y);break;case 22:y.mode&1?(Zn=(j=Zn)||y.memoizedState!==null,Bl(u,h,y),Zn=j):Bl(u,h,y);break;default:Bl(u,h,y)}}function RM(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new WZ),h.forEach(function(j){var k=tee.bind(null,u,j);y.has(j)||(y.add(j),j.then(k,k))})}}function Ys(u,h){var y=h.deletions;if(y!==null)for(var j=0;j<y.length;j++){var k=y[j];try{var R=u,B=h,H=B;e:for(;H!==null;){switch(H.tag){case 5:Mn=H.stateNode,Ks=!1;break e;case 3:Mn=H.stateNode.containerInfo,Ks=!0;break e;case 4:Mn=H.stateNode.containerInfo,Ks=!0;break e}H=H.return}if(Mn===null)throw Error(r(160));OM(R,B,k),Mn=null,Ks=!1;var J=k.alternate;J!==null&&(J.return=null),k.return=null}catch(ce){qr(k,h,ce)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)MM(h,u),h=h.sibling}function MM(u,h){var y=u.alternate,j=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Ys(h,u),Ma(u),j&4){try{sp(3,u,u.return),G0(3,u)}catch(Qe){qr(u,u.return,Qe)}try{sp(5,u,u.return)}catch(Qe){qr(u,u.return,Qe)}}break;case 1:Ys(h,u),Ma(u),j&512&&y!==null&&uh(y,y.return);break;case 5:if(Ys(h,u),Ma(u),j&512&&y!==null&&uh(y,y.return),u.flags&32){var k=u.stateNode;try{ve(k,"")}catch(Qe){qr(u,u.return,Qe)}}if(j&4&&(k=u.stateNode,k!=null)){var R=u.memoizedProps,B=y!==null?y.memoizedProps:R,H=u.type,J=u.updateQueue;if(u.updateQueue=null,J!==null)try{H==="input"&&R.type==="radio"&&R.name!=null&&It(k,R),dr(H,B);var ce=dr(H,R);for(B=0;B<J.length;B+=2){var Te=J[B],Ce=J[B+1];Te==="style"?gt(k,Ce):Te==="dangerouslySetInnerHTML"?Ae(k,Ce):Te==="children"?ve(k,Ce):P(k,Te,Ce,ce)}switch(H){case"input":Gt(k,R);break;case"textarea":hs(k,R);break;case"select":var Se=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!R.multiple;var $e=R.value;$e!=null?Ar(k,!!R.multiple,$e,!1):Se!==!!R.multiple&&(R.defaultValue!=null?Ar(k,!!R.multiple,R.defaultValue,!0):Ar(k,!!R.multiple,R.multiple?[]:"",!1))}k[Km]=R}catch(Qe){qr(u,u.return,Qe)}}break;case 6:if(Ys(h,u),Ma(u),j&4){if(u.stateNode===null)throw Error(r(162));k=u.stateNode,R=u.memoizedProps;try{k.nodeValue=R}catch(Qe){qr(u,u.return,Qe)}}break;case 3:if(Ys(h,u),Ma(u),j&4&&y!==null&&y.memoizedState.isDehydrated)try{kl(h.containerInfo)}catch(Qe){qr(u,u.return,Qe)}break;case 4:Ys(h,u),Ma(u);break;case 13:Ys(h,u),Ma(u),k=u.child,k.flags&8192&&(R=k.memoizedState!==null,k.stateNode.isHidden=R,!R||k.alternate!==null&&k.alternate.memoizedState!==null||(tj=_r())),j&4&&RM(u);break;case 22:if(Te=y!==null&&y.memoizedState!==null,u.mode&1?(Zn=(ce=Zn)||Te,Ys(h,u),Zn=ce):Ys(h,u),Ma(u),j&8192){if(ce=u.memoizedState!==null,(u.stateNode.isHidden=ce)&&!Te&&(u.mode&1)!==0)for(qe=u,Te=u.child;Te!==null;){for(Ce=qe=Te;qe!==null;){switch(Se=qe,$e=Se.child,Se.tag){case 0:case 11:case 14:case 15:sp(4,Se,Se.return);break;case 1:uh(Se,Se.return);var He=Se.stateNode;if(typeof He.componentWillUnmount=="function"){j=Se,y=Se.return;try{h=j,He.props=h.memoizedProps,He.state=h.memoizedState,He.componentWillUnmount()}catch(Qe){qr(j,y,Qe)}}break;case 5:uh(Se,Se.return);break;case 22:if(Se.memoizedState!==null){$M(Ce);continue}}$e!==null?($e.return=Se,qe=$e):$M(Ce)}Te=Te.sibling}e:for(Te=null,Ce=u;;){if(Ce.tag===5){if(Te===null){Te=Ce;try{k=Ce.stateNode,ce?(R=k.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(H=Ce.stateNode,J=Ce.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null,H.style.display=Be("display",B))}catch(Qe){qr(u,u.return,Qe)}}}else if(Ce.tag===6){if(Te===null)try{Ce.stateNode.nodeValue=ce?"":Ce.memoizedProps}catch(Qe){qr(u,u.return,Qe)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===u)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===u)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===u)break e;Te===Ce&&(Te=null),Ce=Ce.return}Te===Ce&&(Te=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:Ys(h,u),Ma(u),j&4&&RM(u);break;case 21:break;default:Ys(h,u),Ma(u)}}function Ma(u){var h=u.flags;if(h&2){try{e:{for(var y=u.return;y!==null;){if(kM(y)){var j=y;break e}y=y.return}throw Error(r(160))}switch(j.tag){case 5:var k=j.stateNode;j.flags&32&&(ve(k,""),j.flags&=-33);var R=IM(u);J_(u,R,k);break;case 3:case 4:var B=j.stateNode.containerInfo,H=IM(u);X_(u,H,B);break;default:throw Error(r(161))}}catch(J){qr(u,u.return,J)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function GZ(u,h,y){qe=u,DM(u)}function DM(u,h,y){for(var j=(u.mode&1)!==0;qe!==null;){var k=qe,R=k.child;if(k.tag===22&&j){var B=k.memoizedState!==null||H0;if(!B){var H=k.alternate,J=H!==null&&H.memoizedState!==null||Zn;H=H0;var ce=Zn;if(H0=B,(Zn=J)&&!ce)for(qe=k;qe!==null;)B=qe,J=B.child,B.tag===22&&B.memoizedState!==null?FM(k):J!==null?(J.return=B,qe=J):FM(k);for(;R!==null;)qe=R,DM(R),R=R.sibling;qe=k,H0=H,Zn=ce}LM(u)}else(k.subtreeFlags&8772)!==0&&R!==null?(R.return=k,qe=R):LM(u)}}function LM(u){for(;qe!==null;){var h=qe;if((h.flags&8772)!==0){var y=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Zn||G0(5,h);break;case 1:var j=h.stateNode;if(h.flags&4&&!Zn)if(y===null)j.componentDidMount();else{var k=h.elementType===h.type?y.memoizedProps:Gs(h.type,y.memoizedProps);j.componentDidUpdate(k,y.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var R=h.updateQueue;R!==null&&$R(h,R,j);break;case 3:var B=h.updateQueue;if(B!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=h.child.stateNode;break;case 1:y=h.child.stateNode}$R(h,B,y)}break;case 5:var H=h.stateNode;if(y===null&&h.flags&4){y=H;var J=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&y.focus();break;case"img":J.src&&(y.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var ce=h.alternate;if(ce!==null){var Te=ce.memoizedState;if(Te!==null){var Ce=Te.dehydrated;Ce!==null&&kl(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Zn||h.flags&512&&Q_(h)}catch(Se){qr(h,h.return,Se)}}if(h===u){qe=null;break}if(y=h.sibling,y!==null){y.return=h.return,qe=y;break}qe=h.return}}function $M(u){for(;qe!==null;){var h=qe;if(h===u){qe=null;break}var y=h.sibling;if(y!==null){y.return=h.return,qe=y;break}qe=h.return}}function FM(u){for(;qe!==null;){var h=qe;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{G0(4,h)}catch(J){qr(h,y,J)}break;case 1:var j=h.stateNode;if(typeof j.componentDidMount=="function"){var k=h.return;try{j.componentDidMount()}catch(J){qr(h,k,J)}}var R=h.return;try{Q_(h)}catch(J){qr(h,R,J)}break;case 5:var B=h.return;try{Q_(h)}catch(J){qr(h,B,J)}}}catch(J){qr(h,h.return,J)}if(h===u){qe=null;break}var H=h.sibling;if(H!==null){H.return=h.return,qe=H;break}qe=h.return}}var KZ=Math.ceil,K0=I.ReactCurrentDispatcher,Z_=I.ReactCurrentOwner,ws=I.ReactCurrentBatchConfig,zt=0,_n=null,en=null,Dn=0,es=0,dh=Dl(0),cn=0,ap=null,yu=0,Y0=0,ej=0,op=null,Ii=null,tj=0,hh=1/0,ko=null,Q0=!1,rj=null,ql=null,X0=!1,Ul=null,J0=0,lp=0,nj=null,Z0=-1,ev=0;function pi(){return(zt&6)!==0?_r():Z0!==-1?Z0:Z0=_r()}function zl(u){return(u.mode&1)===0?1:(zt&2)!==0&&Dn!==0?Dn&-Dn:kZ.transition!==null?(ev===0&&(ev=Am()),ev):(u=Ft,u!==0||(u=window.event,u=u===void 0?16:Bd(u.type)),u)}function Qs(u,h,y,j){if(50<lp)throw lp=0,nj=null,Error(r(185));su(u,y,j),((zt&2)===0||u!==_n)&&(u===_n&&((zt&2)===0&&(Y0|=y),cn===4&&Wl(u,Dn)),Oi(u,j),y===1&&zt===0&&(h.mode&1)===0&&(hh=_r()+500,P0&&$l()))}function Oi(u,h){var y=u.callbackNode;iu(u,h);var j=vo(u,u===_n?Dn:0);if(j===0)y!==null&&Rd(y),u.callbackNode=null,u.callbackPriority=0;else if(h=j&-j,u.callbackPriority!==h){if(y!=null&&Rd(y),h===1)u.tag===0?CZ(BM.bind(null,u)):TR(BM.bind(null,u)),TZ(function(){(zt&6)===0&&$l()}),y=null;else{switch(_a(j)){case 1:y=Md;break;case 4:y=Tm;break;case 16:y=eu;break;case 536870912:y=Dd;break;default:y=eu}y=YM(y,VM.bind(null,u))}u.callbackPriority=h,u.callbackNode=y}}function VM(u,h){if(Z0=-1,ev=0,(zt&6)!==0)throw Error(r(327));var y=u.callbackNode;if(fh()&&u.callbackNode!==y)return null;var j=vo(u,u===_n?Dn:0);if(j===0)return null;if((j&30)!==0||(j&u.expiredLanes)!==0||h)h=tv(u,j);else{h=j;var k=zt;zt|=2;var R=UM();(_n!==u||Dn!==h)&&(ko=null,hh=_r()+500,xu(u,h));do try{XZ();break}catch(H){qM(u,H)}while(!0);w_(),K0.current=R,zt=k,en!==null?h=0:(_n=null,Dn=0,h=cn)}if(h!==0){if(h===2&&(k=Pm(u),k!==0&&(j=k,h=ij(u,k))),h===1)throw y=ap,xu(u,0),Wl(u,j),Oi(u,_r()),y;if(h===6)Wl(u,j);else{if(k=u.current.alternate,(j&30)===0&&!YZ(k)&&(h=tv(u,j),h===2&&(R=Pm(u),R!==0&&(j=R,h=ij(u,R))),h===1))throw y=ap,xu(u,0),Wl(u,j),Oi(u,_r()),y;switch(u.finishedWork=k,u.finishedLanes=j,h){case 0:case 1:throw Error(r(345));case 2:bu(u,Ii,ko);break;case 3:if(Wl(u,j),(j&130023424)===j&&(h=tj+500-_r(),10<h)){if(vo(u,0)!==0)break;if(k=u.suspendedLanes,(k&j)!==j){pi(),u.pingedLanes|=u.suspendedLanes&k;break}u.timeoutHandle=u_(bu.bind(null,u,Ii,ko),h);break}bu(u,Ii,ko);break;case 4:if(Wl(u,j),(j&4194240)===j)break;for(h=u.eventTimes,k=-1;0<j;){var B=31-Gi(j);R=1<<B,B=h[B],B>k&&(k=B),j&=~R}if(j=k,j=_r()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*KZ(j/1960))-j,10<j){u.timeoutHandle=u_(bu.bind(null,u,Ii,ko),j);break}bu(u,Ii,ko);break;case 5:bu(u,Ii,ko);break;default:throw Error(r(329))}}}return Oi(u,_r()),u.callbackNode===y?VM.bind(null,u):null}function ij(u,h){var y=op;return u.current.memoizedState.isDehydrated&&(xu(u,h).flags|=256),u=tv(u,h),u!==2&&(h=Ii,Ii=y,h!==null&&sj(h)),u}function sj(u){Ii===null?Ii=u:Ii.push.apply(Ii,u)}function YZ(u){for(var h=u;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var j=0;j<y.length;j++){var k=y[j],R=k.getSnapshot;k=k.value;try{if(!Ws(R(),k))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Wl(u,h){for(h&=~ej,h&=~Y0,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var y=31-Gi(h),j=1<<y;u[y]=-1,h&=~j}}function BM(u){if((zt&6)!==0)throw Error(r(327));fh();var h=vo(u,0);if((h&1)===0)return Oi(u,_r()),null;var y=tv(u,h);if(u.tag!==0&&y===2){var j=Pm(u);j!==0&&(h=j,y=ij(u,j))}if(y===1)throw y=ap,xu(u,0),Wl(u,h),Oi(u,_r()),y;if(y===6)throw Error(r(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,bu(u,Ii,ko),Oi(u,_r()),null}function aj(u,h){var y=zt;zt|=1;try{return u(h)}finally{zt=y,zt===0&&(hh=_r()+500,P0&&$l())}}function vu(u){Ul!==null&&Ul.tag===0&&(zt&6)===0&&fh();var h=zt;zt|=1;var y=ws.transition,j=Ft;try{if(ws.transition=null,Ft=1,u)return u()}finally{Ft=j,ws.transition=y,zt=h,(zt&6)===0&&$l()}}function oj(){es=dh.current,Nr(dh)}function xu(u,h){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==-1&&(u.timeoutHandle=-1,SZ(y)),en!==null)for(y=en.return;y!==null;){var j=y;switch(g_(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&T0();break;case 3:lh(),Nr(Ai),Nr(Qn),A_();break;case 5:E_(j);break;case 4:lh();break;case 13:Nr(Or);break;case 19:Nr(Or);break;case 10:__(j.type._context);break;case 22:case 23:oj()}y=y.return}if(_n=u,en=u=Hl(u.current,null),Dn=es=h,cn=0,ap=null,ej=Y0=yu=0,Ii=op=null,mu!==null){for(h=0;h<mu.length;h++)if(y=mu[h],j=y.interleaved,j!==null){y.interleaved=null;var k=j.next,R=y.pending;if(R!==null){var B=R.next;R.next=k,j.next=B}y.pending=j}mu=null}return u}function qM(u,h){do{var y=en;try{if(w_(),$0.current=q0,F0){for(var j=Rr.memoizedState;j!==null;){var k=j.queue;k!==null&&(k.pending=null),j=j.next}F0=!1}if(gu=0,wn=ln=Rr=null,ep=!1,tp=0,Z_.current=null,y===null||y.return===null){cn=1,ap=h,en=null;break}e:{var R=u,B=y.return,H=y,J=h;if(h=Dn,H.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ce=J,Te=H,Ce=Te.tag;if((Te.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var Se=Te.alternate;Se?(Te.updateQueue=Se.updateQueue,Te.memoizedState=Se.memoizedState,Te.lanes=Se.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var $e=fM(B);if($e!==null){$e.flags&=-257,mM($e,B,H,R,h),$e.mode&1&&hM(R,ce,h),h=$e,J=ce;var He=h.updateQueue;if(He===null){var Qe=new Set;Qe.add(J),h.updateQueue=Qe}else He.add(J);break e}else{if((h&1)===0){hM(R,ce,h),lj();break e}J=Error(r(426))}}else if(Cr&&H.mode&1){var Kr=fM(B);if(Kr!==null){(Kr.flags&65536)===0&&(Kr.flags|=256),mM(Kr,B,H,R,h),x_(ch(J,H));break e}}R=J=ch(J,H),cn!==4&&(cn=2),op===null?op=[R]:op.push(R),R=B;do{switch(R.tag){case 3:R.flags|=65536,h&=-h,R.lanes|=h;var ie=uM(R,J,h);LR(R,ie);break e;case 1:H=J;var ee=R.type,ae=R.stateNode;if((R.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(ql===null||!ql.has(ae)))){R.flags|=65536,h&=-h,R.lanes|=h;var Oe=dM(R,H,h);LR(R,Oe);break e}}R=R.return}while(R!==null)}WM(y)}catch(Xe){h=Xe,en===y&&y!==null&&(en=y=y.return);continue}break}while(!0)}function UM(){var u=K0.current;return K0.current=q0,u===null?q0:u}function lj(){(cn===0||cn===3||cn===2)&&(cn=4),_n===null||(yu&268435455)===0&&(Y0&268435455)===0||Wl(_n,Dn)}function tv(u,h){var y=zt;zt|=2;var j=UM();(_n!==u||Dn!==h)&&(ko=null,xu(u,h));do try{QZ();break}catch(k){qM(u,k)}while(!0);if(w_(),zt=y,K0.current=j,en!==null)throw Error(r(261));return _n=null,Dn=0,cn}function QZ(){for(;en!==null;)zM(en)}function XZ(){for(;en!==null&&!Zc();)zM(en)}function zM(u){var h=KM(u.alternate,u,es);u.memoizedProps=u.pendingProps,h===null?WM(u):en=h,Z_.current=null}function WM(u){var h=u;do{var y=h.alternate;if(u=h.return,(h.flags&32768)===0){if(y=UZ(y,h,es),y!==null){en=y;return}}else{if(y=zZ(y,h),y!==null){y.flags&=32767,en=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{cn=6,en=null;return}}if(h=h.sibling,h!==null){en=h;return}en=h=u}while(h!==null);cn===0&&(cn=5)}function bu(u,h,y){var j=Ft,k=ws.transition;try{ws.transition=null,Ft=1,JZ(u,h,y,j)}finally{ws.transition=k,Ft=j}return null}function JZ(u,h,y,j){do fh();while(Ul!==null);if((zt&6)!==0)throw Error(r(327));y=u.finishedWork;var k=u.finishedLanes;if(y===null)return null;if(u.finishedWork=null,u.finishedLanes=0,y===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0;var R=y.lanes|y.childLanes;if(K1(u,R),u===_n&&(en=_n=null,Dn=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||X0||(X0=!0,YM(eu,function(){return fh(),null})),R=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||R){R=ws.transition,ws.transition=null;var B=Ft;Ft=1;var H=zt;zt|=4,Z_.current=null,HZ(u,y),MM(y,u),vZ(l_),wo=!!o_,l_=o_=null,u.current=y,GZ(y),yo(),zt=H,Ft=B,ws.transition=R}else u.current=y;if(X0&&(X0=!1,Ul=u,J0=k),R=u.pendingLanes,R===0&&(ql=null),l0(y.stateNode),Oi(u,_r()),h!==null)for(j=u.onRecoverableError,y=0;y<h.length;y++)k=h[y],j(k.value,{componentStack:k.stack,digest:k.digest});if(Q0)throw Q0=!1,u=rj,rj=null,u;return(J0&1)!==0&&u.tag!==0&&fh(),R=u.pendingLanes,(R&1)!==0?u===nj?lp++:(lp=0,nj=u):lp=0,$l(),null}function fh(){if(Ul!==null){var u=_a(J0),h=ws.transition,y=Ft;try{if(ws.transition=null,Ft=16>u?16:u,Ul===null)var j=!1;else{if(u=Ul,Ul=null,J0=0,(zt&6)!==0)throw Error(r(331));var k=zt;for(zt|=4,qe=u.current;qe!==null;){var R=qe,B=R.child;if((qe.flags&16)!==0){var H=R.deletions;if(H!==null){for(var J=0;J<H.length;J++){var ce=H[J];for(qe=ce;qe!==null;){var Te=qe;switch(Te.tag){case 0:case 11:case 15:sp(8,Te,R)}var Ce=Te.child;if(Ce!==null)Ce.return=Te,qe=Ce;else for(;qe!==null;){Te=qe;var Se=Te.sibling,$e=Te.return;if(CM(Te),Te===ce){qe=null;break}if(Se!==null){Se.return=$e,qe=Se;break}qe=$e}}}var He=R.alternate;if(He!==null){var Qe=He.child;if(Qe!==null){He.child=null;do{var Kr=Qe.sibling;Qe.sibling=null,Qe=Kr}while(Qe!==null)}}qe=R}}if((R.subtreeFlags&2064)!==0&&B!==null)B.return=R,qe=B;else e:for(;qe!==null;){if(R=qe,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:sp(9,R,R.return)}var ie=R.sibling;if(ie!==null){ie.return=R.return,qe=ie;break e}qe=R.return}}var ee=u.current;for(qe=ee;qe!==null;){B=qe;var ae=B.child;if((B.subtreeFlags&2064)!==0&&ae!==null)ae.return=B,qe=ae;else e:for(B=ee;qe!==null;){if(H=qe,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:G0(9,H)}}catch(Xe){qr(H,H.return,Xe)}if(H===B){qe=null;break e}var Oe=H.sibling;if(Oe!==null){Oe.return=H.return,qe=Oe;break e}qe=H.return}}if(zt=k,$l(),Hi&&typeof Hi.onPostCommitFiberRoot=="function")try{Hi.onPostCommitFiberRoot(tu,u)}catch{}j=!0}return j}finally{Ft=y,ws.transition=h}}return!1}function HM(u,h,y){h=ch(y,h),h=uM(u,h,1),u=Vl(u,h,1),h=pi(),u!==null&&(su(u,1,h),Oi(u,h))}function qr(u,h,y){if(u.tag===3)HM(u,u,y);else for(;h!==null;){if(h.tag===3){HM(h,u,y);break}else if(h.tag===1){var j=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(ql===null||!ql.has(j))){u=ch(y,u),u=dM(h,u,1),h=Vl(h,u,1),u=pi(),h!==null&&(su(h,1,u),Oi(h,u));break}}h=h.return}}function ZZ(u,h,y){var j=u.pingCache;j!==null&&j.delete(h),h=pi(),u.pingedLanes|=u.suspendedLanes&y,_n===u&&(Dn&y)===y&&(cn===4||cn===3&&(Dn&130023424)===Dn&&500>_r()-tj?xu(u,0):ej|=y),Oi(u,h)}function GM(u,h){h===0&&((u.mode&1)===0?h=1:(h=Pl,Pl<<=1,(Pl&130023424)===0&&(Pl=4194304)));var y=pi();u=Po(u,h),u!==null&&(su(u,h,y),Oi(u,y))}function eee(u){var h=u.memoizedState,y=0;h!==null&&(y=h.retryLane),GM(u,y)}function tee(u,h){var y=0;switch(u.tag){case 13:var j=u.stateNode,k=u.memoizedState;k!==null&&(y=k.retryLane);break;case 19:j=u.stateNode;break;default:throw Error(r(314))}j!==null&&j.delete(h),GM(u,y)}var KM;KM=function(u,h,y){if(u!==null)if(u.memoizedProps!==h.pendingProps||Ai.current)ki=!0;else{if((u.lanes&y)===0&&(h.flags&128)===0)return ki=!1,qZ(u,h,y);ki=(u.flags&131072)!==0}else ki=!1,Cr&&(h.flags&1048576)!==0&&ER(h,C0,h.index);switch(h.lanes=0,h.tag){case 2:var j=h.type;W0(u,h),u=h.pendingProps;var k=th(h,Qn.current);oh(h,y),k=I_(null,h,j,u,k,y);var R=O_();return h.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Ci(j)?(R=!0,E0(h)):R=!1,h.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,S_(h),k.updater=U0,h.stateNode=k,k._reactInternals=h,F_(h,j,u,y),h=U_(null,h,j,!0,R,y)):(h.tag=0,Cr&&R&&p_(h),mi(null,h,k,y),h=h.child),h;case 16:j=h.elementType;e:{switch(W0(u,h),u=h.pendingProps,k=j._init,j=k(j._payload),h.type=j,k=h.tag=nee(j),u=Gs(j,u),k){case 0:h=q_(null,h,j,u,y);break e;case 1:h=bM(null,h,j,u,y);break e;case 11:h=pM(null,h,j,u,y);break e;case 14:h=gM(null,h,j,Gs(j.type,u),y);break e}throw Error(r(306,j,""))}return h;case 0:return j=h.type,k=h.pendingProps,k=h.elementType===j?k:Gs(j,k),q_(u,h,j,k,y);case 1:return j=h.type,k=h.pendingProps,k=h.elementType===j?k:Gs(j,k),bM(u,h,j,k,y);case 3:e:{if(wM(h),u===null)throw Error(r(387));j=h.pendingProps,R=h.memoizedState,k=R.element,DR(u,h),D0(h,j,null,y);var B=h.memoizedState;if(j=B.element,R.isDehydrated)if(R={element:j,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},h.updateQueue.baseState=R,h.memoizedState=R,h.flags&256){k=ch(Error(r(423)),h),h=_M(u,h,j,y,k);break e}else if(j!==k){k=ch(Error(r(424)),h),h=_M(u,h,j,y,k);break e}else for(Zi=Ml(h.stateNode.containerInfo.firstChild),Ji=h,Cr=!0,Hs=null,y=RR(h,null,j,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(ih(),j===k){h=Co(u,h,y);break e}mi(u,h,j,y)}h=h.child}return h;case 5:return FR(h),u===null&&v_(h),j=h.type,k=h.pendingProps,R=u!==null?u.memoizedProps:null,B=k.children,c_(j,k)?B=null:R!==null&&c_(j,R)&&(h.flags|=32),xM(u,h),mi(u,h,B,y),h.child;case 6:return u===null&&v_(h),null;case 13:return jM(u,h,y);case 4:return T_(h,h.stateNode.containerInfo),j=h.pendingProps,u===null?h.child=sh(h,null,j,y):mi(u,h,j,y),h.child;case 11:return j=h.type,k=h.pendingProps,k=h.elementType===j?k:Gs(j,k),pM(u,h,j,k,y);case 7:return mi(u,h,h.pendingProps,y),h.child;case 8:return mi(u,h,h.pendingProps.children,y),h.child;case 12:return mi(u,h,h.pendingProps.children,y),h.child;case 10:e:{if(j=h.type._context,k=h.pendingProps,R=h.memoizedProps,B=k.value,yr(O0,j._currentValue),j._currentValue=B,R!==null)if(Ws(R.value,B)){if(R.children===k.children&&!Ai.current){h=Co(u,h,y);break e}}else for(R=h.child,R!==null&&(R.return=h);R!==null;){var H=R.dependencies;if(H!==null){B=R.child;for(var J=H.firstContext;J!==null;){if(J.context===j){if(R.tag===1){J=Ao(-1,y&-y),J.tag=2;var ce=R.updateQueue;if(ce!==null){ce=ce.shared;var Te=ce.pending;Te===null?J.next=J:(J.next=Te.next,Te.next=J),ce.pending=J}}R.lanes|=y,J=R.alternate,J!==null&&(J.lanes|=y),j_(R.return,y,h),H.lanes|=y;break}J=J.next}}else if(R.tag===10)B=R.type===h.type?null:R.child;else if(R.tag===18){if(B=R.return,B===null)throw Error(r(341));B.lanes|=y,H=B.alternate,H!==null&&(H.lanes|=y),j_(B,y,h),B=R.sibling}else B=R.child;if(B!==null)B.return=R;else for(B=R;B!==null;){if(B===h){B=null;break}if(R=B.sibling,R!==null){R.return=B.return,B=R;break}B=B.return}R=B}mi(u,h,k.children,y),h=h.child}return h;case 9:return k=h.type,j=h.pendingProps.children,oh(h,y),k=xs(k),j=j(k),h.flags|=1,mi(u,h,j,y),h.child;case 14:return j=h.type,k=Gs(j,h.pendingProps),k=Gs(j.type,k),gM(u,h,j,k,y);case 15:return yM(u,h,h.type,h.pendingProps,y);case 17:return j=h.type,k=h.pendingProps,k=h.elementType===j?k:Gs(j,k),W0(u,h),h.tag=1,Ci(j)?(u=!0,E0(h)):u=!1,oh(h,y),lM(h,j,k),F_(h,j,k,y),U_(null,h,j,!0,u,y);case 19:return SM(u,h,y);case 22:return vM(u,h,y)}throw Error(r(156,h.tag))};function YM(u,h){return Sm(u,h)}function ree(u,h,y,j){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(u,h,y,j){return new ree(u,h,y,j)}function cj(u){return u=u.prototype,!(!u||!u.isReactComponent)}function nee(u){if(typeof u=="function")return cj(u)?1:0;if(u!=null){if(u=u.$$typeof,u===$)return 11;if(u===Y)return 14}return 2}function Hl(u,h){var y=u.alternate;return y===null?(y=_s(u.tag,h,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=h,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,h=u.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function rv(u,h,y,j,k,R){var B=2;if(j=u,typeof u=="function")cj(u)&&(B=1);else if(typeof u=="string")B=5;else e:switch(u){case E:return wu(y.children,k,R,h);case N:B=8,k|=8;break;case O:return u=_s(12,y,h,k|2),u.elementType=O,u.lanes=R,u;case F:return u=_s(13,y,h,k),u.elementType=F,u.lanes=R,u;case G:return u=_s(19,y,h,k),u.elementType=G,u.lanes=R,u;case X:return nv(y,k,R,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case D:B=10;break e;case L:B=9;break e;case $:B=11;break e;case Y:B=14;break e;case K:B=16,j=null;break e}throw Error(r(130,u==null?u:typeof u,""))}return h=_s(B,y,h,k),h.elementType=u,h.type=j,h.lanes=R,h}function wu(u,h,y,j){return u=_s(7,u,j,h),u.lanes=y,u}function nv(u,h,y,j){return u=_s(22,u,j,h),u.elementType=X,u.lanes=y,u.stateNode={isHidden:!1},u}function uj(u,h,y){return u=_s(6,u,null,h),u.lanes=y,u}function dj(u,h,y){return h=_s(4,u.children!==null?u.children:[],u.key,h),h.lanes=y,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function iee(u,h,y,j,k){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cm(0),this.expirationTimes=Cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cm(0),this.identifierPrefix=j,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function hj(u,h,y,j,k,R,B,H,J){return u=new iee(u,h,y,H,J),h===1?(h=1,R===!0&&(h|=8)):h=0,R=_s(3,null,null,h),u.current=R,R.stateNode=u,R.memoizedState={element:j,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},S_(R),u}function see(u,h,y){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:j==null?null:""+j,children:u,containerInfo:h,implementation:y}}function QM(u){if(!u)return Ll;u=u._reactInternals;e:{if(Us(u)!==u||u.tag!==1)throw Error(r(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Ci(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(r(171))}if(u.tag===1){var y=u.type;if(Ci(y))return NR(u,y,h)}return h}function XM(u,h,y,j,k,R,B,H,J){return u=hj(y,j,!0,u,k,R,B,H,J),u.context=QM(null),y=u.current,j=pi(),k=zl(y),R=Ao(j,k),R.callback=h??null,Vl(y,R,k),u.current.lanes=k,su(u,k,j),Oi(u,j),u}function iv(u,h,y,j){var k=h.current,R=pi(),B=zl(k);return y=QM(y),h.context===null?h.context=y:h.pendingContext=y,h=Ao(R,B),h.payload={element:u},j=j===void 0?null:j,j!==null&&(h.callback=j),u=Vl(k,h,B),u!==null&&(Qs(u,k,B,R),M0(u,k,B)),B}function sv(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function JM(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<h?y:h}}function fj(u,h){JM(u,h),(u=u.alternate)&&JM(u,h)}function aee(){return null}var ZM=typeof reportError=="function"?reportError:function(u){console.error(u)};function mj(u){this._internalRoot=u}av.prototype.render=mj.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(r(409));iv(u,h,null,null)},av.prototype.unmount=mj.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;vu(function(){iv(null,u,null,null)}),h[No]=null}};function av(u){this._internalRoot=u}av.prototype.unstable_scheduleHydration=function(u){if(u){var h=Rm();u={blockedOn:null,target:u,priority:h};for(var y=0;y<Ki.length&&h!==0&&h<Ki[y].priority;y++);Ki.splice(y,0,u),y===0&&Fd(u)}};function pj(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function ov(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function e4(){}function oee(u,h,y,j,k){if(k){if(typeof j=="function"){var R=j;j=function(){var ce=sv(B);R.call(ce)}}var B=XM(h,j,u,0,null,!1,!1,"",e4);return u._reactRootContainer=B,u[No]=B.current,Hm(u.nodeType===8?u.parentNode:u),vu(),B}for(;k=u.lastChild;)u.removeChild(k);if(typeof j=="function"){var H=j;j=function(){var ce=sv(J);H.call(ce)}}var J=hj(u,0,!1,null,null,!1,!1,"",e4);return u._reactRootContainer=J,u[No]=J.current,Hm(u.nodeType===8?u.parentNode:u),vu(function(){iv(h,J,y,j)}),J}function lv(u,h,y,j,k){var R=y._reactRootContainer;if(R){var B=R;if(typeof k=="function"){var H=k;k=function(){var J=sv(B);H.call(J)}}iv(h,B,u,k)}else B=oee(y,h,u,k,j);return sv(B)}Im=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var y=Zt(h.pendingLanes);y!==0&&(km(h,y|1),Oi(h,_r()),(zt&6)===0&&(hh=_r()+500,$l()))}break;case 13:vu(function(){var j=Po(u,1);if(j!==null){var k=pi();Qs(j,u,1,k)}}),fj(u,1)}},Ld=function(u){if(u.tag===13){var h=Po(u,134217728);if(h!==null){var y=pi();Qs(h,u,134217728,y)}fj(u,134217728)}},Om=function(u){if(u.tag===13){var h=zl(u),y=Po(u,h);if(y!==null){var j=pi();Qs(y,u,h,j)}fj(u,h)}},Rm=function(){return Ft},Mm=function(u,h){var y=Ft;try{return Ft=u,h()}finally{Ft=y}},fs=function(u,h,y){switch(h){case"input":if(Gt(u,y),h=y.name,y.type==="radio"&&h!=null){for(y=u;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<y.length;h++){var j=y[h];if(j!==u&&j.form===u.form){var k=S0(j);if(!k)throw Error(r(90));he(j),Gt(j,k)}}}break;case"textarea":hs(u,y);break;case"select":h=y.value,h!=null&&Ar(u,!!y.multiple,h,!1)}},Zy=aj,e0=vu;var lee={usingClientEntryPoint:!1,Events:[Ym,Zd,S0,Nl,Sl,aj]},cp={findFiberByHostInstance:uu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cee={bundleType:cp.bundleType,version:cp.version,rendererPackageName:cp.rendererPackageName,rendererConfig:cp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=o0(u),u===null?null:u.stateNode},findFiberByHostInstance:cp.findFiberByHostInstance||aee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cv.isDisabled&&cv.supportsFiber)try{tu=cv.inject(cee),Hi=cv}catch{}}return Ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lee,Ri.createPortal=function(u,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pj(h))throw Error(r(200));return see(u,h,null,y)},Ri.createRoot=function(u,h){if(!pj(u))throw Error(r(299));var y=!1,j="",k=ZM;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onRecoverableError!==void 0&&(k=h.onRecoverableError)),h=hj(u,1,!1,null,null,y,!1,j,k),u[No]=h.current,Hm(u.nodeType===8?u.parentNode:u),new mj(h)},Ri.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=o0(h),u=u===null?null:u.stateNode,u},Ri.flushSync=function(u){return vu(u)},Ri.hydrate=function(u,h,y){if(!ov(h))throw Error(r(200));return lv(null,u,h,!0,y)},Ri.hydrateRoot=function(u,h,y){if(!pj(u))throw Error(r(405));var j=y!=null&&y.hydratedSources||null,k=!1,R="",B=ZM;if(y!=null&&(y.unstable_strictMode===!0&&(k=!0),y.identifierPrefix!==void 0&&(R=y.identifierPrefix),y.onRecoverableError!==void 0&&(B=y.onRecoverableError)),h=XM(h,null,u,1,y??null,k,!1,R,B),u[No]=h.current,Hm(u),j)for(u=0;u<j.length;u++)y=j[u],k=y._getVersion,k=k(y._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[y,k]:h.mutableSourceEagerHydrationData.push(y,k);return new av(h)},Ri.render=function(u,h,y){if(!ov(h))throw Error(r(200));return lv(null,u,h,!1,y)},Ri.unmountComponentAtNode=function(u){if(!ov(u))throw Error(r(40));return u._reactRootContainer?(vu(function(){lv(null,null,u,!1,function(){u._reactRootContainer=null,u[No]=null})}),!0):!1},Ri.unstable_batchedUpdates=aj,Ri.unstable_renderSubtreeIntoContainer=function(u,h,y,j){if(!ov(y))throw Error(r(200));if(u==null||u._reactInternals===void 0)throw Error(r(38));return lv(u,h,y,!1,j)},Ri.version="18.3.1-next-f1338f8080-20240426",Ri}var c4;function kq(){if(c4)return xj.exports;c4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xj.exports=yee(),xj.exports}var u4;function vee(){if(u4)return dv;u4=1;var t=kq();return dv.createRoot=t.createRoot,dv.hydrateRoot=t.hydrateRoot,dv}var xee=vee();const bee=Jt(xee),wee=()=>{};var d4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},_ee=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],l=t[r++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Oq={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let p=(l&15)<<2|d>>6,v=d&63;c||(v=64,o||(p=64)),n.push(r[f],r[m],r[p],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Iq(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_ee(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new jee;const p=s<<2|l>>4;if(n.push(p),d!==64){const v=l<<4&240|d>>2;if(n.push(v),m!==64){const w=d<<6&192|m;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nee=function(t){const e=Iq(t);return Oq.encodeByteArray(e,!0)},bx=function(t){return Nee(t).replace(/\./g,"")},Rq=function(t){try{return Oq.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function See(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee=()=>See().__FIREBASE_DEFAULTS__,Eee=()=>{if(typeof process>"u"||typeof d4>"u")return;const t=d4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Pee=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rq(t[1]);return e&&JSON.parse(e)},dw=()=>{try{return wee()||Tee()||Eee()||Pee()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Mq=t=>{var e,r;return(r=(e=dw())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},Dq=t=>{const e=Mq(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Lq=()=>{var t;return(t=dw())==null?void 0:t.config},$q=t=>{var e;return(e=dw())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[bx(JSON.stringify(r)),bx(JSON.stringify(o)),""].join(".")}const $p={};function Cee(){const t={prod:[],emulator:[]};for(const e of Object.keys($p))$p[e]?t.emulator.push(e):t.prod.push(e);return t}function kee(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let h4=!1;function SC(t,e){if(typeof window>"u"||typeof document>"u"||!bd(window.location.host)||$p[t]===e||$p[t]||h4)return;$p[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",s=Cee().prod.length>0;function o(){const p=document.getElementById(n);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{h4=!0,o()},p}function f(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=kee(n),v=r("text"),w=document.getElementById(v)||document.createElement("span"),x=r("learnmore"),g=document.getElementById(x)||document.createElement("a"),_=r("preprendIcon"),T=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const P=p.element;l(P),f(g,x);const I=d();c(T,_),P.append(T,w,g,I),document.body.appendChild(P)}s?(w.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Iee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(di())}function Oee(){var e;const t=(e=dw())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ree(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mee(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Dee(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lee(){const t=di();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $ee(){return!Oee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fee(){try{return typeof indexedDB=="object"}catch{return!1}}function Vee(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee="FirebaseError";class oo extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Bee,Object.setPrototypeOf(this,oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gy.prototype.create)}}class gy{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qee(s,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new oo(i,l,n)}}function qee(t,e){return t.replace(Uee,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Uee=/\{\$([^}]+)}/g;function zee(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function td(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(f4(s)&&f4(o)){if(!td(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function f4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Wee(t,e){const r=new Hee(t,e);return r.subscribe.bind(r)}class Hee{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Gee(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=_j),i.error===void 0&&(i.error=_j),i.complete===void 0&&(i.complete=_j);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gee(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function _j(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t){return t&&t._delegate?t._delegate:t}class Sc{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kee=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Aee;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Qee(e))try{this.getOrInitializeService({instanceIdentifier:Pu})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Pu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pu){return this.instances.has(e)}getOptions(e=Pu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);n===l&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Yee(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Pu){return this.component?this.component.multipleInstances?e:Pu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Yee(t){return t===Pu?void 0:t}function Qee(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Kee(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const Jee={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},Zee=Rt.INFO,ete={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},tte=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=ete[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class TC{constructor(e){this.name=e,this._logLevel=Zee,this._logHandler=tte,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const rte=(t,e)=>e.some(r=>t instanceof r);let m4,p4;function nte(){return m4||(m4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ite(){return p4||(p4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vq=new WeakMap,wE=new WeakMap,Bq=new WeakMap,jj=new WeakMap,EC=new WeakMap;function ste(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(vc(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&Vq.set(r,t)}).catch(()=>{}),EC.set(e,t),e}function ate(t){if(wE.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wE.set(t,e)}let _E={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return wE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Bq.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return vc(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ote(t){_E=t(_E)}function lte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Nj(this),e,...r);return Bq.set(n,e.sort?e.sort():[e]),vc(n)}:ite().includes(t)?function(...e){return t.apply(Nj(this),e),vc(Vq.get(this))}:function(...e){return vc(t.apply(Nj(this),e))}}function cte(t){return typeof t=="function"?lte(t):(t instanceof IDBTransaction&&ate(t),rte(t,nte())?new Proxy(t,_E):t)}function vc(t){if(t instanceof IDBRequest)return ste(t);if(jj.has(t))return jj.get(t);const e=cte(t);return e!==t&&(jj.set(t,e),EC.set(e,t)),e}const Nj=t=>EC.get(t);function ute(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=vc(o);return n&&o.addEventListener("upgradeneeded",c=>{n(vc(o.result),c.oldVersion,c.newVersion,vc(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const dte=["get","getKey","getAll","getAllKeys","count"],hte=["put","add","delete","clear"],Sj=new Map;function g4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sj.get(e))return Sj.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=hte.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||dte.includes(r)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),i&&c.done]))[0]};return Sj.set(e,s),s}ote(t=>({...t,get:(e,r,n)=>g4(e,r)||t.get(e,r,n),has:(e,r)=>!!g4(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(mte(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function mte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jE="@firebase/app",y4="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new TC("@firebase/app"),pte="@firebase/app-compat",gte="@firebase/analytics-compat",yte="@firebase/analytics",vte="@firebase/app-check-compat",xte="@firebase/app-check",bte="@firebase/auth",wte="@firebase/auth-compat",_te="@firebase/database",jte="@firebase/data-connect",Nte="@firebase/database-compat",Ste="@firebase/functions",Tte="@firebase/functions-compat",Ete="@firebase/installations",Pte="@firebase/installations-compat",Ate="@firebase/messaging",Cte="@firebase/messaging-compat",kte="@firebase/performance",Ite="@firebase/performance-compat",Ote="@firebase/remote-config",Rte="@firebase/remote-config-compat",Mte="@firebase/storage",Dte="@firebase/storage-compat",Lte="@firebase/firestore",$te="@firebase/ai",Fte="@firebase/firestore-compat",Vte="firebase",Bte="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="[DEFAULT]",qte={[jE]:"fire-core",[pte]:"fire-core-compat",[yte]:"fire-analytics",[gte]:"fire-analytics-compat",[xte]:"fire-app-check",[vte]:"fire-app-check-compat",[bte]:"fire-auth",[wte]:"fire-auth-compat",[_te]:"fire-rtdb",[jte]:"fire-data-connect",[Nte]:"fire-rtdb-compat",[Ste]:"fire-fn",[Tte]:"fire-fn-compat",[Ete]:"fire-iid",[Pte]:"fire-iid-compat",[Ate]:"fire-fcm",[Cte]:"fire-fcm-compat",[kte]:"fire-perf",[Ite]:"fire-perf-compat",[Ote]:"fire-rc",[Rte]:"fire-rc-compat",[Mte]:"fire-gcs",[Dte]:"fire-gcs-compat",[Lte]:"fire-fst",[Fte]:"fire-fst-compat",[$te]:"fire-vertex","fire-js":"fire-js",[Vte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new Map,Ute=new Map,SE=new Map;function v4(t,e){try{t.container.addComponent(e)}catch(r){Zo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function rd(t){const e=t.name;if(SE.has(e))return Zo.debug(`There were multiple attempts to register component ${e}.`),!1;SE.set(e,t);for(const r of wx.values())v4(r,t);for(const r of Ute.values())v4(r,t);return!0}function hw(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ps(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xc=new gy("app","Firebase",zte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Sc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=Bte;function qq(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:NE,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw xc.create("bad-app-name",{appName:String(i)});if(r||(r=Lq()),!r)throw xc.create("no-options");const s=wx.get(i);if(s){if(td(r,s.options)&&td(n,s.config))return s;throw xc.create("duplicate-app",{appName:i})}const o=new Xee(i);for(const c of SE.values())o.addComponent(c);const l=new Wte(r,n,o);return wx.set(i,l),l}function PC(t=NE){const e=wx.get(t);if(!e&&t===NE&&Lq())return qq();if(!e)throw xc.create("no-app",{appName:t});return e}function Ua(t,e,r){let n=qte[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zo.warn(o.join(" "));return}rd(new Sc(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hte="firebase-heartbeat-database",Gte=1,lg="firebase-heartbeat-store";let Tj=null;function Uq(){return Tj||(Tj=ute(Hte,Gte,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lg)}catch(r){console.warn(r)}}}}).catch(t=>{throw xc.create("idb-open",{originalErrorMessage:t.message})})),Tj}async function Kte(t){try{const r=(await Uq()).transaction(lg),n=await r.objectStore(lg).get(zq(t));return await r.done,n}catch(e){if(e instanceof oo)Zo.warn(e.message);else{const r=xc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zo.warn(r.message)}}}async function x4(t,e){try{const n=(await Uq()).transaction(lg,"readwrite");await n.objectStore(lg).put(e,zq(t)),await n.done}catch(r){if(r instanceof oo)Zo.warn(r.message);else{const n=xc.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Zo.warn(n.message)}}}function zq(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yte=1024,Qte=30;class Xte{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Zte(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=b4();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Qte){const o=ere(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Zo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=b4(),{heartbeatsToSend:n,unsentEntries:i}=Jte(this._heartbeatsCache.heartbeats),s=bx(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Zo.warn(r),""}}}function b4(){return new Date().toISOString().substring(0,10)}function Jte(t,e=Yte){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),w4(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),w4(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Zte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fee()?Vee().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Kte(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return x4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return x4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function w4(t){return bx(JSON.stringify({version:2,heartbeats:t})).length}function ere(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tre(t){rd(new Sc("platform-logger",e=>new fte(e),"PRIVATE")),rd(new Sc("heartbeat",e=>new Xte(e),"PRIVATE")),Ua(jE,y4,t),Ua(jE,y4,"esm2020"),Ua("fire-js","")}tre("");function Wq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rre=Wq,Hq=new gy("auth","Firebase",Wq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new TC("@firebase/auth");function nre(t,...e){_x.logLevel<=Rt.WARN&&_x.warn(`Auth (${wd}): ${t}`,...e)}function Kv(t,...e){_x.logLevel<=Rt.ERROR&&_x.error(`Auth (${wd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,...e){throw CC(t,...e)}function oa(t,...e){return CC(t,...e)}function AC(t,e,r){const n={...rre(),[e]:r};return new gy("auth","Firebase",n).create(e,{appName:t.name})}function Gu(t){return AC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ire(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&eo(t,"argument-error"),AC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function CC(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Hq.create(t,...e)}function pt(t,e,...r){if(!t)throw CC(e,...r)}function Vo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kv(e),new Error(e)}function el(t,e){t||Vo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function sre(){return _4()==="http:"||_4()==="https:"}function _4(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function are(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sre()||Mee()||"connection"in navigator)?navigator.onLine:!0}function ore(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,r){this.shortDelay=e,this.longDelay=r,el(r>e,"Short delay should be less than long delay!"),this.isMobile=Iee()||Dee()}get(){return are()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t,e){el(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cre=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ure=new vy(3e4,6e4);function IC(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Hf(t,e,r,n,i={}){return Kq(t,i,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const l=yy({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...s};return Ree()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&bd(t.emulatorConfig.host)&&(d.credentials="include"),Gq.fetch()(await Yq(t,t.config.apiHost,r,l),d)})}async function Kq(t,e,r){t._canInitEmulator=!1;const n={...lre,...e};try{const i=new hre(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw hv(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw hv(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw hv(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw hv(t,"user-disabled",o);const f=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw AC(t,f,d);eo(t,f)}}catch(i){if(i instanceof oo)throw i;eo(t,"network-request-failed",{message:String(i)})}}async function dre(t,e,r,n,i={}){const s=await Hf(t,e,r,n,i);return"mfaPendingCredential"in s&&eo(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Yq(t,e,r,n){const i=`${e}${r}?${n}`,s=t,o=s.config.emulator?kC(t.config,i):`${t.config.apiScheme}://${i}`;return cre.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class hre{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(oa(this.auth,"network-request-failed")),ure.get())})}}function hv(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=oa(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fre(t,e){return Hf(t,"POST","/v1/accounts:delete",e)}async function jx(t,e){return Hf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mre(t,e=!1){const r=Pn(t),n=await r.getIdToken(e),i=OC(n);pt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Fp(Ej(i.auth_time)),issuedAtTime:Fp(Ej(i.iat)),expirationTime:Fp(Ej(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ej(t){return Number(t)*1e3}function OC(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Kv("JWT malformed, contained fewer than 3 sections"),null;try{const i=Rq(r);return i?JSON.parse(i):(Kv("Failed to decode base64 JWT payload"),null)}catch(i){return Kv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function j4(t){const e=OC(t);return pt(e,"internal-error"),pt(typeof e.exp<"u","internal-error"),pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof oo&&pre(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function pre({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fp(this.lastLoginAt),this.creationTime=Fp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(t){var m;const e=t.auth,r=await t.getIdToken(),n=await cg(t,jx(e,{idToken:r}));pt(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?Qq(i.providerUserInfo):[],o=vre(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new EE(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function yre(t){const e=Pn(t);await Nx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vre(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Qq(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xre(t,e){const r=await Kq(t,{},async()=>{const n=yy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Yq(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&bd(t.emulatorConfig.host)&&(c.credentials="include"),Gq.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function bre(t,e){return Hf(t,"POST","/v2/accounts:revokeToken",IC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt(typeof e.idToken<"u","internal-error"),pt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):j4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){pt(e.length!==0,"internal-error");const r=j4(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await xre(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,o=new Fh;return n&&(pt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(pt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fh,this.toJSON())}_performRefresh(){return Vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t,e){pt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ia{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new gre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new EE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await cg(this,this.stsTokenManager.getToken(this.auth,e));return pt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return mre(this,e)}reload(){return yre(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ia({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Nx(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ps(this.auth.app))return Promise.reject(Gu(this.auth));const e=await this.getIdToken();return await cg(this,fre(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,d=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:v,providerData:w,stsTokenManager:x}=r;pt(m&&x,e,"internal-error");const g=Fh.fromJSON(this.name,x);pt(typeof m=="string",e,"internal-error"),Kl(n,e.name),Kl(i,e.name),pt(typeof p=="boolean",e,"internal-error"),pt(typeof v=="boolean",e,"internal-error"),Kl(s,e.name),Kl(o,e.name),Kl(l,e.name),Kl(c,e.name),Kl(d,e.name),Kl(f,e.name);const _=new ia({uid:m,auth:e,email:i,emailVerified:p,displayName:n,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:g,createdAt:d,lastLoginAt:f});return w&&Array.isArray(w)&&(_.providerData=w.map(T=>({...T}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,r,n=!1){const i=new Fh;i.updateFromServerResponse(r);const s=new ia({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Nx(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];pt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Qq(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Fh;l.updateFromIdToken(n);const c=new ia({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new EE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new Map;function Bo(t){el(t instanceof Function,"Expected a class definition");let e=N4.get(t);return e?(el(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,N4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Xq.type="NONE";const S4=Xq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e,r){return`firebase:${t}:${e}:${r}`}class Vh{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Yv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Yv("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await jx(this.auth,{idToken:e}).catch(()=>{});return r?ia._fromGetAccountInfoResponse(this.auth,r,e):null}return ia._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Vh(Bo(S4),e,n);const i=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Bo(S4);const o=Yv(n,e.config.apiKey,e.name);let l=null;for(const d of r)try{const f=await d._get(o);if(f){let m;if(typeof f=="string"){const p=await jx(e,{idToken:f}).catch(()=>{});if(!p)break;m=await ia._fromGetAccountInfoResponse(e,p,f)}else m=ia._fromJSON(e,f);d!==s&&(l=m),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Vh(s,e,n):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(r.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new Vh(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nU(e))return"Blackberry";if(iU(e))return"Webos";if(Zq(e))return"Safari";if((e.includes("chrome/")||eU(e))&&!e.includes("edge/"))return"Chrome";if(rU(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Jq(t=di()){return/firefox\//i.test(t)}function Zq(t=di()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eU(t=di()){return/crios\//i.test(t)}function tU(t=di()){return/iemobile/i.test(t)}function rU(t=di()){return/android/i.test(t)}function nU(t=di()){return/blackberry/i.test(t)}function iU(t=di()){return/webos/i.test(t)}function RC(t=di()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wre(t=di()){var e;return RC(t)&&!!((e=window.navigator)!=null&&e.standalone)}function _re(){return Lee()&&document.documentMode===10}function sU(t=di()){return RC(t)||rU(t)||iU(t)||nU(t)||/windows phone/i.test(t)||tU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t,e=[]){let r;switch(t){case"Browser":r=T4(di());break;case"Worker":r=`${T4(di())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${wd}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nre(t,e={}){return Hf(t,"GET","/v2/passwordPolicy",IC(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sre=6;class Tre{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??Sre,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ere{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E4(this),this.idTokenSubscription=new E4(this),this.beforeStateQueue=new jre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Bo(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await Vh.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await jx(this,{idToken:e}),n=await ia._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Ps(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Nx(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ore()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ps(this.app))return Promise.reject(Gu(this));const r=e?Pn(e):null;return r&&pt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ps(this.app)?Promise.reject(Gu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ps(this.app)?Promise.reject(Gu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nre(this),r=new Tre(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gy("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await bre(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Bo(e)||this._popupRedirectResolver;pt(r,this,"argument-error"),this.redirectPersistenceManager=await Vh.create(this,[Bo(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&nre(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function fw(t){return Pn(t)}let E4=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wee(r=>this.observer=r)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pre(t){MC=t}function Are(t){return MC.loadJS(t)}function Cre(){return MC.gapiScript}function kre(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ire(t,e){const r=hw(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(td(s,e??{}))return i;eo(i,"already-initialized")}return r.initialize({options:e})}function Ore(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Bo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Rre(t,e,r){const n=fw(t);pt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=oU(e),{host:o,port:l}=Mre(e),c=l===null?"":`:${l}`,d={url:`${s}//${o}${c}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){pt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),pt(td(d,n.config.emulator)&&td(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,bd(o)?(NC(`${s}//${o}${c}`),SC("Auth",!0)):Dre()}function oU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Mre(t){const e=oU(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:P4(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:P4(o)}}}function P4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Dre(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Vo("not implemented")}_getIdTokenResponse(e){return Vo("not implemented")}_linkToIdToken(e,r){return Vo("not implemented")}_getReauthenticationResolver(e){return Vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(t,e){return dre(t,"POST","/v1/accounts:signInWithIdp",IC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lre="http://localhost";class nd extends lU{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new nd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):eo("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const o=new nd(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Bh(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Bh(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Bh(e,r)}buildRequest(){const e={requestUri:Lre,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=yy(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends DC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends xy{constructor(){super("facebook.com")}static credential(e){return nd._fromParams({providerId:rc.PROVIDER_ID,signInMethod:rc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rc.credentialFromTaggedObject(e)}static credentialFromError(e){return rc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rc.credential(e.oauthAccessToken)}catch{return null}}}rc.FACEBOOK_SIGN_IN_METHOD="facebook.com";rc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends xy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return nd._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return $o.credential(r,n)}catch{return null}}}$o.GOOGLE_SIGN_IN_METHOD="google.com";$o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends xy{constructor(){super("github.com")}static credential(e){return nd._fromParams({providerId:nc.PROVIDER_ID,signInMethod:nc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nc.credentialFromTaggedObject(e)}static credentialFromError(e){return nc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nc.credential(e.oauthAccessToken)}catch{return null}}}nc.GITHUB_SIGN_IN_METHOD="github.com";nc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends xy{constructor(){super("twitter.com")}static credential(e,r){return nd._fromParams({providerId:ic.PROVIDER_ID,signInMethod:ic.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ic.credentialFromTaggedObject(e)}static credentialFromError(e){return ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return ic.credential(r,n)}catch{return null}}}ic.TWITTER_SIGN_IN_METHOD="twitter.com";ic.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ia._fromIdTokenResponse(e,n,i),o=A4(n);return new of({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=A4(n);return new of({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function A4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx extends oo{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Sx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Sx(e,r,n,i)}}function cU(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Sx._fromErrorAndOperation(t,s,e,n):s})}async function $re(t,e,r=!1){const n=await cg(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return of._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fre(t,e,r=!1){const{auth:n}=t;if(Ps(n.app))return Promise.reject(Gu(n));const i="reauthenticate";try{const s=await cg(t,cU(n,i,e,t),r);pt(s.idToken,n,"internal-error");const o=OC(s.idToken);pt(o,n,"internal-error");const{sub:l}=o;return pt(t.uid===l,n,"user-mismatch"),of._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&eo(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vre(t,e,r=!1){if(Ps(t.app))return Promise.reject(Gu(t));const n="signIn",i=await cU(t,n,e),s=await of._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}function Bre(t,e,r,n){return Pn(t).onIdTokenChanged(e,r,n)}function qre(t,e,r){return Pn(t).beforeAuthStateChanged(e,r)}function uU(t,e,r,n){return Pn(t).onAuthStateChanged(e,r,n)}function Ure(t){return Pn(t).signOut()}const Tx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Tx,"1"),this.storage.removeItem(Tx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zre=1e3,Wre=10;class hU extends dU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);_re()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Wre):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},zre)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}hU.type="LOCAL";const Hre=hU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU extends dU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}fU.type="SESSION";const mU=fU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gre(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new mw(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async d=>d(r.origin,s)),c=await Gre(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const d=LC("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(){return window}function Yre(t){za().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(){return typeof za().WorkerGlobalScope<"u"&&typeof za().importScripts=="function"}async function Qre(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xre(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Jre(){return pU()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="firebaseLocalStorageDb",Zre=1,Ex="firebaseLocalStorage",yU="fbase_key";class by{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function pw(t,e){return t.transaction([Ex],e?"readwrite":"readonly").objectStore(Ex)}function ene(){const t=indexedDB.deleteDatabase(gU);return new by(t).toPromise()}function PE(){const t=indexedDB.open(gU,Zre);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Ex,{keyPath:yU})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Ex)?e(n):(n.close(),await ene(),e(await PE()))})})}async function C4(t,e,r){const n=pw(t,!0).put({[yU]:e,value:r});return new by(n).toPromise()}async function tne(t,e){const r=pw(t,!1).get(e),n=await new by(r).toPromise();return n===void 0?null:n.value}function k4(t,e){const r=pw(t,!0).delete(e);return new by(r).toPromise()}const rne=800,nne=3;class vU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await PE(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>nne)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mw._getInstance(Jre()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await Qre(),!this.activeServiceWorker)return;this.sender=new Kre(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xre()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await PE();return await C4(e,Tx,"1"),await k4(e,Tx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>C4(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>tne(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>k4(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=pw(i,!1).getAll();return new by(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vU.type="LOCAL";const ine=vU;new vy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t,e){return e?Bo(e):(pt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C extends lU{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bh(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Bh(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Bh(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function sne(t){return Vre(t.auth,new $C(t),t.bypassAuthState)}function ane(t){const{auth:e,user:r}=t;return pt(r,e,"internal-error"),Fre(r,new $C(t),t.bypassAuthState)}async function one(t){const{auth:e,user:r}=t;return pt(r,e,"internal-error"),$re(r,new $C(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sne;case"linkViaPopup":case"linkViaRedirect":return one;case"reauthViaPopup":case"reauthViaRedirect":return ane;default:eo(this.auth,"internal-error")}}resolve(e){el(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){el(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lne=new vy(2e3,1e4);async function cne(t,e,r){if(Ps(t.app))return Promise.reject(oa(t,"operation-not-supported-in-this-environment"));const n=fw(t);ire(t,e,DC);const i=xU(n,r);return new Ru(n,"signInViaPopup",e,i).executeNotNull()}class Ru extends bU{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Ru.currentPopupAction&&Ru.currentPopupAction.cancel(),Ru.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pt(e,this.auth,"internal-error"),e}async onExecution(){el(this.filter.length===1,"Popup operations only handle one event");const e=LC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(oa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(oa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ru.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lne.get())};e()}}Ru.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const une="pendingRedirect",Qv=new Map;class dne extends bU{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Qv.get(this.auth._key());if(!e){try{const n=await hne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Qv.set(this.auth._key(),e)}return this.bypassAuthState||Qv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hne(t,e){const r=pne(e),n=mne(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function fne(t,e){Qv.set(t._key(),e)}function mne(t){return Bo(t._redirectPersistence)}function pne(t){return Yv(une,t.config.apiKey,t.name)}async function gne(t,e,r=!1){if(Ps(t.app))return Promise.reject(Gu(t));const n=fw(t),i=xU(n,e),o=await new dne(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yne=600*1e3;class vne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xne(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!wU(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(oa(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yne&&this.cachedEventUids.clear(),this.cachedEventUids.has(I4(e))}saveEventToCache(e){this.cachedEventUids.add(I4(e)),this.lastProcessedEventTime=Date.now()}}function I4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wU({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wU(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bne(t,e={}){return Hf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_ne=/^https?/;async function jne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bne(t);for(const r of e)try{if(Nne(r))return}catch{}eo(t,"unauthorized-domain")}function Nne(t){const e=TE(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!_ne.test(r))return!1;if(wne.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sne=new vy(3e4,6e4);function O4(){const t=za().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Tne(t){return new Promise((e,r)=>{var i,s,o;function n(){O4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O4(),r(oa(t,"network-request-failed"))},timeout:Sne.get()})}if((s=(i=za().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=za().gapi)!=null&&o.load)n();else{const l=kre("iframefcb");return za()[l]=()=>{gapi.load?n():r(oa(t,"network-request-failed"))},Are(`${Cre()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Xv=null,e})}let Xv=null;function Ene(t){return Xv=Xv||Tne(t),Xv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pne=new vy(5e3,15e3),Ane="__/auth/iframe",Cne="emulator/auth/iframe",kne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ine=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function One(t){const e=t.config;pt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?kC(e,Cne):`https://${t.config.authDomain}/${Ane}`,n={apiKey:e.apiKey,appName:t.name,v:wd},i=Ine.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${yy(n).slice(1)}`}async function Rne(t){const e=await Ene(t),r=za().gapi;return pt(r,t,"internal-error"),e.open({where:document.body,url:One(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kne,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=oa(t,"network-request-failed"),l=za().setTimeout(()=>{s(o)},Pne.get());function c(){za().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dne=500,Lne=600,$ne="_blank",Fne="http://localhost";class R4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vne(t,e,r,n=Dne,i=Lne){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...Mne,width:n.toString(),height:i.toString(),top:s,left:o},d=di().toLowerCase();r&&(l=eU(d)?$ne:r),Jq(d)&&(e=e||Fne,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[v,w])=>`${p}${v}=${w},`,"");if(wre(d)&&l!=="_self")return Bne(e||"",l),new R4(null);const m=window.open(e||"",l,f);pt(m,t,"popup-blocked");try{m.focus()}catch{}return new R4(m)}function Bne(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qne="__/auth/handler",Une="emulator/auth/handler",zne=encodeURIComponent("fac");async function M4(t,e,r,n,i,s){pt(t.config.authDomain,t,"auth-domain-config-required"),pt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:wd,eventId:i};if(e instanceof DC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zee(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof xy){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${zne}=${encodeURIComponent(c)}`:"";return`${Wne(t)}?${yy(l).slice(1)}${d}`}function Wne({config:t}){return t.emulator?kC(t,Une):`https://${t.authDomain}/${qne}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj="webStorageSupport";class Hne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mU,this._completeRedirectFn=gne,this._overrideRedirectResult=fne}async _openPopup(e,r,n,i){var o;el((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await M4(e,r,n,TE(),i);return Vne(e,s,LC())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await M4(e,r,n,TE(),i);return Yre(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(el(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Rne(e),n=new vne(e);return r.register("authEvent",i=>(pt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Pj,{type:Pj},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Pj];s!==void 0&&r(!!s),eo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=jne(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return sU()||Zq()||RC()}}const Gne=Hne;var D4="@firebase/auth",L4="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qne(t){rd(new Sc("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;pt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aU(t)},d=new Ere(n,i,s,c);return Ore(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),rd(new Sc("auth-internal",e=>{const r=fw(e.getProvider("auth").getImmediate());return(n=>new Kne(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ua(D4,L4,Yne(t)),Ua(D4,L4,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne=300,Jne=$q("authIdTokenMaxAge")||Xne;let $4=null;const Zne=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Jne)return;const i=r==null?void 0:r.token;$4!==i&&($4=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Vp(t=PC()){const e=hw(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Ire(t,{popupRedirectResolver:Gne,persistence:[ine,Hre,mU]}),n=$q("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=Zne(s.toString());qre(r,o,()=>o(r.currentUser)),Bre(r,l=>o(l))}}const i=Mq("auth");return i&&Rre(r,`http://${i}`),r}function eie(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Pre({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=oa("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",eie().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qne("Browser");var tie="firebase",rie="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ua(tie,rie,"app");var F4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bc,_U;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,N){function O(){}O.prototype=N.prototype,E.F=N.prototype,E.prototype=new O,E.prototype.constructor=E,E.D=function(D,L,$){for(var F=Array(arguments.length-2),G=2;G<arguments.length;G++)F[G-2]=arguments[G];return N.prototype[L].apply(D,F)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,N,O){O||(O=0);const D=Array(16);if(typeof N=="string")for(var L=0;L<16;++L)D[L]=N.charCodeAt(O++)|N.charCodeAt(O++)<<8|N.charCodeAt(O++)<<16|N.charCodeAt(O++)<<24;else for(L=0;L<16;++L)D[L]=N[O++]|N[O++]<<8|N[O++]<<16|N[O++]<<24;N=E.g[0],O=E.g[1],L=E.g[2];let $=E.g[3],F;F=N+($^O&(L^$))+D[0]+3614090360&4294967295,N=O+(F<<7&4294967295|F>>>25),F=$+(L^N&(O^L))+D[1]+3905402710&4294967295,$=N+(F<<12&4294967295|F>>>20),F=L+(O^$&(N^O))+D[2]+606105819&4294967295,L=$+(F<<17&4294967295|F>>>15),F=O+(N^L&($^N))+D[3]+3250441966&4294967295,O=L+(F<<22&4294967295|F>>>10),F=N+($^O&(L^$))+D[4]+4118548399&4294967295,N=O+(F<<7&4294967295|F>>>25),F=$+(L^N&(O^L))+D[5]+1200080426&4294967295,$=N+(F<<12&4294967295|F>>>20),F=L+(O^$&(N^O))+D[6]+2821735955&4294967295,L=$+(F<<17&4294967295|F>>>15),F=O+(N^L&($^N))+D[7]+4249261313&4294967295,O=L+(F<<22&4294967295|F>>>10),F=N+($^O&(L^$))+D[8]+1770035416&4294967295,N=O+(F<<7&4294967295|F>>>25),F=$+(L^N&(O^L))+D[9]+2336552879&4294967295,$=N+(F<<12&4294967295|F>>>20),F=L+(O^$&(N^O))+D[10]+4294925233&4294967295,L=$+(F<<17&4294967295|F>>>15),F=O+(N^L&($^N))+D[11]+2304563134&4294967295,O=L+(F<<22&4294967295|F>>>10),F=N+($^O&(L^$))+D[12]+1804603682&4294967295,N=O+(F<<7&4294967295|F>>>25),F=$+(L^N&(O^L))+D[13]+4254626195&4294967295,$=N+(F<<12&4294967295|F>>>20),F=L+(O^$&(N^O))+D[14]+2792965006&4294967295,L=$+(F<<17&4294967295|F>>>15),F=O+(N^L&($^N))+D[15]+1236535329&4294967295,O=L+(F<<22&4294967295|F>>>10),F=N+(L^$&(O^L))+D[1]+4129170786&4294967295,N=O+(F<<5&4294967295|F>>>27),F=$+(O^L&(N^O))+D[6]+3225465664&4294967295,$=N+(F<<9&4294967295|F>>>23),F=L+(N^O&($^N))+D[11]+643717713&4294967295,L=$+(F<<14&4294967295|F>>>18),F=O+($^N&(L^$))+D[0]+3921069994&4294967295,O=L+(F<<20&4294967295|F>>>12),F=N+(L^$&(O^L))+D[5]+3593408605&4294967295,N=O+(F<<5&4294967295|F>>>27),F=$+(O^L&(N^O))+D[10]+38016083&4294967295,$=N+(F<<9&4294967295|F>>>23),F=L+(N^O&($^N))+D[15]+3634488961&4294967295,L=$+(F<<14&4294967295|F>>>18),F=O+($^N&(L^$))+D[4]+3889429448&4294967295,O=L+(F<<20&4294967295|F>>>12),F=N+(L^$&(O^L))+D[9]+568446438&4294967295,N=O+(F<<5&4294967295|F>>>27),F=$+(O^L&(N^O))+D[14]+3275163606&4294967295,$=N+(F<<9&4294967295|F>>>23),F=L+(N^O&($^N))+D[3]+4107603335&4294967295,L=$+(F<<14&4294967295|F>>>18),F=O+($^N&(L^$))+D[8]+1163531501&4294967295,O=L+(F<<20&4294967295|F>>>12),F=N+(L^$&(O^L))+D[13]+2850285829&4294967295,N=O+(F<<5&4294967295|F>>>27),F=$+(O^L&(N^O))+D[2]+4243563512&4294967295,$=N+(F<<9&4294967295|F>>>23),F=L+(N^O&($^N))+D[7]+1735328473&4294967295,L=$+(F<<14&4294967295|F>>>18),F=O+($^N&(L^$))+D[12]+2368359562&4294967295,O=L+(F<<20&4294967295|F>>>12),F=N+(O^L^$)+D[5]+4294588738&4294967295,N=O+(F<<4&4294967295|F>>>28),F=$+(N^O^L)+D[8]+2272392833&4294967295,$=N+(F<<11&4294967295|F>>>21),F=L+($^N^O)+D[11]+1839030562&4294967295,L=$+(F<<16&4294967295|F>>>16),F=O+(L^$^N)+D[14]+4259657740&4294967295,O=L+(F<<23&4294967295|F>>>9),F=N+(O^L^$)+D[1]+2763975236&4294967295,N=O+(F<<4&4294967295|F>>>28),F=$+(N^O^L)+D[4]+1272893353&4294967295,$=N+(F<<11&4294967295|F>>>21),F=L+($^N^O)+D[7]+4139469664&4294967295,L=$+(F<<16&4294967295|F>>>16),F=O+(L^$^N)+D[10]+3200236656&4294967295,O=L+(F<<23&4294967295|F>>>9),F=N+(O^L^$)+D[13]+681279174&4294967295,N=O+(F<<4&4294967295|F>>>28),F=$+(N^O^L)+D[0]+3936430074&4294967295,$=N+(F<<11&4294967295|F>>>21),F=L+($^N^O)+D[3]+3572445317&4294967295,L=$+(F<<16&4294967295|F>>>16),F=O+(L^$^N)+D[6]+76029189&4294967295,O=L+(F<<23&4294967295|F>>>9),F=N+(O^L^$)+D[9]+3654602809&4294967295,N=O+(F<<4&4294967295|F>>>28),F=$+(N^O^L)+D[12]+3873151461&4294967295,$=N+(F<<11&4294967295|F>>>21),F=L+($^N^O)+D[15]+530742520&4294967295,L=$+(F<<16&4294967295|F>>>16),F=O+(L^$^N)+D[2]+3299628645&4294967295,O=L+(F<<23&4294967295|F>>>9),F=N+(L^(O|~$))+D[0]+4096336452&4294967295,N=O+(F<<6&4294967295|F>>>26),F=$+(O^(N|~L))+D[7]+1126891415&4294967295,$=N+(F<<10&4294967295|F>>>22),F=L+(N^($|~O))+D[14]+2878612391&4294967295,L=$+(F<<15&4294967295|F>>>17),F=O+($^(L|~N))+D[5]+4237533241&4294967295,O=L+(F<<21&4294967295|F>>>11),F=N+(L^(O|~$))+D[12]+1700485571&4294967295,N=O+(F<<6&4294967295|F>>>26),F=$+(O^(N|~L))+D[3]+2399980690&4294967295,$=N+(F<<10&4294967295|F>>>22),F=L+(N^($|~O))+D[10]+4293915773&4294967295,L=$+(F<<15&4294967295|F>>>17),F=O+($^(L|~N))+D[1]+2240044497&4294967295,O=L+(F<<21&4294967295|F>>>11),F=N+(L^(O|~$))+D[8]+1873313359&4294967295,N=O+(F<<6&4294967295|F>>>26),F=$+(O^(N|~L))+D[15]+4264355552&4294967295,$=N+(F<<10&4294967295|F>>>22),F=L+(N^($|~O))+D[6]+2734768916&4294967295,L=$+(F<<15&4294967295|F>>>17),F=O+($^(L|~N))+D[13]+1309151649&4294967295,O=L+(F<<21&4294967295|F>>>11),F=N+(L^(O|~$))+D[4]+4149444226&4294967295,N=O+(F<<6&4294967295|F>>>26),F=$+(O^(N|~L))+D[11]+3174756917&4294967295,$=N+(F<<10&4294967295|F>>>22),F=L+(N^($|~O))+D[2]+718787259&4294967295,L=$+(F<<15&4294967295|F>>>17),F=O+($^(L|~N))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+N&4294967295,E.g[1]=E.g[1]+(L+(F<<21&4294967295|F>>>11))&4294967295,E.g[2]=E.g[2]+L&4294967295,E.g[3]=E.g[3]+$&4294967295}n.prototype.v=function(E,N){N===void 0&&(N=E.length);const O=N-this.blockSize,D=this.C;let L=this.h,$=0;for(;$<N;){if(L==0)for(;$<=O;)i(this,E,$),$+=this.blockSize;if(typeof E=="string"){for(;$<N;)if(D[L++]=E.charCodeAt($++),L==this.blockSize){i(this,D),L=0;break}}else for(;$<N;)if(D[L++]=E[$++],L==this.blockSize){i(this,D),L=0;break}}this.h=L,this.o+=N},n.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var N=1;N<E.length-8;++N)E[N]=0;N=this.o*8;for(var O=E.length-8;O<E.length;++O)E[O]=N&255,N/=256;for(this.v(E),E=Array(16),N=0,O=0;O<4;++O)for(let D=0;D<32;D+=8)E[N++]=this.g[O]>>>D&255;return E};function s(E,N){var O=l;return Object.prototype.hasOwnProperty.call(O,E)?O[E]:O[E]=N(E)}function o(E,N){this.h=N;const O=[];let D=!0;for(let L=E.length-1;L>=0;L--){const $=E[L]|0;D&&$==N||(O[L]=$,D=!1)}this.g=O}var l={};function c(E){return-128<=E&&E<128?s(E,function(N){return new o([N|0],N<0?-1:0)}):new o([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return m;if(E<0)return g(d(-E));const N=[];let O=1;for(let D=0;E>=O;D++)N[D]=E/O|0,O*=4294967296;return new o(N,0)}function f(E,N){if(E.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(E.charAt(0)=="-")return g(f(E.substring(1),N));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=d(Math.pow(N,8));let D=m;for(let $=0;$<E.length;$+=8){var L=Math.min(8,E.length-$);const F=parseInt(E.substring($,$+L),N);L<8?(L=d(Math.pow(N,L)),D=D.j(L).add(d(F))):(D=D.j(O),D=D.add(d(F)))}return D}var m=c(0),p=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-g(this).m();let E=0,N=1;for(let O=0;O<this.g.length;O++){const D=this.i(O);E+=(D>=0?D:4294967296+D)*N,N*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(w(this))return"0";if(x(this))return"-"+g(this).toString(E);const N=d(Math.pow(E,6));var O=this;let D="";for(;;){const L=I(O,N).g;O=_(O,L.j(N));let $=((O.g.length>0?O.g[0]:O.h)>>>0).toString(E);if(O=L,w(O))return $+D;for(;$.length<6;)$="0"+$;D=$+D}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function w(E){if(E.h!=0)return!1;for(let N=0;N<E.g.length;N++)if(E.g[N]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=_(this,E),x(E)?-1:w(E)?0:1};function g(E){const N=E.g.length,O=[];for(let D=0;D<N;D++)O[D]=~E.g[D];return new o(O,~E.h).add(p)}t.abs=function(){return x(this)?g(this):this},t.add=function(E){const N=Math.max(this.g.length,E.g.length),O=[];let D=0;for(let L=0;L<=N;L++){let $=D+(this.i(L)&65535)+(E.i(L)&65535),F=($>>>16)+(this.i(L)>>>16)+(E.i(L)>>>16);D=F>>>16,$&=65535,F&=65535,O[L]=F<<16|$}return new o(O,O[O.length-1]&-2147483648?-1:0)};function _(E,N){return E.add(g(N))}t.j=function(E){if(w(this)||w(E))return m;if(x(this))return x(E)?g(this).j(g(E)):g(g(this).j(E));if(x(E))return g(this.j(g(E)));if(this.l(v)<0&&E.l(v)<0)return d(this.m()*E.m());const N=this.g.length+E.g.length,O=[];for(var D=0;D<2*N;D++)O[D]=0;for(D=0;D<this.g.length;D++)for(let L=0;L<E.g.length;L++){const $=this.i(D)>>>16,F=this.i(D)&65535,G=E.i(L)>>>16,Y=E.i(L)&65535;O[2*D+2*L]+=F*Y,T(O,2*D+2*L),O[2*D+2*L+1]+=$*Y,T(O,2*D+2*L+1),O[2*D+2*L+1]+=F*G,T(O,2*D+2*L+1),O[2*D+2*L+2]+=$*G,T(O,2*D+2*L+2)}for(E=0;E<N;E++)O[E]=O[2*E+1]<<16|O[2*E];for(E=N;E<2*N;E++)O[E]=0;return new o(O,0)};function T(E,N){for(;(E[N]&65535)!=E[N];)E[N+1]+=E[N]>>>16,E[N]&=65535,N++}function P(E,N){this.g=E,this.h=N}function I(E,N){if(w(N))throw Error("division by zero");if(w(E))return new P(m,m);if(x(E))return N=I(g(E),N),new P(g(N.g),g(N.h));if(x(N))return N=I(E,g(N)),new P(g(N.g),N.h);if(E.g.length>30){if(x(E)||x(N))throw Error("slowDivide_ only works with positive integers.");for(var O=p,D=N;D.l(E)<=0;)O=A(O),D=A(D);var L=C(O,1),$=C(D,1);for(D=C(D,2),O=C(O,2);!w(D);){var F=$.add(D);F.l(E)<=0&&(L=L.add(O),$=F),D=C(D,1),O=C(O,1)}return N=_(E,L.j(N)),new P(L,N)}for(L=m;E.l(N)>=0;){for(O=Math.max(1,Math.floor(E.m()/N.m())),D=Math.ceil(Math.log(O)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),$=d(O),F=$.j(N);x(F)||F.l(E)>0;)O-=D,$=d(O),F=$.j(N);w($)&&($=p),L=L.add($),E=_(E,F)}return new P(L,E)}t.B=function(E){return I(this,E).h},t.and=function(E){const N=Math.max(this.g.length,E.g.length),O=[];for(let D=0;D<N;D++)O[D]=this.i(D)&E.i(D);return new o(O,this.h&E.h)},t.or=function(E){const N=Math.max(this.g.length,E.g.length),O=[];for(let D=0;D<N;D++)O[D]=this.i(D)|E.i(D);return new o(O,this.h|E.h)},t.xor=function(E){const N=Math.max(this.g.length,E.g.length),O=[];for(let D=0;D<N;D++)O[D]=this.i(D)^E.i(D);return new o(O,this.h^E.h)};function A(E){const N=E.g.length+1,O=[];for(let D=0;D<N;D++)O[D]=E.i(D)<<1|E.i(D-1)>>>31;return new o(O,E.h)}function C(E,N){const O=N>>5;N%=32;const D=E.g.length-O,L=[];for(let $=0;$<D;$++)L[$]=N>0?E.i($+O)>>>N|E.i($+O+1)<<32-N:E.i($+O);return new o(L,E.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,_U=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,bc=o}).apply(typeof F4<"u"?F4:typeof self<"u"?self:typeof window<"u"?window:{});var fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jU,Tp,NU,Jv,AE,SU,TU,EU;(function(){var t,e=Object.defineProperty;function r(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof fv=="object"&&fv];for(var M=0;M<b.length;++M){var V=b[M];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var n=r(this);function i(b,M){if(M)e:{var V=n;b=b.split(".");for(var q=0;q<b.length-1;q++){var se=b[q];if(!(se in V))break e;V=V[se]}b=b[b.length-1],q=V[b],M=M(q),M!=q&&M!=null&&e(V,b,{configurable:!0,writable:!0,value:M})}}i("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(b){return b||function(M){var V=[],q;for(q in M)Object.prototype.hasOwnProperty.call(M,q)&&V.push([q,M[q]]);return V}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(b){var M=typeof b;return M=="object"&&b!=null||M=="function"}function c(b,M,V){return b.call.apply(b.bind,arguments)}function d(b,M,V){return d=c,d.apply(null,arguments)}function f(b,M){var V=Array.prototype.slice.call(arguments,1);return function(){var q=V.slice();return q.push.apply(q,arguments),b.apply(this,q)}}function m(b,M){function V(){}V.prototype=M.prototype,b.Z=M.prototype,b.prototype=new V,b.prototype.constructor=b,b.Ob=function(q,se,de){for(var Me=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)Me[xt-2]=arguments[xt];return M.prototype[se].apply(q,Me)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function v(b){const M=b.length;if(M>0){const V=Array(M);for(let q=0;q<M;q++)V[q]=b[q];return V}return[]}function w(b,M){for(let q=1;q<arguments.length;q++){const se=arguments[q];var V=typeof se;if(V=V!="object"?V:se?Array.isArray(se)?"array":V:"null",V=="array"||V=="object"&&typeof se.length=="number"){V=b.length||0;const de=se.length||0;b.length=V+de;for(let Me=0;Me<de;Me++)b[V+Me]=se[Me]}else b.push(se)}}class x{constructor(M,V){this.i=M,this.j=V,this.h=0,this.g=null}get(){let M;return this.h>0?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function g(b){o.setTimeout(()=>{throw b},0)}function _(){var b=E;let M=null;return b.g&&(M=b.g,b.g=b.g.next,b.g||(b.h=null),M.next=null),M}class T{constructor(){this.h=this.g=null}add(M,V){const q=P.get();q.set(M,V),this.h?this.h.next=q:this.g=q,this.h=q}}var P=new x(()=>new I,b=>b.reset());class I{constructor(){this.next=this.g=this.h=null}set(M,V){this.h=M,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let A,C=!1,E=new T,N=()=>{const b=Promise.resolve(void 0);A=()=>{b.then(O)}};function O(){for(var b;b=_();){try{b.h.call(b.g)}catch(V){g(V)}var M=P;M.j(b),M.h<100&&(M.h++,b.next=M.g,M.g=b)}C=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(b,M){this.type=b,this.g=this.target=M,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var b=!1,M=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const V=()=>{};o.addEventListener("test",V,M),o.removeEventListener("test",V,M)}catch{}return b})();function F(b){return/^[\s\xa0]*$/.test(b)}function G(b,M){L.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,M)}m(G,L),G.prototype.init=function(b,M){const V=this.type=b.type,q=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=M,M=b.relatedTarget,M||(V=="mouseover"?M=b.fromElement:V=="mouseout"&&(M=b.toElement)),this.relatedTarget=M,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var Y="closure_listenable_"+(Math.random()*1e6|0),K=0;function X(b,M,V,q,se){this.listener=b,this.proxy=null,this.src=M,this.type=V,this.capture=!!q,this.ha=se,this.key=++K,this.da=this.fa=!1}function U(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Q(b,M,V){for(const q in b)M.call(V,b[q],q,b)}function ne(b,M){for(const V in b)M.call(void 0,b[V],V,b)}function W(b){const M={};for(const V in b)M[V]=b[V];return M}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(b,M){let V,q;for(let se=1;se<arguments.length;se++){q=arguments[se];for(V in q)b[V]=q[V];for(let de=0;de<Z.length;de++)V=Z[de],Object.prototype.hasOwnProperty.call(q,V)&&(b[V]=q[V])}}function le(b){this.src=b,this.g={},this.h=0}le.prototype.add=function(b,M,V,q,se){const de=b.toString();b=this.g[de],b||(b=this.g[de]=[],this.h++);const Me=ge(b,M,q,se);return Me>-1?(M=b[Me],V||(M.fa=!1)):(M=new X(M,this.src,de,!!q,se),M.fa=V,b.push(M)),M};function be(b,M){const V=M.type;if(V in b.g){var q=b.g[V],se=Array.prototype.indexOf.call(q,M,void 0),de;(de=se>=0)&&Array.prototype.splice.call(q,se,1),de&&(U(M),b.g[V].length==0&&(delete b.g[V],b.h--))}}function ge(b,M,V,q){for(let se=0;se<b.length;++se){const de=b[se];if(!de.da&&de.listener==M&&de.capture==!!V&&de.ha==q)return se}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Ie={};function fe(b,M,V,q,se){if(Array.isArray(M)){for(let de=0;de<M.length;de++)fe(b,M[de],V,q,se);return null}return V=Hr(V),b&&b[Y]?b.J(M,V,l(q)?!!q.capture:!1,se):Pe(b,M,V,!1,q,se)}function Pe(b,M,V,q,se,de){if(!M)throw Error("Invalid event type");const Me=l(se)?!!se.capture:!!se;let xt=It(b);if(xt||(b[me]=xt=new le(b)),V=xt.add(M,V,q,Me,de),V.proxy)return V;if(q=Re(),V.proxy=q,q.src=b,q.listener=V,b.addEventListener)$||(se=Me),se===void 0&&(se=!1),b.addEventListener(M.toString(),q,se);else if(b.attachEvent)b.attachEvent(et(M.toString()),q);else if(b.addListener&&b.removeListener)b.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Re(){function b(V){return M.call(b.src,b.listener,V)}const M=kt;return b}function he(b,M,V,q,se){if(Array.isArray(M))for(var de=0;de<M.length;de++)he(b,M[de],V,q,se);else q=l(q)?!!q.capture:!!q,V=Hr(V),b&&b[Y]?(b=b.i,de=String(M).toString(),de in b.g&&(M=b.g[de],V=ge(M,V,q,se),V>-1&&(U(M[V]),Array.prototype.splice.call(M,V,1),M.length==0&&(delete b.g[de],b.h--)))):b&&(b=It(b))&&(M=b.g[M.toString()],b=-1,M&&(b=ge(M,V,q,se)),(V=b>-1?M[b]:null)&&ot(V))}function ot(b){if(typeof b!="number"&&b&&!b.da){var M=b.src;if(M&&M[Y])be(M.i,b);else{var V=b.type,q=b.proxy;M.removeEventListener?M.removeEventListener(V,q,b.capture):M.detachEvent?M.detachEvent(et(V),q):M.addListener&&M.removeListener&&M.removeListener(q),(V=It(M))?(be(V,b),V.h==0&&(V.src=null,M[me]=null)):U(b)}}}function et(b){return b in Ie?Ie[b]:Ie[b]="on"+b}function kt(b,M){if(b.da)b=!0;else{M=new G(M,this);const V=b.listener,q=b.ha||b.src;b.fa&&ot(b),b=V.call(q,M)}return b}function It(b){return b=b[me],b instanceof le?b:null}var Gt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hr(b){return typeof b=="function"?b:(b[Gt]||(b[Gt]=function(M){return b.handleEvent(M)}),b[Gt])}function Ot(){D.call(this),this.i=new le(this),this.M=this,this.G=null}m(Ot,D),Ot.prototype[Y]=!0,Ot.prototype.removeEventListener=function(b,M,V,q){he(this,b,M,V,q)};function tr(b,M){var V,q=b.G;if(q)for(V=[];q;q=q.G)V.push(q);if(b=b.M,q=M.type||M,typeof M=="string")M=new L(M,b);else if(M instanceof L)M.target=M.target||b;else{var se=M;M=new L(q,b),ue(M,se)}se=!0;let de,Me;if(V)for(Me=V.length-1;Me>=0;Me--)de=M.g=V[Me],se=Ar(de,q,!0,M)&&se;if(de=M.g=b,se=Ar(de,q,!0,M)&&se,se=Ar(de,q,!1,M)&&se,V)for(Me=0;Me<V.length;Me++)de=M.g=V[Me],se=Ar(de,q,!1,M)&&se}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var b=this.i;for(const M in b.g){const V=b.g[M];for(let q=0;q<V.length;q++)U(V[q]);delete b.g[M],b.h--}}this.G=null},Ot.prototype.J=function(b,M,V,q){return this.i.add(String(b),M,!1,V,q)},Ot.prototype.K=function(b,M,V,q){return this.i.add(String(b),M,!0,V,q)};function Ar(b,M,V,q){if(M=b.i.g[String(M)],!M)return!0;M=M.concat();let se=!0;for(let de=0;de<M.length;++de){const Me=M[de];if(Me&&!Me.da&&Me.capture==V){const xt=Me.listener,Gr=Me.ha||Me.src;Me.fa&&be(b.i,Me),se=xt.call(Gr,q)!==!1&&se}}return se&&!q.defaultPrevented}function bn(b,M){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=d(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(M)>2147483647?-1:o.setTimeout(b,M||0)}function fi(b){b.g=bn(()=>{b.g=null,b.i&&(b.i=!1,fi(b))},b.l);const M=b.h;b.h=null,b.m.apply(null,M)}class hs extends D{constructor(M,V){super(),this.m=M,this.l=V,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:fi(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(b){D.call(this),this.h=b,this.g={}}m(kn,D);var Bs=[];function qs(b){Q(b.g,function(M,V){this.g.hasOwnProperty(V)&&ot(M)},b),b.g={}}kn.prototype.N=function(){kn.Z.N.call(this),qs(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pi=o.JSON.stringify,Ae=o.JSON.parse,ve=class{stringify(b){return o.JSON.stringify(b,void 0)}parse(b){return o.JSON.parse(b,void 0)}};function De(){}function st(){}var Be={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gt(){L.call(this,"d")}m(gt,L);function jt(){L.call(this,"c")}m(jt,L);var _t={},dr=null;function In(){return dr=dr||new Ot}_t.Ia="serverreachability";function po(b){L.call(this,_t.Ia,b)}m(po,L);function fs(b){const M=In();tr(M,new po(M))}_t.STAT_EVENT="statevent";function ms(b,M){L.call(this,_t.STAT_EVENT,b),this.stat=M}m(ms,L);function Br(b){const M=In();tr(M,new ms(M,b))}_t.Ja="timingevent";function _m(b,M){L.call(this,_t.Ja,b),this.size=M}m(_m,L);function Nl(b,M){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){b()},M)}function Sl(){this.g=!0}Sl.prototype.ua=function(){this.g=!1};function Zy(b,M,V,q,se,de){b.info(function(){if(b.g)if(de){var Me="",xt=de.split("&");for(let or=0;or<xt.length;or++){var Gr=xt[or].split("=");if(Gr.length>1){const Zr=Gr[0];Gr=Gr[1];const Xi=Zr.split("_");Me=Xi.length>=2&&Xi[1]=="type"?Me+(Zr+"="+Gr+"&"):Me+(Zr+"=redacted&")}}}else Me=null;else Me=de;return"XMLHTTP REQ ("+q+") [attempt "+se+"]: "+M+`
`+V+`
`+Me})}function e0(b,M,V,q,se,de,Me){b.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+se+"]: "+M+`
`+V+`
`+de+" "+Me})}function va(b,M,V,q){b.info(function(){return"XMLHTTP TEXT ("+M+"): "+Xc(b,V)+(q?" "+q:"")})}function t0(b,M){b.info(function(){return"TIMEOUT: "+M})}Sl.prototype.info=function(){};function Xc(b,M){if(!b.g)return M;if(!M)return null;try{const de=JSON.parse(M);if(de){for(b=0;b<de.length;b++)if(Array.isArray(de[b])){var V=de[b];if(!(V.length<2)){var q=V[1];if(Array.isArray(q)&&!(q.length<1)){var se=q[0];if(se!="noop"&&se!="stop"&&se!="close")for(let Me=1;Me<q.length;Me++)q[Me]=""}}}}return Pi(de)}catch{return M}}var Tl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},El={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},r0;function go(){}m(go,De),go.prototype.g=function(){return new XMLHttpRequest},r0=new go;function xa(b){return encodeURIComponent(String(b))}function Od(b){var M=1;b=b.split(":");const V=[];for(;M>0&&b.length;)V.push(b.shift()),M--;return b.length&&V.push(b.join(":")),V}function ps(b,M,V,q){this.j=b,this.i=M,this.l=V,this.S=q||1,this.V=new kn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new n0}function n0(){this.i=null,this.g="",this.h=!1}var i0={},jm={};function Us(b,M,V){b.M=1,b.A=vo(gs(M)),b.u=V,b.R=!0,Nm(b,null)}function Nm(b,M){b.F=Date.now(),Jc(b),b.B=gs(b.A);var V=b.B,q=b.S;Array.isArray(q)||(q=[String(q)]),Rm(V.i,"t",q),b.C=0,V=b.j.L,b.h=new n0,b.g=m0(b.j,V?M:null,!b.u),b.P>0&&(b.O=new hs(d(b.Y,b,b.g),b.P)),M=b.V,V=b.g,q=b.ba;var se="readystatechange";Array.isArray(se)||(se&&(Bs[0]=se.toString()),se=Bs);for(let de=0;de<se.length;de++){const Me=fe(V,se[de],q||M.handleEvent,!1,M.h||M);if(!Me)break;M.g[Me.key]=Me}M=b.J?W(b.J):{},b.u?(b.v||(b.v="POST"),M["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,M)):(b.v="GET",b.g.ea(b.B,b.v,null,M)),fs(),Zy(b.i,b.v,b.B,b.l,b.S,b.u)}ps.prototype.ba=function(b){b=b.target;const M=this.O;M&&Ta(b)==3?M.j():this.Y(b)},ps.prototype.Y=function(b){try{if(b==this.g)e:{const xt=Ta(this.g),Gr=this.g.ya(),or=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||h0(this.g)))){this.K||xt!=4||Gr==7||(Gr==8||or<=0?fs(3):fs(2)),Rd(this);var M=this.g.ca();this.X=M;var V=s0(this);if(this.o=M==200,e0(this.i,this.v,this.B,this.l,this.S,xt,M),this.o){if(this.U&&!this.L){t:{if(this.g){var q,se=this.g;if((q=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(q)){var de=q;break t}}de=null}if(b=de)va(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_r(this,b);else{this.o=!1,this.m=3,Br(12),yo(this),Zc(this);break e}}if(this.R){b=!0;let Zr;for(;!this.K&&this.C<V.length;)if(Zr=o0(this,V),Zr==jm){xt==4&&(this.m=4,Br(14),b=!1),va(this.i,this.l,null,"[Incomplete Response]");break}else if(Zr==i0){this.m=4,Br(15),va(this.i,this.l,V,"[Invalid Chunk]"),b=!1;break}else va(this.i,this.l,Zr,null),_r(this,Zr);if(a0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||V.length!=0||this.h.h||(this.m=1,Br(16),b=!1),this.o=this.o&&b,!b)va(this.i,this.l,V,"[Invalid Chunked Response]"),yo(this),Zc(this);else if(V.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),lu(Me),Me.P=!0,Br(11))}}else va(this.i,this.l,V,null),_r(this,V);xt==4&&yo(this),this.o&&!this.K&&(xt==4?zd(this.j,this):(this.o=!1,Jc(this)))}else Dm(this.g),M==400&&V.indexOf("Unknown SID")>0?(this.m=3,Br(12)):(this.m=0,Br(13)),yo(this),Zc(this)}}}catch{}finally{}};function s0(b){if(!a0(b))return b.g.la();const M=h0(b.g);if(M==="")return"";let V="";const q=M.length,se=Ta(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return yo(b),Zc(b),"";b.h.i=new o.TextDecoder}for(let de=0;de<q;de++)b.h.h=!0,V+=b.h.i.decode(M[de],{stream:!(se&&de==q-1)});return M.length=0,b.h.g+=V,b.C=0,b.h.g}function a0(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function o0(b,M){var V=b.C,q=M.indexOf(`
`,V);return q==-1?jm:(V=Number(M.substring(V,q)),isNaN(V)?i0:(q+=1,q+V>M.length?jm:(M=M.slice(q,q+V),b.C=q+V,M)))}ps.prototype.cancel=function(){this.K=!0,yo(this)};function Jc(b){b.T=Date.now()+b.H,Sm(b,b.H)}function Sm(b,M){if(b.D!=null)throw Error("WatchDog timer not null");b.D=Nl(d(b.aa,b),M)}function Rd(b){b.D&&(o.clearTimeout(b.D),b.D=null)}ps.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(t0(this.i,this.B),this.M!=2&&(fs(),Br(17)),yo(this),this.m=2,Zc(this)):Sm(this,this.T-b)};function Zc(b){b.j.I==0||b.K||zd(b.j,b)}function yo(b){Rd(b);var M=b.O;M&&typeof M.dispose=="function"&&M.dispose(),b.O=null,qs(b.V),b.g&&(M=b.g,b.g=null,M.abort(),M.dispose())}function _r(b,M){try{var V=b.j;if(V.I!=0&&(V.g==b||Em(V.h,b))){if(!b.L&&Em(V.h,b)&&V.I==3){try{var q=V.Ba.g.parse(M)}catch{q=null}if(Array.isArray(q)&&q.length==3){var se=q;if(se[0]==0){e:if(!V.v){if(V.g)if(V.g.F+3e3<b.F)Ud(V),Yi(V);else break e;Aa(V),Br(18)}}else V.xa=se[1],0<V.xa-V.K&&se[2]<37500&&V.F&&V.A==0&&!V.C&&(V.C=Nl(d(V.Va,V),6e3));eu(V.h)<=1&&V.ta&&(V.ta=void 0)}else Qi(V,11)}else if((b.L||V.g==b)&&Ud(V),!F(M))for(se=V.Ba.g.parse(M),M=0;M<se.length;M++){let or=se[M];const Zr=or[0];if(!(Zr<=V.K))if(V.K=Zr,or=or[1],V.I==2)if(or[0]=="c"){V.M=or[1],V.ba=or[2];const Xi=or[3];Xi!=null&&(V.ka=Xi,V.j.info("VER="+V.ka));const jo=or[4];jo!=null&&(V.za=jo,V.j.info("SVER="+V.za));const Ca=or[5];Ca!=null&&typeof Ca=="number"&&Ca>0&&(q=1.5*Ca,V.O=q,V.j.info("backChannelRequestTimeoutMs_="+q)),q=V;const ka=b.g;if(ka){const Gd=ka.g?ka.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gd){var de=q.h;de.g||Gd.indexOf("spdy")==-1&&Gd.indexOf("quic")==-1&&Gd.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(Dd(de,de.h),de.h=null))}if(q.G){const Fm=ka.g?ka.g.getResponseHeader("X-HTTP-Session-Id"):null;Fm&&(q.wa=Fm,Zt(q.J,q.G,Fm))}}V.I=3,V.l&&V.l.ra(),V.aa&&(V.T=Date.now()-b.F,V.j.info("Handshake RTT: "+V.T+"ms")),q=V;var Me=b;if(q.na=$m(q,q.L?q.ba:null,q.W),Me.L){tu(q.h,Me);var xt=Me,Gr=q.O;Gr&&(xt.H=Gr),xt.D&&(Rd(xt),Jc(xt)),q.g=Me}else Yn(q);V.i.length>0&&_o(V)}else or[0]!="stop"&&or[0]!="close"||Qi(V,7);else V.I==3&&(or[0]=="stop"||or[0]=="close"?or[0]=="stop"?Qi(V,7):Bd(V):or[0]!="noop"&&V.l&&V.l.qa(or),V.A=0)}}fs(4)}catch{}}var G1=class{constructor(b,M){this.g=b,this.map=M}};function Md(b){this.l=b||10,o.PerformanceNavigationTiming?(b=o.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tm(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function eu(b){return b.h?1:b.g?b.g.size:0}function Em(b,M){return b.h?b.h==M:b.g?b.g.has(M):!1}function Dd(b,M){b.g?b.g.add(M):b.h=M}function tu(b,M){b.h&&b.h==M?b.h=null:b.g&&b.g.has(M)&&b.g.delete(M)}Md.prototype.cancel=function(){if(this.i=Hi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Hi(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let M=b.i;for(const V of b.g.values())M=M.concat(V.G);return M}return v(b.i)}var l0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gi(b,M){if(b){b=b.split("&");for(let V=0;V<b.length;V++){const q=b[V].indexOf("=");let se,de=null;q>=0?(se=b[V].substring(0,q),de=b[V].substring(q+1)):se=b[V],M(se,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function ba(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let M;b instanceof ba?(this.l=b.l,ru(this,b.j),this.o=b.o,this.g=b.g,wa(this,b.u),this.h=b.h,Pl(this,Mm(b.i)),this.m=b.m):b&&(M=String(b).match(l0))?(this.l=!1,ru(this,M[1]||"",!0),this.o=nu(M[2]||""),this.g=nu(M[3]||"",!0),wa(this,M[4]),this.h=nu(M[5]||"",!0),Pl(this,M[6]||"",!0),this.m=nu(M[7]||"")):(this.l=!1,this.i=new Ft(null,this.l))}ba.prototype.toString=function(){const b=[];var M=this.j;M&&b.push(iu(M,Am,!0),":");var V=this.g;return(V||M=="file")&&(b.push("//"),(M=this.o)&&b.push(iu(M,Am,!0),"@"),b.push(xa(V).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.u,V!=null&&b.push(":",String(V))),(V=this.h)&&(this.g&&V.charAt(0)!="/"&&b.push("/"),b.push(iu(V,V.charAt(0)=="/"?su:Cm,!0))),(V=this.i.toString())&&b.push("?",V),(V=this.m)&&b.push("#",iu(V,km)),b.join("")},ba.prototype.resolve=function(b){const M=gs(this);let V=!!b.j;V?ru(M,b.j):V=!!b.o,V?M.o=b.o:V=!!b.g,V?M.g=b.g:V=b.u!=null;var q=b.h;if(V)wa(M,b.u);else if(V=!!b.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var se=M.h.lastIndexOf("/");se!=-1&&(q=M.h.slice(0,se+1)+q)}if(se=q,se==".."||se==".")q="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){q=se.lastIndexOf("/",0)==0,se=se.split("/");const de=[];for(let Me=0;Me<se.length;){const xt=se[Me++];xt=="."?q&&Me==se.length&&de.push(""):xt==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),q&&Me==se.length&&de.push("")):(de.push(xt),q=!0)}q=de.join("/")}else q=se}return V?M.h=q:V=b.i.toString()!=="",V?Pl(M,Mm(b.i)):V=!!b.m,V&&(M.m=b.m),M};function gs(b){return new ba(b)}function ru(b,M,V){b.j=V?nu(M,!0):M,b.j&&(b.j=b.j.replace(/:$/,""))}function wa(b,M){if(M){if(M=Number(M),isNaN(M)||M<0)throw Error("Bad port number "+M);b.u=M}else b.u=null}function Pl(b,M,V){M instanceof Ft?(b.i=M,$d(b.i,b.l)):(V||(M=iu(M,K1)),b.i=new Ft(M,b.l))}function Zt(b,M,V){b.i.set(M,V)}function vo(b){return Zt(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function nu(b,M){return b?M?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function iu(b,M,V){return typeof b=="string"?(b=encodeURI(b).replace(M,Pm),V&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Pm(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Am=/[#\/\?@]/g,Cm=/[#\?:]/g,su=/[#\?]/g,K1=/[#\?@]/g,km=/#/g;function Ft(b,M){this.h=this.g=null,this.i=b||null,this.j=!!M}function _a(b){b.g||(b.g=new Map,b.h=0,b.i&&Gi(b.i,function(M,V){b.add(decodeURIComponent(M.replace(/\+/g," ")),V)}))}t=Ft.prototype,t.add=function(b,M){_a(this),this.i=null,b=ja(this,b);let V=this.g.get(b);return V||this.g.set(b,V=[]),V.push(M),this.h+=1,this};function Im(b,M){_a(b),M=ja(b,M),b.g.has(M)&&(b.i=null,b.h-=b.g.get(M).length,b.g.delete(M))}function Ld(b,M){return _a(b),M=ja(b,M),b.g.has(M)}t.forEach=function(b,M){_a(this),this.g.forEach(function(V,q){V.forEach(function(se){b.call(M,se,q,this)},this)},this)};function Om(b,M){_a(b);let V=[];if(typeof M=="string")Ld(b,M)&&(V=V.concat(b.g.get(ja(b,M))));else for(b=Array.from(b.g.values()),M=0;M<b.length;M++)V=V.concat(b[M]);return V}t.set=function(b,M){return _a(this),this.i=null,b=ja(this,b),Ld(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[M]),this.h+=1,this},t.get=function(b,M){return b?(b=Om(this,b),b.length>0?String(b[0]):M):M};function Rm(b,M,V){Im(b,M),V.length>0&&(b.i=null,b.g.set(ja(b,M),v(V)),b.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],M=Array.from(this.g.keys());for(let q=0;q<M.length;q++){var V=M[q];const se=xa(V);V=Om(this,V);for(let de=0;de<V.length;de++){let Me=se;V[de]!==""&&(Me+="="+xa(V[de])),b.push(Me)}}return this.i=b.join("&")};function Mm(b){const M=new Ft;return M.i=b.i,b.g&&(M.g=new Map(b.g),M.h=b.h),M}function ja(b,M){return M=String(M),b.j&&(M=M.toLowerCase()),M}function $d(b,M){M&&!b.j&&(_a(b),b.i=null,b.g.forEach(function(V,q){const se=q.toLowerCase();q!=se&&(Im(this,q),Rm(this,se,V))},b)),b.j=M}function Na(b,M){const V=new Sl;if(o.Image){const q=new Image;q.onload=f(On,V,"TestLoadImage: loaded",!0,M,q),q.onerror=f(On,V,"TestLoadImage: error",!1,M,q),q.onabort=f(On,V,"TestLoadImage: abort",!1,M,q),q.ontimeout=f(On,V,"TestLoadImage: timeout",!1,M,q),o.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=b}else M(!1)}function Sa(b,M){const V=new Sl,q=new AbortController,se=setTimeout(()=>{q.abort(),On(V,"TestPingServer: timeout",!1,M)},1e4);fetch(b,{signal:q.signal}).then(de=>{clearTimeout(se),de.ok?On(V,"TestPingServer: ok",!0,M):On(V,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(se),On(V,"TestPingServer: error",!1,M)})}function On(b,M,V,q,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),q(V)}catch{}}function au(){this.g=new ve}function xo(b){this.i=b.Sb||null,this.h=b.ab||!1}m(xo,De),xo.prototype.g=function(){return new Ki(this.i,this.h)};function Ki(b,M){Ot.call(this),this.H=b,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ki,Ot),t=Ki.prototype,t.open=function(b,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=M,this.readyState=1,zs(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const M={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(M.body=b),(this.H||o).fetch(new Request(this.D,M)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Al(this)),this.readyState=0},t.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;c0(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function c0(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}t.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var M=b.value?b.value:new Uint8Array(0);(M=this.B.decode(M,{stream:!b.done}))&&(this.response=this.responseText+=M)}b.done?Al(this):zs(this),this.readyState==3&&c0(this)}},t.Oa=function(b){this.g&&(this.response=this.responseText=b,Al(this))},t.Na=function(b){this.g&&(this.response=b,Al(this))},t.ga=function(){this.g&&Al(this)};function Al(b){b.readyState=4,b.l=null,b.j=null,b.B=null,zs(b)}t.setRequestHeader=function(b,M){this.A.append(b,M)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],M=this.h.entries();for(var V=M.next();!V.done;)V=V.value,b.push(V[0]+": "+V[1]),V=M.next();return b.join(`\r
`)};function zs(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function u0(b){let M="";return Q(b,function(V,q){M+=q,M+=":",M+=V,M+=`\r
`}),M}function Fd(b,M,V){e:{for(q in V){var q=!1;break e}q=!0}q||(V=u0(V),typeof b=="string"?V!=null&&xa(V):Zt(b,M,V))}function fr(b){Ot.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(fr,Ot);var d0=/^https?$/i,Y1=["POST","PUT"];t=fr.prototype,t.Fa=function(b){this.H=b},t.ea=function(b,M,V,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);M=M?M.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():r0.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(M,String(b),!0),this.B=!1}catch(de){Cl(this,de);return}if(b=V||"",V=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var se in q)V.set(se,q[se]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const de of q.keys())V.set(de,q.get(de));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(V.keys()).find(de=>de.toLowerCase()=="content-type"),se=o.FormData&&b instanceof o.FormData,!(Array.prototype.indexOf.call(Y1,M,void 0)>=0)||q||se||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Me]of V)this.g.setRequestHeader(de,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(de){Cl(this,de)}};function Cl(b,M){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=M,b.o=5,kl(b),wo(b)}function kl(b){b.A||(b.A=!0,tr(b,"complete"),tr(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,tr(this,"complete"),tr(this,"abort"),wo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wo(this,!0)),fr.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?bo(this):this.Xa())},t.Xa=function(){bo(this)};function bo(b){if(b.h&&typeof s<"u"){if(b.v&&Ta(b)==4)setTimeout(b.Ca.bind(b),0);else if(tr(b,"readystatechange"),Ta(b)==4){b.h=!1;try{const de=b.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var V;if(!(V=M)){var q;if(q=de===0){let Me=String(b.D).match(l0)[1]||null;!Me&&o.self&&o.self.location&&(Me=o.self.location.protocol.slice(0,-1)),q=!d0.test(Me?Me.toLowerCase():"")}V=q}if(V)tr(b,"complete"),tr(b,"success");else{b.o=6;try{var se=Ta(b)>2?b.g.statusText:""}catch{se=""}b.l=se+" ["+b.ca()+"]",kl(b)}}finally{wo(b)}}}}function wo(b,M){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const V=b.g;b.g=null,M||tr(b,"ready");try{V.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ta(b){return b.g?b.g.readyState:0}t.ca=function(){try{return Ta(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(b){if(this.g){var M=this.g.responseText;return b&&M.indexOf(b)==0&&(M=M.substring(b.length)),Ae(M)}};function h0(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Dm(b){const M={};b=(b.g&&Ta(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<b.length;q++){if(F(b[q]))continue;var V=Od(b[q]);const se=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const de=M[se]||[];M[se]=de,de.push(V)}ne(M,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(b,M,V){return V&&V.internalChannelParams&&V.internalChannelParams[b]||M}function Vd(b){this.za=0,this.i=[],this.j=new Sl,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ea("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ea("baseRetryDelayMs",5e3,b),this.Za=Ea("retryDelaySeedMs",1e4,b),this.Ta=Ea("forwardChannelMaxRetries",2,b),this.va=Ea("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new Md(b&&b.concurrentRequestLimit),this.Ba=new au,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Vd.prototype,t.ka=8,t.I=1,t.connect=function(b,M,V,q){Br(0),this.W=b,this.H=M||{},V&&q!==void 0&&(this.H.OSID=V,this.H.OAID=q),this.F=this.X,this.J=$m(this,null,this.W),_o(this)};function Bd(b){if(qd(b),b.I==3){var M=b.V++,V=gs(b.J);if(Zt(V,"SID",b.M),Zt(V,"RID",M),Zt(V,"TYPE","terminate"),Pa(b,V),M=new ps(b,b.j,M),M.M=2,M.A=vo(gs(V)),V=!1,o.navigator&&o.navigator.sendBeacon)try{V=o.navigator.sendBeacon(M.A.toString(),"")}catch{}!V&&o.Image&&(new Image().src=M.A,V=!0),V||(M.g=m0(M.j,null),M.g.ea(M.A)),M.F=Date.now(),Jc(M)}cu(b)}function Yi(b){b.g&&(lu(b),b.g.cancel(),b.g=null)}function qd(b){Yi(b),b.v&&(o.clearTimeout(b.v),b.v=null),Ud(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&o.clearTimeout(b.m),b.m=null)}function _o(b){if(!Tm(b.h)&&!b.m){b.m=!0;var M=b.Ea;A||N(),C||(A(),C=!0),E.add(M,b),b.D=0}}function f0(b,M){return eu(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=M.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=Nl(d(b.Ea,b,M),Wd(b,b.D)),b.D++,!0)}t.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const se=new ps(this,this.j,b);let de=this.o;if(this.U&&(de?(de=W(de),ue(de,this.U)):de=this.U),this.u!==null||this.R||(se.J=de,de=null),this.S)e:{for(var M=0,V=0;V<this.i.length;V++){t:{var q=this.i[V];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(M+=q,M>4096){M=V;break e}if(M===4096||V===this.i.length-1){M=V+1;break e}}M=1e3}else M=1e3;M=Lm(this,se,M),V=gs(this.J),Zt(V,"RID",b),Zt(V,"CVER",22),this.G&&Zt(V,"X-HTTP-Session-Id",this.G),Pa(this,V),de&&(this.R?M="headers="+xa(u0(de))+"&"+M:this.u&&Fd(V,this.u,de)),Dd(this.h,se),this.Ra&&Zt(V,"TYPE","init"),this.S?(Zt(V,"$req",M),Zt(V,"SID","null"),se.U=!0,Us(se,V,null)):Us(se,V,M),this.I=2}}else this.I==3&&(b?ou(this,b):this.i.length==0||Tm(this.h)||ou(this))};function ou(b,M){var V;M?V=M.l:V=b.V++;const q=gs(b.J);Zt(q,"SID",b.M),Zt(q,"RID",V),Zt(q,"AID",b.K),Pa(b,q),b.u&&b.o&&Fd(q,b.u,b.o),V=new ps(b,b.j,V,b.D+1),b.u===null&&(V.J=b.o),M&&(b.i=M.G.concat(b.i)),M=Lm(b,V,1e3),V.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),Dd(b.h,V),Us(V,q,M)}function Pa(b,M){b.H&&Q(b.H,function(V,q){Zt(M,q,V)}),b.l&&Q({},function(V,q){Zt(M,q,V)})}function Lm(b,M,V){V=Math.min(b.i.length,V);const q=b.l?d(b.l.Ka,b.l,b):null;e:{var se=b.i;let xt=-1;for(;;){const Gr=["count="+V];xt==-1?V>0?(xt=se[0].g,Gr.push("ofs="+xt)):xt=0:Gr.push("ofs="+xt);let or=!0;for(let Zr=0;Zr<V;Zr++){var de=se[Zr].g;const Xi=se[Zr].map;if(de-=xt,de<0)xt=Math.max(0,se[Zr].g-100),or=!1;else try{de="req"+de+"_"||"";try{var Me=Xi instanceof Map?Xi:Object.entries(Xi);for(const[jo,Ca]of Me){let ka=Ca;l(Ca)&&(ka=Pi(Ca)),Gr.push(de+jo+"="+encodeURIComponent(ka))}}catch(jo){throw Gr.push(de+"type="+encodeURIComponent("_badmap")),jo}}catch{q&&q(Xi)}}if(or){Me=Gr.join("&");break e}}Me=void 0}return b=b.i.splice(0,V),M.G=b,Me}function Yn(b){if(!b.g&&!b.v){b.Y=1;var M=b.Da;A||N(),C||(A(),C=!0),E.add(M,b),b.A=0}}function Aa(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=Nl(d(b.Da,b),Wd(b,b.A)),b.A++,!0)}t.Da=function(){if(this.v=null,Il(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=Nl(d(this.Wa,this),b)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Br(10),Yi(this),Il(this))};function lu(b){b.B!=null&&(o.clearTimeout(b.B),b.B=null)}function Il(b){b.g=new ps(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var M=gs(b.na);Zt(M,"RID","rpc"),Zt(M,"SID",b.M),Zt(M,"AID",b.K),Zt(M,"CI",b.F?"0":"1"),!b.F&&b.ia&&Zt(M,"TO",b.ia),Zt(M,"TYPE","xmlhttp"),Pa(b,M),b.u&&b.o&&Fd(M,b.u,b.o),b.O&&(b.g.H=b.O);var V=b.g;b=b.ba,V.M=1,V.A=vo(gs(M)),V.u=null,V.R=!0,Nm(V,b)}t.Va=function(){this.C!=null&&(this.C=null,Yi(this),Aa(this),Br(19))};function Ud(b){b.C!=null&&(o.clearTimeout(b.C),b.C=null)}function zd(b,M){var V=null;if(b.g==M){Ud(b),lu(b),b.g=null;var q=2}else if(Em(b.h,M))V=M.G,tu(b.h,M),q=1;else return;if(b.I!=0){if(M.o)if(q==1){V=M.u?M.u.length:0,M=Date.now()-M.F;var se=b.D;q=In(),tr(q,new _m(q,V)),_o(b)}else Yn(b);else if(se=M.m,se==3||se==0&&M.X>0||!(q==1&&f0(b,M)||q==2&&Aa(b)))switch(V&&V.length>0&&(M=b.h,M.i=M.i.concat(V)),se){case 1:Qi(b,5);break;case 4:Qi(b,10);break;case 3:Qi(b,6);break;default:Qi(b,2)}}}function Wd(b,M){let V=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(V*=2),V*M}function Qi(b,M){if(b.j.info("Error code "+M),M==2){var V=d(b.bb,b),q=b.Ua;const se=!q;q=new ba(q||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ru(q,"https"),vo(q),se?Na(q.toString(),V):Sa(q.toString(),V)}else Br(2);b.I=0,b.l&&b.l.pa(M),cu(b),qd(b)}t.bb=function(b){b?(this.j.info("Successfully pinged google.com"),Br(2)):(this.j.info("Failed to ping google.com"),Br(1))};function cu(b){if(b.I=0,b.ja=[],b.l){const M=Hi(b.h);(M.length!=0||b.i.length!=0)&&(w(b.ja,M),w(b.ja,b.i),b.h.i.length=0,v(b.i),b.i.length=0),b.l.oa()}}function $m(b,M,V){var q=V instanceof ba?gs(V):new ba(V);if(q.g!="")M&&(q.g=M+"."+q.g),wa(q,q.u);else{var se=o.location;q=se.protocol,M=M?M+"."+se.hostname:se.hostname,se=+se.port;const de=new ba(null);q&&ru(de,q),M&&(de.g=M),se&&wa(de,se),V&&(de.h=V),q=de}return V=b.G,M=b.wa,V&&M&&Zt(q,V,M),Zt(q,"VER",b.ka),Pa(b,q),q}function m0(b,M,V){if(M&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return M=b.Aa&&!b.ma?new fr(new xo({ab:V})):new fr(b.ma),M.Fa(b.L),M}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function p0(){}t=p0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Hd(){}Hd.prototype.g=function(b,M){return new Rn(b,M)};function Rn(b,M){Ot.call(this),this.g=new Vd(M),this.l=b,this.h=M&&M.messageUrlParams||null,b=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(b?b["X-WebChannel-Content-Type"]=M.messageContentType:b={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.sa&&(b?b["X-WebChannel-Client-Profile"]=M.sa:b={"X-WebChannel-Client-Profile":M.sa}),this.g.U=b,(b=M&&M.Qb)&&!F(b)&&(this.g.u=b),this.A=M&&M.supportsCrossDomainXhr||!1,this.v=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!F(M)&&(this.g.G=M,b=this.h,b!==null&&M in b&&(b=this.h,M in b&&delete b[M])),this.j=new Ol(this)}m(Rn,Ot),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Bd(this.g)},Rn.prototype.o=function(b){var M=this.g;if(typeof b=="string"){var V={};V.__data__=b,b=V}else this.v&&(V={},V.__data__=Pi(b),b=V);M.i.push(new G1(M.Ya++,b)),M.I==3&&_o(M)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Bd(this.g),delete this.g,Rn.Z.N.call(this)};function g0(b){gt.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var M=b.__sm__;if(M){e:{for(const V in M){b=V;break e}b=void 0}(this.i=b)&&(b=this.i,M=M!==null&&b in M?M[b]:void 0),this.data=M}else this.data=b}m(g0,gt);function y0(){jt.call(this),this.status=1}m(y0,jt);function Ol(b){this.g=b}m(Ol,p0),Ol.prototype.ra=function(){tr(this.g,"a")},Ol.prototype.qa=function(b){tr(this.g,new g0(b))},Ol.prototype.pa=function(b){tr(this.g,new y0)},Ol.prototype.oa=function(){tr(this.g,"b")},Hd.prototype.createWebChannel=Hd.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,EU=function(){return new Hd},TU=function(){return In()},SU=_t,AE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tl.NO_ERROR=0,Tl.TIMEOUT=8,Tl.HTTP_ERROR=6,Jv=Tl,El.COMPLETE="complete",NU=El,st.EventType=Be,Be.OPEN="a",Be.CLOSE="b",Be.ERROR="c",Be.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,Tp=st,fr.prototype.listenOnce=fr.prototype.K,fr.prototype.getLastError=fr.prototype.Ha,fr.prototype.getLastErrorCode=fr.prototype.ya,fr.prototype.getStatus=fr.prototype.ca,fr.prototype.getResponseJson=fr.prototype.La,fr.prototype.getResponseText=fr.prototype.la,fr.prototype.send=fr.prototype.ea,fr.prototype.setWithCredentials=fr.prototype.Fa,jU=fr}).apply(typeof fv<"u"?fv:typeof self<"u"?self:typeof window<"u"?window:{});const V4="@firebase/firestore",B4="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ri=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ri.UNAUTHENTICATED=new ri(null),ri.GOOGLE_CREDENTIALS=new ri("google-credentials-uid"),ri.FIRST_PARTY=new ri("first-party-uid"),ri.MOCK_USER=new ri("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new TC("@firebase/firestore");function Nh(){return id.logLevel}function Ve(t,...e){if(id.logLevel<=Rt.DEBUG){const r=e.map(FC);id.debug(`Firestore (${Gf}): ${t}`,...r)}}function tl(t,...e){if(id.logLevel<=Rt.ERROR){const r=e.map(FC);id.error(`Firestore (${Gf}): ${t}`,...r)}}function lf(t,...e){if(id.logLevel<=Rt.WARN){const r=e.map(FC);id.warn(`Firestore (${Gf}): ${t}`,...r)}}function FC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,PU(t,n,r)}function PU(t,e,r){let n=`FIRESTORE (${Gf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw tl(n),new Error(n)}function ar(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||PU(e,i,n)}function bt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends oo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(ri.UNAUTHENTICATED)))}shutdown(){}}class iie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class sie{constructor(e){this.t=e,this.currentUser=ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ar(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let s=new Go;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Go,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Go)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ar(typeof n.accessToken=="string",31837,{l:n}),new AU(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ar(e===null||typeof e=="string",2055,{h:e}),new ri(e)}}class aie{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=ri.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oie{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new aie(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(ri.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class q4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lie{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ps(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ar(this.o===void 0,3512);const n=s=>{s.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new q4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(ar(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new q4(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=cie(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function Mt(t,e){return t<e?-1:t>e?1:0}function CE(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),s=e.charAt(n);if(i!==s)return Aj(i)===Aj(s)?Mt(i,s):Aj(i)?1:-1}return Mt(t.length,e.length)}const uie=55296,die=57343;function Aj(t){const e=t.charCodeAt(0);return e>=uie&&e<=die}function cf(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="__name__";class La{constructor(e,r,n){r===void 0?r=0:r>e.length&&ct(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&ct(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return La.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof La?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=La.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return Mt(e.length,r.length)}static compareSegments(e,r){const n=La.isNumericId(e),i=La.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?La.extractNumericId(e).compare(La.extractNumericId(r)):CE(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bc.fromString(e.substring(4,e.length-2))}}class br extends La{construct(e,r,n){return new br(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Le(xe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new br(r)}static emptyPath(){return new br([])}}const hie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends La{construct(e,r,n){return new Un(e,r,n)}static isValidIdentifier(e){return hie.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U4}static keyField(){return new Un([U4])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Le(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Le(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Le(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(s(),i++)}if(s(),o)throw new Le(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(r)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.path=e}static fromPath(e){return new tt(br.fromString(e))}static fromName(e){return new tt(br.fromString(e).popFirst(5))}static empty(){return new tt(br.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&br.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return br.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new br(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t,e,r){if(!r)throw new Le(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fie(t,e,r,n){if(e===!0&&n===!0)throw new Le(xe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function z4(t){if(!tt.isDocumentKey(t))throw new Le(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function W4(t){if(tt.isDocumentKey(t))throw new Le(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kU(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ct(12329,{type:typeof t})}function ua(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=gw(t);throw new Le(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){const r={typeString:t};return e&&(r.value=e),r}function wy(t,e){if(!kU(t))throw new Le(xe.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new Le(xe.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=-62135596800,G4=1e6;class Er{static now(){return Er.fromMillis(Date.now())}static fromDate(e){return Er.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*G4);return new Er(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Le(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Le(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<H4)throw new Le(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G4}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Er._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wy(e,Er._jsonSchema))return new Er(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Er._jsonSchemaVersion="firestore/timestamp/1.0",Er._jsonSchema={type:an("string",Er._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Er(0,0))}static max(){return new yt(new Er(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=-1;function mie(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(n===1e9?new Er(r+1,0):new Er(r,n));return new Tc(i,tt.empty(),e)}function pie(t){return new Tc(t.readTime,t.key,ug)}class Tc{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Tc(yt.min(),tt.empty(),ug)}static max(){return new Tc(yt.max(),tt.empty(),ug)}}function gie(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=tt.comparator(t.documentKey,e.documentKey),r!==0?r:Mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==yie)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new we(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof we?r:we.resolve(r)}catch(r){return we.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):we.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):we.reject(r)}static resolve(e){return new we(((r,n)=>{r(e)}))}static reject(e){return new we(((r,n)=>{n(e)}))}static waitFor(e){return new we(((r,n)=>{let i=0,s=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++s,o&&s===i&&r()}),(c=>n(c)))})),o=!0,s===i&&r()}))}static or(e){let r=we.resolve(!1);for(const n of e)r=r.next((i=>i?we.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,s)=>{n.push(r.call(this,i,s))})),this.waitFor(n)}static mapArray(e,r){return new we(((n,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const d=c;r(e[d]).next((f=>{o[d]=f,++l,l===s&&n(o)}),(f=>i(f)))}}))}static doWhile(e,r){return new we(((n,i)=>{const s=()=>{e()===!0?r().next((()=>{s()}),i):n()};s()}))}}function xie(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Yf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yw.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=-1;function vw(t){return t==null}function Px(t){return t===0&&1/t==-1/0}function bie(t){return typeof t=="number"&&Number.isInteger(t)&&!Px(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="";function wie(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=K4(e)),e=_ie(t.get(r),e);return K4(e)}function _ie(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case IU:r+="";break;default:r+=s}}return r}function K4(t){return t+IU+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Bc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function OU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,r){this.comparator=e,this.root=r||Bn.EMPTY}insert(e,r){return new Vr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new Vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mv(this.root,e,this.comparator,!1)}getReverseIterator(){return new mv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mv(this.root,e,this.comparator,!0)}}class mv{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bn{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Bn.RED,this.left=i??Bn.EMPTY,this.right=s??Bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Bn(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Bn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ct(27949);return e+(this.isRed()?0:1)}}Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw ct(57766)}get value(){throw ct(16141)}get color(){throw ct(16727)}get left(){throw ct(29726)}get right(){throw ct(36894)}copy(e,r,n,i,s){return this}insert(e,r,n){return new Bn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.comparator=e,this.data=new Vr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Q4(this.data.getIterator())}getIteratorFrom(e){return new Q4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new gn(this.comparator);return r.data=e,r}}class Q4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new as([])}unionWith(e){let r=new gn(Un.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new as(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return cf(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new RU("Invalid base64 string: "+s):s}})(e);return new Kn(r)}static fromUint8Array(e){const r=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new Kn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const jie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ec(t){if(ar(!!t,39018),typeof t=="string"){let e=0;const r=jie.exec(t);if(ar(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Xr(t.seconds),nanos:Xr(t.nanos)}}function Xr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pc(t){return typeof t=="string"?Kn.fromBase64String(t):Kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="server_timestamp",DU="__type__",LU="__previous_value__",$U="__local_write_time__";function qC(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[DU])==null?void 0:n.stringValue)===MU}function xw(t){const e=t.mapValue.fields[LU];return qC(e)?xw(e):e}function dg(t){const e=Ec(t.mapValue.fields[$U].timestampValue);return new Er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{constructor(e,r,n,i,s,o,l,c,d,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const Ax="(default)";class hg{constructor(e,r){this.projectId=e,this.database=r||Ax}static empty(){return new hg("","")}get isDefaultDatabase(){return this.database===Ax}isEqual(e){return e instanceof hg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU="__type__",Sie="__max__",pv={mapValue:{}},VU="__vector__",Cx="value";function Ac(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qC(t)?4:Eie(t)?9007199254740991:Tie(t)?10:11:ct(28295,{value:t})}function to(t,e){if(t===e)return!0;const r=Ac(t);if(r!==Ac(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dg(t).isEqual(dg(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ec(i.timestampValue),l=Ec(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Pc(i.bytesValue).isEqual(Pc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Xr(i.geoPointValue.latitude)===Xr(s.geoPointValue.latitude)&&Xr(i.geoPointValue.longitude)===Xr(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Xr(i.integerValue)===Xr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xr(i.doubleValue),l=Xr(s.doubleValue);return o===l?Px(o)===Px(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return cf(t.arrayValue.values||[],e.arrayValue.values||[],to);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Y4(o)!==Y4(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!to(o[c],l[c])))return!1;return!0})(t,e);default:return ct(52216,{left:t})}}function fg(t,e){return(t.values||[]).find((r=>to(r,e)))!==void 0}function uf(t,e){if(t===e)return 0;const r=Ac(t),n=Ac(e);if(r!==n)return Mt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const l=Xr(s.integerValue||s.doubleValue),c=Xr(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return X4(t.timestampValue,e.timestampValue);case 4:return X4(dg(t),dg(e));case 5:return CE(t.stringValue,e.stringValue);case 6:return(function(s,o){const l=Pc(s),c=Pc(o);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const l=s.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=Mt(l[d],c[d]);if(f!==0)return f}return Mt(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const l=Mt(Xr(s.latitude),Xr(o.latitude));return l!==0?l:Mt(Xr(s.longitude),Xr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return J4(t.arrayValue,e.arrayValue);case 10:return(function(s,o){var p,v,w,x;const l=s.fields||{},c=o.fields||{},d=(p=l[Cx])==null?void 0:p.arrayValue,f=(v=c[Cx])==null?void 0:v.arrayValue,m=Mt(((w=d==null?void 0:d.values)==null?void 0:w.length)||0,((x=f==null?void 0:f.values)==null?void 0:x.length)||0);return m!==0?m:J4(d,f)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===pv.mapValue&&o===pv.mapValue)return 0;if(s===pv.mapValue)return 1;if(o===pv.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),d=o.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const p=CE(c[m],f[m]);if(p!==0)return p;const v=uf(l[c[m]],d[f[m]]);if(v!==0)return v}return Mt(c.length,f.length)})(t.mapValue,e.mapValue);default:throw ct(23264,{he:r})}}function X4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const r=Ec(t),n=Ec(e),i=Mt(r.seconds,n.seconds);return i!==0?i:Mt(r.nanos,n.nanos)}function J4(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=uf(r[i],n[i]);if(s)return s}return Mt(r.length,n.length)}function df(t){return kE(t)}function kE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Ec(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Pc(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return tt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=kE(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${kE(r.fields[o])}`;return i+"}"})(t.mapValue):ct(61005,{value:t})}function Zv(t){switch(Ac(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xw(t);return e?16+Zv(e):16;case 5:return 2*t.stringValue.length;case 6:return Pc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,s)=>i+Zv(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return Bc(n.fields,((s,o)=>{i+=s.length+Zv(o)})),i})(t.mapValue);default:throw ct(13486,{value:t})}}function Z4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function IE(t){return!!t&&"integerValue"in t}function UC(t){return!!t&&"arrayValue"in t}function e5(t){return!!t&&"nullValue"in t}function t5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ex(t){return!!t&&"mapValue"in t}function Tie(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[FU])==null?void 0:n.stringValue)===VU}function Bp(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bc(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Bp(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Bp(t.arrayValue.values[r]);return e}return{...t}}function Eie(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Sie}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.value=e}static empty(){return new Fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!ex(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bp(r)}setAll(e){let r=Un.emptyPath(),n={},i=[];e.forEach(((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=Bp(o):i.push(l.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());ex(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return to(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];ex(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Bc(r,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new Fi(Bp(this.value))}}function BU(t){const e=[];return Bc(t.fields,((r,n)=>{const i=new Un([r]);if(ex(n)){const s=BU(n.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new as(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,r,n,i,s,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ni(e,0,yt.min(),yt.min(),yt.min(),Fi.empty(),0)}static newFoundDocument(e,r,n,i){return new ni(e,1,r,yt.min(),n,i,0)}static newNoDocument(e,r){return new ni(e,2,r,yt.min(),yt.min(),Fi.empty(),0)}static newUnknownDocument(e,r){return new ni(e,3,r,yt.min(),yt.min(),Fi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,r){this.position=e,this.inclusive=r}}function r5(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?n=tt.comparator(tt.fromName(o.referenceValue),r.key):n=uf(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function n5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!to(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,r="asc"){this.field=e,this.dir=r}}function Pie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{}class sn extends qU{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Cie(e,r,n):r==="array-contains"?new Oie(e,n):r==="in"?new Rie(e,n):r==="not-in"?new Mie(e,n):r==="array-contains-any"?new Die(e,n):new sn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new kie(e,n):new Iie(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(uf(r,this.value)):r!==null&&Ac(this.value)===Ac(r)&&this.matchesComparison(uf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class da extends qU{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new da(e,r)}matches(e){return UU(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UU(t){return t.op==="and"}function zU(t){return Aie(t)&&UU(t)}function Aie(t){for(const e of t.filters)if(e instanceof da)return!1;return!0}function OE(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+df(t.value);if(zU(t))return t.filters.map((e=>OE(e))).join(",");{const e=t.filters.map((r=>OE(r))).join(",");return`${t.op}(${e})`}}function WU(t,e){return t instanceof sn?(function(n,i){return i instanceof sn&&n.op===i.op&&n.field.isEqual(i.field)&&to(n.value,i.value)})(t,e):t instanceof da?(function(n,i){return i instanceof da&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,o,l)=>s&&WU(o,i.filters[l])),!0):!1})(t,e):void ct(19439)}function HU(t){return t instanceof sn?(function(r){return`${r.field.canonicalString()} ${r.op} ${df(r.value)}`})(t):t instanceof da?(function(r){return r.op.toString()+" {"+r.getFilters().map(HU).join(" ,")+"}"})(t):"Filter"}class Cie extends sn{constructor(e,r,n){super(e,r,n),this.key=tt.fromName(n.referenceValue)}matches(e){const r=tt.comparator(e.key,this.key);return this.matchesComparison(r)}}class kie extends sn{constructor(e,r){super(e,"in",r),this.keys=GU("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class Iie extends sn{constructor(e,r){super(e,"not-in",r),this.keys=GU("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function GU(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map((n=>tt.fromName(n.referenceValue)))}class Oie extends sn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return UC(r)&&fg(r.arrayValue,this.value)}}class Rie extends sn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&fg(this.value.arrayValue,r)}}class Mie extends sn{constructor(e,r){super(e,"not-in",r)}matches(e){if(fg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!fg(this.value.arrayValue,r)}}class Die extends sn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!UC(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>fg(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lie{constructor(e,r=null,n=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function i5(t,e=null,r=[],n=[],i=null,s=null,o=null){return new Lie(t,e,r,n,i,s,o)}function zC(t){const e=bt(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>OE(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),vw(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>df(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>df(n))).join(",")),e.Te=r}return e.Te}function WC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Pie(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!WU(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n5(t.startAt,e.startAt)&&n5(t.endAt,e.endAt)}function RE(t){return tt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,r=null,n=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $ie(t,e,r,n,i,s,o,l){return new _y(t,e,r,n,i,s,o,l)}function HC(t){return new _y(t)}function s5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KU(t){return t.collectionGroup!==null}function qp(t){const e=bt(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new gn(Un.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ix(s,n))})),r.has(Un.keyField().canonicalString())||e.Ie.push(new Ix(Un.keyField(),n))}return e.Ie}function Wa(t){const e=bt(t);return e.Ee||(e.Ee=Fie(e,qp(t))),e.Ee}function Fie(t,e){if(t.limitType==="F")return i5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Ix(i.field,s)}));const r=t.endAt?new kx(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new kx(t.startAt.position,t.startAt.inclusive):null;return i5(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function ME(t,e){const r=t.filters.concat([e]);return new _y(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function DE(t,e,r){return new _y(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function bw(t,e){return WC(Wa(t),Wa(e))&&t.limitType===e.limitType}function YU(t){return`${zC(Wa(t))}|lt:${t.limitType}`}function Sh(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>HU(i))).join(", ")}]`),vw(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>df(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>df(i))).join(",")),`Target(${n})`})(Wa(t))}; limitType=${t.limitType})`}function ww(t,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):tt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,i){for(const s of qp(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,l,c){const d=r5(o,l,c);return o.inclusive?d<=0:d<0})(n.startAt,qp(n),i)||n.endAt&&!(function(o,l,c){const d=r5(o,l,c);return o.inclusive?d>=0:d>0})(n.endAt,qp(n),i))})(t,e)}function Vie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QU(t){return(e,r)=>{let n=!1;for(const i of qp(t)){const s=Bie(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function Bie(t,e,r){const n=t.field.isKeyField()?tt.comparator(e.key,r.key):(function(s,o,l){const c=o.data.field(s),d=l.data.field(s);return c!==null&&d!==null?uf(c,d):ct(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ct(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bc(this.inner,((r,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return OU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qie=new Vr(tt.comparator);function rl(){return qie}const XU=new Vr(tt.comparator);function Ep(...t){let e=XU;for(const r of t)e=e.insert(r.key,r);return e}function JU(t){let e=XU;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Mu(){return Up()}function ZU(){return Up()}function Up(){return new _d((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Uie=new Vr(tt.comparator),zie=new gn(tt.comparator);function Lt(...t){let e=zie;for(const r of t)e=e.add(r);return e}const Wie=new gn(Mt);function Hie(){return Wie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Px(e)?"-0":e}}function e9(t){return{integerValue:""+t}}function Gie(t,e){return bie(e)?e9(e):GC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this._=void 0}}function Kie(t,e,r){return t instanceof Ox?(function(i,s){const o={fields:{[DU]:{stringValue:MU},[$U]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&qC(s)&&(s=xw(s)),s&&(o.fields[LU]=s),{mapValue:o}})(r,e):t instanceof mg?r9(t,e):t instanceof pg?n9(t,e):(function(i,s){const o=t9(i,s),l=a5(o)+a5(i.Ae);return IE(o)&&IE(i.Ae)?e9(l):GC(i.serializer,l)})(t,e)}function Yie(t,e,r){return t instanceof mg?r9(t,e):t instanceof pg?n9(t,e):r}function t9(t,e){return t instanceof Rx?(function(n){return IE(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class Ox extends _w{}class mg extends _w{constructor(e){super(),this.elements=e}}function r9(t,e){const r=i9(e);for(const n of t.elements)r.some((i=>to(i,n)))||r.push(n);return{arrayValue:{values:r}}}class pg extends _w{constructor(e){super(),this.elements=e}}function n9(t,e){let r=i9(e);for(const n of t.elements)r=r.filter((i=>!to(i,n)));return{arrayValue:{values:r}}}class Rx extends _w{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function a5(t){return Xr(t.integerValue||t.doubleValue)}function i9(t){return UC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Qie(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof mg&&i instanceof mg||n instanceof pg&&i instanceof pg?cf(n.elements,i.elements,to):n instanceof Rx&&i instanceof Rx?to(n.Ae,i.Ae):n instanceof Ox&&i instanceof Ox})(t.transform,e.transform)}class Xie{constructor(e,r){this.version=e,this.transformResults=r}}class Rs{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Rs}static exists(e){return new Rs(void 0,e)}static updateTime(e){return new Rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tx(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jw{}function s9(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new KC(t.key,Rs.none()):new jy(t.key,t.data,Rs.none());{const r=t.data,n=Fi.empty();let i=new gn(Un.comparator);for(let s of e.fields)if(!i.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new qc(t.key,n,new as(i.toArray()),Rs.none())}}function Jie(t,e,r){t instanceof jy?(function(i,s,o){const l=i.value.clone(),c=l5(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,r):t instanceof qc?(function(i,s,o){if(!tx(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=l5(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(a9(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,r):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function zp(t,e,r,n){return t instanceof jy?(function(s,o,l,c){if(!tx(s.precondition,o))return l;const d=s.value.clone(),f=c5(s.fieldTransforms,c,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,r,n):t instanceof qc?(function(s,o,l,c){if(!tx(s.precondition,o))return l;const d=c5(s.fieldTransforms,c,o),f=o.data;return f.setAll(a9(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,r,n):(function(s,o,l){return tx(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,r)}function Zie(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=t9(n.transform,i||null);s!=null&&(r===null&&(r=Fi.empty()),r.set(n.field,s))}return r||null}function o5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&cf(n,i,((s,o)=>Qie(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jy extends jw{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qc extends jw{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function a9(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function l5(t,e,r){const n=new Map;ar(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);n.set(s.field,Yie(o,l,r[i]))}return n}function c5(t,e,r){const n=new Map;for(const i of t){const s=i.transform,o=r.data.field(i.field);n.set(i.field,Kie(s,o,e))}return n}class KC extends jw{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ese extends jw{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Jie(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=zp(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=zp(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=ZU();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=r.has(i.key)?null:l;const c=s9(o,l);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(yt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Lt())}isEqual(e){return this.batchId===e.batchId&&cf(this.mutations,e.mutations,((r,n)=>o5(r,n)))&&cf(this.baseMutations,e.baseMutations,((r,n)=>o5(r,n)))}}class YC{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ar(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return Uie})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new YC(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rse{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nse{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,qt;function ise(t){switch(t){case xe.OK:return ct(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return ct(15467,{code:t})}}function o9(t){if(t===void 0)return tl("GRPC error has no .code"),xe.UNKNOWN;switch(t){case tn.OK:return xe.OK;case tn.CANCELLED:return xe.CANCELLED;case tn.UNKNOWN:return xe.UNKNOWN;case tn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case tn.INTERNAL:return xe.INTERNAL;case tn.UNAVAILABLE:return xe.UNAVAILABLE;case tn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case tn.NOT_FOUND:return xe.NOT_FOUND;case tn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case tn.ABORTED:return xe.ABORTED;case tn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case tn.DATA_LOSS:return xe.DATA_LOSS;default:return ct(39323,{code:t})}}(qt=tn||(tn={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sse(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ase=new bc([4294967295,4294967295],0);function u5(t){const e=sse().encode(t),r=new _U;return r.update(e),new Uint8Array(r.digest())}function d5(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new bc([r,n],0),new bc([i,s],0)]}class QC{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Pp(`Invalid padding: ${r}`);if(n<0)throw new Pp(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Pp(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Pp(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=bc.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(bc.fromNumber(n)));return i.compare(ase)===1&&(i=new bc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=u5(e),[n,i]=d5(r);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new QC(s,i,r);return n.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const r=u5(e),[n,i]=d5(r);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Pp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Ny.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Nw(yt.min(),i,new Vr(Mt),rl(),Lt())}}class Ny{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Ny(n,r,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class l9{constructor(e,r){this.targetId=e,this.Ce=r}}class c9{constructor(e,r,n=Kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class h5{constructor(){this.ve=0,this.Fe=f5(),this.Me=Kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),r=Lt(),n=Lt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ct(38017,{changeType:s})}})),new Ny(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=f5()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ar(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ose{constructor(e){this.Ge=e,this.ze=new Map,this.je=rl(),this.Je=gv(),this.He=gv(),this.Ye=new Vr(Mt)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:ct(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const s=i.target;if(RE(s))if(n===0){const o=new tt(s.path);this.et(r,o,ni.newNoDocument(o,yt.min()))}else ar(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(r);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,d)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let o,l;try{o=Pc(n).toUint8Array()}catch(c){if(c instanceof RU)return lf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new QC(o,i,s)}catch(c){return lf(c instanceof Pp?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(r,s,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((s,o)=>{const l=this.ot(o);if(l){if(s.current&&RE(l.target)){const c=new tt(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,ni.newNoDocument(c,e))}s.Be&&(r.set(o,s.ke()),s.qe())}}));let n=Lt();this.He.forEach(((s,o)=>{let l=!0;o.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new Nw(e,r,this.Ye,this.je,n);return this.je=rl(),this.Je=gv(),this.He=gv(),this.Ye=new Vr(Mt),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new h5,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new gn(Mt),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new gn(Mt),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Ve("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h5),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function gv(){return new Vr(tt.comparator)}function f5(){return new Vr(tt.comparator)}const lse={asc:"ASCENDING",desc:"DESCENDING"},cse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},use={and:"AND",or:"OR"};class dse{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function LE(t,e){return t.useProto3Json||vw(e)?e:{value:e}}function Mx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hse(t,e){return Mx(t,e.toTimestamp())}function Ha(t){return ar(!!t,49232),yt.fromTimestamp((function(r){const n=Ec(r);return new Er(n.seconds,n.nanos)})(t))}function XC(t,e){return $E(t,e).canonicalString()}function $E(t,e){const r=(function(i){return new br(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function d9(t){const e=br.fromString(t);return ar(g9(e),10190,{key:e.toString()}),e}function FE(t,e){return XC(t.databaseId,e.path)}function Cj(t,e){const r=d9(e);if(r.get(1)!==t.databaseId.projectId)throw new Le(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Le(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new tt(f9(r))}function h9(t,e){return XC(t.databaseId,e)}function fse(t){const e=d9(t);return e.length===4?br.emptyPath():f9(e)}function VE(t){return new br(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function f9(t){return ar(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function m5(t,e,r){return{name:FE(t,e),fields:r.value.mapValue.fields}}function mse(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ct(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(ar(f===void 0||typeof f=="string",58123),Kn.fromBase64String(f||"")):(ar(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Kn.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const f=d.code===void 0?xe.UNKNOWN:o9(d.code);return new Le(f,d.message||"")})(o);r=new c9(n,i,s,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Cj(t,n.document.name),s=Ha(n.document.updateTime),o=n.document.createTime?Ha(n.document.createTime):yt.min(),l=new Fi({mapValue:{fields:n.document.fields}}),c=ni.newFoundDocument(i,s,o,l),d=n.targetIds||[],f=n.removedTargetIds||[];r=new rx(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Cj(t,n.document),s=n.readTime?Ha(n.readTime):yt.min(),o=ni.newNoDocument(i,s),l=n.removedTargetIds||[];r=new rx([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Cj(t,n.document),s=n.removedTargetIds||[];r=new rx([],s,i,null)}else{if(!("filter"in e))return ct(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new nse(i,s),l=n.targetId;r=new l9(l,o)}}return r}function pse(t,e){let r;if(e instanceof jy)r={update:m5(t,e.key,e.value)};else if(e instanceof KC)r={delete:FE(t,e.key)};else if(e instanceof qc)r={update:m5(t,e.key,e.data),updateMask:Nse(e.fieldMask)};else{if(!(e instanceof ese))return ct(16599,{Vt:e.type});r={verify:FE(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(s,o){const l=o.transform;if(l instanceof Ox)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof mg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof pg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Rx)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ct(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:hse(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ct(27497)})(t,e.precondition)),r}function gse(t,e){return t&&t.length>0?(ar(e!==void 0,14353),t.map((r=>(function(i,s){let o=i.updateTime?Ha(i.updateTime):Ha(s);return o.isEqual(yt.min())&&(o=Ha(s)),new Xie(o,i.transformResults||[])})(r,e)))):[]}function yse(t,e){return{documents:[h9(t,e.path)]}}function vse(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=h9(t,i);const s=(function(d){if(d.length!==0)return p9(da.create(d,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const o=(function(d){if(d.length!==0)return d.map((f=>(function(p){return{field:Th(p.field),direction:wse(p.dir)}})(f)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=LE(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:r,parent:i}}function xse(t){let e=fse(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ar(n===1,65062);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];r.where&&(s=(function(m){const p=m9(m);return p instanceof da&&zU(p)?p.getFilters():[p]})(r.where));let o=[];r.orderBy&&(o=(function(m){return m.map((p=>(function(w){return new Ix(Eh(w.field),(function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(p)))})(r.orderBy));let l=null;r.limit&&(l=(function(m){let p;return p=typeof m=="object"?m.value:m,vw(p)?null:p})(r.limit));let c=null;r.startAt&&(c=(function(m){const p=!!m.before,v=m.values||[];return new kx(v,p)})(r.startAt));let d=null;return r.endAt&&(d=(function(m){const p=!m.before,v=m.values||[];return new kx(v,p)})(r.endAt)),$ie(e,i,o,s,l,"F",c,d)}function bse(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function m9(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Eh(r.unaryFilter.field);return sn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Eh(r.unaryFilter.field);return sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Eh(r.unaryFilter.field);return sn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Eh(r.unaryFilter.field);return sn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ct(61313);default:return ct(60726)}})(t):t.fieldFilter!==void 0?(function(r){return sn.create(Eh(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ct(58110);default:return ct(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return da.create(r.compositeFilter.filters.map((n=>m9(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ct(1026)}})(r.compositeFilter.op))})(t):ct(30097,{filter:t})}function wse(t){return lse[t]}function _se(t){return cse[t]}function jse(t){return use[t]}function Th(t){return{fieldPath:t.canonicalString()}}function Eh(t){return Un.fromServerFormat(t.fieldPath)}function p9(t){return t instanceof sn?(function(r){if(r.op==="=="){if(t5(r.value))return{unaryFilter:{field:Th(r.field),op:"IS_NAN"}};if(e5(r.value))return{unaryFilter:{field:Th(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(t5(r.value))return{unaryFilter:{field:Th(r.field),op:"IS_NOT_NAN"}};if(e5(r.value))return{unaryFilter:{field:Th(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Th(r.field),op:_se(r.op),value:r.value}}})(t):t instanceof da?(function(r){const n=r.getFilters().map((i=>p9(i)));return n.length===1?n[0]:{compositeFilter:{op:jse(r.op),filters:n}}})(t):ct(54877,{filter:t})}function Nse(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function g9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,r,n,i,s=yt.min(),o=yt.min(),l=Kn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new pc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new pc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sse{constructor(e){this.yt=e}}function Tse(t){const e=xse({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?DE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{constructor(){this.Cn=new Pse}addToCollectionParentIndex(e,r){return this.Cn.add(r),we.resolve()}getCollectionParents(e,r){return we.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return we.resolve()}deleteFieldIndex(e,r){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,r){return we.resolve()}getDocumentsMatchingTarget(e,r){return we.resolve(null)}getIndexType(e,r){return we.resolve(0)}getFieldIndexes(e,r){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,r){return we.resolve(Tc.min())}getMinOffsetFromCollectionGroup(e,r){return we.resolve(Tc.min())}updateCollectionGroup(e,r,n){return we.resolve()}updateIndexEntries(e,r){return we.resolve()}}class Pse{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new gn(br.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new gn(br.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y9=41943040;class $i{static withCacheSize(e){return new $i(e,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i.DEFAULT_COLLECTION_PERCENTILE=10,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$i.DEFAULT=new $i(y9,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$i.DISABLED=new $i(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new hf(0)}static cr(){return new hf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5="LruGarbageCollector",Ase=1048576;function y5([t,e],[r,n]){const i=Mt(t,r);return i===0?Mt(e,n):i}class Cse{constructor(e){this.Ir=e,this.buffer=new gn(y5),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();y5(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class kse{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ve(g5,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Yf(r)?Ve(g5,"Ignoring IndexedDB error during garbage collection: ",r):await Kf(r)}await this.Vr(3e5)}))}}class Ise{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return we.resolve(yw.ce);const n=new Cse(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(p5)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p5):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,s,o,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(n=m,l=Date.now(),this.removeTargets(e,n,r)))).next((m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((m=>(d=Date.now(),Nh()<=Rt.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function Ose(t,e){return new Ise(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rse{constructor(){this.changes=new _d((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ni.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?we.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dse{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&zp(n.mutation,i,as.empty(),Er.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Lt()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Lt()){const i=Mu();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((s=>{let o=Ep();return s.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=Mu();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Lt())))}populateOverlays(e,r,n){const i=[];return n.forEach((s=>{r.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,l)=>{r.set(o,l)}))}))}computeViews(e,r,n,i){let s=rl();const o=Up(),l=(function(){return Up()})();return r.forEach(((c,d)=>{const f=n.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof qc)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),zp(f.mutation,d,f.mutation.getFieldMask(),Er.now())):o.set(d.key,as.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((d,f)=>o.set(d,f))),r.forEach(((d,f)=>l.set(d,new Mse(f,o.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,r){const n=Up();let i=new Vr(((o,l)=>o-l)),s=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const l of o)l.keys().forEach((c=>{const d=r.get(c);if(d===null)return;let f=n.get(c)||as.empty();f=l.applyToLocalView(d,f),n.set(c,f);const m=(i.get(l.batchId)||Lt()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,m=ZU();f.forEach((p=>{if(!s.has(p)){const v=s9(r.get(p),n.get(p));v!==null&&m.set(p,v),s=s.add(p)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return we.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return tt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):KU(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):we.resolve(Mu());let l=ug,c=s;return o.next((d=>we.forEach(d,((f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?we.resolve():this.remoteDocumentCache.getEntry(e,f).next((p=>{c=c.insert(f,p)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,c,d,Lt()))).next((f=>({batchId:l,changes:JU(f)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new tt(r)).next((n=>{let i=Ep();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let o=Ep();return this.indexManager.getCollectionParents(e,s).next((l=>we.forEach(l,(c=>{const d=(function(m,p){return new _y(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(r,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((f=>{f.forEach(((m,p)=>{o=o.insert(m,p)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i)))).next((o=>{s.forEach(((c,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,ni.newInvalidDocument(f)))}));let l=Ep();return o.forEach(((c,d)=>{const f=s.get(c);f!==void 0&&zp(f.mutation,d,as.empty(),Er.now()),ww(r,d)&&(l=l.insert(c,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lse{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return we.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Ha(i.createTime)}})(r)),we.resolve()}getNamedQuery(e,r){return we.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:Tse(i.bundledQuery),readTime:Ha(i.readTime)}})(r)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $se{constructor(){this.overlays=new Vr(tt.comparator),this.qr=new Map}getOverlay(e,r){return we.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Mu();return we.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,s)=>{this.St(e,r,s)})),we.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(n)),we.resolve()}getOverlaysForCollection(e,r,n){const i=Mu(),s=r.length+1,o=new tt(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>n&&i.set(c.getKey(),c)}return we.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Vr(((d,f)=>d-f));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let f=s.get(d.largestBatchId);f===null&&(f=Mu(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Mu(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return we.resolve(l)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new rse(r,n));let s=this.qr.get(r);s===void 0&&(s=Lt(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fse{constructor(){this.sessionToken=Kn.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.Qr=new gn(Nn.$r),this.Ur=new gn(Nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Nn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new Nn(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new tt(new br([])),n=new Nn(r,e),i=new Nn(r,e+1),s=[];return this.Ur.forEachInRange([n,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new tt(new br([])),n=new Nn(r,e),i=new Nn(r,e+1);let s=Lt();return this.Ur.forEachInRange([n,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const r=new Nn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Nn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return tt.comparator(e.key,r.key)||Mt(e.Yr,r.Yr)}static Kr(e,r){return Mt(e.Yr,r.Yr)||tt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vse{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new gn(Nn.$r)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tse(s,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new Nn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return we.resolve(o)}lookupMutationBatch(e,r){return we.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return we.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?BC:this.tr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Nn(r,0),i=new Nn(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],(o=>{const l=this.Xr(o.Yr);s.push(l)})),we.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new gn(Mt);return r.forEach((i=>{const s=new Nn(i,0),o=new Nn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(l=>{n=n.add(l.Yr)}))})),we.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;tt.isDocumentKey(s)||(s=s.child(""));const o=new Nn(new tt(s),0);let l=new gn(Mt);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Yr)),!0)}),o),we.resolve(this.ti(l))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){ar(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return we.forEach(r.mutations,(i=>{const s=new Nn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new Nn(r,0),i=this.Zr.firstAfterOrEqual(n);return we.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bse{constructor(e){this.ri=e,this.docs=(function(){return new Vr(tt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return we.resolve(n?n.document.mutableCopy():ni.newInvalidDocument(r))}getEntries(e,r){let n=rl();return r.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():ni.newInvalidDocument(i))})),we.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=rl();const o=r.path,l=new tt(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||gie(pie(f),n)<=0||(i.has(f.key)||ww(r,f))&&(s=s.insert(f.key,f.mutableCopy()))}return we.resolve(s)}getAllFromCollectionGroup(e,r,n,i){ct(9500)}ii(e,r){return we.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new qse(this)}getSize(e){return we.resolve(this.size)}}class qse extends Rse{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),we.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Use{constructor(e){this.persistence=e,this.si=new _d((r=>zC(r)),WC),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new JC,this.targetCount=0,this.ai=hf.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),we.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new hf(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,we.resolve()}updateTargetData(e,r){return this.Pr(r),we.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),we.waitFor(s).next((()=>i))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return we.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),we.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),we.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),we.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return we.resolve(n)}containsKey(e,r){return we.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,r){this.ui={},this.overlays={},this.ci=new yw(0),this.li=!1,this.li=!0,this.hi=new Fse,this.referenceDelegate=e(this),this.Pi=new Use(this),this.indexManager=new Ese,this.remoteDocumentCache=(function(i){return new Bse(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new Sse(r),this.Ii=new Lse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new $se,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new Vse(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Ve("MemoryPersistence","Starting transaction:",e);const i=new zse(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,r){return we.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class zse extends vie{constructor(e){super(),this.currentSequenceNumber=e}}class ZC{constructor(e){this.persistence=e,this.Ri=new JC,this.Vi=null}static mi(e){return new ZC(e)}get fi(){if(this.Vi)return this.Vi;throw ct(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),we.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),we.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),we.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.fi,(n=>{const i=tt.fromPath(n);return this.gi(e,i).next((s=>{s||r.removeEntry(i,yt.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return we.or([()=>we.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Dx{constructor(e,r){this.persistence=e,this.pi=new _d((n=>wie(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=Ose(this,r)}static mi(e,r){return new Dx(e,r)}Ei(){}di(e){return we.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return we.forEach(this.pi,((n,i)=>this.br(e,n,i).next((s=>s?we.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,r).next((l=>{l||(n++,s.removeEntry(o,yt.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Zv(e.data.value)),r}br(e,r,n){return we.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return we.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Lt(),i=Lt();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ek(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hse{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $ee()?8:xie(di())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.ys(e,r).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,r,i,n).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new Wse;return this.Ss(e,r,o).next((l=>{if(s.result=l,this.Vs)return this.bs(e,r,o,l.size)}))})).next((()=>s.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(Nh()<=Rt.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",Sh(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),we.resolve()):(Nh()<=Rt.DEBUG&&Ve("QueryEngine","Query:",Sh(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Nh()<=Rt.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",Sh(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wa(r))):we.resolve())}ys(e,r){if(s5(r))return we.resolve(null);let n=Wa(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=DE(r,null,"F"),n=Wa(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const o=Lt(...s);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,n).next((c=>{const d=this.Ds(r,l);return this.Cs(r,d,o,c.readTime)?this.ys(e,DE(r,null,"F")):this.vs(e,d,r,c)}))))})))))}ws(e,r,n,i){return s5(r)||i.isEqual(yt.min())?we.resolve(null):this.ps.getDocuments(e,n).next((s=>{const o=this.Ds(r,s);return this.Cs(r,o,n,i)?we.resolve(null):(Nh()<=Rt.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sh(r)),this.vs(e,o,r,mie(i,ug)).next((l=>l)))}))}Ds(e,r){let n=new gn(QU(e));return r.forEach(((i,s)=>{ww(e,s)&&(n=n.add(s))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,r,n){return Nh()<=Rt.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Sh(r)),this.ps.getDocumentsMatchingQuery(e,r,Tc.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((s=>(r.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="LocalStore",Gse=3e8;class Kse{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Vr(Mt),this.xs=new _d((s=>zC(s)),WC),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dse(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function Yse(t,e,r,n){return new Kse(t,e,r,n)}async function x9(t,e){const r=bt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const o=[],l=[];let c=Lt();for(const d of i){o.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return r.localDocuments.getDocuments(n,c).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function Qse(t,e){const r=bt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,f){const m=d.batch,p=m.keys();let v=we.resolve();return p.forEach((w=>{v=v.next((()=>f.getEntry(c,w))).next((x=>{const g=d.docVersions.get(w);ar(g!==null,48541),x.version.compareTo(g)<0&&(m.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),f.addEntry(x)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(r,n,e,s).next((()=>s.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let c=Lt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function b9(t){const e=bt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function Xse(t,e){const r=bt(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const l=[];e.targetChanges.forEach(((f,m)=>{const p=i.get(m);if(!p)return;l.push(r.Pi.removeMatchingKeys(s,f.removedDocuments,m).next((()=>r.Pi.addMatchingKeys(s,f.addedDocuments,m))));let v=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(Kn.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,n)),i=i.insert(m,v),(function(x,g,_){return x.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Gse?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(p,v,f)&&l.push(r.Pi.updateTargetData(s,v))}));let c=rl(),d=Lt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(s,f))})),l.push(Jse(s,o,e.documentUpdates).next((f=>{c=f.ks,d=f.qs}))),!n.isEqual(yt.min())){const f=r.Pi.getLastRemoteSnapshotVersion(s).next((m=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n)));l.push(f)}return we.waitFor(l).next((()=>o.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,c,d))).next((()=>c))})).then((s=>(r.Ms=i,s)))}function Jse(t,e,r){let n=Lt(),i=Lt();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let o=rl();return r.forEach(((l,c)=>{const d=s.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(yt.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Ve(tk,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function Zse(t,e){const r=bt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=BC),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function eae(t,e){const r=bt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((s=>s?(i=s,we.resolve(i)):r.Pi.allocateTargetId(n).next((o=>(i=new pc(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function BE(t,e,r){const n=bt(t),i=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Yf(o))throw o;Ve(tk,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function v5(t,e,r){const n=bt(t);let i=yt.min(),s=Lt();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,d,f){const m=bt(c),p=m.xs.get(f);return p!==void 0?we.resolve(m.Ms.get(p)):m.Pi.getTargetData(d,f)})(n,o,Wa(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{s=c}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:yt.min(),r?s:Lt()))).next((l=>(tae(n,Vie(e),l),{documents:l,Qs:s})))))}function tae(t,e,r){let n=t.Os.get(e)||yt.min();r.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.Os.set(e,n)}class x5{constructor(){this.activeTargetIds=Hie()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rae{constructor(){this.Mo=new x5,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new x5,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="ConnectivityMonitor";class w5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ve(b5,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ve(b5,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yv=null;function qE(){return yv===null?yv=(function(){return 268435456+Math.round(2147483648*Math.random())})():yv++,"0x"+yv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="RestConnection",iae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sae{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Ax?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,s){const o=qE(),l=this.zo(e,r.toUriEncodedString());Ve(kj,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:d}=new URL(l),f=bd(d);return this.Jo(e,l,c,n,f).then((m=>(Ve(kj,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw lf(kj,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",n),m}))}Ho(e,r,n,i,s,o){return this.Go(e,r,n,i,s)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,s)=>e[s]=i)),n&&n.headers.forEach(((i,s)=>e[s]=i))}zo(e,r){const n=iae[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aae{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="WebChannelConnection";class oae extends sae{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,s){const o=qE();return new Promise(((l,c)=>{const d=new jU;d.setWithCredentials(!0),d.listenOnce(NU.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Jv.NO_ERROR:const m=d.getResponseJson();Ve(ei,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Jv.TIMEOUT:Ve(ei,`RPC '${e}' ${o} timed out`),c(new Le(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Jv.HTTP_ERROR:const p=d.getStatus();if(Ve(ei,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const x=(function(_){const T=_.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(T)>=0?T:xe.UNKNOWN})(w.status);c(new Le(x,w.message))}else c(new Le(xe.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Le(xe.UNAVAILABLE,"Connection failed."));break;default:ct(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ve(ei,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);Ve(ei,`RPC '${e}' ${o} sending request:`,i),d.send(r,"POST",f,n,15)}))}T_(e,r,n){const i=qE(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=EU(),l=TU(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const f=s.join("");Ve(ei,`Creating RPC '${e}' stream ${i}: ${f}`,c);const m=o.createWebChannel(f,c);this.I_(m);let p=!1,v=!1;const w=new aae({Yo:g=>{v?Ve(ei,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(p||(Ve(ei,`Opening RPC '${e}' stream ${i} transport.`),m.open(),p=!0),Ve(ei,`RPC '${e}' stream ${i} sending:`,g),m.send(g))},Zo:()=>m.close()}),x=(g,_,T)=>{g.listen(_,(P=>{try{T(P)}catch(I){setTimeout((()=>{throw I}),0)}}))};return x(m,Tp.EventType.OPEN,(()=>{v||(Ve(ei,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),x(m,Tp.EventType.CLOSE,(()=>{v||(v=!0,Ve(ei,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(m))})),x(m,Tp.EventType.ERROR,(g=>{v||(v=!0,lf(ei,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),w.a_(new Le(xe.UNAVAILABLE,"The operation could not be completed")))})),x(m,Tp.EventType.MESSAGE,(g=>{var _;if(!v){const T=g.data[0];ar(!!T,16349);const P=T,I=(P==null?void 0:P.error)||((_=P[0])==null?void 0:_.error);if(I){Ve(ei,`RPC '${e}' stream ${i} received error:`,I);const A=I.status;let C=(function(O){const D=tn[O];if(D!==void 0)return o9(D)})(A),E=I.message;C===void 0&&(C=xe.INTERNAL,E="Unknown error status: "+A+" with message "+I.message),v=!0,w.a_(new Le(C,E)),m.close()}else Ve(ei,`RPC '${e}' stream ${i} received:`,T),w.u_(T)}})),x(l,SU.STAT_EVENT,(g=>{g.stat===AE.PROXY?Ve(ei,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===AE.NOPROXY&&Ve(ei,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function Ij(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t){return new dse(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="PersistentStream";class _9{constructor(e,r,n,i,s,o,l,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new w9(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===xe.RESOURCE_EXHAUSTED?(tl(r.toString()),tl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new Le(xe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ve(_5,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(Ve(_5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lae extends _9{constructor(e,r,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=mse(this.serializer,e),n=(function(s){if(!("targetChange"in s))return yt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?yt.min():o.readTime?Ha(o.readTime):yt.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=VE(this.serializer),r.addTarget=(function(s,o){let l;const c=o.target;if(l=RE(c)?{documents:yse(s,c)}:{query:vse(s,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=u9(s,o.resumeToken);const d=LE(s,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(yt.min())>0){l.readTime=Mx(s,o.snapshotVersion.toTimestamp());const d=LE(s,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const n=bse(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=VE(this.serializer),r.removeTarget=e,this.q_(r)}}class cae extends _9{constructor(e,r,n,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return ar(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ar(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ar(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=gse(e.writeResults,e.commitTime),n=Ha(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=VE(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>pse(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uae{}class dae extends uae{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Le(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,$E(r,n),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(xe.UNKNOWN,s.toString())}))}Ho(e,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,$E(r,n),i,o,l,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(xe.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hae{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tl(r),this.aa=!1):Ve("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="RemoteStore";class fae{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{jd(this)&&(Ve(sd,"Restarting streams for network reachability change."),await(async function(c){const d=bt(c);d.Ea.add(4),await Sy(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Tw(d)})(this))}))})),this.Ra=new hae(n,i)}}async function Tw(t){if(jd(t))for(const e of t.da)await e(!0)}async function Sy(t){for(const e of t.da)await e(!1)}function j9(t,e){const r=bt(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),sk(r)?ik(r):Qf(r).O_()&&nk(r,e))}function rk(t,e){const r=bt(t),n=Qf(r);r.Ia.delete(e),n.O_()&&N9(r,e),r.Ia.size===0&&(n.O_()?n.L_():jd(r)&&r.Ra.set("Unknown"))}function nk(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Qf(t).Y_(e)}function N9(t,e){t.Va.Ue(e),Qf(t).Z_(e)}function ik(t){t.Va=new ose({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Qf(t).start(),t.Ra.ua()}function sk(t){return jd(t)&&!Qf(t).x_()&&t.Ia.size>0}function jd(t){return bt(t).Ea.size===0}function S9(t){t.Va=void 0}async function mae(t){t.Ra.set("Online")}async function pae(t){t.Ia.forEach(((e,r)=>{nk(t,e)}))}async function gae(t,e){S9(t),sk(t)?(t.Ra.ha(e),ik(t)):t.Ra.set("Unknown")}async function yae(t,e,r){if(t.Ra.set("Online"),e instanceof c9&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(n){Ve(sd,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Lx(t,n)}else if(e instanceof rx?t.Va.Ze(e):e instanceof l9?t.Va.st(e):t.Va.tt(e),!r.isEqual(yt.min()))try{const n=await b9(t.localStore);r.compareTo(n)>=0&&await(function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,d)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(Kn.EMPTY_BYTE_STRING,f.snapshotVersion)),N9(s,c);const m=new pc(f.target,c,d,f.sequenceNumber);nk(s,m)})),s.remoteSyncer.applyRemoteEvent(l)})(t,r)}catch(n){Ve(sd,"Failed to raise snapshot:",n),await Lx(t,n)}}async function Lx(t,e,r){if(!Yf(e))throw e;t.Ea.add(1),await Sy(t),t.Ra.set("Offline"),r||(r=()=>b9(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ve(sd,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Tw(t)}))}function T9(t,e){return e().catch((r=>Lx(t,r,e)))}async function Ew(t){const e=bt(t),r=Cc(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:BC;for(;vae(e);)try{const i=await Zse(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,xae(e,i)}catch(i){await Lx(e,i)}E9(e)&&P9(e)}function vae(t){return jd(t)&&t.Ta.length<10}function xae(t,e){t.Ta.push(e);const r=Cc(t);r.O_()&&r.X_&&r.ea(e.mutations)}function E9(t){return jd(t)&&!Cc(t).x_()&&t.Ta.length>0}function P9(t){Cc(t).start()}async function bae(t){Cc(t).ra()}async function wae(t){const e=Cc(t);for(const r of t.Ta)e.ea(r.mutations)}async function _ae(t,e,r){const n=t.Ta.shift(),i=YC.from(n,e,r);await T9(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ew(t)}async function jae(t,e){e&&Cc(t).X_&&await(async function(n,i){if((function(o){return ise(o)&&o!==xe.ABORTED})(i.code)){const s=n.Ta.shift();Cc(n).B_(),await T9(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Ew(n)}})(t,e),E9(t)&&P9(t)}async function j5(t,e){const r=bt(t);r.asyncQueue.verifyOperationInProgress(),Ve(sd,"RemoteStore received new credentials");const n=jd(r);r.Ea.add(3),await Sy(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Tw(r)}async function Nae(t,e){const r=bt(t);e?(r.Ea.delete(2),await Tw(r)):e||(r.Ea.add(2),await Sy(r),r.Ra.set("Unknown"))}function Qf(t){return t.ma||(t.ma=(function(r,n,i){const s=bt(r);return s.sa(),new lae(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:mae.bind(null,t),t_:pae.bind(null,t),r_:gae.bind(null,t),H_:yae.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),sk(t)?ik(t):t.Ra.set("Unknown")):(await t.ma.stop(),S9(t))}))),t.ma}function Cc(t){return t.fa||(t.fa=(function(r,n,i){const s=bt(r);return s.sa(),new cae(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:bae.bind(null,t),r_:jae.bind(null,t),ta:wae.bind(null,t),na:_ae.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ew(t)):(await t.fa.stop(),t.Ta.length>0&&(Ve(sd,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const o=Date.now()+n,l=new ak(e,r,o,i,s);return l.start(n),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ok(t,e){if(tl("AsyncQueue",`${e}: ${t}`),Yf(t))return new Le(xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{static emptySet(e){return new qh(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||tt.comparator(r.key,n.key):(r,n)=>tt.comparator(r.key,n.key),this.keyedMap=Ep(),this.sortedSet=new Vr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof qh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new qh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.ga=new Vr(tt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):ct(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class ff{constructor(e,r,n,i,s,o,l,c,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,i,s){const o=[];return r.forEach((l=>{o.push({type:0,doc:l})})),new ff(e,r,qh.emptySet(r),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sae{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Tae{constructor(){this.queries=S5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=bt(r),s=i.queries;i.queries=S5(),s.forEach(((o,l)=>{for(const c of l.Sa)c.onError(n)}))})(this,new Le(xe.ABORTED,"Firestore shutting down"))}}function S5(){return new _d((t=>YU(t)),bw)}async function A9(t,e){const r=bt(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new Sae,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=ok(o,`Initialization of query '${Sh(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&lk(r)}async function C9(t,e){const r=bt(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Eae(t,e){const r=bt(t);let n=!1;for(const i of e){const s=i.query,o=r.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(n=!0);o.wa=i}}n&&lk(r)}function Pae(t,e,r){const n=bt(t),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(e)}function lk(t){t.Ca.forEach((e=>{e.next()}))}var UE,T5;(T5=UE||(UE={})).Ma="default",T5.Cache="cache";class k9{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ff(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=ff.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==UE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.key=e}}class O9{constructor(e){this.key=e}}class Aae{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=QU(e),this.tu=new qh(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new N5,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,m)=>{const p=i.get(f),v=ww(this.query,m)?m:null,w=!!p&&this.mutatedKeys.has(p.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let g=!1;p&&v?p.data.isEqual(v.data)?w!==x&&(n.track({type:3,doc:v}),g=!0):this.su(p,v)||(n.track({type:2,doc:v}),g=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(l=!0)):!p&&v?(n.track({type:0,doc:v}),g=!0):p&&!v&&(n.track({type:1,doc:p}),g=!0,(c||d)&&(l=!0)),g&&(v?(o=o.add(v),s=x?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{tu:o,iu:n,Cs:l,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,m)=>(function(v,w){const x=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct(20277,{Rt:g})}};return x(v)-x(w)})(f.type,m.type)||this.eu(f.doc,m.doc))),this.ou(n),i=i??!1;const l=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new ff(this.query,e.tu,s,o,e.mutatedKeys,c===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new N5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new O9(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new I9(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=Lt();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return ff.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ck="SyncEngine";class Cae{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class kae{constructor(e){this.key=e,this.hu=!1}}class Iae{constructor(e,r,n,i,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new _d((l=>YU(l)),bw),this.Iu=new Map,this.Eu=new Set,this.du=new Vr(tt.comparator),this.Au=new Map,this.Ru=new JC,this.Vu={},this.mu=new Map,this.fu=hf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Oae(t,e,r=!0){const n=F9(t);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await R9(n,e,r,!0),i}async function Rae(t,e){const r=F9(t);await R9(r,e,!0,!1)}async function R9(t,e,r,n){const i=await eae(t.localStore,Wa(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let l;return n&&(l=await Mae(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&j9(t.remoteStore,i),l}async function Mae(t,e,r,n,i){t.pu=(m,p,v)=>(async function(x,g,_,T){let P=g.view.ru(_);P.Cs&&(P=await v5(x.localStore,g.query,!1).then((({documents:E})=>g.view.ru(E,P))));const I=T&&T.targetChanges.get(g.targetId),A=T&&T.targetMismatches.get(g.targetId)!=null,C=g.view.applyChanges(P,x.isPrimaryClient,I,A);return P5(x,g.targetId,C.au),C.snapshot})(t,m,p,v);const s=await v5(t.localStore,e,!0),o=new Aae(e,s.Qs),l=o.ru(s.documents),c=Ny.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,c);P5(t,r,d.au);const f=new Cae(e,r,o);return t.Tu.set(e,f),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),d.snapshot}async function Dae(t,e,r){const n=bt(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter((o=>!bw(o,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await BE(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&rk(n.remoteStore,i.targetId),zE(n,i.targetId)})).catch(Kf)):(zE(n,i.targetId),await BE(n.localStore,i.targetId,!0))}async function Lae(t,e){const r=bt(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),rk(r.remoteStore,n.targetId))}async function $ae(t,e,r){const n=Wae(t);try{const i=await(function(o,l){const c=bt(o),d=Er.now(),f=l.reduce(((v,w)=>v.add(w.key)),Lt());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let w=rl(),x=Lt();return c.Ns.getEntries(v,f).next((g=>{w=g,w.forEach(((_,T)=>{T.isValidDocument()||(x=x.add(_))}))})).next((()=>c.localDocuments.getOverlayedDocuments(v,w))).next((g=>{m=g;const _=[];for(const T of l){const P=Zie(T,m.get(T.key).overlayedDocument);P!=null&&_.push(new qc(T.key,P,BU(P.value.mapValue),Rs.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,_,l)})).next((g=>{p=g;const _=g.applyToLocalDocumentSet(m,x);return c.documentOverlayCache.saveOverlays(v,g.batchId,_)}))})).then((()=>({batchId:p.batchId,changes:JU(m)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(o,l,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new Vr(Mt)),d=d.insert(l,c),o.Vu[o.currentUser.toKey()]=d})(n,i.batchId,r),await Ty(n,i.changes),await Ew(n.remoteStore)}catch(i){const s=ok(i,"Failed to persist write");r.reject(s)}}async function M9(t,e){const r=bt(t);try{const n=await Xse(r.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=r.Au.get(s);o&&(ar(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ar(o.hu,14607):i.removedDocuments.size>0&&(ar(o.hu,42227),o.hu=!1))})),await Ty(r,n,e)}catch(n){await Kf(n)}}function E5(t,e,r){const n=bt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const c=bt(o);c.onlineState=l;let d=!1;c.queries.forEach(((f,m)=>{for(const p of m.Sa)p.va(l)&&(d=!0)})),d&&lk(c)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Fae(t,e,r){const n=bt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),s=i&&i.key;if(s){let o=new Vr(tt.comparator);o=o.insert(s,ni.newNoDocument(s,yt.min()));const l=Lt().add(s),c=new Nw(yt.min(),new Map,new Vr(Mt),o,l);await M9(n,c),n.du=n.du.remove(s),n.Au.delete(e),uk(n)}else await BE(n.localStore,e,!1).then((()=>zE(n,e,r))).catch(Kf)}async function Vae(t,e){const r=bt(t),n=e.batch.batchId;try{const i=await Qse(r.localStore,e);L9(r,n,null),D9(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ty(r,i)}catch(i){await Kf(i)}}async function Bae(t,e,r){const n=bt(t);try{const i=await(function(o,l){const c=bt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next((m=>(ar(m!==null,37113),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>c.localDocuments.getDocuments(d,f)))}))})(n.localStore,e);L9(n,e,r),D9(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ty(n,i)}catch(i){await Kf(i)}}function D9(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function L9(t,e,r){const n=bt(t);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function zE(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||$9(t,n)}))}function $9(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(rk(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),uk(t))}function P5(t,e,r){for(const n of r)n instanceof I9?(t.Ru.addReference(n.key,e),qae(t,n)):n instanceof O9?(Ve(ck,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||$9(t,n.key)):ct(19791,{wu:n})}function qae(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Ve(ck,"New document in limbo: "+r),t.Eu.add(n),uk(t))}function uk(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new tt(br.fromString(e)),n=t.fu.next();t.Au.set(n,new kae(r)),t.du=t.du.insert(r,n),j9(t.remoteStore,new pc(Wa(HC(r.path)),n,"TargetPurposeLimboResolution",yw.ce))}}async function Ty(t,e,r){const n=bt(t),i=[],s=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,c)=>{o.push(n.pu(c,e,r).then((d=>{var f;if((d||r)&&n.isPrimaryClient){const m=d?!d.fromCache:(f=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:f.current;n.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=ek.As(c.targetId,d);s.push(m)}})))})),await Promise.all(o),n.Pu.H_(i),await(async function(c,d){const f=bt(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>we.forEach(d,(p=>we.forEach(p.Es,(v=>f.persistence.referenceDelegate.addReference(m,p.targetId,v))).next((()=>we.forEach(p.ds,(v=>f.persistence.referenceDelegate.removeReference(m,p.targetId,v)))))))))}catch(m){if(!Yf(m))throw m;Ve(tk,"Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const v=f.Ms.get(p),w=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(w);f.Ms=f.Ms.insert(p,x)}}})(n.localStore,s))}async function Uae(t,e){const r=bt(t);if(!r.currentUser.isEqual(e)){Ve(ck,"User change. New user:",e.toKey());const n=await x9(r.localStore,e);r.currentUser=e,(function(s,o){s.mu.forEach((l=>{l.forEach((c=>{c.reject(new Le(xe.CANCELLED,o))}))})),s.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ty(r,n.Ls)}}function zae(t,e){const r=bt(t),n=r.Au.get(e);if(n&&n.hu)return Lt().add(n.key);{let i=Lt();const s=r.Iu.get(e);if(!s)return i;for(const o of s){const l=r.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function F9(t){const e=bt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=M9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fae.bind(null,e),e.Pu.H_=Eae.bind(null,e.eventManager),e.Pu.yu=Pae.bind(null,e.eventManager),e}function Wae(t){const e=bt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bae.bind(null,e),e}class $x{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Yse(this.persistence,new Hse,e.initialUser,this.serializer)}Cu(e){return new v9(ZC.mi,this.serializer)}Du(e){return new rae}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$x.provider={build:()=>new $x};class Hae extends $x{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){ar(this.persistence.referenceDelegate instanceof Dx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new kse(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?$i.withCacheSize(this.cacheSizeBytes):$i.DEFAULT;return new v9((n=>Dx.mi(n,r)),this.serializer)}}class WE{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>E5(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uae.bind(null,this.syncEngine),await Nae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Tae})()}createDatastore(e){const r=Sw(e.databaseInfo.databaseId),n=(function(s){return new oae(s)})(e.databaseInfo);return(function(s,o,l,c){return new dae(s,o,l,c)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,s,o,l){return new fae(n,i,s,o,l)})(this.localStore,this.datastore,e.asyncQueue,(r=>E5(this.syncEngine,r,0)),(function(){return w5.v()?new w5:new nae})())}createSyncEngine(e,r){return(function(i,s,o,l,c,d,f){const m=new Iae(i,s,o,l,c,d);return f&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const s=bt(i);Ve(sd,"RemoteStore shutting down."),s.Ea.add(5),await Sy(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}WE.provider={build:()=>new WE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="FirestoreClient";class Gae{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ri.UNAUTHENTICATED,this.clientId=VC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async o=>{Ve(kc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(Ve(kc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=ok(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Oj(t,e){t.asyncQueue.verifyOperationInProgress(),Ve(kc,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await x9(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function A5(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Kae(t);Ve(kc,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>j5(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>j5(e.remoteStore,i))),t._onlineComponents=e}async function Kae(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve(kc,"Using user provided OfflineComponentProvider");try{await Oj(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;lf("Error using user provided cache. Falling back to memory cache: "+r),await Oj(t,new $x)}}else Ve(kc,"Using default OfflineComponentProvider"),await Oj(t,new Hae(void 0));return t._offlineComponents}async function B9(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve(kc,"Using user provided OnlineComponentProvider"),await A5(t,t._uninitializedComponentsProvider._online)):(Ve(kc,"Using default OnlineComponentProvider"),await A5(t,new WE))),t._onlineComponents}function Yae(t){return B9(t).then((e=>e.syncEngine))}async function q9(t){const e=await B9(t),r=e.eventManager;return r.onListen=Oae.bind(null,e.syncEngine),r.onUnlisten=Dae.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Rae.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Lae.bind(null,e.syncEngine),r}function Qae(t,e,r={}){const n=new Go;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,l,c,d){const f=new V9({next:p=>{f.Nu(),o.enqueueAndForget((()=>C9(s,m)));const v=p.docs.has(l);!v&&p.fromCache?d.reject(new Le(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?d.reject(new Le(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new k9(HC(l.path),f,{includeMetadataChanges:!0,qa:!0});return A9(s,m)})(await q9(t),t.asyncQueue,e,r,n))),n.promise}function Xae(t,e,r={}){const n=new Go;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,l,c,d){const f=new V9({next:p=>{f.Nu(),o.enqueueAndForget((()=>C9(s,m))),p.fromCache&&c.source==="server"?d.reject(new Le(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new k9(l,f,{includeMetadataChanges:!0,qa:!0});return A9(s,m)})(await q9(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9="firestore.googleapis.com",k5=!0;class I5{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Le(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z9,this.ssl=k5}else this.host=e.host,this.ssl=e.ssl??k5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y9;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ase)throw new Le(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U9(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Le(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Le(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Le(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pw{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new nie;switch(n.type){case"firstParty":return new oie(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Le(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=C5.get(r);n&&(Ve("ComponentProvider","Removing Datastore"),C5.delete(r),n.terminate())})(this),Promise.resolve()}}function Jae(t,e,r,n={}){var d;t=ua(t,Pw);const i=bd(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${r}`;i&&(NC(`https://${l}`),SC("Firestore",!0)),s.host!==z9&&s.host!==l&&lf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:n};if(!td(c,o)&&(t._setSettings(c),n.mockUserToken)){let f,m;if(typeof n.mockUserToken=="string")f=n.mockUserToken,m=ri.MOCK_USER;else{f=Fq(n.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Le(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ri(p)}t._authCredentials=new iie(new AU(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Xf(this.firestore,e,this._query)}}class Jr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jr(this.firestore,e,this._key)}toJSON(){return{type:Jr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(wy(r,Jr._jsonSchema))return new Jr(e,n||null,new tt(br.fromString(r.referencePath)))}}Jr._jsonSchemaVersion="firestore/documentReference/1.0",Jr._jsonSchema={type:an("string",Jr._jsonSchemaVersion),referencePath:an("string")};class wc extends Xf{constructor(e,r,n){super(e,r,HC(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jr(this.firestore,null,new tt(e))}withConverter(e){return new wc(this.firestore,e,this._path)}}function An(t,e,...r){if(t=Pn(t),CU("collection","path",e),t instanceof Pw){const n=br.fromString(e,...r);return W4(n),new wc(t,null,n)}{if(!(t instanceof Jr||t instanceof wc))throw new Le(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(br.fromString(e,...r));return W4(n),new wc(t.firestore,null,n)}}function ds(t,e,...r){if(t=Pn(t),arguments.length===1&&(e=VC.newId()),CU("doc","path",e),t instanceof Pw){const n=br.fromString(e,...r);return z4(n),new Jr(t,null,new tt(n))}{if(!(t instanceof Jr||t instanceof wc))throw new Le(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(br.fromString(e,...r));return z4(n),new Jr(t.firestore,t instanceof wc?t.converter:null,new tt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="AsyncQueue";class R5{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new w9(this,"async_queue_retry"),this._c=()=>{const n=Ij();n&&Ve(O5,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=Ij();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Ij();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Go;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yf(e))throw e;Ve(O5,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,tl("INTERNAL UNHANDLED ERROR: ",M5(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=ak.createAndSchedule(this,e,r,n,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&ct(47125,{Pc:M5(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function M5(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Nd extends Pw{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new R5,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R5(e),this._firestoreClient=void 0,await e}}}function cr(t,e){const r=typeof t=="object"?t:PC(),n=typeof t=="string"?t:Ax,i=hw(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=Dq("firestore");s&&Jae(i,...s)}return i}function dk(t){if(t._terminated)throw new Le(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Zae(t),t._firestoreClient}function Zae(t){var n,i,s;const e=t._freezeSettings(),r=(function(l,c,d,f){return new Nie(l,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,U9(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Gae(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._byteString=e}static fromBase64String(e){try{return new As(Kn.fromBase64String(e))}catch(r){throw new Le(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new As(Kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:As._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wy(e,As._jsonSchema))return As.fromBase64String(e.bytes)}}As._jsonSchemaVersion="firestore/bytes/1.0",As._jsonSchema={type:an("string",As._jsonSchemaVersion),bytes:an("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Le(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Le(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Le(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ga._jsonSchemaVersion}}static fromJSON(e){if(wy(e,Ga._jsonSchema))return new Ga(e.latitude,e.longitude)}}Ga._jsonSchemaVersion="firestore/geoPoint/1.0",Ga._jsonSchema={type:an("string",Ga._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ka._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wy(e,Ka._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Ka(e.vectorValues);throw new Le(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ka._jsonSchemaVersion="firestore/vectorValue/1.0",Ka._jsonSchema={type:an("string",Ka._jsonSchemaVersion),vectorValues:an("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eoe=/^__.*__$/;class toe{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new qc(e,this.data,this.fieldMask,r,this.fieldTransforms):new jy(e,this.data,r,this.fieldTransforms)}}class W9{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new qc(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function H9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct(40011,{Ac:t})}}class fk{constructor(e,r,n,i,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fk({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(H9(this.Ac)&&eoe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class roe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Sw(e)}Cc(e,r,n,i=!1){return new fk({Ac:e,methodName:r,Dc:n,path:Un.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cw(t){const e=t._freezeSettings(),r=Sw(t._databaseId);return new roe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function G9(t,e,r,n,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,r,i);mk("Data must be an object, but it was:",o,n);const l=K9(n,o);let c,d;if(s.merge)c=new as(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const p=HE(e,m,r);if(!o.contains(p))throw new Le(xe.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Q9(f,p)||f.push(p)}c=new as(f),d=o.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,d=o.fieldTransforms;return new toe(new Fi(l),c,d)}class kw extends hk{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kw}}function noe(t,e,r,n){const i=t.Cc(1,e,r);mk("Data must be an object, but it was:",i,n);const s=[],o=Fi.empty();Bc(n,((c,d)=>{const f=pk(e,c,r);d=Pn(d);const m=i.yc(f);if(d instanceof kw)s.push(f);else{const p=Ey(d,m);p!=null&&(s.push(f),o.set(f,p))}}));const l=new as(s);return new W9(o,l,i.fieldTransforms)}function ioe(t,e,r,n,i,s){const o=t.Cc(1,e,r),l=[HE(e,n,r)],c=[i];if(s.length%2!=0)throw new Le(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(HE(e,s[p])),c.push(s[p+1]);const d=[],f=Fi.empty();for(let p=l.length-1;p>=0;--p)if(!Q9(d,l[p])){const v=l[p];let w=c[p];w=Pn(w);const x=o.yc(v);if(w instanceof kw)d.push(v);else{const g=Ey(w,x);g!=null&&(d.push(v),f.set(v,g))}}const m=new as(d);return new W9(f,m,o.fieldTransforms)}function soe(t,e,r,n=!1){return Ey(r,t.Cc(n?4:3,e))}function Ey(t,e){if(Y9(t=Pn(t)))return mk("Unsupported field value:",e,t),K9(t,e);if(t instanceof hk)return(function(n,i){if(!H9(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const s=[];let o=0;for(const l of n){let c=Ey(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(t,e)}return(function(n,i){if((n=Pn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Gie(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Er.fromDate(n);return{timestampValue:Mx(i.serializer,s)}}if(n instanceof Er){const s=new Er(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Mx(i.serializer,s)}}if(n instanceof Ga)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof As)return{bytesValue:u9(i.serializer,n._byteString)};if(n instanceof Jr){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:XC(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Ka)return(function(o,l){return{mapValue:{fields:{[FU]:{stringValue:VU},[Cx]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return GC(l.serializer,d)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${gw(n)}`)})(t,e)}function K9(t,e){const r={};return OU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bc(t,((n,i)=>{const s=Ey(i,e.mc(n));s!=null&&(r[n]=s)})),{mapValue:{fields:r}}}function Y9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Er||t instanceof Ga||t instanceof As||t instanceof Jr||t instanceof hk||t instanceof Ka)}function mk(t,e,r){if(!Y9(r)||!kU(r)){const n=gw(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function HE(t,e,r){if((e=Pn(e))instanceof Aw)return e._internalPath;if(typeof e=="string")return pk(t,e);throw Fx("Field path arguments must be of type string or ",t,!1,void 0,r)}const aoe=new RegExp("[~\\*/\\[\\]]");function pk(t,e,r){if(e.search(aoe)>=0)throw Fx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Aw(...e.split("."))._internalPath}catch{throw Fx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Fx(t,e,r,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new Le(xe.INVALID_ARGUMENT,l+t+c)}function Q9(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ooe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(gk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class ooe extends X9{data(){return super.data()}}function gk(t,e){return typeof e=="string"?pk(t,e):e instanceof Aw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function loe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Le(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yk{}class coe extends yk{}function ha(t,e,...r){let n=[];e instanceof yk&&n.push(e),n=n.concat(r),(function(s){const o=s.filter((c=>c instanceof vk)).length,l=s.filter((c=>c instanceof Iw)).length;if(o>1||o>0&&l>0)throw new Le(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class Iw extends coe{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Iw(e,r,n)}_apply(e){const r=this._parse(e);return J9(e._query,r),new Xf(e.firestore,e.converter,ME(e._query,r))}_parse(e){const r=Cw(e.firestore);return(function(s,o,l,c,d,f,m){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Le(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){L5(m,f);const w=[];for(const x of m)w.push(D5(c,s,x));p={arrayValue:{values:w}}}else p=D5(c,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||L5(m,f),p=soe(l,o,m,f==="in"||f==="not-in");return sn.create(d,f,p)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function si(t,e,r){const n=e,i=gk("where",t);return Iw._create(i,n,r)}class vk extends yk{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new vk(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:da.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)J9(o,c),o=ME(o,c)})(e._query,r),new Xf(e.firestore,e.converter,ME(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function D5(t,e,r){if(typeof(r=Pn(r))=="string"){if(r==="")throw new Le(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KU(e)&&r.indexOf("/")!==-1)throw new Le(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(br.fromString(r));if(!tt.isDocumentKey(n))throw new Le(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Z4(t,new tt(n))}if(r instanceof Jr)return Z4(t,r._key);throw new Le(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gw(r)}.`)}function L5(t,e){if(!Array.isArray(t)||t.length===0)throw new Le(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function J9(t,e){const r=(function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Le(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Le(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class uoe{convertValue(e,r="none"){switch(Ac(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Pc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ct(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Bc(e,((i,s)=>{n[i]=this.convertValue(s,r)})),n}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)==null?void 0:n[Cx].arrayValue)==null?void 0:i.values)==null?void 0:s.map((o=>Xr(o.doubleValue)));return new Ka(r)}convertGeoPoint(e){return new Ga(Xr(e.latitude),Xr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=xw(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(dg(e));default:return null}}convertTimestamp(e){const r=Ec(e);return new Er(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=br.fromString(e);ar(g9(n),9688,{name:e});const i=new hg(n.get(1),n.get(3)),s=new tt(n.popFirst(5));return i.isEqual(r)||tl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Ap{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ku extends X9{constructor(e,r,n,i,s,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new nx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(gk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Ku._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ku._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ku._jsonSchema={type:an("string",Ku._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class nx extends Ku{data(e={}){return super.data(e)}}class Uh{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Ap(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new nx(this._firestore,this._userDataWriter,n.key,n,new Ap(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Le(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const c=new nx(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ap(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const c=new nx(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ap(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:doe(l.type),doc:c,oldIndex:d,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Uh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=VC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function doe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(t){t=ua(t,Jr);const e=ua(t.firestore,Nd);return Qae(dk(e),t._key).then((r=>foe(e,t,r)))}Uh._jsonSchemaVersion="firestore/querySnapshot/1.0",Uh._jsonSchema={type:an("string",Uh._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class t7 extends uoe{constructor(e){super(),this.firestore=e}convertBytes(e){return new As(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Jr(this.firestore,null,r)}}function Si(t){t=ua(t,Xf);const e=ua(t.firestore,Nd),r=dk(e),n=new t7(e);return loe(t._query),Xae(r,t._query).then((i=>new Uh(e,n,t,i)))}function ad(t,e,r){t=ua(t,Jr);const n=ua(t.firestore,Nd),i=Z9(t.converter,e,r);return Ow(n,[G9(Cw(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Rs.none())])}function hoe(t,e,r,...n){t=ua(t,Jr);const i=ua(t.firestore,Nd),s=Cw(i);let o;return o=typeof(e=Pn(e))=="string"||e instanceof Aw?ioe(s,"updateDoc",t._key,e,r,n):noe(s,"updateDoc",t._key,e),Ow(i,[o.toMutation(t._key,Rs.exists(!0))])}function xk(t){return Ow(ua(t.firestore,Nd),[new KC(t._key,Rs.none())])}function bk(t,e){const r=ua(t.firestore,Nd),n=ds(t),i=Z9(t.converter,e);return Ow(r,[G9(Cw(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Rs.exists(!1))]).then((()=>n))}function Ow(t,e){return(function(n,i){const s=new Go;return n.asyncQueue.enqueueAndForget((async()=>$ae(await Yae(n),i,s))),s.promise})(dk(t),e)}function foe(t,e,r){const n=r.docs.get(e._key),i=new t7(t);return new Ku(t,i,e._key,n,new Ap(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Gf=i})(wd),rd(new Sc("firestore",((n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),l=new Nd(new sie(n.getProvider("auth-internal")),new lie(o,n.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Le(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hg(d.options.projectId,f)})(o,i),o);return s={useFetchStreams:r,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),Ua(V4,B4,e),Ua(V4,B4,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7="firebasestorage.googleapis.com",moe="storageBucket",poe=120*1e3,goe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends oo{constructor(e,r,n=0){super(Rj(e),`Firebase Storage: ${r} (${Rj(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rj(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ro;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ro||(ro={}));function Rj(t){return"storage/"+t}function yoe(){const t="An unknown error occurred, please check the error payload for server response.";return new lo(ro.UNKNOWN,t)}function voe(){return new lo(ro.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xoe(){return new lo(ro.CANCELED,"User canceled the upload/download.")}function boe(t){return new lo(ro.INVALID_URL,"Invalid URL '"+t+"'.")}function woe(t){return new lo(ro.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $5(t){return new lo(ro.INVALID_ARGUMENT,t)}function n7(){return new lo(ro.APP_DELETED,"The Firebase app was deleted.")}function _oe(t){return new lo(ro.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=sa.makeFromUrl(e,r)}catch{return new sa(e,"")}if(n.path==="")return n;throw woe(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function d(I){I.path_=decodeURIComponent(I.path)}const f="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${f}/b/${i}/o${p}`,"i"),w={bucket:1,path:3},x=r===r7?"(?:storage.googleapis.com|storage.cloud.google.com)":r,g="([^?#]*)",_=new RegExp(`^https?://${x}/${i}/${g}`,"i"),P=[{regex:l,indices:c,postModify:s},{regex:v,indices:w,postModify:d},{regex:_,indices:{bucket:1,path:2},postModify:d}];for(let I=0;I<P.length;I++){const A=P[I],C=A.regex.exec(e);if(C){const E=C[A.indices.bucket];let N=C[A.indices.path];N||(N=""),n=new sa(E,N),A.postModify(n);break}}if(n==null)throw boe(e);return n}}class joe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Noe(t,e,r){let n=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let d=!1;function f(...g){d||(d=!0,e.apply(null,g))}function m(g){i=setTimeout(()=>{i=null,t(v,c())},g)}function p(){s&&clearTimeout(s)}function v(g,..._){if(d){p();return}if(g){p(),f.call(null,g,..._);return}if(c()||o){p(),f.call(null,g,..._);return}n<64&&(n*=2);let P;l===1?(l=2,P=0):P=(n+Math.random())*1e3,m(P)}let w=!1;function x(g){w||(w=!0,p(),!d&&(i!==null?(g||(l=2),clearTimeout(i),m(0)):g||(l=1)))}return m(0),s=setTimeout(()=>{o=!0,x(!0)},r),x}function Soe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Toe(t){return t!==void 0}function F5(t,e,r,n){if(n<e)throw $5(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw $5(`Invalid value for '${t}'. Expected ${r} or less.`)}function Eoe(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Vx;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vx||(Vx={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Poe(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe{constructor(e,r,n,i,s,o,l,c,d,f,m,p=!0,v=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,x)=>{this.resolve_=w,this.reject_=x,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new vv(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===Vx.NO_ERROR,c=s.getStatus();if(!l||Poe(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Vx.ABORT;n(!1,new vv(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;n(!0,new vv(d,s))})},r=(n,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Toe(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=yoe();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?n7():xoe();o(c)}else{const c=voe();o(c)}};this.canceled_?r(!1,new vv(!1,null,!0)):this.backoffId_=Noe(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Soe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vv{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function Coe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function koe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ioe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ooe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Roe(t,e,r,n,i,s,o=!0,l=!1){const c=Eoe(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return Ioe(f,e),Coe(f,r),koe(f,s),Ooe(f,n),new Aoe(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Moe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Doe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,r){this._service=e,r instanceof sa?this._location=r:this._location=sa.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Bx(e,r)}get root(){const e=new sa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Doe(this._location.path)}get storage(){return this._service}get parent(){const e=Moe(this._location.path);if(e===null)return null;const r=new sa(this._location.bucket,e);return new Bx(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw _oe(e)}}function V5(t,e){const r=e==null?void 0:e[moe];return r==null?null:sa.makeFromBucketSpec(r,t)}function Loe(t,e,r,n={}){t.host=`${e}:${r}`;const i=bd(e);i&&(NC(`https://${t.host}/b`),SC("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:Fq(s,t.app.options.projectId))}class $oe{constructor(e,r,n,i,s,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=r7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=poe,this._maxUploadRetryTime=goe,this._requests=new Set,i!=null?this._bucket=sa.makeFromBucketSpec(i,this._host):this._bucket=V5(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sa.makeFromBucketSpec(this._url,e):this._bucket=V5(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){F5("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){F5("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bx(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new joe(n7());{const o=Roe(e,this._appId,n,i,r,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const B5="@firebase/storage",q5="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7="storage";function Foe(t=PC(),e){t=Pn(t);const n=hw(t,i7).getImmediate({identifier:e}),i=Dq("storage");return i&&Voe(n,...i),n}function Voe(t,e,r,n={}){Loe(t,e,r,n)}function Boe(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new $oe(r,n,i,e,wd)}function qoe(){rd(new Sc(i7,Boe,"PUBLIC").setMultipleInstances(!0)),Ua(B5,q5,""),Ua(B5,q5,"esm2020")}qoe();const Uoe={apiKey:"AlzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.appspot.com"},Bt=qq(Uoe);Vp(Bt);cr(Bt);Foe(Bt);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U5="popstate";function zoe(t={}){function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return GE("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:gg(i)}return Hoe(e,r,null,t)}function Fr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function no(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Woe(){return Math.random().toString(36).substring(2,10)}function z5(t,e){return{usr:t.state,key:t.key,idx:e}}function GE(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Jf(e):e,state:r,key:e&&e.key||n||Woe()}}function gg({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Jf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Hoe(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l="POP",c=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function m(){l="POP";let g=f(),_=g==null?null:g-d;d=g,c&&c({action:l,location:x.location,delta:_})}function p(g,_){l="PUSH";let T=GE(x.location,g,_);d=f()+1;let P=z5(T,d),I=x.createHref(T);try{o.pushState(P,"",I)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(I)}s&&c&&c({action:l,location:x.location,delta:1})}function v(g,_){l="REPLACE";let T=GE(x.location,g,_);d=f();let P=z5(T,d),I=x.createHref(T);o.replaceState(P,"",I),s&&c&&c({action:l,location:x.location,delta:0})}function w(g){return Goe(g)}let x={get action(){return l},get location(){return t(i,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(U5,m),c=g,()=>{i.removeEventListener(U5,m),c=null}},createHref(g){return e(i,g)},createURL:w,encodeLocation(g){let _=w(g);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:v,go(g){return o.go(g)}};return x}function Goe(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Fr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:gg(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function s7(t,e,r="/"){return Koe(t,e,r,!1)}function Koe(t,e,r,n){let i=typeof e=="string"?Jf(e):e,s=nl(i.pathname||"/",r);if(s==null)return null;let o=a7(t);Yoe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=ale(s);l=ile(o[c],d,n)}return l}function a7(t,e=[],r=[],n="",i=!1){let s=(o,l,c=i,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;Fr(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let m=Ko([n,f.relativePath]),p=r.concat(f);o.children&&o.children.length>0&&(Fr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),a7(o.children,e,p,m,c)),!(o.path==null&&!o.index)&&e.push({path:m,score:rle(m,o.index),routesMeta:p})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let d of o7(o.path))s(o,l,!0,d)}),e}function o7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=o7(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Yoe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:nle(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Qoe=/^:[\w-]+$/,Xoe=3,Joe=2,Zoe=1,ele=10,tle=-2,W5=t=>t==="*";function rle(t,e){let r=t.split("/"),n=r.length;return r.some(W5)&&(n+=tle),e&&(n+=Joe),r.filter(i=>!W5(i)).reduce((i,s)=>i+(Qoe.test(s)?Xoe:s===""?Zoe:ele),n)}function nle(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function ile(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=qx({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),p=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=qx({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Ko([s,m.pathname]),pathnameBase:ule(Ko([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=Ko([s,m.pathnameBase]))}return o}function qx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=sle(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:m},p)=>{if(f==="*"){let w=l[p]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[p];return m&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function sle(t,e=!1,r=!0){no(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function ale(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return no(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function nl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function ole(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Jf(t):t;return{pathname:r?r.startsWith("/")?r:lle(r,e):e,search:dle(n),hash:hle(i)}}function lle(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Mj(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cle(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function l7(t){let e=cle(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function c7(t,e,r,n=!1){let i;typeof t=="string"?i=Jf(t):(i={...t},Fr(!i.pathname||!i.pathname.includes("?"),Mj("?","pathname","search",i)),Fr(!i.pathname||!i.pathname.includes("#"),Mj("#","pathname","hash",i)),Fr(!i.search||!i.search.includes("#"),Mj("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}l=m>=0?e[m]:"/"}let c=ole(i,l),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var Ko=t=>t.join("/").replace(/\/\/+/g,"/"),ule=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dle=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hle=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fle(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var u7=["POST","PUT","PATCH","DELETE"];new Set(u7);var mle=["GET",...u7];new Set(mle);var Zf=S.createContext(null);Zf.displayName="DataRouter";var Rw=S.createContext(null);Rw.displayName="DataRouterState";S.createContext(!1);var d7=S.createContext({isTransitioning:!1});d7.displayName="ViewTransition";var ple=S.createContext(new Map);ple.displayName="Fetchers";var gle=S.createContext(null);gle.displayName="Await";var co=S.createContext(null);co.displayName="Navigation";var Py=S.createContext(null);Py.displayName="Location";var gl=S.createContext({outlet:null,matches:[],isDataRoute:!1});gl.displayName="Route";var wk=S.createContext(null);wk.displayName="RouteError";function yle(t,{relative:e}={}){Fr(Ay(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=S.useContext(co),{hash:i,pathname:s,search:o}=Cy(t,{relative:e}),l=s;return r!=="/"&&(l=s==="/"?r:Ko([r,s])),n.createHref({pathname:l,search:o,hash:i})}function Ay(){return S.useContext(Py)!=null}function yl(){return Fr(Ay(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Py).location}var h7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f7(t){S.useContext(co).static||S.useLayoutEffect(t)}function Sd(){let{isDataRoute:t}=S.useContext(gl);return t?Cle():vle()}function vle(){Fr(Ay(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Zf),{basename:e,navigator:r}=S.useContext(co),{matches:n}=S.useContext(gl),{pathname:i}=yl(),s=JSON.stringify(l7(n)),o=S.useRef(!1);return f7(()=>{o.current=!0}),S.useCallback((c,d={})=>{if(no(o.current,h7),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=c7(c,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ko([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,s,i,t])}S.createContext(null);function Cy(t,{relative:e}={}){let{matches:r}=S.useContext(gl),{pathname:n}=yl(),i=JSON.stringify(l7(r));return S.useMemo(()=>c7(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function xle(t,e){return m7(t,e)}function m7(t,e,r,n,i){var T;Fr(Ay(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(co),{matches:o}=S.useContext(gl),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let P=m&&m.path||"";p7(d,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let p=yl(),v;if(e){let P=typeof e=="string"?Jf(e):e;Fr(f==="/"||((T=P.pathname)==null?void 0:T.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${P.pathname}" was given in the \`location\` prop.`),v=P}else v=p;let w=v.pathname||"/",x=w;if(f!=="/"){let P=f.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(P.length).join("/")}let g=s7(t,{pathname:x});no(m||g!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),no(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Nle(g&&g.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:Ko([f,s.encodeLocation?s.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:Ko([f,s.encodeLocation?s.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),o,r,n,i);return e&&_?S.createElement(Py.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function ble(){let t=Ale(),e=fle(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:i},r):null,o)}var wle=S.createElement(ble,null),_le=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(gl.Provider,{value:this.props.routeContext},S.createElement(wk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jle({routeContext:t,match:e,children:r}){let n=S.useContext(Zf);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(gl.Provider,{value:t},r)}function Nle(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=r==null?void 0:r.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Fr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:p}=r,v=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,m)=>{let p,v=!1,w=null,x=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||wle,l&&(c<0&&m===0?(p7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):c===m&&(v=!0,x=f.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,m+1)),_=()=>{let T;return p?T=w:v?T=x:f.route.Component?T=S.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,S.createElement(jle,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:T})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?S.createElement(_le,{location:r.location,revalidation:r.revalidation,component:w,error:p,children:_(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:n}):_()},null)}function _k(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sle(t){let e=S.useContext(Zf);return Fr(e,_k(t)),e}function Tle(t){let e=S.useContext(Rw);return Fr(e,_k(t)),e}function Ele(t){let e=S.useContext(gl);return Fr(e,_k(t)),e}function jk(t){let e=Ele(t),r=e.matches[e.matches.length-1];return Fr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Ple(){return jk("useRouteId")}function Ale(){var n;let t=S.useContext(wk),e=Tle("useRouteError"),r=jk("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Cle(){let{router:t}=Sle("useNavigate"),e=jk("useNavigate"),r=S.useRef(!1);return f7(()=>{r.current=!0}),S.useCallback(async(i,s={})=>{no(r.current,h7),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var H5={};function p7(t,e,r){!e&&!H5[t]&&(H5[t]=!0,no(!1,r))}S.memo(kle);function kle({routes:t,future:e,state:r,unstable_onError:n}){return m7(t,void 0,r,n,e)}function Yr(t){Fr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ile({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Fr(!Ay(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=Jf(r));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:p="default"}=r,v=S.useMemo(()=>{let w=nl(c,o);return w==null?null:{location:{pathname:w,search:d,hash:f,state:m,key:p},navigationType:n}},[o,c,d,f,m,p,n]);return no(v!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:S.createElement(co.Provider,{value:l},S.createElement(Py.Provider,{children:e,value:v}))}function Ole({children:t,location:e}){return xle(KE(t),e)}function KE(t,e=[]){let r=[];return S.Children.forEach(t,(n,i)=>{if(!S.isValidElement(n))return;let s=[...e,i];if(n.type===S.Fragment){r.push.apply(r,KE(n.props.children,s));return}Fr(n.type===Yr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=KE(n.props.children,s)),r.push(o)}),r}var ix="get",sx="application/x-www-form-urlencoded";function Mw(t){return t!=null&&typeof t.tagName=="string"}function Rle(t){return Mw(t)&&t.tagName.toLowerCase()==="button"}function Mle(t){return Mw(t)&&t.tagName.toLowerCase()==="form"}function Dle(t){return Mw(t)&&t.tagName.toLowerCase()==="input"}function Lle(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $le(t,e){return t.button===0&&(!e||e==="_self")&&!Lle(t)}var xv=null;function Fle(){if(xv===null)try{new FormData(document.createElement("form"),0),xv=!1}catch{xv=!0}return xv}var Vle=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dj(t){return t!=null&&!Vle.has(t)?(no(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sx}"`),null):t}function Ble(t,e){let r,n,i,s,o;if(Mle(t)){let l=t.getAttribute("action");n=l?nl(l,e):null,r=t.getAttribute("method")||ix,i=Dj(t.getAttribute("enctype"))||sx,s=new FormData(t)}else if(Rle(t)||Dle(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?nl(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||ix,i=Dj(t.getAttribute("formenctype"))||Dj(l.getAttribute("enctype"))||sx,s=new FormData(l,t),!Fle()){let{name:d,type:f,value:m}=t;if(f==="image"){let p=d?`${d}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else d&&s.append(d,m)}}else{if(Mw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ix,n=null,i=sx,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nk(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qle(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&nl(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Ule(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zle(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Wle(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await Ule(s,r);return o.links?o.links():[]}return[]}));return Yle(n.flat(1).filter(zle).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function G5(t,e,r,n,i,s){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var f;return r[d].pathname!==c.pathname||((f=r[d].route.path)==null?void 0:f.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):s==="data"?e.filter((c,d)=>{var m;let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Hle(t,e,{includeHydrateFallback:r}={}){return Gle(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Gle(t){return[...new Set(t)]}function Kle(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function Yle(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(Kle(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function g7(){let t=S.useContext(Zf);return Nk(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Qle(){let t=S.useContext(Rw);return Nk(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Sk=S.createContext(void 0);Sk.displayName="FrameworkContext";function y7(){let t=S.useContext(Sk);return Nk(t,"You must render this element inside a <HydratedRouter> element"),t}function Xle(t,e){let r=S.useContext(Sk),[n,i]=S.useState(!1),[s,o]=S.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=e,p=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=_=>{_.forEach(T=>{o(T.isIntersecting)})},g=new IntersectionObserver(x,{threshold:.5});return p.current&&g.observe(p.current),()=>{g.disconnect()}}},[t]),S.useEffect(()=>{if(n){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[n]);let v=()=>{i(!0)},w=()=>{i(!1),o(!1)};return r?t!=="intent"?[s,p,{}]:[s,p,{onFocus:dp(l,v),onBlur:dp(c,w),onMouseEnter:dp(d,v),onMouseLeave:dp(f,w),onTouchStart:dp(m,v)}]:[!1,p,{}]}function dp(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Jle({page:t,...e}){let{router:r}=g7(),n=S.useMemo(()=>s7(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?S.createElement(ece,{page:t,matches:n,...e}):null}function Zle(t){let{manifest:e,routeModules:r}=y7(),[n,i]=S.useState([]);return S.useEffect(()=>{let s=!1;return Wle(t,e,r).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,r]),n}function ece({page:t,matches:e,...r}){let n=yl(),{manifest:i,routeModules:s}=y7(),{basename:o}=g7(),{loaderData:l,matches:c}=Qle(),d=S.useMemo(()=>G5(t,e,c,i,n,"data"),[t,e,c,i,n]),f=S.useMemo(()=>G5(t,e,c,i,n,"assets"),[t,e,c,i,n]),m=S.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,x=!1;if(e.forEach(_=>{var P;let T=i.routes[_.route.id];!T||!T.hasLoader||(!d.some(I=>I.route.id===_.route.id)&&_.route.id in l&&((P=s[_.route.id])!=null&&P.shouldRevalidate)||T.hasClientLoader?x=!0:w.add(_.route.id))}),w.size===0)return[];let g=qle(t,o,"data");return x&&w.size>0&&g.searchParams.set("_routes",e.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[g.pathname+g.search]},[o,l,n,i,d,e,t,s]),p=S.useMemo(()=>Hle(f,i),[f,i]),v=Zle(f);return S.createElement(S.Fragment,null,m.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),p.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),v.map(({key:w,link:x})=>S.createElement("link",{key:w,nonce:r.nonce,...x})))}function tce(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var v7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v7&&(window.__reactRouterVersion="7.9.5")}catch{}function rce({basename:t,children:e,window:r}){let n=S.useRef();n.current==null&&(n.current=zoe({window:r,v5Compat:!0}));let i=n.current,[s,o]=S.useState({action:i.action,location:i.location}),l=S.useCallback(c=>{S.startTransition(()=>o(c))},[o]);return S.useLayoutEffect(()=>i.listen(l),[i,l]),S.createElement(Ile,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var x7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=S.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:f,viewTransition:m,...p},v){let{basename:w}=S.useContext(co),x=typeof d=="string"&&x7.test(d),g,_=!1;if(typeof d=="string"&&x&&(g=d,v7))try{let O=new URL(window.location.href),D=d.startsWith("//")?new URL(O.protocol+d):new URL(d),L=nl(D.pathname,w);D.origin===O.origin&&L!=null?d=L+D.search+D.hash:_=!0}catch{no(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=yle(d,{relative:i}),[P,I,A]=Xle(n,p),C=ace(d,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:m});function E(O){e&&e(O),O.defaultPrevented||C(O)}let N=S.createElement("a",{...p,...A,href:g||T,onClick:_||s?e:E,ref:tce(v,I),target:c,"data-discover":!x&&r==="render"?"true":void 0});return P&&!x?S.createElement(S.Fragment,null,N,S.createElement(Jle,{page:T})):N});Ht.displayName="Link";var nce=S.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...d},f){let m=Cy(o,{relative:d.relative}),p=yl(),v=S.useContext(Rw),{navigator:w,basename:x}=S.useContext(co),g=v!=null&&dce(m)&&l===!0,_=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,T=p.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(T=T.toLowerCase(),P=P?P.toLowerCase():null,_=_.toLowerCase()),P&&x&&(P=nl(P,x)||P);const I=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let A=T===_||!i&&T.startsWith(_)&&T.charAt(I)==="/",C=P!=null&&(P===_||!i&&P.startsWith(_)&&P.charAt(_.length)==="/"),E={isActive:A,isPending:C,isTransitioning:g},N=A?e:void 0,O;typeof n=="function"?O=n(E):O=[n,A?"active":null,C?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(E):s;return S.createElement(Ht,{...d,"aria-current":N,className:O,ref:f,style:D,to:o,viewTransition:l},typeof c=="function"?c(E):c)});nce.displayName="NavLink";var ice=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:o=ix,action:l,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:m,...p},v)=>{let w=cce(),x=uce(l,{relative:d}),g=o.toLowerCase()==="get"?"get":"post",_=typeof l=="string"&&x7.test(l),T=P=>{if(c&&c(P),P.defaultPrevented)return;P.preventDefault();let I=P.nativeEvent.submitter,A=(I==null?void 0:I.getAttribute("formmethod"))||o;w(I||P.currentTarget,{fetcherKey:e,method:A,navigate:r,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:m})};return S.createElement("form",{ref:v,method:g,action:x,onSubmit:n?c:T,...p,"data-discover":!_&&t==="render"?"true":void 0})});ice.displayName="Form";function sce(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b7(t){let e=S.useContext(Zf);return Fr(e,sce(t)),e}function ace(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=Sd(),c=yl(),d=Cy(t,{relative:s});return S.useCallback(f=>{if($le(f,e)){f.preventDefault();let m=r!==void 0?r:gg(c)===gg(d);l(t,{replace:m,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,d,r,n,e,t,i,s,o])}var oce=0,lce=()=>`__${String(++oce)}__`;function cce(){let{router:t}=b7("useSubmit"),{basename:e}=S.useContext(co),r=Ple();return S.useCallback(async(n,i={})=>{let{action:s,method:o,encType:l,formData:c,body:d}=Ble(n,e);if(i.navigate===!1){let f=i.fetcherKey||lce();await t.fetch(f,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function uce(t,{relative:e}={}){let{basename:r}=S.useContext(co),n=S.useContext(gl);Fr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Cy(t||".",{relative:e})},o=yl();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ko([r,s.pathname])),gg(s)}function dce(t,{relative:e}={}){let r=S.useContext(d7);Fr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=b7("useViewTransitionState"),i=Cy(t,{relative:e});if(!r.isTransitioning)return!1;let s=nl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=nl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return qx(i.pathname,o)!=null||qx(i.pathname,s)!=null}var ky=kq();const hce=Jt(ky);function Je(t){return"/"+t.toLowerCase().replace(/ /g,"-")}var Dw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fce={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},cc,wC,Tq,mce=(Tq=class{constructor(){rr(this,cc,fce);rr(this,wC,!1)}setTimeoutProvider(t){Et(this,cc,t)}setTimeout(t,e){return ye(this,cc).setTimeout(t,e)}clearTimeout(t){ye(this,cc).clearTimeout(t)}setInterval(t,e){return ye(this,cc).setInterval(t,e)}clearInterval(t){ye(this,cc).clearInterval(t)}},cc=new WeakMap,wC=new WeakMap,Tq),bv=new mce;function pce(t){setTimeout(t,0)}var yg=typeof window>"u"||"Deno"in globalThis;function Ux(){}function K5(t){return typeof t=="number"&&t>=0&&t!==1/0}function gce(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wp(t,e){return typeof t=="function"?t(e):t}function ea(t,e){return typeof t=="function"?t(e):t}function Y5(t){return JSON.stringify(t,(e,r)=>YE(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}var yce=Object.prototype.hasOwnProperty;function w7(t,e){if(t===e)return t;const r=Q5(t)&&Q5(e);if(!r&&!(YE(t)&&YE(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),o=s.length,l=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const f=r?d:s[d],m=t[f],p=e[f];if(m===p){l[f]=m,(r?d<i:yce.call(t,f))&&c++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){l[f]=p;continue}const v=w7(m,p);l[f]=v,v===m&&c++}return i===o&&c===i?t:l}function zx(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Q5(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function YE(t){if(!X5(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!X5(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function X5(t){return Object.prototype.toString.call(t)==="[object Object]"}function J5(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?w7(t,e):e}function _7(t,e){return typeof t=="function"?t(...e):!!t}var Uu,uc,Zh,Eq,vce=(Eq=class extends Dw{constructor(){super();rr(this,Uu);rr(this,uc);rr(this,Zh);Et(this,Zh,e=>{if(!yg&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ye(this,uc)||this.setEventListener(ye(this,Zh))}onUnsubscribe(){var e;this.hasListeners()||((e=ye(this,uc))==null||e.call(this),Et(this,uc,void 0))}setEventListener(e){var r;Et(this,Zh,e),(r=ye(this,uc))==null||r.call(this),Et(this,uc,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){ye(this,Uu)!==e&&(Et(this,Uu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof ye(this,Uu)=="boolean"?ye(this,Uu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Uu=new WeakMap,uc=new WeakMap,Zh=new WeakMap,Eq),xce=new vce;function Z5(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var bce=pce;function wce(){let t=[],e=0,r=l=>{l()},n=l=>{l()},i=bce;const s=l=>{e?t.push(l):i(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Lw=wce(),ef,dc,tf,Pq,_ce=(Pq=class extends Dw{constructor(){super();rr(this,ef,!0);rr(this,dc);rr(this,tf);Et(this,tf,e=>{if(!yg&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ye(this,dc)||this.setEventListener(ye(this,tf))}onUnsubscribe(){var e;this.hasListeners()||((e=ye(this,dc))==null||e.call(this),Et(this,dc,void 0))}setEventListener(e){var r;Et(this,tf,e),(r=ye(this,dc))==null||r.call(this),Et(this,dc,e(this.setOnline.bind(this)))}setOnline(e){ye(this,ef)!==e&&(Et(this,ef,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return ye(this,ef)}},ef=new WeakMap,dc=new WeakMap,tf=new WeakMap,Pq),jce=new _ce;function Nce(t){return(t??"online")==="online"?jce.isOnline():!0}function Sce(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Nce(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}var Di,Vt,my,yi,zu,rf,Mo,hc,py,nf,sf,Wu,Hu,fc,af,sr,Cp,QE,XE,JE,ZE,eP,tP,rP,j7,Aq,Tce=(Aq=class extends Dw{constructor(e,r){super();rr(this,sr);rr(this,Di);rr(this,Vt);rr(this,my);rr(this,yi);rr(this,zu);rr(this,rf);rr(this,Mo);rr(this,hc);rr(this,py);rr(this,nf);rr(this,sf);rr(this,Wu);rr(this,Hu);rr(this,fc);rr(this,af,new Set);this.options=r,Et(this,Di,e),Et(this,hc,null),Et(this,Mo,Z5()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ye(this,Vt).addObserver(this),e3(ye(this,Vt),this.options)?Sr(this,sr,Cp).call(this):this.updateResult(),Sr(this,sr,ZE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nP(ye(this,Vt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nP(ye(this,Vt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Sr(this,sr,eP).call(this),Sr(this,sr,tP).call(this),ye(this,Vt).removeObserver(this)}setOptions(e){const r=this.options,n=ye(this,Vt);if(this.options=ye(this,Di).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ea(this.options.enabled,ye(this,Vt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Sr(this,sr,rP).call(this),ye(this,Vt).setOptions(this.options),r._defaulted&&!zx(this.options,r)&&ye(this,Di).getQueryCache().notify({type:"observerOptionsUpdated",query:ye(this,Vt),observer:this});const i=this.hasListeners();i&&t3(ye(this,Vt),n,this.options,r)&&Sr(this,sr,Cp).call(this),this.updateResult(),i&&(ye(this,Vt)!==n||ea(this.options.enabled,ye(this,Vt))!==ea(r.enabled,ye(this,Vt))||Wp(this.options.staleTime,ye(this,Vt))!==Wp(r.staleTime,ye(this,Vt)))&&Sr(this,sr,QE).call(this);const s=Sr(this,sr,XE).call(this);i&&(ye(this,Vt)!==n||ea(this.options.enabled,ye(this,Vt))!==ea(r.enabled,ye(this,Vt))||s!==ye(this,fc))&&Sr(this,sr,JE).call(this,s)}getOptimisticResult(e){const r=ye(this,Di).getQueryCache().build(ye(this,Di),e),n=this.createResult(r,e);return Pce(this,n)&&(Et(this,yi,n),Et(this,rf,this.options),Et(this,zu,ye(this,Vt).state)),n}getCurrentResult(){return ye(this,yi)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&ye(this,Mo).status==="pending"&&ye(this,Mo).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){ye(this,af).add(e)}getCurrentQuery(){return ye(this,Vt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=ye(this,Di).defaultQueryOptions(e),n=ye(this,Di).getQueryCache().build(ye(this,Di),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Sr(this,sr,Cp).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ye(this,yi)))}createResult(e,r){var O;const n=ye(this,Vt),i=this.options,s=ye(this,yi),o=ye(this,zu),l=ye(this,rf),d=e!==n?e.state:ye(this,my),{state:f}=e;let m={...f},p=!1,v;if(r._optimisticResults){const D=this.hasListeners(),L=!D&&e3(e,r),$=D&&t3(e,n,r,i);(L||$)&&(m={...m,...Sce(f.data,e.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:w,errorUpdatedAt:x,status:g}=m;v=m.data;let _=!1;if(r.placeholderData!==void 0&&v===void 0&&g==="pending"){let D;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(D=s.data,_=!0):D=typeof r.placeholderData=="function"?r.placeholderData((O=ye(this,sf))==null?void 0:O.state.data,ye(this,sf)):r.placeholderData,D!==void 0&&(g="success",v=J5(s==null?void 0:s.data,D,r),p=!0)}if(r.select&&v!==void 0&&!_)if(s&&v===(o==null?void 0:o.data)&&r.select===ye(this,py))v=ye(this,nf);else try{Et(this,py,r.select),v=r.select(v),v=J5(s==null?void 0:s.data,v,r),Et(this,nf,v),Et(this,hc,null)}catch(D){Et(this,hc,D)}ye(this,hc)&&(w=ye(this,hc),v=ye(this,nf),x=Date.now(),g="error");const T=m.fetchStatus==="fetching",P=g==="pending",I=g==="error",A=P&&T,C=v!==void 0,N={status:g,fetchStatus:m.fetchStatus,isPending:P,isSuccess:g==="success",isError:I,isInitialLoading:A,isLoading:A,data:v,dataUpdatedAt:m.dataUpdatedAt,error:w,errorUpdatedAt:x,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:T,isRefetching:T&&!P,isLoadingError:I&&!C,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:I&&C,isStale:Tk(e,r),refetch:this.refetch,promise:ye(this,Mo),isEnabled:ea(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=F=>{N.status==="error"?F.reject(N.error):N.data!==void 0&&F.resolve(N.data)},L=()=>{const F=Et(this,Mo,N.promise=Z5());D(F)},$=ye(this,Mo);switch($.status){case"pending":e.queryHash===n.queryHash&&D($);break;case"fulfilled":(N.status==="error"||N.data!==$.value)&&L();break;case"rejected":(N.status!=="error"||N.error!==$.reason)&&L();break}}return N}updateResult(){const e=ye(this,yi),r=this.createResult(ye(this,Vt),this.options);if(Et(this,zu,ye(this,Vt).state),Et(this,rf,this.options),ye(this,zu).data!==void 0&&Et(this,sf,ye(this,Vt)),zx(r,e))return;Et(this,yi,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!ye(this,af).size)return!0;const o=new Set(s??ye(this,af));return this.options.throwOnError&&o.add("error"),Object.keys(ye(this,yi)).some(l=>{const c=l;return ye(this,yi)[c]!==e[c]&&o.has(c)})};Sr(this,sr,j7).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Sr(this,sr,ZE).call(this)}},Di=new WeakMap,Vt=new WeakMap,my=new WeakMap,yi=new WeakMap,zu=new WeakMap,rf=new WeakMap,Mo=new WeakMap,hc=new WeakMap,py=new WeakMap,nf=new WeakMap,sf=new WeakMap,Wu=new WeakMap,Hu=new WeakMap,fc=new WeakMap,af=new WeakMap,sr=new WeakSet,Cp=function(e){Sr(this,sr,rP).call(this);let r=ye(this,Vt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ux)),r},QE=function(){Sr(this,sr,eP).call(this);const e=Wp(this.options.staleTime,ye(this,Vt));if(yg||ye(this,yi).isStale||!K5(e))return;const n=gce(ye(this,yi).dataUpdatedAt,e)+1;Et(this,Wu,bv.setTimeout(()=>{ye(this,yi).isStale||this.updateResult()},n))},XE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ye(this,Vt)):this.options.refetchInterval)??!1},JE=function(e){Sr(this,sr,tP).call(this),Et(this,fc,e),!(yg||ea(this.options.enabled,ye(this,Vt))===!1||!K5(ye(this,fc))||ye(this,fc)===0)&&Et(this,Hu,bv.setInterval(()=>{(this.options.refetchIntervalInBackground||xce.isFocused())&&Sr(this,sr,Cp).call(this)},ye(this,fc)))},ZE=function(){Sr(this,sr,QE).call(this),Sr(this,sr,JE).call(this,Sr(this,sr,XE).call(this))},eP=function(){ye(this,Wu)&&(bv.clearTimeout(ye(this,Wu)),Et(this,Wu,void 0))},tP=function(){ye(this,Hu)&&(bv.clearInterval(ye(this,Hu)),Et(this,Hu,void 0))},rP=function(){const e=ye(this,Di).getQueryCache().build(ye(this,Di),this.options);if(e===ye(this,Vt))return;const r=ye(this,Vt);Et(this,Vt,e),Et(this,my,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},j7=function(e){Lw.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(ye(this,yi))}),ye(this,Di).getQueryCache().notify({query:ye(this,Vt),type:"observerResultsUpdated"})})},Aq);function Ece(t,e){return ea(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function e3(t,e){return Ece(t,e)||t.state.data!==void 0&&nP(t,e,e.refetchOnMount)}function nP(t,e,r){if(ea(e.enabled,t)!==!1&&Wp(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Tk(t,e)}return!1}function t3(t,e,r,n){return(t!==e||ea(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Tk(t,r)}function Tk(t,e){return ea(e.enabled,t)!==!1&&t.isStaleByTime(Wp(e.staleTime,t))}function Pce(t,e){return!zx(t.getCurrentResult(),e)}function Ace(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Do,mc,Li,Lo,Jo,ax,iP,Cq,Cce=(Cq=class extends Dw{constructor(r,n){super();rr(this,Jo);rr(this,Do);rr(this,mc);rr(this,Li);rr(this,Lo);Et(this,Do,r),this.setOptions(n),this.bindMethods(),Sr(this,Jo,ax).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=ye(this,Do).defaultMutationOptions(r),zx(this.options,n)||ye(this,Do).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ye(this,Li),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Y5(n.mutationKey)!==Y5(this.options.mutationKey)?this.reset():((i=ye(this,Li))==null?void 0:i.state.status)==="pending"&&ye(this,Li).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ye(this,Li))==null||r.removeObserver(this)}onMutationUpdate(r){Sr(this,Jo,ax).call(this),Sr(this,Jo,iP).call(this,r)}getCurrentResult(){return ye(this,mc)}reset(){var r;(r=ye(this,Li))==null||r.removeObserver(this),Et(this,Li,void 0),Sr(this,Jo,ax).call(this),Sr(this,Jo,iP).call(this)}mutate(r,n){var i;return Et(this,Lo,n),(i=ye(this,Li))==null||i.removeObserver(this),Et(this,Li,ye(this,Do).getMutationCache().build(ye(this,Do),this.options)),ye(this,Li).addObserver(this),ye(this,Li).execute(r)}},Do=new WeakMap,mc=new WeakMap,Li=new WeakMap,Lo=new WeakMap,Jo=new WeakSet,ax=function(){var n;const r=((n=ye(this,Li))==null?void 0:n.state)??Ace();Et(this,mc,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},iP=function(r){Lw.batch(()=>{var n,i,s,o,l,c,d,f;if(ye(this,Lo)&&this.hasListeners()){const m=ye(this,mc).variables,p=ye(this,mc).context,v={client:ye(this,Do),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=ye(this,Lo)).onSuccess)==null||i.call(n,r.data,m,p,v),(o=(s=ye(this,Lo)).onSettled)==null||o.call(s,r.data,null,m,p,v)):(r==null?void 0:r.type)==="error"&&((c=(l=ye(this,Lo)).onError)==null||c.call(l,r.error,m,p,v),(f=(d=ye(this,Lo)).onSettled)==null||f.call(d,void 0,r.error,m,p,v))}this.listeners.forEach(m=>{m(ye(this,mc))})})},Cq),kce=S.createContext(void 0),vn=t=>{const e=S.useContext(kce);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},N7=S.createContext(!1),Ice=()=>S.useContext(N7);N7.Provider;function Oce(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Rce=S.createContext(Oce()),Mce=()=>S.useContext(Rce),Dce=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Lce=t=>{S.useEffect(()=>{t.clearReset()},[t])},$ce=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||_7(r,[t.error,n])),Fce=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Vce=(t,e)=>t.isLoading&&t.isFetching&&!e,Bce=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,r3=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function qce(t,e,r){var m,p,v,w,x;const n=Ice(),i=Mce(),s=vn(),o=s.defaultQueryOptions(t);(p=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||p.call(m,o),o._optimisticResults=n?"isRestoring":"optimistic",Fce(o),Dce(o,i),Lce(i);const l=!s.getQueryCache().get(o.queryHash),[c]=S.useState(()=>new e(s,o)),d=c.getOptimisticResult(o),f=!n&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(g=>{const _=f?c.subscribe(Lw.batchCalls(g)):Ux;return c.updateResult(),_},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),S.useEffect(()=>{c.setOptions(o)},[o,c]),Bce(o,d))throw r3(o,c,i);if($ce({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((w=(v=s.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||w.call(v,o,d),o.experimental_prefetchInRender&&!yg&&Vce(d,n)){const g=l?r3(o,c,i):(x=s.getQueryCache().get(o.queryHash))==null?void 0:x.promise;g==null||g.catch(Ux).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function ut(t,e){return qce(t,Tce)}function Pr(t,e){const r=vn(),[n]=S.useState(()=>new Cce(r,t));S.useEffect(()=>{n.setOptions(t)},[n,t]);const i=S.useSyncExternalStore(S.useCallback(o=>n.subscribe(Lw.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=S.useCallback((o,l)=>{n.mutate(o,l).catch(Ux)},[n]);if(i.error&&_7(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uce=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S7=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...l},c)=>S.createElement("svg",{ref:c,...zce,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:S7("lucide",i),...l},[...o.map(([d,f])=>S.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const r=S.forwardRef(({className:n,...i},s)=>S.createElement(Wce,{ref:s,iconNode:e,className:S7(`lucide-${Uce(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Yu=Ee("ArrowLeft",Hce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],T7=Ee("ArrowRight",Gce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kce=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Gn=Ee("Award",Kce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Qce=Ee("Bell",Yce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]],Lj=Ee("Binary",Xce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ks=Ee("BookOpen",Jce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],eue=Ee("Book",Zce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],mn=Ee("Brain",tue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]],Wx=Ee("Brush",rue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],_u=Ee("Calculator",nue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wr=Ee("Calendar",iue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],mf=Ee("ChartColumn",sue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mr=Ee("Check",aue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ek=Ee("ChevronDown",oue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pk=Ee("ChevronRight",lue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cue=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],uue=Ee("ChevronUp",cue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const due=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],em=Ee("CircleAlert",due);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ut=Ee("CircleCheckBig",hue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],od=Ee("CircleX",fue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pue=Ee("Circle",mue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],yue=Ee("ClipboardList",gue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],wr=Ee("Clock",vue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xue=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],_c=Ee("Coins",xue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],$w=Ee("CreditCard",bue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],bi=Ee("Crown",wue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=[["circle",{cx:"12",cy:"6",r:"1",key:"1bh7o1"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["circle",{cx:"12",cy:"18",r:"1",key:"lqb9t5"}]],sc=Ee("Divide",_ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],hp=Ee("DollarSign",jue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],vg=Ee("Download",Nue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],E7=Ee("Eraser",Sue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ox=Ee("ExternalLink",Tue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n3=Ee("Eye",Eue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Aue=Ee("Facebook",Pue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],i3=Ee("FileText",Cue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Ph=Ee("Flame",kue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Oue=Ee("Footprints",Iue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Mue=Ee("Gamepad2",Rue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],sP=Ee("Gift",Due);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]],$ue=Ee("Glasses",Lue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Vue=Ee("Globe",Fue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],$j=Ee("GraduationCap",Bue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],gi=Ee("Grid3x3",que);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Hp=Ee("Heart",Uue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],lx=Ee("House",zue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Hue=Ee("Image",Wue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ai=Ee("Info",Gue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Yue=Ee("Instagram",Kue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],s3=Ee("Lightbulb",Que);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Jue=Ee("Link2",Xue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],P7=Ee("LoaderCircle",Zue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oi=Ee("Lock",ede);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tde=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],a3=Ee("LogOut",tde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rde=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],zh=Ee("Mail",rde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],ide=Ee("Maximize2",nde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sde=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Gp=Ee("Medal",sde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],ode=Ee("Menu",ade);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ac=Ee("MessageSquare",lde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=[["path",{d:"M5 12h14",key:"1ays0h"}]],oc=Ee("Minus",cde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],dde=Ee("Moon",ude);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],A7=Ee("PaintBucket",hde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],ld=Ee("Palette",fde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],pde=Ee("PartyPopper",mde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],mh=Ee("Percent",gde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Kp=Ee("Play",yde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fn=Ee("Plus",vde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bde=Ee("RefreshCw",xde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],wv=Ee("Reply",wde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],jde=Ee("Rocket",_de);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nde=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ak=Ee("RotateCcw",Nde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Hx=Ee("Save",Sde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],C7=Ee("Send",Tde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xg=Ee("Settings",Ede);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],Yl=Ee("Shapes",Pde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ade=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],o3=Ee("Share2",Ade);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],l3=Ee("Share",Cde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Vi=Ee("Shield",kde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],Ode=Ee("Shirt",Ide);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],qo=Ee("ShoppingBag",Rde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Dde=Ee("Shuffle",Mde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],$de=Ee("Smartphone",Lde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Vde=Ee("Smile",Fde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Yt=Ee("Sparkles",Bde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Nt=Ee("Star",qde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zde=Ee("Sun",Ude);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Qt=Ee("Target",Wde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Gde=Ee("ThumbsUp",Hde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Iy=Ee("Trash2",Kde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Ic=Ee("TrendingDown",Yde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],mr=Ee("TrendingUp",Qde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zn=Ee("TriangleAlert",Xde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Ct=Ee("Trophy",Jde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],ehe=Ee("Twitter",Zde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],rhe=Ee("Upload",the);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],aP=Ee("UserCog",nhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],kp=Ee("UserPlus",ihe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Wh=Ee("User",she);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],yn=Ee("Users",ahe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ohe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],c3=Ee("Volume2",ohe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sn=Ee("X",lhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],qn=Ee("Zap",che);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],dhe=Ee("ZoomIn",uhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hhe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],fhe=Ee("ZoomOut",hhe);function k7(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=k7(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function dt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=k7(t))&&(n&&(n+=" "),n+=e);return n}const u3=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,d3=dt,Oy=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return d3(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const f=r==null?void 0:r[d],m=s==null?void 0:s[d];if(f===null)return null;const p=u3(f)||u3(m);return i[d][p]}),l=r&&Object.entries(r).reduce((d,f)=>{let[m,p]=f;return p===void 0||(d[m]=p),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:m,className:p,...v}=f;return Object.entries(v).every(w=>{let[x,g]=w;return Array.isArray(g)?g.includes({...s,...l}[x]):{...s,...l}[x]===g})?[...d,m,p]:d},[]);return d3(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},Ck="-",mhe=t=>{const e=ghe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(Ck);return l[0]===""&&l.length!==1&&l.shift(),I7(l,e)||phe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},I7=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?I7(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Ck);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},h3=/^\[(.+)\]$/,phe=t=>{if(h3.test(t)){const e=h3.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},ghe=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const i in r)oP(r[i],n,i,e);return n},oP=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:f3(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(yhe(i)){oP(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{oP(o,f3(e,s),r,n)})})},f3=(t,e)=>{let r=t;return e.split(Ck).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},yhe=t=>t.isThemeGetter,vhe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},lP="!",cP=":",xhe=cP.length,bhe=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const s=[];let o=0,l=0,c=0,d;for(let w=0;w<i.length;w++){let x=i[w];if(o===0&&l===0){if(x===cP){s.push(i.slice(c,w)),c=w+xhe;continue}if(x==="/"){d=w;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const f=s.length===0?i:i.substring(c),m=whe(f),p=m!==f,v=d&&d>c?d-c:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:v}};if(e){const i=e+cP,s=n;n=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=s=>r({className:s,parseClassName:i})}return n},whe=t=>t.endsWith(lP)?t.substring(0,t.length-1):t.startsWith(lP)?t.substring(1):t,_he=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let s=[];return n.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},jhe=t=>({cache:vhe(t.cacheSize),parseClassName:bhe(t),sortModifiers:_he(t),...mhe(t)}),Nhe=/\s+/,She=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=t.trim().split(Nhe);let c="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:m,modifiers:p,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:x}=r(f);if(m){c=f+(c.length>0?" "+c:c);continue}let g=!!x,_=n(g?w.substring(0,x):w);if(!_){if(!g){c=f+(c.length>0?" "+c:c);continue}if(_=n(w),!_){c=f+(c.length>0?" "+c:c);continue}g=!1}const T=s(p).join(":"),P=v?T+lP:T,I=P+_;if(o.includes(I))continue;o.push(I);const A=i(_,g);for(let C=0;C<A.length;++C){const E=A[C];o.push(P+E)}c=f+(c.length>0?" "+c:c)}return c};function The(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=O7(e))&&(n&&(n+=" "),n+=r);return n}const O7=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=O7(t[n]))&&(r&&(r+=" "),r+=e);return r};function Ehe(t,...e){let r,n,i,s=o;function o(c){const d=e.reduce((f,m)=>m(f),t());return r=jhe(d),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const d=n(c);if(d)return d;const f=She(c,r);return i(c,f),f}return function(){return s(The.apply(null,arguments))}}const un=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},R7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,M7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Phe=/^\d+\/\d+$/,Ahe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Che=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,khe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ihe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ohe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ph=t=>Phe.test(t),Pt=t=>!!t&&!Number.isNaN(Number(t)),Ql=t=>!!t&&Number.isInteger(Number(t)),Fj=t=>t.endsWith("%")&&Pt(t.slice(0,-1)),Io=t=>Ahe.test(t),Rhe=()=>!0,Mhe=t=>Che.test(t)&&!khe.test(t),D7=()=>!1,Dhe=t=>Ihe.test(t),Lhe=t=>Ohe.test(t),$he=t=>!Ge(t)&&!Ke(t),Fhe=t=>tm(t,F7,D7),Ge=t=>R7.test(t),ju=t=>tm(t,V7,Mhe),Vj=t=>tm(t,zhe,Pt),m3=t=>tm(t,L7,D7),Vhe=t=>tm(t,$7,Lhe),_v=t=>tm(t,B7,Dhe),Ke=t=>M7.test(t),fp=t=>rm(t,V7),Bhe=t=>rm(t,Whe),p3=t=>rm(t,L7),qhe=t=>rm(t,F7),Uhe=t=>rm(t,$7),jv=t=>rm(t,B7,!0),tm=(t,e,r)=>{const n=R7.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},rm=(t,e,r=!1)=>{const n=M7.exec(t);return n?n[1]?e(n[1]):r:!1},L7=t=>t==="position"||t==="percentage",$7=t=>t==="image"||t==="url",F7=t=>t==="length"||t==="size"||t==="bg-size",V7=t=>t==="length",zhe=t=>t==="number",Whe=t=>t==="family-name",B7=t=>t==="shadow",Hhe=()=>{const t=un("color"),e=un("font"),r=un("text"),n=un("font-weight"),i=un("tracking"),s=un("leading"),o=un("breakpoint"),l=un("container"),c=un("spacing"),d=un("radius"),f=un("shadow"),m=un("inset-shadow"),p=un("text-shadow"),v=un("drop-shadow"),w=un("blur"),x=un("perspective"),g=un("aspect"),_=un("ease"),T=un("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...I(),Ke,Ge],C=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],N=()=>[Ke,Ge,c],O=()=>[ph,"full","auto",...N()],D=()=>[Ql,"none","subgrid",Ke,Ge],L=()=>["auto",{span:["full",Ql,Ke,Ge]},Ql,Ke,Ge],$=()=>[Ql,"auto",Ke,Ge],F=()=>["auto","min","max","fr",Ke,Ge],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...N()],X=()=>[ph,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],U=()=>[t,Ke,Ge],Q=()=>[...I(),p3,m3,{position:[Ke,Ge]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",qhe,Fhe,{size:[Ke,Ge]}],Z=()=>[Fj,fp,ju],ue=()=>["","none","full",d,Ke,Ge],le=()=>["",Pt,fp,ju],be=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[Pt,Fj,p3,m3],Ie=()=>["","none",w,Ke,Ge],fe=()=>["none",Pt,Ke,Ge],Pe=()=>["none",Pt,Ke,Ge],Re=()=>[Pt,Ke,Ge],he=()=>[ph,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Io],breakpoint:[Io],color:[Rhe],container:[Io],"drop-shadow":[Io],ease:["in","out","in-out"],font:[$he],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Io],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Io],shadow:[Io],spacing:["px",Pt],text:[Io],"text-shadow":[Io],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ph,Ge,Ke,g]}],container:["container"],columns:[{columns:[Pt,Ge,Ke,l]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Ql,"auto",Ke,Ge]}],basis:[{basis:[ph,"full","auto",l,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pt,ph,"auto","initial","none",Ge]}],grow:[{grow:["",Pt,Ke,Ge]}],shrink:[{shrink:["",Pt,Ke,Ge]}],order:[{order:[Ql,"first","last","none",Ke,Ge]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[l,"screen",...X()]}],"min-w":[{"min-w":[l,"screen","none",...X()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",r,fp,ju]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ke,Vj]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fj,Ge]}],"font-family":[{font:[Bhe,Ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ke,Ge]}],"line-clamp":[{"line-clamp":[Pt,"none",Ke,Vj]}],leading:[{leading:[s,...N()]}],"list-image":[{"list-image":["none",Ke,Ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ke,Ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pt,"from-font","auto",Ke,ju]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[Pt,"auto",Ke,Ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke,Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke,Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ql,Ke,Ge],radial:["",Ke,Ge],conic:[Ql,Ke,Ge]},Uhe,Vhe]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pt,Ke,Ge]}],"outline-w":[{outline:["",Pt,fp,ju]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",f,jv,_v]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",m,jv,_v]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[Pt,ju]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",p,jv,_v]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[Pt,Ke,Ge]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Ke,Ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[Pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ke,Ge]}],filter:[{filter:["","none",Ke,Ge]}],blur:[{blur:Ie()}],brightness:[{brightness:[Pt,Ke,Ge]}],contrast:[{contrast:[Pt,Ke,Ge]}],"drop-shadow":[{"drop-shadow":["","none",v,jv,_v]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",Pt,Ke,Ge]}],"hue-rotate":[{"hue-rotate":[Pt,Ke,Ge]}],invert:[{invert:["",Pt,Ke,Ge]}],saturate:[{saturate:[Pt,Ke,Ge]}],sepia:[{sepia:["",Pt,Ke,Ge]}],"backdrop-filter":[{"backdrop-filter":["","none",Ke,Ge]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[Pt,Ke,Ge]}],"backdrop-contrast":[{"backdrop-contrast":[Pt,Ke,Ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pt,Ke,Ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pt,Ke,Ge]}],"backdrop-invert":[{"backdrop-invert":["",Pt,Ke,Ge]}],"backdrop-opacity":[{"backdrop-opacity":[Pt,Ke,Ge]}],"backdrop-saturate":[{"backdrop-saturate":[Pt,Ke,Ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Pt,Ke,Ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ke,Ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pt,"initial",Ke,Ge]}],ease:[{ease:["linear","initial",_,Ke,Ge]}],delay:[{delay:[Pt,Ke,Ge]}],animate:[{animate:["none",T,Ke,Ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ke,Ge]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:Re()}],"skew-x":[{"skew-x":Re()}],"skew-y":[{"skew-y":Re()}],transform:[{transform:[Ke,Ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:he()}],"translate-x":[{"translate-x":he()}],"translate-y":[{"translate-y":he()}],"translate-z":[{"translate-z":he()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke,Ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke,Ge]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[Pt,fp,ju,Vj]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ghe=Ehe(Hhe);function vt(...t){return Ghe(dt(t))}const Khe=Oy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function je({className:t,variant:e,...r}){return a.jsx("div",{className:vt(Khe({variant:e}),t),...r})}function g3(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Uc(...t){return e=>{let r=!1;const n=t.map(i=>{const s=g3(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():g3(t[i],null)}}}}function $t(...t){return S.useCallback(Uc(...t),t)}var Yhe=Symbol.for("react.lazy"),Gx=jC[" use ".trim().toString()];function Qhe(t){return typeof t=="object"&&t!==null&&"then"in t}function q7(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Yhe&&"_payload"in t&&Qhe(t._payload)}function kk(t){const e=Jhe(t),r=S.forwardRef((n,i)=>{let{children:s,...o}=n;q7(s)&&typeof Gx=="function"&&(s=Gx(s._payload));const l=S.Children.toArray(s),c=l.find(efe);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var Xhe=kk("Slot");function Jhe(t){const e=S.forwardRef((r,n)=>{let{children:i,...s}=r;if(q7(i)&&typeof Gx=="function"&&(i=Gx(i._payload)),S.isValidElement(i)){const o=rfe(i),l=tfe(s,i.props);return i.type!==S.Fragment&&(l.ref=n?Uc(n,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Zhe=Symbol("radix.slottable");function efe(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Zhe}function tfe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function rfe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const nfe=Oy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),oe=S.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?Xhe:"button";return a.jsx(o,{className:vt(nfe({variant:e,size:r,className:t})),ref:s,...i})});oe.displayName="Button";function Fe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function ga(t,e=[]){let r=[];function n(s,o){const l=S.createContext(o),c=r.length;r=[...r,o];const d=m=>{var _;const{scope:p,children:v,...w}=m,x=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,g=S.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:g,children:v})};d.displayName=s+"Provider";function f(m,p){var x;const v=((x=p==null?void 0:p[t])==null?void 0:x[c])||l,w=S.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=r.map(o=>S.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,ife(i,...e)]}function ife(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(s)[`__scope${d}`];return{...l,...m}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var hi=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},sfe=jC[" useInsertionEffect ".trim().toString()]||hi;function il({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,o]=afe({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:i;{const f=S.useRef(t!==void 0);S.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const d=S.useCallback(f=>{var m;if(l){const p=ofe(f)?f(t):f;p!==t&&((m=o.current)==null||m.call(o,p))}else s(f)},[l,t,s,o]);return[c,d]}function afe({defaultProp:t,onChange:e}){const[r,n]=S.useState(t),i=S.useRef(r),s=S.useRef(e);return sfe(()=>{s.current=e},[e]),S.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function ofe(t){return typeof t=="function"}function lfe(t){const e=cfe(t),r=S.forwardRef((n,i)=>{const{children:s,...o}=n,l=S.Children.toArray(s),c=l.find(dfe);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function cfe(t){const e=S.forwardRef((r,n)=>{const{children:i,...s}=r;if(S.isValidElement(i)){const o=ffe(i),l=hfe(s,i.props);return i.type!==S.Fragment&&(l.ref=n?Uc(n,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ufe=Symbol("radix.slottable");function dfe(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ufe}function hfe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function ffe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var mfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wt=mfe.reduce((t,e)=>{const r=lfe(`Primitive.${e}`),n=S.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function U7(t,e){t&&ky.flushSync(()=>t.dispatchEvent(e))}function y3(t){const e=pfe(t),r=S.forwardRef((n,i)=>{const{children:s,...o}=n,l=S.Children.toArray(s),c=l.find(yfe);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function pfe(t){const e=S.forwardRef((r,n)=>{const{children:i,...s}=r;if(S.isValidElement(i)){const o=xfe(i),l=vfe(s,i.props);return i.type!==S.Fragment&&(l.ref=n?Uc(n,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gfe=Symbol("radix.slottable");function yfe(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gfe}function vfe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function xfe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Fw(t){const e=t+"CollectionProvider",[r,n]=ga(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:g,children:_}=x,T=z.useRef(null),P=z.useRef(new Map).current;return a.jsx(i,{scope:g,itemMap:P,collectionRef:T,children:_})};o.displayName=e;const l=t+"CollectionSlot",c=y3(l),d=z.forwardRef((x,g)=>{const{scope:_,children:T}=x,P=s(l,_),I=$t(g,P.collectionRef);return a.jsx(c,{ref:I,children:T})});d.displayName=l;const f=t+"CollectionItemSlot",m="data-radix-collection-item",p=y3(f),v=z.forwardRef((x,g)=>{const{scope:_,children:T,...P}=x,I=z.useRef(null),A=$t(g,I),C=s(f,_);return z.useEffect(()=>(C.itemMap.set(I,{ref:I,...P}),()=>void C.itemMap.delete(I))),a.jsx(p,{[m]:"",ref:A,children:T})});v.displayName=f;function w(x){const g=s(t+"CollectionConsumer",x);return z.useCallback(()=>{const T=g.collectionRef.current;if(!T)return[];const P=Array.from(T.querySelectorAll(`[${m}]`));return Array.from(g.itemMap.values()).sort((C,E)=>P.indexOf(C.ref.current)-P.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},w,n]}var bfe=S.createContext(void 0);function Ry(t){const e=S.useContext(bfe);return t||e||"ltr"}function io(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function wfe(t,e=globalThis==null?void 0:globalThis.document){const r=io(t);S.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var _fe="DismissableLayer",uP="dismissableLayer.update",jfe="dismissableLayer.pointerDownOutside",Nfe="dismissableLayer.focusOutside",v3,z7=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vw=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,d=S.useContext(z7),[f,m]=S.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=S.useState({}),w=$t(e,E=>m(E)),x=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(g),T=f?x.indexOf(f):-1,P=d.layersWithOutsidePointerEventsDisabled.size>0,I=T>=_,A=Efe(E=>{const N=E.target,O=[...d.branches].some(D=>D.contains(N));!I||O||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},p),C=Pfe(E=>{const N=E.target;[...d.branches].some(D=>D.contains(N))||(s==null||s(E),o==null||o(E),E.defaultPrevented||l==null||l())},p);return wfe(E=>{T===d.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},p),S.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(v3=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),x3(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=v3)}},[f,p,r,d]),S.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),x3())},[f,d]),S.useEffect(()=>{const E=()=>v({});return document.addEventListener(uP,E),()=>document.removeEventListener(uP,E)},[]),a.jsx(wt.div,{...c,ref:w,style:{pointerEvents:P?I?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,A.onPointerDownCapture)})});Vw.displayName=_fe;var Sfe="DismissableLayerBranch",Tfe=S.forwardRef((t,e)=>{const r=S.useContext(z7),n=S.useRef(null),i=$t(e,n);return S.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(wt.div,{...t,ref:i})});Tfe.displayName=Sfe;function Efe(t,e=globalThis==null?void 0:globalThis.document){const r=io(t),n=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){W7(jfe,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Pfe(t,e=globalThis==null?void 0:globalThis.document){const r=io(t),n=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!n.current&&W7(Nfe,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function x3(){const t=new CustomEvent(uP);document.dispatchEvent(t)}function W7(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?U7(i,s):i.dispatchEvent(s)}var Bj=0;function H7(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??b3()),document.body.insertAdjacentElement("beforeend",t[1]??b3()),Bj++,()=>{Bj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Bj--}},[])}function b3(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var qj="focusScope.autoFocusOnMount",Uj="focusScope.autoFocusOnUnmount",w3={bubbles:!1,cancelable:!0},Afe="FocusScope",Ik=S.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=S.useState(null),d=io(i),f=io(s),m=S.useRef(null),p=$t(e,x=>c(x)),v=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let x=function(P){if(v.paused||!l)return;const I=P.target;l.contains(I)?m.current=I:Jl(m.current,{select:!0})},g=function(P){if(v.paused||!l)return;const I=P.relatedTarget;I!==null&&(l.contains(I)||Jl(m.current,{select:!0}))},_=function(P){if(document.activeElement===document.body)for(const A of P)A.removedNodes.length>0&&Jl(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",g);const T=new MutationObserver(_);return l&&T.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",g),T.disconnect()}}},[n,l,v.paused]),S.useEffect(()=>{if(l){j3.add(v);const x=document.activeElement;if(!l.contains(x)){const _=new CustomEvent(qj,w3);l.addEventListener(qj,d),l.dispatchEvent(_),_.defaultPrevented||(Cfe(Mfe(G7(l)),{select:!0}),document.activeElement===x&&Jl(l))}return()=>{l.removeEventListener(qj,d),setTimeout(()=>{const _=new CustomEvent(Uj,w3);l.addEventListener(Uj,f),l.dispatchEvent(_),_.defaultPrevented||Jl(x??document.body,{select:!0}),l.removeEventListener(Uj,f),j3.remove(v)},0)}}},[l,d,f,v]);const w=S.useCallback(x=>{if(!r&&!n||v.paused)return;const g=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(g&&_){const T=x.currentTarget,[P,I]=kfe(T);P&&I?!x.shiftKey&&_===I?(x.preventDefault(),r&&Jl(P,{select:!0})):x.shiftKey&&_===P&&(x.preventDefault(),r&&Jl(I,{select:!0})):_===T&&x.preventDefault()}},[r,n,v.paused]);return a.jsx(wt.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});Ik.displayName=Afe;function Cfe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Jl(n,{select:e}),document.activeElement!==r)return}function kfe(t){const e=G7(t),r=_3(e,t),n=_3(e.reverse(),t);return[r,n]}function G7(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function _3(t,e){for(const r of t)if(!Ife(r,{upTo:e}))return r}function Ife(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ofe(t){return t instanceof HTMLInputElement&&"select"in t}function Jl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Ofe(t)&&e&&t.select()}}var j3=Rfe();function Rfe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=N3(t,e),t.unshift(e)},remove(e){var r;t=N3(t,e),(r=t[0])==null||r.resume()}}}function N3(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Mfe(t){return t.filter(e=>e.tagName!=="A")}var Dfe=jC[" useId ".trim().toString()]||(()=>{}),Lfe=0;function Oc(t){const[e,r]=S.useState(Dfe());return hi(()=>{r(n=>n??String(Lfe++))},[t]),e?`radix-${e}`:""}const $fe=["top","right","bottom","left"],Rc=Math.min,is=Math.max,Kx=Math.round,Nv=Math.floor,Ya=t=>({x:t,y:t}),Ffe={left:"right",right:"left",bottom:"top",top:"bottom"},Vfe={start:"end",end:"start"};function dP(t,e,r){return is(t,Rc(e,r))}function sl(t,e){return typeof t=="function"?t(e):t}function al(t){return t.split("-")[0]}function nm(t){return t.split("-")[1]}function Ok(t){return t==="x"?"y":"x"}function Rk(t){return t==="y"?"height":"width"}const Bfe=new Set(["top","bottom"]);function Va(t){return Bfe.has(al(t))?"y":"x"}function Mk(t){return Ok(Va(t))}function qfe(t,e,r){r===void 0&&(r=!1);const n=nm(t),i=Mk(t),s=Rk(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Yx(o)),[o,Yx(o)]}function Ufe(t){const e=Yx(t);return[hP(t),e,hP(e)]}function hP(t){return t.replace(/start|end/g,e=>Vfe[e])}const S3=["left","right"],T3=["right","left"],zfe=["top","bottom"],Wfe=["bottom","top"];function Hfe(t,e,r){switch(t){case"top":case"bottom":return r?e?T3:S3:e?S3:T3;case"left":case"right":return e?zfe:Wfe;default:return[]}}function Gfe(t,e,r,n){const i=nm(t);let s=Hfe(al(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(hP)))),s}function Yx(t){return t.replace(/left|right|bottom|top/g,e=>Ffe[e])}function Kfe(t){return{top:0,right:0,bottom:0,left:0,...t}}function K7(t){return typeof t!="number"?Kfe(t):{top:t,right:t,bottom:t,left:t}}function Qx(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function E3(t,e,r){let{reference:n,floating:i}=t;const s=Va(e),o=Mk(e),l=Rk(o),c=al(e),d=s==="y",f=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,p=n[l]/2-i[l]/2;let v;switch(c){case"top":v={x:f,y:n.y-i.height};break;case"bottom":v={x:f,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:m};break;case"left":v={x:n.x-i.width,y:m};break;default:v={x:n.x,y:n.y}}switch(nm(e)){case"start":v[o]-=p*(r&&d?-1:1);break;case"end":v[o]+=p*(r&&d?-1:1);break}return v}const Yfe=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:m}=E3(d,n,c),p=n,v={},w=0;for(let x=0;x<l.length;x++){const{name:g,fn:_}=l[x],{x:T,y:P,data:I,reset:A}=await _({x:f,y:m,initialPlacement:n,placement:p,strategy:i,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});f=T??f,m=P??m,v={...v,[g]:{...v[g],...I}},A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(d=A.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:f,y:m}=E3(d,p,c)),x=-1)}return{x:f,y:m,placement:p,strategy:i,middlewareData:v}};async function bg(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:p=!1,padding:v=0}=sl(e,t),w=K7(v),g=l[p?m==="floating"?"reference":"floating":m],_=Qx(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(g)))==null||r?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),T=m==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),I=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},A=Qx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:P,strategy:c}):T);return{top:(_.top-A.top+w.top)/I.y,bottom:(A.bottom-_.bottom+w.bottom)/I.y,left:(_.left-A.left+w.left)/I.x,right:(A.right-_.right+w.right)/I.x}}const Qfe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:f=0}=sl(t,e)||{};if(d==null)return{};const m=K7(f),p={x:r,y:n},v=Mk(i),w=Rk(v),x=await o.getDimensions(d),g=v==="y",_=g?"top":"left",T=g?"bottom":"right",P=g?"clientHeight":"clientWidth",I=s.reference[w]+s.reference[v]-p[v]-s.floating[w],A=p[v]-s.reference[v],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=C?C[P]:0;(!E||!await(o.isElement==null?void 0:o.isElement(C)))&&(E=l.floating[P]||s.floating[w]);const N=I/2-A/2,O=E/2-x[w]/2-1,D=Rc(m[_],O),L=Rc(m[T],O),$=D,F=E-x[w]-L,G=E/2-x[w]/2+N,Y=dP($,G,F),K=!c.arrow&&nm(i)!=null&&G!==Y&&s.reference[w]/2-(G<$?D:L)-x[w]/2<0,X=K?G<$?G-$:G-F:0;return{[v]:p[v]+X,data:{[v]:Y,centerOffset:G-Y-X,...K&&{alignmentOffset:X}},reset:K}}}),Xfe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...g}=sl(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const _=al(i),T=Va(l),P=al(l)===l,I=await(c.isRTL==null?void 0:c.isRTL(d.floating)),A=p||(P||!x?[Yx(l)]:Ufe(l)),C=w!=="none";!p&&C&&A.push(...Gfe(l,x,w,I));const E=[l,...A],N=await bg(e,g),O=[];let D=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&O.push(N[_]),m){const G=qfe(i,o,I);O.push(N[G[0]],N[G[1]])}if(D=[...D,{placement:i,overflows:O}],!O.every(G=>G<=0)){var L,$;const G=(((L=s.flip)==null?void 0:L.index)||0)+1,Y=E[G];if(Y&&(!(m==="alignment"?T!==Va(Y):!1)||D.every(U=>Va(U.placement)===T?U.overflows[0]>0:!0)))return{data:{index:G,overflows:D},reset:{placement:Y}};let K=($=D.filter(X=>X.overflows[0]<=0).sort((X,U)=>X.overflows[1]-U.overflows[1])[0])==null?void 0:$.placement;if(!K)switch(v){case"bestFit":{var F;const X=(F=D.filter(U=>{if(C){const Q=Va(U.placement);return Q===T||Q==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(Q=>Q>0).reduce((Q,ne)=>Q+ne,0)]).sort((U,Q)=>U[1]-Q[1])[0])==null?void 0:F[0];X&&(K=X);break}case"initialPlacement":K=l;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function P3(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function A3(t){return $fe.some(e=>t[e]>=0)}const Jfe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=sl(t,e);switch(n){case"referenceHidden":{const s=await bg(e,{...i,elementContext:"reference"}),o=P3(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:A3(o)}}}case"escaped":{const s=await bg(e,{...i,altBoundary:!0}),o=P3(s,r.floating);return{data:{escapedOffsets:o,escaped:A3(o)}}}default:return{}}}}},Y7=new Set(["left","top"]);async function Zfe(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=al(r),l=nm(r),c=Va(r)==="y",d=Y7.has(o)?-1:1,f=s&&c?-1:1,m=sl(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof w=="number"&&(v=l==="end"?w*-1:w),c?{x:v*f,y:p*d}:{x:p*d,y:v*f}}const eme=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await Zfe(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},tme=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:_,y:T}=g;return{x:_,y:T}}},...c}=sl(t,e),d={x:r,y:n},f=await bg(e,c),m=Va(al(i)),p=Ok(m);let v=d[p],w=d[m];if(s){const g=p==="y"?"top":"left",_=p==="y"?"bottom":"right",T=v+f[g],P=v-f[_];v=dP(T,v,P)}if(o){const g=m==="y"?"top":"left",_=m==="y"?"bottom":"right",T=w+f[g],P=w-f[_];w=dP(T,w,P)}const x=l.fn({...e,[p]:v,[m]:w});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[p]:s,[m]:o}}}}}},rme=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=sl(t,e),f={x:r,y:n},m=Va(i),p=Ok(m);let v=f[p],w=f[m];const x=sl(l,e),g=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const P=p==="y"?"height":"width",I=s.reference[p]-s.floating[P]+g.mainAxis,A=s.reference[p]+s.reference[P]-g.mainAxis;v<I?v=I:v>A&&(v=A)}if(d){var _,T;const P=p==="y"?"width":"height",I=Y7.has(al(i)),A=s.reference[m]-s.floating[P]+(I&&((_=o.offset)==null?void 0:_[m])||0)+(I?0:g.crossAxis),C=s.reference[m]+s.reference[P]+(I?0:((T=o.offset)==null?void 0:T[m])||0)-(I?g.crossAxis:0);w<A?w=A:w>C&&(w=C)}return{[p]:v,[m]:w}}}},nme=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=sl(t,e),f=await bg(e,d),m=al(i),p=nm(i),v=Va(i)==="y",{width:w,height:x}=s.floating;let g,_;m==="top"||m==="bottom"?(g=m,_=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=m,g=p==="end"?"top":"bottom");const T=x-f.top-f.bottom,P=w-f.left-f.right,I=Rc(x-f[g],T),A=Rc(w-f[_],P),C=!e.middlewareData.shift;let E=I,N=A;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(N=P),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=T),C&&!p){const D=is(f.left,0),L=is(f.right,0),$=is(f.top,0),F=is(f.bottom,0);v?N=w-2*(D!==0||L!==0?D+L:is(f.left,f.right)):E=x-2*($!==0||F!==0?$+F:is(f.top,f.bottom))}await c({...e,availableWidth:N,availableHeight:E});const O=await o.getDimensions(l.floating);return w!==O.width||x!==O.height?{reset:{rects:!0}}:{}}}};function Bw(){return typeof window<"u"}function im(t){return Q7(t)?(t.nodeName||"").toLowerCase():"#document"}function os(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function uo(t){var e;return(e=(Q7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Q7(t){return Bw()?t instanceof Node||t instanceof os(t).Node:!1}function fa(t){return Bw()?t instanceof Element||t instanceof os(t).Element:!1}function so(t){return Bw()?t instanceof HTMLElement||t instanceof os(t).HTMLElement:!1}function C3(t){return!Bw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof os(t).ShadowRoot}const ime=new Set(["inline","contents"]);function My(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=ma(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!ime.has(i)}const sme=new Set(["table","td","th"]);function ame(t){return sme.has(im(t))}const ome=[":popover-open",":modal"];function qw(t){return ome.some(e=>{try{return t.matches(e)}catch{return!1}})}const lme=["transform","translate","scale","rotate","perspective"],cme=["transform","translate","scale","rotate","perspective","filter"],ume=["paint","layout","strict","content"];function Dk(t){const e=Lk(),r=fa(t)?ma(t):t;return lme.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||cme.some(n=>(r.willChange||"").includes(n))||ume.some(n=>(r.contain||"").includes(n))}function dme(t){let e=Mc(t);for(;so(e)&&!pf(e);){if(Dk(e))return e;if(qw(e))return null;e=Mc(e)}return null}function Lk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hme=new Set(["html","body","#document"]);function pf(t){return hme.has(im(t))}function ma(t){return os(t).getComputedStyle(t)}function Uw(t){return fa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Mc(t){if(im(t)==="html")return t;const e=t.assignedSlot||t.parentNode||C3(t)&&t.host||uo(t);return C3(e)?e.host:e}function X7(t){const e=Mc(t);return pf(e)?t.ownerDocument?t.ownerDocument.body:t.body:so(e)&&My(e)?e:X7(e)}function wg(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=X7(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=os(i);if(s){const l=fP(o);return e.concat(o,o.visualViewport||[],My(i)?i:[],l&&r?wg(l):[])}return e.concat(i,wg(i,[],r))}function fP(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function J7(t){const e=ma(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=so(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,l=Kx(r)!==s||Kx(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function $k(t){return fa(t)?t:t.contextElement}function Hh(t){const e=$k(t);if(!so(e))return Ya(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=J7(e);let o=(s?Kx(r.width):r.width)/n,l=(s?Kx(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const fme=Ya(0);function Z7(t){const e=os(t);return!Lk()||!e.visualViewport?fme:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mme(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==os(t)?!1:e}function cd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=$k(t);let o=Ya(1);e&&(n?fa(n)&&(o=Hh(n)):o=Hh(t));const l=mme(s,r,n)?Z7(s):Ya(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,m=i.height/o.y;if(s){const p=os(s),v=n&&fa(n)?os(n):n;let w=p,x=fP(w);for(;x&&n&&v!==w;){const g=Hh(x),_=x.getBoundingClientRect(),T=ma(x),P=_.left+(x.clientLeft+parseFloat(T.paddingLeft))*g.x,I=_.top+(x.clientTop+parseFloat(T.paddingTop))*g.y;c*=g.x,d*=g.y,f*=g.x,m*=g.y,c+=P,d+=I,w=os(x),x=fP(w)}}return Qx({width:f,height:m,x:c,y:d})}function zw(t,e){const r=Uw(t).scrollLeft;return e?e.left+r:cd(uo(t)).left+r}function ez(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-zw(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function pme(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=uo(n),l=e?qw(e.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},d=Ya(1);const f=Ya(0),m=so(n);if((m||!m&&!s)&&((im(n)!=="body"||My(o))&&(c=Uw(n)),so(n))){const v=cd(n);d=Hh(n),f.x=v.x+n.clientLeft,f.y=v.y+n.clientTop}const p=o&&!m&&!s?ez(o,c):Ya(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x+p.x,y:r.y*d.y-c.scrollTop*d.y+f.y+p.y}}function gme(t){return Array.from(t.getClientRects())}function yme(t){const e=uo(t),r=Uw(t),n=t.ownerDocument.body,i=is(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=is(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+zw(t);const l=-r.scrollTop;return ma(n).direction==="rtl"&&(o+=is(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:l}}const k3=25;function vme(t,e){const r=os(t),n=uo(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const f=Lk();(!f||f&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=zw(n);if(d<=0){const f=n.ownerDocument,m=f.body,p=getComputedStyle(m),v=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(n.clientWidth-m.clientWidth-v);w<=k3&&(s-=w)}else d<=k3&&(s+=d);return{width:s,height:o,x:l,y:c}}const xme=new Set(["absolute","fixed"]);function bme(t,e){const r=cd(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=so(t)?Hh(t):Ya(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,d=n*s.y;return{width:o,height:l,x:c,y:d}}function I3(t,e,r){let n;if(e==="viewport")n=vme(t,r);else if(e==="document")n=yme(uo(t));else if(fa(e))n=bme(e,r);else{const i=Z7(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Qx(n)}function tz(t,e){const r=Mc(t);return r===e||!fa(r)||pf(r)?!1:ma(r).position==="fixed"||tz(r,e)}function wme(t,e){const r=e.get(t);if(r)return r;let n=wg(t,[],!1).filter(l=>fa(l)&&im(l)!=="body"),i=null;const s=ma(t).position==="fixed";let o=s?Mc(t):t;for(;fa(o)&&!pf(o);){const l=ma(o),c=Dk(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&xme.has(i.position)||My(o)&&!c&&tz(t,o))?n=n.filter(f=>f!==o):i=l,o=Mc(o)}return e.set(t,n),n}function _me(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?qw(e)?[]:wme(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,f)=>{const m=I3(e,f,i);return d.top=is(m.top,d.top),d.right=Rc(m.right,d.right),d.bottom=Rc(m.bottom,d.bottom),d.left=is(m.left,d.left),d},I3(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function jme(t){const{width:e,height:r}=J7(t);return{width:e,height:r}}function Nme(t,e,r){const n=so(e),i=uo(e),s=r==="fixed",o=cd(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Ya(0);function d(){c.x=zw(i)}if(n||!n&&!s)if((im(e)!=="body"||My(i))&&(l=Uw(e)),n){const v=cd(e,!0,s,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else i&&d();s&&!n&&i&&d();const f=i&&!n&&!s?ez(i,l):Ya(0),m=o.left+l.scrollLeft-c.x-f.x,p=o.top+l.scrollTop-c.y-f.y;return{x:m,y:p,width:o.width,height:o.height}}function zj(t){return ma(t).position==="static"}function O3(t,e){if(!so(t)||ma(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return uo(t)===r&&(r=r.ownerDocument.body),r}function rz(t,e){const r=os(t);if(qw(t))return r;if(!so(t)){let i=Mc(t);for(;i&&!pf(i);){if(fa(i)&&!zj(i))return i;i=Mc(i)}return r}let n=O3(t,e);for(;n&&ame(n)&&zj(n);)n=O3(n,e);return n&&pf(n)&&zj(n)&&!Dk(n)?r:n||dme(t)||r}const Sme=async function(t){const e=this.getOffsetParent||rz,r=this.getDimensions,n=await r(t.floating);return{reference:Nme(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Tme(t){return ma(t).direction==="rtl"}const Eme={convertOffsetParentRelativeRectToViewportRelativeRect:pme,getDocumentElement:uo,getClippingRect:_me,getOffsetParent:rz,getElementRects:Sme,getClientRects:gme,getDimensions:jme,getScale:Hh,isElement:fa,isRTL:Tme};function nz(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Pme(t,e){let r=null,n;const i=uo(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:f,top:m,width:p,height:v}=d;if(l||e(),!p||!v)return;const w=Nv(m),x=Nv(i.clientWidth-(f+p)),g=Nv(i.clientHeight-(m+v)),_=Nv(f),P={rootMargin:-w+"px "+-x+"px "+-g+"px "+-_+"px",threshold:is(0,Rc(1,c))||1};let I=!0;function A(C){const E=C[0].intersectionRatio;if(E!==c){if(!I)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!nz(d,t.getBoundingClientRect())&&o(),I=!1}try{r=new IntersectionObserver(A,{...P,root:i.ownerDocument})}catch{r=new IntersectionObserver(A,P)}r.observe(t)}return o(!0),s}function Ame(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=$k(t),f=i||s?[...d?wg(d):[],...wg(e)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",r,{passive:!0}),s&&_.addEventListener("resize",r)});const m=d&&l?Pme(d,r):null;let p=-1,v=null;o&&(v=new ResizeObserver(_=>{let[T]=_;T&&T.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var P;(P=v)==null||P.observe(e)})),r()}),d&&!c&&v.observe(d),v.observe(e));let w,x=c?cd(t):null;c&&g();function g(){const _=cd(t);x&&!nz(x,_)&&r(),x=_,w=requestAnimationFrame(g)}return r(),()=>{var _;f.forEach(T=>{i&&T.removeEventListener("scroll",r),s&&T.removeEventListener("resize",r)}),m==null||m(),(_=v)==null||_.disconnect(),v=null,c&&cancelAnimationFrame(w)}}const Cme=eme,kme=tme,Ime=Xfe,Ome=nme,Rme=Jfe,R3=Qfe,Mme=rme,Dme=(t,e,r)=>{const n=new Map,i={platform:Eme,...r},s={...i.platform,_c:n};return Yfe(t,e,{...i,platform:s})};var Lme=typeof document<"u",$me=function(){},cx=Lme?S.useLayoutEffect:$me;function Xx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Xx(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!Xx(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function iz(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function M3(t,e){const r=iz(t);return Math.round(e*r)/r}function Wj(t){const e=S.useRef(t);return cx(()=>{e.current=t}),e}function Fme(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,m]=S.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=S.useState(n);Xx(p,n)||v(n);const[w,x]=S.useState(null),[g,_]=S.useState(null),T=S.useCallback(U=>{U!==C.current&&(C.current=U,x(U))},[]),P=S.useCallback(U=>{U!==E.current&&(E.current=U,_(U))},[]),I=s||w,A=o||g,C=S.useRef(null),E=S.useRef(null),N=S.useRef(f),O=c!=null,D=Wj(c),L=Wj(i),$=Wj(d),F=S.useCallback(()=>{if(!C.current||!E.current)return;const U={placement:e,strategy:r,middleware:p};L.current&&(U.platform=L.current),Dme(C.current,E.current,U).then(Q=>{const ne={...Q,isPositioned:$.current!==!1};G.current&&!Xx(N.current,ne)&&(N.current=ne,ky.flushSync(()=>{m(ne)}))})},[p,e,r,L,$]);cx(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,m(U=>({...U,isPositioned:!1})))},[d]);const G=S.useRef(!1);cx(()=>(G.current=!0,()=>{G.current=!1}),[]),cx(()=>{if(I&&(C.current=I),A&&(E.current=A),I&&A){if(D.current)return D.current(I,A,F);F()}},[I,A,F,D,O]);const Y=S.useMemo(()=>({reference:C,floating:E,setReference:T,setFloating:P}),[T,P]),K=S.useMemo(()=>({reference:I,floating:A}),[I,A]),X=S.useMemo(()=>{const U={position:r,left:0,top:0};if(!K.floating)return U;const Q=M3(K.floating,f.x),ne=M3(K.floating,f.y);return l?{...U,transform:"translate("+Q+"px, "+ne+"px)",...iz(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Q,top:ne}},[r,l,K.floating,f.x,f.y]);return S.useMemo(()=>({...f,update:F,refs:Y,elements:K,floatingStyles:X}),[f,F,Y,K,X])}const Vme=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?R3({element:n.current,padding:i}).fn(r):{}:n?R3({element:n,padding:i}).fn(r):{}}}},Bme=(t,e)=>({...Cme(t),options:[t,e]}),qme=(t,e)=>({...kme(t),options:[t,e]}),Ume=(t,e)=>({...Mme(t),options:[t,e]}),zme=(t,e)=>({...Ime(t),options:[t,e]}),Wme=(t,e)=>({...Ome(t),options:[t,e]}),Hme=(t,e)=>({...Rme(t),options:[t,e]}),Gme=(t,e)=>({...Vme(t),options:[t,e]});var Kme="Arrow",sz=S.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(wt.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});sz.displayName=Kme;var Yme=sz;function Ww(t){const[e,r]=S.useState(void 0);return hi(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Fk="Popper",[az,sm]=ga(Fk),[Qme,oz]=az(Fk),lz=t=>{const{__scopePopper:e,children:r}=t,[n,i]=S.useState(null);return a.jsx(Qme,{scope:e,anchor:n,onAnchorChange:i,children:r})};lz.displayName=Fk;var cz="PopperAnchor",uz=S.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=oz(cz,r),o=S.useRef(null),l=$t(e,o),c=S.useRef(null);return S.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&s.onAnchorChange(c.current)}),n?null:a.jsx(wt.div,{...i,ref:l})});uz.displayName=cz;var Vk="PopperContent",[Xme,Jme]=az(Vk),dz=S.forwardRef((t,e)=>{var me,Ie,fe,Pe,Re,he;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:w,...x}=t,g=oz(Vk,r),[_,T]=S.useState(null),P=$t(e,ot=>T(ot)),[I,A]=S.useState(null),C=Ww(I),E=(C==null?void 0:C.width)??0,N=(C==null?void 0:C.height)??0,O=n+(s!=="center"?"-"+s:""),D=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},L=Array.isArray(d)?d:[d],$=L.length>0,F={padding:D,boundary:L.filter(epe),altBoundary:$},{refs:G,floatingStyles:Y,placement:K,isPositioned:X,middlewareData:U}=Fme({strategy:"fixed",placement:O,whileElementsMounted:(...ot)=>Ame(...ot,{animationFrame:v==="always"}),elements:{reference:g.anchor},middleware:[Bme({mainAxis:i+N,alignmentAxis:o}),c&&qme({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Ume():void 0,...F}),c&&zme({...F}),Wme({...F,apply:({elements:ot,rects:et,availableWidth:kt,availableHeight:It})=>{const{width:Gt,height:Hr}=et.reference,Ot=ot.floating.style;Ot.setProperty("--radix-popper-available-width",`${kt}px`),Ot.setProperty("--radix-popper-available-height",`${It}px`),Ot.setProperty("--radix-popper-anchor-width",`${Gt}px`),Ot.setProperty("--radix-popper-anchor-height",`${Hr}px`)}}),I&&Gme({element:I,padding:l}),tpe({arrowWidth:E,arrowHeight:N}),p&&Hme({strategy:"referenceHidden",...F})]}),[Q,ne]=mz(K),W=io(w);hi(()=>{X&&(W==null||W())},[X,W]);const Z=(me=U.arrow)==null?void 0:me.x,ue=(Ie=U.arrow)==null?void 0:Ie.y,le=((fe=U.arrow)==null?void 0:fe.centerOffset)!==0,[be,ge]=S.useState();return hi(()=>{_&&ge(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:X?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(Pe=U.transformOrigin)==null?void 0:Pe.x,(Re=U.transformOrigin)==null?void 0:Re.y].join(" "),...((he=U.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(Xme,{scope:r,placedSide:Q,onArrowChange:A,arrowX:Z,arrowY:ue,shouldHideArrow:le,children:a.jsx(wt.div,{"data-side":Q,"data-align":ne,...x,ref:P,style:{...x.style,animation:X?void 0:"none"}})})})});dz.displayName=Vk;var hz="PopperArrow",Zme={top:"bottom",right:"left",bottom:"top",left:"right"},fz=S.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=Jme(hz,n),o=Zme[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(Yme,{...i,ref:r,style:{...i.style,display:"block"}})})});fz.displayName=hz;function epe(t){return t!==null}var tpe=t=>({name:"transformOrigin",options:t,fn(e){var g,_,T;const{placement:r,rects:n,middlewareData:i}=e,o=((g=i.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=mz(r),m={start:"0%",center:"50%",end:"100%"}[f],p=(((_=i.arrow)==null?void 0:_.x)??0)+l/2,v=(((T=i.arrow)==null?void 0:T.y)??0)+c/2;let w="",x="";return d==="bottom"?(w=o?m:`${p}px`,x=`${-c}px`):d==="top"?(w=o?m:`${p}px`,x=`${n.floating.height+c}px`):d==="right"?(w=`${-c}px`,x=o?m:`${v}px`):d==="left"&&(w=`${n.floating.width+c}px`,x=o?m:`${v}px`),{data:{x:w,y:x}}}});function mz(t){const[e,r="center"]=t.split("-");return[e,r]}var Bk=lz,qk=uz,Uk=dz,zk=fz,rpe="Portal",Hw=S.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[i,s]=S.useState(!1);hi(()=>s(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?hce.createPortal(a.jsx(wt.div,{...n,ref:e}),o):null});Hw.displayName=rpe;function npe(t,e){return S.useReducer((r,n)=>e[r][n]??r,t)}var vl=t=>{const{present:e,children:r}=t,n=ipe(e),i=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),s=$t(n.ref,spe(i));return typeof r=="function"||n.isPresent?S.cloneElement(i,{ref:s}):null};vl.displayName="Presence";function ipe(t){const[e,r]=S.useState(),n=S.useRef(null),i=S.useRef(t),s=S.useRef("none"),o=t?"mounted":"unmounted",[l,c]=npe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const d=Sv(n.current);s.current=l==="mounted"?d:"none"},[l]),hi(()=>{const d=n.current,f=i.current;if(f!==t){const p=s.current,v=Sv(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&p!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),hi(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,m=v=>{const x=Sv(n.current).includes(CSS.escape(v.animationName));if(v.target===e&&x&&(c("ANIMATION_END"),!i.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},p=v=>{v.target===e&&(s.current=Sv(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Sv(t){return(t==null?void 0:t.animationName)||"none"}function spe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Hj="rovingFocusGroup.onEntryFocus",ape={bubbles:!1,cancelable:!0},Dy="RovingFocusGroup",[mP,pz,ope]=Fw(Dy),[lpe,Gw]=ga(Dy,[ope]),[cpe,upe]=lpe(Dy),gz=S.forwardRef((t,e)=>a.jsx(mP.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(mP.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(dpe,{...t,ref:e})})}));gz.displayName=Dy;var dpe=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=t,p=S.useRef(null),v=$t(e,p),w=Ry(s),[x,g]=il({prop:o,defaultProp:l??null,onChange:c,caller:Dy}),[_,T]=S.useState(!1),P=io(d),I=pz(r),A=S.useRef(!1),[C,E]=S.useState(0);return S.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(Hj,P),()=>N.removeEventListener(Hj,P)},[P]),a.jsx(cpe,{scope:r,orientation:n,dir:w,loop:i,currentTabStopId:x,onItemFocus:S.useCallback(N=>g(N),[g]),onItemShiftTab:S.useCallback(()=>T(!0),[]),onFocusableItemAdd:S.useCallback(()=>E(N=>N+1),[]),onFocusableItemRemove:S.useCallback(()=>E(N=>N-1),[]),children:a.jsx(wt.div,{tabIndex:_||C===0?-1:0,"data-orientation":n,...m,ref:v,style:{outline:"none",...t.style},onMouseDown:Fe(t.onMouseDown,()=>{A.current=!0}),onFocus:Fe(t.onFocus,N=>{const O=!A.current;if(N.target===N.currentTarget&&O&&!_){const D=new CustomEvent(Hj,ape);if(N.currentTarget.dispatchEvent(D),!D.defaultPrevented){const L=I().filter(K=>K.focusable),$=L.find(K=>K.active),F=L.find(K=>K.id===x),Y=[$,F,...L].filter(Boolean).map(K=>K.ref.current);xz(Y,f)}}A.current=!1}),onBlur:Fe(t.onBlur,()=>T(!1))})})}),yz="RovingFocusGroupItem",vz=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=Oc(),d=s||c,f=upe(yz,r),m=f.currentTabStopId===d,p=pz(r),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:x}=f;return S.useEffect(()=>{if(n)return v(),()=>w()},[n,v,w]),a.jsx(mP.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:a.jsx(wt.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:Fe(t.onMouseDown,g=>{n?f.onItemFocus(d):g.preventDefault()}),onFocus:Fe(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:Fe(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){f.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const _=mpe(g,f.orientation,f.dir);if(_!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let P=p().filter(I=>I.focusable).map(I=>I.ref.current);if(_==="last")P.reverse();else if(_==="prev"||_==="next"){_==="prev"&&P.reverse();const I=P.indexOf(g.currentTarget);P=f.loop?ppe(P,I+1):P.slice(I+1)}setTimeout(()=>xz(P))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:x!=null}):o})})});vz.displayName=yz;var hpe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fpe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function mpe(t,e,r){const n=fpe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return hpe[n]}function xz(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function ppe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var bz=gz,wz=vz;function gpe(t){const e=ype(t),r=S.forwardRef((n,i)=>{const{children:s,...o}=n,l=S.Children.toArray(s),c=l.find(xpe);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function ype(t){const e=S.forwardRef((r,n)=>{const{children:i,...s}=r;if(S.isValidElement(i)){const o=wpe(i),l=bpe(s,i.props);return i.type!==S.Fragment&&(l.ref=n?Uc(n,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var vpe=Symbol("radix.slottable");function xpe(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vpe}function bpe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function wpe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var _pe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},gh=new WeakMap,Tv=new WeakMap,Ev={},Gj=0,_z=function(t){return t&&(t.host||_z(t.parentNode))},jpe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=_z(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Npe=function(t,e,r,n){var i=jpe(e,Array.isArray(t)?t:[t]);Ev[r]||(Ev[r]=new WeakMap);var s=Ev[r],o=[],l=new Set,c=new Set(i),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};i.forEach(d);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))f(p);else try{var v=p.getAttribute(n),w=v!==null&&v!=="false",x=(gh.get(p)||0)+1,g=(s.get(p)||0)+1;gh.set(p,x),s.set(p,g),o.push(p),x===1&&w&&Tv.set(p,!0),g===1&&p.setAttribute(r,"true"),w||p.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return f(e),l.clear(),Gj++,function(){o.forEach(function(m){var p=gh.get(m)-1,v=s.get(m)-1;gh.set(m,p),s.set(m,v),p||(Tv.has(m)||m.removeAttribute(n),Tv.delete(m)),v||m.removeAttribute(r)}),Gj--,Gj||(gh=new WeakMap,gh=new WeakMap,Tv=new WeakMap,Ev={})}},jz=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=_pe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),Npe(n,i,r,"aria-hidden")):function(){return null}},$a=function(){return $a=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$a.apply(this,arguments)};function Nz(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Spe(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var ux="right-scroll-bar-position",dx="width-before-scroll-bar",Tpe="with-scroll-bars-hidden",Epe="--removed-body-scroll-bar-size";function Kj(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Ppe(t,e){var r=S.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Ape=typeof window<"u"?S.useLayoutEffect:S.useEffect,D3=new WeakMap;function Cpe(t,e){var r=Ppe(null,function(n){return t.forEach(function(i){return Kj(i,n)})});return Ape(function(){var n=D3.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(l){s.has(l)||Kj(l,null)}),s.forEach(function(l){i.has(l)||Kj(l,o)})}D3.set(r,t)},[t]),r}function kpe(t){return t}function Ipe(t,e){e===void 0&&(e=kpe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var f=o;o=[],f.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return i}function Ope(t){t===void 0&&(t={});var e=Ipe(null);return e.options=$a({async:!0,ssr:!1},t),e}var Sz=function(t){var e=t.sideCar,r=Nz(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,$a({},r))};Sz.isSideCarExport=!0;function Rpe(t,e){return t.useMedium(e),Sz}var Tz=Ope(),Yj=function(){},Kw=S.forwardRef(function(t,e){var r=S.useRef(null),n=S.useState({onScrollCapture:Yj,onWheelCapture:Yj,onTouchMoveCapture:Yj}),i=n[0],s=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,m=t.shards,p=t.sideCar,v=t.noRelative,w=t.noIsolation,x=t.inert,g=t.allowPinchZoom,_=t.as,T=_===void 0?"div":_,P=t.gapMode,I=Nz(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,C=Cpe([r,e]),E=$a($a({},I),i);return S.createElement(S.Fragment,null,f&&S.createElement(A,{sideCar:Tz,removeScrollBar:d,shards:m,noRelative:v,noIsolation:w,inert:x,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:P}),o?S.cloneElement(S.Children.only(l),$a($a({},E),{ref:C})):S.createElement(T,$a({},E,{className:c,ref:C}),l))});Kw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kw.classNames={fullWidth:dx,zeroRight:ux};var Mpe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Dpe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Mpe();return e&&t.setAttribute("nonce",e),t}function Lpe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $pe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Fpe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Dpe())&&(Lpe(e,r),$pe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Vpe=function(){var t=Fpe();return function(e,r){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Ez=function(){var t=Vpe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Bpe={left:0,top:0,right:0,gap:0},Qj=function(t){return parseInt(t||"",10)||0},qpe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Qj(r),Qj(n),Qj(i)]},Upe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Bpe;var e=qpe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},zpe=Ez(),Gh="data-scroll-locked",Wpe=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Tpe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Gh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ux,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(dx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ux," .").concat(ux,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(dx," .").concat(dx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Gh,`] {
    `).concat(Epe,": ").concat(l,`px;
  }
`)},L3=function(){var t=parseInt(document.body.getAttribute(Gh)||"0",10);return isFinite(t)?t:0},Hpe=function(){S.useEffect(function(){return document.body.setAttribute(Gh,(L3()+1).toString()),function(){var t=L3()-1;t<=0?document.body.removeAttribute(Gh):document.body.setAttribute(Gh,t.toString())}},[])},Gpe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Hpe();var s=S.useMemo(function(){return Upe(i)},[i]);return S.createElement(zpe,{styles:Wpe(s,!e,i,r?"":"!important")})},pP=!1;if(typeof window<"u")try{var Pv=Object.defineProperty({},"passive",{get:function(){return pP=!0,!0}});window.addEventListener("test",Pv,Pv),window.removeEventListener("test",Pv,Pv)}catch{pP=!1}var yh=pP?{passive:!1}:!1,Kpe=function(t){return t.tagName==="TEXTAREA"},Pz=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Kpe(t)&&r[e]==="visible")},Ype=function(t){return Pz(t,"overflowY")},Qpe=function(t){return Pz(t,"overflowX")},$3=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Az(t,n);if(i){var s=Cz(t,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Xpe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Jpe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Az=function(t,e){return t==="v"?Ype(e):Qpe(e)},Cz=function(t,e){return t==="v"?Xpe(e):Jpe(e)},Zpe=function(t,e){return t==="h"&&e==="rtl"?-1:1},ege=function(t,e,r,n,i){var s=Zpe(t,window.getComputedStyle(e).direction),o=s*n,l=r.target,c=e.contains(l),d=!1,f=o>0,m=0,p=0;do{if(!l)break;var v=Cz(t,l),w=v[0],x=v[1],g=v[2],_=x-g-s*w;(w||_)&&Az(t,l)&&(m+=_,p+=w);var T=l.parentNode;l=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(f&&Math.abs(m)<1||!f&&Math.abs(p)<1)&&(d=!0),d},Av=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},F3=function(t){return[t.deltaX,t.deltaY]},V3=function(t){return t&&"current"in t?t.current:t},tge=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rge=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nge=0,vh=[];function ige(t){var e=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),i=S.useState(nge++)[0],s=S.useState(Ez)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Spe([t.lockRef.current],(t.shards||[]).map(V3),!0).filter(Boolean);return x.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=S.useCallback(function(x,g){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var _=Av(x),T=r.current,P="deltaX"in x?x.deltaX:T[0]-_[0],I="deltaY"in x?x.deltaY:T[1]-_[1],A,C=x.target,E=Math.abs(P)>Math.abs(I)?"h":"v";if("touches"in x&&E==="h"&&C.type==="range")return!1;var N=$3(E,C);if(!N)return!0;if(N?A=E:(A=E==="v"?"h":"v",N=$3(E,C)),!N)return!1;if(!n.current&&"changedTouches"in x&&(P||I)&&(n.current=A),!A)return!0;var O=n.current||A;return ege(O,g,x,O==="h"?P:I)},[]),c=S.useCallback(function(x){var g=x;if(!(!vh.length||vh[vh.length-1]!==s)){var _="deltaY"in g?F3(g):Av(g),T=e.current.filter(function(A){return A.name===g.type&&(A.target===g.target||g.target===A.shadowParent)&&tge(A.delta,_)})[0];if(T&&T.should){g.cancelable&&g.preventDefault();return}if(!T){var P=(o.current.shards||[]).map(V3).filter(Boolean).filter(function(A){return A.contains(g.target)}),I=P.length>0?l(g,P[0]):!o.current.noIsolation;I&&g.cancelable&&g.preventDefault()}}},[]),d=S.useCallback(function(x,g,_,T){var P={name:x,delta:g,target:_,should:T,shadowParent:sge(_)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(I){return I!==P})},1)},[]),f=S.useCallback(function(x){r.current=Av(x),n.current=void 0},[]),m=S.useCallback(function(x){d(x.type,F3(x),x.target,l(x,t.lockRef.current))},[]),p=S.useCallback(function(x){d(x.type,Av(x),x.target,l(x,t.lockRef.current))},[]);S.useEffect(function(){return vh.push(s),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,yh),document.addEventListener("touchmove",c,yh),document.addEventListener("touchstart",f,yh),function(){vh=vh.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,yh),document.removeEventListener("touchmove",c,yh),document.removeEventListener("touchstart",f,yh)}},[]);var v=t.removeScrollBar,w=t.inert;return S.createElement(S.Fragment,null,w?S.createElement(s,{styles:rge(i)}):null,v?S.createElement(Gpe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function sge(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const age=Rpe(Tz,ige);var Wk=S.forwardRef(function(t,e){return S.createElement(Kw,$a({},t,{ref:e,sideCar:age}))});Wk.classNames=Kw.classNames;var gP=["Enter"," "],oge=["ArrowDown","PageUp","Home"],kz=["ArrowUp","PageDown","End"],lge=[...oge,...kz],cge={ltr:[...gP,"ArrowRight"],rtl:[...gP,"ArrowLeft"]},uge={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ly="Menu",[_g,dge,hge]=Fw(Ly),[Td,Iz]=ga(Ly,[hge,sm,Gw]),Yw=sm(),Oz=Gw(),[fge,Ed]=Td(Ly),[mge,$y]=Td(Ly),Rz=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=t,l=Yw(e),[c,d]=S.useState(null),f=S.useRef(!1),m=io(s),p=Ry(i);return S.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(Bk,{...l,children:a.jsx(fge,{scope:e,open:r,onOpenChange:m,content:c,onContentChange:d,children:a.jsx(mge,{scope:e,onClose:S.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:p,modal:o,children:n})})})};Rz.displayName=Ly;var pge="MenuAnchor",Hk=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Yw(r);return a.jsx(qk,{...i,...n,ref:e})});Hk.displayName=pge;var Gk="MenuPortal",[gge,Mz]=Td(Gk,{forceMount:void 0}),Dz=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=Ed(Gk,e);return a.jsx(gge,{scope:e,forceMount:r,children:a.jsx(vl,{present:r||s.open,children:a.jsx(Hw,{asChild:!0,container:i,children:n})})})};Dz.displayName=Gk;var Ms="MenuContent",[yge,Kk]=Td(Ms),Lz=S.forwardRef((t,e)=>{const r=Mz(Ms,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=Ed(Ms,t.__scopeMenu),o=$y(Ms,t.__scopeMenu);return a.jsx(_g.Provider,{scope:t.__scopeMenu,children:a.jsx(vl,{present:n||s.open,children:a.jsx(_g.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(vge,{...i,ref:e}):a.jsx(xge,{...i,ref:e})})})})}),vge=S.forwardRef((t,e)=>{const r=Ed(Ms,t.__scopeMenu),n=S.useRef(null),i=$t(e,n);return S.useEffect(()=>{const s=n.current;if(s)return jz(s)},[]),a.jsx(Yk,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Fe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),xge=S.forwardRef((t,e)=>{const r=Ed(Ms,t.__scopeMenu);return a.jsx(Yk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),bge=gpe("MenuContent.ScrollLock"),Yk=S.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,onDismiss:v,disableOutsideScroll:w,...x}=t,g=Ed(Ms,r),_=$y(Ms,r),T=Yw(r),P=Oz(r),I=dge(r),[A,C]=S.useState(null),E=S.useRef(null),N=$t(e,E,g.onContentChange),O=S.useRef(0),D=S.useRef(""),L=S.useRef(0),$=S.useRef(null),F=S.useRef("right"),G=S.useRef(0),Y=w?Wk:S.Fragment,K=w?{as:bge,allowPinchZoom:!0}:void 0,X=Q=>{var me,Ie;const ne=D.current+Q,W=I().filter(fe=>!fe.disabled),Z=document.activeElement,ue=(me=W.find(fe=>fe.ref.current===Z))==null?void 0:me.textValue,le=W.map(fe=>fe.textValue),be=Ige(le,ne,ue),ge=(Ie=W.find(fe=>fe.textValue===be))==null?void 0:Ie.ref.current;(function fe(Pe){D.current=Pe,window.clearTimeout(O.current),Pe!==""&&(O.current=window.setTimeout(()=>fe(""),1e3))})(ne),ge&&setTimeout(()=>ge.focus())};S.useEffect(()=>()=>window.clearTimeout(O.current),[]),H7();const U=S.useCallback(Q=>{var W,Z;return F.current===((W=$.current)==null?void 0:W.side)&&Rge(Q,(Z=$.current)==null?void 0:Z.area)},[]);return a.jsx(yge,{scope:r,searchRef:D,onItemEnter:S.useCallback(Q=>{U(Q)&&Q.preventDefault()},[U]),onItemLeave:S.useCallback(Q=>{var ne;U(Q)||((ne=E.current)==null||ne.focus(),C(null))},[U]),onTriggerLeave:S.useCallback(Q=>{U(Q)&&Q.preventDefault()},[U]),pointerGraceTimerRef:L,onPointerGraceIntentChange:S.useCallback(Q=>{$.current=Q},[]),children:a.jsx(Y,{...K,children:a.jsx(Ik,{asChild:!0,trapped:i,onMountAutoFocus:Fe(s,Q=>{var ne;Q.preventDefault(),(ne=E.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Vw,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,onDismiss:v,children:a.jsx(bz,{asChild:!0,...P,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:C,onEntryFocus:Fe(c,Q=>{_.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Uk,{role:"menu","aria-orientation":"vertical","data-state":Zz(g.open),"data-radix-menu-content":"",dir:_.dir,...T,...x,ref:N,style:{outline:"none",...x.style},onKeyDown:Fe(x.onKeyDown,Q=>{const W=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,Z=Q.ctrlKey||Q.altKey||Q.metaKey,ue=Q.key.length===1;W&&(Q.key==="Tab"&&Q.preventDefault(),!Z&&ue&&X(Q.key));const le=E.current;if(Q.target!==le||!lge.includes(Q.key))return;Q.preventDefault();const ge=I().filter(me=>!me.disabled).map(me=>me.ref.current);kz.includes(Q.key)&&ge.reverse(),Cge(ge)}),onBlur:Fe(t.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(O.current),D.current="")}),onPointerMove:Fe(t.onPointerMove,jg(Q=>{const ne=Q.target,W=G.current!==Q.clientX;if(Q.currentTarget.contains(ne)&&W){const Z=Q.clientX>G.current?"right":"left";F.current=Z,G.current=Q.clientX}}))})})})})})})});Lz.displayName=Ms;var wge="MenuGroup",Qk=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(wt.div,{role:"group",...n,ref:e})});Qk.displayName=wge;var _ge="MenuLabel",$z=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(wt.div,{...n,ref:e})});$z.displayName=_ge;var Jx="MenuItem",B3="menu.itemSelect",Qw=S.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=S.useRef(null),o=$y(Jx,t.__scopeMenu),l=Kk(Jx,t.__scopeMenu),c=$t(e,s),d=S.useRef(!1),f=()=>{const m=s.current;if(!r&&m){const p=new CustomEvent(B3,{bubbles:!0,cancelable:!0});m.addEventListener(B3,v=>n==null?void 0:n(v),{once:!0}),U7(m,p),p.defaultPrevented?d.current=!1:o.onClose()}};return a.jsx(Fz,{...i,ref:c,disabled:r,onClick:Fe(t.onClick,f),onPointerDown:m=>{var p;(p=t.onPointerDown)==null||p.call(t,m),d.current=!0},onPointerUp:Fe(t.onPointerUp,m=>{var p;d.current||(p=m.currentTarget)==null||p.click()}),onKeyDown:Fe(t.onKeyDown,m=>{const p=l.searchRef.current!=="";r||p&&m.key===" "||gP.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Qw.displayName=Jx;var Fz=S.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,o=Kk(Jx,r),l=Oz(r),c=S.useRef(null),d=$t(e,c),[f,m]=S.useState(!1),[p,v]=S.useState("");return S.useEffect(()=>{const w=c.current;w&&v((w.textContent??"").trim())},[s.children]),a.jsx(_g.ItemSlot,{scope:r,disabled:n,textValue:i??p,children:a.jsx(wz,{asChild:!0,...l,focusable:!n,children:a.jsx(wt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:d,onPointerMove:Fe(t.onPointerMove,jg(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Fe(t.onPointerLeave,jg(w=>o.onItemLeave(w))),onFocus:Fe(t.onFocus,()=>m(!0)),onBlur:Fe(t.onBlur,()=>m(!1))})})})}),jge="MenuCheckboxItem",Vz=S.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return a.jsx(Wz,{scope:t.__scopeMenu,checked:r,children:a.jsx(Qw,{role:"menuitemcheckbox","aria-checked":Zx(r)?"mixed":r,...i,ref:e,"data-state":Jk(r),onSelect:Fe(i.onSelect,()=>n==null?void 0:n(Zx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Vz.displayName=jge;var Bz="MenuRadioGroup",[Nge,Sge]=Td(Bz,{value:void 0,onValueChange:()=>{}}),qz=S.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=io(n);return a.jsx(Nge,{scope:t.__scopeMenu,value:r,onValueChange:s,children:a.jsx(Qk,{...i,ref:e})})});qz.displayName=Bz;var Uz="MenuRadioItem",zz=S.forwardRef((t,e)=>{const{value:r,...n}=t,i=Sge(Uz,t.__scopeMenu),s=r===i.value;return a.jsx(Wz,{scope:t.__scopeMenu,checked:s,children:a.jsx(Qw,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":Jk(s),onSelect:Fe(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});zz.displayName=Uz;var Xk="MenuItemIndicator",[Wz,Tge]=Td(Xk,{checked:!1}),Hz=S.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=Tge(Xk,r);return a.jsx(vl,{present:n||Zx(s.checked)||s.checked===!0,children:a.jsx(wt.span,{...i,ref:e,"data-state":Jk(s.checked)})})});Hz.displayName=Xk;var Ege="MenuSeparator",Gz=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(wt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});Gz.displayName=Ege;var Pge="MenuArrow",Kz=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Yw(r);return a.jsx(zk,{...i,...n,ref:e})});Kz.displayName=Pge;var Age="MenuSub",[XLe,Yz]=Td(Age),Ip="MenuSubTrigger",Qz=S.forwardRef((t,e)=>{const r=Ed(Ip,t.__scopeMenu),n=$y(Ip,t.__scopeMenu),i=Yz(Ip,t.__scopeMenu),s=Kk(Ip,t.__scopeMenu),o=S.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,d={__scopeMenu:t.__scopeMenu},f=S.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return S.useEffect(()=>f,[f]),S.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),a.jsx(Hk,{asChild:!0,...d,children:a.jsx(Fz,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":Zz(r.open),...t,ref:Uc(e,i.onTriggerChange),onClick:m=>{var p;(p=t.onClick)==null||p.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Fe(t.onPointerMove,jg(m=>{s.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Fe(t.onPointerLeave,jg(m=>{var v,w;f();const p=(v=r.content)==null?void 0:v.getBoundingClientRect();if(p){const x=(w=r.content)==null?void 0:w.dataset.side,g=x==="right",_=g?-5:5,T=p[g?"left":"right"],P=p[g?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+_,y:m.clientY},{x:T,y:p.top},{x:P,y:p.top},{x:P,y:p.bottom},{x:T,y:p.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Fe(t.onKeyDown,m=>{var v;const p=s.searchRef.current!=="";t.disabled||p&&m.key===" "||cge[n.dir].includes(m.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),m.preventDefault())})})})});Qz.displayName=Ip;var Xz="MenuSubContent",Jz=S.forwardRef((t,e)=>{const r=Mz(Ms,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=Ed(Ms,t.__scopeMenu),o=$y(Ms,t.__scopeMenu),l=Yz(Xz,t.__scopeMenu),c=S.useRef(null),d=$t(e,c);return a.jsx(_g.Provider,{scope:t.__scopeMenu,children:a.jsx(vl,{present:n||s.open,children:a.jsx(_g.Slot,{scope:t.__scopeMenu,children:a.jsx(Yk,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Fe(t.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Fe(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Fe(t.onKeyDown,f=>{var v;const m=f.currentTarget.contains(f.target),p=uge[o.dir].includes(f.key);m&&p&&(s.onOpenChange(!1),(v=l.trigger)==null||v.focus(),f.preventDefault())})})})})})});Jz.displayName=Xz;function Zz(t){return t?"open":"closed"}function Zx(t){return t==="indeterminate"}function Jk(t){return Zx(t)?"indeterminate":t?"checked":"unchecked"}function Cge(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function kge(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Ige(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=kge(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function Oge(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,f=l.y,m=c.x,p=c.y;f>n!=p>n&&r<(m-d)*(n-f)/(p-f)+d&&(i=!i)}return i}function Rge(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Oge(r,e)}function jg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Mge=Rz,Dge=Hk,Lge=Dz,$ge=Lz,Fge=Qk,Vge=$z,Bge=Qw,qge=Vz,Uge=qz,zge=zz,Wge=Hz,Hge=Gz,Gge=Kz,Kge=Qz,Yge=Jz,Xw="DropdownMenu",[Qge]=ga(Xw,[Iz]),Ei=Iz(),[Xge,eW]=Qge(Xw),tW=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=Ei(e),d=S.useRef(null),[f,m]=il({prop:i,defaultProp:s??!1,onChange:o,caller:Xw});return a.jsx(Xge,{scope:e,triggerId:Oc(),triggerRef:d,contentId:Oc(),open:f,onOpenChange:m,onOpenToggle:S.useCallback(()=>m(p=>!p),[m]),modal:l,children:a.jsx(Mge,{...c,open:f,onOpenChange:m,dir:n,modal:l,children:r})})};tW.displayName=Xw;var rW="DropdownMenuTrigger",nW=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=eW(rW,r),o=Ei(r);return a.jsx(Dge,{asChild:!0,...o,children:a.jsx(wt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Uc(e,s.triggerRef),onPointerDown:Fe(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Fe(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});nW.displayName=rW;var Jge="DropdownMenuPortal",iW=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Ei(e);return a.jsx(Lge,{...n,...r})};iW.displayName=Jge;var sW="DropdownMenuContent",aW=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=eW(sW,r),s=Ei(r),o=S.useRef(!1);return a.jsx($ge,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:Fe(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Fe(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!i.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aW.displayName=sW;var Zge="DropdownMenuGroup",eye=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return a.jsx(Fge,{...i,...n,ref:e})});eye.displayName=Zge;var tye="DropdownMenuLabel",oW=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return a.jsx(Vge,{...i,...n,ref:e})});oW.displayName=tye;var rye="DropdownMenuItem",lW=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return a.jsx(Bge,{...i,...n,ref:e})});lW.displayName=rye;var nye="DropdownMenuCheckboxItem",cW=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return a.jsx(qge,{...i,...n,ref:e})});cW.displayName=nye;var iye="DropdownMenuRadioGroup",sye=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return a.jsx(Uge,{...i,...n,ref:e})});sye.displayName=iye;var aye="DropdownMenuRadioItem",uW=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return a.jsx(zge,{...i,...n,ref:e})});uW.displayName=aye;var oye="DropdownMenuItemIndicator",dW=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return a.jsx(Wge,{...i,...n,ref:e})});dW.displayName=oye;var lye="DropdownMenuSeparator",hW=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return a.jsx(Hge,{...i,...n,ref:e})});hW.displayName=lye;var cye="DropdownMenuArrow",uye=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return a.jsx(Gge,{...i,...n,ref:e})});uye.displayName=cye;var dye="DropdownMenuSubTrigger",fW=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return a.jsx(Kge,{...i,...n,ref:e})});fW.displayName=dye;var hye="DropdownMenuSubContent",mW=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return a.jsx(Yge,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mW.displayName=hye;var fye=tW,mye=nW,pye=iW,pW=aW,gW=oW,yW=lW,vW=cW,xW=uW,bW=dW,wW=hW,_W=fW,jW=mW;const gye=fye,yye=mye,vye=S.forwardRef(({className:t,inset:e,children:r,...n},i)=>a.jsxs(_W,{ref:i,className:vt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,a.jsx(Pk,{className:"ml-auto"})]}));vye.displayName=_W.displayName;const xye=S.forwardRef(({className:t,...e},r)=>a.jsx(jW,{ref:r,className:vt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));xye.displayName=jW.displayName;const NW=S.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(pye,{children:a.jsx(pW,{ref:n,sideOffset:e,className:vt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));NW.displayName=pW.displayName;const Da=S.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(yW,{ref:n,className:vt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...r}));Da.displayName=yW.displayName;const bye=S.forwardRef(({className:t,children:e,checked:r,...n},i)=>a.jsxs(vW,{ref:i,className:vt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(bW,{children:a.jsx(Mr,{className:"h-4 w-4"})})}),e]}));bye.displayName=vW.displayName;const wye=S.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(xW,{ref:n,className:vt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(bW,{children:a.jsx(pue,{className:"h-2 w-2 fill-current"})})}),e]}));wye.displayName=xW.displayName;const SW=S.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(gW,{ref:n,className:vt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));SW.displayName=gW.displayName;const hx=S.forwardRef(({className:t,...e},r)=>a.jsx(wW,{ref:r,className:vt("-mx-1 my-1 h-px bg-muted",t),...e}));hx.displayName=wW.displayName;function Kh({avatarData:t,size:e="medium",showPet:r=!1,petData:n=null}){const i={small:"w-16 h-16",medium:"w-32 h-32",large:"w-48 h-48"},s=i[e]||i.medium,o={plain:"from-gray-100 to-gray-200",stars:"from-indigo-500 via-purple-500 to-pink-500",rainbow:"from-red-400 via-yellow-400 via-green-400 via-blue-400 to-purple-400",clouds:"from-sky-300 to-blue-400",space:"from-slate-900 via-purple-900 to-indigo-900",underwater:"from-cyan-500 to-blue-600",forest:"from-green-600 to-emerald-700",city:"from-gray-700 to-slate-800",beach:"from-yellow-300 to-orange-400"},l={light:"#FFE0BD",medium:"#F4C89A",tan:"#D4A574",dark:"#8D5524"},c={black:"#000000",brown:"#8B4513",blonde:"#FFD700",red:"#DC143C",blue:"#4169E1",pink:"#FF69B4",purple:"#9370DB",green:"#32CD32",orange:"#FF8C00",white:"#F5F5F5",rainbow:"linear-gradient(90deg, red, orange, yellow, green, blue, purple)"},d={t_shirt_basic:"#6366f1",t_shirt_stripe:"#ef4444",polo:"#10b981",hoodie:"#8b5cf6",tank_top:"#f59e0b",sweater:"#ec4899",jersey:"#3b82f6",button_up:"#ffffff",graphic_tee:"#f97316"},f={jeans:"#1e40af",shorts:"#78716c",skirt:"#ec4899",dress_pants:"#374151",joggers:"#6b7280",overalls:"#3b82f6",leggings:"#0f172a",cargo_pants:"#854d0e"},m={sneakers:"#ffffff",boots:"#78350f",sandals:"#f59e0b",dress_shoes:"#000000",high_tops:"#ef4444",cleats:"#10b981",slippers:"#ec4899",bare_feet:l[t.avatar_skin_tone]||l.medium},p=N=>{const O={normal:"",happy:"",cool:"",star:"",heart:"",sleepy:"",angry:"",surprised:"",wink:""};return O[N]||O.normal},v=N=>{const O={smile:"",big_smile:"",laughing:"",determined:"",neutral:"",tongue_out:""};return O[N]||O.smile},w=N=>{const O={short:"",long:"",curly:"",spiky:"",bald:"",ponytail:"",braids:"",afro:"",mohawk:"",bun:""};return O[N]||O.short},x=N=>({none:"",baseball_cap:"",beanie:"",sun_hat:"",wizard_hat:"",party_hat:"",graduation_cap:"",crown:"",top_hat:"",cowboy_hat:""})[N]||"",g=N=>({none:"",regular:"",sunglasses:"",reading:"",safety_goggles:"","3d_glasses":"",heart_shaped:"",star_shaped:""})[N]||"",_=N=>({none:"",backpack:"",cape:"",scarf:"",bow_tie:"",necklace:"",watch:"",headphones:"",earrings:"",bracelet:""})[N]||"",T=o[t.avatar_background]||o.plain,P=l[t.avatar_skin_tone]||l.medium,I=c[t.avatar_hair_color]||c.brown,A=d[t.avatar_shirt]||d.t_shirt_basic,C=f[t.avatar_pants]||f.jeans,E=m[t.avatar_shoes]||m.sneakers;return a.jsxs("div",{className:"relative inline-block",children:[a.jsxs("div",{className:`${s} rounded-full bg-gradient-to-br ${T} flex flex-col items-center justify-center overflow-hidden shadow-xl border-4 border-white relative`,children:[t.avatar_hat&&t.avatar_hat!=="none"&&a.jsx("div",{className:"absolute top-0 text-2xl",children:x(t.avatar_hat)}),a.jsx("div",{className:"text-3xl mb-1",style:t.avatar_hair_color==="rainbow"?{background:I,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}:{color:I},children:w(t.avatar_hair_style)}),a.jsxs("div",{className:"w-16 h-16 rounded-full flex flex-col items-center justify-center",style:{backgroundColor:P},children:[t.avatar_glasses&&t.avatar_glasses!=="none"&&a.jsx("div",{className:"absolute text-xl",children:g(t.avatar_glasses)}),a.jsx("div",{className:"text-xl",children:p(t.avatar_eyes)}),a.jsx("div",{className:"text-xs",children:v(t.avatar_face||"smile")})]}),a.jsx("div",{className:"w-20 h-8 rounded-t-lg mt-1",style:{backgroundColor:A}}),a.jsx("div",{className:"w-16 h-6",style:{backgroundColor:C}}),a.jsx("div",{className:"w-12 h-3 rounded-b-lg",style:{backgroundColor:E}}),t.avatar_accessory&&t.avatar_accessory!=="none"&&a.jsx("div",{className:"absolute bottom-2 right-2 text-xl",children:_(t.avatar_accessory)})]}),r&&n&&a.jsx("div",{className:"absolute -bottom-2 -right-2 scale-75",children:a.jsxs("div",{className:`w-12 h-12 rounded-full bg-gradient-to-br ${n.gradient} flex items-center justify-center border-2 border-white shadow-lg`,children:[a.jsx("span",{className:"text-xl",children:n.emoji}),t.pet_hat&&t.pet_hat!=="none"&&a.jsxs("span",{className:"absolute -top-1 text-xs",children:[t.pet_hat==="tiny_cap"&&"",t.pet_hat==="bow"&&"",t.pet_hat==="crown"&&"",t.pet_hat==="santa_hat"&&"",t.pet_hat==="party_hat"&&""]}),t.pet_accessory&&t.pet_accessory!=="none"&&a.jsxs("span",{className:"absolute -bottom-1 text-xs",children:[t.pet_accessory==="collar"&&"",t.pet_accessory==="bow_tie"&&"",t.pet_accessory==="bandana"&&"",t.pet_accessory==="scarf"&&"",t.pet_accessory==="wings"&&"",t.pet_accessory==="cape"&&""]})]})})]})}const te=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:vt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));te.displayName="Card";const _e=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:vt("flex flex-col space-y-1.5 p-6",t),...e}));_e.displayName="CardHeader";const Ne=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:vt("font-semibold leading-none tracking-tight",t),...e}));Ne.displayName="CardTitle";const _ye=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:vt("text-sm text-muted-foreground",t),...e}));_ye.displayName="CardDescription";const re=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:vt("p-6 pt-0",t),...e}));re.displayName="CardContent";const jye=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:vt("flex items-center p-6 pt-0",t),...e}));jye.displayName="CardFooter";function Nye(t,e=[]){let r=[];function n(s,o){const l=S.createContext(o);l.displayName=s+"Context";const c=r.length;r=[...r,o];const d=m=>{var _;const{scope:p,children:v,...w}=m,x=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,g=S.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:g,children:v})};d.displayName=s+"Provider";function f(m,p){var x;const v=((x=p==null?void 0:p[t])==null?void 0:x[c])||l,w=S.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=r.map(o=>S.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,Sye(i,...e)]}function Sye(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(s)[`__scope${d}`];return{...l,...m}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Tye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],TW=Tye.reduce((t,e)=>{const r=kk(`Primitive.${e}`),n=S.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Zk="Progress",eI=100,[Eye]=Nye(Zk),[Pye,Aye]=Eye(Zk),EW=S.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=Cye,...o}=t;(i||i===0)&&!q3(i)&&console.error(kye(`${i}`,"Progress"));const l=q3(i)?i:eI;n!==null&&!U3(n,l)&&console.error(Iye(`${n}`,"Progress"));const c=U3(n,l)?n:null,d=eb(c)?s(c,l):void 0;return a.jsx(Pye,{scope:r,value:c,max:l,children:a.jsx(TW.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":eb(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":CW(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});EW.displayName=Zk;var PW="ProgressIndicator",AW=S.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=Aye(PW,r);return a.jsx(TW.div,{"data-state":CW(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});AW.displayName=PW;function Cye(t,e){return`${Math.round(t/e*100)}%`}function CW(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function eb(t){return typeof t=="number"}function q3(t){return eb(t)&&!isNaN(t)&&t>0}function U3(t,e){return eb(t)&&!isNaN(t)&&t<=e&&t>=0}function kye(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${eI}\`.`}function Iye(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${eI} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var kW=EW,Oye=AW;const ol=S.forwardRef(({className:t,value:e,...r},n)=>a.jsx(kW,{ref:n,className:vt("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...r,children:a.jsx(Oye,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));ol.displayName=kW.displayName;function tI({pet:t,experience:e,size:r="medium"}){if(!t)return null;const n={small:"w-16 h-16 text-3xl",medium:"w-24 h-24 text-5xl",large:"w-32 h-32 text-7xl"},i=n[r]||n.medium,s=e||0,o=Math.floor(s/100)+1,l=100,c=s%100,d=c/l*100;return a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:`${i} rounded-2xl bg-gradient-to-br ${t.gradient} flex items-center justify-center shadow-lg border-4 border-white relative overflow-hidden`,children:[a.jsx("div",{className:"text-center",children:a.jsx("div",{children:t.emoji})}),a.jsxs(je,{className:"absolute -top-2 -right-2 bg-purple-500 text-white text-xs px-2 py-1",children:["Lv.",o]}),o>=t.evolveLevel&&!t.isEvolved&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-yellow-400/20",children:a.jsx(Yt,{className:"w-8 h-8 text-yellow-500 animate-pulse"})})]}),r!=="small"&&a.jsxs("div",{className:"mt-2",children:[a.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[a.jsx("span",{children:t.name}),a.jsxs("span",{children:[c,"/",l," XP"]})]}),a.jsx(ol,{value:d,className:"h-2"})]})]})}const rI=S.createContext({});function nI(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const iI=typeof window<"u",IW=iI?S.useLayoutEffect:S.useEffect,Jw=S.createContext(null);function sI(t,e){t.indexOf(e)===-1&&t.push(e)}function aI(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const ll=(t,e,r)=>r>e?e:r<t?t:r;let oI=()=>{};const cl={},OW=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function RW(t){return typeof t=="object"&&t!==null}const MW=t=>/^0[^.\s]+$/u.test(t);function lI(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ds=t=>t,Rye=(t,e)=>r=>e(t(r)),Fy=(...t)=>t.reduce(Rye),Ng=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class cI{constructor(){this.subscriptions=[]}add(e){return sI(this.subscriptions,e),()=>aI(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qa=t=>t*1e3,Is=t=>t/1e3;function DW(t,e){return e?t*(1e3/e):0}const LW=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Mye=1e-7,Dye=12;function Lye(t,e,r,n,i){let s,o,l=0;do o=e+(r-e)/2,s=LW(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>Mye&&++l<Dye);return o}function Vy(t,e,r,n){if(t===e&&r===n)return Ds;const i=s=>Lye(s,0,1,t,r);return s=>s===0||s===1?s:LW(i(s),e,n)}const $W=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,FW=t=>e=>1-t(1-e),VW=Vy(.33,1.53,.69,.99),uI=FW(VW),BW=$W(uI),qW=t=>(t*=2)<1?.5*uI(t):.5*(2-Math.pow(2,-10*(t-1))),dI=t=>1-Math.sin(Math.acos(t)),UW=FW(dI),zW=$W(dI),$ye=Vy(.42,0,1,1),Fye=Vy(0,0,.58,1),WW=Vy(.42,0,.58,1),Vye=t=>Array.isArray(t)&&typeof t[0]!="number",HW=t=>Array.isArray(t)&&typeof t[0]=="number",Bye={linear:Ds,easeIn:$ye,easeInOut:WW,easeOut:Fye,circIn:dI,circInOut:zW,circOut:UW,backIn:uI,backInOut:BW,backOut:VW,anticipate:qW},qye=t=>typeof t=="string",z3=t=>{if(HW(t)){oI(t.length===4);const[e,r,n,i]=t;return Vy(e,r,n,i)}else if(qye(t))return Bye[t];return t},Cv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Uye(t,e){let r=new Set,n=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,m=!1,p=!1)=>{const w=p&&i?r:n;return m&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(c),r.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const zye=40;function GW(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=Cv.reduce((P,I)=>(P[I]=Uye(s),P),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:m,preRender:p,render:v,postRender:w}=o,x=()=>{const P=cl.useManualTiming?i.timestamp:performance.now();r=!1,cl.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(P-i.timestamp,zye),1)),i.timestamp=P,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),f.process(i),m.process(i),p.process(i),v.process(i),w.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(x))},g=()=>{r=!0,n=!0,i.isProcessing||t(x)};return{schedule:Cv.reduce((P,I)=>{const A=o[I];return P[I]=(C,E=!1,N=!1)=>(r||g(),A.schedule(C,E,N)),P},{}),cancel:P=>{for(let I=0;I<Cv.length;I++)o[Cv[I]].cancel(P)},state:i,steps:o}}const{schedule:kr,cancel:Dc,state:$n,steps:Xj}=GW(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ds,!0);let fx;function Wye(){fx=void 0}const qi={now:()=>(fx===void 0&&qi.set($n.isProcessing||cl.useManualTiming?$n.timestamp:performance.now()),fx),set:t=>{fx=t,queueMicrotask(Wye)}},KW=t=>e=>typeof e=="string"&&e.startsWith(t),hI=KW("--"),Hye=KW("var(--"),fI=t=>Hye(t)?Gye.test(t.split("/*")[0].trim()):!1,Gye=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,am={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sg={...am,transform:t=>ll(0,1,t)},kv={...am,default:1},Yp=t=>Math.round(t*1e5)/1e5,mI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Kye(t){return t==null}const Yye=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pI=(t,e)=>r=>!!(typeof r=="string"&&Yye.test(r)&&r.startsWith(t)||e&&!Kye(r)&&Object.prototype.hasOwnProperty.call(r,e)),YW=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,l]=n.match(mI);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Qye=t=>ll(0,255,t),Jj={...am,transform:t=>Math.round(Qye(t))},Du={test:pI("rgb","red"),parse:YW("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Jj.transform(t)+", "+Jj.transform(e)+", "+Jj.transform(r)+", "+Yp(Sg.transform(n))+")"};function Xye(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const yP={test:pI("#"),parse:Xye,transform:Du.transform},By=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zl=By("deg"),Xa=By("%"),ht=By("px"),Jye=By("vh"),Zye=By("vw"),W3={...Xa,parse:t=>Xa.parse(t)/100,transform:t=>Xa.transform(t*100)},Ah={test:pI("hsl","hue"),parse:YW("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Xa.transform(Yp(e))+", "+Xa.transform(Yp(r))+", "+Yp(Sg.transform(n))+")"},nn={test:t=>Du.test(t)||yP.test(t)||Ah.test(t),parse:t=>Du.test(t)?Du.parse(t):Ah.test(t)?Ah.parse(t):yP.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Du.transform(t):Ah.transform(t),getAnimatableNone:t=>{const e=nn.parse(t);return e.alpha=0,nn.transform(e)}},e0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function t0e(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(mI))==null?void 0:e.length)||0)+(((r=t.match(e0e))==null?void 0:r.length)||0)>0}const QW="number",XW="color",r0e="var",n0e="var(",H3="${}",i0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tg(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(i0e,c=>(nn.test(c)?(n.color.push(s),i.push(XW),r.push(nn.parse(c))):c.startsWith(n0e)?(n.var.push(s),i.push(r0e),r.push(c)):(n.number.push(s),i.push(QW),r.push(parseFloat(c))),++s,H3)).split(H3);return{values:r,split:l,indexes:n,types:i}}function JW(t){return Tg(t).values}function ZW(t){const{split:e,types:r}=Tg(t),n=e.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],i[o]!==void 0){const l=r[o];l===QW?s+=Yp(i[o]):l===XW?s+=nn.transform(i[o]):s+=i[o]}return s}}const s0e=t=>typeof t=="number"?0:nn.test(t)?nn.getAnimatableNone(t):t;function a0e(t){const e=JW(t);return ZW(t)(e.map(s0e))}const Lc={test:t0e,parse:JW,createTransformer:ZW,getAnimatableNone:a0e};function Zj(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function o0e({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=Zj(c,l,t+1/3),s=Zj(c,l,t),o=Zj(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function tb(t,e){return r=>r>0?e:t}const Lr=(t,e,r)=>t+(e-t)*r,eN=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},l0e=[yP,Du,Ah],c0e=t=>l0e.find(e=>e.test(t));function G3(t){const e=c0e(t);if(!e)return!1;let r=e.parse(t);return e===Ah&&(r=o0e(r)),r}const K3=(t,e)=>{const r=G3(t),n=G3(e);if(!r||!n)return tb(t,e);const i={...r};return s=>(i.red=eN(r.red,n.red,s),i.green=eN(r.green,n.green,s),i.blue=eN(r.blue,n.blue,s),i.alpha=Lr(r.alpha,n.alpha,s),Du.transform(i))},vP=new Set(["none","hidden"]);function u0e(t,e){return vP.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function d0e(t,e){return r=>Lr(t,e,r)}function gI(t){return typeof t=="number"?d0e:typeof t=="string"?fI(t)?tb:nn.test(t)?K3:m0e:Array.isArray(t)?eH:typeof t=="object"?nn.test(t)?K3:h0e:tb}function eH(t,e){const r=[...t],n=r.length,i=t.map((s,o)=>gI(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function h0e(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=gI(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function f0e(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][n[s]],l=t.values[o]??0;r[i]=l,n[s]++}return r}const m0e=(t,e)=>{const r=Lc.createTransformer(e),n=Tg(t),i=Tg(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?vP.has(t)&&!i.values.length||vP.has(e)&&!n.values.length?u0e(t,e):Fy(eH(f0e(n,i),i.values),r):tb(t,e)};function tH(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Lr(t,e,r):gI(t)(t,e)}const p0e=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>kr.update(e,r),stop:()=>Dc(e),now:()=>$n.isProcessing?$n.timestamp:qi.now()}},rH=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},rb=2e4;function yI(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<rb;)e+=r,n=t.next(e);return e>=rb?1/0:e}function g0e(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(yI(n),rb);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:Is(i)}}const y0e=5;function nH(t,e,r){const n=Math.max(e-y0e,0);return DW(r-t(n),e-n)}const Ur={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tN=.001;function v0e({duration:t=Ur.duration,bounce:e=Ur.bounce,velocity:r=Ur.velocity,mass:n=Ur.mass}){let i,s,o=1-e;o=ll(Ur.minDamping,Ur.maxDamping,o),t=ll(Ur.minDuration,Ur.maxDuration,Is(t)),o<1?(i=d=>{const f=d*o,m=f*t,p=f-r,v=xP(d,o),w=Math.exp(-m);return tN-p/v*w},s=d=>{const m=d*o*t,p=m*r+r,v=Math.pow(o,2)*Math.pow(d,2)*t,w=Math.exp(-m),x=xP(Math.pow(d,2),o);return(-i(d)+tN>0?-1:1)*((p-v)*w)/x}):(i=d=>{const f=Math.exp(-d*t),m=(d-r)*t+1;return-tN+f*m},s=d=>{const f=Math.exp(-d*t),m=(r-d)*(t*t);return f*m});const l=5/t,c=b0e(i,s,l);if(t=Qa(t),isNaN(c))return{stiffness:Ur.stiffness,damping:Ur.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:t}}}const x0e=12;function b0e(t,e,r){let n=r;for(let i=1;i<x0e;i++)n=n-t(n)/e(n);return n}function xP(t,e){return t*Math.sqrt(1-e*e)}const w0e=["duration","bounce"],_0e=["stiffness","damping","mass"];function Y3(t,e){return e.some(r=>t[r]!==void 0)}function j0e(t){let e={velocity:Ur.velocity,stiffness:Ur.stiffness,damping:Ur.damping,mass:Ur.mass,isResolvedFromDuration:!1,...t};if(!Y3(t,_0e)&&Y3(t,w0e))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*ll(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ur.mass,stiffness:i,damping:s}}else{const r=v0e(t);e={...e,...r,mass:Ur.mass},e.isResolvedFromDuration=!0}return e}function nb(t=Ur.visualDuration,e=Ur.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:f,duration:m,velocity:p,isResolvedFromDuration:v}=j0e({...r,velocity:-Is(r.velocity||0)}),w=p||0,x=d/(2*Math.sqrt(c*f)),g=o-s,_=Is(Math.sqrt(c/f)),T=Math.abs(g)<5;n||(n=T?Ur.restSpeed.granular:Ur.restSpeed.default),i||(i=T?Ur.restDelta.granular:Ur.restDelta.default);let P;if(x<1){const A=xP(_,x);P=C=>{const E=Math.exp(-x*_*C);return o-E*((w+x*_*g)/A*Math.sin(A*C)+g*Math.cos(A*C))}}else if(x===1)P=A=>o-Math.exp(-_*A)*(g+(w+_*g)*A);else{const A=_*Math.sqrt(x*x-1);P=C=>{const E=Math.exp(-x*_*C),N=Math.min(A*C,300);return o-E*((w+x*_*g)*Math.sinh(N)+A*g*Math.cosh(N))/A}}const I={calculatedDuration:v&&m||null,next:A=>{const C=P(A);if(v)l.done=A>=m;else{let E=A===0?w:0;x<1&&(E=A===0?Qa(w):nH(P,A,C));const N=Math.abs(E)<=n,O=Math.abs(o-C)<=i;l.done=N&&O}return l.value=l.done?o:C,l},toString:()=>{const A=Math.min(yI(I),rb),C=rH(E=>I.next(A*E).value,A,30);return A+"ms "+C},toTransition:()=>{}};return I}nb.applyToOptions=t=>{const e=g0e(t,100,nb);return t.ease=e.ease,t.duration=Qa(e.duration),t.type="keyframes",t};function bP({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:f}){const m=t[0],p={done:!1,value:m},v=N=>l!==void 0&&N<l||c!==void 0&&N>c,w=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let x=r*e;const g=m+x,_=o===void 0?g:o(g);_!==g&&(x=_-m);const T=N=>-x*Math.exp(-N/n),P=N=>_+T(N),I=N=>{const O=T(N),D=P(N);p.done=Math.abs(O)<=d,p.value=p.done?_:D};let A,C;const E=N=>{v(p.value)&&(A=N,C=nb({keyframes:[p.value,w(p.value)],velocity:nH(P,N,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return E(0),{calculatedDuration:null,next:N=>{let O=!1;return!C&&A===void 0&&(O=!0,I(N),E(N)),A!==void 0&&N>=A?C.next(N-A):(!O&&I(N),p)}}}function N0e(t,e,r){const n=[],i=r||cl.mix||tH,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ds:e;l=Fy(c,l)}n.push(l)}return n}function S0e(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(oI(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=N0e(e,n,i),c=l.length,d=f=>{if(o&&f<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const p=Ng(t[m],t[m+1],f);return l[m](p)};return r?f=>d(ll(t[0],t[s-1],f)):d}function T0e(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Ng(0,e,n);t.push(Lr(r,1,i))}}function E0e(t){const e=[0];return T0e(e,t.length-1),e}function P0e(t,e){return t.map(r=>r*e)}function A0e(t,e){return t.map(()=>e||WW).splice(0,t.length-1)}function Qp({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Vye(n)?n.map(z3):z3(n),s={done:!1,value:e[0]},o=P0e(r&&r.length===e.length?r:E0e(e),t),l=S0e(o,e,{ease:Array.isArray(i)?i:A0e(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const C0e=t=>t!==null;function vI(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(C0e),l=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const k0e={decay:bP,inertia:bP,tween:Qp,keyframes:Qp,spring:nb};function iH(t){typeof t.type=="string"&&(t.type=k0e[t.type])}class xI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const I0e=t=>t/100;class bI extends xI{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==qi.now()&&this.tick(qi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;iH(e);const{type:r=Qp,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const c=r||Qp;c!==Qp&&typeof l[0]!="number"&&(this.mixKeyframes=Fy(I0e,tH(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=yI(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:p,repeatDelay:v,type:w,onUpdate:x,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const _=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let P=this.currentTime,I=n;if(m){const N=Math.min(this.currentTime,i)/l;let O=Math.floor(N),D=N%1;!D&&N>=1&&(D=1),D===1&&O--,O=Math.min(O,m+1),!!(O%2)&&(p==="reverse"?(D=1-D,v&&(D-=v/l)):p==="mirror"&&(I=o)),P=ll(0,1,D)*l}const A=T?{done:!1,value:f[0]}:I.next(P);s&&(A.value=s(A.value));let{done:C}=A;!T&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return E&&w!==bP&&(A.value=vI(f,this.options,g,this.speed)),x&&x(A.value),E&&this.finish(),A}then(e,r){return this.finished.then(e,r)}get duration(){return Is(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Is(e)}get time(){return Is(this.currentTime)}set time(e){var r;e=Qa(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(qi.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Is(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=p0e,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function O0e(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Lu=t=>t*180/Math.PI,wP=t=>{const e=Lu(Math.atan2(t[1],t[0]));return _P(e)},R0e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:wP,rotateZ:wP,skewX:t=>Lu(Math.atan(t[1])),skewY:t=>Lu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},_P=t=>(t=t%360,t<0&&(t+=360),t),Q3=wP,X3=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),J3=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),M0e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:X3,scaleY:J3,scale:t=>(X3(t)+J3(t))/2,rotateX:t=>_P(Lu(Math.atan2(t[6],t[5]))),rotateY:t=>_P(Lu(Math.atan2(-t[2],t[0]))),rotateZ:Q3,rotate:Q3,skewX:t=>Lu(Math.atan(t[4])),skewY:t=>Lu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function jP(t){return t.includes("scale")?1:0}function NP(t,e){if(!t||t==="none")return jP(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=M0e,i=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=R0e,i=l}if(!i)return jP(e);const s=n[e],o=i[1].split(",").map(L0e);return typeof s=="function"?s(o):o[s]}const D0e=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return NP(r,e)};function L0e(t){return parseFloat(t.trim())}const om=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lm=new Set(om),Z3=t=>t===am||t===ht,$0e=new Set(["x","y","z"]),F0e=om.filter(t=>!$0e.has(t));function V0e(t){const e=[];return F0e.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Qu={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>NP(e,"x"),y:(t,{transform:e})=>NP(e,"y")};Qu.translateX=Qu.x;Qu.translateY=Qu.y;const Xu=new Set;let SP=!1,TP=!1,EP=!1;function sH(){if(TP){const t=Array.from(Xu).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=V0e(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var l;(l=n.getValue(s))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}TP=!1,SP=!1,Xu.forEach(t=>t.complete(EP)),Xu.clear()}function aH(){Xu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(TP=!0)})}function B0e(){EP=!0,aH(),sH(),EP=!1}class wI{constructor(e,r,n,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Xu.add(this),SP||(SP=!0,kr.read(aH),kr.resolveKeyframes(sH))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}O0e(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xu.delete(this)}cancel(){this.state==="scheduled"&&(Xu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const q0e=t=>t.startsWith("--");function U0e(t,e,r){q0e(e)?t.style.setProperty(e,r):t.style[e]=r}const z0e=lI(()=>window.ScrollTimeline!==void 0),W0e={};function H0e(t,e){const r=lI(t);return()=>W0e[e]??r()}const oH=H0e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Op=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,eD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Op([0,.65,.55,1]),circOut:Op([.55,0,1,.45]),backIn:Op([.31,.01,.66,-.59]),backOut:Op([.33,1.53,.69,.99])};function lH(t,e){if(t)return typeof t=="function"?oH()?rH(t,e):"ease-out":HW(t)?Op(t):Array.isArray(t)?t.map(r=>lH(r,e)||eD.easeOut):eD[t]}function G0e(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[e]:r};c&&(f.offset=c);const m=lH(l,i);Array.isArray(m)&&(f.easing=m);const p={delay:n,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(f,p)}function cH(t){return typeof t=="function"&&"applyToOptions"in t}function K0e({type:t,...e}){return cH(t)&&oH()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Y0e extends xI{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,oI(typeof e.type!="string");const d=K0e(e);this.animation=G0e(r,n,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=vI(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):U0e(r,n,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Is(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Is(e)}get time(){return Is(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qa(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&z0e()?(this.animation.timeline=e,Ds):r(this)}}const uH={anticipate:qW,backInOut:BW,circInOut:zW};function Q0e(t){return t in uH}function X0e(t){typeof t.ease=="string"&&Q0e(t.ease)&&(t.ease=uH[t.ease])}const tD=10;class J0e extends Y0e{constructor(e){X0e(e),iH(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new bI({...o,autoplay:!1}),c=Qa(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-tD).value,l.sample(c).value,tD),l.stop()}}const rD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Lc.test(t)||t==="0")&&!t.startsWith("url("));function Z0e(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function eve(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=rD(i,e),l=rD(s,e);return!o||!l?!1:Z0e(t)||(r==="spring"||cH(r))&&n}function PP(t){t.duration=0,t.type="keyframes"}const tve=new Set(["opacity","clipPath","filter","transform"]),rve=lI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nve(t){var f;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return rve()&&r&&tve.has(r)&&(r!=="transform"||!d)&&!c&&!n&&i!=="mirror"&&s!==0&&o!=="inertia"}const ive=40;class sve extends xI{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:f,...m}){var w;super(),this.stop=()=>{var x,g;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=qi.now();const p={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:d,element:f,...m},v=(f==null?void 0:f.KeyframeResolver)||wI;this.keyframeResolver=new v(l,(x,g,_)=>this.onKeyframesResolved(x,g,p,!_),c,d,f),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:f}=n;this.resolvedAt=qi.now(),eve(e,s,o,l)||((cl.instantAnimations||!c)&&(f==null||f(vI(e,n,r))),e[0]=e[e.length-1],PP(n),n.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>ive?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!d&&nve(p)?new J0e({...p,element:p.motionValue.owner.current}):new bI(p);v.finished.then(()=>this.notifyFinished()).catch(Ds),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),B0e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const ave=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ove(t){const e=ave.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function dH(t,e,r=1){const[n,i]=ove(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return OW(o)?parseFloat(o):o}return fI(i)?dH(i,e,r+1):i}function _I(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const hH=new Set(["width","height","top","left","right","bottom",...om]),lve={test:t=>t==="auto",parse:t=>t},fH=t=>e=>e.test(t),mH=[am,ht,Xa,Zl,Zye,Jye,lve],nD=t=>mH.find(fH(t));function cve(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||MW(t):!0}const uve=new Set(["brightness","contrast","saturate","opacity"]);function dve(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(mI)||[];if(!n)return t;const i=r.replace(n,"");let s=uve.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const hve=/\b([a-z-]*)\(.*?\)/gu,AP={...Lc,getAnimatableNone:t=>{const e=t.match(hve);return e?e.map(dve).join(" "):t}},iD={...am,transform:Math.round},fve={rotate:Zl,rotateX:Zl,rotateY:Zl,rotateZ:Zl,scale:kv,scaleX:kv,scaleY:kv,scaleZ:kv,skew:Zl,skewX:Zl,skewY:Zl,distance:ht,translateX:ht,translateY:ht,translateZ:ht,x:ht,y:ht,z:ht,perspective:ht,transformPerspective:ht,opacity:Sg,originX:W3,originY:W3,originZ:ht},jI={borderWidth:ht,borderTopWidth:ht,borderRightWidth:ht,borderBottomWidth:ht,borderLeftWidth:ht,borderRadius:ht,radius:ht,borderTopLeftRadius:ht,borderTopRightRadius:ht,borderBottomRightRadius:ht,borderBottomLeftRadius:ht,width:ht,maxWidth:ht,height:ht,maxHeight:ht,top:ht,right:ht,bottom:ht,left:ht,padding:ht,paddingTop:ht,paddingRight:ht,paddingBottom:ht,paddingLeft:ht,margin:ht,marginTop:ht,marginRight:ht,marginBottom:ht,marginLeft:ht,backgroundPositionX:ht,backgroundPositionY:ht,...fve,zIndex:iD,fillOpacity:Sg,strokeOpacity:Sg,numOctaves:iD},mve={...jI,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:AP,WebkitFilter:AP},pH=t=>mve[t];function gH(t,e){let r=pH(t);return r!==AP&&(r=Lc),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const pve=new Set(["auto","none","0"]);function gve(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!pve.has(s)&&Tg(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=gH(r,i)}class yve extends wI{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),fI(d))){const f=dH(d,r.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!hH.has(n)||e.length!==2)return;const[i,s]=e,o=nD(i),l=nD(s);if(o!==l)if(Z3(o)&&Z3(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Qu[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||cve(e[i]))&&n.push(i);n.length&&gve(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=Qu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function vve(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const yH=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function vH(t){return RW(t)&&"offsetHeight"in t}const sD=30,xve=t=>!isNaN(parseFloat(t));class bve{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=qi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=qi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xve(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new cI);const n=this.events[e].add(r);return e==="change"?()=>{n(),kr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sD)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,sD);return DW(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gf(t,e){return new bve(t,e)}const{schedule:NI}=GW(queueMicrotask,!1),Js={x:!1,y:!1};function xH(){return Js.x||Js.y}function wve(t){return t==="x"||t==="y"?Js[t]?null:(Js[t]=!0,()=>{Js[t]=!1}):Js.x||Js.y?null:(Js.x=Js.y=!0,()=>{Js.x=Js.y=!1})}function bH(t,e){const r=vve(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function aD(t){return!(t.pointerType==="touch"||xH())}function _ve(t,e,r={}){const[n,i,s]=bH(t,r),o=l=>{if(!aD(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const f=m=>{aD(m)&&(d(m),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const wH=(t,e)=>e?t===e?!0:wH(t,e.parentElement):!1,SI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,jve=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Nve(t){return jve.has(t.tagName)||t.tabIndex!==-1}const mx=new WeakSet;function oD(t){return e=>{e.key==="Enter"&&t(e)}}function rN(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Sve=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=oD(()=>{if(mx.has(r))return;rN(r,"down");const i=oD(()=>{rN(r,"up")}),s=()=>rN(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function lD(t){return SI(t)&&!xH()}function Tve(t,e,r={}){const[n,i,s]=bH(t,r),o=l=>{const c=l.currentTarget;if(!lD(l))return;mx.add(c);const d=e(c,l),f=(v,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),mx.has(c)&&mx.delete(c),lD(v)&&typeof d=="function"&&d(v,{success:w})},m=v=>{f(v,c===window||c===document||r.useGlobalTarget||wH(c,v.target))},p=v=>{f(v,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",p,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),vH(l)&&(l.addEventListener("focus",d=>Sve(d,i)),!Nve(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function _H(t){return RW(t)&&"ownerSVGElement"in t}function Eve(t){return _H(t)&&t.tagName==="svg"}const li=t=>!!(t&&t.getVelocity),Pve=[...mH,nn,Lc],Ave=t=>Pve.find(fH(t)),TI=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function cD(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Cve(...t){return e=>{let r=!1;const n=t.map(i=>{const s=cD(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():cD(t[i],null)}}}}function kve(...t){return S.useCallback(Cve(...t),t)}class Ive extends S.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=vH(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ove({children:t,isPresent:e,anchorX:r,root:n}){const i=S.useId(),s=S.useRef(null),o=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=S.useContext(TI),c=kve(s,t==null?void 0:t.ref);return S.useInsertionEffect(()=>{const{width:d,height:f,top:m,left:p,right:v}=o.current;if(e||!s.current||!d||!f)return;const w=r==="left"?`left: ${p}`:`right: ${v}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");l&&(x.nonce=l);const g=n??document.head;return g.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{g.contains(x)&&g.removeChild(x)}},[e]),a.jsx(Ive,{isPresent:e,childRef:s,sizeRef:o,children:S.cloneElement(t,{ref:c})})}const Rve=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l,root:c})=>{const d=nI(Mve),f=S.useId();let m=!0,p=S.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:r,custom:i,onExitComplete:v=>{d.set(v,!0);for(const w of d.values())if(!w)return;n&&n()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[r,d,n]);return s&&m&&(p={...p}),S.useMemo(()=>{d.forEach((v,w)=>d.set(w,!1))},[r]),S.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=a.jsx(Ove,{isPresent:r,anchorX:l,root:c,children:t})),a.jsx(Jw.Provider,{value:p,children:t})};function Mve(){return new Map}function jH(t=!0){const e=S.useContext(Jw);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=S.useId();S.useEffect(()=>{if(t)return i(s)},[t]);const o=S.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,o]:[!0]}const Iv=t=>t.key||"";function uD(t){const e=[];return S.Children.forEach(t,r=>{S.isValidElement(r)&&e.push(r)}),e}const Dve=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,f]=jH(o),m=S.useMemo(()=>uD(t),[t]),p=o&&!d?[]:m.map(Iv),v=S.useRef(!0),w=S.useRef(m),x=nI(()=>new Map),[g,_]=S.useState(m),[T,P]=S.useState(m);IW(()=>{v.current=!1,w.current=m;for(let C=0;C<T.length;C++){const E=Iv(T[C]);p.includes(E)?x.delete(E):x.get(E)!==!0&&x.set(E,!1)}},[T,p.length,p.join("-")]);const I=[];if(m!==g){let C=[...m];for(let E=0;E<T.length;E++){const N=T[E],O=Iv(N);p.includes(O)||(C.splice(E,0,N),I.push(N))}return s==="wait"&&I.length&&(C=I),P(uD(C)),_(m),null}const{forceRender:A}=S.useContext(rI);return a.jsx(a.Fragment,{children:T.map(C=>{const E=Iv(C),N=o&&!d?!1:m===T||p.includes(E),O=()=>{if(x.has(E))x.set(E,!0);else return;let D=!0;x.forEach(L=>{L||(D=!1)}),D&&(A==null||A(),P(w.current),o&&(f==null||f()),n&&n())};return a.jsx(Rve,{isPresent:N,initial:!v.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:N?void 0:O,anchorX:l,children:C},E)})})},NH=S.createContext({strict:!1}),dD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yf={};for(const t in dD)yf[t]={isEnabled:e=>dD[t].some(r=>!!e[r])};function Lve(t){for(const e in t)yf[e]={...yf[e],...t[e]}}const $ve=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ib(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$ve.has(t)}let SH=t=>!ib(t);function Fve(t){typeof t=="function"&&(SH=e=>e.startsWith("on")?!ib(e):t(e))}try{Fve(require("@emotion/is-prop-valid").default)}catch{}function Vve(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(SH(i)||r===!0&&ib(i)||!e&&!ib(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const Zw=S.createContext({});function e1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Eg(t){return typeof t=="string"||Array.isArray(t)}const EI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],PI=["initial",...EI];function t1(t){return e1(t.animate)||PI.some(e=>Eg(t[e]))}function TH(t){return!!(t1(t)||t.variants)}function Bve(t,e){if(t1(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Eg(r)?r:void 0,animate:Eg(n)?n:void 0}}return t.inherit!==!1?e:{}}function qve(t){const{initial:e,animate:r}=Bve(t,S.useContext(Zw));return S.useMemo(()=>({initial:e,animate:r}),[hD(e),hD(r)])}function hD(t){return Array.isArray(t)?t.join(" "):t}const Pg={};function Uve(t){for(const e in t)Pg[e]=t[e],hI(e)&&(Pg[e].isCSSVariable=!0)}function EH(t,{layout:e,layoutId:r}){return lm.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Pg[t]||t==="opacity")}const zve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Wve=om.length;function Hve(t,e,r){let n="",i=!0;for(let s=0;s<Wve;s++){const o=om[s],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=yH(l,jI[o]);if(!c){i=!1;const f=zve[o]||o;n+=`${f}(${d}) `}r&&(e[o]=d)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function AI(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(lm.has(c)){o=!0;continue}else if(hI(c)){i[c]=d;continue}else{const f=yH(d,jI[c]);c.startsWith("origin")?(l=!0,s[c]=f):n[c]=f}}if(e.transform||(o||r?n.transform=Hve(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=s;n.transformOrigin=`${c} ${d} ${f}`}}const CI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PH(t,e,r){for(const n in e)!li(e[n])&&!EH(n,r)&&(t[n]=e[n])}function Gve({transformTemplate:t},e){return S.useMemo(()=>{const r=CI();return AI(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Kve(t,e){const r=t.style||{},n={};return PH(n,r,t),Object.assign(n,Gve(t,e)),n}function Yve(t,e){const r={},n=Kve(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Qve={offset:"stroke-dashoffset",array:"stroke-dasharray"},Xve={offset:"strokeDashoffset",array:"strokeDasharray"};function Jve(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?Qve:Xve;t[s.offset]=ht.transform(-n);const o=ht.transform(e),l=ht.transform(r);t[s.array]=`${o} ${l}`}function AH(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...l},c,d,f){if(AI(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p}=t;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),i!==void 0&&Jve(m,i,s,o,!1)}const CH=()=>({...CI(),attrs:{}}),kH=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Zve(t,e,r,n){const i=S.useMemo(()=>{const s=CH();return AH(s,e,kH(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};PH(s,t.style,t),i.style={...s,...i.style}}return i}const exe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kI(t){return typeof t!="string"||t.includes("-")?!1:!!(exe.indexOf(t)>-1||/[A-Z]/u.test(t))}function txe(t,e,r,{latestValues:n},i,s=!1){const l=(kI(t)?Zve:Yve)(e,n,i,t),c=Vve(e,typeof t=="string",s),d=t!==S.Fragment?{...c,...l,ref:r}:{},{children:f}=e,m=S.useMemo(()=>li(f)?f.get():f,[f]);return S.createElement(t,{...d,children:m})}function fD(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function II(t,e,r,n){if(typeof e=="function"){const[i,s]=fD(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=fD(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function px(t){return li(t)?t.get():t}function rxe({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:nxe(r,n,i,t),renderState:e()}}function nxe(t,e,r,n){const i={},s=n(t,{});for(const p in s)i[p]=px(s[p]);let{initial:o,animate:l}=t;const c=t1(t),d=TH(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const m=f?l:o;if(m&&typeof m!="boolean"&&!e1(m)){const p=Array.isArray(m)?m:[m];for(let v=0;v<p.length;v++){const w=II(t,p[v]);if(w){const{transitionEnd:x,transition:g,..._}=w;for(const T in _){let P=_[T];if(Array.isArray(P)){const I=f?P.length-1:0;P=P[I]}P!==null&&(i[T]=P)}for(const T in x)i[T]=x[T]}}}return i}const IH=t=>(e,r)=>{const n=S.useContext(Zw),i=S.useContext(Jw),s=()=>rxe(t,e,n,i);return r?s():nI(s)};function OI(t,e,r){var s;const{style:n}=t,i={};for(const o in n)(li(n[o])||e.style&&li(e.style[o])||EH(o,t)||((s=r==null?void 0:r.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=n[o]);return i}const ixe=IH({scrapeMotionValuesFromProps:OI,createRenderState:CI});function OH(t,e,r){const n=OI(t,e,r);for(const i in t)if(li(t[i])||li(e[i])){const s=om.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const sxe=IH({scrapeMotionValuesFromProps:OH,createRenderState:CH}),axe=Symbol.for("motionComponentSymbol");function Ch(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oxe(t,e,r){return S.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Ch(r)&&(r.current=n))},[e])}const RI=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lxe="framerAppearId",RH="data-"+RI(lxe),MH=S.createContext({});function cxe(t,e,r,n,i){var x,g;const{visualElement:s}=S.useContext(Zw),o=S.useContext(NH),l=S.useContext(Jw),c=S.useContext(TI).reducedMotion,d=S.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,m=S.useContext(MH);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&uxe(d.current,r,i,m);const p=S.useRef(!1);S.useInsertionEffect(()=>{f&&p.current&&f.update(r,l)});const v=r[RH],w=S.useRef(!!v&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,v))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,v)));return IW(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,v)}),w.current=!1),f.enteringChildren=void 0)}),f}function uxe(t,e,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:DH(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&Ch(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:c,layoutRoot:d})}function DH(t){if(t)return t.options.allowProjection!==!1?t.projection:DH(t.parent)}function nN(t,{forwardMotionProps:e=!1}={},r,n){r&&Lve(r);const i=kI(t)?sxe:ixe;function s(l,c){let d;const f={...S.useContext(TI),...l,layoutId:dxe(l)},{isStatic:m}=f,p=qve(l),v=i(l,m);if(!m&&iI){hxe();const w=fxe(f);d=w.MeasureLayout,p.visualElement=cxe(t,v,f,n,w.ProjectionNode)}return a.jsxs(Zw.Provider,{value:p,children:[d&&p.visualElement?a.jsx(d,{visualElement:p.visualElement,...f}):null,txe(t,l,oxe(v,p.visualElement,c),v,m,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=S.forwardRef(s);return o[axe]=t,o}function dxe({layoutId:t}){const e=S.useContext(rI).id;return e&&t!==void 0?e+"-"+t:t}function hxe(t,e){S.useContext(NH).strict}function fxe(t){const{drag:e,layout:r}=yf;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function mxe(t,e){if(typeof Proxy>"u")return nN;const r=new Map,n=(s,o)=>nN(s,o,t,e),i=(s,o)=>n(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?n:(r.has(o)||r.set(o,nN(o,void 0,t,e)),r.get(o))})}function LH({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function pxe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gxe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function iN(t){return t===void 0||t===1}function CP({scale:t,scaleX:e,scaleY:r}){return!iN(t)||!iN(e)||!iN(r)}function Au(t){return CP(t)||$H(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $H(t){return mD(t.x)||mD(t.y)}function mD(t){return t&&t!=="0%"}function sb(t,e,r){const n=t-r,i=e*n;return r+i}function pD(t,e,r,n,i){return i!==void 0&&(t=sb(t,i,n)),sb(t,r,n)+e}function kP(t,e=0,r=1,n,i){t.min=pD(t.min,e,r,n,i),t.max=pD(t.max,e,r,n,i)}function FH(t,{x:e,y:r}){kP(t.x,e.translate,e.scale,e.originPoint),kP(t.y,r.translate,r.scale,r.originPoint)}const gD=.999999999999,yD=1.0000000000001;function yxe(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=r[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ih(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,FH(t,o)),n&&Au(s.latestValues)&&Ih(t,s.latestValues))}e.x<yD&&e.x>gD&&(e.x=1),e.y<yD&&e.y>gD&&(e.y=1)}function kh(t,e){t.min=t.min+e,t.max=t.max+e}function vD(t,e,r,n,i=.5){const s=Lr(t.min,t.max,i);kP(t,e,r,s,n)}function Ih(t,e){vD(t.x,e.x,e.scaleX,e.scale,e.originX),vD(t.y,e.y,e.scaleY,e.scale,e.originY)}function VH(t,e){return LH(gxe(t.getBoundingClientRect(),e))}function vxe(t,e,r){const n=VH(t,r),{scroll:i}=e;return i&&(kh(n.x,i.offset.x),kh(n.y,i.offset.y)),n}const xD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oh=()=>({x:xD(),y:xD()}),bD=()=>({min:0,max:0}),Qr=()=>({x:bD(),y:bD()}),IP={current:null},BH={current:!1};function xxe(){if(BH.current=!0,!!iI)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>IP.current=t.matches;t.addEventListener("change",e),e()}else IP.current=!1}const bxe=new WeakMap;function wxe(t,e,r){for(const n in e){const i=e[n],s=r[n];if(li(i))t.addValue(n,i);else if(li(s))t.addValue(n,gf(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,gf(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const wD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _xe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=qi.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,kr.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=t1(r),this.isVariantNode=TH(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in m){const v=m[p];c[p]!==void 0&&li(v)&&v.set(c[p])}}mount(e){var r;this.current=e,bxe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),BH.current||xxe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:IP.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Dc(this.notifyUpdate),Dc(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=lm.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&kr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yf){const r=yf[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<wD.length;n++){const i=wD[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=wxe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=gf(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(OW(n)||MW(n))?n=parseFloat(n):!Ave(n)&&Lc.test(r)&&(n=gH(e,r)),this.setBaseTarget(e,li(n)?n.get():n)),li(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=II(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!li(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new cI),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){NI.render(this.render)}}class qH extends _xe{constructor(){super(...arguments),this.KeyframeResolver=yve}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;li(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function UH(t,{style:e,vars:r},n,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,n);for(o in r)s.setProperty(o,r[o])}function jxe(t){return window.getComputedStyle(t)}class Nxe extends qH{constructor(){super(...arguments),this.type="html",this.renderInstance=UH}readValueFromInstance(e,r){var n;if(lm.has(r))return(n=this.projection)!=null&&n.isProjecting?jP(r):D0e(e,r);{const i=jxe(e),s=(hI(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return VH(e,r)}build(e,r,n){AI(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return OI(e,r,n)}}const zH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Sxe(t,e,r,n){UH(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(zH.has(i)?i:RI(i),e.attrs[i])}class Txe extends qH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(lm.has(r)){const n=pH(r);return n&&n.default||0}return r=zH.has(r)?r:RI(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return OH(e,r,n)}build(e,r,n){AH(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){Sxe(e,r,n,i)}mount(e){this.isSVGTag=kH(e.tagName),super.mount(e)}}const Exe=(t,e)=>kI(t)?new Txe(e):new Nxe(e,{allowProjection:t!==S.Fragment});function Yh(t,e,r){const n=t.getProps();return II(n,e,r!==void 0?r:n.custom,t)}const OP=t=>Array.isArray(t);function Pxe(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,gf(r))}function Axe(t){return OP(t)?t[t.length-1]||0:t}function Cxe(t,e){const r=Yh(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const l=Axe(s[o]);Pxe(t,o,l)}}function kxe(t){return!!(li(t)&&t.add)}function RP(t,e){const r=t.getValue("willChange");if(kxe(r))return r.add(e);if(!r&&cl.WillChange){const n=new cl.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function WH(t){return t.props[RH]}const Ixe=t=>t!==null;function Oxe(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(Ixe),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Rxe={type:"spring",stiffness:500,damping:25,restSpeed:10},Mxe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Dxe={type:"keyframes",duration:.8},Lxe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$xe=(t,{keyframes:e})=>e.length>2?Dxe:lm.has(t)?t.startsWith("scale")?Mxe(e[1]):Rxe:Lxe;function Fxe({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const MI=(t,e,r,n={},i,s)=>o=>{const l=_I(n,t)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Qa(c);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};Fxe(l)||Object.assign(f,$xe(t,f)),f.duration&&(f.duration=Qa(f.duration)),f.repeatDelay&&(f.repeatDelay=Qa(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(PP(f),f.delay===0&&(m=!0)),(cl.instantAnimations||cl.skipAnimations)&&(m=!0,PP(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!s&&e.get()!==void 0){const p=Oxe(f.keyframes,l);if(p!==void 0){kr.update(()=>{f.onUpdate(p),f.onComplete()});return}}return l.isSync?new bI(f):new sve(f)};function Vxe({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function HH(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(s=n);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const m=t.getValue(f,t.latestValues[f]??null),p=l[f];if(p===void 0||d&&Vxe(d,f))continue;const v={delay:r,..._I(s||{},f)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===w&&!v.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const _=WH(t);if(_){const T=window.MotionHandoffAnimation(_,f,kr);T!==null&&(v.startTime=T,x=!0)}}RP(t,f),m.start(MI(f,m,p,t.shouldReduceMotion&&hH.has(f)?{type:!1}:v,t,x));const g=m.animation;g&&c.push(g)}return o&&Promise.all(c).then(()=>{kr.update(()=>{o&&Cxe(t,o)})}),c}function GH(t,e,r,n=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(s,o):i===1?s*n:l-s*n}function MP(t,e,r={}){var c;const n=Yh(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(HH(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:p}=i;return Bxe(t,e,d,f,m,p,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,f]=l==="beforeChildren"?[s,o]:[o,s];return d().then(()=>f())}else return Promise.all([s(),o(r.delay)])}function Bxe(t,e,r=0,n=0,i=0,s=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(MP(c,e,{...o,delay:r+(typeof n=="function"?0:n)+GH(t.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function qxe(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>MP(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=MP(t,e,r);else{const i=typeof e=="function"?Yh(t,e,r.custom):e;n=Promise.all(HH(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function KH(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Uxe=PI.length;function YH(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?YH(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Uxe;r++){const n=PI[r],i=t.props[n];(Eg(i)||i===!1)&&(e[n]=i)}return e}const zxe=[...EI].reverse(),Wxe=EI.length;function Hxe(t){return e=>Promise.all(e.map(({animation:r,options:n})=>qxe(t,r,n)))}function Gxe(t){let e=Hxe(t),r=_D(),n=!0;const i=c=>(d,f)=>{var p;const m=Yh(t,f,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(m){const{transition:v,transitionEnd:w,...x}=m;d={...d,...x,...w}}return d};function s(c){e=c(t)}function o(c){const{props:d}=t,f=YH(t.parent)||{},m=[],p=new Set;let v={},w=1/0;for(let g=0;g<Wxe;g++){const _=zxe[g],T=r[_],P=d[_]!==void 0?d[_]:f[_],I=Eg(P),A=_===c?T.isActive:null;A===!1&&(w=g);let C=P===f[_]&&P!==d[_]&&I;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),T.protectedKeys={...v},!T.isActive&&A===null||!P&&!T.prevProp||e1(P)||typeof P=="boolean")continue;const E=Kxe(T.prevProp,P);let N=E||_===c&&T.isActive&&!C&&I||g>w&&I,O=!1;const D=Array.isArray(P)?P:[P];let L=D.reduce(i(_),{});A===!1&&(L={});const{prevResolvedValues:$={}}=T,F={...$,...L},G=X=>{N=!0,p.has(X)&&(O=!0,p.delete(X)),T.needsAnimating[X]=!0;const U=t.getValue(X);U&&(U.liveStyle=!1)};for(const X in F){const U=L[X],Q=$[X];if(v.hasOwnProperty(X))continue;let ne=!1;OP(U)&&OP(Q)?ne=!KH(U,Q):ne=U!==Q,ne?U!=null?G(X):p.add(X):U!==void 0&&p.has(X)?G(X):T.protectedKeys[X]=!0}T.prevProp=P,T.prevResolvedValues=L,T.isActive&&(v={...v,...L}),n&&t.blockInitialAnimation&&(N=!1);const Y=C&&E;N&&(!Y||O)&&m.push(...D.map(X=>{const U={type:_};if(typeof X=="string"&&n&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:Q}=t,ne=Yh(Q,X);if(Q.enteringChildren&&ne){const{delayChildren:W}=ne.transition||{};U.delay=GH(Q.enteringChildren,t,W)}}return{animation:X,options:U}}))}if(p.size){const g={};if(typeof d.initial!="boolean"){const _=Yh(t,Array.isArray(d.initial)?d.initial[0]:d.initial);_&&_.transition&&(g.transition=_.transition)}p.forEach(_=>{const T=t.getBaseTarget(_),P=t.getValue(_);P&&(P.liveStyle=!0),g[_]=T??null}),m.push({animation:g})}let x=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(m):Promise.resolve()}function l(c,d){var m;if(r[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(p=>{var v;return(v=p.animationState)==null?void 0:v.setActive(c,d)}),r[c].isActive=d;const f=o(c);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=_D()}}}function Kxe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!KH(e,t):!1}function Nu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _D(){return{animate:Nu(!0),whileInView:Nu(),whileHover:Nu(),whileTap:Nu(),whileDrag:Nu(),whileFocus:Nu(),exit:Nu()}}class zc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Yxe extends zc{constructor(e){super(e),e.animationState||(e.animationState=Gxe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();e1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Qxe=0;class Xxe extends zc{constructor(){super(...arguments),this.id=Qxe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Jxe={animation:{Feature:Yxe},exit:{Feature:Xxe}};function Ag(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function qy(t){return{point:{x:t.pageX,y:t.pageY}}}const Zxe=t=>e=>SI(e)&&t(e,qy(e));function Xp(t,e,r,n){return Ag(t,e,Zxe(r),n)}const QH=1e-4,ebe=1-QH,tbe=1+QH,XH=.01,rbe=0-XH,nbe=0+XH;function wi(t){return t.max-t.min}function ibe(t,e,r){return Math.abs(t-e)<=r}function jD(t,e,r,n=.5){t.origin=n,t.originPoint=Lr(e.min,e.max,t.origin),t.scale=wi(r)/wi(e),t.translate=Lr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=ebe&&t.scale<=tbe||isNaN(t.scale))&&(t.scale=1),(t.translate>=rbe&&t.translate<=nbe||isNaN(t.translate))&&(t.translate=0)}function Jp(t,e,r,n){jD(t.x,e.x,r.x,n?n.originX:void 0),jD(t.y,e.y,r.y,n?n.originY:void 0)}function ND(t,e,r){t.min=r.min+e.min,t.max=t.min+wi(e)}function sbe(t,e,r){ND(t.x,e.x,r.x),ND(t.y,e.y,r.y)}function SD(t,e,r){t.min=e.min-r.min,t.max=t.min+wi(e)}function Zp(t,e,r){SD(t.x,e.x,r.x),SD(t.y,e.y,r.y)}function Es(t){return[t("x"),t("y")]}const JH=({current:t})=>t?t.ownerDocument.defaultView:null,TD=(t,e)=>Math.abs(t-e);function abe(t,e){const r=TD(t.x,e.x),n=TD(t.y,e.y);return Math.sqrt(r**2+n**2)}class ZH{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=aN(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=abe(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:x}=p,{timestamp:g}=$n;this.history.push({...x,timestamp:g});const{onStart:_,onMove:T}=this.handlers;v||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=sN(v,this.transformPagePoint),kr.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:w,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=aN(p.type==="pointercancel"?this.lastMoveEventInfo:sN(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(p,_),x&&x(p,_)},!SI(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const l=qy(e),c=sN(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=$n;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=r;m&&m(e,aN(c,this.history)),this.removeListeners=Fy(Xp(this.contextWindow,"pointermove",this.handlePointerMove),Xp(this.contextWindow,"pointerup",this.handlePointerUp),Xp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Dc(this.updatePoint)}}function sN(t,e){return e?{point:e(t.point)}:t}function ED(t,e){return{x:t.x-e.x,y:t.y-e.y}}function aN({point:t},e){return{point:t,delta:ED(t,eG(e)),offset:ED(t,obe(e)),velocity:lbe(e,.1)}}function obe(t){return t[0]}function eG(t){return t[t.length-1]}function lbe(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=eG(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Qa(e)));)r--;if(!n)return{x:0,y:0};const s=Is(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cbe(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Lr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Lr(r,t,n.max):Math.min(t,r)),t}function PD(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function ube(t,{top:e,left:r,bottom:n,right:i}){return{x:PD(t.x,r,i),y:PD(t.y,e,n)}}function AD(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function dbe(t,e){return{x:AD(t.x,e.x),y:AD(t.y,e.y)}}function hbe(t,e){let r=.5;const n=wi(t),i=wi(e);return i>n?r=Ng(e.min,e.max-n,t.min):n>i&&(r=Ng(t.min,t.max-i,e.min)),ll(0,1,r)}function fbe(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const DP=.35;function mbe(t=DP){return t===!1?t=0:t===!0&&(t=DP),{x:CD(t,"left","right"),y:CD(t,"top","bottom")}}function CD(t,e,r){return{min:kD(t,e),max:kD(t,r)}}function kD(t,e){return typeof t=="number"?t:t[e]||0}const pbe=new WeakMap;class gbe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(qy(m).point)},o=(m,p)=>{const{drag:v,dragPropagation:w,onDragStart:x}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wve(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Es(_=>{let T=this.getAxisMotionValue(_).get()||0;if(Xa.test(T)){const{projection:P}=this.visualElement;if(P&&P.layout){const I=P.layout.layoutBox[_];I&&(T=wi(I)*(parseFloat(T)/100))}}this.originPoint[_]=T}),x&&kr.postRender(()=>x(m,p)),RP(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:x,onDrag:g}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:_}=p;if(w&&this.currentDirection===null){this.currentDirection=ybe(_),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),g&&g(m,p)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Es(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)==null?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new ZH(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:JH(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&kr.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Ov(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=cbe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Ch(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=ube(n.layoutBox,e):this.constraints=!1,this.elastic=mbe(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Es(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fbe(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ch(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=vxe(n,i.root,this.visualElement.getTransformPagePoint());let o=dbe(i.layout.layoutBox,s);if(r){const l=r(pxe(o));this.hasMutatedConstraints=!!l,l&&(o=LH(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Es(f=>{if(!Ov(f,r,this.currentDirection))return;let m=c&&c[f]||{};o&&(m={min:0,max:0});const p=i?200:1e6,v=i?40:1e7,w={type:"inertia",velocity:n?e[f]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,w)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return RP(this.visualElement,e),n.start(MI(e,n,0,r,this.visualElement,!1))}stopAnimation(){Es(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Es(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Es(r=>{const{drag:n}=this.getProps();if(!Ov(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];s.set(e[r]-Lr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ch(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Es(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=hbe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Es(o=>{if(!Ov(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Lr(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;pbe.set(this.visualElement,this);const e=this.visualElement.current,r=Xp(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Ch(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),kr.read(n);const o=Ag(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Es(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=c[f].translate,m.set(m.get()+c[f].translate))}),this.visualElement.render())}));return()=>{o(),r(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=DP,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Ov(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function ybe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class vbe extends zc{constructor(e){super(e),this.removeGroupControls=Ds,this.removeListeners=Ds,this.controls=new gbe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ds}unmount(){this.removeGroupControls(),this.removeListeners()}}const ID=t=>(e,r)=>{t&&kr.postRender(()=>t(e,r))};class xbe extends zc{constructor(){super(...arguments),this.removePointerDownListener=Ds}onPointerDown(e){this.session=new ZH(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JH(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:ID(e),onStart:ID(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&kr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Xp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ht.test(t))t=parseFloat(t);else return t;const r=OD(t,e.target.x),n=OD(t,e.target.y);return`${r}% ${n}%`}},bbe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Lc.parse(t);if(i.length>5)return n;const s=Lc.createTransformer(t),o=typeof i[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=Lr(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};let oN=!1;class wbe extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;Uve(_be),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),oN&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),gx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,oN=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||kr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),NI.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;oN=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tG(t){const[e,r]=jH(),n=S.useContext(rI);return a.jsx(wbe,{...t,layoutGroup:n,switchLayoutGroup:S.useContext(MH),isPresent:e,safeToRemove:r})}const _be={borderRadius:{...mp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mp,borderTopRightRadius:mp,borderBottomLeftRadius:mp,borderBottomRightRadius:mp,boxShadow:bbe};function jbe(t,e,r){const n=li(t)?t:gf(t);return n.start(MI("",n,e,r)),n.animation}const Nbe=(t,e)=>t.depth-e.depth;class Sbe{constructor(){this.children=[],this.isDirty=!1}add(e){sI(this.children,e),this.isDirty=!0}remove(e){aI(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Nbe),this.isDirty=!1,this.children.forEach(e)}}function Tbe(t,e){const r=qi.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Dc(n),t(s-e))};return kr.setup(n,!0),()=>Dc(n)}const rG=["TopLeft","TopRight","BottomLeft","BottomRight"],Ebe=rG.length,RD=t=>typeof t=="string"?parseFloat(t):t,MD=t=>typeof t=="number"||ht.test(t);function Pbe(t,e,r,n,i,s){i?(t.opacity=Lr(0,r.opacity??1,Abe(n)),t.opacityExit=Lr(e.opacity??1,0,Cbe(n))):s&&(t.opacity=Lr(e.opacity??1,r.opacity??1,n));for(let o=0;o<Ebe;o++){const l=`border${rG[o]}Radius`;let c=DD(e,l),d=DD(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||MD(c)===MD(d)?(t[l]=Math.max(Lr(RD(c),RD(d),n),0),(Xa.test(d)||Xa.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=Lr(e.rotate||0,r.rotate||0,n))}function DD(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Abe=nG(0,.5,UW),Cbe=nG(.5,.95,Ds);function nG(t,e,r){return n=>n<t?0:n>e?1:r(Ng(t,e,n))}function LD(t,e){t.min=e.min,t.max=e.max}function js(t,e){LD(t.x,e.x),LD(t.y,e.y)}function $D(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function FD(t,e,r,n,i){return t-=e,t=sb(t,1/r,n),i!==void 0&&(t=sb(t,1/i,n)),t}function kbe(t,e=0,r=1,n=.5,i,s=t,o=t){if(Xa.test(e)&&(e=parseFloat(e),e=Lr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Lr(s.min,s.max,n);t===s&&(l-=e),t.min=FD(t.min,e,r,l,i),t.max=FD(t.max,e,r,l,i)}function VD(t,e,[r,n,i],s,o){kbe(t,e[r],e[n],e[i],e.scale,s,o)}const Ibe=["x","scaleX","originX"],Obe=["y","scaleY","originY"];function BD(t,e,r,n){VD(t.x,e,Ibe,r?r.x:void 0,n?n.x:void 0),VD(t.y,e,Obe,r?r.y:void 0,n?n.y:void 0)}function qD(t){return t.translate===0&&t.scale===1}function iG(t){return qD(t.x)&&qD(t.y)}function UD(t,e){return t.min===e.min&&t.max===e.max}function Rbe(t,e){return UD(t.x,e.x)&&UD(t.y,e.y)}function zD(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function sG(t,e){return zD(t.x,e.x)&&zD(t.y,e.y)}function WD(t){return wi(t.x)/wi(t.y)}function HD(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Mbe{constructor(){this.members=[]}add(e){sI(this.members,e),e.scheduleRender()}remove(e){if(aI(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Dbe(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:p,skewX:v,skewY:w}=r;d&&(n=`perspective(${d}px) ${n}`),f&&(n+=`rotate(${f}deg) `),m&&(n+=`rotateX(${m}deg) `),p&&(n+=`rotateY(${p}deg) `),v&&(n+=`skewX(${v}deg) `),w&&(n+=`skewY(${w}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const lN=["","X","Y","Z"],Lbe=1e3;let $be=0;function cN(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function aG(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=WH(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",kr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&aG(n)}function oG({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=$be++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Bbe),this.nodes.forEach(Wbe),this.nodes.forEach(Hbe),this.nodes.forEach(qbe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Sbe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cI),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=_H(o)&&!Eve(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,m=0;const p=()=>this.root.updateBlockedByResize=!1;kr.read(()=>{m=window.innerWidth}),t(o,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,f&&f(),f=Tbe(p,250),gx.hasAnimatedSinceResize&&(gx.hasAnimatedSinceResize=!1,this.nodes.forEach(YD)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||Xbe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=d.getProps(),_=!this.targetLayout||!sG(this.targetLayout,v),T=!m&&p;if(this.options.layoutRoot||this.resumeFrom||T||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={..._I(w,"layout"),onPlay:x,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(f,T)}else m||YD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Dc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Gbe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aG(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(KD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zbe),this.nodes.forEach(Fbe),this.nodes.forEach(Vbe)):this.nodes.forEach(KD),this.clearAllSnapshots();const l=qi.now();$n.delta=ll(0,1e3/60,l-$n.timestamp),$n.timestamp=l,$n.isProcessing=!0,Xj.update.process($n),Xj.preRender.process($n),Xj.render.process($n),$n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,NI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ube),this.sharedNodes.forEach(Kbe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wi(this.snapshot.measuredBox.x)&&!wi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!iG(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Au(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Jbe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Qr();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Zbe))){const{scroll:f}=this.root;f&&(kh(l.x,f.offset.x),kh(l.y,f.offset.y))}return l}removeElementScroll(o){var c;const l=Qr();if(js(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:p}=f;f!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&js(l,o),kh(l.x,m.offset.x),kh(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=Qr();js(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ih(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Au(f.latestValues)&&Ih(c,f.latestValues)}return Au(this.latestValues)&&Ih(c,this.latestValues),c}removeTransform(o){const l=Qr();js(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Au(d.latestValues))continue;CP(d.latestValues)&&d.updateSnapshot();const f=Qr(),m=d.measurePageBox();js(f,m),BD(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Au(this.latestValues)&&BD(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=$n.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qr(),this.relativeTargetOrigin=Qr(),Zp(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qr(),this.targetWithTransforms=Qr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):js(this.target,this.layout.layoutBox),FH(this.target,this.targetDelta)):js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qr(),this.relativeTargetOrigin=Qr(),Zp(this.relativeTargetOrigin,this.target,v.target),js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||CP(this.parent.latestValues)||$H(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===$n.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;js(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;yxe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qr());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($D(this.prevProjectionDelta.x,this.projectionDelta.x),$D(this.prevProjectionDelta.y,this.projectionDelta.y)),Jp(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!HD(this.projectionDelta.x,this.prevProjectionDelta.x)||!HD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oh(),this.projectionDelta=Oh(),this.projectionDeltaWithTransform=Oh()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},m=Oh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Qr(),v=c?c.source:void 0,w=this.layout?this.layout.source:void 0,x=v!==w,g=this.getStack(),_=!g||g.members.length<=1,T=!!(x&&!_&&this.options.crossfade===!0&&!this.path.some(Qbe));this.animationProgress=0;let P;this.mixTargetDelta=I=>{const A=I/1e3;QD(m.x,o.x,A),QD(m.y,o.y,A),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zp(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ybe(this.relativeTarget,this.relativeTargetOrigin,p,A),P&&Rbe(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Qr()),js(P,this.relativeTarget)),x&&(this.animationValues=f,Pbe(f,d,this.latestValues,A,T,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Dc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kr.update(()=>{gx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gf(0)),this.currentAnimation=jbe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lbe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&lG(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Qr();const m=wi(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const p=wi(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}js(l,c),Ih(l,f),Jp(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Mbe),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&cN("z",o,d,this.animationValues);for(let f=0;f<lN.length;f++)cN(`rotate${lN[f]}`,o,d,this.animationValues),cN(`skew${lN[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=px(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=px(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Au(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=Dbe(this.projectionDeltaWithTransform,this.treeScale,f);c&&(m=c(f,m)),o.transform=m;const{x:p,y:v}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Pg){if(f[w]===void 0)continue;const{correct:x,applyTo:g,isCSSVariable:_}=Pg[w],T=m==="none"?f[w]:x(f[w],d);if(g){const P=g.length;for(let I=0;I<P;I++)o[g[I]]=T}else _?this.options.visualElement.renderState.vars[w]=T:o[w]=T}this.options.layoutId&&(o.pointerEvents=d===this?px(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(GD),this.root.sharedNodes.clear()}}}function Fbe(t){t.updateLayout()}function Vbe(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Es(m=>{const p=o?e.measuredBox[m]:e.layoutBox[m],v=wi(p);p.min=n[m].min,p.max=p.min+v}):lG(s,e.layoutBox,n)&&Es(m=>{const p=o?e.measuredBox[m]:e.layoutBox[m],v=wi(n[m]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+v)});const l=Oh();Jp(l,n,e.layoutBox);const c=Oh();o?Jp(c,t.applyTransform(i,!0),e.measuredBox):Jp(c,n,e.layoutBox);const d=!iG(l);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:v}=m;if(p&&v){const w=Qr();Zp(w,e.layoutBox,p.layoutBox);const x=Qr();Zp(x,n,v.layoutBox),sG(w,x)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=w,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Bbe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qbe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ube(t){t.clearSnapshot()}function GD(t){t.clearMeasurements()}function KD(t){t.isLayoutDirty=!1}function zbe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function YD(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Wbe(t){t.resolveTargetDelta()}function Hbe(t){t.calcProjection()}function Gbe(t){t.resetSkewAndRotation()}function Kbe(t){t.removeLeadSnapshot()}function QD(t,e,r){t.translate=Lr(e.translate,0,r),t.scale=Lr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function XD(t,e,r,n){t.min=Lr(e.min,r.min,n),t.max=Lr(e.max,r.max,n)}function Ybe(t,e,r,n){XD(t.x,e.x,r.x,n),XD(t.y,e.y,r.y,n)}function Qbe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Xbe={duration:.45,ease:[.4,0,.1,1]},JD=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ZD=JD("applewebkit/")&&!JD("chrome/")?Math.round:Ds;function e6(t){t.min=ZD(t.min),t.max=ZD(t.max)}function Jbe(t){e6(t.x),e6(t.y)}function lG(t,e,r){return t==="position"||t==="preserve-aspect"&&!ibe(WD(e),WD(r),.2)}function Zbe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ewe=oG({attachResizeListener:(t,e)=>Ag(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uN={current:void 0},cG=oG({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!uN.current){const t=new ewe({});t.mount(window),t.setOptions({layoutScroll:!0}),uN.current=t}return uN.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),twe={pan:{Feature:xbe},drag:{Feature:vbe,ProjectionNode:cG,MeasureLayout:tG}};function t6(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&kr.postRender(()=>s(e,qy(e)))}class rwe extends zc{mount(){const{current:e}=this.node;e&&(this.unmount=_ve(e,(r,n)=>(t6(this.node,n,"Start"),i=>t6(this.node,i,"End"))))}unmount(){}}class nwe extends zc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fy(Ag(this.node.current,"focus",()=>this.onFocus()),Ag(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function r6(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&kr.postRender(()=>s(e,qy(e)))}class iwe extends zc{mount(){const{current:e}=this.node;e&&(this.unmount=Tve(e,(r,n)=>(r6(this.node,n,"Start"),(i,{success:s})=>r6(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const LP=new WeakMap,dN=new WeakMap,swe=t=>{const e=LP.get(t.target);e&&e(t)},awe=t=>{t.forEach(swe)};function owe({root:t,...e}){const r=t||document;dN.has(r)||dN.set(r,{});const n=dN.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(awe,{root:t,...e})),n[i]}function lwe(t,e,r){const n=owe(e);return LP.set(t,r),n.observe(t),()=>{LP.delete(t),n.unobserve(t)}}const cwe={some:0,all:1};class uwe extends zc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:cwe[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),p=d?f:m;p&&p(c)};return lwe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(dwe(e,r))&&this.startObserver()}unmount(){}}function dwe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const hwe={inView:{Feature:uwe},tap:{Feature:iwe},focus:{Feature:nwe},hover:{Feature:rwe}},fwe={layout:{ProjectionNode:cG,MeasureLayout:tG}},mwe={...Jxe,...hwe,...twe,...fwe},Wt=mxe(mwe,Exe);function pwe(){const[t,e]=S.useState(null),[r,n]=S.useState(!1),[i,s]=S.useState(!1),[o,l]=S.useState(!1);S.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){l(!0);return}const f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;s(f);const m=p=>{p.preventDefault(),e(p),setTimeout(()=>{n(!0)},3e3)};return window.addEventListener("beforeinstallprompt",m),f&&setTimeout(()=>{n(!0)},3e3),()=>{window.removeEventListener("beforeinstallprompt",m)}},[]);const c=async()=>{if(!t)return;t.prompt();const{outcome:f}=await t.userChoice;f==="accepted"&&(console.log("User accepted the install prompt"),l(!0)),e(null),n(!1)},d=()=>{n(!1),sessionStorage.setItem("installPromptDismissed","true")};return o||sessionStorage.getItem("installPromptDismissed")?null:a.jsx(Dve,{children:r&&a.jsx(Wt.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-20 left-4 right-4 z-50 md:left-auto md:right-8 md:max-w-md lg:bottom-8",children:a.jsx(te,{className:"border-4 border-purple-400 shadow-2xl bg-gradient-to-br from-purple-50 to-pink-50",children:a.jsxs(re,{className:"p-4",children:[a.jsx("button",{onClick:d,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Dismiss",children:a.jsx(Sn,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:a.jsx($de,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1 pr-4",children:[a.jsx("h3",{className:"font-bold text-lg mb-1",children:"Install Math Adventure"}),i?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Add to your home screen for the best experience!"}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-purple-200 text-sm space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(l3,{className:"w-4 h-4 text-blue-600"})}),a.jsx("p",{className:"font-semibold text-purple-700",children:"How to install on iPhone/iPad:"})]}),a.jsxs("ol",{className:"space-y-2 text-gray-700 ml-2",children:[a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"font-bold text-purple-600 flex-shrink-0",children:"1."}),a.jsxs("span",{children:["Tap the ",a.jsx("strong",{children:"Share button"})," ",a.jsx(l3,{className:"inline w-4 h-4"})," at the bottom of your screen (or top in Safari)"]})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"font-bold text-purple-600 flex-shrink-0",children:"2."}),a.jsxs("span",{children:["Scroll down and tap ",a.jsx("strong",{children:'"Add to Home Screen"'})," ",a.jsx("span",{className:"inline-block bg-gray-100 px-2 py-1 rounded text-xs",children:"+"})]})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"font-bold text-purple-600 flex-shrink-0",children:"3."}),a.jsxs("span",{children:["Tap ",a.jsx("strong",{children:'"Add"'})," in the top right corner"]})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"font-bold text-purple-600 flex-shrink-0",children:"4."}),a.jsx("span",{children:"The app icon will appear on your home screen!"})]})]}),a.jsx("div",{className:"bg-blue-50 p-2 rounded mt-3",children:a.jsxs("p",{className:"text-xs text-blue-700",children:[" ",a.jsx("strong",{children:"Tip:"})," Once installed, open the app from your home screen for the full-screen experience!"]})})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Install the app for quick access and offline play!"}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border-2 border-purple-200 mb-3",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-2",children:" Benefits:"}),a.jsxs("ul",{className:"text-xs text-gray-700 space-y-1",children:[a.jsx("li",{children:" Works offline"}),a.jsx("li",{children:" Faster loading"}),a.jsx("li",{children:" Full-screen experience"}),a.jsx("li",{children:" Home screen access"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(oe,{onClick:c,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(vg,{className:"w-4 h-4 mr-2"}),"Install App"]}),a.jsx(oe,{onClick:d,variant:"outline",children:"Later"})]})]})]})]})]})})})})}function Ti(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function $c(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function gwe(t,e){const r=Ti(t);return isNaN(e)?$c(t,NaN):(e&&r.setDate(r.getDate()+e),r)}const uG=6048e5,ywe=864e5;let vwe={};function r1(){return vwe}function ud(t,e){var l,c,d,f;const r=r1(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=Ti(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ab(t){return ud(t,{weekStartsOn:1})}function dG(t){const e=Ti(t),r=e.getFullYear(),n=$c(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=ab(n),s=$c(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=ab(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Bi(t){const e=Ti(t);return e.setHours(0,0,0,0),e}function n6(t){const e=Ti(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function hG(t,e){const r=Bi(t),n=Bi(e),i=+r-n6(r),s=+n-n6(n);return Math.round((i-s)/ywe)}function xwe(t){const e=dG(t),r=$c(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),ab(r)}function bwe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function wwe(t){if(!bwe(t)&&typeof t!="number")return!1;const e=Ti(t);return!isNaN(Number(e))}function i6(t,e){const r=Ti(t),n=Ti(e),i=s6(r,n),s=Math.abs(hG(r,n));r.setDate(r.getDate()-i*s);const o=+(s6(r,n)===-i),l=i*(s-o);return l===0?0:l}function s6(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function fG(t){const e=Ti(t);return e.setDate(1),e.setHours(0,0,0,0),e}function _we(t){const e=Ti(t),r=$c(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const jwe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Nwe=(t,e,r)=>{let n;const i=jwe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function hN(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Swe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Twe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ewe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Pwe={date:hN({formats:Swe,defaultWidth:"full"}),time:hN({formats:Twe,defaultWidth:"full"}),dateTime:hN({formats:Ewe,defaultWidth:"full"})},Awe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Cwe=(t,e,r,n)=>Awe[t];function pp(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const kwe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Iwe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Owe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Dwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Lwe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},$we={ordinalNumber:Lwe,era:pp({values:kwe,defaultWidth:"wide"}),quarter:pp({values:Iwe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:pp({values:Owe,defaultWidth:"wide"}),day:pp({values:Rwe,defaultWidth:"wide"}),dayPeriod:pp({values:Mwe,defaultWidth:"wide",formattingValues:Dwe,defaultFormattingWidth:"wide"})};function gp(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Vwe(l,m=>m.test(o)):Fwe(l,m=>m.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const f=e.slice(o.length);return{value:d,rest:f}}}function Fwe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Vwe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Bwe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const qwe=/^(\d+)(th|st|nd|rd)?/i,Uwe=/\d+/i,zwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Wwe={any:[/^b/i,/^(a|c)/i]},Hwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gwe={any:[/1/i,/2/i,/3/i,/4/i]},Kwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ywe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Jwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e1e={ordinalNumber:Bwe({matchPattern:qwe,parsePattern:Uwe,valueCallback:t=>parseInt(t,10)}),era:gp({matchPatterns:zwe,defaultMatchWidth:"wide",parsePatterns:Wwe,defaultParseWidth:"any"}),quarter:gp({matchPatterns:Hwe,defaultMatchWidth:"wide",parsePatterns:Gwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:gp({matchPatterns:Kwe,defaultMatchWidth:"wide",parsePatterns:Ywe,defaultParseWidth:"any"}),day:gp({matchPatterns:Qwe,defaultMatchWidth:"wide",parsePatterns:Xwe,defaultParseWidth:"any"}),dayPeriod:gp({matchPatterns:Jwe,defaultMatchWidth:"any",parsePatterns:Zwe,defaultParseWidth:"any"})},t1e={code:"en-US",formatDistance:Nwe,formatLong:Pwe,formatRelative:Cwe,localize:$we,match:e1e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function r1e(t){const e=Ti(t);return hG(e,_we(e))+1}function n1e(t){const e=Ti(t),r=+ab(e)-+xwe(e);return Math.round(r/uG)+1}function mG(t,e){var f,m,p,v;const r=Ti(t),n=r.getFullYear(),i=r1(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(p=i.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,o=$c(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=ud(o,e),c=$c(t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const d=ud(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function i1e(t,e){var l,c,d,f;const r=r1(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=mG(t,e),s=$c(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),ud(s,e)}function pG(t,e){const r=Ti(t),n=+ud(r,e)-+i1e(r,e);return Math.round(n/uG)+1}function lr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Xl={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return lr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):lr(r+1,2)},d(t,e){return lr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return lr(t.getHours()%12||12,e.length)},H(t,e){return lr(t.getHours(),e.length)},m(t,e){return lr(t.getMinutes(),e.length)},s(t,e){return lr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return lr(i,e.length)}},xh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},a6={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Xl.y(t,e)},Y:function(t,e,r,n){const i=mG(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return lr(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):lr(s,e.length)},R:function(t,e){const r=dG(t);return lr(r,e.length)},u:function(t,e){const r=t.getFullYear();return lr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return lr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return lr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Xl.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return lr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=pG(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):lr(i,e.length)},I:function(t,e,r){const n=n1e(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):lr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Xl.d(t,e)},D:function(t,e,r){const n=r1e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):lr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return lr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return lr(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return lr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=xh.noon:n===0?i=xh.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=xh.evening:n>=12?i=xh.afternoon:n>=4?i=xh.morning:i=xh.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Xl.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Xl.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):lr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):lr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Xl.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Xl.s(t,e)},S:function(t,e){return Xl.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return l6(n);case"XXXX":case"XX":return Cu(n);case"XXXXX":case"XXX":default:return Cu(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return l6(n);case"xxxx":case"xx":return Cu(n);case"xxxxx":case"xxx":default:return Cu(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+o6(n,":");case"OOOO":default:return"GMT"+Cu(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+o6(n,":");case"zzzz":default:return"GMT"+Cu(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return lr(n,e.length)},T:function(t,e,r){const n=t.getTime();return lr(n,e.length)}};function o6(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+lr(s,2)}function l6(t,e){return t%60===0?(t>0?"-":"+")+lr(Math.abs(t)/60,2):Cu(t,e)}function Cu(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=lr(Math.trunc(n/60),2),s=lr(n%60,2);return r+i+e+s}const c6=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},gG=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},s1e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return c6(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",c6(n,e)).replace("{{time}}",gG(i,e))},a1e={p:gG,P:s1e},o1e=/^D+$/,l1e=/^Y+$/,c1e=["D","DD","YY","YYYY"];function u1e(t){return o1e.test(t)}function d1e(t){return l1e.test(t)}function h1e(t,e,r){const n=f1e(t,e,r);if(console.warn(n),c1e.includes(t))throw new RangeError(n)}function f1e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const m1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,p1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g1e=/^'([^]*?)'?$/,y1e=/''/g,v1e=/[a-zA-Z]/;function ur(t,e,r){var f,m,p,v;const n=r1(),i=n.locale??t1e,s=n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=n.weekStartsOn??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,l=Ti(t);if(!wwe(l))throw new RangeError("Invalid time value");let c=e.match(p1e).map(w=>{const x=w[0];if(x==="p"||x==="P"){const g=a1e[x];return g(w,i.formatLong)}return w}).join("").match(m1e).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const x=w[0];if(x==="'")return{isToken:!1,value:x1e(w)};if(a6[x])return{isToken:!0,value:w};if(x.match(v1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const x=w.value;(d1e(x)||u1e(x))&&h1e(x,e,String(t));const g=a6[x[0]];return g(l,x,i.localize,d)}).join("")}function x1e(t){const e=t.match(g1e);return e?e[1].replace(y1e,"'"):t}function fN(t,e){return gwe(t,-e)}function b1e({children:t,currentPageName:e}){var I,A;const r=yl(),[n,i]=S.useState(!1),[s,o]=S.useState(null);S.useEffect(()=>{const C=Vp(Bt),E=uU(C,N=>{o(N?{email:N.email,full_name:N.displayName,avatar_skin_tone:"medium",coins:0}:null)});return()=>E()},[]);const l=((I=s==null?void 0:s.app_settings)==null?void 0:I.theme)==="dark";S.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then($=>{console.log("Service Worker registered:",$)}).catch($=>{console.log("Service Worker registration failed:",$)});const C=document.createElement("link");C.rel="manifest",C.href="/manifest.json",document.head.appendChild(C);const E=document.createElement("meta");E.name="theme-color",E.content=l?"#1e293b":"#9333ea",document.head.appendChild(E);const N=document.createElement("meta");N.name="apple-mobile-web-app-capable",N.content="yes",document.head.appendChild(N);const O=document.createElement("meta");O.name="apple-mobile-web-app-status-bar-style",O.content="default",document.head.appendChild(O);const D=document.createElement("meta");D.name="apple-mobile-web-app-title",D.content="Math Adventure",document.head.appendChild(D);const L=document.createElement("link");return L.rel="apple-touch-icon",document.head.appendChild(L),()=>{C.parentNode&&C.remove(),L.parentNode&&L.remove(),E.parentNode&&E.remove(),N.parentNode&&N.remove(),O.parentNode&&O.remove(),D.parentNode&&D.remove()}},[l]);const[c,d]=S.useState(0);if(S.useEffect(()=>{s!=null&&s.email&&d(0)},[s==null?void 0:s.email]),e==="Landing")return a.jsx(a.Fragment,{children:t});if(s===null&&e!=="Landing")return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl mx-auto mb-8 animate-bounce",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("h1",{className:"text-5xl font-black text-white mb-4 drop-shadow-2xl",children:"Math Adventure! "}),a.jsx("p",{className:"text-xl text-white mb-8 drop-shadow-lg",children:"Please sign in to continue your learning journey!"}),a.jsx(oe,{onClick:()=>{const C=Vp(Bt),E=new $o;cne(C,E)},className:"h-16 px-10 text-xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:"Sign In / Sign Up "})]})});const f=ur(Bi(new Date),"yyyy-MM-dd"),{data:m=[]}=ut({queryKey:["dailyChallenges",f],initialData:[],enabled:!!s}),p=m.some(C=>C.created_by===(s==null?void 0:s.email)),v=s?{avatar_skin_tone:s.avatar_skin_tone||"medium",avatar_hair_style:s.avatar_hair_style||"short",avatar_hair_color:s.avatar_hair_color||"brown",avatar_eyes:s.avatar_eyes||"normal",avatar_outfit:s.avatar_outfit||"casual",avatar_accessory:s.avatar_accessory||"none"}:null,w=s==null?void 0:s.active_pet,x=w?{id:w,name:"Pet",emoji:w==="dragon"?"":w==="owl"?"":w==="fox"?"":"",gradient:w==="dragon"?"from-red-400 to-orange-500":w==="owl"?"from-indigo-400 to-purple-500":w==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500",evolveLevel:5}:null,g=(s==null?void 0:s.subscription_tier)||"free",_=g!=="free",T=()=>{const C=Vp(Bt);Ure(C)},P=({to:C,icon:E,label:N,badge:O,badgeColor:D="red",isDarkMode:L})=>{const $=r.pathname===Je(C);return a.jsxs(Ht,{to:Je(C),onClick:()=>i(!1),className:`relative flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${$?"bg-purple-500 text-white shadow-lg":L?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[a.jsx(E,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:N}),O&&a.jsx(je,{className:`absolute -top-1 -right-1 bg-${D}-500 text-white text-xs px-1.5 py-0.5 ${D==="red"?"animate-pulse":""}`,children:O})]})};return a.jsxs("div",{className:`min-h-screen ${l?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[a.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${l?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),a.jsx("header",{className:`${l?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ht,{to:Je("Home"),className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center transform rotate-12 shadow-lg",children:a.jsx("span",{className:"text-2xl transform -rotate-12",children:""})}),a.jsx("div",{children:a.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${l&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),a.jsxs("nav",{className:"hidden lg:flex items-center gap-2",children:[a.jsx(P,{to:"Home",icon:lx,label:"Home",isDarkMode:l}),a.jsx(P,{to:"DailyChallenge",icon:Wr,label:"Daily",badge:p?null:"!",isDarkMode:l}),a.jsx(P,{to:"Progress",icon:Ct,label:"Progress",isDarkMode:l}),a.jsx(P,{to:"AITutor",icon:mn,label:"AI Tutor",isDarkMode:l}),a.jsx(P,{to:"Messages",icon:zh,label:"Messages",badge:c>0?c:null,badgeColor:"blue",isDarkMode:l}),a.jsx(P,{to:"Shop",icon:qo,label:"Shop",isDarkMode:l}),a.jsx(P,{to:"ParentPortal",icon:$j,label:"Parents",badge:s!=null&&s.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:l})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[s&&a.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white px-3 py-2 rounded-xl shadow-md",children:[a.jsx(_c,{className:"w-4 h-4"}),a.jsx("span",{className:"font-bold text-sm",children:s.coins||0})]}),g!=="free"?a.jsx("button",{onClick:()=>window.open(Je("Subscription"),"_blank","noopener,noreferrer"),className:"hidden md:block",children:a.jsxs(je,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 px-3 py-1.5 cursor-pointer",children:[a.jsx(bi,{className:"w-3 h-3 mr-1"}),g==="family_teacher"?"Family":g==="premium_player"?"Premium":"Parent"]})}):a.jsx("button",{onClick:()=>window.open(Je("Subscription"),"_blank","noopener,noreferrer"),className:"hidden md:block",children:a.jsxs(je,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 px-3 py-1.5 cursor-pointer animate-pulse",children:[a.jsx(bi,{className:"w-3 h-3 mr-1"}),"Upgrade"]})}),s&&a.jsx("div",{className:"hidden lg:block",children:a.jsxs(gye,{children:[a.jsx(yye,{asChild:!0,children:a.jsx(oe,{variant:"ghost",className:`${l?"hover:bg-slate-700 text-gray-50":"hover:bg-purple-50 text-gray-900"} h-auto p-2`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[v&&a.jsx("div",{className:"scale-75 origin-center",children:a.jsx(Kh,{avatarData:v,size:"small"})}),x&&a.jsx("div",{className:"scale-50 origin-center -ml-2",children:a.jsx(tI,{pet:x,experience:((A=s==null?void 0:s.pet_experience)==null?void 0:A[w])||0,size:"small"})})]}),a.jsxs("div",{className:"text-left hidden xl:block",children:[a.jsx("p",{className:`text-sm font-semibold ${l?"text-gray-50":"text-gray-900"}`,children:s.full_name||"Player"}),a.jsx("p",{className:`text-xs ${l?"text-gray-300":"text-gray-500"}`,children:s.email})]}),a.jsx(Ek,{className:`w-4 h-4 ${l?"text-gray-300":"text-gray-500"}`})]})})}),a.jsxs(NW,{align:"end",className:`${l?"bg-slate-800 border-slate-700 text-gray-50":"bg-white"} w-56`,children:[a.jsx(SW,{children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:`text-sm font-medium ${l?"text-gray-50":"text-gray-900"}`,children:s.full_name||"Player"}),a.jsx("p",{className:`text-xs ${l?"text-gray-300":"text-gray-500"}`,children:s.email})]})}),a.jsx(hx,{className:l?"bg-slate-700":""}),a.jsx(Da,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Je("Avatar"),className:"cursor-pointer",children:[a.jsx(Wh,{className:"w-4 h-4 mr-2"}),"View Profile"]})}),a.jsx(Da,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Je("Messages"),className:"cursor-pointer",children:[a.jsx(zh,{className:"w-4 h-4 mr-2"}),"Messages",c>0&&a.jsx(je,{className:"ml-auto bg-blue-500 text-white text-xs",children:c})]})}),a.jsx(Da,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Je("Progress"),className:"cursor-pointer",children:[a.jsx(mf,{className:"w-4 h-4 mr-2"}),"Progress & Stats"]})}),a.jsx(Da,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Je("Shop"),className:"cursor-pointer",children:[a.jsx(qo,{className:"w-4 h-4 mr-2"}),"Rewards Shop"]})}),a.jsx(Da,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Je("ParentPortal"),className:"cursor-pointer",children:[a.jsx($j,{className:"w-4 h-4 mr-2"}),"Parent Portal",(s==null?void 0:s.is_parent_mode)&&a.jsx(je,{className:"ml-2 bg-blue-500 text-white text-xs",children:"ON"})]})}),a.jsx(hx,{className:l?"bg-slate-700":""}),a.jsx(Da,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Je("Settings"),className:"cursor-pointer",children:[a.jsx(xg,{className:"w-4 h-4 mr-2"}),"App Settings"]})}),a.jsx(Da,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Je("Subscription"),className:"cursor-pointer",children:[a.jsx($w,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})}),_&&(s==null?void 0:s.subscription_auto_renew)!==!1&&a.jsx(Da,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Je("Subscription"),className:"cursor-pointer text-orange-600 focus:text-orange-600",children:[a.jsx(od,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})}),a.jsx(hx,{className:l?"bg-slate-700":""}),a.jsxs(Da,{onClick:T,className:`${l?"text-red-400 focus:bg-slate-700 focus:text-red-400":"text-red-600 focus:text-red-600"} cursor-pointer`,children:[a.jsx(a3,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),a.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>i(!n),className:`lg:hidden ${l?"text-gray-50 hover:bg-slate-700":""}`,children:n?a.jsx(Sn,{className:"w-6 h-6"}):a.jsx(ode,{className:"w-6 h-6"})})]})]}),n&&a.jsxs("div",{className:`lg:hidden mt-4 pb-4 space-y-2 border-t pt-4 ${l?"border-slate-700":""}`,children:[s&&a.jsxs("div",{className:`${l?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[v&&a.jsx("div",{className:"scale-90 origin-center",children:a.jsx(Kh,{avatarData:v,size:"small"})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${l?"text-gray-50":"text-gray-900"}`,children:s.full_name||"Player"}),a.jsx("p",{className:`text-sm ${l?"text-gray-300":"text-gray-600"}`,children:s.email})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(je,{className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white",children:[a.jsx(_c,{className:"w-3 h-3 mr-1"}),s.coins||0," Coins"]}),g!=="free"&&a.jsxs(je,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[a.jsx(bi,{className:"w-3 h-3 mr-1"}),g==="family_teacher"?"Family":g==="premium_player"?"Premium":"Parent"]})]})]}),a.jsx(P,{to:"Home",icon:lx,label:"Home",isDarkMode:l}),a.jsx(P,{to:"DailyChallenge",icon:Wr,label:"Daily Challenge",badge:p?null:"!",isDarkMode:l}),a.jsx(P,{to:"Progress",icon:Ct,label:"Progress",isDarkMode:l}),a.jsx(P,{to:"AITutor",icon:mn,label:"AI Tutor",isDarkMode:l}),a.jsx(P,{to:"Messages",icon:zh,label:"Messages",badge:c>0?c:null,badgeColor:"blue",isDarkMode:l}),a.jsx(P,{to:"Leaderboards",icon:Gn,label:"Leaderboards",isDarkMode:l}),a.jsx(P,{to:"Shop",icon:qo,label:"Shop",isDarkMode:l}),a.jsx(P,{to:"TeamChallenges",icon:yn,label:"Team Challenges",isDarkMode:l}),a.jsx(P,{to:"ParentPortal",icon:$j,label:"Parent Portal",badge:s!=null&&s.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:l}),a.jsx(P,{to:"Avatar",icon:Wh,label:"Profile",isDarkMode:l}),a.jsx("div",{className:`pt-2 mt-2 border-t ${l?"border-slate-700":""}`,children:a.jsx(Ht,{to:Je("Settings"),onClick:()=>i(!1),children:a.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${l?"bg-gradient-to-r from-gray-700 to-gray-800 text-gray-50 hover:bg-gray-700":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[a.jsx(xg,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"App Settings"})]})})}),a.jsx("div",{className:`pt-2 border-t ${l?"border-slate-700":""}`,children:a.jsx(Ht,{to:Je("GenerateIcons"),onClick:()=>i(!1),children:a.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 text-white ${l?"hover:from-blue-600 hover:to-cyan-600":""}`,children:[a.jsx(Yt,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Generate PWA Icons"}),a.jsx(je,{className:"bg-green-400 text-white text-xs",children:"New!"})]})})}),a.jsx("div",{className:`pt-2 border-t ${l?"border-slate-700":""}`,children:a.jsx("button",{onClick:()=>{i(!1),window.open(Je("Subscription"),"_blank","noopener,noreferrer")},className:"w-full",children:a.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${g!=="free"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 text-white animate-pulse"}`,children:[a.jsx(bi,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:g!=="free"?"Manage Subscription":"Upgrade to Premium"})]})})}),s&&a.jsx("div",{className:`pt-2 border-t ${l?"border-slate-700":""}`,children:a.jsxs("button",{onClick:()=>{i(!1),T()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl ${l?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[a.jsx(a3,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]})}),a.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${l?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:a.jsxs("div",{className:"grid grid-cols-5 gap-1 px-2 py-2",children:[a.jsxs(Ht,{to:Je("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===Je("Home")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[a.jsx(lx,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),a.jsxs(Ht,{to:Je("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===Je("DailyChallenge")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[a.jsx(Wr,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!p&&a.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),a.jsxs(Ht,{to:Je("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===Je("AITutor")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[a.jsx(mn,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),a.jsxs(Ht,{to:Je("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===Je("Shop")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[a.jsx(qo,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),a.jsxs(Ht,{to:Je("Avatar"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===Je("Avatar")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[v?a.jsx("div",{className:"scale-50 origin-center -my-2",children:a.jsx(Kh,{avatarData:v,size:"small"})}):a.jsx(Wh,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Profile"})]})]})}),a.jsx(pwe,{}),a.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:t}),a.jsx("footer",{className:`${l?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"text-center md:text-left",children:[a.jsx("p",{className:`text-sm ${l?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),a.jsx("p",{className:`text-xs ${l?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[a.jsx(Ht,{to:Je("PrivacyPolicy"),className:`text-sm ${l?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),a.jsx("span",{className:l?"text-gray-600":"text-gray-300",children:""}),a.jsx(Ht,{to:Je("Subscription"),className:`text-sm ${l?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),a.jsx("span",{className:l?"text-gray-600":"text-gray-300",children:""}),a.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${l?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}const w1e=Oy("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ze=S.forwardRef(({className:t,variant:e,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:vt(w1e({variant:e}),t),...r}));ze.displayName="Alert";const _1e=S.forwardRef(({className:t,...e},r)=>a.jsx("h5",{ref:r,className:vt("mb-1 font-medium leading-none tracking-tight",t),...e}));_1e.displayName="AlertTitle";const We=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:vt("text-sm [&_p]:leading-relaxed",t),...e}));We.displayName="AlertDescription";function j1e(){var l,c,d;const t=ur(Bi(new Date),"yyyy-MM-dd"),{data:e}=ut({queryKey:["currentUser"],queryFn:async()=>(cr(Bt),null)}),{data:r=[]}=ut({queryKey:["dailyChallenges",t],queryFn:async()=>{const f=cr(Bt),m=ha(An(f,"dailyChallenges"),si("challenge_date","==",t));return(await Si(m)).docs.map(v=>v.data())},initialData:[]}),{data:n=[]}=ut({queryKey:["userDailyChallenges"],queryFn:async()=>{const f=cr(Bt);if(!(e!=null&&e.email))return[];const m=ha(An(f,"dailyChallenges"),si("created_by","==",e.email));return(await Si(m)).docs.map(v=>v.data())},initialData:[],enabled:!!e}),i=r.some(f=>f.created_by===(e==null?void 0:e.email)),o=(()=>{if(n.length===0)return 0;const f=[...n].sort((v,w)=>new Date(w.challenge_date)-new Date(v.challenge_date));let m=0,p=Bi(new Date);for(const v of f){const w=Bi(new Date(v.challenge_date));if(Math.floor((p-w)/(1e3*60*60*24))===m)m++;else break}return m})();return a.jsxs(te,{className:"border-4 border-purple-300 shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 p-6 text-white",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(Wr,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold",children:"Daily Challenge"}),a.jsx("p",{className:"text-sm opacity-90",children:ur(new Date,"MMMM d, yyyy")})]})]}),i?a.jsxs(je,{className:"bg-green-500 text-white",children:[a.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Done"]}):a.jsx(je,{className:"bg-white text-purple-600 font-bold",children:"New!"})]}),o>0&&a.jsxs("div",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 w-fit",children:[a.jsx(Ph,{className:"w-5 h-5 text-orange-300"}),a.jsxs("span",{className:"font-bold",children:[o," Day Streak!"]})]})]}),a.jsx(re,{className:"p-6 space-y-4",children:i?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"text-5xl mb-3",children:""}),a.jsx("p",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Challenge Completed!"}),a.jsxs("p",{className:"text-gray-600",children:["You've earned ",((l=r.find(f=>f.created_by===(e==null?void 0:e.email)))==null?void 0:l.bonus_stars)||0," bonus stars today"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-purple-50 p-3 rounded-xl text-center",children:[a.jsx(Ct,{className:"w-6 h-6 mx-auto mb-1 text-purple-500"}),a.jsx("div",{className:"font-bold text-lg",children:(c=r.find(f=>f.created_by===(e==null?void 0:e.email)))==null?void 0:c.score}),a.jsx("div",{className:"text-xs text-gray-600",children:"Your Score"})]}),a.jsxs("div",{className:"bg-blue-50 p-3 rounded-xl text-center",children:[a.jsx(wr,{className:"w-6 h-6 mx-auto mb-1 text-blue-500"}),a.jsxs("div",{className:"font-bold text-lg",children:[(d=r.find(f=>f.created_by===(e==null?void 0:e.email)))==null?void 0:d.time_taken,"s"]}),a.jsx("div",{className:"text-xs text-gray-600",children:"Your Time"})]})]}),a.jsx(Ht,{to:Je("DailyChallenge"),children:a.jsx(oe,{variant:"outline",className:"w-full",children:"View Leaderboard"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Questions"}),a.jsx("span",{className:"font-bold",children:"15 Mixed Problems"})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Bonus Rewards"}),a.jsx("span",{className:"font-bold",children:"Up to 3 Stars "})]}),o>=3&&a.jsxs("div",{className:"flex items-center justify-between text-sm bg-orange-50 p-2 rounded-lg",children:[a.jsx("span",{className:"text-gray-600",children:"Streak Bonus"}),a.jsx("span",{className:"font-bold text-orange-600",children:"+1 Extra Star "})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Players Today"}),a.jsx("span",{className:"font-bold",children:r.length})]})]}),a.jsx(Ht,{to:Je("DailyChallenge"),children:a.jsx(oe,{className:"w-full h-12 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 shadow-lg",children:"Start Challenge"})})]})})]})}const mN=[{id:"counting",name:"Counting",icon:gi,color:"from-green-400 to-emerald-500",emoji:"",grades:["K","1"],description:"Count and recognize numbers",category:"basics"},{id:"skip_counting_2s",name:"Skip Count by 2s",icon:qn,color:"from-blue-400 to-cyan-500",emoji:"",grades:["K","1","2"],description:"Count by twos",category:"basics"},{id:"skip_counting_5s",name:"Skip Count by 5s",icon:qn,color:"from-green-400 to-teal-500",emoji:"",grades:["K","1","2"],description:"Count by fives",category:"basics"},{id:"skip_counting_10s",name:"Skip Count by 10s",icon:qn,color:"from-purple-400 to-pink-500",emoji:"",grades:["K","1","2"],description:"Count by tens",category:"basics"},{id:"even_odd",name:"Even & Odd Numbers",icon:Lj,color:"from-indigo-400 to-blue-500",emoji:"",grades:["1","2","3"],description:"Identify even and odd",category:"basics"},{id:"number_comparison",name:"Comparing Numbers",icon:mr,color:"from-blue-400 to-cyan-500",emoji:"",grades:["K","1","2"],description:"Greater than, less than, equal to",category:"basics"},{id:"ordering_numbers",name:"Ordering Numbers",icon:mr,color:"from-cyan-400 to-blue-500",emoji:"",grades:["1","2","3"],description:"Put numbers in order",category:"basics"},{id:"place_value",name:"Place Value",icon:gi,color:"from-purple-400 to-indigo-500",emoji:"",grades:["1","2","3","4"],description:"Ones, tens, hundreds",category:"basics"},{id:"place_value_thousands",name:"Place Value (Thousands)",icon:gi,color:"from-indigo-400 to-purple-500",emoji:"",grades:["3","4","5"],description:"Up to thousands place",category:"basics"},{id:"number_bonds",name:"Number Bonds",icon:qn,color:"from-pink-400 to-rose-500",emoji:"",grades:["K","1","2"],description:"Part-part-whole relationships",category:"basics"},{id:"fact_families",name:"Fact Families",icon:yn,color:"from-orange-400 to-red-500",emoji:"",grades:["1","2","3"],description:"Related addition & subtraction",category:"basics"},{id:"patterns",name:"Patterns & Sequences",icon:qn,color:"from-yellow-400 to-orange-500",emoji:"",grades:["1","2","3","4"],description:"Identify and complete patterns",category:"basics"},{id:"rounding",name:"Rounding",icon:Qt,color:"from-red-400 to-pink-500",emoji:"",grades:["2","3","4","5"],description:"Round to nearest 10, 100, 1000",category:"basics"},{id:"estimation",name:"Estimation",icon:Qt,color:"from-amber-400 to-orange-500",emoji:"",grades:["2","3","4","5"],description:"Estimate sums and products",category:"basics"},{id:"roman_numerals",name:"Roman Numerals",icon:ks,color:"from-purple-400 to-indigo-500",emoji:"",grades:["3","4","5"],description:"Read and write Roman numerals",category:"basics"},{id:"expanded_form",name:"Expanded Form",icon:gi,color:"from-teal-400 to-cyan-500",emoji:"",grades:["2","3","4"],description:"Write numbers in expanded form",category:"basics"},{id:"standard_form",name:"Standard Form",icon:gi,color:"from-blue-400 to-indigo-500",emoji:"",grades:["2","3","4"],description:"Write numbers in standard form",category:"basics"},{id:"word_form",name:"Word Form Numbers",icon:ks,color:"from-green-400 to-emerald-500",emoji:"",grades:["2","3","4"],description:"Write numbers as words",category:"basics"},{id:"greater_less_symbols",name:"Greater/Less Symbols",icon:mr,color:"from-cyan-400 to-blue-500",emoji:"",grades:["K","1","2"],description:"Use >, <, = symbols",category:"basics"},{id:"number_lines",name:"Number Lines",icon:mr,color:"from-purple-400 to-pink-500",emoji:"",grades:["1","2","3"],description:"Use and interpret number lines",category:"basics"},{id:"addition",name:"Addition",icon:Fn,color:"from-green-400 to-emerald-500",emoji:"",grades:["K","1","2","3","4"],description:"Learn to add numbers",category:"core"},{id:"addition_single_digit",name:"Single-Digit Addition",icon:Fn,color:"from-green-300 to-emerald-400",emoji:"",grades:["K","1"],description:"Add numbers 0-10",category:"core"},{id:"addition_double_digit",name:"Two-Digit Addition",icon:Fn,color:"from-green-400 to-teal-500",emoji:"",grades:["1","2","3"],description:"Add two-digit numbers",category:"core"},{id:"addition_triple_digit",name:"Three-Digit Addition",icon:Fn,color:"from-green-500 to-emerald-600",emoji:"",grades:["2","3","4"],description:"Add three-digit numbers",category:"core"},{id:"addition_regrouping",name:"Addition with Regrouping",icon:Fn,color:"from-teal-400 to-cyan-500",emoji:"",grades:["2","3","4"],description:"Add with carrying",category:"core"},{id:"missing_addends",name:"Missing Addends",icon:Fn,color:"from-cyan-400 to-blue-500",emoji:"",grades:["1","2","3"],description:"Find the missing number",category:"core"},{id:"subtraction",name:"Subtraction",icon:oc,color:"from-blue-400 to-cyan-500",emoji:"",grades:["K","1","2","3","4"],description:"Practice subtraction",category:"core"},{id:"subtraction_single_digit",name:"Single-Digit Subtraction",icon:oc,color:"from-blue-300 to-cyan-400",emoji:"",grades:["K","1"],description:"Subtract numbers 0-10",category:"core"},{id:"subtraction_double_digit",name:"Two-Digit Subtraction",icon:oc,color:"from-blue-400 to-indigo-500",emoji:"",grades:["1","2","3"],description:"Subtract two-digit numbers",category:"core"},{id:"subtraction_regrouping",name:"Subtraction with Regrouping",icon:oc,color:"from-indigo-400 to-purple-500",emoji:"",grades:["2","3","4"],description:"Subtract with borrowing",category:"core"},{id:"multiplication",name:"Multiplication",icon:Sn,color:"from-purple-400 to-pink-500",emoji:"",grades:["2","3","4","5"],description:"Master times tables",category:"core"},{id:"multiplication_tables_2_5",name:"Times Tables (2, 5, 10)",icon:Sn,color:"from-purple-300 to-pink-400",emoji:"",grades:["2","3"],description:"Learn easy times tables",category:"core"},{id:"multiplication_tables_3_4",name:"Times Tables (3, 4, 6)",icon:Sn,color:"from-pink-400 to-rose-500",emoji:"",grades:["3","4"],description:"Medium difficulty tables",category:"core"},{id:"multiplication_tables_7_9",name:"Times Tables (7, 8, 9)",icon:Sn,color:"from-rose-400 to-red-500",emoji:"",grades:["3","4","5"],description:"Challenging times tables",category:"core"},{id:"multiplication_double_digit",name:"Two-Digit Multiplication",icon:Sn,color:"from-purple-500 to-indigo-600",emoji:"",grades:["4","5","6"],description:"Multiply larger numbers",category:"core"},{id:"missing_factors",name:"Missing Factors",icon:Sn,color:"from-indigo-400 to-purple-500",emoji:"",grades:["3","4","5"],description:"Find the missing factor",category:"core"},{id:"division",name:"Division",icon:sc,color:"from-orange-400 to-red-500",emoji:"",grades:["3","4","5","6"],description:"Divide and conquer",category:"core"},{id:"division_basic",name:"Basic Division",icon:sc,color:"from-orange-300 to-red-400",emoji:"",grades:["3","4"],description:"Simple division facts",category:"core"},{id:"division_remainders",name:"Division with Remainders",icon:sc,color:"from-red-400 to-pink-500",emoji:"",grades:["4","5","6"],description:"Division with leftovers",category:"core"},{id:"division_long",name:"Long Division",icon:sc,color:"from-red-500 to-orange-600",emoji:"",grades:["4","5","6"],description:"Multi-digit division",category:"core"},{id:"order_operations",name:"Order of Operations",icon:_u,color:"from-blue-400 to-indigo-500",emoji:"",grades:["5","6","7","8"],description:"PEMDAS / BODMAS",category:"core"},{id:"properties_addition",name:"Properties of Addition",icon:Fn,color:"from-teal-400 to-cyan-500",emoji:"",grades:["2","3","4"],description:"Commutative, associative",category:"core"},{id:"properties_multiplication",name:"Properties of Multiplication",icon:Sn,color:"from-purple-400 to-pink-500",emoji:"",grades:["3","4","5"],description:"Commutative, associative, distributive",category:"core"},{id:"distributive_property",name:"Distributive Property",icon:gi,color:"from-indigo-400 to-purple-500",emoji:"",grades:["4","5","6"],description:"Break apart multiplication",category:"core"},{id:"mental_math_strategies",name:"Mental Math Strategies",icon:mn,color:"from-yellow-400 to-orange-500",emoji:"",grades:["2","3","4","5"],description:"Quick calculation tricks",category:"core"},{id:"powers_of_10",name:"Powers of 10",icon:qn,color:"from-blue-400 to-purple-500",emoji:"",grades:["4","5","6"],description:"Multiply and divide by 10, 100, 1000",category:"core"},{id:"multiples",name:"Multiples",icon:gi,color:"from-green-400 to-teal-500",emoji:"",grades:["3","4","5"],description:"Identify multiples of numbers",category:"core"},{id:"divisibility_rules",name:"Divisibility Rules",icon:sc,color:"from-orange-400 to-red-500",emoji:"",grades:["4","5","6"],description:"Quick divisibility checks",category:"core"},{id:"factors_multiples",name:"Factors & Multiples",icon:gi,color:"from-indigo-400 to-purple-500",emoji:"",grades:["4","5","6"],description:"Find factors and multiples",category:"advanced"},{id:"gcf",name:"Greatest Common Factor",icon:gi,color:"from-purple-400 to-indigo-500",emoji:"",grades:["5","6","7"],description:"Find GCF of numbers",category:"advanced"},{id:"lcm",name:"Least Common Multiple",icon:gi,color:"from-indigo-400 to-blue-500",emoji:"",grades:["5","6","7"],description:"Find LCM of numbers",category:"advanced"},{id:"prime_composite",name:"Prime & Composite",icon:Nt,color:"from-green-400 to-teal-500",emoji:"",grades:["4","5","6"],description:"Identify prime numbers",category:"advanced"},{id:"prime_factorization",name:"Prime Factorization",icon:Nt,color:"from-teal-400 to-cyan-500",emoji:"",grades:["5","6","7"],description:"Break numbers into prime factors",category:"advanced"},{id:"fractions",name:"Fractions",icon:mh,color:"from-pink-400 to-rose-500",emoji:"",grades:["3","4","5","6"],description:"Work with fractions",category:"advanced"},{id:"fractions_equivalent",name:"Equivalent Fractions",icon:mh,color:"from-rose-400 to-pink-500",emoji:"",grades:["3","4","5"],description:"Find equivalent fractions",category:"advanced"},{id:"fractions_simplify",name:"Simplifying Fractions",icon:mh,color:"from-pink-400 to-purple-500",emoji:"",grades:["4","5","6"],description:"Reduce fractions to lowest terms",category:"advanced"},{id:"fractions_compare",name:"Comparing Fractions",icon:mr,color:"from-purple-400 to-pink-500",emoji:"",grades:["3","4","5"],description:"Compare and order fractions",category:"advanced"},{id:"fractions_add_subtract",name:"Adding/Subtracting Fractions",icon:Fn,color:"from-pink-400 to-rose-500",emoji:"",grades:["4","5","6"],description:"Add and subtract fractions",category:"advanced"},{id:"fractions_multiply_divide",name:"Multiplying/Dividing Fractions",icon:Sn,color:"from-rose-400 to-red-500",emoji:"",grades:["5","6","7"],description:"Multiply and divide fractions",category:"advanced"},{id:"mixed_numbers",name:"Mixed Numbers",icon:mh,color:"from-purple-400 to-indigo-500",emoji:"",grades:["4","5","6"],description:"Work with mixed numbers",category:"advanced"},{id:"decimals",name:"Decimals",icon:hp,color:"from-teal-400 to-cyan-500",emoji:"0.5",grades:["4","5","6","7"],description:"Understand decimals",category:"advanced"},{id:"decimals_place_value",name:"Decimal Place Value",icon:gi,color:"from-cyan-400 to-blue-500",emoji:"",grades:["4","5"],description:"Tenths, hundredths, thousandths",category:"advanced"},{id:"decimals_compare",name:"Comparing Decimals",icon:mr,color:"from-blue-400 to-indigo-500",emoji:"",grades:["4","5","6"],description:"Compare and order decimals",category:"advanced"},{id:"decimals_operations",name:"Decimal Operations",icon:_u,color:"from-teal-500 to-cyan-600",emoji:"",grades:["5","6","7"],description:"Add, subtract, multiply, divide",category:"advanced"},{id:"percentages",name:"Percentages",icon:mh,color:"from-indigo-400 to-purple-500",emoji:"%",grades:["5","6","7","8"],description:"Calculate percentages",category:"advanced"},{id:"percent_of_number",name:"Percent of a Number",icon:mh,color:"from-purple-400 to-pink-500",emoji:"%",grades:["6","7","8"],description:"Find percentage of numbers",category:"advanced"},{id:"percent_increase_decrease",name:"Percent Change",icon:mr,color:"from-pink-400 to-rose-500",emoji:"",grades:["6","7","8"],description:"Calculate percent increase/decrease",category:"advanced"},{id:"ratios",name:"Ratios & Proportions",icon:mr,color:"from-orange-400 to-red-500",emoji:"",grades:["6","7","8"],description:"Compare quantities",category:"advanced"},{id:"integers",name:"Integers",icon:Lj,color:"from-gray-400 to-slate-500",emoji:"",grades:["6","7","8"],description:"Positive & negative numbers",category:"advanced"},{id:"absolute_value",name:"Absolute Value",icon:Lj,color:"from-slate-400 to-gray-500",emoji:"||",grades:["6","7","8"],description:"Distance from zero",category:"advanced"},{id:"exponents",name:"Exponents",icon:mr,color:"from-purple-400 to-pink-500",emoji:"",grades:["6","7","8"],description:"Powers and square roots",category:"advanced"},{id:"scientific_notation",name:"Scientific Notation",icon:qn,color:"from-blue-400 to-indigo-500",emoji:"",grades:["7","8"],description:"Express very large/small numbers",category:"advanced"},{id:"word_problems",name:"Word Problems",icon:ks,color:"from-amber-400 to-yellow-500",emoji:"",grades:["2","3","4","5","6"],description:"Solve real-world problems",category:"applied"},{id:"word_problems_addition",name:"Addition Word Problems",icon:Fn,color:"from-green-400 to-teal-500",emoji:"",grades:["1","2","3"],description:"Story problems with addition",category:"applied"},{id:"word_problems_subtraction",name:"Subtraction Word Problems",icon:oc,color:"from-blue-400 to-cyan-500",emoji:"",grades:["1","2","3"],description:"Story problems with subtraction",category:"applied"},{id:"word_problems_multiplication",name:"Multiplication Word Problems",icon:Sn,color:"from-purple-400 to-pink-500",emoji:"",grades:["3","4","5"],description:"Story problems with multiplication",category:"applied"},{id:"word_problems_multi_step",name:"Multi-Step Word Problems",icon:ks,color:"from-orange-400 to-red-500",emoji:"",grades:["4","5","6","7"],description:"Complex story problems",category:"applied"},{id:"money",name:"Money Math",icon:hp,color:"from-green-500 to-emerald-600",emoji:"",grades:["1","2","3","4","5"],description:"Count coins and bills",category:"applied"},{id:"money_counting",name:"Counting Money",icon:hp,color:"from-emerald-400 to-green-500",emoji:"",grades:["1","2","3"],description:"Count and compare money",category:"applied"},{id:"money_change",name:"Making Change",icon:hp,color:"from-green-500 to-teal-600",emoji:"",grades:["2","3","4"],description:"Calculate change from purchases",category:"applied"},{id:"money_decimals",name:"Money with Decimals",icon:hp,color:"from-teal-400 to-cyan-500",emoji:"",grades:["3","4","5"],description:"Work with dollars and cents",category:"applied"},{id:"time",name:"Time",icon:wr,color:"from-sky-400 to-blue-500",emoji:"",grades:["1","2","3","4"],description:"Read clocks and calendars",category:"applied"},{id:"time_telling",name:"Telling Time",icon:wr,color:"from-blue-400 to-indigo-500",emoji:"",grades:["1","2","3"],description:"Read analog and digital clocks",category:"applied"},{id:"time_elapsed",name:"Elapsed Time",icon:wr,color:"from-indigo-400 to-purple-500",emoji:"",grades:["3","4","5"],description:"Calculate time intervals",category:"applied"},{id:"time_calendar",name:"Calendar Math",icon:Wr,color:"from-purple-400 to-pink-500",emoji:"",grades:["2","3","4"],description:"Days, weeks, months, years",category:"applied"},{id:"measurement",name:"Measurement",icon:mr,color:"from-lime-400 to-green-500",emoji:"",grades:["2","3","4","5","6"],description:"Length, weight, volume",category:"applied"},{id:"measurement_length",name:"Measuring Length",icon:mr,color:"from-green-400 to-teal-500",emoji:"",grades:["2","3","4"],description:"Inches, feet, yards, miles",category:"applied"},{id:"measurement_metric",name:"Metric Measurement",icon:mr,color:"from-teal-400 to-cyan-500",emoji:"",grades:["3","4","5"],description:"Meters, liters, grams",category:"applied"},{id:"measurement_conversions",name:"Unit Conversions",icon:mr,color:"from-cyan-400 to-blue-500",emoji:"",grades:["4","5","6"],description:"Convert between units",category:"applied"},{id:"temperature",name:"Temperature",icon:mr,color:"from-red-400 to-orange-500",emoji:"",grades:["3","4","5"],description:"Fahrenheit and Celsius",category:"applied"},{id:"geometry",name:"Geometry",icon:Yl,color:"from-violet-400 to-purple-500",emoji:"",grades:["3","4","5","6","7"],description:"Shapes and measurements",category:"applied"},{id:"geometry_shapes",name:"2D Shapes",icon:Yl,color:"from-purple-400 to-indigo-500",emoji:"",grades:["K","1","2","3"],description:"Identify and classify shapes",category:"applied"},{id:"geometry_3d",name:"3D Shapes",icon:Yl,color:"from-indigo-400 to-blue-500",emoji:"",grades:["2","3","4","5"],description:"Cubes, spheres, pyramids",category:"applied"},{id:"area_perimeter",name:"Area & Perimeter",icon:gi,color:"from-cyan-400 to-blue-500",emoji:"",grades:["3","4","5","6"],description:"Calculate area & perimeter",category:"applied"},{id:"volume",name:"Volume",icon:Yl,color:"from-blue-400 to-indigo-500",emoji:"",grades:["5","6","7"],description:"Calculate volume of 3D shapes",category:"applied"},{id:"surface_area",name:"Surface Area",icon:Yl,color:"from-indigo-400 to-purple-500",emoji:"",grades:["6","7","8"],description:"Calculate surface area",category:"applied"},{id:"angles",name:"Angles",icon:Yl,color:"from-pink-400 to-rose-500",emoji:"",grades:["4","5","6","7"],description:"Measure and identify angles",category:"applied"},{id:"circles",name:"Circles",icon:Yl,color:"from-rose-400 to-pink-500",emoji:"",grades:["5","6","7"],description:"Radius, diameter, circumference",category:"applied"},{id:"pythagorean",name:"Pythagorean Theorem",icon:Yl,color:"from-purple-400 to-indigo-500",emoji:"",grades:["7","8"],description:"Right triangle calculations",category:"applied"},{id:"coordinates",name:"Coordinate Plane",icon:gi,color:"from-blue-400 to-purple-500",emoji:"",grades:["5","6","7","8"],description:"Plot points on graphs",category:"applied"},{id:"data_graphs",name:"Data & Graphs",icon:mf,color:"from-green-400 to-teal-500",emoji:"",grades:["3","4","5","6","7"],description:"Read and create charts",category:"applied"},{id:"probability",name:"Probability",icon:Qt,color:"from-red-400 to-orange-500",emoji:"",grades:["5","6","7","8"],description:"Predict outcomes and chances",category:"applied"},{id:"basic_algebra",name:"Basic Algebra",icon:_u,color:"from-indigo-400 to-blue-500",emoji:"",grades:["6","7","8"],description:"Solve for x, variables",category:"algebra"},{id:"equations",name:"Linear Equations",icon:_u,color:"from-purple-400 to-indigo-500",emoji:"",grades:["6","7","8"],description:"Solve linear equations",category:"algebra"},{id:"inequalities",name:"Inequalities",icon:mr,color:"from-blue-400 to-cyan-500",emoji:"",grades:["6","7","8"],description:"Solve and graph inequalities",category:"algebra"},{id:"expressions",name:"Algebraic Expressions",icon:_u,color:"from-cyan-400 to-blue-500",emoji:"",grades:["6","7","8"],description:"Simplify and evaluate expressions",category:"algebra"},{id:"systems_equations",name:"Systems of Equations",icon:gi,color:"from-purple-400 to-pink-500",emoji:"",grades:["7","8"],description:"Solve systems with two variables",category:"algebra"},{id:"polynomials",name:"Polynomials",icon:_u,color:"from-indigo-400 to-purple-500",emoji:"",grades:["7","8"],description:"Add, subtract, multiply polynomials",category:"algebra"},{id:"factoring",name:"Factoring",icon:gi,color:"from-purple-400 to-indigo-500",emoji:"",grades:["7","8"],description:"Factor polynomials",category:"algebra"},{id:"quadratic",name:"Quadratic Equations",icon:_u,color:"from-pink-400 to-purple-500",emoji:"",grades:["8"],description:"Solve quadratic equations",category:"algebra"},{id:"mixed",name:"Mixed Practice",icon:mn,color:"from-fuchsia-400 to-pink-500",emoji:"",grades:["3","4","5","6","7","8"],description:"Combine multiple skills",category:"challenge"},{id:"mental_math",name:"Mental Math",icon:mn,color:"from-yellow-400 to-orange-500",emoji:"",grades:["2","3","4","5","6"],description:"Fast calculations",category:"challenge"},{id:"speed_challenge",name:"Speed Challenge",icon:qn,color:"from-red-400 to-orange-500",emoji:"",grades:["3","4","5","6","7"],description:"Race against the clock",category:"challenge"},{id:"logic_puzzles",name:"Logic Puzzles",icon:mn,color:"from-purple-400 to-indigo-500",emoji:"",grades:["4","5","6","7","8"],description:"Mathematical reasoning",category:"challenge"},{id:"competition_math",name:"Competition Math",icon:Ct,color:"from-yellow-400 to-orange-500",emoji:"",grades:["5","6","7","8"],description:"Advanced problem solving",category:"challenge"}],N1e=[{id:"easy",name:"Easy",color:"bg-green-500",description:"Perfect for beginners!",grades:["K","1","2"]},{id:"medium",name:"Medium",color:"bg-yellow-500",description:"Getting challenging!",grades:["3","4","5"]},{id:"hard",name:"Hard",color:"bg-red-500",description:"For math champions!",grades:["5","6","7"]},{id:"expert",name:"Expert",color:"bg-purple-500",description:"Master level!",grades:["7","8"]}],u6=({children:t,className:e=""})=>a.jsx("label",{className:`text-sm font-medium ${e}`,children:t});function $P(){const[t,e]=S.useState("all"),[r,n]=S.useState("all"),{data:i=[]}=ut({queryKey:["gameProgress"],queryFn:()=>base44.entities.GameProgress.list(),initialData:[]}),{data:s}=ut({queryKey:["currentUser"]}),{data:o=[]}=ut({queryKey:["myTeamChallenges"],queryFn:async()=>(await base44.entities.TeamChallenge.list()).filter(E=>{var N;return(((N=E.team_members)==null?void 0:N.includes(s.email))||E.creator_email===s.email)&&!E.is_completed}),initialData:[],enabled:!!s}),l=()=>i.reduce((C,E)=>C+(E.stars_earned||0),0),c=(C,E)=>{const N=i.find(O=>O.operation===C&&O.level===E);return(N==null?void 0:N.stars_earned)||0},d=C=>C==="easy"?!0:C==="medium"?i.some(E=>E.level==="easy"&&E.stars_earned>=2):C==="hard"?i.some(E=>E.level==="medium"&&E.stars_earned>=2):C==="expert"?i.some(E=>E.level==="hard"&&E.stars_earned>=3):!1,f=(s==null?void 0:s.parental_controls)||{},m=f.allowed_operations||mN.map(C=>C.id),p=f.allowed_levels||["easy","medium","hard","expert"],v=f.focus_operations||[],w=C=>m.includes(C),x=C=>p.includes(C),g=(s==null?void 0:s.subscription_tier)||"free",_=g!=="free",T=s!=null&&s.subscription_expires_at?new Date(s.subscription_expires_at):null,P=T?Math.ceil((T-new Date)/(1e3*60*60*24)):0,I=mN.filter(C=>!(t!=="all"&&!C.grades.includes(t)||r!=="all"&&C.category!==r)),A=["K","1","2","3","4","5","6","7","8"];return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-block mb-6 animate-bounce",children:a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-2xl",children:a.jsx("span",{className:"text-5xl",children:""})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Welcome to Math Adventure!"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Choose your challenge and start learning!"}),a.jsxs("div",{className:"inline-flex items-center gap-2 bg-white rounded-full px-6 py-3 shadow-lg",children:[a.jsx(Nt,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"}),a.jsx("span",{className:"text-2xl font-bold text-gray-800",children:l()}),a.jsx("span",{className:"text-gray-600",children:"Total Stars"})]})]}),_?a.jsx(te,{className:"mb-8 border-4 border-green-400 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(bi,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[g==="premium_parent"?"Premium Parent":g==="premium_player"?"Premium Player":"Family/Teacher"," Active"]}),a.jsx(je,{className:"bg-green-500 text-white",children:"Premium"})]}),a.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx(Wr,{className:"w-4 h-4"}),T&&`Renews ${ur(T,"MMM d, yyyy")}  ${P} days left`]})]})]}),a.jsxs(oe,{onClick:()=>window.open(Je("Subscription"),"_blank","noopener,noreferrer"),className:"h-12 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",children:[a.jsx($w,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})]})})}):a.jsx(te,{className:"mb-8 border-4 border-purple-300 shadow-xl bg-gradient-to-r from-purple-50 to-pink-50",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(Yt,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Unlock Premium Features!"}),a.jsx("p",{className:"text-gray-600",children:"Get unlimited access, exclusive content, and advanced controls"})]})]}),a.jsxs(oe,{onClick:()=>window.open(Je("Subscription"),"_blank","noopener,noreferrer"),className:"h-12 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 animate-pulse",children:[a.jsx(bi,{className:"w-5 h-5 mr-2"}),"Upgrade Now"]})]})})}),v.length>0&&a.jsxs(ze,{className:"mb-8 bg-purple-50 border-purple-300",children:[a.jsx(em,{className:"w-4 h-4 text-purple-600"}),a.jsxs(We,{className:"text-purple-800",children:[a.jsx("strong",{children:"Practice Recommendation:"})," Your parent suggests focusing on"," ",v.map((C,E)=>{var N;return a.jsxs("span",{children:[a.jsx("strong",{children:((N=mN.find(O=>O.id===C))==null?void 0:N.name)||C}),E<v.length-1&&(E===v.length-2?" and ":", ")]},C)}),". Try playing those games more!"]})]}),a.jsx("div",{className:"mb-12",children:a.jsx(j1e,{})}),o.length>0&&a.jsx(te,{className:"mb-12 border-4 border-green-300 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(yn,{className:"w-12 h-12 text-green-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Active Team Challenges!"}),a.jsx("p",{className:"text-gray-600",children:"Work together with friends and family"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(je,{className:"bg-green-500 text-white text-lg px-4 py-2",children:[o.length," Active"]}),a.jsx(Ht,{to:Je("TeamChallenges"),children:a.jsxs(oe,{className:"h-12 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:[a.jsx(yn,{className:"w-5 h-5 mr-2"}),"View Team Challenges"]})})]})]})})}),a.jsx(te,{className:"mb-12 border-4 border-orange-300 shadow-xl bg-gradient-to-r from-orange-50 to-red-50",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Ct,{className:"w-12 h-12 text-orange-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Weekly Tournament Active!"}),a.jsx("p",{className:"text-gray-600",children:"Compete for 50 bonus stars and exclusive badges"})]})]}),a.jsx(Ht,{to:Je("Leaderboards"),children:a.jsxs(oe,{className:"h-12 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",children:[a.jsx(Gn,{className:"w-5 h-5 mr-2"}),"View Leaderboards"]})})]})})}),a.jsx(te,{className:"mb-8 border-4 border-blue-300 shadow-xl bg-gradient-to-r from-blue-50 to-purple-50",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(mn,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"AI Math Tutor"}),a.jsxs(je,{className:"bg-blue-500 text-white",children:[a.jsx(Yt,{className:"w-3 h-3 mr-1"}),"New!"]})]}),a.jsx("p",{className:"text-gray-600",children:"Get instant help with step-by-step explanations when you need it!"})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl border-2 border-blue-200 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:""}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Adaptive Learning"})]})]})})}),a.jsx(te,{className:"mb-8 border-4 border-purple-300 shadow-xl bg-gradient-to-r from-purple-50 to-pink-50",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(ld,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Color by Numbers"}),a.jsxs(je,{className:"bg-purple-500 text-white",children:[a.jsx(Yt,{className:"w-3 h-3 mr-1"}),"New Game!"]})]}),a.jsx("p",{className:"text-gray-600",children:"Solve math problems while creating colorful artwork!"})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(Ht,{to:Je("ColorByNumbers?operation=addition&level=easy"),children:a.jsxs(oe,{className:"h-12 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(ld,{className:"w-5 h-5 mr-2"}),"Try It Now!"]})})})]})})}),a.jsxs(te,{className:"mb-8 border-2 border-gray-200",children:[a.jsx(_e,{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(ks,{className:"w-6 h-6 text-gray-700"}),"Browse by Grade Level & Category (",I.length," Games)"]})}),a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(u6,{className:"mb-3 block font-bold text-gray-700",children:"Grade Level"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(oe,{variant:t==="all"?"default":"outline",size:"sm",onClick:()=>e("all"),className:t==="all"?"bg-purple-500 text-white hover:bg-purple-600":"",children:"All Grades"}),A.map(C=>a.jsxs(oe,{variant:t===C?"default":"outline",size:"sm",onClick:()=>e(C),className:t===C?"bg-purple-500 text-white hover:bg-purple-600":"",children:["Grade ",C]},C))]})]}),a.jsxs("div",{children:[a.jsx(u6,{className:"mb-3 block font-bold text-gray-700",children:"Category"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(oe,{variant:r==="all"?"default":"outline",size:"sm",onClick:()=>n("all"),className:r==="all"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"All"}),a.jsx(oe,{variant:r==="basics"?"default":"outline",size:"sm",onClick:()=>n("basics"),className:r==="basics"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Basics"}),a.jsx(oe,{variant:r==="core"?"default":"outline",size:"sm",onClick:()=>n("core"),className:r==="core"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Core Operations"}),a.jsx(oe,{variant:r==="advanced"?"default":"outline",size:"sm",onClick:()=>n("advanced"),className:r==="advanced"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Advanced"}),a.jsx(oe,{variant:r==="applied"?"default":"outline",size:"sm",onClick:()=>n("applied"),className:r==="applied"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Applied"}),a.jsx(oe,{variant:r==="algebra"?"default":"outline",size:"sm",onClick:()=>n("algebra"),className:r==="algebra"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Algebra"}),a.jsx(oe,{variant:r==="challenge"?"default":"outline",size:"sm",onClick:()=>n("challenge"),className:r==="challenge"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Challenge"})]})]})]})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(Yt,{className:"w-6 h-6 text-purple-500"}),"Math Games (",I.length,")"]}),I.length===0?a.jsxs(te,{className:"p-12 text-center",children:[a.jsx("p",{className:"text-xl text-gray-600",children:"No games match your filters"}),a.jsx(oe,{onClick:()=>{e("all"),n("all")},className:"mt-4",children:"Clear Filters"})]}):a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:I.map(C=>{const E=w(C.id),N=v.includes(C.id);return a.jsxs(te,{className:`overflow-hidden transition-all duration-300 border-2 ${E?N?"border-purple-400 ring-2 ring-purple-200 hover:shadow-xl":"hover:shadow-xl hover:border-purple-300":"opacity-50 cursor-not-allowed"}`,children:[a.jsxs("div",{className:`h-32 bg-gradient-to-br ${C.color} flex items-center justify-center relative`,children:[a.jsx("span",{className:"text-6xl",children:C.emoji}),N&&a.jsxs(je,{className:"absolute top-2 right-2 bg-purple-500 text-white",children:[a.jsx(Nt,{className:"w-3 h-3 mr-1 fill-white"}),"Focus"]}),!E&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:a.jsx(oi,{className:"w-12 h-12 text-white"})})]}),a.jsx(_e,{children:a.jsxs(Ne,{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-lg",children:C.name}),!E&&a.jsx(je,{variant:"outline",className:"bg-red-50 border-red-300 text-red-700 text-xs",children:"Locked"})]}),a.jsx("p",{className:"text-xs text-gray-600 font-normal",children:C.description}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:C.grades.map(O=>a.jsxs(je,{variant:"outline",className:"text-xs",children:["Grade ",O]},O))})]})}),a.jsx(re,{children:a.jsx("div",{className:"space-y-2",children:N1e.slice(0,3).map(O=>{const D=d(O.id),L=x(O.id),$=E&&L&&D,F=c(C.id,O.id);return a.jsx(Ht,{to:$?Je(`Game?operation=${C.id}&level=${O.id}`):"#",className:`block ${!$&&"pointer-events-none"}`,children:a.jsxs(oe,{variant:"outline",className:`w-full justify-between text-sm ${!$&&"opacity-50"}`,disabled:!$,size:"sm",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(je,{className:`${O.color} text-xs`,children:O.name}),!D&&a.jsx(oi,{className:"w-3 h-3"}),!L&&E&&a.jsx(je,{variant:"outline",className:"text-xs",children:"Restricted"})]}),a.jsx("div",{className:"flex gap-1",children:[1,2,3].map(G=>a.jsx(Nt,{className:`w-3 h-3 ${F>=G?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},G))})]})},O.id)})})})]},C.id)})})]}),a.jsxs(te,{className:"bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""}),"How to Play"]})}),a.jsxs(re,{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:"1"}),a.jsx("h3",{className:"font-bold mb-1",children:"Choose Your Challenge"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pick from 30+ math games and difficulty level"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:"2"}),a.jsx("h3",{className:"font-bold mb-1",children:"Solve Problems"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Answer 10 questions as fast as you can"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:"3"}),a.jsx("h3",{className:"font-bold mb-1",children:"Earn Stars"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get stars based on your performance!"})]})]})]})]})}const pN={};function S1e(t="en-US",e=!0){if(pN[t])return pN[t];const r=window.speechSynthesis.getVoices();let n=r.find(i=>i.lang===t&&(!e||i.name.toLowerCase().includes("child")));return n||(n=r.find(i=>i.lang===t)),pN[t]=n,n}function Vn({text:t,lang:e="en-US",style:r="button",label:n=" Listen",pitch:i=1.1,rate:s=.9}){const o=S.useRef(null),l=()=>{if(!("speechSynthesis"in window)){alert("Text-to-speech is not supported in this browser.");return}window.speechSynthesis.cancel();const f=new window.SpeechSynthesisUtterance(t);f.lang=e,f.pitch=i,f.rate=s,f.voice=S1e(e),o.current=f,window.speechSynthesis.speak(f)},c=()=>{window.speechSynthesis.cancel()};let d;return r==="badge"?d=a.jsx("span",{onClick:l,onDoubleClick:c,className:"inline-block px-2 py-1 bg-purple-100 text-purple-700 rounded cursor-pointer select-none",title:"Click to read aloud, double-click to stop",children:n}):r==="icon"?d=a.jsx("span",{onClick:l,onDoubleClick:c,className:"cursor-pointer",title:"Click to read aloud, double-click to stop",role:"img","aria-label":"Read aloud",children:""}):d=a.jsx("button",{type:"button",onClick:l,onDoubleClick:c,"aria-label":"Read aloud",className:"px-3 py-2 rounded bg-purple-100 hover:bg-purple-200 text-purple-700 font-semibold",children:n}),d}function yG({question:t,onAnswer:e,questionNumber:r}){const[n,i]=S.useState(null),[s,o]=S.useState(!1),l=c=>{s||(i(c),o(!0),setTimeout(()=>{e(c),i(null),o(!1)},500))};return a.jsxs(Wt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[a.jsxs(te,{className:"border-4 border-purple-200 shadow-2xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-sm mb-2 opacity-90",children:["Question ",r]}),a.jsxs("h2",{className:"text-5xl md:text-6xl font-bold flex items-center gap-2",children:[t.question,a.jsx(Vn,{text:t.question,style:"icon",label:"Read question"})]})]})}),a.jsx(re,{className:"p-8",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.options.map((c,d)=>{const f=c===t.answer,m=n===c;let p="text-2xl font-bold h-24 transition-all transform hover:scale-105";return s&&m&&(p+=f?" bg-green-500 text-white hover:bg-green-500 scale-110":" bg-red-500 text-white hover:bg-red-500 shake"),a.jsx(Wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},children:a.jsx(oe,{variant:"outline",className:p,onClick:()=>l(c),disabled:s,children:a.jsxs("span",{className:"flex items-center gap-2",children:[c,a.jsx(Vn,{text:c,style:"icon",label:`Read answer option ${d+1}`})]})})},d)})})})]}),a.jsx("div",{className:"mt-4 flex items-center gap-2",children:a.jsx(Vn,{text:`Question ${r}: ${t.question}. Possible answers are: ${t.options.join(", ")}.`,style:"button",label:"Read question summary"})})]})}function T1e({score:t,correctAnswers:e,totalQuestions:r,timeTaken:n,operation:i,level:s,coinsEarned:o=0,activePowerUps:l={}}){const c=Sd(),d=e/r*100;let f=0,m="",p="";return d>=90?(f=3,m="Outstanding! You're a math superstar!",p=""):d>=70?(f=2,m="Great job! Keep practicing!",p=""):d>=50?(f=1,m="Good effort! Try again to improve!",p=""):(f=0,m="Keep practicing! You'll get better!",p=""),a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsx(Wt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:a.jsxs(te,{className:"border-4 border-yellow-300 shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 py-12 text-white text-center",children:[a.jsx(Wt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"text-8xl mb-4",children:p}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-2 flex items-center gap-2",children:["Challenge Complete!",a.jsx(Vn,{text:"Challenge Complete!",style:"icon",label:"Read title"})]}),a.jsxs("p",{className:"text-xl flex items-center gap-2",children:[m,a.jsx(Vn,{text:m,style:"icon",label:"Read message"})]})]}),a.jsxs(re,{className:"p-8 space-y-6",children:[" ",a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[a.jsx(Ct,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),a.jsxs("div",{className:"text-3xl font-bold text-purple-600 flex items-center gap-2",children:[t,a.jsx(Vn,{text:`Your score is ${t}`,style:"icon",label:"Read score"})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[a.jsx(Qt,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),a.jsxs("div",{className:"text-3xl font-bold text-green-600 flex items-center gap-2",children:[e,"/",r,a.jsx(Vn,{text:`You got ${e} out of ${r} correct`,style:"icon",label:"Read correct answers"})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]}),a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[a.jsx(wr,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),a.jsxs("div",{className:"text-3xl font-bold text-blue-600 flex items-center gap-2",children:[n,"s",a.jsx(Vn,{text:`Time taken: ${n} seconds`,style:"icon",label:"Read time"})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Time"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl",children:[a.jsx(Nt,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500 fill-yellow-500"}),a.jsxs("div",{className:"text-3xl font-bold text-yellow-600 flex items-center gap-2",children:[f,a.jsx(Vn,{text:`You earned ${f} stars`,style:"icon",label:"Read stars"})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Stars"})]})]}),o>0&&a.jsx(te,{className:"border-2 border-cyan-300 bg-gradient-to-r from-cyan-50 to-blue-50",children:a.jsx(re,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full flex items-center justify-center",children:a.jsx(_c,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:["Coins Earned!",a.jsx(Vn,{text:`You earned ${o} coins!`,style:"icon",label:"Read coins"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Use them in the shop for power-ups"})]})]}),a.jsxs("div",{className:"text-3xl font-bold text-cyan-600 flex items-center gap-2",children:["+",o,a.jsx(Vn,{text:`Plus ${o} coins`,style:"icon",label:"Read coins"})]})]})})}),Object.keys(l).length>0&&a.jsxs(ze,{className:"bg-yellow-50 border-yellow-200",children:[a.jsx(Yt,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800 flex items-center gap-2",children:[a.jsx("strong",{children:"Power-ups were active!"})," Your rewards have been boosted!",a.jsx(Vn,{text:"Power-ups were active! Your rewards have been boosted!",style:"icon",label:"Read power-ups"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(oe,{variant:"outline",className:"flex-1 h-14 text-lg gap-2",onClick:()=>c(Je("Home")),children:[a.jsx(lx,{className:"w-5 h-5"}),"Back Home"]}),a.jsxs(oe,{variant:"outline",className:"flex-1 h-14 text-lg gap-2",onClick:()=>window.location.reload(),children:[a.jsx(Ak,{className:"w-5 h-5"}),"Try Again"]}),a.jsxs(oe,{className:"flex-1 h-14 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 gap-2",onClick:()=>c(Je("Progress")),children:["View Progress",a.jsx(T7,{className:"w-5 h-5"})]})]})]})]})})})}function vG(){const t=["","","","","",""];return a.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(20)].map((e,r)=>a.jsx(Wt.div,{initial:{x:Math.random()*window.innerWidth,y:-50,rotate:0,opacity:1},animate:{y:window.innerHeight+50,rotate:360,opacity:0},transition:{duration:2+Math.random()*2,ease:"linear"},className:"absolute text-4xl",children:t[Math.floor(Math.random()*t.length)]},r))})}function E1e({question:t,correctAnswer:e,userAnswer:r,operation:n,level:i,onContinue:s}){const[o,l]=S.useState(!1),[c,d]=S.useState(!1),[f,m]=S.useState(""),[p,v]=S.useState(""),[w,x]=S.useState(!1),[g,_]=S.useState(null),T=async()=>{x(!0),_(null);try{console.log(" Generating hint for:",t);const A=await base44.integrations.Core.InvokeLLM({prompt:`You are an expert elementary school math tutor who loves making math fun and easy to understand!

A student is working on: ${t}
- Their answer: ${r}
- Correct answer: ${e}
- Math operation: ${n}
- Difficulty level: ${i}

Create a friendly, encouraging hint (2-3 sentences) that:
- Guides them toward the RIGHT way to think about the problem
- Does NOT give away the answer directly
- Uses simple, clear language for kids
- Includes one emoji to make it friendly
- Focuses on the strategy or method, not the solution

Be encouraging and make them feel confident they can solve it!`});console.log(" Hint result received:",A),console.log(" Result type:",typeof A);let C="";if(typeof A=="string"?C=A:A&&typeof A=="object"&&(C=A.output||A.response||A.text||A.content||JSON.stringify(A)),console.log(" Extracted hint text:",C),!C||C.trim()==="")throw new Error("No hint text received from AI");m(C),l(!0);try{await base44.entities.TutorSession.create({question:t,correct_answer:e,user_answer:r,operation:n,level:i,hint_requested:!0,hint_text:C})}catch(E){console.error("Error saving tutor session:",E)}}catch(A){console.error(" Error generating hint:",A),_(A.message);const C=`Let's think about ${t} together! Try breaking it down into smaller steps. ${n==="addition"?"Add the ones first, then the tens.":n==="subtraction"?"Remember to borrow if you need to!":n==="multiplication"?"Think about groups of the same number.":"Think about dividing into equal groups!"} You can do this! `;m(C),l(!0)}x(!1)},P=async()=>{x(!0),_(null);try{console.log(" Generating explanation for:",t);const A=await base44.integrations.Core.InvokeLLM({prompt:`You are an expert elementary school math tutor creating a detailed, step-by-step explanation!

PROBLEM: ${t}
STUDENT'S ANSWER: ${r}
CORRECT ANSWER: ${e}
OPERATION: ${n}
LEVEL: ${i}

Create a comprehensive, engaging explanation with these sections:

** WHERE DID I GO WRONG?**
Explain in 1-2 sentences what mistake they likely made and why they got ${r} instead of ${e}. Be kind and understanding - everyone makes mistakes!

** LET'S SOLVE IT STEP-BY-STEP!**
Break down the solution into clear, numbered steps:
${n==="addition"?`
1. Write the numbers one above the other, lining up the place values
2. Add the ones place first
3. If the sum is 10 or more, carry the 1 to the tens place
4. Add the tens place (including any carried number)
5. Write your final answer`:n==="subtraction"?`
1. Write the larger number on top, smaller on bottom
2. Start with the ones place
3. If the top number is smaller, borrow from the tens place
4. Subtract the ones place
5. Move to the tens place and subtract
6. Write your final answer`:n==="multiplication"?`
1. Understand what ${t} means (groups of numbers)
2. Break down the problem if needed (like 12 = 10 + 2)
3. Multiply each part
4. Add the results together
5. Double-check your answer`:`1. Set up the division: ${t}
2. How many times does the divisor go into the dividend?
3. Multiply to check
4. Subtract to find remainder
5. Write your answer`}

** THE RIGHT ANSWER**
Show clearly that ${t} = ${e}

** QUICK TIP TO REMEMBER**
One practical tip or trick to help solve similar problems in the future.

** PRACTICE HELPS!**
One encouraging sentence about practicing this type of problem.

Use emojis throughout to make it fun and engaging! Keep language simple and encouraging for kids ages 7-12.`});console.log(" Explanation result received:",A),console.log(" Result type:",typeof A);let C="";if(typeof A=="string"?C=A:A&&typeof A=="object"&&(C=A.output||A.response||A.text||A.content||JSON.stringify(A)),console.log(" Extracted explanation text:",C),!C||C.trim()==="")throw new Error("No explanation text received from AI");v(C),d(!0);try{await base44.entities.TutorSession.create({question:t,correct_answer:e,user_answer:r,operation:n,level:i,explanation_viewed:!0,explanation_text:C})}catch(E){console.error("Error saving tutor session:",E)}}catch(A){console.error(" Error generating explanation:",A),_(A.message);const C=I(t,e,r,n);v(C),d(!0)}x(!1)},I=(A,C,E,N)=>{var F,G;const O=A.split(/[\+\-\]/),D=parseInt(((F=O[0])==null?void 0:F.trim())||0),L=parseInt(((G=O[1])==null?void 0:G.trim())||0);let $=`** WHERE DID I GO WRONG?**
`;return $+=`You got ${E}, but the correct answer is ${C}. Let's figure out why and learn from it!

`,$+=`** LET'S SOLVE IT STEP-BY-STEP!**

`,N==="addition"?($+=`1 Set up the problem: ${D} + ${L}
`,$+=`2 Add the ones place: ${D%10} + ${L%10} = ${D%10+L%10}
`,D%10+L%10>=10&&($+=`3 That's ${D%10+L%10}, so we carry the 1!
`),$+=`4 Add the tens place: ${Math.floor(D/10)} + ${Math.floor(L/10)} ${D%10+L%10>=10?"+ 1 (carried)":""}
`,$+=`5 Final answer: **${C}** 

`):N==="subtraction"?($+=`1 Set up the problem: ${D} - ${L}
`,$+=`2 Start with the ones place
`,D%10<L%10&&($+=`3 We need to borrow from the tens place!
`),$+=`4 Subtract: ${D} - ${L}
`,$+=`5 Final answer: **${C}** 

`):N==="multiplication"?($+=`1 Think: ${D} groups of ${L}
`,$+=`2 Or: ${D}  ${L}
`,(D>10||L>10)&&($+=`3 Break it down: (${Math.floor(D/10)*10} + ${D%10})  ${L}
`),$+=`4 Calculate: ${D}  ${L} = ${C}
`,$+=`5 Final answer: **${C}** 

`):N==="division"&&($+=`1 How many ${L}s fit into ${D}?
`,$+=`2 Count by ${L}s until you reach ${D}
`,$+=`3 Check: ${C}  ${L} = ${D}
`,$+=`4 Final answer: **${C}** 

`),$+=`** THE RIGHT ANSWER**
`,$+=`${A} = **${C}** 

`,$+=`** QUICK TIP TO REMEMBER**
`,N==="addition"?$+=`Always start with the ones place and work your way left. Don't forget to carry!

`:N==="subtraction"?$+=`If the top number is smaller, remember to borrow from the next column!

`:N==="multiplication"?$+=`Break big numbers into smaller parts to make multiplication easier!

`:$+=`Division is the opposite of multiplication - think about groups!

`,$+=`** PRACTICE HELPS!**
`,$+=`The more you practice ${N}, the easier it gets. You're doing great! Keep going! `,$};return a.jsx(Wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(te,{className:"max-w-2xl w-full border-4 border-blue-300 shadow-2xl max-h-[90vh] overflow-auto",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:a.jsxs(Ne,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:a.jsx(mn,{className:"w-7 h-7"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:"AI Math Tutor"}),a.jsxs(je,{variant:"secondary",className:"bg-white/20 text-white",children:[a.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Powered by AI"]})]}),a.jsx("p",{className:"text-sm opacity-90 font-normal mt-1",children:"Let's learn from this mistake together! "})]})]})}),a.jsxs(re,{className:"p-6 space-y-6",children:[a.jsx(ze,{className:"bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-200",children:a.jsx(We,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Question:"}),a.jsxs("span",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t,a.jsx(Vn,{text:t,style:"icon",label:"Read question"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(od,{className:"w-4 h-4 text-red-500"}),"Your answer:"]}),a.jsxs(je,{variant:"outline",className:"bg-red-100 border-red-300 text-red-700 text-lg flex items-center gap-2",children:[r,a.jsx(Vn,{text:r==null?void 0:r.toString(),style:"icon",label:"Read your answer"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(Ut,{className:"w-4 h-4 text-green-500"}),"Correct answer:"]}),a.jsxs(je,{className:"bg-green-500 text-white text-lg flex items-center gap-2",children:[e,a.jsx(Vn,{text:e==null?void 0:e.toString(),style:"icon",label:"Read correct answer"})]})]})]})})}),g&&a.jsxs(ze,{className:"bg-yellow-50 border-yellow-200",children:[a.jsx(em,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800",children:[a.jsx("strong",{children:"Note:"})," Using fallback explanation. ",g]})]}),a.jsx("div",{children:o?a.jsx(Wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:a.jsxs(te,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-300",children:[a.jsx(_e,{className:"pb-3",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(s3,{className:"w-5 h-5 text-yellow-600"}),"Hint"]})}),a.jsx(re,{children:a.jsxs("p",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed",children:[f,a.jsx(Vn,{text:f,style:"icon",label:"Read hint"})]})})]})}):a.jsx(oe,{onClick:T,disabled:w,className:"w-full h-16 text-lg bg-gradient-to-r from-yellow-400 to-orange-400 hover:from-yellow-500 hover:to-orange-500 text-gray-900",children:w?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-gray-900 border-t-transparent rounded-full mr-2"}),"Thinking..."]}):a.jsxs(a.Fragment,{children:[a.jsx(s3,{className:"w-6 h-6 mr-2"}),"Get a Hint"]})})}),o&&a.jsx("div",{children:c?a.jsx(Wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:a.jsxs(te,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300",children:[a.jsx(_e,{className:"pb-3",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(ks,{className:"w-5 h-5 text-blue-600"}),"Complete Solution"]})}),a.jsx(re,{children:a.jsx("div",{className:"prose prose-sm max-w-none",children:a.jsx("div",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed space-y-3",children:p.split(`

`).map((A,C)=>a.jsxs("div",{className:"mb-4",children:[a.jsx(Vn,{text:A.replace(/\*\*/g,""),style:"button",label:"Read solution section"}),A.split(`
`).map((E,N)=>E.startsWith("**")&&E.endsWith("**")?a.jsx("h4",{className:"font-bold text-lg mb-2 text-purple-700",children:E.replace(/\*\*/g,"")},N):/^\d+/.test(E)?a.jsx("div",{className:"flex gap-3 mb-2 bg-white p-2 rounded-lg",children:a.jsx("span",{className:"text-blue-600 font-bold",children:E})},N):E?a.jsx("p",{className:"mb-2",children:E},N):null)]},C))})})})]})}):a.jsx(oe,{onClick:P,disabled:w,className:"w-full h-16 text-lg bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:w?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Generating Explanation..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ks,{className:"w-6 h-6 mr-2"}),"Show Step-by-Step Solution"]})})}),a.jsx(ze,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200",children:a.jsxs(We,{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("p",{className:"font-medium text-gray-800",children:"Mistakes help us learn! Keep practicing and you'll get better every day!"})]})}),a.jsxs(oe,{onClick:s,className:"w-full h-14 text-lg bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:["I Understand! Continue",a.jsx(Pk,{className:"w-5 h-5 ml-2"})]})]})]})})}function P1e({adjustment:t,onClose:e}){const r={easier:{icon:Ic,color:"from-blue-400 to-cyan-400",title:"Let's Try Something Easier!",message:"Don't worry! I'm adjusting the difficulty to help you build confidence. You've got this! ",emoji:""},harder:{icon:mr,color:"from-purple-400 to-pink-400",title:"Level Up Challenge!",message:"Wow! You're doing amazing! Let's try some harder problems to keep you challenged! ",emoji:""},perfect:{icon:Gn,color:"from-yellow-400 to-orange-400",title:"Perfect Match!",message:"The difficulty is just right for you! Keep up the excellent work! ",emoji:""}},n=r[t]||r.perfect,i=n.icon;return a.jsx(Wt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:a.jsx(Wt.div,{initial:{y:-50},animate:{y:0},onClick:s=>s.stopPropagation(),children:a.jsx(te,{className:`max-w-md border-4 shadow-2xl bg-gradient-to-br ${n.color}`,children:a.jsxs(re,{className:"p-8 text-center text-white",children:[a.jsx(Wt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"text-7xl mb-4",children:n.emoji}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(i,{className:"w-6 h-6"}),a.jsx("h3",{className:"text-2xl font-bold",children:n.title})]}),a.jsx("p",{className:"text-lg opacity-95 mb-6",children:n.message}),a.jsxs(je,{className:"bg-white/20 text-white text-sm px-4 py-2",children:[a.jsx(i,{className:"w-4 h-4 mr-2"}),"AI Adaptive Learning"]}),a.jsx("p",{className:"text-xs mt-4 opacity-75",children:"Click anywhere to continue"})]})})})})}function A1e({operation:t=null}){var P;const[e,r]=S.useState(0),[n,i]=S.useState(!1),[s,o]=S.useState(!1),{data:l,refetch:c}=ut({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),d=ur(new Date,"yyyy-MM-dd"),f=(l==null?void 0:l.parental_controls)||{},m=(l==null?void 0:l.daily_usage_tracking)||{},p=m[d]||{total_minutes:0,by_operation:{}},v=f.daily_time_limit_minutes||0,w=f.enforce_time_limits!==!1,x=f.time_limit_warning_minutes||5,g=f.time_limits_by_operation||{};if(S.useEffect(()=>{var A;if(!w||v===0)return;const I=p.total_minutes||0;r(I),I>=v?o(!0):v-I<=x&&v-I>0&&i(!0),t&&g[t]&&(((A=p.by_operation)==null?void 0:A[t])||0)>=g[t]&&o(!0)},[l,t,w,v,x,g]),S.useEffect(()=>{if(!w||s)return;const I=setInterval(async()=>{var N;const A=Math.floor((p.total_minutes||0)+.016666666666666666),C=t?Math.floor((((N=p.by_operation)==null?void 0:N[t])||0)+1/60):0,E={...m,[d]:{total_minutes:A,by_operation:{...p.by_operation||{},...t?{[t]:C}:{}}}};try{await base44.auth.updateMe({daily_usage_tracking:E}),await c()}catch(O){console.error("Error updating time tracking:",O)}},6e4);return()=>clearInterval(I)},[w,s,t,p,m,c]),!w||v===0)return null;const _=Math.max(0,v-e),T=t&&g[t]?Math.max(0,g[t]-(((P=p.by_operation)==null?void 0:P[t])||0)):null;return s?a.jsxs(ze,{className:"mb-6 bg-red-50 border-red-300",children:[a.jsx(oi,{className:"w-5 h-5 text-red-600"}),a.jsxs(We,{className:"text-red-800",children:[a.jsx("strong",{className:"block mb-2",children:"Time Limit Reached"}),"You've used your allotted time for today. Come back tomorrow to continue learning!",t&&T===0&&g[t]&&a.jsxs("p",{className:"mt-2 text-sm",children:[t," time limit: ",g[t]," minutes reached"]}),a.jsx("div",{className:"mt-3 text-sm text-gray-600",children:"Time resets at midnight. See you tomorrow! "})]})]}):n&&_<=x?a.jsxs(ze,{className:"mb-6 bg-yellow-50 border-yellow-300",children:[a.jsx(zn,{className:"w-5 h-5 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800",children:[a.jsx("strong",{className:"block mb-2",children:"Time Running Out!"}),"You have ",a.jsxs("strong",{children:[_," minutes"]})," left to play today.",t&&T!==null&&T<_&&a.jsxs("p",{className:"mt-2",children:[t,": ",a.jsxs("strong",{children:[T," minutes"]})," left"]})]})]}):a.jsxs("div",{className:"mb-4 flex items-center justify-end gap-2 text-sm text-gray-600",children:[a.jsx(wr,{className:"w-4 h-4"}),a.jsxs("span",{children:[_," minutes remaining today"]})]})}const Ls=(t,e)=>({counting:C1e,number_comparison:k1e,place_value:I1e,patterns:O1e,rounding:R1e,addition:d6,subtraction:M1e,multiplication:D1e,division:L1e,factors_multiples:$1e,prime_composite:F1e,fractions:z1e,decimals:W1e,percentages:H1e,ratios:V1e,order_operations:B1e,integers:q1e,exponents:U1e,word_problems:G1e,money:K1e,time:Y1e,measurement:Q1e,geometry:X1e,area_perimeter:J1e,angles:Z1e,coordinates:e_e,data_graphs:t_e,probability:r_e,basic_algebra:xG,equations:n_e,mixed:i_e,mental_math:s_e}[t]||d6)(e);function C1e(t){const e={easy:{min:1,max:10},medium:{min:10,max:50},hard:{min:50,max:100}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.max-5))+r.min,i=n+Math.floor(Math.random()*5)+1;return{question:`Count: ${n}, ${n+1}, ?, ${n+3}`,answer:i,options:ho(i),explanation:`The pattern increases by 1 each time. After ${n+1} comes ${i}.`}}function k1e(t){const e={easy:{min:1,max:20},medium:{min:10,max:100},hard:{min:100,max:1e3}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.max-r.min))+r.min,i=Math.floor(Math.random()*(r.max-r.min))+r.min,s=[">","<","="],o=n>i?">":n<i?"<":"=",l=s.indexOf(o);return{question:`${n} ___ ${i}. Which symbol?`,answer:l,options:[0,1,2],optionsDisplay:[">","<","="],explanation:`${n} ${o} ${i}. ${n} is ${n>i?"greater than":n<i?"less than":"equal to"} ${i}.`}}function I1e(t){const e={easy:[{q:"What is the tens digit in 47?",a:4,opts:[4,7,47,0],exp:"In 47, the 4 is in the tens place and the 7 is in the ones place."},{q:"What is the ones digit in 53?",a:3,opts:[5,3,53,0],exp:"In 53, the 3 is in the ones place."},{q:"What number has 3 tens and 5 ones?",a:35,opts:[53,35,305,8],exp:"3 tens = 30, plus 5 ones = 35."}],medium:[{q:"What is the hundreds digit in 527?",a:5,opts:[5,2,7,527],exp:"In 527: 5 is hundreds, 2 is tens, 7 is ones."},{q:"What is 400 + 50 + 3?",a:453,opts:[345,453,534,4053],exp:"Add the place values: 400 + 50 + 3 = 453."},{q:"Which digit is in the tens place in 684?",a:8,opts:[6,8,4,68],exp:"In 684: 6 is hundreds, 8 is tens, 4 is ones."}],hard:[{q:"What is 3000 + 200 + 40 + 5?",a:3245,opts:[3245,32405,3254,2345],exp:"Adding place values: 3000 + 200 + 40 + 5 = 3245."},{q:"What is the thousands digit in 7,842?",a:7,opts:[7,8,4,2],exp:"In 7,842: 7 is thousands place."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function O1e(t){const e={easy:[{q:"2, 4, 6, 8, ?",a:10,opts:[9,10,11,12],exp:"Pattern: +2 each time. 8 + 2 = 10."},{q:"5, 10, 15, 20, ?",a:25,opts:[22,24,25,30],exp:"Pattern: +5 each time. 20 + 5 = 25."},{q:"10, 9, 8, 7, ?",a:6,opts:[6,5,9,8],exp:"Pattern: -1 each time. 7 - 1 = 6."}],medium:[{q:"3, 6, 9, 12, ?",a:15,opts:[13,14,15,16],exp:"Pattern: +3 each time (multiples of 3). 12 + 3 = 15."},{q:"1, 4, 7, 10, ?",a:13,opts:[11,12,13,14],exp:"Pattern: +3 each time. 10 + 3 = 13."},{q:"50, 45, 40, 35, ?",a:30,opts:[30,32,25,28],exp:"Pattern: -5 each time. 35 - 5 = 30."}],hard:[{q:"2, 4, 8, 16, ?",a:32,opts:[20,24,32,28],exp:"Pattern: 2 each time (doubling). 16  2 = 32."},{q:"100, 50, 25, ?",a:12.5,opts:[12.5,12,15,10],exp:"Pattern: 2 each time (halving). 25  2 = 12.5."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function R1e(t){const e={easy:[{q:"Round 14 to the nearest 10",a:10,opts:[10,15,20,14],exp:"14 is closer to 10 than 20, so round down to 10."},{q:"Round 27 to the nearest 10",a:30,opts:[20,25,27,30],exp:"27 is closer to 30 than 20, so round up to 30."},{q:"Round 45 to the nearest 10",a:50,opts:[40,45,50,55],exp:"45 is exactly halfway, so round up to 50."}],medium:[{q:"Round 247 to the nearest 100",a:200,opts:[200,250,300,240],exp:"247 is closer to 200 than 300."},{q:"Round 682 to the nearest 100",a:700,opts:[600,680,700,800],exp:"682 is closer to 700 than 600."}],hard:[{q:"Round 4,567 to the nearest 1,000",a:5e3,opts:[4e3,4500,5e3,6e3],exp:"4,567 is closer to 5,000 than 4,000."},{q:"Round 12,345 to the nearest 10,000",a:1e4,opts:[1e4,12e3,13e3,2e4],exp:"12,345 is closer to 10,000 than 20,000."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function d6(t){const e={easy:{min:1,max:10},medium:{min:10,max:50},hard:{min:50,max:200},expert:{min:100,max:1e3}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.max-r.min+1))+r.min,i=Math.floor(Math.random()*(r.max-r.min+1))+r.min,s=n+i;return{question:`${n} + ${i}`,answer:s,options:ho(s),explanation:`To add ${n} + ${i}, combine the two numbers. The answer is ${s}.`}}function M1e(t){const e={easy:{min:5,max:20},medium:{min:20,max:100},hard:{min:100,max:500},expert:{min:500,max:2e3}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.max-r.min+1))+r.min,i=Math.floor(Math.random()*n)+1,s=n-i;return{question:`${n} - ${i}`,answer:s,options:ho(s),explanation:`To subtract ${i} from ${n}, the answer is ${s}.`}}function D1e(t){const e={easy:{min:1,max:10},medium:{min:2,max:12},hard:{min:6,max:20},expert:{min:11,max:50}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.max-r.min+1))+r.min,i=Math.floor(Math.random()*(r.max-r.min+1))+r.min,s=n*i;return{question:`${n}  ${i}`,answer:s,options:ho(s),explanation:`${n} times ${i} equals ${s}.`}}function L1e(t){const e={easy:{divisor:[2,3,4,5],quotient:[1,10]},medium:{divisor:[2,12],quotient:[1,20]},hard:{divisor:[5,25],quotient:[2,50]},expert:{divisor:[10,50],quotient:[5,100]}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.divisor[1]-r.divisor[0]+1))+r.divisor[0],i=Math.floor(Math.random()*(r.quotient[1]-r.quotient[0]+1))+r.quotient[0],s=n*i;return{question:`${s}  ${n}`,answer:i,options:ho(i),explanation:`${s} divided by ${n} equals ${i}.`}}function $1e(t){const e={easy:[{q:"What are the factors of 12?",a:6,opts:[4,5,6,7],exp:"12 has 6 factors: 1, 2, 3, 4, 6, 12."},{q:"What is a multiple of 5?",a:25,opts:[22,24,25,27],exp:"25 = 5  5, so 25 is a multiple of 5."},{q:"Is 15 a multiple of 3?",a:1,opts:[0,1],optionsDisplay:["No","Yes"],exp:"Yes! 15 = 3  5."}],medium:[{q:"What is the GCF of 12 and 18?",a:6,opts:[3,4,6,9],exp:"Factors of 12: 1,2,3,4,6,12. Factors of 18: 1,2,3,6,9,18. Greatest common is 6."},{q:"What is the LCM of 4 and 6?",a:12,opts:[10,12,18,24],exp:"Multiples of 4: 4,8,12... Multiples of 6: 6,12... Least common is 12."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,optionsDisplay:n.optionsDisplay,explanation:n.exp}}function F1e(t){const e=[2,3,5,7,11,13,17,19,23,29,31],r=[4,6,8,9,10,12,14,15,16,18,20,21];if(Math.random()>.5){const i=e[Math.floor(Math.random()*e.length)];return{question:`Is ${i} a prime number?`,answer:1,options:[0,1],optionsDisplay:["No","Yes"],explanation:`Yes! ${i} is prime. It can only be divided by 1 and ${i}.`}}else{const i=r[Math.floor(Math.random()*r.length)];return{question:`Is ${i} a prime number?`,answer:0,options:[0,1],optionsDisplay:["No","Yes"],explanation:`No! ${i} is composite. It has factors other than 1 and itself.`}}}function V1e(t){const e={easy:[{q:"Simplify the ratio 4:8",a:.5,opts:[.5,1,2,4],display:"1:2",exp:"Divide both by 4: 44 = 1, 84 = 2. Answer: 1:2"},{q:"If 2 apples cost $4, what do 4 apples cost?",a:8,opts:[6,7,8,10],exp:"2 apples = $4, so 4 apples = $4  2 = $8."}],medium:[{q:"In a class of 30, the ratio of boys to girls is 2:3. How many girls?",a:18,opts:[12,15,18,20],exp:"2+3=5 parts. 305=6 per part. Girls = 36 = 18."},{q:"Simplify 12:18",a:2,opts:[1,2,3,4],display:"2:3",exp:"Divide both by 6: 126 = 2, 186 = 3."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function B1e(t){const e={easy:[{q:"3 + 2  4 = ?",a:11,opts:[9,10,11,20],exp:"Order: Multiply first (24=8), then add (3+8=11)."},{q:"10 - 2  3 = ?",a:4,opts:[4,6,24,8],exp:"Order: Multiply first (23=6), then subtract (10-6=4)."}],medium:[{q:"(3 + 2)  4 = ?",a:20,opts:[11,14,20,24],exp:"Parentheses first: (3+2=5), then multiply (54=20)."},{q:"12  3 + 2 = ?",a:6,opts:[2,4,6,8],exp:"Division first: 123=4, then add: 4+2=6."}],hard:[{q:"2 + 3  (4 + 5) = ?",a:29,opts:[20,27,29,45],exp:"Parentheses: (4+5=9). Multiply: 39=27. Add: 2+27=29."},{q:"20 - 12  3 + 2 = ?",a:18,opts:[10,14,18,22],exp:"Divide: 123=4. Then left to right: 20-4+2 = 18."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function q1e(t){const e={easy:{min:-10,max:10},medium:{min:-50,max:50},hard:{min:-100,max:100}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.max-r.min+1))+r.min,i=Math.floor(Math.random()*(r.max-r.min+1))+r.min,s=n+i;return{question:`${n} + (${i})`,answer:s,options:ho(s),explanation:`Adding integers: ${n} + ${i} = ${s}.`}}function U1e(t){const e={easy:[{q:"What is 2?",a:4,opts:[2,3,4,8],exp:"2 means 2  2 = 4."},{q:"What is 3?",a:9,opts:[6,8,9,12],exp:"3 means 3  3 = 9."},{q:"What is 5?",a:25,opts:[10,20,25,30],exp:"5 means 5  5 = 25."}],medium:[{q:"What is 2?",a:8,opts:[6,7,8,9],exp:"2 means 2  2  2 = 8."},{q:"What is 4?",a:16,opts:[8,12,14,16],exp:"4 means 4  4 = 16."},{q:"What is 25?",a:5,opts:[4,5,6,7],exp:"25 = 5 because 5  5 = 25."}],hard:[{q:"What is 3?",a:27,opts:[9,18,27,36],exp:"3 means 3  3  3 = 27."},{q:"What is 64?",a:8,opts:[6,7,8,9],exp:"64 = 8 because 8  8 = 64."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function z1e(t){const e={easy:[{q:"What is 1/2 + 1/2?",a:1,opts:[0,1,2,3],exp:"1/2 + 1/2 = 2/2 = 1 whole."},{q:"What is 1/4 + 1/4?",a:.5,opts:[.25,.5,.75,1],exp:"1/4 + 1/4 = 2/4 = 1/2."}],medium:[{q:"What is 1/2 + 1/4?",a:.75,opts:[.5,.67,.75,1],exp:"1/2 = 2/4. Then 2/4 + 1/4 = 3/4."},{q:"What is 2/3 + 1/6?",a:.83,opts:[.67,.75,.83,1],exp:"2/3 = 4/6. Then 4/6 + 1/6 = 5/6."}],hard:[{q:"What is 2/3 + 3/4?",a:1.42,opts:[1.25,1.33,1.42,1.5],exp:"Common denominator 12: 8/12 + 9/12 = 17/12 = 1 5/12."},{q:"What is 3/4  2?",a:1.5,opts:[1,1.5,2,2.5],exp:"(3  2)/4 = 6/4 = 1 1/2."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function W1e(t){const e={easy:{min:.1,max:9.9,decimals:1},medium:{min:.01,max:99.9,decimals:2},hard:{min:.01,max:999.9,decimals:2}},r=e[t]||e.easy,n=parseFloat((Math.random()*(r.max-r.min)+r.min).toFixed(r.decimals)),i=parseFloat((Math.random()*(r.max-r.min)+r.min).toFixed(r.decimals)),s=Math.random()>.5?"+":"-",o=parseFloat(s==="+"?(n+i).toFixed(r.decimals):(Math.max(n,i)-Math.min(n,i)).toFixed(r.decimals));return{question:s==="+"?`${n} + ${i}`:`${Math.max(n,i)} - ${Math.min(n,i)}`,answer:o,options:ho(o,r.decimals),explanation:"Line up decimal points and calculate."}}function H1e(t){const e={easy:[{q:"What is 50% of 100?",a:50,opts:[25,50,75,100],exp:"50% = half. 100  2 = 50."},{q:"What is 25% of 100?",a:25,opts:[20,25,30,50],exp:"25% = 1/4. 100  4 = 25."}],medium:[{q:"What is 20% of 80?",a:16,opts:[12,16,20,24],exp:"20% = 0.20. 80  0.20 = 16."},{q:"What is 30% of 200?",a:60,opts:[50,60,70,80],exp:"30% = 0.30. 200  0.30 = 60."}],hard:[{q:"What is 15% of 250?",a:37.5,opts:[35,37.5,40,42.5],exp:"15% = 0.15. 250  0.15 = 37.5."},{q:"What is 65% of 180?",a:117,opts:[110,117,125,130],exp:"65% = 0.65. 180  0.65 = 117."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function G1e(t){const e={easy:[{template:"Sarah has {n1} apples. She buys {n2} more. How many now?",operation:"add",range:[1,10]},{template:"Tom has {n1} cookies. He eats {n2}. How many left?",operation:"subtract",range:[5,15]}],medium:[{template:"A box has {n1} items. Each costs ${n2}. Total cost?",operation:"multiply",range:[5,12]},{template:"{n1} students, groups of {n2}. How many groups?",operation:"divide",range:[4,12]}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)],i=Math.floor(Math.random()*n.range[1])+n.range[0],s=Math.floor(Math.random()*n.range[1])+n.range[0];let o,l=n.template.replace("{n1}",i).replace("{n2}",s);return n.operation==="add"?o=i+s:n.operation==="subtract"?o=i-s:n.operation==="multiply"?o=i*s:o=Math.floor(i/s),{question:l,answer:o,options:ho(o),explanation:"Solve step by step to find the answer."}}function K1e(t){const e={easy:[{q:"How many cents in $1?",a:100,opts:[50,75,100,125],exp:"$1 = 100 cents."},{q:"2 quarters = ? cents",a:50,opts:[25,50,75,100],exp:"Each quarter = 25. 2  25 = 50."}],medium:[{q:"Buy toy for $12.50, pay $20. Change?",a:7.5,opts:[6.5,7.5,8.5,9.5],exp:"$20.00 - $12.50 = $7.50."},{q:"Save $15/week. 4 weeks = ?",a:60,opts:[50,60,70,80],exp:"$15  4 = $60."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function Y1e(t){const e={easy:[{q:"How many minutes in 1 hour?",a:60,opts:[30,60,90,120],exp:"1 hour = 60 minutes."},{q:"30 minutes after 2:00 = ?",a:2.5,opts:[2,2.5,3,3.5],display:"2:30",exp:"2:00 + 30 min = 2:30."}],medium:[{q:"If it's 3:45, what time in 25 min?",a:4.17,opts:[4,4.17,4.5,5],display:"4:10",exp:"3:45 + 25 min = 4:10."},{q:"How many seconds in 5 minutes?",a:300,opts:[250,300,350,400],exp:"60  5 = 300 seconds."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function Q1e(t){const e={easy:[{q:"How many inches in 1 foot?",a:12,opts:[10,12,16,20],exp:"1 foot = 12 inches."},{q:"1000 grams = ? kilograms",a:1,opts:[.1,1,10,100],exp:"1000g = 1kg."}],medium:[{q:"How many cm in 2 meters?",a:200,opts:[20,100,200,2e3],exp:"1m = 100cm. 2m = 200cm."},{q:"1 liter = ? milliliters",a:1e3,opts:[10,100,1e3,1e4],exp:"1L = 1000mL."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function X1e(t){const e={easy:[{q:"How many sides in a triangle?",a:3,opts:[2,3,4,5],exp:"Triangle has 3 sides."},{q:"How many corners in a square?",a:4,opts:[3,4,5,6],exp:"Square has 4 corners."}],medium:[{q:"Area of rectangle 64?",a:24,opts:[20,24,28,32],exp:"Area = length  width = 6  4 = 24."},{q:"Circle radius 5, diameter?",a:10,opts:[8,10,12,15],exp:"Diameter = 2  radius = 2  5 = 10."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function J1e(t){const e={easy:[{q:"Perimeter of square, side 5?",a:20,opts:[15,20,25,30],exp:"Perimeter = 4  5 = 20."},{q:"Area of square, side 4?",a:16,opts:[8,12,16,20],exp:"Area = 4  4 = 16."}],medium:[{q:"Perimeter of rectangle 85?",a:26,opts:[24,26,28,30],exp:"Perimeter = 2(8+5) = 26."},{q:"Area of triangle, base 10, height 6?",a:30,opts:[25,30,35,40],exp:"Area = (106)2 = 30."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function Z1e(t){const e={easy:[{q:"How many degrees in a right angle?",a:90,opts:[45,90,180,360],exp:"Right angle = 90."},{q:"How many degrees in a straight line?",a:180,opts:[90,180,270,360],exp:"Straight line = 180."}],medium:[{q:"If one angle is 60, complementary angle?",a:30,opts:[30,60,90,120],exp:"Complementary angles sum to 90. 90 - 60 = 30."},{q:"If one angle is 120, supplementary angle?",a:60,opts:[30,60,90,120],exp:"Supplementary angles sum to 180. 180 - 120 = 60."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function e_e(t){const e=Math.floor(Math.random()*10)-5,r=Math.floor(Math.random()*10)-5,n=[{q:`Point (${e}, ${r}): What is the x-coordinate?`,a:e,exp:`In (${e}, ${r}), x = ${e}.`},{q:`Point (${e}, ${r}): What is the y-coordinate?`,a:r,exp:`In (${e}, ${r}), y = ${r}.`}],i=n[Math.floor(Math.random()*n.length)];return{question:i.q,answer:i.a,options:ho(i.a),explanation:i.exp}}function t_e(t){const e={easy:[{q:"Bar chart: A=5, B=3, C=7. Which is tallest?",a:2,opts:[0,1,2],optionsDisplay:["A","B","C"],exp:"C has value 7, which is highest."},{q:"Line plot: Mon=10, Tue=15, Wed=12. Which day had most?",a:1,opts:[0,1,2],optionsDisplay:["Mon","Tue","Wed"],exp:"Tuesday had 15, the highest value."}],medium:[{q:"Pie chart: 50% red, 30% blue, 20% green. Largest?",a:0,opts:[0,1,2],optionsDisplay:["Red","Blue","Green"],exp:"Red at 50% is largest."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,optionsDisplay:n.optionsDisplay,explanation:n.exp}}function r_e(t){const e={easy:[{q:"Flip a coin. Probability of heads?",a:.5,opts:[.25,.5,.75,1],display:"1/2",exp:"2 outcomes, 1 is heads. P = 1/2."},{q:"Roll a die. Probability of rolling 6?",a:.17,opts:[.17,.33,.5,.67],display:"1/6",exp:"6 outcomes, 1 is six. P = 1/6."}],medium:[{q:"Bag: 3 red, 2 blue. Probability of red?",a:.6,opts:[.2,.4,.6,.8],display:"3/5",exp:"5 total, 3 red. P = 3/5 = 0.6."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function xG(t){const e={easy:[{q:"Solve: x + 5 = 12",a:7,opts:[5,6,7,8],exp:"Subtract 5 from both sides: x = 12 - 5 = 7."},{q:"Solve: x - 3 = 10",a:13,opts:[7,10,13,16],exp:"Add 3 to both sides: x = 10 + 3 = 13."}],medium:[{q:"Solve: 2x = 16",a:8,opts:[6,7,8,9],exp:"Divide both sides by 2: x = 16  2 = 8."},{q:"Solve: x/3 = 5",a:15,opts:[2,8,15,18],exp:"Multiply both sides by 3: x = 5  3 = 15."}],hard:[{q:"Solve: 3x + 5 = 20",a:5,opts:[3,4,5,6],exp:"Subtract 5: 3x = 15. Divide by 3: x = 5."},{q:"Solve: 2x - 7 = 11",a:9,opts:[4,7,9,11],exp:"Add 7: 2x = 18. Divide by 2: x = 9."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function n_e(t){return xG(t)}function i_e(t){const e=["addition","subtraction","multiplication","division"],r=e[Math.floor(Math.random()*e.length)];return Ls(r,t)}function s_e(t){const e={easy:{min:1,max:20},medium:{min:10,max:50},hard:{min:20,max:100}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.max-r.min))+r.min,i=Math.floor(Math.random()*(r.max-r.min))+r.min,s=["+","-",""],o=s[Math.floor(Math.random()*s.length)];let l;return o==="+"?l=n+i:o==="-"?l=Math.abs(n-i):l=n*i,{question:`${n} ${o} ${i}`,answer:l,options:ho(l),explanation:`Quick calculation: ${l}`}}function ho(t,e=0){const r=[t],n=Math.max(Math.abs(t)*.3,5);for(;r.length<4;){const i=Math.random()*n*2-n;let s=t+i;e>0?s=parseFloat(s.toFixed(e)):s=Math.round(s),s>0&&!r.includes(s)&&s!==t&&r.push(s)}return r.sort(()=>Math.random()-.5)}function bG(){var Ae;const t=Sd(),e=vn(),r=new URLSearchParams(window.location.search),n=r.get("operation"),i=r.get("level"),[s,o]=S.useState(n),[l,c]=S.useState(i),[d,f]=S.useState(0),[m,p]=S.useState([]),[v,w]=S.useState([]),[x,g]=S.useState(0),[_,T]=S.useState(!1),[P,I]=S.useState(Date.now()),[A,C]=S.useState(!1),[E,N]=S.useState(0),[O,D]=S.useState(!1),[L,$]=S.useState(null),[F,G]=S.useState(!1),[Y,K]=S.useState(null),[X,U]=S.useState({}),[Q,ne]=S.useState(!1),W=10,{data:Z=[]}=ut({queryKey:["recentProgress"],queryFn:async()=>{const ve=cr(Bt),De=ha(An(ve,"gameProgress"),si("created_by","==","USER_EMAIL"));return(await Si(De)).docs.map(Be=>Be.data()).slice(0,5)},initialData:[]}),{data:ue}=ut({queryKey:["currentUser"],queryFn:async()=>(cr(Bt),null)}),le=(ue==null?void 0:ue.parental_controls)||{},be=le.focus_operations||[];le.focus_priority;const ge=le.focus_reminder_frequency||"never",me=le.allowed_operations||["addition","subtraction","multiplication","division"],Ie=le.allowed_levels||["easy","medium","hard","expert"],fe=ur(new Date,"yyyy-MM-dd"),Re=((ue==null?void 0:ue.daily_usage_tracking)||{})[fe]||{total_minutes:0,by_operation:{}},he=le.daily_time_limit_minutes||0,ot=le.time_limits_by_operation||{},et=le.enforce_time_limits!==!1,kt=me.includes(s),It=Ie.includes(l),Gt=et&&he>0&&(Re.total_minutes||0)>=he,Hr=et&&s&&ot[s]&&(((Ae=Re.by_operation)==null?void 0:Ae[s])||0)>=ot[s];S.useEffect(()=>{be.length>0&&ge==="every_session"&&!be.includes(s)&&ne(!0)},[s,be,ge]),S.useEffect(()=>{Ar(),I(Date.now())},[s,l]),S.useEffect(()=>{if(!_){const ve=setInterval(()=>{N(Math.floor((Date.now()-P)/1e3))},1e3);return()=>clearInterval(ve)}},[P,_]);const Ot=()=>{if(Z.length<3)return null;const ve=Z.map(st=>st.correct_answers/st.total_questions*100),De=ve.reduce((st,Be)=>st+Be,0)/ve.length;return De>=90&&l!=="expert"?"harder":De<60&&l!=="easy"?"easier":null},tr=ve=>{ve==="harder"?l==="easy"?c("medium"):l==="medium"?c("hard"):l==="hard"&&c("expert"):ve==="easier"&&(l==="expert"?c("hard"):l==="hard"?c("medium"):l==="medium"&&c("easy"))},Ar=()=>{const ve=[];for(let De=0;De<W;De++)ve.push(Ls(s,l));p(ve)},bn=(ve,De)=>{let st=ve*5;return De<60?st+=20:De<120&&(st+=10),ve===W&&(st+=30),X.double_coins&&(st*=2),st},fi=Pr({mutationFn:ve=>base44.entities.GameProgress.create(ve),onSuccess:(ve,De)=>{var jt;e.invalidateQueries({queryKey:["gameProgress"]}),e.invalidateQueries({queryKey:["recentProgress"]}),e.invalidateQueries({queryKey:["currentUser"]});const st=De.coins_earned||0,Be=((ue==null?void 0:ue.coins)||0)+st,gt=ue==null?void 0:ue.active_pet;if(gt){const _t=((jt=ue==null?void 0:ue.pet_experience)==null?void 0:jt[gt])||0,dr=De.correct_answers*10,In={...(ue==null?void 0:ue.pet_experience)||{},[gt]:_t+dr};base44.auth.updateMe({coins:Be,pet_experience:In})}else base44.auth.updateMe({coins:Be})}}),hs=ve=>{const De=ve===m[d].answer;w([...v,{question:d,correct:De}]),De?(g(x+10),C(!0),setTimeout(()=>C(!1),1e3),setTimeout(()=>{kn()},500)):($({question:m[d].question,correctAnswer:m[d].answer,userAnswer:ve,explanation:m[d].explanation}),D(!0))},kn=()=>{if(d<W-1){if(f(d+1),(d+1)%3===0){const ve=Ot();ve&&(K(ve),G(!0),tr(ve),setTimeout(()=>{Ar()},2e3))}}else Bs()},Bs=()=>{const ve=Math.floor((Date.now()-P)/1e3),De=v.filter(dr=>dr.correct).length;let st=x;X.double_stars&&(st*=2);let Be=0;const gt=De/W*100;gt>=90?Be=3:gt>=70?Be=2:gt>=50&&(Be=1),X.double_stars&&Be>0&&(Be=Math.min(Be*2,3));const jt=bn(De,ve),_t={addition:"Practice adding numbers accurately",subtraction:"Practice subtracting numbers accurately",multiplication:"Master multiplication facts and techniques",division:"Understand division and practice calculations",fractions:"Work with fractions - add, subtract, multiply, divide",decimals:"Practice decimal operations",percentages:"Calculate percentages",word_problems:"Apply math to real-world scenarios",money:"Work with dollars and cents",time:"Practice telling time and calculating elapsed time",geometry:"Understand shapes, area, perimeter, and volume",mixed:"Practice multiple operations"};fi.mutate({level:l,operation:s,score:st,correct_answers:De,total_questions:W,time_taken:ve,stars_earned:Be,coins_earned:jt,learning_objective:_t[s]||"Mathematical problem solving"}),setTimeout(()=>{T(!0)},500)},qs=()=>{D(!1),$(null),kn()};if(!s||!l)return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 text-center",children:[a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Invalid game configuration"}),a.jsx(oe,{onClick:()=>t(Je("Home")),children:"Go Back Home"})]});if(!kt||!It)return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsx(te,{className:"border-4 border-red-300 shadow-xl",children:a.jsxs(re,{className:"p-12 text-center",children:[a.jsx(oi,{className:"w-16 h-16 mx-auto mb-4 text-red-500"}),a.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-700",children:"Content Restricted"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:[!kt&&"This math concept is currently restricted by your parent.",!It&&kt&&"This difficulty level is currently restricted by your parent."]}),a.jsxs(oe,{onClick:()=>t(Je("Home")),children:[a.jsx(Yu,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})})});if(Gt||Hr)return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsx(te,{className:"border-4 border-orange-300 shadow-xl",children:a.jsxs(re,{className:"p-12 text-center",children:[a.jsx(wr,{className:"w-16 h-16 mx-auto mb-4 text-orange-500"}),a.jsx("h2",{className:"text-2xl font-bold mb-4 text-orange-700",children:"Time Limit Reached"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"You've used your allotted time for today. Great job practicing! Come back tomorrow to continue learning."}),a.jsx("div",{className:"text-sm text-gray-500 mb-6",children:"Time resets at midnight "}),a.jsxs(oe,{onClick:()=>t(Je("Home")),children:[a.jsx(Yu,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})})});if(m.length===0)return a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading your challenge..."})]})});if(_){const ve=v.filter(De=>De.correct).length;return a.jsx(T1e,{score:x,correctAnswers:ve,totalQuestions:W,timeTaken:E,operation:s,level:l,coinsEarned:bn(ve,E),activePowerUps:X})}const Pi=(d+1)/W*100;return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[A&&a.jsx(vG,{}),O&&L&&a.jsx(E1e,{question:L.question,correctAnswer:L.correctAnswer,userAnswer:L.userAnswer,explanation:L.explanation,operation:s,level:l,onContinue:qs}),F&&a.jsx(P1e,{adjustment:Y,onClose:()=>G(!1)}),Q&&a.jsxs(ze,{className:"mb-6 bg-purple-50 border-purple-300",children:[a.jsx(Qt,{className:"w-5 h-5 text-purple-600"}),a.jsxs(We,{className:"text-purple-800 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Parent Suggestion:"})," Your parent recommends focusing on"," ",be.join(", "),". Try playing those games!"]}),a.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>ne(!1),className:"ml-4 text-purple-700 hover:bg-purple-100",children:"Got it"})]})]}),a.jsx(A1e,{operation:s}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs(oe,{variant:"outline",onClick:()=>t(Je("Home")),className:"gap-2",children:[a.jsx(Yu,{className:"w-4 h-4"}),"Back"]}),a.jsxs("div",{className:"flex items-center gap-4",children:[Object.keys(X).length>0&&a.jsxs(je,{variant:"outline",className:"text-lg px-4 py-2 bg-yellow-50 border-yellow-300",children:[a.jsx(qn,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Power-Ups Active"]}),a.jsxs(je,{variant:"outline",className:"text-lg px-4 py-2 bg-white",children:[a.jsx(mn,{className:"w-5 h-5 mr-2 text-purple-500"}),"AI Tutor Active"]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-md",children:[a.jsx(wr,{className:"w-5 h-5 text-blue-500"}),a.jsxs("span",{className:"font-bold text-gray-800",children:[E,"s"]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-md",children:[a.jsx(Ct,{className:"w-5 h-5 text-yellow-500"}),a.jsx("span",{className:"font-bold text-gray-800",children:x})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Question ",d+1," of ",W]}),a.jsxs("span",{children:[Math.round(Pi),"%"]})]}),a.jsx(ol,{value:Pi,className:"h-3"})]})]}),m.length>0&&a.jsx(yG,{question:m[d],onAnswer:hs,questionNumber:d+1})]})}function a_e({progress:t}){const e=[{id:"first_game",name:"First Steps",description:"Complete your first game",icon:Nt,color:"from-blue-400 to-blue-600",unlocked:t.length>=1},{id:"ten_games",name:"Practice Makes Perfect",description:"Play 10 games",icon:qn,color:"from-yellow-400 to-orange-600",unlocked:t.length>=10},{id:"perfect_score",name:"Perfect Score",description:"Get 100% on any level",icon:Ct,color:"from-purple-400 to-pink-600",unlocked:t.some(r=>r.correct_answers/r.total_questions===1)},{id:"three_stars",name:"Star Collector",description:"Earn 3 stars in a game",icon:Nt,color:"from-yellow-400 to-yellow-600",unlocked:t.some(r=>r.stars_earned===3)},{id:"speed_demon",name:"Speed Demon",description:"Complete a game in under 60 seconds",icon:Ph,color:"from-red-400 to-orange-600",unlocked:t.some(r=>r.time_taken<60)},{id:"master",name:"Math Master",description:"Complete all operations on hard",icon:Gn,color:"from-indigo-400 to-purple-600",unlocked:["addition","subtraction","multiplication","division"].every(r=>t.some(n=>n.operation===r&&n.level==="hard"&&n.stars_earned>=2))}];return a.jsxs(te,{className:"mb-8",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"w-6 h-6 text-purple-500"}),"Achievements"]})}),a.jsx(re,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:e.map(r=>{const n=r.icon;return a.jsxs("div",{className:`text-center p-4 rounded-xl border-2 transition-all ${r.unlocked?"bg-gradient-to-br "+r.color+" text-white border-transparent shadow-lg":"bg-gray-100 border-gray-200 opacity-50"}`,children:[a.jsx(n,{className:`w-12 h-12 mx-auto mb-2 ${r.unlocked?"":"text-gray-400"}`}),a.jsx("h4",{className:"font-bold text-sm mb-1",children:r.name}),a.jsx("p",{className:`text-xs ${r.unlocked?"text-white/90":"text-gray-500"}`,children:r.description})]},r.id)})})})]})}var gN,h6;function Wi(){if(h6)return gN;h6=1;var t=Array.isArray;return gN=t,gN}var yN,f6;function wG(){if(f6)return yN;f6=1;var t=typeof uv=="object"&&uv&&uv.Object===Object&&uv;return yN=t,yN}var vN,m6;function fo(){if(m6)return vN;m6=1;var t=wG(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return vN=r,vN}var xN,p6;function Uy(){if(p6)return xN;p6=1;var t=fo(),e=t.Symbol;return xN=e,xN}var bN,g6;function o_e(){if(g6)return bN;g6=1;var t=Uy(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var d=!0}catch{}var f=n.call(o);return d&&(l?o[i]=c:delete o[i]),f}return bN=s,bN}var wN,y6;function l_e(){if(y6)return wN;y6=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return wN=r,wN}var _N,v6;function xl(){if(v6)return _N;v6=1;var t=Uy(),e=o_e(),r=l_e(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:s&&s in Object(l)?e(l):r(l)}return _N=o,_N}var jN,x6;function bl(){if(x6)return jN;x6=1;function t(e){return e!=null&&typeof e=="object"}return jN=t,jN}var NN,b6;function cm(){if(b6)return NN;b6=1;var t=xl(),e=bl(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return NN=n,NN}var SN,w6;function DI(){if(w6)return SN;w6=1;var t=Wi(),e=cm(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return SN=i,SN}var TN,_6;function Wc(){if(_6)return TN;_6=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return TN=t,TN}var EN,j6;function LI(){if(j6)return EN;j6=1;var t=xl(),e=Wc(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==s}return EN=o,EN}var PN,N6;function c_e(){if(N6)return PN;N6=1;var t=fo(),e=t["__core-js_shared__"];return PN=e,PN}var AN,S6;function u_e(){if(S6)return AN;S6=1;var t=c_e(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return AN=r,AN}var CN,T6;function _G(){if(T6)return CN;T6=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return CN=r,CN}var kN,E6;function d_e(){if(E6)return kN;E6=1;var t=LI(),e=u_e(),r=Wc(),n=_G(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(p){if(!r(p)||e(p))return!1;var v=t(p)?f:s;return v.test(n(p))}return kN=m,kN}var IN,P6;function h_e(){if(P6)return IN;P6=1;function t(e,r){return e==null?void 0:e[r]}return IN=t,IN}var ON,A6;function Pd(){if(A6)return ON;A6=1;var t=d_e(),e=h_e();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return ON=r,ON}var RN,C6;function n1(){if(C6)return RN;C6=1;var t=Pd(),e=t(Object,"create");return RN=e,RN}var MN,k6;function f_e(){if(k6)return MN;k6=1;var t=n1();function e(){this.__data__=t?t(null):{},this.size=0}return MN=e,MN}var DN,I6;function m_e(){if(I6)return DN;I6=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return DN=t,DN}var LN,O6;function p_e(){if(O6)return LN;O6=1;var t=n1(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return n.call(o,s)?o[s]:void 0}return LN=i,LN}var $N,R6;function g_e(){if(R6)return $N;R6=1;var t=n1(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return $N=n,$N}var FN,M6;function y_e(){if(M6)return FN;M6=1;var t=n1(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return FN=r,FN}var VN,D6;function v_e(){if(D6)return VN;D6=1;var t=f_e(),e=m_e(),r=p_e(),n=g_e(),i=y_e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,VN=s,VN}var BN,L6;function x_e(){if(L6)return BN;L6=1;function t(){this.__data__=[],this.size=0}return BN=t,BN}var qN,$6;function $I(){if($6)return qN;$6=1;function t(e,r){return e===r||e!==e&&r!==r}return qN=t,qN}var UN,F6;function i1(){if(F6)return UN;F6=1;var t=$I();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return UN=e,UN}var zN,V6;function b_e(){if(V6)return zN;V6=1;var t=i1(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return zN=n,zN}var WN,B6;function w_e(){if(B6)return WN;B6=1;var t=i1();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return WN=e,WN}var HN,q6;function __e(){if(q6)return HN;q6=1;var t=i1();function e(r){return t(this.__data__,r)>-1}return HN=e,HN}var GN,U6;function j_e(){if(U6)return GN;U6=1;var t=i1();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return GN=e,GN}var KN,z6;function s1(){if(z6)return KN;z6=1;var t=x_e(),e=b_e(),r=w_e(),n=__e(),i=j_e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,KN=s,KN}var YN,W6;function FI(){if(W6)return YN;W6=1;var t=Pd(),e=fo(),r=t(e,"Map");return YN=r,YN}var QN,H6;function N_e(){if(H6)return QN;H6=1;var t=v_e(),e=s1(),r=FI();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return QN=n,QN}var XN,G6;function S_e(){if(G6)return XN;G6=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return XN=t,XN}var JN,K6;function a1(){if(K6)return JN;K6=1;var t=S_e();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return JN=e,JN}var ZN,Y6;function T_e(){if(Y6)return ZN;Y6=1;var t=a1();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return ZN=e,ZN}var eS,Q6;function E_e(){if(Q6)return eS;Q6=1;var t=a1();function e(r){return t(this,r).get(r)}return eS=e,eS}var tS,X6;function P_e(){if(X6)return tS;X6=1;var t=a1();function e(r){return t(this,r).has(r)}return tS=e,tS}var rS,J6;function A_e(){if(J6)return rS;J6=1;var t=a1();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return rS=e,rS}var nS,Z6;function VI(){if(Z6)return nS;Z6=1;var t=N_e(),e=T_e(),r=E_e(),n=P_e(),i=A_e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,nS=s,nS}var iS,eL;function jG(){if(eL)return iS;eL=1;var t=VI(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var d=n.apply(this,o);return s.cache=c.set(l,d)||c,d};return s.cache=new(r.Cache||t),s}return r.Cache=t,iS=r,iS}var sS,tL;function C_e(){if(tL)return sS;tL=1;var t=jG(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return sS=r,sS}var aS,rL;function k_e(){if(rL)return aS;rL=1;var t=C_e(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,l,c,d){s.push(c?d.replace(r,"$1"):l||o)}),s});return aS=n,aS}var oS,nL;function BI(){if(nL)return oS;nL=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return oS=t,oS}var lS,iL;function I_e(){if(iL)return lS;iL=1;var t=Uy(),e=BI(),r=Wi(),n=cm(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return lS=o,lS}var cS,sL;function NG(){if(sL)return cS;sL=1;var t=I_e();function e(r){return r==null?"":t(r)}return cS=e,cS}var uS,aL;function SG(){if(aL)return uS;aL=1;var t=Wi(),e=DI(),r=k_e(),n=NG();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return uS=i,uS}var dS,oL;function o1(){if(oL)return dS;oL=1;var t=cm();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return dS=e,dS}var hS,lL;function qI(){if(lL)return hS;lL=1;var t=SG(),e=o1();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return hS=r,hS}var fS,cL;function TG(){if(cL)return fS;cL=1;var t=qI();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return fS=e,fS}var O_e=TG();const ls=Jt(O_e);var mS,uL;function R_e(){if(uL)return mS;uL=1;function t(e){return e==null}return mS=t,mS}var M_e=R_e();const ft=Jt(M_e);var pS,dL;function D_e(){if(dL)return pS;dL=1;var t=xl(),e=Wi(),r=bl(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return pS=i,pS}var L_e=D_e();const dd=Jt(L_e);var $_e=LI();const rt=Jt($_e);var F_e=Wc();const um=Jt(F_e);var gS={exports:{}},nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hL;function V_e(){if(hL)return nr;hL=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function x(g){if(typeof g=="object"&&g!==null){var _=g.$$typeof;switch(_){case t:switch(g=g.type,g){case r:case i:case n:case d:case f:return g;default:switch(g=g&&g.$$typeof,g){case l:case o:case c:case p:case m:case s:return g;default:return _}}case e:return _}}}return nr.ContextConsumer=o,nr.ContextProvider=s,nr.Element=t,nr.ForwardRef=c,nr.Fragment=r,nr.Lazy=p,nr.Memo=m,nr.Portal=e,nr.Profiler=i,nr.StrictMode=n,nr.Suspense=d,nr.SuspenseList=f,nr.isAsyncMode=function(){return!1},nr.isConcurrentMode=function(){return!1},nr.isContextConsumer=function(g){return x(g)===o},nr.isContextProvider=function(g){return x(g)===s},nr.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===t},nr.isForwardRef=function(g){return x(g)===c},nr.isFragment=function(g){return x(g)===r},nr.isLazy=function(g){return x(g)===p},nr.isMemo=function(g){return x(g)===m},nr.isPortal=function(g){return x(g)===e},nr.isProfiler=function(g){return x(g)===i},nr.isStrictMode=function(g){return x(g)===n},nr.isSuspense=function(g){return x(g)===d},nr.isSuspenseList=function(g){return x(g)===f},nr.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===i||g===n||g===d||g===f||g===v||typeof g=="object"&&g!==null&&(g.$$typeof===p||g.$$typeof===m||g.$$typeof===s||g.$$typeof===o||g.$$typeof===c||g.$$typeof===w||g.getModuleId!==void 0)},nr.typeOf=x,nr}var fL;function B_e(){return fL||(fL=1,gS.exports=V_e()),gS.exports}var q_e=B_e(),yS,mL;function EG(){if(mL)return yS;mL=1;var t=xl(),e=bl(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return yS=n,yS}var vS,pL;function U_e(){if(pL)return vS;pL=1;var t=EG();function e(r){return t(r)&&r!=+r}return vS=e,vS}var z_e=U_e();const dm=Jt(z_e);var W_e=EG();const H_e=Jt(W_e);var _i=function(e){return e===0?0:e>0?1:-1},$u=function(e){return dd(e)&&e.indexOf("%")===e.length-1},ke=function(e){return H_e(e)&&!dm(e)},G_e=function(e){return ft(e)},pn=function(e){return ke(e)||dd(e)},K_e=0,Ad=function(e){var r=++K_e;return"".concat(e||"").concat(r)},ji=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&!dd(e))return n;var s;if($u(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return dm(s)&&(s=n),i&&s>r&&(s=r),s},lc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Y_e=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Dr=function(e,r){return ke(e)&&ke(r)?function(n){return e+n*(r-e)}:function(){return r}};function ob(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ls(n,e))===r})}var Q_e=function(e,r){return ke(e)&&ke(r)?e-r:dd(e)&&dd(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Qh(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function FP(t){"@babel/helpers - typeof";return FP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FP(t)}var X_e=["viewBox","children"],J_e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gL=["points","pathLength"],xS={svg:X_e,polygon:gL,polyline:gL},UI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],lb=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),!um(n))return null;var i={};return Object.keys(n).forEach(function(s){UI.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},Z_e=function(e,r,n){return function(i){return e(r,n,i),null}},hd=function(e,r,n){if(!um(e)||FP(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];UI.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=Z_e(o,r,n))}),i},eje=["children"],tje=["children"];function yL(t,e){if(t==null)return{};var r=rje(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VP(t){"@babel/helpers - typeof";return VP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VP(t)}var vL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Yo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},xL=null,bS=null,zI=function t(e){if(e===xL&&Array.isArray(bS))return bS;var r=[];return S.Children.forEach(e,function(n){ft(n)||(q_e.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),bS=r,xL=e,r};function cs(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Yo(i)}):n=[Yo(e)],zI(t).forEach(function(i){var s=ls(i,"type.displayName")||ls(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function ns(t,e){var r=cs(t,e);return r&&r[0]}var bL=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ke(n)||n<=0||!ke(i)||i<=0)},nje=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ije=function(e){return e&&e.type&&dd(e.type)&&nje.indexOf(e.type)>=0},PG=function(e){return e&&VP(e)==="object"&&"clipDot"in e},sje=function(e,r,n,i){var s,o=(s=xS==null?void 0:xS[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!rt(e)&&(i&&o.includes(r)||J_e.includes(r))||n&&UI.includes(r)},Ye=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!um(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;sje((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},BP=function t(e,r){if(e===r)return!0;var n=S.Children.count(e);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return wL(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!wL(s,o))return!1}return!0},wL=function(e,r){if(ft(e)&&ft(r))return!0;if(!ft(e)&&!ft(r)){var n=e.props||{},i=n.children,s=yL(n,eje),o=r.props||{},l=o.children,c=yL(o,tje);return i&&l?Qh(s,c)&&BP(i,l):!i&&!l?Qh(s,c):!1}return!1},_L=function(e,r){var n=[],i={};return zI(e).forEach(function(s,o){if(ije(s))n.push(s);else if(s){var l=Yo(s.type),c=r[l]||{},d=c.handler,f=c.once;if(d&&(!f||!i[l])){var m=d(s,l,o);n.push(m),i[l]=!0}}}),n},aje=function(e){var r=e&&e.type;return r&&vL[r]?vL[r]:null},oje=function(e,r){return zI(r).indexOf(e)},lje=["children","width","height","viewBox","className","style","title","desc"];function qP(){return qP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qP.apply(this,arguments)}function cje(t,e){if(t==null)return{};var r=uje(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function UP(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,d=cje(t,lje),f=i||{width:r,height:n,x:0,y:0},m=dt("recharts-surface",s);return z.createElement("svg",qP({},Ye(d,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),z.createElement("title",null,l),z.createElement("desc",null,c),e)}var dje=["children","className"];function zP(){return zP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zP.apply(this,arguments)}function hje(t,e){if(t==null)return{};var r=fje(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tt=z.forwardRef(function(t,e){var r=t.children,n=t.className,i=hje(t,dje),s=dt("recharts-layer",n);return z.createElement("g",zP({className:s},Ye(i,!0),{ref:e}),r)}),la=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},wS,jL;function mje(){if(jL)return wS;jL=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+r];return o}return wS=t,wS}var _S,NL;function pje(){if(NL)return _S;NL=1;var t=mje();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return _S=e,_S}var jS,SL;function AG(){if(SL)return jS;SL=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+s+"]");function c(d){return l.test(d)}return jS=c,jS}var NS,TL;function gje(){if(TL)return NS;TL=1;function t(e){return e.split("")}return NS=t,NS}var SS,EL;function yje(){if(EL)return SS;EL=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",f="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",w=d+"?",x="["+s+"]?",g="(?:"+v+"(?:"+[f,m,p].join("|")+")"+x+w+")*",_=x+w+g,T="(?:"+[f+l+"?",l,m,p,o].join("|")+")",P=RegExp(c+"(?="+c+")|"+T+_,"g");function I(A){return A.match(P)||[]}return SS=I,SS}var TS,PL;function vje(){if(PL)return TS;PL=1;var t=gje(),e=AG(),r=yje();function n(i){return e(i)?r(i):t(i)}return TS=n,TS}var ES,AL;function xje(){if(AL)return ES;AL=1;var t=pje(),e=AG(),r=vje(),n=NG();function i(s){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[s]()+d}}return ES=i,ES}var PS,CL;function bje(){if(CL)return PS;CL=1;var t=xje(),e=t("toUpperCase");return PS=e,PS}var wje=bje();const l1=Jt(wje);function xr(t){return function(){return t}}const CG=Math.cos,cb=Math.sin,ya=Math.sqrt,ub=Math.PI,c1=2*ub,WP=Math.PI,HP=2*WP,ku=1e-6,_je=HP-ku;function kG(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function jje(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return kG;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Nje{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?kG:jje(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-e,d=i-r,f=o-e,m=l-r,p=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>ku)if(!(Math.abs(m*c-d*f)>ku)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-o,w=i-l,x=c*c+d*d,g=v*v+w*w,_=Math.sqrt(x),T=Math.sqrt(p),P=s*Math.tan((WP-Math.acos((x+p-g)/(2*_*T)))/2),I=P/T,A=P/_;Math.abs(I-1)>ku&&this._append`L${e+I*f},${r+I*m}`,this._append`A${s},${s},0,0,${+(m*v>f*w)},${this._x1=e+A*c},${this._y1=r+A*d}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),d=e+l,f=r+c,m=1^o,p=o?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>ku||Math.abs(this._y1-f)>ku)&&this._append`L${d},${f}`,n&&(p<0&&(p=p%HP+HP),p>_je?this._append`A${n},${n},0,1,${m},${e-l},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=f}`:p>ku&&this._append`A${n},${n},0,${+(p>=WP)},${m},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function WI(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Nje(e)}function HI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IG(t){this._context=t}IG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function u1(t){return new IG(t)}function OG(t){return t[0]}function RG(t){return t[1]}function MG(t,e){var r=xr(!0),n=null,i=u1,s=null,o=WI(l);t=typeof t=="function"?t:t===void 0?OG:xr(t),e=typeof e=="function"?e:e===void 0?RG:xr(e);function l(c){var d,f=(c=HI(c)).length,m,p=!1,v;for(n==null&&(s=i(v=o())),d=0;d<=f;++d)!(d<f&&r(m=c[d],d,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(m,d,c),+e(m,d,c));if(v)return s=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:xr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:xr(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:xr(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function Rv(t,e,r){var n=null,i=xr(!0),s=null,o=u1,l=null,c=WI(d);t=typeof t=="function"?t:t===void 0?OG:xr(+t),e=typeof e=="function"?e:xr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?RG:xr(+r);function d(m){var p,v,w,x=(m=HI(m)).length,g,_=!1,T,P=new Array(x),I=new Array(x);for(s==null&&(l=o(T=c())),p=0;p<=x;++p){if(!(p<x&&i(g=m[p],p,m))===_)if(_=!_)v=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=p-1;w>=v;--w)l.point(P[w],I[w]);l.lineEnd(),l.areaEnd()}_&&(P[p]=+t(g,p,m),I[p]=+e(g,p,m),l.point(n?+n(g,p,m):P[p],r?+r(g,p,m):I[p]))}if(T)return l=null,T+""||null}function f(){return MG().defined(i).curve(o).context(s)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:xr(+m),n=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:xr(+m),d):t},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:xr(+m),d):n},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:xr(+m),r=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:xr(+m),d):e},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:xr(+m),d):r},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(r)},d.lineX1=function(){return f().x(n).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:xr(!!m),d):i},d.curve=function(m){return arguments.length?(o=m,s!=null&&(l=o(s)),d):o},d.context=function(m){return arguments.length?(m==null?s=l=null:l=o(s=m),d):s},d}class DG{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Sje(t){return new DG(t,!0)}function Tje(t){return new DG(t,!1)}const GI={draw(t,e){const r=ya(e/ub);t.moveTo(r,0),t.arc(0,0,r,0,c1)}},Eje={draw(t,e){const r=ya(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},LG=ya(1/3),Pje=LG*2,Aje={draw(t,e){const r=ya(e/Pje),n=r*LG;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Cje={draw(t,e){const r=ya(e),n=-r/2;t.rect(n,n,r,r)}},kje=.8908130915292852,$G=cb(ub/10)/cb(7*ub/10),Ije=cb(c1/10)*$G,Oje=-CG(c1/10)*$G,Rje={draw(t,e){const r=ya(e*kje),n=Ije*r,i=Oje*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=c1*s/5,l=CG(o),c=cb(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},AS=ya(3),Mje={draw(t,e){const r=-ya(e/(AS*3));t.moveTo(0,r*2),t.lineTo(-AS*r,-r),t.lineTo(AS*r,-r),t.closePath()}},Ns=-.5,Ss=ya(3)/2,GP=1/ya(12),Dje=(GP/2+1)*3,Lje={draw(t,e){const r=ya(e/Dje),n=r/2,i=r*GP,s=n,o=r*GP+r,l=-s,c=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(Ns*n-Ss*i,Ss*n+Ns*i),t.lineTo(Ns*s-Ss*o,Ss*s+Ns*o),t.lineTo(Ns*l-Ss*c,Ss*l+Ns*c),t.lineTo(Ns*n+Ss*i,Ns*i-Ss*n),t.lineTo(Ns*s+Ss*o,Ns*o-Ss*s),t.lineTo(Ns*l+Ss*c,Ns*c-Ss*l),t.closePath()}};function $je(t,e){let r=null,n=WI(i);t=typeof t=="function"?t:xr(t||GI),e=typeof e=="function"?e:xr(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:xr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:xr(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function hb(){}function fb(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function FG(t){this._context=t}FG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fje(t){return new FG(t)}function VG(t){this._context=t}VG.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:fb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vje(t){return new VG(t)}function BG(t){this._context=t}BG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:fb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bje(t){return new BG(t)}function qG(t){this._context=t}qG.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function qje(t){return new qG(t)}function kL(t){return t<0?-1:1}function IL(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(kL(s)+kL(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function OL(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function CS(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,i+l*e,s-l,o-l*r,s,o)}function mb(t){this._context=t}mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:CS(this,this._t0,OL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,CS(this,OL(this,r=IL(this,t,e)),r);break;default:CS(this,this._t0,r=IL(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function UG(t){this._context=new zG(t)}(UG.prototype=Object.create(mb.prototype)).point=function(t,e){mb.prototype.point.call(this,e,t)};function zG(t){this._context=t}zG.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function Uje(t){return new mb(t)}function zje(t){return new UG(t)}function WG(t){this._context=t}WG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=RL(t),i=RL(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function RL(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Wje(t){return new WG(t)}function d1(t,e){this._context=t,this._t=e}d1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Hje(t){return new d1(t,.5)}function Gje(t){return new d1(t,0)}function Kje(t){return new d1(t,1)}function vf(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,l=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function KP(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Yje(t,e){return t[e]}function Qje(t){const e=[];return e.key=t,e}function Xje(){var t=xr([]),e=KP,r=vf,n=Yje;function i(s){var o=Array.from(t.apply(this,arguments),Qje),l,c=o.length,d=-1,f;for(const m of s)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(m,o[l].key,d,s)]).data=m;for(l=0,f=HI(e(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:xr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:xr(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?KP:typeof s=="function"?s:xr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??vf,i):r},i}function Jje(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}vf(t,e)}}function Zje(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}vf(t,e)}}function eNe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,d=0;l<o;++l){for(var f=t[e[l]],m=f[n][1]||0,p=f[n-1][1]||0,v=(m-p)/2,w=0;w<l;++w){var x=t[e[w]],g=x[n][1]||0,_=x[n-1][1]||0;v+=g-_}c+=m,d+=v*m}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,vf(t,e)}}function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}var tNe=["type","size","sizeType"];function YP(){return YP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YP.apply(this,arguments)}function ML(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(r),!0).forEach(function(n){rNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rNe(t,e,r){return e=nNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nNe(t){var e=iNe(t,"string");return Cg(e)=="symbol"?e:e+""}function iNe(t,e){if(Cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sNe(t,e){if(t==null)return{};var r=aNe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var HG={symbolCircle:GI,symbolCross:Eje,symbolDiamond:Aje,symbolSquare:Cje,symbolStar:Rje,symbolTriangle:Mje,symbolWye:Lje},oNe=Math.PI/180,lNe=function(e){var r="symbol".concat(l1(e));return HG[r]||GI},cNe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*oNe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},uNe=function(e,r){HG["symbol".concat(l1(e))]=r},KI=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=sNe(e,tNe),d=DL(DL({},c),{},{type:n,size:s,sizeType:l}),f=function(){var g=lNe(n),_=$je().type(g).size(cNe(s,l,n));return _()},m=d.className,p=d.cx,v=d.cy,w=Ye(d,!0);return p===+p&&v===+v&&s===+s?z.createElement("path",YP({},w,{className:dt("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(v,")"),d:f()})):null};KI.registerSymbol=uNe;function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function QP(){return QP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QP.apply(this,arguments)}function LL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dNe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(r),!0).forEach(function(n){kg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KG(n.key),n)}}function mNe(t,e,r){return e&&fNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pNe(t,e,r){return e=pb(e),gNe(t,GG()?Reflect.construct(e,r||[],pb(t).constructor):e.apply(t,r))}function gNe(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yNe(t)}function yNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GG=function(){return!!t})()}function pb(t){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pb(t)}function vNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XP(t,e)}function XP(t,e){return XP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XP(t,e)}function kg(t,e,r){return e=KG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KG(t){var e=xNe(t,"string");return xf(e)=="symbol"?e:e+""}function xNe(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ts=32,YI=(function(t){function e(){return hNe(this,e),pNe(this,e,arguments)}return vNe(e,t),mNe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Ts/2,o=Ts/6,l=Ts/3,c=n.inactive?i:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Ts,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Ts,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ts/8,"h").concat(Ts,"v").concat(Ts*3/4,"h").concat(-Ts,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var d=dNe({},n);return delete d.legendIcon,z.cloneElement(n.legendIcon,d)}return z.createElement(KI,{fill:c,cx:s,cy:s,size:Ts,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,f={x:0,y:0,width:Ts,height:Ts},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,w){var x=v.formatter||c,g=dt(kg(kg({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",v.inactive));if(v.type==="none")return null;var _=rt(v.value)?null:v.value;la(!rt(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=v.inactive?d:v.color;return z.createElement("li",QP({className:g,style:m,key:"legend-item-".concat(w)},hd(n.props,v,w)),z.createElement(UP,{width:o,height:o,viewBox:f,style:p},n.renderIcon(v)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},x?x(_,v,w):_))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(S.PureComponent);kg(YI,"displayName","Legend");kg(YI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var kS,$L;function bNe(){if($L)return kS;$L=1;var t=s1();function e(){this.__data__=new t,this.size=0}return kS=e,kS}var IS,FL;function wNe(){if(FL)return IS;FL=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return IS=t,IS}var OS,VL;function _Ne(){if(VL)return OS;VL=1;function t(e){return this.__data__.get(e)}return OS=t,OS}var RS,BL;function jNe(){if(BL)return RS;BL=1;function t(e){return this.__data__.has(e)}return RS=t,RS}var MS,qL;function NNe(){if(qL)return MS;qL=1;var t=s1(),e=FI(),r=VI(),n=200;function i(s,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return MS=i,MS}var DS,UL;function YG(){if(UL)return DS;UL=1;var t=s1(),e=bNe(),r=wNe(),n=_Ne(),i=jNe(),s=NNe();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,DS=o,DS}var LS,zL;function SNe(){if(zL)return LS;zL=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return LS=e,LS}var $S,WL;function TNe(){if(WL)return $S;WL=1;function t(e){return this.__data__.has(e)}return $S=t,$S}var FS,HL;function QG(){if(HL)return FS;HL=1;var t=VI(),e=SNe(),r=TNe();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,FS=n,FS}var VS,GL;function XG(){if(GL)return VS;GL=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return VS=t,VS}var BS,KL;function JG(){if(KL)return BS;KL=1;function t(e,r){return e.has(r)}return BS=t,BS}var qS,YL;function ZG(){if(YL)return qS;YL=1;var t=QG(),e=XG(),r=JG(),n=1,i=2;function s(o,l,c,d,f,m){var p=c&n,v=o.length,w=l.length;if(v!=w&&!(p&&w>v))return!1;var x=m.get(o),g=m.get(l);if(x&&g)return x==l&&g==o;var _=-1,T=!0,P=c&i?new t:void 0;for(m.set(o,l),m.set(l,o);++_<v;){var I=o[_],A=l[_];if(d)var C=p?d(A,I,_,l,o,m):d(I,A,_,o,l,m);if(C!==void 0){if(C)continue;T=!1;break}if(P){if(!e(l,function(E,N){if(!r(P,N)&&(I===E||f(I,E,c,d,m)))return P.push(N)})){T=!1;break}}else if(!(I===A||f(I,A,c,d,m))){T=!1;break}}return m.delete(o),m.delete(l),T}return qS=s,qS}var US,QL;function ENe(){if(QL)return US;QL=1;var t=fo(),e=t.Uint8Array;return US=e,US}var zS,XL;function PNe(){if(XL)return zS;XL=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return zS=t,zS}var WS,JL;function QI(){if(JL)return WS;JL=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return WS=t,WS}var HS,ZL;function ANe(){if(ZL)return HS;ZL=1;var t=Uy(),e=ENe(),r=$I(),n=ZG(),i=PNe(),s=QI(),o=1,l=2,c="[object Boolean]",d="[object Date]",f="[object Error]",m="[object Map]",p="[object Number]",v="[object RegExp]",w="[object Set]",x="[object String]",g="[object Symbol]",_="[object ArrayBuffer]",T="[object DataView]",P=t?t.prototype:void 0,I=P?P.valueOf:void 0;function A(C,E,N,O,D,L,$){switch(N){case T:if(C.byteLength!=E.byteLength||C.byteOffset!=E.byteOffset)return!1;C=C.buffer,E=E.buffer;case _:return!(C.byteLength!=E.byteLength||!L(new e(C),new e(E)));case c:case d:case p:return r(+C,+E);case f:return C.name==E.name&&C.message==E.message;case v:case x:return C==E+"";case m:var F=i;case w:var G=O&o;if(F||(F=s),C.size!=E.size&&!G)return!1;var Y=$.get(C);if(Y)return Y==E;O|=l,$.set(C,E);var K=n(F(C),F(E),O,D,L,$);return $.delete(C),K;case g:if(I)return I.call(C)==I.call(E)}return!1}return HS=A,HS}var GS,e$;function eK(){if(e$)return GS;e$=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return GS=t,GS}var KS,t$;function CNe(){if(t$)return KS;t$=1;var t=eK(),e=Wi();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return KS=r,KS}var YS,r$;function kNe(){if(r$)return YS;r$=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var l=e[n];r(l,n,e)&&(o[s++]=l)}return o}return YS=t,YS}var QS,n$;function INe(){if(n$)return QS;n$=1;function t(){return[]}return QS=t,QS}var XS,i$;function ONe(){if(i$)return XS;i$=1;var t=kNe(),e=INe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return n.call(o,l)}))}:e;return XS=s,XS}var JS,s$;function RNe(){if(s$)return JS;s$=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return JS=t,JS}var ZS,a$;function MNe(){if(a$)return ZS;a$=1;var t=xl(),e=bl(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return ZS=n,ZS}var e2,o$;function XI(){if(o$)return e2;o$=1;var t=MNe(),e=bl(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return e2=s,e2}var Rp={exports:{}},t2,l$;function DNe(){if(l$)return t2;l$=1;function t(){return!1}return t2=t,t2}Rp.exports;var c$;function tK(){return c$||(c$=1,(function(t,e){var r=fo(),n=DNe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(Rp,Rp.exports)),Rp.exports}var r2,u$;function JI(){if(u$)return r2;u$=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return r2=r,r2}var n2,d$;function ZI(){if(d$)return n2;d$=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return n2=e,n2}var i2,h$;function LNe(){if(h$)return i2;h$=1;var t=xl(),e=ZI(),r=bl(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",m="[object Object]",p="[object RegExp]",v="[object Set]",w="[object String]",x="[object WeakMap]",g="[object ArrayBuffer]",_="[object DataView]",T="[object Float32Array]",P="[object Float64Array]",I="[object Int8Array]",A="[object Int16Array]",C="[object Int32Array]",E="[object Uint8Array]",N="[object Uint8ClampedArray]",O="[object Uint16Array]",D="[object Uint32Array]",L={};L[T]=L[P]=L[I]=L[A]=L[C]=L[E]=L[N]=L[O]=L[D]=!0,L[n]=L[i]=L[g]=L[s]=L[_]=L[o]=L[l]=L[c]=L[d]=L[f]=L[m]=L[p]=L[v]=L[w]=L[x]=!1;function $(F){return r(F)&&e(F.length)&&!!L[t(F)]}return i2=$,i2}var s2,f$;function rK(){if(f$)return s2;f$=1;function t(e){return function(r){return e(r)}}return s2=t,s2}var Mp={exports:{}};Mp.exports;var m$;function $Ne(){return m$||(m$=1,(function(t,e){var r=wG(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(Mp,Mp.exports)),Mp.exports}var a2,p$;function nK(){if(p$)return a2;p$=1;var t=LNe(),e=rK(),r=$Ne(),n=r&&r.isTypedArray,i=n?e(n):t;return a2=i,a2}var o2,g$;function FNe(){if(g$)return o2;g$=1;var t=RNe(),e=XI(),r=Wi(),n=tK(),i=JI(),s=nK(),o=Object.prototype,l=o.hasOwnProperty;function c(d,f){var m=r(d),p=!m&&e(d),v=!m&&!p&&n(d),w=!m&&!p&&!v&&s(d),x=m||p||v||w,g=x?t(d.length,String):[],_=g.length;for(var T in d)(f||l.call(d,T))&&!(x&&(T=="length"||v&&(T=="offset"||T=="parent")||w&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,_)))&&g.push(T);return g}return o2=c,o2}var l2,y$;function VNe(){if(y$)return l2;y$=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return l2=e,l2}var c2,v$;function iK(){if(v$)return c2;v$=1;function t(e,r){return function(n){return e(r(n))}}return c2=t,c2}var u2,x$;function BNe(){if(x$)return u2;x$=1;var t=iK(),e=t(Object.keys,Object);return u2=e,u2}var d2,b$;function qNe(){if(b$)return d2;b$=1;var t=VNe(),e=BNe(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return d2=i,d2}var h2,w$;function zy(){if(w$)return h2;w$=1;var t=LI(),e=ZI();function r(n){return n!=null&&e(n.length)&&!t(n)}return h2=r,h2}var f2,_$;function h1(){if(_$)return f2;_$=1;var t=FNe(),e=qNe(),r=zy();function n(i){return r(i)?t(i):e(i)}return f2=n,f2}var m2,j$;function UNe(){if(j$)return m2;j$=1;var t=CNe(),e=ONe(),r=h1();function n(i){return t(i,r,e)}return m2=n,m2}var p2,N$;function zNe(){if(N$)return p2;N$=1;var t=UNe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,l,c,d,f){var m=l&e,p=t(s),v=p.length,w=t(o),x=w.length;if(v!=x&&!m)return!1;for(var g=v;g--;){var _=p[g];if(!(m?_ in o:n.call(o,_)))return!1}var T=f.get(s),P=f.get(o);if(T&&P)return T==o&&P==s;var I=!0;f.set(s,o),f.set(o,s);for(var A=m;++g<v;){_=p[g];var C=s[_],E=o[_];if(c)var N=m?c(E,C,_,o,s,f):c(C,E,_,s,o,f);if(!(N===void 0?C===E||d(C,E,l,c,f):N)){I=!1;break}A||(A=_=="constructor")}if(I&&!A){var O=s.constructor,D=o.constructor;O!=D&&"constructor"in s&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof D=="function"&&D instanceof D)&&(I=!1)}return f.delete(s),f.delete(o),I}return p2=i,p2}var g2,S$;function WNe(){if(S$)return g2;S$=1;var t=Pd(),e=fo(),r=t(e,"DataView");return g2=r,g2}var y2,T$;function HNe(){if(T$)return y2;T$=1;var t=Pd(),e=fo(),r=t(e,"Promise");return y2=r,y2}var v2,E$;function sK(){if(E$)return v2;E$=1;var t=Pd(),e=fo(),r=t(e,"Set");return v2=r,v2}var x2,P$;function GNe(){if(P$)return x2;P$=1;var t=Pd(),e=fo(),r=t(e,"WeakMap");return x2=r,x2}var b2,A$;function KNe(){if(A$)return b2;A$=1;var t=WNe(),e=FI(),r=HNe(),n=sK(),i=GNe(),s=xl(),o=_G(),l="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",m="[object WeakMap]",p="[object DataView]",v=o(t),w=o(e),x=o(r),g=o(n),_=o(i),T=s;return(t&&T(new t(new ArrayBuffer(1)))!=p||e&&T(new e)!=l||r&&T(r.resolve())!=d||n&&T(new n)!=f||i&&T(new i)!=m)&&(T=function(P){var I=s(P),A=I==c?P.constructor:void 0,C=A?o(A):"";if(C)switch(C){case v:return p;case w:return l;case x:return d;case g:return f;case _:return m}return I}),b2=T,b2}var w2,C$;function YNe(){if(C$)return w2;C$=1;var t=YG(),e=ZG(),r=ANe(),n=zNe(),i=KNe(),s=Wi(),o=tK(),l=nK(),c=1,d="[object Arguments]",f="[object Array]",m="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function w(x,g,_,T,P,I){var A=s(x),C=s(g),E=A?f:i(x),N=C?f:i(g);E=E==d?m:E,N=N==d?m:N;var O=E==m,D=N==m,L=E==N;if(L&&o(x)){if(!o(g))return!1;A=!0,O=!1}if(L&&!O)return I||(I=new t),A||l(x)?e(x,g,_,T,P,I):r(x,g,E,_,T,P,I);if(!(_&c)){var $=O&&v.call(x,"__wrapped__"),F=D&&v.call(g,"__wrapped__");if($||F){var G=$?x.value():x,Y=F?g.value():g;return I||(I=new t),P(G,Y,_,T,I)}}return L?(I||(I=new t),n(x,g,_,T,P,I)):!1}return w2=w,w2}var _2,k$;function eO(){if(k$)return _2;k$=1;var t=YNe(),e=bl();function r(n,i,s,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,l)}return _2=r,_2}var j2,I$;function QNe(){if(I$)return j2;I$=1;var t=YG(),e=eO(),r=1,n=2;function i(s,o,l,c){var d=l.length,f=d,m=!c;if(s==null)return!f;for(s=Object(s);d--;){var p=l[d];if(m&&p[2]?p[1]!==s[p[0]]:!(p[0]in s))return!1}for(;++d<f;){p=l[d];var v=p[0],w=s[v],x=p[1];if(m&&p[2]){if(w===void 0&&!(v in s))return!1}else{var g=new t;if(c)var _=c(w,x,v,s,o,g);if(!(_===void 0?e(x,w,r|n,c,g):_))return!1}}return!0}return j2=i,j2}var N2,O$;function aK(){if(O$)return N2;O$=1;var t=Wc();function e(r){return r===r&&!t(r)}return N2=e,N2}var S2,R$;function XNe(){if(R$)return S2;R$=1;var t=aK(),e=h1();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],l=n[o];i[s]=[o,l,t(l)]}return i}return S2=r,S2}var T2,M$;function oK(){if(M$)return T2;M$=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return T2=t,T2}var E2,D$;function JNe(){if(D$)return E2;D$=1;var t=QNe(),e=XNe(),r=oK();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return E2=n,E2}var P2,L$;function ZNe(){if(L$)return P2;L$=1;function t(e,r){return e!=null&&r in Object(e)}return P2=t,P2}var A2,$$;function eSe(){if($$)return A2;$$=1;var t=SG(),e=XI(),r=Wi(),n=JI(),i=ZI(),s=o1();function o(l,c,d){c=t(c,l);for(var f=-1,m=c.length,p=!1;++f<m;){var v=s(c[f]);if(!(p=l!=null&&d(l,v)))break;l=l[v]}return p||++f!=m?p:(m=l==null?0:l.length,!!m&&i(m)&&n(v,m)&&(r(l)||e(l)))}return A2=o,A2}var C2,F$;function tSe(){if(F$)return C2;F$=1;var t=ZNe(),e=eSe();function r(n,i){return n!=null&&e(n,i,t)}return C2=r,C2}var k2,V$;function rSe(){if(V$)return k2;V$=1;var t=eO(),e=TG(),r=tSe(),n=DI(),i=aK(),s=oK(),o=o1(),l=1,c=2;function d(f,m){return n(f)&&i(m)?s(o(f),m):function(p){var v=e(p,f);return v===void 0&&v===m?r(p,f):t(m,v,l|c)}}return k2=d,k2}var I2,B$;function hm(){if(B$)return I2;B$=1;function t(e){return e}return I2=t,I2}var O2,q$;function nSe(){if(q$)return O2;q$=1;function t(e){return function(r){return r==null?void 0:r[e]}}return O2=t,O2}var R2,U$;function iSe(){if(U$)return R2;U$=1;var t=qI();function e(r){return function(n){return t(n,r)}}return R2=e,R2}var M2,z$;function sSe(){if(z$)return M2;z$=1;var t=nSe(),e=iSe(),r=DI(),n=o1();function i(s){return r(s)?t(n(s)):e(s)}return M2=i,M2}var D2,W$;function mo(){if(W$)return D2;W$=1;var t=JNe(),e=rSe(),r=hm(),n=Wi(),i=sSe();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return D2=s,D2}var L2,H$;function lK(){if(H$)return L2;H$=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return L2=t,L2}var $2,G$;function aSe(){if(G$)return $2;G$=1;function t(e){return e!==e}return $2=t,$2}var F2,K$;function oSe(){if(K$)return F2;K$=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return F2=t,F2}var V2,Y$;function lSe(){if(Y$)return V2;Y$=1;var t=lK(),e=aSe(),r=oSe();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return V2=n,V2}var B2,Q$;function cSe(){if(Q$)return B2;Q$=1;var t=lSe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return B2=e,B2}var q2,X$;function uSe(){if(X$)return q2;X$=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return q2=t,q2}var U2,J$;function dSe(){if(J$)return U2;J$=1;function t(){}return U2=t,U2}var z2,Z$;function hSe(){if(Z$)return z2;Z$=1;var t=sK(),e=dSe(),r=QI(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return z2=i,z2}var W2,eF;function fSe(){if(eF)return W2;eF=1;var t=QG(),e=cSe(),r=uSe(),n=JG(),i=hSe(),s=QI(),o=200;function l(c,d,f){var m=-1,p=e,v=c.length,w=!0,x=[],g=x;if(f)w=!1,p=r;else if(v>=o){var _=d?null:i(c);if(_)return s(_);w=!1,p=n,g=new t}else g=d?[]:x;e:for(;++m<v;){var T=c[m],P=d?d(T):T;if(T=f||T!==0?T:0,w&&P===P){for(var I=g.length;I--;)if(g[I]===P)continue e;d&&g.push(P),x.push(T)}else p(g,P,f)||(g!==x&&g.push(P),x.push(T))}return x}return W2=l,W2}var H2,tF;function mSe(){if(tF)return H2;tF=1;var t=mo(),e=fSe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return H2=r,H2}var pSe=mSe();const rF=Jt(pSe);function cK(t,e,r){return e===!0?rF(t,r):rt(e)?rF(t,e):t}function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}var gSe=["ref"];function nF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(r),!0).forEach(function(n){f1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ySe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dK(n.key),n)}}function vSe(t,e,r){return e&&iF(t.prototype,e),r&&iF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xSe(t,e,r){return e=gb(e),bSe(t,uK()?Reflect.construct(e,r||[],gb(t).constructor):e.apply(t,r))}function bSe(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wSe(t)}function wSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uK=function(){return!!t})()}function gb(t){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gb(t)}function _Se(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JP(t,e)}function JP(t,e){return JP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JP(t,e)}function f1(t,e,r){return e=dK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dK(t){var e=jSe(t,"string");return bf(e)=="symbol"?e:e+""}function jSe(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NSe(t,e){if(t==null)return{};var r=SSe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function TSe(t){return t.value}function ESe(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=NSe(e,gSe);return z.createElement(YI,r)}var sF=1,zi=(function(t){function e(){var r;ySe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=xSe(this,e,[].concat(i)),f1(r,"lastBoundingBox",{width:-1,height:-1}),r}return _Se(e,t),vSe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>sF||Math.abs(i.height-this.lastBoundingBox.height)>sF)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Oo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,f=i.chartHeight,m,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();m={left:((d||0)-v.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();p={top:((f||0)-w.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Oo(Oo({},m),p)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,f=i.payload,m=Oo(Oo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){n.wrapperNode=v}},ESe(s,Oo(Oo({},this.props),{},{payload:cK(f,d,TSe)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Oo(Oo({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&ke(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(S.PureComponent);f1(zi,"displayName","Legend");f1(zi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var G2,aF;function PSe(){if(aF)return G2;aF=1;var t=Uy(),e=XI(),r=Wi(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return G2=i,G2}var K2,oF;function hK(){if(oF)return K2;oF=1;var t=eK(),e=PSe();function r(n,i,s,o,l){var c=-1,d=n.length;for(s||(s=e),l||(l=[]);++c<d;){var f=n[c];i>0&&s(f)?i>1?r(f,i-1,s,o,l):t(l,f):o||(l[l.length]=f)}return l}return K2=r,K2}var Y2,lF;function ASe(){if(lF)return Y2;lF=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),l=i(r),c=l.length;c--;){var d=l[e?c:++s];if(n(o[d],d,o)===!1)break}return r}}return Y2=t,Y2}var Q2,cF;function CSe(){if(cF)return Q2;cF=1;var t=ASe(),e=t();return Q2=e,Q2}var X2,uF;function fK(){if(uF)return X2;uF=1;var t=CSe(),e=h1();function r(n,i){return n&&t(n,i,e)}return X2=r,X2}var J2,dF;function kSe(){if(dF)return J2;dF=1;var t=zy();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return i}}return J2=e,J2}var Z2,hF;function tO(){if(hF)return Z2;hF=1;var t=fK(),e=kSe(),r=e(t);return Z2=r,Z2}var eT,fF;function mK(){if(fF)return eT;fF=1;var t=tO(),e=zy();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,d){o[++s]=i(l,c,d)}),o}return eT=r,eT}var tT,mF;function ISe(){if(mF)return tT;mF=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return tT=t,tT}var rT,pF;function OSe(){if(pF)return rT;pF=1;var t=cm();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,l=t(r),c=n!==void 0,d=n===null,f=n===n,m=t(n);if(!d&&!m&&!l&&r>n||l&&c&&f&&!d&&!m||s&&c&&f||!i&&f||!o)return 1;if(!s&&!l&&!m&&r<n||m&&i&&o&&!s&&!l||d&&i&&o||!c&&o||!f)return-1}return 0}return rT=e,rT}var nT,gF;function RSe(){if(gF)return nT;gF=1;var t=OSe();function e(r,n,i){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,d=i.length;++s<c;){var f=t(o[s],l[s]);if(f){if(s>=d)return f;var m=i[s];return f*(m=="desc"?-1:1)}}return r.index-n.index}return nT=e,nT}var iT,yF;function MSe(){if(yF)return iT;yF=1;var t=BI(),e=qI(),r=mo(),n=mK(),i=ISe(),s=rK(),o=RSe(),l=hm(),c=Wi();function d(f,m,p){m.length?m=t(m,function(x){return c(x)?function(g){return e(g,x.length===1?x[0]:x)}:x}):m=[l];var v=-1;m=t(m,s(r));var w=n(f,function(x,g,_){var T=t(m,function(P){return P(x)});return{criteria:T,index:++v,value:x}});return i(w,function(x,g){return o(x,g,p)})}return iT=d,iT}var sT,vF;function DSe(){if(vF)return sT;vF=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return sT=t,sT}var aT,xF;function LSe(){if(xF)return aT;xF=1;var t=DSe(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),d=Array(c);++l<c;)d[l]=o[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=o[l];return f[i]=s(d),t(n,this,f)}}return aT=r,aT}var oT,bF;function $Se(){if(bF)return oT;bF=1;function t(e){return function(){return e}}return oT=t,oT}var lT,wF;function pK(){if(wF)return lT;wF=1;var t=Pd(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return lT=e,lT}var cT,_F;function FSe(){if(_F)return cT;_F=1;var t=$Se(),e=pK(),r=hm(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return cT=n,cT}var uT,jF;function VSe(){if(jF)return uT;jF=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return uT=n,uT}var dT,NF;function BSe(){if(NF)return dT;NF=1;var t=FSe(),e=VSe(),r=e(t);return dT=r,dT}var hT,SF;function qSe(){if(SF)return hT;SF=1;var t=hm(),e=LSe(),r=BSe();function n(i,s){return r(e(i,s,t),i+"")}return hT=n,hT}var fT,TF;function m1(){if(TF)return fT;TF=1;var t=$I(),e=zy(),r=JI(),n=Wc();function i(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],s):!1}return fT=i,fT}var mT,EF;function USe(){if(EF)return mT;EF=1;var t=hK(),e=MSe(),r=qSe(),n=m1(),i=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return mT=i,mT}var zSe=USe();const rO=Jt(zSe);function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function ZP(){return ZP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZP.apply(this,arguments)}function WSe(t,e){return YSe(t)||KSe(t,e)||GSe(t,e)||HSe()}function HSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GSe(t,e){if(t){if(typeof t=="string")return PF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PF(t,e)}}function PF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function YSe(t){if(Array.isArray(t))return t}function AF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(r),!0).forEach(function(n){QSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QSe(t,e,r){return e=XSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XSe(t){var e=JSe(t,"string");return Ig(e)=="symbol"?e:e+""}function JSe(t,e){if(Ig(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZSe(t){return Array.isArray(t)&&pn(t[0])&&pn(t[1])?t.join(" ~ "):t}var e2e=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,f=e.payload,m=e.formatter,p=e.itemSorter,v=e.wrapperClassName,w=e.labelClassName,x=e.label,g=e.labelFormatter,_=e.accessibilityLayer,T=_===void 0?!1:_,P=function(){if(f&&f.length){var $={padding:0,margin:0},F=(p?rO(f,p):f).map(function(G,Y){if(G.type==="none")return null;var K=pT({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},l),X=G.formatter||m||ZSe,U=G.value,Q=G.name,ne=U,W=Q;if(X&&ne!=null&&W!=null){var Z=X(U,Q,G,Y,f);if(Array.isArray(Z)){var ue=WSe(Z,2);ne=ue[0],W=ue[1]}else ne=Z}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:K},pn(W)?z.createElement("span",{className:"recharts-tooltip-item-name"},W):null,pn(W)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},ne),z.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:$},F)}return null},I=pT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),A=pT({margin:0},d),C=!ft(x),E=C?x:"",N=dt("recharts-default-tooltip",v),O=dt("recharts-tooltip-label",w);C&&g&&f!==void 0&&f!==null&&(E=g(x,f));var D=T?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",ZP({className:N,style:I},D),z.createElement("p",{className:O,style:A},z.isValidElement(E)?E:"".concat(E)),P())};function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}function Mv(t,e,r){return e=t2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t2e(t){var e=r2e(t,"string");return Og(e)=="symbol"?e:e+""}function r2e(t,e){if(Og(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yp="recharts-tooltip-wrapper",n2e={visibility:"hidden"};function i2e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return dt(yp,Mv(Mv(Mv(Mv({},"".concat(yp,"-right"),ke(r)&&e&&ke(e.x)&&r>=e.x),"".concat(yp,"-left"),ke(r)&&e&&ke(e.x)&&r<e.x),"".concat(yp,"-bottom"),ke(n)&&e&&ke(e.y)&&n>=e.y),"".concat(yp,"-top"),ke(n)&&e&&ke(e.y)&&n<e.y))}function CF(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(s&&ke(s[n]))return s[n];var f=r[n]-l-i,m=r[n]+i;if(e[n])return o[n]?f:m;if(o[n]){var p=f,v=c[n];return p<v?Math.max(m,c[n]):Math.max(f,c[n])}var w=m+l,x=c[n]+d;return w>x?Math.max(f,c[n]):Math.max(m,c[n])}function s2e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function a2e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,f,m;return o.height>0&&o.width>0&&r?(f=CF({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=CF({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=s2e({translateX:f,translateY:m,useTranslate3d:l})):d=n2e,{cssProperties:d,cssClasses:i2e({translateX:f,translateY:m,coordinate:r})}}function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function kF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(r),!0).forEach(function(n){tA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yK(n.key),n)}}function c2e(t,e,r){return e&&l2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u2e(t,e,r){return e=yb(e),d2e(t,gK()?Reflect.construct(e,r||[],yb(t).constructor):e.apply(t,r))}function d2e(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h2e(t)}function h2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gK=function(){return!!t})()}function yb(t){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(t)}function f2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eA(t,e)}function eA(t,e){return eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eA(t,e)}function tA(t,e,r){return e=yK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yK(t){var e=m2e(t,"string");return wf(e)=="symbol"?e:e+""}function m2e(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OF=1,p2e=(function(t){function e(){var r;o2e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=u2e(this,e,[].concat(i)),tA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),tA(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),r}return f2e(e,t),c2e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>OF||Math.abs(n.height-this.state.lastBoundingBox.height)>OF)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,f=i.coordinate,m=i.hasPayload,p=i.isAnimationActive,v=i.offset,w=i.position,x=i.reverseDirection,g=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,P=a2e({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:v,position:w,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:_}),I=P.cssClasses,A=P.cssProperties,C=IF(IF({transition:p&&s?"transform ".concat(l,"ms ").concat(c):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},T);return z.createElement("div",{tabIndex:-1,className:I,style:C,ref:function(N){n.wrapperNode=N}},d)}}])})(S.PureComponent),g2e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wl={isSsr:g2e()};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function RF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(r),!0).forEach(function(n){nO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xK(n.key),n)}}function x2e(t,e,r){return e&&v2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b2e(t,e,r){return e=vb(e),w2e(t,vK()?Reflect.construct(e,r||[],vb(t).constructor):e.apply(t,r))}function w2e(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _2e(t)}function _2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vK=function(){return!!t})()}function vb(t){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(t)}function j2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rA(t,e)}function rA(t,e){return rA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rA(t,e)}function nO(t,e,r){return e=xK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xK(t){var e=N2e(t,"string");return _f(e)=="symbol"?e:e+""}function N2e(t,e){if(_f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function S2e(t){return t.dataKey}function T2e(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(e2e,e)}var fn=(function(t){function e(){return y2e(this,e),b2e(this,e,arguments)}return j2e(e,t),x2e(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,f=i.coordinate,m=i.filterNull,p=i.isAnimationActive,v=i.offset,w=i.payload,x=i.payloadUniqBy,g=i.position,_=i.reverseDirection,T=i.useTranslate3d,P=i.viewBox,I=i.wrapperStyle,A=w??[];m&&A.length&&(A=cK(w.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),x,S2e));var C=A.length>0;return z.createElement(p2e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:s,coordinate:f,hasPayload:C,offset:v,position:g,reverseDirection:_,useTranslate3d:T,viewBox:P,wrapperStyle:I},T2e(d,MF(MF({},this.props),{},{payload:A})))}}])})(S.PureComponent);nO(fn,"displayName","Tooltip");nO(fn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var gT,DF;function E2e(){if(DF)return gT;DF=1;var t=fo(),e=function(){return t.Date.now()};return gT=e,gT}var yT,LF;function P2e(){if(LF)return yT;LF=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return yT=e,yT}var vT,$F;function A2e(){if($F)return vT;$F=1;var t=P2e(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return vT=r,vT}var xT,FF;function bK(){if(FF)return xT;FF=1;var t=A2e(),e=Wc(),r=cm(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=e(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=s.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):i.test(d)?n:+d}return xT=c,xT}var bT,VF;function C2e(){if(VF)return bT;VF=1;var t=Wc(),e=E2e(),r=bK(),n="Expected a function",i=Math.max,s=Math.min;function o(l,c,d){var f,m,p,v,w,x,g=0,_=!1,T=!1,P=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(_=!!d.leading,T="maxWait"in d,p=T?i(r(d.maxWait)||0,c):p,P="trailing"in d?!!d.trailing:P);function I(F){var G=f,Y=m;return f=m=void 0,g=F,v=l.apply(Y,G),v}function A(F){return g=F,w=setTimeout(N,c),_?I(F):v}function C(F){var G=F-x,Y=F-g,K=c-G;return T?s(K,p-Y):K}function E(F){var G=F-x,Y=F-g;return x===void 0||G>=c||G<0||T&&Y>=p}function N(){var F=e();if(E(F))return O(F);w=setTimeout(N,C(F))}function O(F){return w=void 0,P&&f?I(F):(f=m=void 0,v)}function D(){w!==void 0&&clearTimeout(w),g=0,f=x=m=w=void 0}function L(){return w===void 0?v:O(e())}function $(){var F=e(),G=E(F);if(f=arguments,m=this,x=F,G){if(w===void 0)return A(x);if(T)return clearTimeout(w),w=setTimeout(N,c),I(x)}return w===void 0&&(w=setTimeout(N,c)),v}return $.cancel=D,$.flush=L,$}return bT=o,bT}var wT,BF;function k2e(){if(BF)return wT;BF=1;var t=C2e(),e=Wc(),r="Expected a function";function n(i,s,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,s,{leading:l,maxWait:s,trailing:c})}return wT=n,wT}var I2e=k2e();const wK=Jt(I2e);function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function qF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(r),!0).forEach(function(n){O2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O2e(t,e,r){return e=R2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R2e(t){var e=M2e(t,"string");return Rg(e)=="symbol"?e:e+""}function M2e(t,e){if(Rg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D2e(t,e){return V2e(t)||F2e(t,e)||$2e(t,e)||L2e()}function L2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $2e(t,e){if(t){if(typeof t=="string")return UF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UF(t,e)}}function UF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function F2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function V2e(t){if(Array.isArray(t))return t}var Fa=S.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,f=d===void 0?0:d,m=t.minHeight,p=t.maxHeight,v=t.children,w=t.debounce,x=w===void 0?0:w,g=t.id,_=t.className,T=t.onResize,P=t.style,I=P===void 0?{}:P,A=S.useRef(null),C=S.useRef();C.current=T,S.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var E=S.useState({containerWidth:i.width,containerHeight:i.height}),N=D2e(E,2),O=N[0],D=N[1],L=S.useCallback(function(F,G){D(function(Y){var K=Math.round(F),X=Math.round(G);return Y.containerWidth===K&&Y.containerHeight===X?Y:{containerWidth:K,containerHeight:X}})},[]);S.useEffect(function(){var F=function(Q){var ne,W=Q[0].contentRect,Z=W.width,ue=W.height;L(Z,ue),(ne=C.current)===null||ne===void 0||ne.call(C,Z,ue)};x>0&&(F=wK(F,x,{trailing:!0,leading:!1}));var G=new ResizeObserver(F),Y=A.current.getBoundingClientRect(),K=Y.width,X=Y.height;return L(K,X),G.observe(A.current),function(){G.disconnect()}},[L,x]);var $=S.useMemo(function(){var F=O.containerWidth,G=O.containerHeight;if(F<0||G<0)return null;la($u(o)||$u(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),la(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=$u(o)?F:o,K=$u(c)?G:c;r&&r>0&&(Y?K=Y/r:K&&(Y=K*r),p&&K>p&&(K=p)),la(Y>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,K,o,c,f,m,r);var X=!Array.isArray(v)&&Yo(v.type).endsWith("Chart");return z.Children.map(v,function(U){return z.isValidElement(U)?S.cloneElement(U,Dv({width:Y,height:K},X?{style:Dv({height:"100%",width:"100%",maxHeight:K,maxWidth:Y},U.props.style)}:{})):U})},[r,v,c,p,m,f,O,o]);return z.createElement("div",{id:g?"".concat(g):void 0,className:dt("recharts-responsive-container",_),style:Dv(Dv({},I),{},{width:o,height:c,minWidth:f,minHeight:m,maxHeight:p}),ref:A},$)}),p1=function(e){return null};p1.displayName="Cell";function Mg(t){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function zF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(r),!0).forEach(function(n){B2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B2e(t,e,r){return e=q2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q2e(t){var e=U2e(t,"string");return Mg(e)=="symbol"?e:e+""}function U2e(t,e){if(Mg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bh={widthCache:{},cacheCount:0},z2e=2e3,W2e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WF="recharts_measurement_span";function H2e(t){var e=nA({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var eg=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wl.isSsr)return{width:0,height:0};var n=H2e(r),i=JSON.stringify({text:e,copyStyle:n});if(bh.widthCache[i])return bh.widthCache[i];try{var s=document.getElementById(WF);s||(s=document.createElement("span"),s.setAttribute("id",WF),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=nA(nA({},W2e),n);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return bh.widthCache[i]=c,++bh.cacheCount>z2e&&(bh.cacheCount=0,bh.widthCache={}),c}catch{return{width:0,height:0}}},G2e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Dg(t){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function xb(t,e){return X2e(t)||Q2e(t,e)||Y2e(t,e)||K2e()}function K2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y2e(t,e){if(t){if(typeof t=="string")return HF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HF(t,e)}}function HF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function X2e(t){if(Array.isArray(t))return t}function J2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eTe(n.key),n)}}function Z2e(t,e,r){return e&&GF(t.prototype,e),r&&GF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eTe(t){var e=tTe(t,"string");return Dg(e)=="symbol"?e:e+""}function tTe(t,e){if(Dg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rTe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nTe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_K={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iTe=Object.keys(_K),Rh="NaN";function sTe(t,e){return t*_K[e]}var Lv=(function(){function t(e,r){J2e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!rTe.test(r)&&(this.num=NaN,this.unit=""),iTe.includes(r)&&(this.num=sTe(e,r),this.unit="px")}return Z2e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=nTe.exec(r))!==null&&n!==void 0?n:[],s=xb(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])})();function jK(t){if(t.includes(Rh))return Rh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=KF.exec(e))!==null&&r!==void 0?r:[],i=xb(n,4),s=i[1],o=i[2],l=i[3],c=Lv.parse(s??""),d=Lv.parse(l??""),f=o==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return Rh;e=e.replace(KF,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,p=(m=YF.exec(e))!==null&&m!==void 0?m:[],v=xb(p,4),w=v[1],x=v[2],g=v[3],_=Lv.parse(w??""),T=Lv.parse(g??""),P=x==="+"?_.add(T):_.subtract(T);if(P.isNaN())return Rh;e=e.replace(YF,P.toString())}return e}var QF=/\(([^()]*)\)/;function aTe(t){for(var e=t;e.includes("(");){var r=QF.exec(e),n=xb(r,2),i=n[1];e=e.replace(QF,jK(i))}return e}function oTe(t){var e=t.replace(/\s+/g,"");return e=aTe(e),e=jK(e),e}function lTe(t){try{return oTe(t)}catch{return Rh}}function _T(t){var e=lTe(t.slice(5,-1));return e===Rh?"":e}var cTe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uTe=["dx","dy","angle","className","breakAll"];function iA(){return iA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iA.apply(this,arguments)}function XF(t,e){if(t==null)return{};var r=dTe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JF(t,e){return pTe(t)||mTe(t,e)||fTe(t,e)||hTe()}function hTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fTe(t,e){if(t){if(typeof t=="string")return ZF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZF(t,e)}}function ZF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function pTe(t){if(Array.isArray(t))return t}var NK=/[ \f\n\r\t\v\u2028\u2029]+/,SK=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];ft(r)||(n?s=r.toString().split(""):s=r.toString().split(NK));var o=s.map(function(c){return{word:c,width:eg(c,i).width}}),l=n?0:eg("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},gTe=function(e,r,n,i,s){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,f=ke(o),m=l,p=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(K,X){var U=X.word,Q=X.width,ne=K[K.length-1];if(ne&&(i==null||s||ne.width+Q+n<Number(i)))ne.words.push(U),ne.width+=Q+n;else{var W={words:[U],width:Q};K.push(W)}return K},[])},v=p(r),w=function(Y){return Y.reduce(function(K,X){return K.width>X.width?K:X})};if(!f)return v;for(var x="",g=function(Y){var K=m.slice(0,Y),X=SK({breakAll:d,style:c,children:K+x}).wordsWithComputedWidth,U=p(X),Q=U.length>o||w(U).width>Number(i);return[Q,U]},_=0,T=m.length-1,P=0,I;_<=T&&P<=m.length-1;){var A=Math.floor((_+T)/2),C=A-1,E=g(C),N=JF(E,2),O=N[0],D=N[1],L=g(A),$=JF(L,1),F=$[0];if(!O&&!F&&(_=A+1),O&&F&&(T=A-1),!O&&F){I=D;break}P++}return I||v},eV=function(e){var r=ft(e)?[]:e.toString().split(NK);return[{words:r}]},yTe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!wl.isSsr){var c,d,f=SK({breakAll:o,children:i,style:s});if(f){var m=f.wordsWithComputedWidth,p=f.spaceWidth;c=m,d=p}else return eV(i);return gTe({breakAll:o,children:i,maxLines:l,style:s},c,d,r,n)}return eV(i)},tV="#808080",fd=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,f=e.scaleToFit,m=f===void 0?!1:f,p=e.textAnchor,v=p===void 0?"start":p,w=e.verticalAnchor,x=w===void 0?"end":w,g=e.fill,_=g===void 0?tV:g,T=XF(e,cTe),P=S.useMemo(function(){return yTe({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:m,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,m,T.style,T.width]),I=T.dx,A=T.dy,C=T.angle,E=T.className,N=T.breakAll,O=XF(T,uTe);if(!pn(n)||!pn(s))return null;var D=n+(ke(I)?I:0),L=s+(ke(A)?A:0),$;switch(x){case"start":$=_T("calc(".concat(d,")"));break;case"middle":$=_T("calc(".concat((P.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:$=_T("calc(".concat(P.length-1," * -").concat(l,")"));break}var F=[];if(m){var G=P[0].width,Y=T.width;F.push("scale(".concat((ke(Y)?Y/G:1)/G,")"))}return C&&F.push("rotate(".concat(C,", ").concat(D,", ").concat(L,")")),F.length&&(O.transform=F.join(" ")),z.createElement("text",iA({},Ye(O,!0),{x:D,y:L,className:dt("recharts-text",E),textAnchor:v,fill:_.includes("url")?tV:_}),P.map(function(K,X){var U=K.words.join(N?"":" ");return z.createElement("tspan",{x:D,dy:X===0?$:l,key:"".concat(U,"-").concat(X)},U)}))};function jc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vTe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iO(t){let e,r,n;t.length!==2?(e=jc,r=(l,c)=>jc(t(l),c),n=(l,c)=>t(l)-c):(e=t===jc||t===vTe?t:xTe,r=t,n=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;r(l[m],c)<0?d=m+1:f=m}while(d<f)}return d}function s(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;r(l[m],c)<=0?d=m+1:f=m}while(d<f)}return d}function o(l,c,d=0,f=l.length){const m=i(l,c,d,f-1);return m>d&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:i,center:o,right:s}}function xTe(){return 0}function TK(t){return t===null?NaN:+t}function*bTe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const wTe=iO(jc),Wy=wTe.right;iO(TK).center;class rV extends Map{constructor(e,r=NTe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(nV(this,e))}has(e){return super.has(nV(this,e))}set(e,r){return super.set(_Te(this,e),r)}delete(e){return super.delete(jTe(this,e))}}function nV({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function _Te({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function jTe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function NTe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function STe(t=jc){if(t===jc)return EK;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function EK(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const TTe=Math.sqrt(50),ETe=Math.sqrt(10),PTe=Math.sqrt(2);function bb(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=TTe?10:s>=ETe?5:s>=PTe?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?bb(t,e,r*2):[l,c,d]}function sA(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?bb(e,t,r):bb(t,e,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(s-d)/-o;else for(let d=0;d<l;++d)c[d]=(s-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function aA(t,e,r){return e=+e,t=+t,r=+r,bb(t,e,r)[2]}function oA(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?aA(e,t,r):aA(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function iV(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function sV(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function PK(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?EK:STe(i);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,f=Math.log(c),m=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*m*(c-m)/c)*(d-c/2<0?-1:1),v=Math.max(r,Math.floor(e-d*m/c+p)),w=Math.min(n,Math.floor(e+(c-d)*m/c+p));PK(t,e,v,w,i)}const s=t[e];let o=r,l=n;for(vp(t,r,e),i(t[n],s)>0&&vp(t,r,n);o<l;){for(vp(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[r],s)===0?vp(t,r,l):(++l,vp(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function vp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function ATe(t,e,r){if(t=Float64Array.from(bTe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return sV(t);if(e>=1)return iV(t);var n,i=(n-1)*e,s=Math.floor(i),o=iV(PK(t,s).subarray(0,s+1)),l=sV(t.subarray(s+1));return o+(l-o)*(i-s)}}function CTe(t,e,r=TK){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function kTe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Vs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _l(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const lA=Symbol("implicit");function sO(){var t=new rV,e=[],r=[],n=lA;function i(s){let o=t.get(s);if(o===void 0){if(n!==lA)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new rV;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return sO(e,r).unknown(n)},Vs.apply(i,arguments),i}function Lg(){var t=sO().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,l=!1,c=0,d=0,f=.5;delete t.unknown;function m(){var p=e().length,v=i<n,w=v?i:n,x=v?n:i;s=(x-w)/Math.max(1,p-c+d*2),l&&(s=Math.floor(s)),w+=(x-w-s*(p-c))*f,o=s*(1-c),l&&(w=Math.round(w),o=Math.round(o));var g=kTe(p).map(function(_){return w+s*_});return r(v?g.reverse():g)}return t.domain=function(p){return arguments.length?(e(p),m()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(p){return arguments.length?(l=!!p,m()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),m()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},t.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),m()):f},t.copy=function(){return Lg(e(),[n,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},Vs.apply(m(),arguments)}function AK(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return AK(e())},t}function tg(){return AK(Lg.apply(null,arguments).paddingInner(1))}function aO(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function CK(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Hy(){}var $g=.7,wb=1/$g,Xh="\\s*([+-]?\\d+)\\s*",Fg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ja="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ITe=/^#([0-9a-f]{3,8})$/,OTe=new RegExp(`^rgb\\(${Xh},${Xh},${Xh}\\)$`),RTe=new RegExp(`^rgb\\(${Ja},${Ja},${Ja}\\)$`),MTe=new RegExp(`^rgba\\(${Xh},${Xh},${Xh},${Fg}\\)$`),DTe=new RegExp(`^rgba\\(${Ja},${Ja},${Ja},${Fg}\\)$`),LTe=new RegExp(`^hsl\\(${Fg},${Ja},${Ja}\\)$`),$Te=new RegExp(`^hsla\\(${Fg},${Ja},${Ja},${Fg}\\)$`),aV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aO(Hy,Vg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:oV,formatHex:oV,formatHex8:FTe,formatHsl:VTe,formatRgb:lV,toString:lV});function oV(){return this.rgb().formatHex()}function FTe(){return this.rgb().formatHex8()}function VTe(){return kK(this).formatHsl()}function lV(){return this.rgb().formatRgb()}function Vg(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=ITe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?cV(e):r===3?new Ui(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?$v(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?$v(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=OTe.exec(t))?new Ui(e[1],e[2],e[3],1):(e=RTe.exec(t))?new Ui(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=MTe.exec(t))?$v(e[1],e[2],e[3],e[4]):(e=DTe.exec(t))?$v(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=LTe.exec(t))?hV(e[1],e[2]/100,e[3]/100,1):(e=$Te.exec(t))?hV(e[1],e[2]/100,e[3]/100,e[4]):aV.hasOwnProperty(t)?cV(aV[t]):t==="transparent"?new Ui(NaN,NaN,NaN,0):null}function cV(t){return new Ui(t>>16&255,t>>8&255,t&255,1)}function $v(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ui(t,e,r,n)}function BTe(t){return t instanceof Hy||(t=Vg(t)),t?(t=t.rgb(),new Ui(t.r,t.g,t.b,t.opacity)):new Ui}function cA(t,e,r,n){return arguments.length===1?BTe(t):new Ui(t,e,r,n??1)}function Ui(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}aO(Ui,cA,CK(Hy,{brighter(t){return t=t==null?wb:Math.pow(wb,t),new Ui(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$g:Math.pow($g,t),new Ui(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ui(Ju(this.r),Ju(this.g),Ju(this.b),_b(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uV,formatHex:uV,formatHex8:qTe,formatRgb:dV,toString:dV}));function uV(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}`}function qTe(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}${Fu((isNaN(this.opacity)?1:this.opacity)*255)}`}function dV(){const t=_b(this.opacity);return`${t===1?"rgb(":"rgba("}${Ju(this.r)}, ${Ju(this.g)}, ${Ju(this.b)}${t===1?")":`, ${t})`}`}function _b(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ju(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fu(t){return t=Ju(t),(t<16?"0":"")+t.toString(16)}function hV(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new na(t,e,r,n)}function kK(t){if(t instanceof na)return new na(t.h,t.s,t.l,t.opacity);if(t instanceof Hy||(t=Vg(t)),!t)return new na;if(t instanceof na)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new na(o,l,c,t.opacity)}function UTe(t,e,r,n){return arguments.length===1?kK(t):new na(t,e,r,n??1)}function na(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}aO(na,UTe,CK(Hy,{brighter(t){return t=t==null?wb:Math.pow(wb,t),new na(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$g:Math.pow($g,t),new na(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ui(jT(t>=240?t-240:t+120,i,n),jT(t,i,n),jT(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new na(fV(this.h),Fv(this.s),Fv(this.l),_b(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_b(this.opacity);return`${t===1?"hsl(":"hsla("}${fV(this.h)}, ${Fv(this.s)*100}%, ${Fv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fV(t){return t=(t||0)%360,t<0?t+360:t}function Fv(t){return Math.max(0,Math.min(1,t||0))}function jT(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const oO=t=>()=>t;function zTe(t,e){return function(r){return t+r*e}}function WTe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function HTe(t){return(t=+t)==1?IK:function(e,r){return r-e?WTe(e,r,t):oO(isNaN(e)?r:e)}}function IK(t,e){var r=e-t;return r?zTe(t,r):oO(isNaN(t)?e:t)}const mV=(function t(e){var r=HTe(e);function n(i,s){var o=r((i=cA(i)).r,(s=cA(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),d=IK(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return n.gamma=t,n})(1);function GTe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function KTe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function YTe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=fm(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function QTe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function jb(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function XTe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=fm(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var uA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,NT=new RegExp(uA.source,"g");function JTe(t){return function(){return t}}function ZTe(t){return function(e){return t(e)+""}}function eEe(t,e){var r=uA.lastIndex=NT.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=uA.exec(t))&&(i=NT.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:jb(n,i)})),r=NT.lastIndex;return r<e.length&&(s=e.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?ZTe(c[0].x):JTe(e):(e=c.length,function(d){for(var f=0,m;f<e;++f)l[(m=c[f]).i]=m.x(d);return l.join("")})}function fm(t,e){var r=typeof e,n;return e==null||r==="boolean"?oO(e):(r==="number"?jb:r==="string"?(n=Vg(e))?(e=n,mV):eEe:e instanceof Vg?mV:e instanceof Date?QTe:KTe(e)?GTe:Array.isArray(e)?YTe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?XTe:jb)(t,e)}function lO(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function tEe(t,e){e===void 0&&(e=t,t=fm);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function rEe(t){return function(){return t}}function Nb(t){return+t}var pV=[0,1];function Ni(t){return t}function dA(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:rEe(isNaN(e)?NaN:.5)}function nEe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function iEe(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=dA(i,n),s=r(o,s)):(n=dA(n,i),s=r(s,o)),function(l){return s(n(l))}}function sEe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=dA(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(l){var c=Wy(t,l,1,n)-1;return s[c](i[c](l))}}function Gy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function g1(){var t=pV,e=pV,r=fm,n,i,s,o=Ni,l,c,d;function f(){var p=Math.min(t.length,e.length);return o!==Ni&&(o=nEe(t[0],t[p-1])),l=p>2?sEe:iEe,c=d=null,m}function m(p){return p==null||isNaN(p=+p)?s:(c||(c=l(t.map(n),e,r)))(n(o(p)))}return m.invert=function(p){return o(i((d||(d=l(e,t.map(n),jb)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,Nb),f()):t.slice()},m.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},m.rangeRound=function(p){return e=Array.from(p),r=lO,f()},m.clamp=function(p){return arguments.length?(o=p?!0:Ni,f()):o!==Ni},m.interpolate=function(p){return arguments.length?(r=p,f()):r},m.unknown=function(p){return arguments.length?(s=p,m):s},function(p,v){return n=p,i=v,f()}}function cO(){return g1()(Ni,Ni)}function aEe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Sb(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function jf(t){return t=Sb(Math.abs(t)),t?t[1]:NaN}function oEe(t,e){return function(r,n){for(var i=r.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function lEe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var cEe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bg(t){if(!(e=cEe.exec(t)))throw new Error("invalid format: "+t);var e;return new uO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bg.prototype=uO.prototype;function uO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}uO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uEe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var OK;function dEe(t,e){var r=Sb(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(OK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Sb(t,Math.max(0,e+s-1))[0]}function gV(t,e){var r=Sb(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const yV={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:aEe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gV(t*100,e),r:gV,s:dEe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function vV(t){return t}var xV=Array.prototype.map,bV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hEe(t){var e=t.grouping===void 0||t.thousands===void 0?vV:oEe(xV.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?vV:lEe(xV.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=Bg(m);var p=m.fill,v=m.align,w=m.sign,x=m.symbol,g=m.zero,_=m.width,T=m.comma,P=m.precision,I=m.trim,A=m.type;A==="n"?(T=!0,A="g"):yV[A]||(P===void 0&&(P=12),I=!0,A="g"),(g||p==="0"&&v==="=")&&(g=!0,p="0",v="=");var C=x==="$"?r:x==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",E=x==="$"?n:/[%p]/.test(A)?o:"",N=yV[A],O=/[defgprs%]/.test(A);P=P===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function D(L){var $=C,F=E,G,Y,K;if(A==="c")F=N(L)+F,L="";else{L=+L;var X=L<0||1/L<0;if(L=isNaN(L)?c:N(Math.abs(L),P),I&&(L=uEe(L)),X&&+L==0&&w!=="+"&&(X=!1),$=(X?w==="("?w:l:w==="-"||w==="("?"":w)+$,F=(A==="s"?bV[8+OK/3]:"")+F+(X&&w==="("?")":""),O){for(G=-1,Y=L.length;++G<Y;)if(K=L.charCodeAt(G),48>K||K>57){F=(K===46?i+L.slice(G+1):L.slice(G))+F,L=L.slice(0,G);break}}}T&&!g&&(L=e(L,1/0));var U=$.length+L.length+F.length,Q=U<_?new Array(_-U+1).join(p):"";switch(T&&g&&(L=e(Q+L,Q.length?_-F.length:1/0),Q=""),v){case"<":L=$+L+F+Q;break;case"=":L=$+Q+L+F;break;case"^":L=Q.slice(0,U=Q.length>>1)+$+L+F+Q.slice(U);break;default:L=Q+$+L+F;break}return s(L)}return D.toString=function(){return m+""},D}function f(m,p){var v=d((m=Bg(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(jf(p)/3)))*3,x=Math.pow(10,-w),g=bV[8+w/3];return function(_){return v(x*_)+g}}return{format:d,formatPrefix:f}}var Vv,dO,RK;fEe({thousands:",",grouping:[3],currency:["$",""]});function fEe(t){return Vv=hEe(t),dO=Vv.format,RK=Vv.formatPrefix,Vv}function mEe(t){return Math.max(0,-jf(Math.abs(t)))}function pEe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jf(e)/3)))*3-jf(Math.abs(t)))}function gEe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jf(e)-jf(t))+1}function MK(t,e,r,n){var i=oA(t,e,r),s;switch(n=Bg(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=pEe(i,o))&&(n.precision=s),RK(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=gEe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=mEe(i))&&(n.precision=s-(n.type==="%")*2);break}}return dO(n)}function Hc(t){var e=t.domain;return t.ticks=function(r){var n=e();return sA(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return MK(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],l=n[s],c,d,f=10;for(l<o&&(d=o,o=l,l=d,d=i,i=s,s=d);f-- >0;){if(d=aA(o,l,r),d===c)return n[i]=o,n[s]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function Tb(){var t=cO();return t.copy=function(){return Gy(t,Tb())},Vs.apply(t,arguments),Hc(t)}function DK(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Nb),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return DK(t).unknown(e)},t=arguments.length?Array.from(t,Nb):[0,1],Hc(r)}function LK(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function wV(t){return Math.log(t)}function _V(t){return Math.exp(t)}function yEe(t){return-Math.log(-t)}function vEe(t){return-Math.exp(-t)}function xEe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bEe(t){return t===10?xEe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function wEe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function jV(t){return(e,r)=>-t(-e,r)}function hO(t){const e=t(wV,_V),r=e.domain;let n=10,i,s;function o(){return i=wEe(n),s=bEe(n),r()[0]<0?(i=jV(i),s=jV(s),t(yEe,vEe)):t(wV,_V),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],f=c[c.length-1];const m=f<d;m&&([d,f]=[f,d]);let p=i(d),v=i(f),w,x;const g=l==null?10:+l;let _=[];if(!(n%1)&&v-p<g){if(p=Math.floor(p),v=Math.ceil(v),d>0){for(;p<=v;++p)for(w=1;w<n;++w)if(x=p<0?w/s(-p):w*s(p),!(x<d)){if(x>f)break;_.push(x)}}else for(;p<=v;++p)for(w=n-1;w>=1;--w)if(x=p>0?w/s(-p):w*s(p),!(x<d)){if(x>f)break;_.push(x)}_.length*2<g&&(_=sA(d,f,g))}else _=sA(p,v,Math.min(v-p,g)).map(s);return m?_.reverse():_},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Bg(c)).precision==null&&(c.trim=!0),c=dO(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return f=>{let m=f/s(Math.round(i(f)));return m*n<n-.5&&(m*=n),m<=d?c(f):""}},e.nice=()=>r(LK(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function $K(){const t=hO(g1()).domain([1,10]);return t.copy=()=>Gy(t,$K()).base(t.base()),Vs.apply(t,arguments),t}function NV(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function SV(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function fO(t){var e=1,r=t(NV(e),SV(e));return r.constant=function(n){return arguments.length?t(NV(e=+n),SV(e)):e},Hc(r)}function FK(){var t=fO(g1());return t.copy=function(){return Gy(t,FK()).constant(t.constant())},Vs.apply(t,arguments)}function TV(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function _Ee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function jEe(t){return t<0?-t*t:t*t}function mO(t){var e=t(Ni,Ni),r=1;function n(){return r===1?t(Ni,Ni):r===.5?t(_Ee,jEe):t(TV(r),TV(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Hc(e)}function pO(){var t=mO(g1());return t.copy=function(){return Gy(t,pO()).exponent(t.exponent())},Vs.apply(t,arguments),t}function NEe(){return pO.apply(null,arguments).exponent(.5)}function EV(t){return Math.sign(t)*t*t}function SEe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function VK(){var t=cO(),e=[0,1],r=!1,n;function i(s){var o=SEe(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(EV(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Nb)).map(EV)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return VK(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Vs.apply(i,arguments),Hc(i)}function BK(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=CTe(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:e[Wy(r,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(jc),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return BK().domain(t).range(e).unknown(n)},Vs.apply(s,arguments)}function qK(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[Wy(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return qK().domain([t,e]).range(i).unknown(s)},Vs.apply(Hc(o),arguments)}function UK(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Wy(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return UK().domain(t).range(e).unknown(r)},Vs.apply(i,arguments)}const ST=new Date,TT=new Date;function xn(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let d;do c.push(d=new Date(+s)),e(s,l),t(s);while(d<s&&s<o);return c},i.filter=s=>xn(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(ST.setTime(+s),TT.setTime(+o),t(ST),t(TT),Math.floor(r(ST,TT))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Eb=xn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Eb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Eb);Eb.range;const Uo=1e3,Os=Uo*60,zo=Os*60,ul=zo*24,gO=ul*7,PV=ul*30,ET=ul*365,Vu=xn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getUTCSeconds());Vu.range;const yO=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Uo)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getMinutes());yO.range;const vO=xn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCMinutes());vO.range;const xO=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Uo-t.getMinutes()*Os)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getHours());xO.range;const bO=xn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getUTCHours());bO.range;const Ky=xn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Os)/ul,t=>t.getDate()-1);Ky.range;const y1=xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ul,t=>t.getUTCDate()-1);y1.range;const zK=xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ul,t=>Math.floor(t/ul));zK.range;function Cd(t){return xn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Os)/gO)}const v1=Cd(0),Pb=Cd(1),TEe=Cd(2),EEe=Cd(3),Nf=Cd(4),PEe=Cd(5),AEe=Cd(6);v1.range;Pb.range;TEe.range;EEe.range;Nf.range;PEe.range;AEe.range;function kd(t){return xn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/gO)}const x1=kd(0),Ab=kd(1),CEe=kd(2),kEe=kd(3),Sf=kd(4),IEe=kd(5),OEe=kd(6);x1.range;Ab.range;CEe.range;kEe.range;Sf.range;IEe.range;OEe.range;const wO=xn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());wO.range;const _O=xn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_O.range;const dl=xn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());dl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});dl.range;const hl=xn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());hl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});hl.range;function WK(t,e,r,n,i,s){const o=[[Vu,1,Uo],[Vu,5,5*Uo],[Vu,15,15*Uo],[Vu,30,30*Uo],[s,1,Os],[s,5,5*Os],[s,15,15*Os],[s,30,30*Os],[i,1,zo],[i,3,3*zo],[i,6,6*zo],[i,12,12*zo],[n,1,ul],[n,2,2*ul],[r,1,gO],[e,1,PV],[e,3,3*PV],[t,1,ET]];function l(d,f,m){const p=f<d;p&&([d,f]=[f,d]);const v=m&&typeof m.range=="function"?m:c(d,f,m),w=v?v.range(d,+f+1):[];return p?w.reverse():w}function c(d,f,m){const p=Math.abs(f-d)/m,v=iO(([,,g])=>g).right(o,p);if(v===o.length)return t.every(oA(d/ET,f/ET,m));if(v===0)return Eb.every(Math.max(oA(d,f,m),1));const[w,x]=o[p/o[v-1][2]<o[v][2]/p?v-1:v];return w.every(x)}return[l,c]}const[REe,MEe]=WK(hl,_O,x1,zK,bO,vO),[DEe,LEe]=WK(dl,wO,v1,Ky,xO,yO);function PT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function AT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function $Ee(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=bp(i),f=wp(i),m=bp(s),p=wp(s),v=bp(o),w=wp(o),x=bp(l),g=wp(l),_=bp(c),T=wp(c),P={a:X,A:U,b:Q,B:ne,c:null,d:RV,e:RV,f:oPe,g:yPe,G:xPe,H:iPe,I:sPe,j:aPe,L:HK,m:lPe,M:cPe,p:W,q:Z,Q:LV,s:$V,S:uPe,u:dPe,U:hPe,V:fPe,w:mPe,W:pPe,x:null,X:null,y:gPe,Y:vPe,Z:bPe,"%":DV},I={a:ue,A:le,b:be,B:ge,c:null,d:MV,e:MV,f:NPe,g:RPe,G:DPe,H:wPe,I:_Pe,j:jPe,L:KK,m:SPe,M:TPe,p:me,q:Ie,Q:LV,s:$V,S:EPe,u:PPe,U:APe,V:CPe,w:kPe,W:IPe,x:null,X:null,y:OPe,Y:MPe,Z:LPe,"%":DV},A={a:D,A:L,b:$,B:F,c:G,d:IV,e:IV,f:ePe,g:kV,G:CV,H:OV,I:OV,j:QEe,L:ZEe,m:YEe,M:XEe,p:O,q:KEe,Q:rPe,s:nPe,S:JEe,u:UEe,U:zEe,V:WEe,w:qEe,W:HEe,x:Y,X:K,y:kV,Y:CV,Z:GEe,"%":tPe};P.x=C(r,P),P.X=C(n,P),P.c=C(e,P),I.x=C(r,I),I.X=C(n,I),I.c=C(e,I);function C(fe,Pe){return function(Re){var he=[],ot=-1,et=0,kt=fe.length,It,Gt,Hr;for(Re instanceof Date||(Re=new Date(+Re));++ot<kt;)fe.charCodeAt(ot)===37&&(he.push(fe.slice(et,ot)),(Gt=AV[It=fe.charAt(++ot)])!=null?It=fe.charAt(++ot):Gt=It==="e"?" ":"0",(Hr=Pe[It])&&(It=Hr(Re,Gt)),he.push(It),et=ot+1);return he.push(fe.slice(et,ot)),he.join("")}}function E(fe,Pe){return function(Re){var he=xp(1900,void 0,1),ot=N(he,fe,Re+="",0),et,kt;if(ot!=Re.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Pe&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(et=AT(xp(he.y,0,1)),kt=et.getUTCDay(),et=kt>4||kt===0?Ab.ceil(et):Ab(et),et=y1.offset(et,(he.V-1)*7),he.y=et.getUTCFullYear(),he.m=et.getUTCMonth(),he.d=et.getUTCDate()+(he.w+6)%7):(et=PT(xp(he.y,0,1)),kt=et.getDay(),et=kt>4||kt===0?Pb.ceil(et):Pb(et),et=Ky.offset(et,(he.V-1)*7),he.y=et.getFullYear(),he.m=et.getMonth(),he.d=et.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),kt="Z"in he?AT(xp(he.y,0,1)).getUTCDay():PT(xp(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(kt+5)%7:he.w+he.U*7-(kt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,AT(he)):PT(he)}}function N(fe,Pe,Re,he){for(var ot=0,et=Pe.length,kt=Re.length,It,Gt;ot<et;){if(he>=kt)return-1;if(It=Pe.charCodeAt(ot++),It===37){if(It=Pe.charAt(ot++),Gt=A[It in AV?Pe.charAt(ot++):It],!Gt||(he=Gt(fe,Re,he))<0)return-1}else if(It!=Re.charCodeAt(he++))return-1}return he}function O(fe,Pe,Re){var he=d.exec(Pe.slice(Re));return he?(fe.p=f.get(he[0].toLowerCase()),Re+he[0].length):-1}function D(fe,Pe,Re){var he=v.exec(Pe.slice(Re));return he?(fe.w=w.get(he[0].toLowerCase()),Re+he[0].length):-1}function L(fe,Pe,Re){var he=m.exec(Pe.slice(Re));return he?(fe.w=p.get(he[0].toLowerCase()),Re+he[0].length):-1}function $(fe,Pe,Re){var he=_.exec(Pe.slice(Re));return he?(fe.m=T.get(he[0].toLowerCase()),Re+he[0].length):-1}function F(fe,Pe,Re){var he=x.exec(Pe.slice(Re));return he?(fe.m=g.get(he[0].toLowerCase()),Re+he[0].length):-1}function G(fe,Pe,Re){return N(fe,e,Pe,Re)}function Y(fe,Pe,Re){return N(fe,r,Pe,Re)}function K(fe,Pe,Re){return N(fe,n,Pe,Re)}function X(fe){return o[fe.getDay()]}function U(fe){return s[fe.getDay()]}function Q(fe){return c[fe.getMonth()]}function ne(fe){return l[fe.getMonth()]}function W(fe){return i[+(fe.getHours()>=12)]}function Z(fe){return 1+~~(fe.getMonth()/3)}function ue(fe){return o[fe.getUTCDay()]}function le(fe){return s[fe.getUTCDay()]}function be(fe){return c[fe.getUTCMonth()]}function ge(fe){return l[fe.getUTCMonth()]}function me(fe){return i[+(fe.getUTCHours()>=12)]}function Ie(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Pe=C(fe+="",P);return Pe.toString=function(){return fe},Pe},parse:function(fe){var Pe=E(fe+="",!1);return Pe.toString=function(){return fe},Pe},utcFormat:function(fe){var Pe=C(fe+="",I);return Pe.toString=function(){return fe},Pe},utcParse:function(fe){var Pe=E(fe+="",!0);return Pe.toString=function(){return fe},Pe}}}var AV={"-":"",_:" ",0:"0"},Cn=/^\s*\d+/,FEe=/^%/,VEe=/[\\^$*+?|[\]().{}]/g;function Xt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function BEe(t){return t.replace(VEe,"\\$&")}function bp(t){return new RegExp("^(?:"+t.map(BEe).join("|")+")","i")}function wp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function qEe(t,e,r){var n=Cn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function UEe(t,e,r){var n=Cn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function zEe(t,e,r){var n=Cn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function WEe(t,e,r){var n=Cn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function HEe(t,e,r){var n=Cn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function CV(t,e,r){var n=Cn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function kV(t,e,r){var n=Cn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GEe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function KEe(t,e,r){var n=Cn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function YEe(t,e,r){var n=Cn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function IV(t,e,r){var n=Cn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function QEe(t,e,r){var n=Cn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function OV(t,e,r){var n=Cn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function XEe(t,e,r){var n=Cn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function JEe(t,e,r){var n=Cn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function ZEe(t,e,r){var n=Cn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function ePe(t,e,r){var n=Cn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tPe(t,e,r){var n=FEe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function rPe(t,e,r){var n=Cn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function nPe(t,e,r){var n=Cn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function RV(t,e){return Xt(t.getDate(),e,2)}function iPe(t,e){return Xt(t.getHours(),e,2)}function sPe(t,e){return Xt(t.getHours()%12||12,e,2)}function aPe(t,e){return Xt(1+Ky.count(dl(t),t),e,3)}function HK(t,e){return Xt(t.getMilliseconds(),e,3)}function oPe(t,e){return HK(t,e)+"000"}function lPe(t,e){return Xt(t.getMonth()+1,e,2)}function cPe(t,e){return Xt(t.getMinutes(),e,2)}function uPe(t,e){return Xt(t.getSeconds(),e,2)}function dPe(t){var e=t.getDay();return e===0?7:e}function hPe(t,e){return Xt(v1.count(dl(t)-1,t),e,2)}function GK(t){var e=t.getDay();return e>=4||e===0?Nf(t):Nf.ceil(t)}function fPe(t,e){return t=GK(t),Xt(Nf.count(dl(t),t)+(dl(t).getDay()===4),e,2)}function mPe(t){return t.getDay()}function pPe(t,e){return Xt(Pb.count(dl(t)-1,t),e,2)}function gPe(t,e){return Xt(t.getFullYear()%100,e,2)}function yPe(t,e){return t=GK(t),Xt(t.getFullYear()%100,e,2)}function vPe(t,e){return Xt(t.getFullYear()%1e4,e,4)}function xPe(t,e){var r=t.getDay();return t=r>=4||r===0?Nf(t):Nf.ceil(t),Xt(t.getFullYear()%1e4,e,4)}function bPe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xt(e/60|0,"0",2)+Xt(e%60,"0",2)}function MV(t,e){return Xt(t.getUTCDate(),e,2)}function wPe(t,e){return Xt(t.getUTCHours(),e,2)}function _Pe(t,e){return Xt(t.getUTCHours()%12||12,e,2)}function jPe(t,e){return Xt(1+y1.count(hl(t),t),e,3)}function KK(t,e){return Xt(t.getUTCMilliseconds(),e,3)}function NPe(t,e){return KK(t,e)+"000"}function SPe(t,e){return Xt(t.getUTCMonth()+1,e,2)}function TPe(t,e){return Xt(t.getUTCMinutes(),e,2)}function EPe(t,e){return Xt(t.getUTCSeconds(),e,2)}function PPe(t){var e=t.getUTCDay();return e===0?7:e}function APe(t,e){return Xt(x1.count(hl(t)-1,t),e,2)}function YK(t){var e=t.getUTCDay();return e>=4||e===0?Sf(t):Sf.ceil(t)}function CPe(t,e){return t=YK(t),Xt(Sf.count(hl(t),t)+(hl(t).getUTCDay()===4),e,2)}function kPe(t){return t.getUTCDay()}function IPe(t,e){return Xt(Ab.count(hl(t)-1,t),e,2)}function OPe(t,e){return Xt(t.getUTCFullYear()%100,e,2)}function RPe(t,e){return t=YK(t),Xt(t.getUTCFullYear()%100,e,2)}function MPe(t,e){return Xt(t.getUTCFullYear()%1e4,e,4)}function DPe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Sf(t):Sf.ceil(t),Xt(t.getUTCFullYear()%1e4,e,4)}function LPe(){return"+0000"}function DV(){return"%"}function LV(t){return+t}function $V(t){return Math.floor(+t/1e3)}var wh,QK,XK;$Pe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $Pe(t){return wh=$Ee(t),QK=wh.format,wh.parse,XK=wh.utcFormat,wh.utcParse,wh}function FPe(t){return new Date(t)}function VPe(t){return t instanceof Date?+t:+new Date(+t)}function jO(t,e,r,n,i,s,o,l,c,d){var f=cO(),m=f.invert,p=f.domain,v=d(".%L"),w=d(":%S"),x=d("%I:%M"),g=d("%I %p"),_=d("%a %d"),T=d("%b %d"),P=d("%B"),I=d("%Y");function A(C){return(c(C)<C?v:l(C)<C?w:o(C)<C?x:s(C)<C?g:n(C)<C?i(C)<C?_:T:r(C)<C?P:I)(C)}return f.invert=function(C){return new Date(m(C))},f.domain=function(C){return arguments.length?p(Array.from(C,VPe)):p().map(FPe)},f.ticks=function(C){var E=p();return t(E[0],E[E.length-1],C??10)},f.tickFormat=function(C,E){return E==null?A:d(E)},f.nice=function(C){var E=p();return(!C||typeof C.range!="function")&&(C=e(E[0],E[E.length-1],C??10)),C?p(LK(E,C)):f},f.copy=function(){return Gy(f,jO(t,e,r,n,i,s,o,l,c,d))},f}function BPe(){return Vs.apply(jO(DEe,LEe,dl,wO,v1,Ky,xO,yO,Vu,QK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qPe(){return Vs.apply(jO(REe,MEe,hl,_O,x1,y1,bO,vO,Vu,XK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function b1(){var t=0,e=1,r,n,i,s,o=Ni,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(i===0?.5:(m=(s(m)-r)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function f(m){return function(p){var v,w;return arguments.length?([v,w]=p,o=m(v,w),d):[o(0),o(1)]}}return d.range=f(fm),d.rangeRound=f(lO),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return s=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),d}}function Gc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function JK(){var t=Hc(b1()(Ni));return t.copy=function(){return Gc(t,JK())},_l.apply(t,arguments)}function ZK(){var t=hO(b1()).domain([1,10]);return t.copy=function(){return Gc(t,ZK()).base(t.base())},_l.apply(t,arguments)}function eY(){var t=fO(b1());return t.copy=function(){return Gc(t,eY()).constant(t.constant())},_l.apply(t,arguments)}function NO(){var t=mO(b1());return t.copy=function(){return Gc(t,NO()).exponent(t.exponent())},_l.apply(t,arguments)}function UPe(){return NO.apply(null,arguments).exponent(.5)}function tY(){var t=[],e=Ni;function r(n){if(n!=null&&!isNaN(n=+n))return e((Wy(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(jc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>ATe(t,s/n))},r.copy=function(){return tY(e).domain(t)},_l.apply(r,arguments)}function w1(){var t=0,e=.5,r=1,n=1,i,s,o,l,c,d=Ni,f,m=!1,p;function v(x){return isNaN(x=+x)?p:(x=.5+((x=+f(x))-s)*(n*x<n*s?l:c),d(m?Math.max(0,Math.min(1,x)):x))}v.domain=function(x){return arguments.length?([t,e,r]=x,i=f(t=+t),s=f(e=+e),o=f(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v):[t,e,r]},v.clamp=function(x){return arguments.length?(m=!!x,v):m},v.interpolator=function(x){return arguments.length?(d=x,v):d};function w(x){return function(g){var _,T,P;return arguments.length?([_,T,P]=g,d=tEe(x,[_,T,P]),v):[d(0),d(.5),d(1)]}}return v.range=w(fm),v.rangeRound=w(lO),v.unknown=function(x){return arguments.length?(p=x,v):p},function(x){return f=x,i=x(t),s=x(e),o=x(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v}}function rY(){var t=Hc(w1()(Ni));return t.copy=function(){return Gc(t,rY())},_l.apply(t,arguments)}function nY(){var t=hO(w1()).domain([.1,1,10]);return t.copy=function(){return Gc(t,nY()).base(t.base())},_l.apply(t,arguments)}function iY(){var t=fO(w1());return t.copy=function(){return Gc(t,iY()).constant(t.constant())},_l.apply(t,arguments)}function SO(){var t=mO(w1());return t.copy=function(){return Gc(t,SO()).exponent(t.exponent())},_l.apply(t,arguments)}function zPe(){return SO.apply(null,arguments).exponent(.5)}const FV=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lg,scaleDiverging:rY,scaleDivergingLog:nY,scaleDivergingPow:SO,scaleDivergingSqrt:zPe,scaleDivergingSymlog:iY,scaleIdentity:DK,scaleImplicit:lA,scaleLinear:Tb,scaleLog:$K,scaleOrdinal:sO,scalePoint:tg,scalePow:pO,scaleQuantile:BK,scaleQuantize:qK,scaleRadial:VK,scaleSequential:JK,scaleSequentialLog:ZK,scaleSequentialPow:NO,scaleSequentialQuantile:tY,scaleSequentialSqrt:UPe,scaleSequentialSymlog:eY,scaleSqrt:NEe,scaleSymlog:FK,scaleThreshold:UK,scaleTime:BPe,scaleUtc:qPe,tickFormat:MK},Symbol.toStringTag,{value:"Module"}));var CT,VV;function _1(){if(VV)return CT;VV=1;var t=cm();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,f=l}return f}return CT=e,CT}var kT,BV;function sY(){if(BV)return kT;BV=1;function t(e,r){return e>r}return kT=t,kT}var IT,qV;function WPe(){if(qV)return IT;qV=1;var t=_1(),e=sY(),r=hm();function n(i){return i&&i.length?t(i,r,e):void 0}return IT=n,IT}var HPe=WPe();const gc=Jt(HPe);var OT,UV;function aY(){if(UV)return OT;UV=1;function t(e,r){return e<r}return OT=t,OT}var RT,zV;function GPe(){if(zV)return RT;zV=1;var t=_1(),e=aY(),r=hm();function n(i){return i&&i.length?t(i,r,e):void 0}return RT=n,RT}var KPe=GPe();const j1=Jt(KPe);var MT,WV;function YPe(){if(WV)return MT;WV=1;var t=BI(),e=mo(),r=mK(),n=Wi();function i(s,o){var l=n(s)?t:r;return l(s,e(o,3))}return MT=i,MT}var DT,HV;function QPe(){if(HV)return DT;HV=1;var t=hK(),e=YPe();function r(n,i){return t(e(n,i),1)}return DT=r,DT}var XPe=QPe();const JPe=Jt(XPe);var LT,GV;function ZPe(){if(GV)return LT;GV=1;var t=eO();function e(r,n){return t(r,n)}return LT=e,LT}var eAe=ZPe();const Fc=Jt(eAe);var mm=1e9,tAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},EO,Ir=!0,$s="[DecimalError] ",Zu=$s+"Invalid argument: ",TO=$s+"Exponent out of range: ",pm=Math.floor,Iu=Math.pow,rAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ss,Tn=1e7,Tr=7,oY=9007199254740991,Cb=pm(oY/Tr),Ue={};Ue.absoluteValue=Ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ue.comparedTo=Ue.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Tr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ue.dividedBy=Ue.div=function(t){return Qo(this,new this.constructor(t))};Ue.dividedToIntegerBy=Ue.idiv=function(t){var e=this,r=e.constructor;return gr(Qo(e,new r(t),0,1),r.precision)};Ue.equals=Ue.eq=function(t){return!this.cmp(t)};Ue.exponent=function(){return on(this)};Ue.greaterThan=Ue.gt=function(t){return this.cmp(t)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(t){return this.cmp(t)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(t){return this.cmp(t)<0};Ue.lessThanOrEqualTo=Ue.lte=function(t){return this.cmp(t)<1};Ue.logarithm=Ue.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ss))throw Error($s+"NaN");if(r.s<1)throw Error($s+(r.s?"NaN":"-Infinity"));return r.eq(ss)?new n(0):(Ir=!1,e=Qo(qg(r,s),qg(t,s),s),Ir=!0,gr(e,i))};Ue.minus=Ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?uY(e,t):lY(e,(t.s=-t.s,t))};Ue.modulo=Ue.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error($s+"NaN");return r.s?(Ir=!1,e=Qo(r,t,0,1).times(t),Ir=!0,r.minus(e)):gr(new n(r),i)};Ue.naturalExponential=Ue.exp=function(){return cY(this)};Ue.naturalLogarithm=Ue.ln=function(){return qg(this)};Ue.negated=Ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ue.plus=Ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?lY(e,t):uY(e,(t.s=-t.s,t))};Ue.precision=Ue.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zu+t);if(e=on(i)+1,n=i.d.length-1,r=n*Tr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ue.squareRoot=Ue.sqrt=function(){var t,e,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error($s+"NaN")}for(t=on(l),Ir=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ba(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=pm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Qo(l,s,o+2)).times(.5),Ba(s.d).slice(0,o)===(e=Ba(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(gr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;o+=4}return Ir=!0,gr(n,r)};Ue.times=Ue.mul=function(t){var e,r,n,i,s,o,l,c,d,f=this,m=f.constructor,p=f.d,v=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,r=f.e+t.e,c=p.length,d=v.length,c<d&&(s=p,p=v,v=s,o=c,c=d,d=o),s=[],o=c+d,n=o;n--;)s.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)l=s[i]+v[n]*p[i-n-1]+e,s[i--]=l%Tn|0,e=l/Tn|0;s[i]=(s[i]+e)%Tn|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Ir?gr(t,m.precision):t};Ue.toDecimalPlaces=Ue.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ao(t,0,mm),e===void 0?e=n.rounding:ao(e,0,8),gr(r,t+on(r)+1,e))};Ue.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=md(n,!0):(ao(t,0,mm),e===void 0?e=i.rounding:ao(e,0,8),n=gr(new i(n),t+1,e),r=md(n,!0,t+1)),r};Ue.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?md(i):(ao(t,0,mm),e===void 0?e=s.rounding:ao(e,0,8),n=gr(new s(i),t+on(i)+1,e),r=md(n.abs(),!1,t+on(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ue.toInteger=Ue.toint=function(){var t=this,e=t.constructor;return gr(new e(t),on(t)+1,e.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(t){var e,r,n,i,s,o,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(ss);if(l=new c(l),!l.s){if(t.s<1)throw Error($s+"Infinity");return l}if(l.eq(ss))return l;if(n=c.precision,t.eq(ss))return gr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=l.s,o){if((r=f<0?-f:f)<=oY){for(i=new c(ss),e=Math.ceil(n/Tr+4),Ir=!1;r%2&&(i=i.times(l),YV(i.d,e)),r=pm(r/2),r!==0;)l=l.times(l),YV(l.d,e);return Ir=!0,t.s<0?new c(ss).div(i):gr(i,n)}}else if(s<0)throw Error($s+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Ir=!1,i=t.times(qg(l,n+d)),Ir=!0,i=cY(i),i.s=s,i};Ue.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=on(i),n=md(i,r<=s.toExpNeg||r>=s.toExpPos)):(ao(t,1,mm),e===void 0?e=s.rounding:ao(e,0,8),i=gr(new s(i),t,e),r=on(i),n=md(i,t<=r||r<=s.toExpNeg,t)),n};Ue.toSignificantDigits=Ue.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ao(t,1,mm),e===void 0?e=n.rounding:ao(e,0,8)),gr(new n(r),t,e)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=on(t),r=t.constructor;return md(t,e<=r.toExpNeg||e>=r.toExpPos)};function lY(t,e){var r,n,i,s,o,l,c,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Ir?gr(e,m):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=d.length):(n=d,i=o,l=c.length),o=Math.ceil(m/Tr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,n=d,d=c,c=n),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/Tn|0,c[s]%=Tn;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ir?gr(e,m):e}function ao(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Zu+t)}function Ba(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=Tr-n.length,r&&(s+=tc(r)),s+=n;o=t[e],n=o+"",r=Tr-n.length,r&&(s+=tc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Qo=(function(){function t(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%Tn|0,o=s/Tn|0;return o&&n.unshift(o),n}function e(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Tn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,d,f,m,p,v,w,x,g,_,T,P,I,A,C,E,N,O=n.constructor,D=n.s==i.s?1:-1,L=n.d,$=i.d;if(!n.s)return new O(n);if(!i.s)throw Error($s+"Division by zero");for(c=n.e-i.e,E=$.length,A=L.length,v=new O(D),w=v.d=[],d=0;$[d]==(L[d]||0);)++d;if($[d]>(L[d]||0)&&--c,s==null?T=s=O.precision:o?T=s+(on(n)-on(i))+1:T=s,T<0)return new O(0);if(T=T/Tr+2|0,d=0,E==1)for(f=0,$=$[0],T++;(d<A||f)&&T--;d++)P=f*Tn+(L[d]||0),w[d]=P/$|0,f=P%$|0;else{for(f=Tn/($[0]+1)|0,f>1&&($=t($,f),L=t(L,f),E=$.length,A=L.length),I=E,x=L.slice(0,E),g=x.length;g<E;)x[g++]=0;N=$.slice(),N.unshift(0),C=$[0],$[1]>=Tn/2&&++C;do f=0,l=e($,x,E,g),l<0?(_=x[0],E!=g&&(_=_*Tn+(x[1]||0)),f=_/C|0,f>1?(f>=Tn&&(f=Tn-1),m=t($,f),p=m.length,g=x.length,l=e(m,x,p,g),l==1&&(f--,r(m,E<p?N:$,p))):(f==0&&(l=f=1),m=$.slice()),p=m.length,p<g&&m.unshift(0),r(x,m,g),l==-1&&(g=x.length,l=e($,x,E,g),l<1&&(f++,r(x,E<g?N:$,g))),g=x.length):l===0&&(f++,x=[0]),w[d++]=f,l&&x[0]?x[g++]=L[I]||0:(x=[L[I]],g=1);while((I++<A||x[0]!==void 0)&&T--)}return w[0]||w.shift(),v.e=c,gr(v,o?s+on(v)+1:s)}})();function cY(t,e){var r,n,i,s,o,l,c=0,d=0,f=t.constructor,m=f.precision;if(on(t)>16)throw Error(TO+on(t));if(!t.s)return new f(ss);for(Ir=!1,l=m,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(Iu(2,d))/Math.LN10*2+5|0,l+=n,r=i=s=new f(ss),f.precision=l;;){if(i=gr(i.times(t),l),r=r.times(++c),o=s.plus(Qo(i,r,l)),Ba(o.d).slice(0,l)===Ba(s.d).slice(0,l)){for(;d--;)s=gr(s.times(s),l);return f.precision=m,e==null?(Ir=!0,gr(s,m)):s}s=o}}function on(t){for(var e=t.e*Tr,r=t.d[0];r>=10;r/=10)e++;return e}function $T(t,e,r){if(e>t.LN10.sd())throw Ir=!0,r&&(t.precision=r),Error($s+"LN10 precision limit exceeded");return gr(new t(t.LN10),e)}function tc(t){for(var e="";t--;)e+="0";return e}function qg(t,e){var r,n,i,s,o,l,c,d,f,m=1,p=10,v=t,w=v.d,x=v.constructor,g=x.precision;if(v.s<1)throw Error($s+(v.s?"NaN":"-Infinity"));if(v.eq(ss))return new x(0);if(e==null?(Ir=!1,d=g):d=e,v.eq(10))return e==null&&(Ir=!0),$T(x,d);if(d+=p,x.precision=d,r=Ba(w),n=r.charAt(0),s=on(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=Ba(v.d),n=r.charAt(0),m++;s=on(v),n>1?(v=new x("0."+r),s++):v=new x(n+"."+r.slice(1))}else return c=$T(x,d+2,g).times(s+""),v=qg(new x(n+"."+r.slice(1)),d-p).plus(c),x.precision=g,e==null?(Ir=!0,gr(v,g)):v;for(l=o=v=Qo(v.minus(ss),v.plus(ss),d),f=gr(v.times(v),d),i=3;;){if(o=gr(o.times(f),d),c=l.plus(Qo(o,new x(i),d)),Ba(c.d).slice(0,d)===Ba(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus($T(x,d+2,g).times(s+""))),l=Qo(l,new x(m),d),x.precision=g,e==null?(Ir=!0,gr(l,g)):l;l=c,i+=2}}function KV(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=pm(r/Tr),t.d=[],n=(r+1)%Tr,r<0&&(n+=Tr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Tr;n<i;)t.d.push(+e.slice(n,n+=Tr));e=e.slice(n),n=Tr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ir&&(t.e>Cb||t.e<-Cb))throw Error(TO+r)}else t.s=0,t.e=0,t.d=[0];return t}function gr(t,e,r){var n,i,s,o,l,c,d,f,m=t.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=Tr,i=e,d=m[f=0];else{if(f=Math.ceil((n+1)/Tr),s=m.length,f>=s)return t;for(d=s=m[f],o=1;s>=10;s/=10)o++;n%=Tr,i=n-Tr+o}if(r!==void 0&&(s=Iu(10,o-i-1),l=d/s%10|0,c=e<0||m[f+1]!==void 0||d%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?d/Iu(10,o-i):0:m[f-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(s=on(t),m.length=1,e=e-s-1,m[0]=Iu(10,(Tr-e%Tr)%Tr),t.e=pm(-e/Tr)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=f,s=1,f--):(m.length=f+1,s=Iu(10,Tr-n),m[f]=i>0?(d/Iu(10,o-i)%Iu(10,i)|0)*s:0),c)for(;;)if(f==0){(m[0]+=s)==Tn&&(m[0]=1,++t.e);break}else{if(m[f]+=s,m[f]!=Tn)break;m[f--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(Ir&&(t.e>Cb||t.e<-Cb))throw Error(TO+on(t));return t}function uY(t,e){var r,n,i,s,o,l,c,d,f,m,p=t.constructor,v=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Ir?gr(e,v):e;if(c=t.d,m=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(f=o<0,f?(r=c,o=-o,l=m.length):(r=m,n=d,l=c.length),i=Math.max(Math.ceil(v/Tr),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=m.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){f=c[i]<m[i];break}o=0}for(f&&(r=c,c=m,m=r,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>o;){if(c[--i]<m[i]){for(s=i;s&&c[--s]===0;)c[s]=Tn-1;--c[s],c[i]+=Tn}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ir?gr(e,v):e):new p(0)}function md(t,e,r){var n,i=on(t),s=Ba(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+tc(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+tc(-i-1)+s,r&&(n=r-o)>0&&(s+=tc(n))):i>=o?(s+=tc(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+tc(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=tc(n))),t.s<0?"-"+s:s}function YV(t,e){if(t.length>e)return t.length=e,!0}function dY(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Zu+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return KV(o,s.toString())}else if(typeof s!="string")throw Error(Zu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,rAe.test(s))KV(o,s);else throw Error(Zu+s)}if(i.prototype=Ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=dY,i.config=i.set=nAe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function nAe(t){if(!t||typeof t!="object")throw Error($s+"Object expected");var e,r,n,i=["precision",1,mm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(pm(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Zu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Zu+r+": "+n);return this}var EO=dY(tAe);ss=new EO(1);const hr=EO;function iAe(t){return lAe(t)||oAe(t)||aAe(t)||sAe()}function sAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aAe(t,e){if(t){if(typeof t=="string")return hA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hA(t,e)}}function oAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lAe(t){if(Array.isArray(t))return hA(t)}function hA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var cAe=function(e){return e},hY={},fY=function(e){return e===hY},QV=function(e){return function r(){return arguments.length===0||arguments.length===1&&fY(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},uAe=function t(e,r){return e===1?r:QV(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==hY}).length;return o>=e?r.apply(void 0,i):t(e-o,QV(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=i.map(function(m){return fY(m)?c.shift():m});return r.apply(void 0,iAe(f).concat(c))}))})},N1=function(e){return uAe(e.length,e)},fA=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},dAe=N1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),hAe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return cAe;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},mA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},mY=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function fAe(t){var e;return t===0?e=1:e=Math.floor(new hr(t).abs().log(10).toNumber())+1,e}function mAe(t,e,r){for(var n=new hr(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var pAe=N1(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),gAe=N1(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),yAe=N1(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const S1={rangeStep:mAe,getDigitCount:fAe,interpolateNumber:pAe,uninterpolateNumber:gAe,uninterpolateTruncation:yAe};function pA(t){return bAe(t)||xAe(t)||pY(t)||vAe()}function vAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function bAe(t){if(Array.isArray(t))return gA(t)}function Ug(t,e){return jAe(t)||_Ae(t,e)||pY(t,e)||wAe()}function wAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pY(t,e){if(t){if(typeof t=="string")return gA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gA(t,e)}}function gA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Ae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function jAe(t){if(Array.isArray(t))return t}function gY(t){var e=Ug(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function yY(t,e,r){if(t.lte(0))return new hr(0);var n=S1.getDigitCount(t.toNumber()),i=new hr(10).pow(n),s=t.div(i),o=n!==1?.05:.1,l=new hr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new hr(Math.ceil(c))}function NAe(t,e,r){var n=1,i=new hr(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new hr(10).pow(S1.getDigitCount(t)-1),i=new hr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new hr(Math.floor(t)))}else t===0?i=new hr(Math.floor((e-1)/2)):r||(i=new hr(Math.floor(t)));var o=Math.floor((e-1)/2),l=hAe(dAe(function(c){return i.add(new hr(c-o).mul(n)).toNumber()}),fA);return l(0,e)}function vY(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new hr(0),tickMin:new hr(0),tickMax:new hr(0)};var s=yY(new hr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new hr(0):(o=new hr(t).add(e).div(2),o=o.sub(new hr(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new hr(e).sub(o).div(s).toNumber()),d=l+c+1;return d>r?vY(t,e,r,n,i+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:s,tickMin:o.sub(new hr(l).mul(s)),tickMax:o.add(new hr(c).mul(s))})}function SAe(t){var e=Ug(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=gY([r,n]),c=Ug(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0){var m=f===1/0?[d].concat(pA(fA(0,i-1).map(function(){return 1/0}))):[].concat(pA(fA(0,i-1).map(function(){return-1/0})),[f]);return r>n?mA(m):m}if(d===f)return NAe(d,i,s);var p=vY(d,f,o,s),v=p.step,w=p.tickMin,x=p.tickMax,g=S1.rangeStep(w,x.add(new hr(.1).mul(v)),v);return r>n?mA(g):g}function TAe(t,e){var r=Ug(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=gY([n,i]),l=Ug(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var f=Math.max(e,2),m=yY(new hr(d).sub(c).div(f-1),s,0),p=[].concat(pA(S1.rangeStep(new hr(c),new hr(d).sub(new hr(.99).mul(m)),m)),[d]);return n>i?mA(p):p}var EAe=mY(SAe),PAe=mY(TAe),AAe="Invariant failed";function pd(t,e){throw new Error(AAe)}var CAe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function kb(){return kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kb.apply(this,arguments)}function kAe(t,e){return MAe(t)||RAe(t,e)||OAe(t,e)||IAe()}function IAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OAe(t,e){if(t){if(typeof t=="string")return XV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XV(t,e)}}function XV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function MAe(t){if(Array.isArray(t))return t}function DAe(t,e){if(t==null)return{};var r=LAe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wY(n.key),n)}}function VAe(t,e,r){return e&&FAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BAe(t,e,r){return e=Ib(e),qAe(t,xY()?Reflect.construct(e,r||[],Ib(t).constructor):e.apply(t,r))}function qAe(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UAe(t)}function UAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xY=function(){return!!t})()}function Ib(t){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(t)}function zAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yA(t,e)}function yA(t,e){return yA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yA(t,e)}function bY(t,e,r){return e=wY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wY(t){var e=WAe(t,"string");return Tf(e)=="symbol"?e:e+""}function WAe(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yy=(function(t){function e(){return $Ae(this,e),BAe(this,e,arguments)}return zAe(e,t),VAe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,f=n.xAxis,m=n.yAxis,p=DAe(n,CAe),v=Ye(p,!1);this.props.direction==="x"&&f.type!=="number"&&pd();var w=c.map(function(x){var g=d(x,l),_=g.x,T=g.y,P=g.value,I=g.errorVal;if(!I)return null;var A=[],C,E;if(Array.isArray(I)){var N=kAe(I,2);C=N[0],E=N[1]}else C=E=I;if(s==="vertical"){var O=f.scale,D=T+i,L=D+o,$=D-o,F=O(P-C),G=O(P+E);A.push({x1:G,y1:L,x2:G,y2:$}),A.push({x1:F,y1:D,x2:G,y2:D}),A.push({x1:F,y1:L,x2:F,y2:$})}else if(s==="horizontal"){var Y=m.scale,K=_+i,X=K-o,U=K+o,Q=Y(P-C),ne=Y(P+E);A.push({x1:X,y1:ne,x2:U,y2:ne}),A.push({x1:K,y1:Q,x2:K,y2:ne}),A.push({x1:X,y1:Q,x2:U,y2:Q})}return z.createElement(Tt,kb({className:"recharts-errorBar",key:"bar-".concat(A.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},v),A.map(function(W){return z.createElement("line",kb({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return z.createElement(Tt,{className:"recharts-errorBars"},w)}}])})(z.Component);bY(Yy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});bY(Yy,"displayName","ErrorBar");function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function JV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Su(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JV(Object(r),!0).forEach(function(n){HAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HAe(t,e,r){return e=GAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GAe(t){var e=KAe(t,"string");return zg(e)=="symbol"?e:e+""}function KAe(t,e){if(zg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Y=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=ns(r,zi);if(!o)return null;var l=zi.defaultProps,c=l!==void 0?Su(Su({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:s==="children"?d=(n||[]).reduce(function(f,m){var p=m.item,v=m.props,w=v.sectors||v.data||[];return f.concat(w.map(function(x){return{type:o.props.iconType||p.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):d=(n||[]).map(function(f){var m=f.item,p=m.type.defaultProps,v=p!==void 0?Su(Su({},p),m.props):{},w=v.dataKey,x=v.name,g=v.legendType,_=v.hide;return{inactive:_,dataKey:w,type:c.iconType||g||"square",color:PO(m),value:x||w,payload:v}}),Su(Su(Su({},c),zi.getWithHeight(o,i)),{},{payload:d,item:o})};function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function ZV(t){return JAe(t)||XAe(t)||QAe(t)||YAe()}function YAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QAe(t,e){if(t){if(typeof t=="string")return vA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vA(t,e)}}function XAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JAe(t){if(Array.isArray(t))return vA(t)}function vA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function e8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e8(Object(r),!0).forEach(function(n){Jh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jh(t,e,r){return e=ZAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZAe(t){var e=eCe(t,"string");return Wg(e)=="symbol"?e:e+""}function eCe(t,e){if(Wg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $r(t,e,r){return ft(t)||ft(e)?r:pn(e)?ls(t,e,r):rt(e)?e(t):r}function rg(t,e,r,n){var i=JPe(t,function(l){return $r(l,e)});if(r==="number"){var s=i.filter(function(l){return ke(l)||parseFloat(l)});return s.length?[j1(s),gc(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!ft(l)}):i;return o.map(function(l){return pn(l)||l instanceof Date?l:""})}var tCe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,d=0;d<l;d++){var f=d>0?i[d-1].coordinate:i[l-1].coordinate,m=i[d].coordinate,p=d>=l-1?i[0].coordinate:i[d+1].coordinate,v=void 0;if(_i(m-f)!==_i(p-m)){var w=[];if(_i(p-m)===_i(c[1]-c[0])){v=p;var x=m+c[1]-c[0];w[0]=Math.min(x,(x+f)/2),w[1]=Math.max(x,(x+f)/2)}else{v=f;var g=p+c[1]-c[0];w[0]=Math.min(m,(g+m)/2),w[1]=Math.max(m,(g+m)/2)}var _=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(e>_[0]&&e<=_[1]||e>=w[0]&&e<=w[1]){o=i[d].index;break}}else{var T=Math.min(f,p),P=Math.max(f,p);if(e>(T+m)/2&&e<=(P+m)/2){o=i[d].index;break}}}else for(var I=0;I<l;I++)if(I===0&&e<=(n[I].coordinate+n[I+1].coordinate)/2||I>0&&I<l-1&&e>(n[I].coordinate+n[I-1].coordinate)/2&&e<=(n[I].coordinate+n[I+1].coordinate)/2||I===l-1&&e>(n[I].coordinate+n[I-1].coordinate)/2){o=n[I].index;break}return o},PO=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},rCe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,d=l.length;c<d;c++)for(var f=s[l[c]].stackGroups,m=Object.keys(f),p=0,v=m.length;p<v;p++){var w=f[m[p]],x=w.items,g=w.cateAxisId,_=x.filter(function(E){return Yo(E.type).indexOf("Bar")>=0});if(_&&_.length){var T=_[0].type.defaultProps,P=T!==void 0?zr(zr({},T),_[0].props):_[0].props,I=P.barSize,A=P[g];o[A]||(o[A]=[]);var C=ft(I)?r:I;o[A].push({item:_[0],stackList:_.slice(1),barSize:ft(C)?void 0:ji(C,n,0)})}}return o},nCe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=ji(r,i,0,!0),f,m=[];if(o[0].barSize===+o[0].barSize){var p=!1,v=i/c,w=o.reduce(function(I,A){return I+A.barSize||0},0);w+=(c-1)*d,w>=i&&(w-=(c-1)*d,d=0),w>=i&&v>0&&(p=!0,v*=.9,w=c*v);var x=(i-w)/2>>0,g={offset:x-d,size:0};f=o.reduce(function(I,A){var C={item:A.item,position:{offset:g.offset+g.size+d,size:p?v:A.barSize}},E=[].concat(ZV(I),[C]);return g=E[E.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(N){E.push({item:N,position:g})}),E},m)}else{var _=ji(n,i,0,!0);i-2*_-(c-1)*d<=0&&(d=0);var T=(i-2*_-(c-1)*d)/c;T>1&&(T>>=0);var P=l===+l?Math.min(T,l):T;f=o.reduce(function(I,A,C){var E=[].concat(ZV(I),[{item:A.item,position:{offset:_+(T+d)*C+(T-P)/2,size:P}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(N){E.push({item:N,position:E[E.length-1].position})}),E},m)}return f},iCe=function(e,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=_Y({children:s,legendWidth:c});if(d){var f=i||{},m=f.width,p=f.height,v=d.align,w=d.verticalAlign,x=d.layout;if((x==="vertical"||x==="horizontal"&&w==="middle")&&v!=="center"&&ke(e[v]))return zr(zr({},e),{},Jh({},v,e[v]+(m||0)));if((x==="horizontal"||x==="vertical"&&v==="center")&&w!=="middle"&&ke(e[w]))return zr(zr({},e),{},Jh({},w,e[w]+(p||0)))}return e},sCe=function(e,r,n){return ft(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},jY=function(e,r,n,i,s){var o=r.props.children,l=cs(o,Yy).filter(function(d){return sCe(i,s,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,f){var m=$r(f,n);if(ft(m))return d;var p=Array.isArray(m)?[j1(m),gc(m)]:[m,m],v=c.reduce(function(w,x){var g=$r(f,x,0),_=p[0]-Math.abs(Array.isArray(g)?g[0]:g),T=p[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(_,w[0]),Math.max(T,w[1])]},[1/0,-1/0]);return[Math.min(v[0],d[0]),Math.max(v[1],d[1])]},[1/0,-1/0])}return null},aCe=function(e,r,n,i,s){var o=r.map(function(l){return jY(e,l,n,s,i)}).filter(function(l){return!ft(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},NY=function(e,r,n,i,s){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&jY(e,c,d,i)||rg(e,d,n,s)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var f=0,m=d.length;f<m;f++)l[d[f]]||(l[d[f]]=!0,c.push(d[f]));return c},[])},SY=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},TY=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Wo=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?_i(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(m){var p=s?s.indexOf(m):m;return{coordinate:i(p)+d,value:m,offset:d}});return f.filter(function(m){return!dm(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,p){return{coordinate:i(m)+d,value:m,index:p,offset:d}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,p){return{coordinate:i(m)+d,value:s?s[m]:m,index:p,offset:d}})},FT=new WeakMap,Bv=function(e,r){if(typeof r!="function")return e;FT.has(e)||FT.set(e,new WeakMap);var n=FT.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},EY=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Lg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Tb(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:tg(),realScaleType:"point"}:s==="category"?{scale:Lg(),realScaleType:"band"}:{scale:Tb(),realScaleType:"linear"};if(dd(i)){var c="scale".concat(l1(i));return{scale:(FV[c]||tg)(),realScaleType:FV[c]?c:"point"}}return rt(i)?{scale:i}:{scale:tg(),realScaleType:"point"}},t8=1e-4,PY=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-t8,o=Math.max(i[0],i[1])+t8,l=e(r[0]),c=e(r[n-1]);(l<s||l>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},oCe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},lCe=function(e,r){if(!r||r.length!==2||!ke(r[0])||!ke(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!ke(e[0])||e[0]<n)&&(s[0]=n),(!ke(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},cCe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=dm(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},uCe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=dm(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},dCe={sign:cCe,expand:Jje,none:vf,silhouette:Zje,wiggle:eNe,positive:uCe},hCe=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),s=dCe[n],o=Xje().keys(i).value(function(l,c){return+$r(l,c,0)}).order(KP).offset(s);return o(e)},fCe=function(e,r,n,i,s,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(m,p){var v,w=(v=p.type)!==null&&v!==void 0&&v.defaultProps?zr(zr({},p.type.defaultProps),p.props):p.props,x=w.stackId,g=w.hide;if(g)return m;var _=w[n],T=m[_]||{hasStack:!1,stackGroups:{}};if(pn(x)){var P=T.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};P.items.push(p),T.hasStack=!0,T.stackGroups[x]=P}else T.stackGroups[Ad("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return zr(zr({},m),{},Jh({},_,T))},c),f={};return Object.keys(d).reduce(function(m,p){var v=d[p];if(v.hasStack){var w={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(x,g){var _=v.stackGroups[g];return zr(zr({},x),{},Jh({},g,{numericAxisId:n,cateAxisId:i,items:_.items,stackedData:hCe(e,_.items,s)}))},w)}return zr(zr({},m),{},Jh({},p,v))},f)},AY=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var f=EAe(d,s,l);return e.domain([j1(f),gc(f)]),{niceTicks:f}}if(s&&i==="number"){var m=e.domain(),p=PAe(m,s,l);return{niceTicks:p}}return null};function Ob(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ft(i[e.dataKey])){var l=ob(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=$r(i,ft(o)?e.dataKey:o);return ft(c)?null:e.scale(c)}var r8=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=$r(o,r.dataKey,r.domain[l]);return ft(c)?null:r.scale(c)-s/2+i},mCe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},pCe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(pn(s)){var o=r[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},gCe=function(e){return e.reduce(function(r,n){return[j1(n.concat([r[0]]).filter(ke)),gc(n.concat([r[1]]).filter(ke))]},[1/0,-1/0])},CY=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(d,f){var m=gCe(f.slice(r,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},n8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,i8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xA=function(e,r,n){if(rt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ke(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(n8.test(e[0])){var s=+n8.exec(e[0])[1];i[0]=r[0]-s}else rt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ke(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(i8.test(e[1])){var o=+i8.exec(e[1])[1];i[1]=r[1]+o}else rt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Rb=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=rO(r,function(m){return m.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var d=s[l],f=s[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},s8=function(e,r,n){return!e||!e.length||Fc(e,ls(n,"type.defaultProps.domain"))?r:e},kY=function(e,r){var n=e.type.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,f=n.hide;return zr(zr({},Ye(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:PO(e),value:$r(r,i),type:c,payload:r,chartType:d,hide:f})};function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function a8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ro(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(r),!0).forEach(function(n){IY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IY(t,e,r){return e=yCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yCe(t){var e=vCe(t,"string");return Hg(e)=="symbol"?e:e+""}function vCe(t,e){if(Hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xCe(t,e){return jCe(t)||_Ce(t,e)||wCe(t,e)||bCe()}function bCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wCe(t,e){if(t){if(typeof t=="string")return o8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o8(t,e)}}function o8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Ce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function jCe(t){if(Array.isArray(t))return t}var Mb=Math.PI/180,NCe=function(e){return e*180/Math.PI},er=function(e,r,n,i){return{x:e+Math.cos(-Mb*i)*n,y:r+Math.sin(-Mb*i)*n}},OY=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},RY=function(e,r,n,i,s){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,f=ji(e.cx,o,o/2),m=ji(e.cy,l,l/2),p=OY(o,l,n),v=ji(e.innerRadius,p,0),w=ji(e.outerRadius,p,p*.8),x=Object.keys(r);return x.reduce(function(g,_){var T=r[_],P=T.domain,I=T.reversed,A;if(ft(T.range))i==="angleAxis"?A=[c,d]:i==="radiusAxis"&&(A=[v,w]),I&&(A=[A[1],A[0]]);else{A=T.range;var C=A,E=xCe(C,2);c=E[0],d=E[1]}var N=EY(T,s),O=N.realScaleType,D=N.scale;D.domain(P).range(A),PY(D);var L=AY(D,Ro(Ro({},T),{},{realScaleType:O})),$=Ro(Ro(Ro({},T),L),{},{range:A,radius:w,realScaleType:O,scale:D,cx:f,cy:m,innerRadius:v,outerRadius:w,startAngle:c,endAngle:d});return Ro(Ro({},g),{},IY({},_,$))},{})},SCe=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},TCe=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,l=SCe({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:NCe(d),angleInRadian:d}},ECe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},PCe=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},l8=function(e,r){var n=e.x,i=e.y,s=TCe({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var f=ECe(r),m=f.startAngle,p=f.endAngle,v=l,w;if(m<=p){for(;v>p;)v-=360;for(;v<m;)v+=360;w=v>=m&&v<=p}else{for(;v>m;)v-=360;for(;v<p;)v+=360;w=v>=p&&v<=m}return w?Ro(Ro({},r),{},{radius:o,angle:PCe(v,r)}):null},MY=function(e){return!S.isValidElement(e)&&!rt(e)&&typeof e!="boolean"?e.className:""};function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}var ACe=["offset"];function CCe(t){return RCe(t)||OCe(t)||ICe(t)||kCe()}function kCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ICe(t,e){if(t){if(typeof t=="string")return bA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bA(t,e)}}function OCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RCe(t){if(Array.isArray(t))return bA(t)}function bA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MCe(t,e){if(t==null)return{};var r=DCe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function c8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(r),!0).forEach(function(n){LCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LCe(t,e,r){return e=$Ce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Ce(t){var e=FCe(t,"string");return Gg(e)=="symbol"?e:e+""}function FCe(t,e){if(Gg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kg(){return Kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kg.apply(this,arguments)}var VCe=function(e){var r=e.value,n=e.formatter,i=ft(e.children)?r:e.children;return rt(n)?n(i):i},BCe=function(e,r){var n=_i(r-e),i=Math.min(Math.abs(r-e),360);return n*i},qCe=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,d=c.cx,f=c.cy,m=c.innerRadius,p=c.outerRadius,v=c.startAngle,w=c.endAngle,x=c.clockWise,g=(m+p)/2,_=BCe(v,w),T=_>=0?1:-1,P,I;i==="insideStart"?(P=v+T*o,I=x):i==="insideEnd"?(P=w-T*o,I=!x):i==="end"&&(P=w+T*o,I=x),I=_<=0?I:!I;var A=er(d,f,g,P),C=er(d,f,g,P+(I?1:-1)*359),E="M".concat(A.x,",").concat(A.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(I?0:1,`,
    `).concat(C.x,",").concat(C.y),N=ft(e.id)?Ad("recharts-radial-line-"):e.id;return z.createElement("text",Kg({},n,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",l)}),z.createElement("defs",null,z.createElement("path",{id:N,d:E})),z.createElement("textPath",{xlinkHref:"#".concat(N)},r))},UCe=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,d=s.outerRadius,f=s.startAngle,m=s.endAngle,p=(f+m)/2;if(i==="outside"){var v=er(o,l,d+n,p),w=v.x,x=v.y;return{x:w,y:x,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,_=er(o,l,g,p),T=_.x,P=_.y;return{x:T,y:P,textAnchor:"middle",verticalAnchor:"middle"}},zCe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,l=o.x,c=o.y,d=o.width,f=o.height,m=f>=0?1:-1,p=m*i,v=m>0?"end":"start",w=m>0?"start":"end",x=d>=0?1:-1,g=x*i,_=x>0?"end":"start",T=x>0?"start":"end";if(s==="top"){var P={x:l+d/2,y:c-m*i,textAnchor:"middle",verticalAnchor:v};return hn(hn({},P),n?{height:Math.max(c-n.y,0),width:d}:{})}if(s==="bottom"){var I={x:l+d/2,y:c+f+p,textAnchor:"middle",verticalAnchor:w};return hn(hn({},I),n?{height:Math.max(n.y+n.height-(c+f),0),width:d}:{})}if(s==="left"){var A={x:l-g,y:c+f/2,textAnchor:_,verticalAnchor:"middle"};return hn(hn({},A),n?{width:Math.max(A.x-n.x,0),height:f}:{})}if(s==="right"){var C={x:l+d+g,y:c+f/2,textAnchor:T,verticalAnchor:"middle"};return hn(hn({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:f}:{})}var E=n?{width:d,height:f}:{};return s==="insideLeft"?hn({x:l+g,y:c+f/2,textAnchor:T,verticalAnchor:"middle"},E):s==="insideRight"?hn({x:l+d-g,y:c+f/2,textAnchor:_,verticalAnchor:"middle"},E):s==="insideTop"?hn({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:w},E):s==="insideBottom"?hn({x:l+d/2,y:c+f-p,textAnchor:"middle",verticalAnchor:v},E):s==="insideTopLeft"?hn({x:l+g,y:c+p,textAnchor:T,verticalAnchor:w},E):s==="insideTopRight"?hn({x:l+d-g,y:c+p,textAnchor:_,verticalAnchor:w},E):s==="insideBottomLeft"?hn({x:l+g,y:c+f-p,textAnchor:T,verticalAnchor:v},E):s==="insideBottomRight"?hn({x:l+d-g,y:c+f-p,textAnchor:_,verticalAnchor:v},E):um(s)&&(ke(s.x)||$u(s.x))&&(ke(s.y)||$u(s.y))?hn({x:l+ji(s.x,d),y:c+ji(s.y,f),textAnchor:"end",verticalAnchor:"end"},E):hn({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},E)},WCe=function(e){return"cx"in e&&ke(e.cx)};function En(t){var e=t.offset,r=e===void 0?5:e,n=MCe(t,ACe),i=hn({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,f=i.className,m=f===void 0?"":f,p=i.textBreakAll;if(!s||ft(l)&&ft(c)&&!S.isValidElement(d)&&!rt(d))return null;if(S.isValidElement(d))return S.cloneElement(d,i);var v;if(rt(d)){if(v=S.createElement(d,i),S.isValidElement(v))return v}else v=VCe(i);var w=WCe(s),x=Ye(i,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return qCe(i,v,x);var g=w?UCe(i):zCe(i);return z.createElement(fd,Kg({className:dt("recharts-label",m)},x,g,{breakAll:p}),v)}En.displayName="Label";var DY=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,f=e.outerRadius,m=e.x,p=e.y,v=e.top,w=e.left,x=e.width,g=e.height,_=e.clockWise,T=e.labelViewBox;if(T)return T;if(ke(x)&&ke(g)){if(ke(m)&&ke(p))return{x:m,y:p,width:x,height:g};if(ke(v)&&ke(w))return{x:v,y:w,width:x,height:g}}return ke(m)&&ke(p)?{x:m,y:p,width:0,height:0}:ke(r)&&ke(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:_}:e.viewBox?e.viewBox:{}},HCe=function(e,r){return e?e===!0?z.createElement(En,{key:"label-implicit",viewBox:r}):pn(e)?z.createElement(En,{key:"label-implicit",viewBox:r,value:e}):S.isValidElement(e)?e.type===En?S.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement(En,{key:"label-implicit",content:e,viewBox:r}):rt(e)?z.createElement(En,{key:"label-implicit",content:e,viewBox:r}):um(e)?z.createElement(En,Kg({viewBox:r},e,{key:"label-implicit"})):null:null},GCe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=DY(e),o=cs(i,En).map(function(c,d){return S.cloneElement(c,{viewBox:r||s,key:"label-".concat(d)})});if(!n)return o;var l=HCe(e.label,r||s);return[l].concat(CCe(o))};En.parseViewBox=DY;En.renderCallByParent=GCe;var VT,u8;function KCe(){if(u8)return VT;u8=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return VT=t,VT}var YCe=KCe();const LY=Jt(YCe);function Yg(t){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}var QCe=["valueAccessor"],XCe=["data","dataKey","clockWise","id","textBreakAll"];function JCe(t){return rke(t)||tke(t)||eke(t)||ZCe()}function ZCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eke(t,e){if(t){if(typeof t=="string")return wA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wA(t,e)}}function tke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rke(t){if(Array.isArray(t))return wA(t)}function wA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Db.apply(this,arguments)}function d8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d8(Object(r),!0).forEach(function(n){nke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nke(t,e,r){return e=ike(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ike(t){var e=ske(t,"string");return Yg(e)=="symbol"?e:e+""}function ske(t,e){if(Yg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f8(t,e){if(t==null)return{};var r=ake(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ake(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var oke=function(e){return Array.isArray(e.value)?LY(e.value):e.value};function ca(t){var e=t.valueAccessor,r=e===void 0?oke:e,n=f8(t,QCe),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=f8(n,XCe);return!i||!i.length?null:z.createElement(Tt,{className:"recharts-label-list"},i.map(function(f,m){var p=ft(s)?r(f,m):$r(f&&f.payload,s),v=ft(l)?{}:{id:"".concat(l,"-").concat(m)};return z.createElement(En,Db({},Ye(f,!0),d,v,{parentViewBox:f.parentViewBox,value:p,textBreakAll:c,viewBox:En.parseViewBox(ft(o)?f:h8(h8({},f),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}ca.displayName="LabelList";function lke(t,e){return t?t===!0?z.createElement(ca,{key:"labelList-implicit",data:e}):z.isValidElement(t)||rt(t)?z.createElement(ca,{key:"labelList-implicit",data:e,content:t}):um(t)?z.createElement(ca,Db({data:e},t,{key:"labelList-implicit"})):null:null}function cke(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=cs(n,ca).map(function(o,l){return S.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var s=lke(t.label,e);return[s].concat(JCe(i))}ca.renderCallByParent=cke;function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_A.apply(this,arguments)}function m8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m8(Object(r),!0).forEach(function(n){uke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uke(t,e,r){return e=dke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dke(t){var e=hke(t,"string");return Qg(e)=="symbol"?e:e+""}function hke(t,e){if(Qg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fke=function(e,r){var n=_i(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},qv=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,f=c*(l?1:-1)+i,m=Math.asin(c/f)/Mb,p=d?s:s+o*m,v=er(r,n,f,p),w=er(r,n,i,p),x=d?s-o*m:s,g=er(r,n,f*Math.cos(m*Mb),x);return{center:v,circleTangency:w,lineTangency:g,theta:m}},$Y=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=fke(o,l),d=o+c,f=er(r,n,s,o),m=er(r,n,s,d),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var v=er(r,n,i,o),w=er(r,n,i,d);p+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},mke=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,f=e.endAngle,m=_i(f-d),p=qv({cx:r,cy:n,radius:s,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),v=p.circleTangency,w=p.lineTangency,x=p.theta,g=qv({cx:r,cy:n,radius:s,angle:f,sign:-m,cornerRadius:o,cornerIsExternal:c}),_=g.circleTangency,T=g.lineTangency,P=g.theta,I=c?Math.abs(d-f):Math.abs(d-f)-x-P;if(I<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):$Y({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f});var A="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(i>0){var C=qv({cx:r,cy:n,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=C.circleTangency,N=C.lineTangency,O=C.theta,D=qv({cx:r,cy:n,radius:i,angle:f,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=D.circleTangency,$=D.lineTangency,F=D.theta,G=c?Math.abs(d-f):Math.abs(d-f)-O-F;if(G<0&&o===0)return"".concat(A,"L").concat(r,",").concat(n,"Z");A+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(G>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(N.x,",").concat(N.y,"Z")}else A+="L".concat(r,",").concat(n,"Z");return A},pke={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},FY=function(e){var r=p8(p8({},pke),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,f=r.startAngle,m=r.endAngle,p=r.className;if(o<s||f===m)return null;var v=dt("recharts-sector",p),w=o-s,x=ji(l,w,0,!0),g;return x>0&&Math.abs(f-m)<360?g=mke({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,w/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):g=$Y({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:m}),z.createElement("path",_A({},Ye(r,!0),{className:v,d:g,role:"img"}))};function Xg(t){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jA.apply(this,arguments)}function g8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(r),!0).forEach(function(n){gke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gke(t,e,r){return e=yke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yke(t){var e=vke(t,"string");return Xg(e)=="symbol"?e:e+""}function vke(t,e){if(Xg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v8={curveBasisClosed:Vje,curveBasisOpen:Bje,curveBasis:Fje,curveBumpX:Sje,curveBumpY:Tje,curveLinearClosed:qje,curveLinear:u1,curveMonotoneX:Uje,curveMonotoneY:zje,curveNatural:Wje,curveStep:Hje,curveStepAfter:Kje,curveStepBefore:Gje},Uv=function(e){return e.x===+e.x&&e.y===+e.y},_p=function(e){return e.x},jp=function(e){return e.y},xke=function(e,r){if(rt(e))return e;var n="curve".concat(l1(e));return(n==="curveMonotone"||n==="curveBump")&&r?v8["".concat(n).concat(r==="vertical"?"Y":"X")]:v8[n]||u1},bke=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,f=xke(n,l),m=d?s.filter(function(x){return Uv(x)}):s,p;if(Array.isArray(o)){var v=d?o.filter(function(x){return Uv(x)}):o,w=m.map(function(x,g){return y8(y8({},x),{},{base:v[g]})});return l==="vertical"?p=Rv().y(jp).x1(_p).x0(function(x){return x.base.x}):p=Rv().x(_p).y1(jp).y0(function(x){return x.base.y}),p.defined(Uv).curve(f),p(w)}return l==="vertical"&&ke(o)?p=Rv().y(jp).x1(_p).x0(o):ke(o)?p=Rv().x(_p).y1(jp).y0(o):p=MG().x(_p).y(jp),p.defined(Uv).curve(f),p(m)},ed=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?bke(e):i;return S.createElement("path",jA({},Ye(e,!1),lb(e),{className:dt("recharts-curve",r),d:o,ref:s}))},BT={exports:{}},qT,x8;function wke(){if(x8)return qT;x8=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qT=t,qT}var UT,b8;function _ke(){if(b8)return UT;b8=1;var t=wke();function e(){}function r(){}return r.resetWarningCache=e,UT=function(){function n(o,l,c,d,f,m){if(m!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},UT}var w8;function jke(){return w8||(w8=1,BT.exports=_ke()()),BT.exports}var Nke=jke();const ir=Jt(Nke);var Ske=Object.getOwnPropertyNames,Tke=Object.getOwnPropertySymbols,Eke=Object.prototype.hasOwnProperty;function _8(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function zv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,i);return s.delete(r),s.delete(n),c}}function Pke(t){return t!=null?t[Symbol.toStringTag]:void 0}function j8(t){return Ske(t).concat(Tke(t))}var Ake=Object.hasOwn||(function(t,e){return Eke.call(t,e)});function Id(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Cke="__v",kke="__o",Ike="_owner",N8=Object.getOwnPropertyDescriptor,S8=Object.keys;function Oke(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Rke(t,e){return Id(t.getTime(),e.getTime())}function Mke(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Dke(t,e){return t===e}function T8(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var d=e.entries(),f=!1,m=0;(l=d.next())&&!l.done;){if(i[m]){m++;continue}var p=o.value,v=l.value;if(r.equals(p[0],v[0],c,m,t,e,r)&&r.equals(p[1],v[1],p[0],v[0],t,e,r)){f=i[m]=!0;break}m++}if(!f)return!1;c++}return!0}var Lke=Id;function $ke(t,e,r){var n=S8(t),i=n.length;if(S8(e).length!==i)return!1;for(;i-- >0;)if(!VY(t,e,r,n[i]))return!1;return!0}function Np(t,e,r){var n=j8(t),i=n.length;if(j8(e).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=n[i],!VY(t,e,r,s)||(o=N8(t,s),l=N8(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Fke(t,e){return Id(t.valueOf(),e.valueOf())}function Vke(t,e){return t.source===e.source&&t.flags===e.flags}function E8(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),o,l;(o=s.next())&&!o.done;){for(var c=e.values(),d=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1}return!0}function Bke(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function qke(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function VY(t,e,r,n){return(n===Ike||n===kke||n===Cke)&&(t.$$typeof||e.$$typeof)?!0:Ake(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Uke="[object Arguments]",zke="[object Boolean]",Wke="[object Date]",Hke="[object Error]",Gke="[object Map]",Kke="[object Number]",Yke="[object Object]",Qke="[object RegExp]",Xke="[object Set]",Jke="[object String]",Zke="[object URL]",eIe=Array.isArray,P8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,A8=Object.assign,tIe=Object.prototype.toString.call.bind(Object.prototype.toString);function rIe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,f=t.areSetsEqual,m=t.areTypedArraysEqual,p=t.areUrlsEqual,v=t.unknownTagComparators;return function(x,g,_){if(x===g)return!0;if(x==null||g==null)return!1;var T=typeof x;if(T!==typeof g)return!1;if(T!=="object")return T==="number"?o(x,g,_):T==="function"?i(x,g,_):!1;var P=x.constructor;if(P!==g.constructor)return!1;if(P===Object)return l(x,g,_);if(eIe(x))return e(x,g,_);if(P8!=null&&P8(x))return m(x,g,_);if(P===Date)return r(x,g,_);if(P===RegExp)return d(x,g,_);if(P===Map)return s(x,g,_);if(P===Set)return f(x,g,_);var I=tIe(x);if(I===Wke)return r(x,g,_);if(I===Qke)return d(x,g,_);if(I===Gke)return s(x,g,_);if(I===Xke)return f(x,g,_);if(I===Yke)return typeof x.then!="function"&&typeof g.then!="function"&&l(x,g,_);if(I===Zke)return p(x,g,_);if(I===Hke)return n(x,g,_);if(I===Uke)return l(x,g,_);if(I===zke||I===Kke||I===Jke)return c(x,g,_);if(v){var A=v[I];if(!A){var C=Pke(x);C&&(A=v[C])}if(A)return A(x,g,_)}return!1}}function nIe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Np:Oke,areDatesEqual:Rke,areErrorsEqual:Mke,areFunctionsEqual:Dke,areMapsEqual:n?_8(T8,Np):T8,areNumbersEqual:Lke,areObjectsEqual:n?Np:$ke,arePrimitiveWrappersEqual:Fke,areRegExpsEqual:Vke,areSetsEqual:n?_8(E8,Np):E8,areTypedArraysEqual:n?Np:Bke,areUrlsEqual:qke,unknownTagComparators:void 0};if(r&&(i=A8({},i,r(i))),e){var s=zv(i.areArraysEqual),o=zv(i.areMapsEqual),l=zv(i.areObjectsEqual),c=zv(i.areSetsEqual);i=A8({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function iIe(t){return function(e,r,n,i,s,o,l){return t(e,r,l)}}function sIe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(c,d){var f=n(),m=f.cache,p=m===void 0?e?new WeakMap:void 0:m,v=f.meta;return r(c,d,{cache:p,equals:i,meta:v,strict:s})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,d){return r(c,d,o)}}var aIe=Kc();Kc({strict:!0});Kc({circular:!0});Kc({circular:!0,strict:!0});Kc({createInternalComparator:function(){return Id}});Kc({strict:!0,createInternalComparator:function(){return Id}});Kc({circular:!0,createInternalComparator:function(){return Id}});Kc({circular:!0,createInternalComparator:function(){return Id},strict:!0});function Kc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,l=nIe(t),c=rIe(l),d=n?n(c):iIe(c);return sIe({circular:r,comparator:c,createState:i,equals:d,strict:o})}function oIe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function C8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):oIe(i)};requestAnimationFrame(n)}function NA(t){"@babel/helpers - typeof";return NA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NA(t)}function lIe(t){return hIe(t)||dIe(t)||uIe(t)||cIe()}function cIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uIe(t,e){if(t){if(typeof t=="string")return k8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k8(t,e)}}function k8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hIe(t){if(Array.isArray(t))return t}function fIe(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=lIe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){C8(i.bind(null,d),c);return}i(c),C8(i.bind(null,d));return}NA(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Jg(t){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(t)}function I8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(r),!0).forEach(function(n){BY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BY(t,e,r){return e=mIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mIe(t){var e=pIe(t,"string");return Jg(e)==="symbol"?e:String(e)}function pIe(t,e){if(Jg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gIe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},yIe=function(e){return e},vIe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ng=function(e,r){return Object.keys(r).reduce(function(n,i){return O8(O8({},n),{},BY({},i,e(i,r[i])))},{})},R8=function(e,r,n){return e.map(function(i){return"".concat(vIe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function xIe(t,e){return _Ie(t)||wIe(t,e)||qY(t,e)||bIe()}function bIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function _Ie(t){if(Array.isArray(t))return t}function jIe(t){return TIe(t)||SIe(t)||qY(t)||NIe()}function NIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qY(t,e){if(t){if(typeof t=="string")return SA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SA(t,e)}}function SIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TIe(t){if(Array.isArray(t))return SA(t)}function SA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Lb=1e-4,UY=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},zY=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},M8=function(e,r){return function(n){var i=UY(e,r);return zY(i,n)}},EIe=function(e,r){return function(n){var i=UY(e,r),s=[].concat(jIe(i.map(function(o,l){return o*l}).slice(1)),[0]);return zY(s,n)}},D8=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),f=xIe(d,4);i=f[0],s=f[1],o=f[2],l=f[3]}}}var m=M8(i,o),p=M8(s,l),v=EIe(i,o),w=function(_){return _>1?1:_<0?0:_},x=function(_){for(var T=_>1?1:_,P=T,I=0;I<8;++I){var A=m(P)-T,C=v(P);if(Math.abs(A-T)<Lb||C<Lb)return p(P);P=w(P-A/C)}return p(P)};return x.isStepper=!1,x},PIe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(f,m,p){var v=-(f-m)*n,w=p*s,x=p+(v-w)*l/1e3,g=p*l/1e3+f;return Math.abs(g-m)<Lb&&Math.abs(x)<Lb?[m,0]:[g,x]};return c.isStepper=!0,c.dt=l,c},AIe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return D8(i);case"spring":return PIe();default:if(i.split("(")[0]==="cubic-bezier")return D8(i)}return typeof i=="function"?i:null};function Zg(t){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function L8(t){return IIe(t)||kIe(t)||WY(t)||CIe()}function CIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IIe(t){if(Array.isArray(t))return EA(t)}function $8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$8(Object(r),!0).forEach(function(n){TA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TA(t,e,r){return e=OIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OIe(t){var e=RIe(t,"string");return Zg(e)==="symbol"?e:String(e)}function RIe(t,e){if(Zg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MIe(t,e){return $Ie(t)||LIe(t,e)||WY(t,e)||DIe()}function DIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WY(t,e){if(t){if(typeof t=="string")return EA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EA(t,e)}}function EA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function $Ie(t){if(Array.isArray(t))return t}var $b=function(e,r,n){return e+(r-e)*n},PA=function(e){var r=e.from,n=e.to;return r!==n},FIe=function t(e,r,n){var i=ng(function(s,o){if(PA(o)){var l=e(o.from,o.to,o.velocity),c=MIe(l,2),d=c[0],f=c[1];return Ln(Ln({},o),{},{from:d,velocity:f})}return o},r);return n<1?ng(function(s,o){return PA(o)?Ln(Ln({},o),{},{velocity:$b(o.velocity,i[s].velocity,n),from:$b(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const VIe=(function(t,e,r,n,i){var s=gIe(t,e),o=s.reduce(function(g,_){return Ln(Ln({},g),{},TA({},_,[t[_],e[_]]))},{}),l=s.reduce(function(g,_){return Ln(Ln({},g),{},TA({},_,{from:t[_],velocity:0,to:e[_]}))},{}),c=-1,d,f,m=function(){return null},p=function(){return ng(function(_,T){return T.from},l)},v=function(){return!Object.values(l).filter(PA).length},w=function(_){d||(d=_);var T=_-d,P=T/r.dt;l=FIe(r,l,P),i(Ln(Ln(Ln({},t),e),p())),d=_,v()||(c=requestAnimationFrame(m))},x=function(_){f||(f=_);var T=(_-f)/n,P=ng(function(A,C){return $b.apply(void 0,L8(C).concat([r(T)]))},o);if(i(Ln(Ln(Ln({},t),e),P)),T<1)c=requestAnimationFrame(m);else{var I=ng(function(A,C){return $b.apply(void 0,L8(C).concat([r(1)]))},o);i(Ln(Ln(Ln({},t),e),I))}};return m=r.isStepper?w:x,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}var BIe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qIe(t,e){if(t==null)return{};var r=UIe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UIe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function zT(t){return GIe(t)||HIe(t)||WIe(t)||zIe()}function zIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WIe(t,e){if(t){if(typeof t=="string")return AA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AA(t,e)}}function HIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GIe(t){if(Array.isArray(t))return AA(t)}function AA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function F8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(r),!0).forEach(function(n){Dp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dp(t,e,r){return e=HY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HY(n.key),n)}}function QIe(t,e,r){return e&&YIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HY(t){var e=XIe(t,"string");return Ef(e)==="symbol"?e:String(e)}function XIe(t,e){if(Ef(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CA(t,e)}function CA(t,e){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CA(t,e)}function ZIe(t){var e=eOe();return function(){var n=Fb(t),i;if(e){var s=Fb(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return kA(this,i)}}function kA(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IA(t)}function IA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eOe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fb(t){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(t)}var Fs=(function(t){JIe(r,t);var e=ZIe(r);function r(n,i){var s;KIe(this,r),s=e.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,d=o.from,f=o.to,m=o.steps,p=o.children,v=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(IA(s)),s.changeStyle=s.changeStyle.bind(IA(s)),!l||v<=0)return s.state={style:{}},typeof p=="function"&&(s.state={style:f}),kA(s);if(m&&m.length)s.state={style:m[0].style};else if(d){if(typeof p=="function")return s.state={style:d},kA(s);s.state={style:c?Dp({},c,d):d}}else s.state={style:{}};return s}return QIe(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,d=s.shouldReAnimate,f=s.to,m=s.from,p=this.state.style;if(l){if(!o){var v={style:c?Dp({},c,f):f};this.state&&p&&(c&&p[c]!==f||!c&&p!==f)&&this.setState(v);return}if(!(aIe(i.to,f)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=w||d?m:i.to;if(this.state&&p){var g={style:c?Dp({},c,x):x};(c&&p[c]!==x||!c&&p!==x)&&this.setState(g)}this.runAnimation(Xs(Xs({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,d=i.easing,f=i.begin,m=i.onAnimationEnd,p=i.onAnimationStart,v=VIe(o,l,AIe(d),c,this.changeStyle),w=function(){s.stopJSAnimation=v()};this.manager.start([p,f,w,c,m])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],f=d.style,m=d.duration,p=m===void 0?0:m,v=function(x,g,_){if(_===0)return x;var T=g.duration,P=g.easing,I=P===void 0?"ease":P,A=g.style,C=g.properties,E=g.onAnimationEnd,N=_>0?o[_-1]:g,O=C||Object.keys(A);if(typeof I=="function"||I==="spring")return[].concat(zT(x),[s.runJSAnimation.bind(s,{from:N.style,to:A,duration:T,easing:I}),T]);var D=R8(O,T,I),L=Xs(Xs(Xs({},N.style),A),{},{transition:D});return[].concat(zT(x),[L,T,E]).filter(yIe)};return this.manager.start([c].concat(zT(o.reduce(v,[f,Math.max(p,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=fIe());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,f=i.onAnimationStart,m=i.onAnimationEnd,p=i.steps,v=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof d=="function"||typeof v=="function"||d==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var x=l?Dp({},l,c):c,g=R8(Object.keys(x),o,d);w.start([f,s,Xs(Xs({},x),{},{transition:g}),o,m])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=qIe(i,BIe),d=S.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||d===0||o<=0)return s;var m=function(v){var w=v.props,x=w.style,g=x===void 0?{}:x,_=w.className,T=S.cloneElement(v,Xs(Xs({},c),{},{style:Xs(Xs({},g),f),className:_}));return T};return d===1?m(S.Children.only(s)):z.createElement("div",null,S.Children.map(s,function(p){return m(p)}))}}]),r})(S.PureComponent);Fs.displayName="Animate";Fs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fs.propTypes={from:ir.oneOfType([ir.object,ir.string]),to:ir.oneOfType([ir.object,ir.string]),attributeName:ir.string,duration:ir.number,begin:ir.number,easing:ir.oneOfType([ir.string,ir.func]),steps:ir.arrayOf(ir.shape({duration:ir.number.isRequired,style:ir.object.isRequired,easing:ir.oneOfType([ir.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ir.func]),properties:ir.arrayOf("string"),onAnimationEnd:ir.func})),children:ir.oneOfType([ir.node,ir.func]),isActive:ir.bool,canBegin:ir.bool,onAnimationEnd:ir.func,shouldReAnimate:ir.bool,onAnimationStart:ir.func,onAnimationReStart:ir.func};function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vb.apply(this,arguments)}function tOe(t,e){return sOe(t)||iOe(t,e)||nOe(t,e)||rOe()}function rOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nOe(t,e){if(t){if(typeof t=="string")return V8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V8(t,e)}}function V8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function sOe(t){if(Array.isArray(t))return t}function B8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(r),!0).forEach(function(n){aOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aOe(t,e,r){return e=oOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oOe(t){var e=lOe(t,"string");return ey(e)=="symbol"?e:e+""}function lOe(t,e){if(ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U8=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&s instanceof Array){for(var m=[0,0,0,0],p=0,v=4;p<v;p++)m[p]=s[p]>o?o:s[p];f="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(r)),f+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*m[1])),f+="L ".concat(e+n,",").concat(r+i-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(r+i)),f+="L ".concat(e+c*m[3],",").concat(r+i),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+i-l*m[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var w=Math.min(o,s);f="M ".concat(e,",").concat(r+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+c*w,",").concat(r,`
            L `).concat(e+n-c*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*w,`
            L `).concat(e+n,",").concat(r+i-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+n-c*w,",").concat(r+i,`
            L `).concat(e+c*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e,",").concat(r+i-l*w," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},cOe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(s,s+l),f=Math.max(s,s+l),m=Math.min(o,o+c),p=Math.max(o,o+c);return n>=d&&n<=f&&i>=m&&i<=p}return!1},uOe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AO=function(e){var r=q8(q8({},uOe),e),n=S.useRef(),i=S.useState(-1),s=tOe(i,2),o=s[0],l=s[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&l(I)}catch{}},[]);var c=r.x,d=r.y,f=r.width,m=r.height,p=r.radius,v=r.className,w=r.animationEasing,x=r.animationDuration,g=r.animationBegin,_=r.isAnimationActive,T=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||m!==+m||f===0||m===0)return null;var P=dt("recharts-rectangle",v);return T?z.createElement(Fs,{canBegin:o>0,from:{width:f,height:m,x:c,y:d},to:{width:f,height:m,x:c,y:d},duration:x,animationEasing:w,isActive:T},function(I){var A=I.width,C=I.height,E=I.x,N=I.y;return z.createElement(Fs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,isActive:_,easing:w},z.createElement("path",Vb({},Ye(r,!0),{className:P,d:U8(E,N,A,C,p),ref:n})))}):z.createElement("path",Vb({},Ye(r,!0),{className:P,d:U8(c,d,f,m,p)}))},dOe=["points","className","baseLinePoints","connectNulls"];function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mh.apply(this,arguments)}function hOe(t,e){if(t==null)return{};var r=fOe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function z8(t){return yOe(t)||gOe(t)||pOe(t)||mOe()}function mOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pOe(t,e){if(t){if(typeof t=="string")return OA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OA(t,e)}}function gOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yOe(t){if(Array.isArray(t))return OA(t)}function OA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var W8=function(e){return e&&e.x===+e.x&&e.y===+e.y},vOe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){W8(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),W8(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ig=function(e,r){var n=vOe(e);r&&(n=[n.reduce(function(s,o){return[].concat(z8(s),z8(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},xOe=function(e,r,n){var i=ig(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ig(r.reverse(),n).slice(1))},GY=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,o=hOe(e,dOe);if(!r||!r.length)return null;var l=dt("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=xOe(r,i,s);return z.createElement("g",{className:l},z.createElement("path",Mh({},Ye(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?z.createElement("path",Mh({},Ye(o,!0),{fill:"none",d:ig(r,s)})):null,c?z.createElement("path",Mh({},Ye(o,!0),{fill:"none",d:ig(i,s)})):null)}var f=ig(r,s);return z.createElement("path",Mh({},Ye(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function RA(){return RA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RA.apply(this,arguments)}var gm=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=dt("recharts-dot",s);return r===+r&&n===+n&&i===+i?S.createElement("circle",RA({},Ye(e,!1),lb(e),{className:o,cx:r,cy:n,r:i})):null};function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}var bOe=["x","y","top","left","width","height","className"];function MA(){return MA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MA.apply(this,arguments)}function H8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wOe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H8(Object(r),!0).forEach(function(n){_Oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Oe(t,e,r){return e=jOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jOe(t){var e=NOe(t,"string");return ty(e)=="symbol"?e:e+""}function NOe(t,e){if(ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SOe(t,e){if(t==null)return{};var r=TOe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var EOe=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},POe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,f=e.width,m=f===void 0?0:f,p=e.height,v=p===void 0?0:p,w=e.className,x=SOe(e,bOe),g=wOe({x:n,y:s,top:l,left:d,width:m,height:v},x);return!ke(n)||!ke(s)||!ke(m)||!ke(v)||!ke(l)||!ke(d)?null:z.createElement("path",MA({},Ye(g,!0),{className:dt("recharts-cross",w),d:EOe(n,s,m,v,l,d)}))},AOe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function COe(t,e){if(t==null)return{};var r=kOe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fl.apply(this,arguments)}function G8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ny(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G8(Object(r),!0).forEach(function(n){IOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IOe(t,e,r){return e=OOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OOe(t){var e=ROe(t,"string");return ry(e)=="symbol"?e:e+""}function ROe(t,e){if(ry(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MOe=function(e,r,n,i){var s="";return i.forEach(function(o,l){var c=er(r,n,e,o);l?s+="L ".concat(c.x,",").concat(c.y):s+="M ".concat(c.x,",").concat(c.y)}),s+="Z",s},DOe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.polarAngles,l=e.radialLines;if(!o||!o.length||!l)return null;var c=ny({stroke:"#ccc"},Ye(e,!1));return z.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(d){var f=er(r,n,i,d),m=er(r,n,s,d);return z.createElement("line",fl({},c,{key:"line-".concat(d),x1:f.x,y1:f.y,x2:m.x,y2:m.y}))}))},LOe=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.index,o=ny(ny({stroke:"#ccc"},Ye(e,!1)),{},{fill:"none"});return z.createElement("circle",fl({},o,{className:dt("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(s),cx:r,cy:n,r:i}))},$Oe=function(e){var r=e.radius,n=e.index,i=ny(ny({stroke:"#ccc"},Ye(e,!1)),{},{fill:"none"});return z.createElement("path",fl({},i,{className:dt("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(n),d:MOe(r,e.cx,e.cy,e.polarAngles)}))},FOe=function(e){var r=e.polarRadius,n=e.gridType;return!r||!r.length?null:z.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,s){var o=s;return n==="circle"?z.createElement(LOe,fl({key:o},e,{radius:i,index:s})):z.createElement($Oe,fl({key:o},e,{radius:i,index:s}))}))},KY=function(e){var r=e.cx,n=r===void 0?0:r,i=e.cy,s=i===void 0?0:i,o=e.innerRadius,l=o===void 0?0:o,c=e.outerRadius,d=c===void 0?0:c,f=e.gridType,m=f===void 0?"polygon":f,p=e.radialLines,v=p===void 0?!0:p,w=COe(e,AOe);return d<=0?null:z.createElement("g",{className:"recharts-polar-grid"},z.createElement(DOe,fl({cx:n,cy:s,innerRadius:l,outerRadius:d,gridType:m,radialLines:v},w)),z.createElement(FOe,fl({cx:n,cy:s,innerRadius:l,outerRadius:d,gridType:m,radialLines:v},w)))};KY.displayName="PolarGrid";var WT,K8;function VOe(){if(K8)return WT;K8=1;var t=_1(),e=sY(),r=mo();function n(i,s){return i&&i.length?t(i,r(s,2),e):void 0}return WT=n,WT}var BOe=VOe();const qOe=Jt(BOe);var HT,Y8;function UOe(){if(Y8)return HT;Y8=1;var t=_1(),e=mo(),r=aY();function n(i,s){return i&&i.length?t(i,e(s,2),r):void 0}return HT=n,HT}var zOe=UOe();const WOe=Jt(zOe);var HOe=["cx","cy","angle","ticks","axisLine"],GOe=["ticks","tick","angle","tickFormatter","stroke"];function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sg.apply(this,arguments)}function Q8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(r),!0).forEach(function(n){T1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X8(t,e){if(t==null)return{};var r=KOe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QY(n.key),n)}}function QOe(t,e,r){return e&&J8(t.prototype,e),r&&J8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XOe(t,e,r){return e=Bb(e),JOe(t,YY()?Reflect.construct(e,r||[],Bb(t).constructor):e.apply(t,r))}function JOe(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZOe(t)}function ZOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YY=function(){return!!t})()}function Bb(t){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(t)}function eRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DA(t,e)}function DA(t,e){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DA(t,e)}function T1(t,e,r){return e=QY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QY(t){var e=tRe(t,"string");return Pf(e)=="symbol"?e:e+""}function tRe(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ym=(function(t){function e(){return YOe(this,e),XOe(this,e,arguments)}return eRe(e,t),QOe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return er(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=qOe(l,function(f){return f.coordinate||0}),d=WOe(l,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=X8(n,HOe),f=l.reduce(function(w,x){return[Math.min(w[0],x.coordinate),Math.max(w[1],x.coordinate)]},[1/0,-1/0]),m=er(i,s,f[0],o),p=er(i,s,f[1],o),v=Tu(Tu(Tu({},Ye(d,!1)),{},{fill:"none"},Ye(c,!1)),{},{x1:m.x,y1:m.y,x2:p.x,y2:p.y});return z.createElement("line",sg({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,f=X8(i,GOe),m=this.getTickTextAnchor(),p=Ye(f,!1),v=Ye(o,!1),w=s.map(function(x,g){var _=n.getTickValueCoord(x),T=Tu(Tu(Tu(Tu({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(_.x,", ").concat(_.y,")")},p),{},{stroke:"none",fill:d},v),{},{index:g},_),{},{payload:x});return z.createElement(Tt,sg({className:dt("recharts-polar-radius-axis-tick",MY(o)),key:"tick-".concat(x.coordinate)},hd(n.props,x,g)),e.renderTickItem(o,T,c?c(x.value,g):x.value))});return z.createElement(Tt,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:z.createElement(Tt,{className:dt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),En.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return z.isValidElement(n)?o=z.cloneElement(n,i):rt(n)?o=n(i):o=z.createElement(fd,sg({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(S.PureComponent);T1(ym,"displayName","PolarRadiusAxis");T1(ym,"axisType","radiusAxis");T1(ym,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ou.apply(this,arguments)}function Z8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z8(Object(r),!0).forEach(function(n){E1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JY(n.key),n)}}function nRe(t,e,r){return e&&eB(t.prototype,e),r&&eB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iRe(t,e,r){return e=qb(e),sRe(t,XY()?Reflect.construct(e,r||[],qb(t).constructor):e.apply(t,r))}function sRe(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aRe(t)}function aRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XY=function(){return!!t})()}function qb(t){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(t)}function oRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LA(t,e)}function LA(t,e){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LA(t,e)}function E1(t,e,r){return e=JY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JY(t){var e=lRe(t,"string");return Af(e)=="symbol"?e:e+""}function lRe(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cRe=Math.PI/180,tB=1e-5,vm=(function(t){function e(){return rRe(this,e),iRe(this,e,arguments)}return oRe(e,t),nRe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,f=d||8,m=er(s,o,l,n.coordinate),p=er(s,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:m.x,y1:m.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*cRe),o;return s>tB?o=i==="outer"?"start":"end":s<-tB?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=Eu(Eu({},Ye(this.props,!1)),{},{fill:"none"},Ye(l,!1));if(c==="circle")return z.createElement(gm,Ou({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:s,r:o}));var f=this.props.ticks,m=f.map(function(p){return er(i,s,o,p.coordinate)});return z.createElement(GY,Ou({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,f=Ye(this.props,!1),m=Ye(o,!1),p=Eu(Eu({},f),{},{fill:"none"},Ye(l,!1)),v=s.map(function(w,x){var g=n.getTickLineCoord(w),_=n.getTickTextAnchor(w),T=Eu(Eu(Eu({textAnchor:_},f),{},{stroke:"none",fill:d},m),{},{index:x,payload:w,x:g.x2,y:g.y2});return z.createElement(Tt,Ou({className:dt("recharts-polar-angle-axis-tick",MY(o)),key:"tick-".concat(w.coordinate)},hd(n.props,w,x)),l&&z.createElement("line",Ou({className:"recharts-polar-angle-axis-tick-line"},p,g)),o&&e.renderTickItem(o,T,c?c(w.value,x):w.value))});return z.createElement(Tt,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:z.createElement(Tt,{className:dt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return z.isValidElement(n)?o=z.cloneElement(n,i):rt(n)?o=n(i):o=z.createElement(fd,Ou({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(S.PureComponent);E1(vm,"displayName","PolarAngleAxis");E1(vm,"axisType","angleAxis");E1(vm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var GT,rB;function uRe(){if(rB)return GT;rB=1;var t=iK(),e=t(Object.getPrototypeOf,Object);return GT=e,GT}var KT,nB;function dRe(){if(nB)return KT;nB=1;var t=xl(),e=uRe(),r=bl(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=o.call(Object);function d(f){if(!r(f)||t(f)!=n)return!1;var m=e(f);if(m===null)return!0;var p=l.call(m,"constructor")&&m.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==c}return KT=d,KT}var hRe=dRe();const fRe=Jt(hRe);var YT,iB;function mRe(){if(iB)return YT;iB=1;var t=xl(),e=bl(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return YT=n,YT}var pRe=mRe();const gRe=Jt(pRe);function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ub.apply(this,arguments)}function yRe(t,e){return wRe(t)||bRe(t,e)||xRe(t,e)||vRe()}function vRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xRe(t,e){if(t){if(typeof t=="string")return sB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sB(t,e)}}function sB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function wRe(t){if(Array.isArray(t))return t}function aB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(r),!0).forEach(function(n){_Re(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Re(t,e,r){return e=jRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jRe(t){var e=NRe(t,"string");return iy(e)=="symbol"?e:e+""}function NRe(t,e){if(iy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lB=function(e,r,n,i,s){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+s),l+="L ".concat(e+n-o/2-i,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},SRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TRe=function(e){var r=oB(oB({},SRe),e),n=S.useRef(),i=S.useState(-1),s=yRe(i,2),o=s[0],l=s[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&l(P)}catch{}},[]);var c=r.x,d=r.y,f=r.upperWidth,m=r.lowerWidth,p=r.height,v=r.className,w=r.animationEasing,x=r.animationDuration,g=r.animationBegin,_=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||m!==+m||p!==+p||f===0&&m===0||p===0)return null;var T=dt("recharts-trapezoid",v);return _?z.createElement(Fs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:f,lowerWidth:m,height:p,x:c,y:d},duration:x,animationEasing:w,isActive:_},function(P){var I=P.upperWidth,A=P.lowerWidth,C=P.height,E=P.x,N=P.y;return z.createElement(Fs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,easing:w},z.createElement("path",Ub({},Ye(r,!0),{className:T,d:lB(E,N,I,A,C),ref:n})))}):z.createElement("g",null,z.createElement("path",Ub({},Ye(r,!0),{className:T,d:lB(c,d,f,m,p)})))},ERe=["option","shapeType","propTransformer","activeClassName","isActive"];function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function PRe(t,e){if(t==null)return{};var r=ARe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ARe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cB(Object(r),!0).forEach(function(n){CRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CRe(t,e,r){return e=kRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kRe(t){var e=IRe(t,"string");return sy(e)=="symbol"?e:e+""}function IRe(t,e){if(sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ORe(t,e){return zb(zb({},e),t)}function RRe(t,e){return t==="symbols"}function uB(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement(AO,r);case"trapezoid":return z.createElement(TRe,r);case"sector":return z.createElement(FY,r);case"symbols":if(RRe(e))return z.createElement(KI,r);break;default:return null}}function MRe(t){return S.isValidElement(t)?t.props:t}function ZY(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?ORe:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=PRe(t,ERe),d;if(S.isValidElement(e))d=S.cloneElement(e,zb(zb({},c),MRe(e)));else if(rt(e))d=e(c);else if(fRe(e)&&!gRe(e)){var f=i(e,c);d=z.createElement(uB,{shapeType:r,elementProps:f})}else{var m=c;d=z.createElement(uB,{shapeType:r,elementProps:m})}return l?z.createElement(Tt,{className:o},d):d}function P1(t,e){return e!=null&&"trapezoids"in t.props}function A1(t,e){return e!=null&&"sectors"in t.props}function ay(t,e){return e!=null&&"points"in t.props}function DRe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function LRe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function $Re(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function FRe(t,e){var r;return P1(t,e)?r=DRe:A1(t,e)?r=LRe:ay(t,e)&&(r=$Re),r}function VRe(t,e){var r;return P1(t,e)?r="trapezoids":A1(t,e)?r="sectors":ay(t,e)&&(r="points"),r}function BRe(t,e){if(P1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(A1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ay(t,e)?e.payload:{}}function qRe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=VRe(r,e),s=BRe(r,e),o=n.filter(function(c,d){var f=Fc(s,c),m=r.props[i].filter(function(w){var x=FRe(r,e);return x(w,e)}),p=r.props[i].indexOf(m[m.length-1]),v=d===p;return f&&v}),l=n.indexOf(o[o.length-1]);return l}var yx;function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dh.apply(this,arguments)}function dB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(r),!0).forEach(function(n){Cs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function URe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tQ(n.key),n)}}function zRe(t,e,r){return e&&hB(t.prototype,e),r&&hB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WRe(t,e,r){return e=Wb(e),HRe(t,eQ()?Reflect.construct(e,r||[],Wb(t).constructor):e.apply(t,r))}function HRe(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GRe(t)}function GRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eQ=function(){return!!t})()}function Wb(t){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(t)}function KRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$A(t,e)}function $A(t,e){return $A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$A(t,e)}function Cs(t,e,r){return e=tQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tQ(t){var e=YRe(t,"string");return Cf(e)=="symbol"?e:e+""}function YRe(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jl=(function(t){function e(r){var n;return URe(this,e),n=WRe(this,e,[r]),Cs(n,"pieRef",null),Cs(n,"sectorRefs",[]),Cs(n,"id",Ad("recharts-pie-")),Cs(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),rt(i)&&i()}),Cs(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),rt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return KRe(e,t),zRe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,d=s.valueKey,f=Ye(this.props,!1),m=Ye(o,!1),p=Ye(l,!1),v=o&&o.offsetRadius||20,w=n.map(function(x,g){var _=(x.startAngle+x.endAngle)/2,T=er(x.cx,x.cy,x.outerRadius+v,_),P=vr(vr(vr(vr({},f),x),{},{stroke:"none"},m),{},{index:g,textAnchor:e.getTextAnchor(T.x,x.cx)},T),I=vr(vr(vr(vr({},f),x),{},{fill:"none",stroke:x.fill},p),{},{index:g,points:[er(x.cx,x.cy,x.outerRadius,_),T]}),A=c;return ft(c)&&ft(d)?A="value":ft(c)&&(A=d),z.createElement(Tt,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,I,"line"),e.renderLabelItem(o,P,$r(x,A)))});return z.createElement(Tt,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(d,f){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var m=i.isActiveIndex(f),p=c&&i.hasActiveIndex()?c:null,v=m?o:p,w=vr(vr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return z.createElement(Tt,Dh({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},hd(i.props,d,f),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(f)}),z.createElement(ZY,Dh({option:v,isActive:m,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state,p=m.prevSectors,v=m.prevIsAnimationActive;return z.createElement(Fs,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var x=w.t,g=[],_=s&&s[0],T=_.startAngle;return s.forEach(function(P,I){var A=p&&p[I],C=I>0?ls(P,"paddingAngle",0):0;if(A){var E=Dr(A.endAngle-A.startAngle,P.endAngle-P.startAngle),N=vr(vr({},P),{},{startAngle:T+C,endAngle:T+E(x)+C});g.push(N),T=N.endAngle}else{var O=P.endAngle,D=P.startAngle,L=Dr(0,O-D),$=L(x),F=vr(vr({},P),{},{startAngle:T+C,endAngle:T+$+C});g.push(F),T=F.endAngle}}),z.createElement(Tt,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Fc(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,d=i.cx,f=i.cy,m=i.innerRadius,p=i.outerRadius,v=i.isAnimationActive,w=this.state.isAnimationFinished;if(s||!o||!o.length||!ke(d)||!ke(f)||!ke(m)||!ke(p))return null;var x=dt("recharts-pie",l);return z.createElement(Tt,{tabIndex:this.props.rootTabIndex,className:x,ref:function(_){n.pieRef=_}},this.renderSectors(),c&&this.renderLabels(o),En.renderCallByParent(this.props,null,!1),(!v||w)&&ca.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(z.isValidElement(n))return z.cloneElement(n,i);if(rt(n))return n(i);var o=dt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(ed,Dh({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(z.isValidElement(n))return z.cloneElement(n,i);var o=s;if(rt(n)&&(o=n(i),z.isValidElement(o)))return o;var l=dt("recharts-pie-label-text",typeof n!="boolean"&&!rt(n)?n.className:"");return z.createElement(fd,Dh({},i,{alignmentBaseline:"middle",className:l}),o)}}])})(S.PureComponent);yx=jl;Cs(jl,"displayName","Pie");Cs(jl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Cs(jl,"parseDeltaAngle",function(t,e){var r=_i(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Cs(jl,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ye(t,!1),i=cs(r,p1);return e&&e.length?e.map(function(s,o){return vr(vr(vr({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return vr(vr({},n),s.props)}):[]});Cs(jl,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=OY(i,s),l=n+ji(t.cx,i,i/2),c=r+ji(t.cy,s,s/2),d=ji(t.innerRadius,o,0),f=ji(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:m}});Cs(jl,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?vr(vr({},e.type.defaultProps),e.props):e.props,i=yx.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,f=n.nameKey,m=n.valueKey,p=n.tooltipType,v=Math.abs(n.minAngle),w=yx.parseCoordinateOfPie(n,r),x=yx.parseDeltaAngle(o,l),g=Math.abs(x),_=d;ft(d)&&ft(m)?(la(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):ft(d)&&(la(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=m);var T=i.filter(function(N){return $r(N,_,0)!==0}).length,P=(g>=360?T:T-1)*c,I=g-T*v-P,A=i.reduce(function(N,O){var D=$r(O,_,0);return N+(ke(D)?D:0)},0),C;if(A>0){var E;C=i.map(function(N,O){var D=$r(N,_,0),L=$r(N,f,O),$=(ke(D)?D:0)/A,F;O?F=E.endAngle+_i(x)*c*(D!==0?1:0):F=o;var G=F+_i(x)*((D!==0?v:0)+$*I),Y=(F+G)/2,K=(w.innerRadius+w.outerRadius)/2,X=[{name:L,value:D,payload:N,dataKey:_,type:p}],U=er(w.cx,w.cy,K,Y);return E=vr(vr(vr({percent:$,cornerRadius:s,name:L,tooltipPayload:X,midAngle:Y,middleRadius:K,tooltipPosition:U},N),w),{},{value:$r(N,_),startAngle:F,endAngle:G,payload:N,paddingAngle:_i(x)*c}),E})}return vr(vr({},w),{},{sectors:C,data:i})});var QT,fB;function QRe(){if(fB)return QT;fB=1;function t(e){return e&&e.length?e[0]:void 0}return QT=t,QT}var XT,mB;function XRe(){return mB||(mB=1,XT=QRe()),XT}var JRe=XRe();const ZRe=Jt(JRe);var eMe=["key"];function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function tMe(t,e){if(t==null)return{};var r=rMe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hb.apply(this,arguments)}function pB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pB(Object(r),!0).forEach(function(n){Fo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nQ(n.key),n)}}function iMe(t,e,r){return e&&gB(t.prototype,e),r&&gB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sMe(t,e,r){return e=Gb(e),aMe(t,rQ()?Reflect.construct(e,r||[],Gb(t).constructor):e.apply(t,r))}function aMe(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oMe(t)}function oMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rQ=function(){return!!t})()}function Gb(t){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(t)}function lMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FA(t,e)}function FA(t,e){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FA(t,e)}function Fo(t,e,r){return e=nQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nQ(t){var e=cMe(t,"string");return kf(e)=="symbol"?e:e+""}function cMe(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qy=(function(t){function e(){var r;nMe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=sMe(this,e,[].concat(i)),Fo(r,"state",{isAnimationFinished:!1}),Fo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),rt(o)&&o()}),Fo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),rt(o)&&o()}),Fo(r,"handleMouseEnter",function(o){var l=r.props.onMouseEnter;l&&l(r.props,o)}),Fo(r,"handleMouseLeave",function(o){var l=r.props.onMouseLeave;l&&l(r.props,o)}),r}return lMe(e,t),iMe(e,[{key:"renderDots",value:function(n){var i=this.props,s=i.dot,o=i.dataKey,l=Ye(this.props,!1),c=Ye(s,!0),d=n.map(function(f,m){var p=vi(vi(vi({key:"dot-".concat(m),r:3},l),c),{},{dataKey:o,cx:f.x,cy:f.y,index:m,payload:f});return e.renderDotItem(s,p)});return z.createElement(Tt,{className:"recharts-radar-dots"},d)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,s=i.shape,o=i.dot,l=i.isRange,c=i.baseLinePoints,d=i.connectNulls,f;return z.isValidElement(s)?f=z.cloneElement(s,vi(vi({},this.props),{},{points:n})):rt(s)?f=s(vi(vi({},this.props),{},{points:n})):f=z.createElement(GY,Hb({},Ye(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:l?c:null,connectNulls:d})),z.createElement(Tt,{className:"recharts-radar-polygon"},f,o?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,s=i.points,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevPoints;return z.createElement(Fs,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"radar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,w=m&&m.length/s.length,x=s.map(function(g,_){var T=m&&m[Math.floor(_*w)];if(T){var P=Dr(T.x,g.x),I=Dr(T.y,g.y);return vi(vi({},g),{},{x:P(v),y:I(v)})}var A=Dr(g.cx,g.x),C=Dr(g.cy,g.y);return vi(vi({},g),{},{x:A(v),y:C(v)})});return n.renderPolygonStatically(x)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,s=n.isAnimationActive,o=n.isRange,l=this.state.prevPoints;return s&&i&&i.length&&!o&&(!l||!Fc(l,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.className,o=n.points,l=n.isAnimationActive;if(i||!o||!o.length)return null;var c=this.state.isAnimationFinished,d=dt("recharts-radar",s);return z.createElement(Tt,{className:d},this.renderPolygon(),(!l||c)&&ca.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var s;if(z.isValidElement(n))s=z.cloneElement(n,i);else if(rt(n))s=n(i);else{var o=i.key,l=tMe(i,eMe);s=z.createElement(gm,Hb({},l,{key:o,className:dt("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return s}}])})(S.PureComponent);Fo(Qy,"displayName","Radar");Fo(Qy,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!wl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Fo(Qy,"getComposedData",function(t){var e=t.radiusAxis,r=t.angleAxis,n=t.displayedData,i=t.dataKey,s=t.bandSize,o=r.cx,l=r.cy,c=!1,d=[],f=r.type!=="number"?s??0:0;n.forEach(function(p,v){var w=$r(p,r.dataKey,v),x=$r(p,i),g=r.scale(w)+f,_=Array.isArray(x)?LY(x):x,T=ft(_)?void 0:e.scale(_);Array.isArray(x)&&x.length>=2&&(c=!0),d.push(vi(vi({},er(o,l,T,g)),{},{name:w,value:x,cx:o,cy:l,radius:T,angle:g,payload:p}))});var m=[];return c&&d.forEach(function(p){if(Array.isArray(p.value)){var v=ZRe(p.value),w=ft(v)?void 0:e.scale(v);m.push(vi(vi({},p),{},{radius:w},er(o,l,w,p.angle)))}else m.push(p)}),{points:d,isRange:c,baseLinePoints:m}});var JT,yB;function uMe(){if(yB)return JT;yB=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var l=-1,c=e(t((i-n)/(s||1)),0),d=Array(c);c--;)d[o?c:++l]=n,n+=s;return d}return JT=r,JT}var ZT,vB;function iQ(){if(vB)return ZT;vB=1;var t=bK(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return ZT=n,ZT}var eE,xB;function dMe(){if(xB)return eE;xB=1;var t=uMe(),e=m1(),r=iQ();function n(i){return function(s,o,l){return l&&typeof l!="number"&&e(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),t(s,o,l,i)}}return eE=n,eE}var tE,bB;function hMe(){if(bB)return tE;bB=1;var t=dMe(),e=t();return tE=e,tE}var fMe=hMe();const Kb=Jt(fMe);function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function wB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _B(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(r),!0).forEach(function(n){sQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sQ(t,e,r){return e=mMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mMe(t){var e=pMe(t,"string");return oy(e)=="symbol"?e:e+""}function pMe(t,e){if(oy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gMe=["Webkit","Moz","O","ms"],yMe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=gMe.reduce(function(s,o){return _B(_B({},s),{},sQ({},o+n,r))},{});return i[e]=r,i};function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yb.apply(this,arguments)}function jB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jB(Object(r),!0).forEach(function(n){rs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oQ(n.key),n)}}function xMe(t,e,r){return e&&NB(t.prototype,e),r&&NB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bMe(t,e,r){return e=Qb(e),wMe(t,aQ()?Reflect.construct(e,r||[],Qb(t).constructor):e.apply(t,r))}function wMe(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Me(t)}function _Me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aQ=function(){return!!t})()}function Qb(t){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qb(t)}function jMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VA(t,e)}function VA(t,e){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VA(t,e)}function rs(t,e,r){return e=oQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oQ(t){var e=NMe(t,"string");return If(e)=="symbol"?e:e+""}function NMe(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SMe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=tg().domain(Kb(0,c)).range([s,s+o-l]),f=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:f}},SB=function(e){return e.changedTouches&&!!e.changedTouches.length},Of=(function(t){function e(r){var n;return vMe(this,e),n=bMe(this,e,[r]),rs(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),rs(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),rs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),rs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),rs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),rs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),rs(n,"handleSlideDragStart",function(i){var s=SB(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return jMe(e,t),xMe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,f=d.length-1,m=Math.min(i,s),p=Math.max(i,s),v=e.getIndexInRange(o,m),w=e.getIndexInRange(o,p);return{startIndex:v-v%c,endIndex:w===f?f:w-w%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=$r(s[n],l,n);return rt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,f=c.width,m=c.travellerWidth,p=c.startIndex,v=c.endIndex,w=c.onChange,x=n.pageX-s;x>0?x=Math.min(x,d+f-m-l,d+f-m-o):x<0&&(x=Math.max(x,d-o,d-l));var g=this.getIndex({startX:o+x,endX:l+x});(g.startIndex!==p||g.endIndex!==v)&&w&&w(g),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=SB(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],f=this.props,m=f.x,p=f.width,v=f.travellerWidth,w=f.onChange,x=f.gap,g=f.data,_={startX:this.state.startX,endX:this.state.endX},T=n.pageX-s;T>0?T=Math.min(T,m+p-v-d):T<0&&(T=Math.max(T,m-d)),_[o]=d+T;var P=this.getIndex(_),I=P.startIndex,A=P.endIndex,C=function(){var N=g.length-1;return o==="startX"&&(l>c?I%x===0:A%x===0)||l<c&&A===N||o==="endX"&&(l>c?A%x===0:I%x===0)||l>c&&A===N};this.setState(rs(rs({},o,d+T),"brushMoveStartX",n.pageX),function(){w&&C()&&w(P)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,f=this.state[i],m=l.indexOf(f);if(m!==-1){var p=m+n;if(!(p===-1||p>=l.length)){var v=l[p];i==="startX"&&v>=d||i==="endX"&&v<=c||this.setState(rs({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return z.createElement("rect",{stroke:d,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,d=n.children,f=n.padding,m=S.Children.only(d);return m?z.cloneElement(m,{x:i,y:s,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,d=c.y,f=c.travellerWidth,m=c.height,p=c.traveller,v=c.ariaLabel,w=c.data,x=c.startIndex,g=c.endIndex,_=Math.max(n,this.props.x),T=rE(rE({},Ye(this.props,!1)),{},{x:_,y:d,width:f,height:m}),P=v||"Min value: ".concat((s=w[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=w[g])===null||o===void 0?void 0:o.name);return z.createElement(Tt,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),l.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,T))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,d=s.travellerWidth,f=Math.min(n,i)+d,m=Math.max(Math.abs(i-n)-d,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,f=this.state,m=f.startX,p=f.endX,v=5,w={pointerEvents:"none",fill:d};return z.createElement(Tt,{className:"recharts-brush-texts"},z.createElement(fd,Yb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,p)-v,y:o+l/2},w),this.getTextOfTick(i)),z.createElement(fd,Yb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,p)+c+v,y:o+l/2},w),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,d=n.width,f=n.height,m=n.alwaysShowText,p=this.state,v=p.startX,w=p.endX,x=p.isTextActive,g=p.isSlideMoving,_=p.isTravellerMoving,T=p.isTravellerFocused;if(!i||!i.length||!ke(l)||!ke(c)||!ke(d)||!ke(f)||d<=0||f<=0)return null;var P=dt("recharts-brush",s),I=z.Children.count(o)===1,A=yMe("userSelect","none");return z.createElement(Tt,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(v,w),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(w,"endX"),(x||g||_||T||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(s+l/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),z.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):rt(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,f=n.startIndex,m=n.endIndex;if(s!==i.prevData||d!==i.prevUpdateId)return rE({prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},s&&s.length?SMe({data:s,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var p=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])})(S.PureComponent);rs(Of,"displayName","Brush");rs(Of,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nE,TB;function TMe(){if(TB)return nE;TB=1;var t=tO();function e(r,n){var i;return t(r,function(s,o,l){return i=n(s,o,l),!i}),!!i}return nE=e,nE}var iE,EB;function EMe(){if(EB)return iE;EB=1;var t=XG(),e=mo(),r=TMe(),n=Wi(),i=m1();function s(o,l,c){var d=n(o)?t:r;return c&&i(o,l,c)&&(l=void 0),d(o,e(l,3))}return iE=s,iE}var PMe=EMe();const AMe=Jt(PMe);var Za=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},sE,PB;function CMe(){if(PB)return sE;PB=1;var t=pK();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return sE=e,sE}var aE,AB;function kMe(){if(AB)return aE;AB=1;var t=CMe(),e=fK(),r=mo();function n(i,s){var o={};return s=r(s,3),e(i,function(l,c,d){t(o,c,s(l,c,d))}),o}return aE=n,aE}var IMe=kMe();const OMe=Jt(IMe);var oE,CB;function RMe(){if(CB)return oE;CB=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return oE=t,oE}var lE,kB;function MMe(){if(kB)return lE;kB=1;var t=tO();function e(r,n){var i=!0;return t(r,function(s,o,l){return i=!!n(s,o,l),i}),i}return lE=e,lE}var cE,IB;function DMe(){if(IB)return cE;IB=1;var t=RMe(),e=MMe(),r=mo(),n=Wi(),i=m1();function s(o,l,c){var d=n(o)?t:e;return c&&i(o,l,c)&&(l=void 0),d(o,r(l,3))}return cE=s,cE}var LMe=DMe();const lQ=Jt(LMe);var $Me=["x","y"];function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function BA(){return BA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BA.apply(this,arguments)}function OB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(r),!0).forEach(function(n){FMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FMe(t,e,r){return e=VMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VMe(t){var e=BMe(t,"string");return ly(e)=="symbol"?e:e+""}function BMe(t,e){if(ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qMe(t,e){if(t==null)return{};var r=UMe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zMe(t,e){var r=t.x,n=t.y,i=qMe(t,$Me),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),m="".concat(e.width||i.width),p=parseInt(m,10);return Sp(Sp(Sp(Sp(Sp({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function RB(t){return z.createElement(ZY,BA({shapeType:"rectangle",propTransformer:zMe,activeClassName:"recharts-active-bar"},t))}var WMe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=ke(n)||G_e(n);return s?e(n,i):(s||pd(),r)}},HMe=["value","background"],cQ;function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function GMe(t,e){if(t==null)return{};var r=KMe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xb.apply(this,arguments)}function MB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MB(Object(r),!0).forEach(function(n){yc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dQ(n.key),n)}}function QMe(t,e,r){return e&&DB(t.prototype,e),r&&DB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XMe(t,e,r){return e=Jb(e),JMe(t,uQ()?Reflect.construct(e,r||[],Jb(t).constructor):e.apply(t,r))}function JMe(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZMe(t)}function ZMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uQ=function(){return!!t})()}function Jb(t){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(t)}function e4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qA(t,e)}function qA(t,e){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qA(t,e)}function yc(t,e,r){return e=dQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dQ(t){var e=t4e(t,"string");return Rf(e)=="symbol"?e:e+""}function t4e(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aa=(function(t){function e(){var r;YMe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=XMe(this,e,[].concat(i)),yc(r,"state",{isAnimationFinished:!1}),yc(r,"id",Ad("recharts-bar-")),yc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),yc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return e4e(e,t),QMe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,d=s.activeBar,f=Ye(this.props,!1);return n&&n.map(function(m,p){var v=p===c,w=v?d:o,x=rn(rn(rn({},f),m),{},{isActive:v,option:w,index:p,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(Tt,Xb({className:"recharts-bar-rectangle"},hd(i.props,m,p),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(p)}),z.createElement(RB,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,m=i.animationId,p=this.state.prevData;return z.createElement(Fs,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t,x=s.map(function(g,_){var T=p&&p[_];if(T){var P=Dr(T.x,g.x),I=Dr(T.y,g.y),A=Dr(T.width,g.width),C=Dr(T.height,g.height);return rn(rn({},g),{},{x:P(w),y:I(w),width:A(w),height:C(w)})}if(o==="horizontal"){var E=Dr(0,g.height),N=E(w);return rn(rn({},g),{},{y:g.y+g.height-N,height:N})}var O=Dr(0,g.width),D=O(w);return rn(rn({},g),{},{width:D})});return z.createElement(Tt,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Fc(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=Ye(this.props.background,!1);return s.map(function(d,f){d.value;var m=d.background,p=GMe(d,HMe);if(!m)return null;var v=rn(rn(rn(rn(rn({},p),{},{fill:"#eee"},m),c),hd(n.props,d,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return z.createElement(RB,Xb({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,d=s.layout,f=s.children,m=cs(f,Yy);if(!m)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,v=function(g,_){var T=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:T,errorVal:$r(g,_)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(Tt,w,m.map(function(x){return z.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:p,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,f=n.top,m=n.width,p=n.height,v=n.isAnimationActive,w=n.background,x=n.id;if(i||!s||!s.length)return null;var g=this.state.isAnimationFinished,_=dt("recharts-bar",o),T=l&&l.allowDataOverflow,P=c&&c.allowDataOverflow,I=T||P,A=ft(x)?this.id:x;return z.createElement(Tt,{className:_},T||P?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(A)},z.createElement("rect",{x:T?d:d-m/2,y:P?f:f-p/2,width:T?m:m*2,height:P?p:p*2}))):null,z.createElement(Tt,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(A,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,A),(!v||g)&&ca.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(S.PureComponent);cQ=aa;yc(aa,"displayName","Bar");yc(aa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});yc(aa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,f=t.dataStartIndex,m=t.displayedData,p=t.offset,v=oCe(n,r);if(!v)return null;var w=e.layout,x=r.type.defaultProps,g=x!==void 0?rn(rn({},x),r.props):r.props,_=g.dataKey,T=g.children,P=g.minPointSize,I=w==="horizontal"?o:s,A=d?I.scale.domain():null,C=mCe({numericAxis:I}),E=cs(T,p1),N=m.map(function(O,D){var L,$,F,G,Y,K;d?L=lCe(d[f+D],A):(L=$r(O,_),Array.isArray(L)||(L=[C,L]));var X=WMe(P,cQ.defaultProps.minPointSize)(L[1],D);if(w==="horizontal"){var U,Q=[o.scale(L[0]),o.scale(L[1])],ne=Q[0],W=Q[1];$=r8({axis:s,ticks:l,bandSize:i,offset:v.offset,entry:O,index:D}),F=(U=W??ne)!==null&&U!==void 0?U:void 0,G=v.size;var Z=ne-W;if(Y=Number.isNaN(Z)?0:Z,K={x:$,y:o.y,width:G,height:o.height},Math.abs(X)>0&&Math.abs(Y)<Math.abs(X)){var ue=_i(Y||X)*(Math.abs(X)-Math.abs(Y));F-=ue,Y+=ue}}else{var le=[s.scale(L[0]),s.scale(L[1])],be=le[0],ge=le[1];if($=be,F=r8({axis:o,ticks:c,bandSize:i,offset:v.offset,entry:O,index:D}),G=ge-be,Y=v.size,K={x:s.x,y:F,width:s.width,height:Y},Math.abs(X)>0&&Math.abs(G)<Math.abs(X)){var me=_i(G||X)*(Math.abs(X)-Math.abs(G));G+=me}}return rn(rn(rn({},O),{},{x:$,y:F,width:G,height:Y,value:d?L:L[1],payload:O,background:K},E&&E[D]&&E[D].props),{},{tooltipPayload:[kY(r,O)],tooltipPosition:{x:$+G/2,y:F+Y/2}})});return rn({data:N,layout:w},p)});function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function r4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hQ(n.key),n)}}function n4e(t,e,r){return e&&LB(t.prototype,e),r&&LB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(r),!0).forEach(function(n){C1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$B(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C1(t,e,r){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQ(t){var e=i4e(t,"string");return cy(e)=="symbol"?e:e+""}function i4e(t,e){if(cy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CO=function(e,r,n,i,s){var o=e.width,l=e.height,c=e.layout,d=e.children,f=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!ns(d,aa);return f.reduce(function(v,w){var x=r[w],g=x.orientation,_=x.domain,T=x.padding,P=T===void 0?{}:T,I=x.mirror,A=x.reversed,C="".concat(g).concat(I?"Mirror":""),E,N,O,D,L;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var $=_[1]-_[0],F=1/0,G=x.categoricalDomain.sort(Q_e);if(G.forEach(function(le,be){be>0&&(F=Math.min((le||0)-(G[be-1]||0),F))}),Number.isFinite(F)){var Y=F/$,K=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(E=Y*K/2),x.padding==="no-gap"){var X=ji(e.barCategoryGap,Y*K),U=Y*K/2;E=U-X-(U-X)/K*X}}}i==="xAxis"?N=[n.left+(P.left||0)+(E||0),n.left+n.width-(P.right||0)-(E||0)]:i==="yAxis"?N=c==="horizontal"?[n.top+n.height-(P.bottom||0),n.top+(P.top||0)]:[n.top+(P.top||0)+(E||0),n.top+n.height-(P.bottom||0)-(E||0)]:N=x.range,A&&(N=[N[1],N[0]]);var Q=EY(x,s,p),ne=Q.scale,W=Q.realScaleType;ne.domain(_).range(N),PY(ne);var Z=AY(ne,ta(ta({},x),{},{realScaleType:W}));i==="xAxis"?(L=g==="top"&&!I||g==="bottom"&&I,O=n.left,D=m[C]-L*x.height):i==="yAxis"&&(L=g==="left"&&!I||g==="right"&&I,O=m[C]-L*x.width,D=n.top);var ue=ta(ta(ta({},x),Z),{},{realScaleType:W,x:O,y:D,scale:ne,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return ue.bandSize=Rb(ue,Z),!x.hide&&i==="xAxis"?m[C]+=(L?-1:1)*ue.height:x.hide||(m[C]+=(L?-1:1)*ue.width),ta(ta({},v),{},C1({},w,ue))},{})},fQ=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},s4e=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return fQ({x:r,y:n},{x:i,y:s})},mQ=(function(){function t(e){r4e(this,t),this.scale=e}return n4e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();C1(mQ,"EPS",1e-4);var kO=function(e){var r=Object.keys(e).reduce(function(n,i){return ta(ta({},n),{},C1({},i,mQ.create(e[i])))},{});return ta(ta({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return OMe(i,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return lQ(i,function(s,o){return r[o].isInRange(s)})}})};function a4e(t){return(t%180+180)%180}var o4e=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=a4e(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},uE,FB;function l4e(){if(FB)return uE;FB=1;var t=mo(),e=zy(),r=h1();function n(i){return function(s,o,l){var c=Object(s);if(!e(s)){var d=t(o,3);s=r(s),o=function(m){return d(c[m],m,c)}}var f=i(s,o,l);return f>-1?c[d?s[f]:f]:void 0}}return uE=n,uE}var dE,VB;function c4e(){if(VB)return dE;VB=1;var t=iQ();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return dE=e,dE}var hE,BB;function u4e(){if(BB)return hE;BB=1;var t=lK(),e=mo(),r=c4e(),n=Math.max;function i(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=n(c+d,0)),t(s,e(o,3),d)}return hE=i,hE}var fE,qB;function d4e(){if(qB)return fE;qB=1;var t=l4e(),e=u4e(),r=t(e);return fE=r,fE}var h4e=d4e();const f4e=Jt(h4e);var m4e=jG();const p4e=Jt(m4e);var g4e=p4e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),IO=S.createContext(void 0),OO=S.createContext(void 0),pQ=S.createContext(void 0),gQ=S.createContext({}),yQ=S.createContext(void 0),vQ=S.createContext(0),xQ=S.createContext(0),UB=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,f=g4e(s);return z.createElement(IO.Provider,{value:n},z.createElement(OO.Provider,{value:i},z.createElement(gQ.Provider,{value:s},z.createElement(pQ.Provider,{value:f},z.createElement(yQ.Provider,{value:o},z.createElement(vQ.Provider,{value:d},z.createElement(xQ.Provider,{value:c},l)))))))},y4e=function(){return S.useContext(yQ)},bQ=function(e){var r=S.useContext(IO);r==null&&pd();var n=r[e];return n==null&&pd(),n},v4e=function(){var e=S.useContext(IO);return lc(e)},x4e=function(){var e=S.useContext(OO),r=f4e(e,function(n){return lQ(n.domain,Number.isFinite)});return r||lc(e)},wQ=function(e){var r=S.useContext(OO);r==null&&pd();var n=r[e];return n==null&&pd(),n},b4e=function(){var e=S.useContext(pQ);return e},w4e=function(){return S.useContext(gQ)},RO=function(){return S.useContext(xQ)},MO=function(){return S.useContext(vQ)};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function _4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jQ(n.key),n)}}function N4e(t,e,r){return e&&j4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S4e(t,e,r){return e=Zb(e),T4e(t,_Q()?Reflect.construct(e,r||[],Zb(t).constructor):e.apply(t,r))}function T4e(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E4e(t)}function E4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_Q=function(){return!!t})()}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(t)}function P4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UA(t,e)}function UA(t,e){return UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UA(t,e)}function zB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zB(Object(r),!0).forEach(function(n){DO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DO(t,e,r){return e=jQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jQ(t){var e=A4e(t,"string");return Mf(e)=="symbol"?e:e+""}function A4e(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function C4e(t,e){return R4e(t)||O4e(t,e)||I4e(t,e)||k4e()}function k4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I4e(t,e){if(t){if(typeof t=="string")return HB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HB(t,e)}}function HB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function R4e(t){if(Array.isArray(t))return t}function zA(){return zA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zA.apply(this,arguments)}var M4e=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):rt(e)?n=e(r):n=z.createElement("line",zA({},r,{className:"recharts-reference-line-line"})),n},D4e=function(e,r,n,i,s,o,l,c,d){var f=s.x,m=s.y,p=s.width,v=s.height;if(n){var w=d.y,x=e.y.apply(w,{position:o});if(Za(d,"discard")&&!e.y.isInRange(x))return null;var g=[{x:f+p,y:x},{x:f,y:x}];return c==="left"?g.reverse():g}if(r){var _=d.x,T=e.x.apply(_,{position:o});if(Za(d,"discard")&&!e.x.isInRange(T))return null;var P=[{x:T,y:m+v},{x:T,y:m}];return l==="top"?P.reverse():P}if(i){var I=d.segment,A=I.map(function(C){return e.apply(C,{position:o})});return Za(d,"discard")&&AMe(A,function(C){return!e.isInRange(C)})?null:A}return null};function L4e(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=y4e(),f=bQ(i),m=wQ(s),p=b4e();if(!d||!p)return null;la(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=kO({x:f.scale,y:m.scale}),w=pn(e),x=pn(r),g=n&&n.length===2,_=D4e(v,w,x,g,p,t.position,f.orientation,m.orientation,t);if(!_)return null;var T=C4e(_,2),P=T[0],I=P.x,A=P.y,C=T[1],E=C.x,N=C.y,O=Za(t,"hidden")?"url(#".concat(d,")"):void 0,D=WB(WB({clipPath:O},Ye(t,!0)),{},{x1:I,y1:A,x2:E,y2:N});return z.createElement(Tt,{className:dt("recharts-reference-line",l)},M4e(o,D),En.renderCallByParent(t,s4e({x1:I,y1:A,x2:E,y2:N})))}var LO=(function(t){function e(){return _4e(this,e),S4e(this,e,arguments)}return P4e(e,t),N4e(e,[{key:"render",value:function(){return z.createElement(L4e,this.props)}}])})(z.Component);DO(LO,"displayName","ReferenceLine");DO(LO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function WA(){return WA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WA.apply(this,arguments)}function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function GB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GB(Object(r),!0).forEach(function(n){k1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SQ(n.key),n)}}function V4e(t,e,r){return e&&F4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B4e(t,e,r){return e=ew(e),q4e(t,NQ()?Reflect.construct(e,r||[],ew(t).constructor):e.apply(t,r))}function q4e(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U4e(t)}function U4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NQ=function(){return!!t})()}function ew(t){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ew(t)}function z4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HA(t,e)}function HA(t,e){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HA(t,e)}function k1(t,e,r){return e=SQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SQ(t){var e=W4e(t,"string");return Df(e)=="symbol"?e:e+""}function W4e(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H4e=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=kO({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Za(e,"discard")&&!o.isInRange(l)?null:l},I1=(function(t){function e(){return $4e(this,e),B4e(this,e,arguments)}return z4e(e,t),V4e(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=pn(i),f=pn(s);if(la(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var m=H4e(this.props);if(!m)return null;var p=m.x,v=m.y,w=this.props,x=w.shape,g=w.className,_=Za(this.props,"hidden")?"url(#".concat(c,")"):void 0,T=KB(KB({clipPath:_},Ye(this.props,!0)),{},{cx:p,cy:v});return z.createElement(Tt,{className:dt("recharts-reference-dot",g)},e.renderDot(x,T),En.renderCallByParent(this.props,{x:p-o,y:v-o,width:2*o,height:2*o}))}}])})(z.Component);k1(I1,"displayName","ReferenceDot");k1(I1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});k1(I1,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):rt(t)?r=t(e):r=z.createElement(gm,WA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GA.apply(this,arguments)}function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function YB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(r),!0).forEach(function(n){O1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EQ(n.key),n)}}function Y4e(t,e,r){return e&&K4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q4e(t,e,r){return e=tw(e),X4e(t,TQ()?Reflect.construct(e,r||[],tw(t).constructor):e.apply(t,r))}function X4e(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J4e(t)}function J4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TQ=function(){return!!t})()}function tw(t){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(t)}function Z4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KA(t,e)}function KA(t,e){return KA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KA(t,e)}function O1(t,e,r){return e=EQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EQ(t){var e=e5e(t,"string");return Lf(e)=="symbol"?e:e+""}function e5e(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t5e=function(e,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,d=s.y2,f=s.xAxis,m=s.yAxis;if(!f||!m)return null;var p=kO({x:f.scale,y:m.scale}),v={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},w={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(d,{position:"end"}):p.y.rangeMax};return Za(s,"discard")&&(!p.isInRange(v)||!p.isInRange(w))?null:fQ(v,w)},R1=(function(t){function e(){return G4e(this,e),Q4e(this,e,arguments)}return Z4e(e,t),Y4e(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,f=n.clipPathId;la(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=pn(i),p=pn(s),v=pn(o),w=pn(l),x=this.props.shape;if(!m&&!p&&!v&&!w&&!x)return null;var g=t5e(m,p,v,w,this.props);if(!g&&!x)return null;var _=Za(this.props,"hidden")?"url(#".concat(f,")"):void 0;return z.createElement(Tt,{className:dt("recharts-reference-area",c)},e.renderRect(x,QB(QB({clipPath:_},Ye(this.props,!0)),g)),En.renderCallByParent(this.props,g))}}])})(z.Component);O1(R1,"displayName","ReferenceArea");O1(R1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});O1(R1,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):rt(t)?r=t(e):r=z.createElement(AO,GA({},e,{className:"recharts-reference-area-rect"})),r});function PQ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function r5e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return o4e(n,r)}function n5e(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function rw(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function i5e(t,e){return PQ(t,e+1)}function s5e(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,f=o,m=function(){var w=n==null?void 0:n[c];if(w===void 0)return{v:PQ(n,d)};var x=c,g,_=function(){return g===void 0&&(g=r(w,x)),g},T=w.coordinate,P=c===0||rw(t,T,_,f,l);P||(c=0,f=o,d+=1),P&&(f=T+t*(_()/2+i),c+=d)},p;d<=s.length;)if(p=m(),p)return p.v;return[]}function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function XB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XB(Object(r),!0).forEach(function(n){a5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a5e(t,e,r){return e=o5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o5e(t){var e=l5e(t,"string");return uy(e)=="symbol"?e:e+""}function l5e(t,e){if(uy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c5e(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end,d=function(p){var v=s[p],w,x=function(){return w===void 0&&(w=r(v,p)),w};if(p===o-1){var g=t*(v.coordinate+t*x()/2-c);s[p]=v=ti(ti({},v),{},{tickCoord:g>0?v.coordinate-g*t:v.coordinate})}else s[p]=v=ti(ti({},v),{},{tickCoord:v.coordinate});var _=rw(t,v.tickCoord,x,l,c);_&&(c=v.tickCoord-t*(x()/2+i),s[p]=ti(ti({},v),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return s}function u5e(t,e,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(s){var f=n[l-1],m=r(f,l-1),p=t*(f.coordinate+t*m/2-d);o[l-1]=f=ti(ti({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var v=rw(t,f.tickCoord,function(){return m},c,d);v&&(d=f.tickCoord-t*(m/2+i),o[l-1]=ti(ti({},f),{},{isShow:!0}))}for(var w=s?l-1:l,x=function(T){var P=o[T],I,A=function(){return I===void 0&&(I=r(P,T)),I};if(T===0){var C=t*(P.coordinate-t*A()/2-c);o[T]=P=ti(ti({},P),{},{tickCoord:C<0?P.coordinate-C*t:P.coordinate})}else o[T]=P=ti(ti({},P),{},{tickCoord:P.coordinate});var E=rw(t,P.tickCoord,A,c,d);E&&(c=P.tickCoord+t*(A()/2+i),o[T]=ti(ti({},P),{},{isShow:!0}))},g=0;g<w;g++)x(g);return o}function $O(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,f=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(ke(c)||wl.isSsr)return i5e(i,typeof c=="number"&&ke(c)?c:0);var p=[],v=l==="top"||l==="bottom"?"width":"height",w=f&&v==="width"?eg(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(P,I){var A=rt(d)?d(P.value,I):P.value;return v==="width"?r5e(eg(A,{fontSize:e,letterSpacing:r}),w,m):eg(A,{fontSize:e,letterSpacing:r})[v]},g=i.length>=2?_i(i[1].coordinate-i[0].coordinate):1,_=n5e(s,g,v);return c==="equidistantPreserveStart"?s5e(g,_,x,i,o):(c==="preserveStart"||c==="preserveStartEnd"?p=u5e(g,_,x,i,o,c==="preserveStartEnd"):p=c5e(g,_,x,i,o),p.filter(function(T){return T.isShow}))}var d5e=["viewBox"],h5e=["viewBox"],f5e=["ticks"];function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lh.apply(this,arguments)}function JB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JB(Object(r),!0).forEach(function(n){FO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mE(t,e){if(t==null)return{};var r=m5e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function p5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CQ(n.key),n)}}function g5e(t,e,r){return e&&ZB(t.prototype,e),r&&ZB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function y5e(t,e,r){return e=nw(e),v5e(t,AQ()?Reflect.construct(e,r||[],nw(t).constructor):e.apply(t,r))}function v5e(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x5e(t)}function x5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AQ=function(){return!!t})()}function nw(t){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nw(t)}function b5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}function YA(t,e){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YA(t,e)}function FO(t,e,r){return e=CQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CQ(t){var e=w5e(t,"string");return $f(e)=="symbol"?e:e+""}function w5e(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xm=(function(t){function e(r){var n;return p5e(this,e),n=y5e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return b5e(e,t),g5e(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=mE(n,d5e),l=this.props,c=l.viewBox,d=mE(l,h5e);return!Qh(s,c)||!Qh(o,d)||!Qh(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,f=i.tickSize,m=i.mirror,p=i.tickMargin,v,w,x,g,_,T,P=m?-1:1,I=n.tickSize||f,A=ke(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":v=w=n.coordinate,g=o+ +!m*c,x=g-P*I,T=x-P*p,_=A;break;case"left":x=g=n.coordinate,w=s+ +!m*l,v=w-P*I,_=v-P*p,T=A;break;case"right":x=g=n.coordinate,w=s+ +m*l,v=w+P*I,_=v+P*p,T=A;break;default:v=w=n.coordinate,g=o+ +m*c,x=g+P*I,T=x+P*p,_=A;break}return{line:{x1:v,y1:x,x2:w,y2:g},tick:{x:_,y:T}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,f=n.axisLine,m=dn(dn(dn({},Ye(this.props,!1)),Ye(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);m=dn(dn({},m),{},{x1:i,y1:s+p*l,x2:i+o,y2:s+p*l})}else{var v=+(c==="left"&&!d||c==="right"&&d);m=dn(dn({},m),{},{x1:i+v*o,y1:s,x2:i+v*o,y2:s+l})}return z.createElement("line",Lh({},m,{className:dt("recharts-cartesian-axis-line",ls(f,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,d=l.stroke,f=l.tick,m=l.tickFormatter,p=l.unit,v=$O(dn(dn({},this.props),{},{ticks:n}),i,s),w=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),g=Ye(this.props,!1),_=Ye(f,!1),T=dn(dn({},g),{},{fill:"none"},Ye(c,!1)),P=v.map(function(I,A){var C=o.getTickLineCoord(I),E=C.line,N=C.tick,O=dn(dn(dn(dn({textAnchor:w,verticalAnchor:x},g),{},{stroke:"none",fill:d},_),N),{},{index:A,payload:I,visibleTicksCount:v.length,tickFormatter:m});return z.createElement(Tt,Lh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},hd(o.props,I,A)),c&&z.createElement("line",Lh({},T,E,{className:dt("recharts-cartesian-axis-tick-line",ls(c,"className"))})),f&&e.renderTickItem(f,O,"".concat(rt(m)?m(I.value,A):I.value).concat(p||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,f=i.hide;if(f)return null;var m=this.props,p=m.ticks,v=mE(m,f5e),w=p;return rt(c)&&(w=p&&p.length>0?c(this.props):c(v)),o<=0||l<=0||!w||!w.length?null:z.createElement(Tt,{className:dt("recharts-cartesian-axis",d),ref:function(g){n.layerReference=g}},s&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),En.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=dt(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?o=z.cloneElement(n,dn(dn({},i),{},{className:l})):rt(n)?o=n(dn(dn({},i),{},{className:l})):o=z.createElement(fd,Lh({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(S.Component);FO(xm,"displayName","CartesianAxis");FO(xm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _5e=["x1","y1","x2","y2","key"],j5e=["offset"];function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function eq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eq(Object(r),!0).forEach(function(n){N5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N5e(t,e,r){return e=S5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S5e(t){var e=T5e(t,"string");return gd(e)=="symbol"?e:e+""}function T5e(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bu.apply(this,arguments)}function tq(t,e){if(t==null)return{};var r=E5e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function E5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var P5e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return z.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function kQ(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(rt(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=tq(e,_5e),d=Ye(c,!1);d.offset;var f=tq(d,j5e);r=z.createElement("line",Bu({},f,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function A5e(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var d=ii(ii({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return kQ(i,d)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function C5e(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var d=ii(ii({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return kQ(i,d)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function k5e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var f=l.map(function(p){return Math.round(p+i-i)}).sort(function(p,v){return p-v});i!==f[0]&&f.unshift(0);var m=f.map(function(p,v){var w=!f[v+1],x=w?i+o-p:f[v+1]-p;if(x<=0)return null;var g=v%e.length;return z.createElement("rect",{key:"react-".concat(v),y:p,x:n,height:x,width:s,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function I5e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var f=d.map(function(p){return Math.round(p+s-s)}).sort(function(p,v){return p-v});s!==f[0]&&f.unshift(0);var m=f.map(function(p,v){var w=!f[v+1],x=w?s+l-p:f[v+1]-p;if(x<=0)return null;var g=v%n.length;return z.createElement("rect",{key:"react-".concat(v),x:p,y:o,width:x,height:c,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var O5e=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return TY($O(ii(ii(ii({},xm.defaultProps),n),{},{ticks:Wo(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},R5e=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return TY($O(ii(ii(ii({},xm.defaultProps),n),{},{ticks:Wo(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},_h={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Xo(t){var e,r,n,i,s,o,l=RO(),c=MO(),d=w4e(),f=ii(ii({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:_h.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:_h.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:_h.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:_h.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:_h.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:_h.verticalFill,x:ke(t.x)?t.x:d.left,y:ke(t.y)?t.y:d.top,width:ke(t.width)?t.width:d.width,height:ke(t.height)?t.height:d.height}),m=f.x,p=f.y,v=f.width,w=f.height,x=f.syncWithTicks,g=f.horizontalValues,_=f.verticalValues,T=v4e(),P=x4e();if(!ke(v)||v<=0||!ke(w)||w<=0||!ke(m)||m!==+m||!ke(p)||p!==+p)return null;var I=f.verticalCoordinatesGenerator||O5e,A=f.horizontalCoordinatesGenerator||R5e,C=f.horizontalPoints,E=f.verticalPoints;if((!C||!C.length)&&rt(A)){var N=g&&g.length,O=A({yAxis:P?ii(ii({},P),{},{ticks:N?g:P.ticks}):void 0,width:l,height:c,offset:d},N?!0:x);la(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(gd(O),"]")),Array.isArray(O)&&(C=O)}if((!E||!E.length)&&rt(I)){var D=_&&_.length,L=I({xAxis:T?ii(ii({},T),{},{ticks:D?_:T.ticks}):void 0,width:l,height:c,offset:d},D?!0:x);la(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(gd(L),"]")),Array.isArray(L)&&(E=L)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(P5e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),z.createElement(A5e,Bu({},f,{offset:d,horizontalPoints:C,xAxis:T,yAxis:P})),z.createElement(C5e,Bu({},f,{offset:d,verticalPoints:E,xAxis:T,yAxis:P})),z.createElement(k5e,Bu({},f,{horizontalPoints:C})),z.createElement(I5e,Bu({},f,{verticalPoints:E})))}Xo.displayName="CartesianGrid";var M5e=["type","layout","connectNulls","ref"],D5e=["key"];function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function rq(t,e){if(t==null)return{};var r=L5e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function L5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ag.apply(this,arguments)}function nq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nq(Object(r),!0).forEach(function(n){ra(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jh(t){return B5e(t)||V5e(t)||F5e(t)||$5e()}function $5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F5e(t,e){if(t){if(typeof t=="string")return QA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QA(t,e)}}function V5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function B5e(t){if(Array.isArray(t))return QA(t)}function QA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OQ(n.key),n)}}function U5e(t,e,r){return e&&iq(t.prototype,e),r&&iq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function z5e(t,e,r){return e=iw(e),W5e(t,IQ()?Reflect.construct(e,r||[],iw(t).constructor):e.apply(t,r))}function W5e(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H5e(t)}function H5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IQ=function(){return!!t})()}function iw(t){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iw(t)}function G5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XA(t,e)}function XA(t,e){return XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XA(t,e)}function ra(t,e,r){return e=OQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OQ(t){var e=K5e(t,"string");return Ff(e)=="symbol"?e:e+""}function K5e(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pa=(function(t){function e(){var r;q5e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=z5e(this,e,[].concat(i)),ra(r,"state",{isAnimationFinished:!0,totalLength:0}),ra(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ra(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(_,T){return _+T});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/d),m=o%d,p=l-o,v=[],w=0,x=0;w<c.length;x+=c[w],++w)if(x+c[w]>m){v=[].concat(jh(c.slice(0,w)),[m-x]);break}var g=v.length%2===0?[0,p]:[p];return[].concat(jh(e.repeat(c,f)),jh(v),g).map(function(_){return"".concat(_,"px")}).join(", ")}),ra(r,"id",Ad("recharts-line-")),ra(r,"pathRef",function(o){r.mainCurve=o}),ra(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ra(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return G5e(e,t),U5e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,d=s.layout,f=s.children,m=cs(f,Yy);if(!m)return null;var p=function(x,g){return{x:x.x,y:x.y,value:x.value,errorVal:$r(x.payload,g)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(Tt,v,m.map(function(w){return z.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,m=Ye(this.props,!1),p=Ye(c,!0),v=d.map(function(x,g){var _=ts(ts(ts({key:"dot-".concat(g),r:3},m),p),{},{index:g,cx:x.x,cy:x.y,value:x.value,dataKey:f,payload:x.payload,points:d});return e.renderDotItem(c,_)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return z.createElement(Tt,ag({className:"recharts-line-dots",key:"dots"},w),v)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,d=l.layout,f=l.connectNulls;l.ref;var m=rq(l,M5e),p=ts(ts(ts({},Ye(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:f});return z.createElement(ed,ag({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,p=o.animationEasing,v=o.animationId,w=o.animateNewValues,x=o.width,g=o.height,_=this.state,T=_.prevPoints,P=_.totalLength;return z.createElement(Fs,{begin:f,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var A=I.t;if(T){var C=T.length/l.length,E=l.map(function($,F){var G=Math.floor(F*C);if(T[G]){var Y=T[G],K=Dr(Y.x,$.x),X=Dr(Y.y,$.y);return ts(ts({},$),{},{x:K(A),y:X(A)})}if(w){var U=Dr(x*2,$.x),Q=Dr(g/2,$.y);return ts(ts({},$),{},{x:U(A),y:Q(A)})}return ts(ts({},$),{},{x:$.x,y:$.y})});return s.renderCurveStatically(E,n,i)}var N=Dr(0,P),O=N(A),D;if(c){var L="".concat(c).split(/[,\s]+/gim).map(function($){return parseFloat($)});D=s.getStrokeDasharray(O,P,L)}else D=s.generateSimpleStrokeDasharray(P,O);return s.renderCurveStatically(l,n,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,d=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!d&&f>0||!Fc(d,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,d=i.xAxis,f=i.yAxis,m=i.top,p=i.left,v=i.width,w=i.height,x=i.isAnimationActive,g=i.id;if(s||!l||!l.length)return null;var _=this.state.isAnimationFinished,T=l.length===1,P=dt("recharts-line",c),I=d&&d.allowDataOverflow,A=f&&f.allowDataOverflow,C=I||A,E=ft(g)?this.id:g,N=(n=Ye(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=N.r,D=O===void 0?3:O,L=N.strokeWidth,$=L===void 0?2:L,F=PG(o)?o:{},G=F.clipDot,Y=G===void 0?!0:G,K=D*2+$;return z.createElement(Tt,{className:P},I||A?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:I?p:p-v/2,y:A?m:m-w/2,width:I?v:v*2,height:A?w:w*2})),!Y&&z.createElement("clipPath",{id:"clipPath-dots-".concat(E)},z.createElement("rect",{x:p-K/2,y:m-K/2,width:v+K,height:w+K}))):null,!T&&this.renderCurve(C,E),this.renderErrorBar(C,E),(T||o)&&this.renderDots(C,Y,E),(!x||_)&&ca.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(jh(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(jh(o),jh(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(z.isValidElement(n))s=z.cloneElement(n,i);else if(rt(n))s=n(i);else{var o=i.key,l=rq(i,D5e),c=dt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=z.createElement(gm,ag({key:o},l,{className:c}))}return s}}])})(S.PureComponent);ra(pa,"displayName","Line");ra(pa,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ra(pa,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,f=e.layout,m=c.map(function(p,v){var w=$r(p,o);return f==="horizontal"?{x:Ob({axis:r,ticks:i,bandSize:l,entry:p,index:v}),y:ft(w)?null:n.scale(w),value:w,payload:p}:{x:ft(w)?null:r.scale(w),y:Ob({axis:n,ticks:s,bandSize:l,entry:p,index:v}),value:w,payload:p}});return ts({points:m,layout:f},d)});var Y5e=["layout","type","stroke","connectNulls","isRange","ref"],Q5e=["key"],RQ;function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function MQ(t,e){if(t==null)return{};var r=X5e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qu.apply(this,arguments)}function sq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ec(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sq(Object(r),!0).forEach(function(n){qa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LQ(n.key),n)}}function Z5e(t,e,r){return e&&aq(t.prototype,e),r&&aq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function e3e(t,e,r){return e=sw(e),t3e(t,DQ()?Reflect.construct(e,r||[],sw(t).constructor):e.apply(t,r))}function t3e(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r3e(t)}function r3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DQ=function(){return!!t})()}function sw(t){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sw(t)}function n3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JA(t,e)}function JA(t,e){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JA(t,e)}function qa(t,e,r){return e=LQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LQ(t){var e=i3e(t,"string");return Vf(e)=="symbol"?e:e+""}function i3e(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ml=(function(t){function e(){var r;J5e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=e3e(this,e,[].concat(i)),qa(r,"state",{isAnimationFinished:!0}),qa(r,"id",Ad("recharts-area-")),qa(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),rt(o)&&o()}),qa(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),rt(o)&&o()}),r}return n3e(e,t),Z5e(e,[{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,f=c.points,m=c.dataKey,p=Ye(this.props,!1),v=Ye(d,!0),w=f.map(function(g,_){var T=ec(ec(ec({key:"dot-".concat(_),r:3},p),v),{},{index:_,cx:g.x,cy:g.y,dataKey:m,value:g.value,payload:g.payload,points:f});return e.renderDotItem(d,T)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return z.createElement(Tt,qu({className:"recharts-area-dots"},x),w)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,d=o[o.length-1].x,f=n*Math.abs(c-d),m=gc(o.map(function(p){return p.y||0}));return ke(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(gc(s.map(function(p){return p.y||0})),m)),ke(m)?z.createElement("rect",{x:c<d?c:c-f,y:0,width:f,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,d=o[o.length-1].y,f=n*Math.abs(c-d),m=gc(o.map(function(p){return p.x||0}));return ke(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(gc(s.map(function(p){return p.x||0})),m)),ke(m)?z.createElement("rect",{x:0,y:c<d?c:c-f,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,o){var l=this.props,c=l.layout,d=l.type,f=l.stroke,m=l.connectNulls,p=l.isRange;l.ref;var v=MQ(l,Y5e);return z.createElement(Tt,{clipPath:s?"url(#clipPath-".concat(o,")"):null},z.createElement(ed,qu({},Ye(v,!0),{points:n,connectNulls:m,type:d,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&z.createElement(ed,qu({},Ye(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:n})),f!=="none"&&p&&z.createElement(ed,qu({},Ye(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,p=o.animationEasing,v=o.animationId,w=this.state,x=w.prevPoints,g=w.prevBaseLine;return z.createElement(Fs,{begin:f,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var T=_.t;if(x){var P=x.length/l.length,I=l.map(function(N,O){var D=Math.floor(O*P);if(x[D]){var L=x[D],$=Dr(L.x,N.x),F=Dr(L.y,N.y);return ec(ec({},N),{},{x:$(T),y:F(T)})}return N}),A;if(ke(c)&&typeof c=="number"){var C=Dr(g,c);A=C(T)}else if(ft(c)||dm(c)){var E=Dr(g,0);A=E(T)}else A=c.map(function(N,O){var D=Math.floor(O*P);if(g[D]){var L=g[D],$=Dr(L.x,N.x),F=Dr(L.y,N.y);return ec(ec({},N),{},{x:$(T),y:F(T)})}return N});return s.renderAreaStatically(I,A,n,i)}return z.createElement(Tt,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(T))),z.createElement(Tt,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,d=this.state,f=d.prevPoints,m=d.prevBaseLine,p=d.totalLength;return c&&o&&o.length&&(!f&&p>0||!Fc(f,o)||!Fc(m,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,l,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,d=i.top,f=i.left,m=i.xAxis,p=i.yAxis,v=i.width,w=i.height,x=i.isAnimationActive,g=i.id;if(s||!l||!l.length)return null;var _=this.state.isAnimationFinished,T=l.length===1,P=dt("recharts-area",c),I=m&&m.allowDataOverflow,A=p&&p.allowDataOverflow,C=I||A,E=ft(g)?this.id:g,N=(n=Ye(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=N.r,D=O===void 0?3:O,L=N.strokeWidth,$=L===void 0?2:L,F=PG(o)?o:{},G=F.clipDot,Y=G===void 0?!0:G,K=D*2+$;return z.createElement(Tt,{className:P},I||A?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:I?f:f-v/2,y:A?d:d-w/2,width:I?v:v*2,height:A?w:w*2})),!Y&&z.createElement("clipPath",{id:"clipPath-dots-".concat(E)},z.createElement("rect",{x:f-K/2,y:d-K/2,width:v+K,height:w+K}))):null,T?null:this.renderArea(C,E),(o||T)&&this.renderDots(C,Y,E),(!x||_)&&ca.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(S.PureComponent);RQ=ml;qa(ml,"displayName","Area");qa(ml,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!wl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});qa(ml,"getBaseValue",function(t,e,r,n){var i=t.layout,s=t.baseValue,o=e.props.baseValue,l=o??s;if(ke(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,d=c.scale.domain();if(c.type==="number"){var f=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});qa(ml,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,d=t.stackedData,f=t.dataStartIndex,m=t.displayedData,p=t.offset,v=e.layout,w=d&&d.length,x=RQ.getBaseValue(e,r,n,i),g=v==="horizontal",_=!1,T=m.map(function(I,A){var C;w?C=d[f+A]:(C=$r(I,c),Array.isArray(C)?_=!0:C=[x,C]);var E=C[1]==null||w&&$r(I,c)==null;return g?{x:Ob({axis:n,ticks:s,bandSize:l,entry:I,index:A}),y:E?null:i.scale(C[1]),value:C,payload:I}:{x:E?null:n.scale(C[1]),y:Ob({axis:i,ticks:o,bandSize:l,entry:I,index:A}),value:C,payload:I}}),P;return w||_?P=T.map(function(I){var A=Array.isArray(I.value)?I.value[0]:null;return g?{x:I.x,y:A!=null&&I.y!=null?i.scale(A):null}:{x:A!=null?n.scale(A):null,y:I.y}}):P=g?i.scale(x):n.scale(x),ec({points:T,baseLine:P,layout:v,isRange:_},p)});qa(ml,"renderDotItem",function(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(rt(t))r=t(e);else{var n=dt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=MQ(e,Q5e);r=z.createElement(gm,qu({},s,{key:i,className:n}))}return r});function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function s3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VQ(n.key),n)}}function o3e(t,e,r){return e&&a3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l3e(t,e,r){return e=aw(e),c3e(t,$Q()?Reflect.construct(e,r||[],aw(t).constructor):e.apply(t,r))}function c3e(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u3e(t)}function u3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $Q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($Q=function(){return!!t})()}function aw(t){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aw(t)}function d3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZA(t,e)}function ZA(t,e){return ZA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZA(t,e)}function FQ(t,e,r){return e=VQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VQ(t){var e=h3e(t,"string");return Bf(e)=="symbol"?e:e+""}function h3e(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eC(){return eC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eC.apply(this,arguments)}function f3e(t){var e=t.xAxisId,r=RO(),n=MO(),i=bQ(e);return i==null?null:S.createElement(xm,eC({},i,{className:dt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Wo(o,!0)}}))}var us=(function(t){function e(){return s3e(this,e),l3e(this,e,arguments)}return d3e(e,t),o3e(e,[{key:"render",value:function(){return S.createElement(f3e,this.props)}}])})(S.Component);FQ(us,"displayName","XAxis");FQ(us,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function m3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UQ(n.key),n)}}function g3e(t,e,r){return e&&p3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function y3e(t,e,r){return e=ow(e),v3e(t,BQ()?Reflect.construct(e,r||[],ow(t).constructor):e.apply(t,r))}function v3e(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x3e(t)}function x3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BQ=function(){return!!t})()}function ow(t){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ow(t)}function b3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tC(t,e)}function tC(t,e){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tC(t,e)}function qQ(t,e,r){return e=UQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UQ(t){var e=w3e(t,"string");return qf(e)=="symbol"?e:e+""}function w3e(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rC(){return rC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rC.apply(this,arguments)}var _3e=function(e){var r=e.yAxisId,n=RO(),i=MO(),s=wQ(r);return s==null?null:S.createElement(xm,rC({},s,{className:dt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Wo(l,!0)}}))},xi=(function(t){function e(){return m3e(this,e),y3e(this,e,arguments)}return b3e(e,t),g3e(e,[{key:"render",value:function(){return S.createElement(_3e,this.props)}}])})(S.Component);qQ(xi,"displayName","YAxis");qQ(xi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function oq(t){return T3e(t)||S3e(t)||N3e(t)||j3e()}function j3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N3e(t,e){if(t){if(typeof t=="string")return nC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nC(t,e)}}function S3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T3e(t){if(Array.isArray(t))return nC(t)}function nC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var iC=function(e,r,n,i,s){var o=cs(e,LO),l=cs(e,I1),c=[].concat(oq(o),oq(l)),d=cs(e,R1),f="".concat(i,"Id"),m=i[0],p=r;if(c.length&&(p=c.reduce(function(x,g){if(g.props[f]===n&&Za(g.props,"extendDomain")&&ke(g.props[m])){var _=g.props[m];return[Math.min(x[0],_),Math.max(x[1],_)]}return x},p)),d.length){var v="".concat(m,"1"),w="".concat(m,"2");p=d.reduce(function(x,g){if(g.props[f]===n&&Za(g.props,"extendDomain")&&ke(g.props[v])&&ke(g.props[w])){var _=g.props[v],T=g.props[w];return[Math.min(x[0],_,T),Math.max(x[1],_,T)]}return x},p)}return s&&s.length&&(p=s.reduce(function(x,g){return ke(g)?[Math.min(x[0],g),Math.max(x[1],g)]:x},p)),p},pE={exports:{}},lq;function E3e(){return lq||(lq=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,m||c,p),w=r?r+d:d;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],v]:c._events[w].push(v):(c._events[w]=v,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)e.call(f,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,v=m.length,w=new Array(v);p<v;p++)w[p]=m[p].fn;return w},l.prototype.listenerCount=function(d){var f=r?r+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,p,v,w){var x=r?r+d:d;if(!this._events[x])return!1;var g=this._events[x],_=arguments.length,T,P;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),_){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,m),!0;case 4:return g.fn.call(g.context,f,m,p),!0;case 5:return g.fn.call(g.context,f,m,p,v),!0;case 6:return g.fn.call(g.context,f,m,p,v,w),!0}for(P=1,T=new Array(_-1);P<_;P++)T[P-1]=arguments[P];g.fn.apply(g.context,T)}else{var I=g.length,A;for(P=0;P<I;P++)switch(g[P].once&&this.removeListener(d,g[P].fn,void 0,!0),_){case 1:g[P].fn.call(g[P].context);break;case 2:g[P].fn.call(g[P].context,f);break;case 3:g[P].fn.call(g[P].context,f,m);break;case 4:g[P].fn.call(g[P].context,f,m,p);break;default:if(!T)for(A=1,T=new Array(_-1);A<_;A++)T[A-1]=arguments[A];g[P].fn.apply(g[P].context,T)}}return!0},l.prototype.on=function(d,f,m){return s(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return s(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,p){var v=r?r+d:d;if(!this._events[v])return this;if(!f)return o(this,v),this;var w=this._events[v];if(w.fn)w.fn===f&&(!p||w.once)&&(!m||w.context===m)&&o(this,v);else{for(var x=0,g=[],_=w.length;x<_;x++)(w[x].fn!==f||p&&!w[x].once||m&&w[x].context!==m)&&g.push(w[x]);g.length?this._events[v]=g.length===1?g[0]:g:o(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(pE)),pE.exports}var P3e=E3e();const A3e=Jt(P3e);var gE=new A3e,yE="recharts.syncMouseEvents";function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function C3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zQ(n.key),n)}}function I3e(t,e,r){return e&&k3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vE(t,e,r){return e=zQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zQ(t){var e=O3e(t,"string");return dy(e)=="symbol"?e:e+""}function O3e(t,e){if(dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var R3e=(function(){function t(){C3e(this,t),vE(this,"activeIndex",0),vE(this,"coordinateList",[]),vE(this,"layout","horizontal")}return I3e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,f=r.offset,m=f===void 0?null:f,p=r.mouseHandlerCallback,v=p===void 0?null:p;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=s+c+d,p=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:m,pageY:p})}}}])})();function M3e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ke(n)&&ke(i))return!0}return!1}function D3e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function WQ(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=er(e,r,n,i),l=er(e,r,n,s);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function L3e(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,f=e.outerRadius,m=e.angle,p=er(l,c,d,m),v=er(l,c,f,m);n=p.x,i=p.y,s=v.x,o=v.y}else return WQ(e);return[{x:n,y:i},{x:s,y:o}]}function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function cq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cq(Object(r),!0).forEach(function(n){$3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $3e(t,e,r){return e=F3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F3e(t){var e=V3e(t,"string");return hy(e)=="symbol"?e:e+""}function V3e(t,e){if(hy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B3e(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,f=t.tooltipAxisBandSize,m=t.layout,p=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!s||!o||p!=="ScatterChart"&&i!=="axis")return null;var w,x=ed;if(p==="ScatterChart")w=o,x=POe;else if(p==="BarChart")w=D3e(m,o,c,f),x=AO;else if(m==="radial"){var g=WQ(o),_=g.cx,T=g.cy,P=g.radius,I=g.startAngle,A=g.endAngle;w={cx:_,cy:T,startAngle:I,endAngle:A,innerRadius:P,outerRadius:P},x=FY}else w={points:L3e(m,o,c)},x=ed;var C=Wv(Wv(Wv(Wv({stroke:"#ccc",pointerEvents:"none"},c),w),Ye(v,!1)),{},{payload:l,payloadIndex:d,className:dt("recharts-tooltip-cursor",v.className)});return S.isValidElement(v)?S.cloneElement(v,C):S.createElement(x,C)}var q3e=["item"],U3e=["children","className","width","height","style","compact","title","desc"];function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$h.apply(this,arguments)}function uq(t,e){return H3e(t)||W3e(t,e)||GQ(t,e)||z3e()}function z3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function H3e(t){if(Array.isArray(t))return t}function dq(t,e){if(t==null)return{};var r=G3e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KQ(n.key),n)}}function Q3e(t,e,r){return e&&Y3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X3e(t,e,r){return e=lw(e),J3e(t,HQ()?Reflect.construct(e,r||[],lw(t).constructor):e.apply(t,r))}function J3e(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z3e(t)}function Z3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HQ=function(){return!!t})()}function lw(t){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(t)}function eDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sC(t,e)}function sC(t,e){return sC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sC(t,e)}function zf(t){return nDe(t)||rDe(t)||GQ(t)||tDe()}function tDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GQ(t,e){if(t){if(typeof t=="string")return aC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aC(t,e)}}function rDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nDe(t){if(Array.isArray(t))return aC(t)}function aC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lt(t,e,r){return e=KQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KQ(t){var e=iDe(t,"string");return Uf(e)=="symbol"?e:e+""}function iDe(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sDe={xAxis:["bottom","top"],yAxis:["left","right"]},aDe={width:"100%",height:"100%"},YQ={x:0,y:0};function Hv(t){return t}var oDe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},lDe=function(e,r,n,i){var s=r.find(function(f){return f&&f.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return pe(pe(pe({},i),er(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,d=i.angle;return pe(pe(pe({},i),er(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return YQ},M1=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(zf(l),zf(d)):l},[]);return o.length>0?o:e&&e.length&&ke(i)&&ke(s)?e.slice(i,s+1):[]};function QQ(t){return t==="number"?[0,"auto"]:void 0}var oC=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,l=M1(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,d){var f,m=(f=d.props.data)!==null&&f!==void 0?f:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var v=m===void 0?l:m;p=ob(v,o.dataKey,i)}else p=m&&m[n]||l[n];return p?[].concat(zf(c),[kY(d,p)]):c},[])},fq=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=oDe(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,f=tCe(o,l,d,c);if(f>=0&&d){var m=d[f]&&d[f].value,p=oC(e,r,f,m),v=lDe(n,l,f,s);return{activeTooltipIndex:f,activeLabel:m,activePayload:p,activeCoordinate:v}}return null},cDe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.layout,m=e.children,p=e.stackOffset,v=SY(f,s);return n.reduce(function(w,x){var g,_=x.type.defaultProps!==void 0?pe(pe({},x.type.defaultProps),x.props):x.props,T=_.type,P=_.dataKey,I=_.allowDataOverflow,A=_.allowDuplicatedCategory,C=_.scale,E=_.ticks,N=_.includeHidden,O=_[o];if(w[O])return w;var D=M1(e.data,{graphicalItems:i.filter(function(Z){var ue,le=o in Z.props?Z.props[o]:(ue=Z.type.defaultProps)===null||ue===void 0?void 0:ue[o];return le===O}),dataStartIndex:c,dataEndIndex:d}),L=D.length,$,F,G;M3e(_.domain,I,T)&&($=xA(_.domain,null,I),v&&(T==="number"||C!=="auto")&&(G=rg(D,P,"category")));var Y=QQ(T);if(!$||$.length===0){var K,X=(K=_.domain)!==null&&K!==void 0?K:Y;if(P){if($=rg(D,P,T),T==="category"&&v){var U=Y_e($);A&&U?(F=$,$=Kb(0,L)):A||($=s8(X,$,x).reduce(function(Z,ue){return Z.indexOf(ue)>=0?Z:[].concat(zf(Z),[ue])},[]))}else if(T==="category")A?$=$.filter(function(Z){return Z!==""&&!ft(Z)}):$=s8(X,$,x).reduce(function(Z,ue){return Z.indexOf(ue)>=0||ue===""||ft(ue)?Z:[].concat(zf(Z),[ue])},[]);else if(T==="number"){var Q=aCe(D,i.filter(function(Z){var ue,le,be=o in Z.props?Z.props[o]:(ue=Z.type.defaultProps)===null||ue===void 0?void 0:ue[o],ge="hide"in Z.props?Z.props.hide:(le=Z.type.defaultProps)===null||le===void 0?void 0:le.hide;return be===O&&(N||!ge)}),P,s,f);Q&&($=Q)}v&&(T==="number"||C!=="auto")&&(G=rg(D,P,"category"))}else v?$=Kb(0,L):l&&l[O]&&l[O].hasStack&&T==="number"?$=p==="expand"?[0,1]:CY(l[O].stackGroups,c,d):$=NY(D,i.filter(function(Z){var ue=o in Z.props?Z.props[o]:Z.type.defaultProps[o],le="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return ue===O&&(N||!le)}),T,f,!0);if(T==="number")$=iC(m,$,O,s,E),X&&($=xA(X,$,I));else if(T==="category"&&X){var ne=X,W=$.every(function(Z){return ne.indexOf(Z)>=0});W&&($=ne)}}return pe(pe({},w),{},lt({},O,pe(pe({},_),{},{axisType:s,domain:$,categoricalDomain:G,duplicateDomain:F,originalDomain:(g=_.domain)!==null&&g!==void 0?g:Y,isCategorical:v,layout:f})))},{})},uDe=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.layout,m=e.children,p=M1(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),v=p.length,w=SY(f,s),x=-1;return n.reduce(function(g,_){var T=_.type.defaultProps!==void 0?pe(pe({},_.type.defaultProps),_.props):_.props,P=T[o],I=QQ("number");if(!g[P]){x++;var A;return w?A=Kb(0,v):l&&l[P]&&l[P].hasStack?(A=CY(l[P].stackGroups,c,d),A=iC(m,A,P,s)):(A=xA(I,NY(p,n.filter(function(C){var E,N,O=o in C.props?C.props[o]:(E=C.type.defaultProps)===null||E===void 0?void 0:E[o],D="hide"in C.props?C.props.hide:(N=C.type.defaultProps)===null||N===void 0?void 0:N.hide;return O===P&&!D}),"number",f),i.defaultProps.allowDataOverflow),A=iC(m,A,P,s)),pe(pe({},g),{},lt({},P,pe(pe({axisType:s},i.defaultProps),{},{hide:!0,orientation:ls(sDe,"".concat(s,".").concat(x%2),null),domain:A,originalDomain:I,isCategorical:w,layout:f})))}return g},{})},dDe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.children,m="".concat(i,"Id"),p=cs(f,s),v={};return p&&p.length?v=cDe(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(v=uDe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),v},hDe=function(e){var r=lc(e),n=Wo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:rO(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Rb(r,n)}},mq=function(e){var r=e.children,n=e.defaultShowTooltip,i=ns(r,Of),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},fDe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Yo(r&&r.type);return n&&n.indexOf("Bar")>=0})},pq=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},mDe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,f=n.height,m=n.children,p=n.margin||{},v=ns(m,Of),w=ns(m,zi),x=Object.keys(c).reduce(function(A,C){var E=c[C],N=E.orientation;return!E.mirror&&!E.hide?pe(pe({},A),{},lt({},N,A[N]+E.width)):A},{left:p.left||0,right:p.right||0}),g=Object.keys(o).reduce(function(A,C){var E=o[C],N=E.orientation;return!E.mirror&&!E.hide?pe(pe({},A),{},lt({},N,ls(A,"".concat(N))+E.height)):A},{top:p.top||0,bottom:p.bottom||0}),_=pe(pe({},g),x),T=_.bottom;v&&(_.bottom+=v.props.height||Of.defaultProps.height),w&&r&&(_=iCe(_,i,n,r));var P=d-_.left-_.right,I=f-_.top-_.bottom;return pe(pe({brushBottom:T},_),{},{width:Math.max(P,0),height:Math.max(I,0)})},pDe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Xy=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,f=e.formatAxisMap,m=e.defaultProps,p=function(_,T){var P=T.graphicalItems,I=T.stackGroups,A=T.offset,C=T.updateId,E=T.dataStartIndex,N=T.dataEndIndex,O=_.barSize,D=_.layout,L=_.barGap,$=_.barCategoryGap,F=_.maxBarSize,G=pq(D),Y=G.numericAxisName,K=G.cateAxisName,X=fDe(P),U=[];return P.forEach(function(Q,ne){var W=M1(_.data,{graphicalItems:[Q],dataStartIndex:E,dataEndIndex:N}),Z=Q.type.defaultProps!==void 0?pe(pe({},Q.type.defaultProps),Q.props):Q.props,ue=Z.dataKey,le=Z.maxBarSize,be=Z["".concat(Y,"Id")],ge=Z["".concat(K,"Id")],me={},Ie=c.reduce(function(Ar,bn){var fi=T["".concat(bn.axisType,"Map")],hs=Z["".concat(bn.axisType,"Id")];fi&&fi[hs]||bn.axisType==="zAxis"||pd();var kn=fi[hs];return pe(pe({},Ar),{},lt(lt({},bn.axisType,kn),"".concat(bn.axisType,"Ticks"),Wo(kn)))},me),fe=Ie[K],Pe=Ie["".concat(K,"Ticks")],Re=I&&I[be]&&I[be].hasStack&&pCe(Q,I[be].stackGroups),he=Yo(Q.type).indexOf("Bar")>=0,ot=Rb(fe,Pe),et=[],kt=X&&rCe({barSize:O,stackGroups:I,totalSize:pDe(Ie,K)});if(he){var It,Gt,Hr=ft(le)?F:le,Ot=(It=(Gt=Rb(fe,Pe,!0))!==null&&Gt!==void 0?Gt:Hr)!==null&&It!==void 0?It:0;et=nCe({barGap:L,barCategoryGap:$,bandSize:Ot!==ot?Ot:ot,sizeList:kt[ge],maxBarSize:Hr}),Ot!==ot&&(et=et.map(function(Ar){return pe(pe({},Ar),{},{position:pe(pe({},Ar.position),{},{offset:Ar.position.offset-Ot/2})})}))}var tr=Q&&Q.type&&Q.type.getComposedData;tr&&U.push({props:pe(pe({},tr(pe(pe({},Ie),{},{displayedData:W,props:_,dataKey:ue,item:Q,bandSize:ot,barPosition:et,offset:A,stackedData:Re,layout:D,dataStartIndex:E,dataEndIndex:N}))),{},lt(lt(lt({key:Q.key||"item-".concat(ne)},Y,Ie[Y]),K,Ie[K]),"animationId",C)),childIndex:oje(Q,_.children),item:Q})}),U},v=function(_,T){var P=_.props,I=_.dataStartIndex,A=_.dataEndIndex,C=_.updateId;if(!bL({props:P}))return null;var E=P.children,N=P.layout,O=P.stackOffset,D=P.data,L=P.reverseStackOrder,$=pq(N),F=$.numericAxisName,G=$.cateAxisName,Y=cs(E,n),K=fCe(D,Y,"".concat(F,"Id"),"".concat(G,"Id"),O,L),X=c.reduce(function(Z,ue){var le="".concat(ue.axisType,"Map");return pe(pe({},Z),{},lt({},le,dDe(P,pe(pe({},ue),{},{graphicalItems:Y,stackGroups:ue.axisType===F&&K,dataStartIndex:I,dataEndIndex:A}))))},{}),U=mDe(pe(pe({},X),{},{props:P,graphicalItems:Y}),T==null?void 0:T.legendBBox);Object.keys(X).forEach(function(Z){X[Z]=f(P,X[Z],U,Z.replace("Map",""),r)});var Q=X["".concat(G,"Map")],ne=hDe(Q),W=p(P,pe(pe({},X),{},{dataStartIndex:I,dataEndIndex:A,updateId:C,graphicalItems:Y,stackGroups:K,offset:U}));return pe(pe({formattedGraphicalItems:W,graphicalItems:Y,offset:U,stackGroups:K},ne),X)},w=(function(g){function _(T){var P,I,A;return K3e(this,_),A=X3e(this,_,[T]),lt(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),lt(A,"accessibilityManager",new R3e),lt(A,"handleLegendBBoxUpdate",function(C){if(C){var E=A.state,N=E.dataStartIndex,O=E.dataEndIndex,D=E.updateId;A.setState(pe({legendBBox:C},v({props:A.props,dataStartIndex:N,dataEndIndex:O,updateId:D},pe(pe({},A.state),{},{legendBBox:C}))))}}),lt(A,"handleReceiveSyncEvent",function(C,E,N){if(A.props.syncId===C){if(N===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(E)}}),lt(A,"handleBrushChange",function(C){var E=C.startIndex,N=C.endIndex;if(E!==A.state.dataStartIndex||N!==A.state.dataEndIndex){var O=A.state.updateId;A.setState(function(){return pe({dataStartIndex:E,dataEndIndex:N},v({props:A.props,dataStartIndex:E,dataEndIndex:N,updateId:O},A.state))}),A.triggerSyncEvent({dataStartIndex:E,dataEndIndex:N})}}),lt(A,"handleMouseEnter",function(C){var E=A.getMouseInfo(C);if(E){var N=pe(pe({},E),{},{isTooltipActive:!0});A.setState(N),A.triggerSyncEvent(N);var O=A.props.onMouseEnter;rt(O)&&O(N,C)}}),lt(A,"triggeredAfterMouseMove",function(C){var E=A.getMouseInfo(C),N=E?pe(pe({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(N),A.triggerSyncEvent(N);var O=A.props.onMouseMove;rt(O)&&O(N,C)}),lt(A,"handleItemMouseEnter",function(C){A.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),lt(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),lt(A,"handleMouseMove",function(C){C.persist(),A.throttleTriggeredAfterMouseMove(C)}),lt(A,"handleMouseLeave",function(C){A.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};A.setState(E),A.triggerSyncEvent(E);var N=A.props.onMouseLeave;rt(N)&&N(E,C)}),lt(A,"handleOuterEvent",function(C){var E=aje(C),N=ls(A.props,"".concat(E));if(E&&rt(N)){var O,D;/.*touch.*/i.test(E)?D=A.getMouseInfo(C.changedTouches[0]):D=A.getMouseInfo(C),N((O=D)!==null&&O!==void 0?O:{},C)}}),lt(A,"handleClick",function(C){var E=A.getMouseInfo(C);if(E){var N=pe(pe({},E),{},{isTooltipActive:!0});A.setState(N),A.triggerSyncEvent(N);var O=A.props.onClick;rt(O)&&O(N,C)}}),lt(A,"handleMouseDown",function(C){var E=A.props.onMouseDown;if(rt(E)){var N=A.getMouseInfo(C);E(N,C)}}),lt(A,"handleMouseUp",function(C){var E=A.props.onMouseUp;if(rt(E)){var N=A.getMouseInfo(C);E(N,C)}}),lt(A,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),lt(A,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.handleMouseDown(C.changedTouches[0])}),lt(A,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.handleMouseUp(C.changedTouches[0])}),lt(A,"handleDoubleClick",function(C){var E=A.props.onDoubleClick;if(rt(E)){var N=A.getMouseInfo(C);E(N,C)}}),lt(A,"handleContextMenu",function(C){var E=A.props.onContextMenu;if(rt(E)){var N=A.getMouseInfo(C);E(N,C)}}),lt(A,"triggerSyncEvent",function(C){A.props.syncId!==void 0&&gE.emit(yE,A.props.syncId,C,A.eventEmitterSymbol)}),lt(A,"applySyncEvent",function(C){var E=A.props,N=E.layout,O=E.syncMethod,D=A.state.updateId,L=C.dataStartIndex,$=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)A.setState(pe({dataStartIndex:L,dataEndIndex:$},v({props:A.props,dataStartIndex:L,dataEndIndex:$,updateId:D},A.state)));else if(C.activeTooltipIndex!==void 0){var F=C.chartX,G=C.chartY,Y=C.activeTooltipIndex,K=A.state,X=K.offset,U=K.tooltipTicks;if(!X)return;if(typeof O=="function")Y=O(U,C);else if(O==="value"){Y=-1;for(var Q=0;Q<U.length;Q++)if(U[Q].value===C.activeLabel){Y=Q;break}}var ne=pe(pe({},X),{},{x:X.left,y:X.top}),W=Math.min(F,ne.x+ne.width),Z=Math.min(G,ne.y+ne.height),ue=U[Y]&&U[Y].value,le=oC(A.state,A.props.data,Y),be=U[Y]?{x:N==="horizontal"?U[Y].coordinate:W,y:N==="horizontal"?Z:U[Y].coordinate}:YQ;A.setState(pe(pe({},C),{},{activeLabel:ue,activeCoordinate:be,activePayload:le,activeTooltipIndex:Y}))}else A.setState(C)}),lt(A,"renderCursor",function(C){var E,N=A.state,O=N.isTooltipActive,D=N.activeCoordinate,L=N.activePayload,$=N.offset,F=N.activeTooltipIndex,G=N.tooltipAxisBandSize,Y=A.getTooltipEventType(),K=(E=C.props.active)!==null&&E!==void 0?E:O,X=A.props.layout,U=C.key||"_recharts-cursor";return z.createElement(B3e,{key:U,activeCoordinate:D,activePayload:L,activeTooltipIndex:F,chartName:r,element:C,isActive:K,layout:X,offset:$,tooltipAxisBandSize:G,tooltipEventType:Y})}),lt(A,"renderPolarAxis",function(C,E,N){var O=ls(C,"type.axisType"),D=ls(A.state,"".concat(O,"Map")),L=C.type.defaultProps,$=L!==void 0?pe(pe({},L),C.props):C.props,F=D&&D[$["".concat(O,"Id")]];return S.cloneElement(C,pe(pe({},F),{},{className:dt(O,F.className),key:C.key||"".concat(E,"-").concat(N),ticks:Wo(F,!0)}))}),lt(A,"renderPolarGrid",function(C){var E=C.props,N=E.radialLines,O=E.polarAngles,D=E.polarRadius,L=A.state,$=L.radiusAxisMap,F=L.angleAxisMap,G=lc($),Y=lc(F),K=Y.cx,X=Y.cy,U=Y.innerRadius,Q=Y.outerRadius;return S.cloneElement(C,{polarAngles:Array.isArray(O)?O:Wo(Y,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(D)?D:Wo(G,!0).map(function(ne){return ne.coordinate}),cx:K,cy:X,innerRadius:U,outerRadius:Q,key:C.key||"polar-grid",radialLines:N})}),lt(A,"renderLegend",function(){var C=A.state.formattedGraphicalItems,E=A.props,N=E.children,O=E.width,D=E.height,L=A.props.margin||{},$=O-(L.left||0)-(L.right||0),F=_Y({children:N,formattedGraphicalItems:C,legendWidth:$,legendContent:d});if(!F)return null;var G=F.item,Y=dq(F,q3e);return S.cloneElement(G,pe(pe({},Y),{},{chartWidth:O,chartHeight:D,margin:L,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),lt(A,"renderTooltip",function(){var C,E=A.props,N=E.children,O=E.accessibilityLayer,D=ns(N,fn);if(!D)return null;var L=A.state,$=L.isTooltipActive,F=L.activeCoordinate,G=L.activePayload,Y=L.activeLabel,K=L.offset,X=(C=D.props.active)!==null&&C!==void 0?C:$;return S.cloneElement(D,{viewBox:pe(pe({},K),{},{x:K.left,y:K.top}),active:X,label:Y,payload:X?G:[],coordinate:F,accessibilityLayer:O})}),lt(A,"renderBrush",function(C){var E=A.props,N=E.margin,O=E.data,D=A.state,L=D.offset,$=D.dataStartIndex,F=D.dataEndIndex,G=D.updateId;return S.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Bv(A.handleBrushChange,C.props.onChange),data:O,x:ke(C.props.x)?C.props.x:L.left,y:ke(C.props.y)?C.props.y:L.top+L.height+L.brushBottom-(N.bottom||0),width:ke(C.props.width)?C.props.width:L.width,startIndex:$,endIndex:F,updateId:"brush-".concat(G)})}),lt(A,"renderReferenceElement",function(C,E,N){if(!C)return null;var O=A,D=O.clipPathId,L=A.state,$=L.xAxisMap,F=L.yAxisMap,G=L.offset,Y=C.type.defaultProps||{},K=C.props,X=K.xAxisId,U=X===void 0?Y.xAxisId:X,Q=K.yAxisId,ne=Q===void 0?Y.yAxisId:Q;return S.cloneElement(C,{key:C.key||"".concat(E,"-").concat(N),xAxis:$[U],yAxis:F[ne],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:D})}),lt(A,"renderActivePoints",function(C){var E=C.item,N=C.activePoint,O=C.basePoint,D=C.childIndex,L=C.isRange,$=[],F=E.props.key,G=E.item.type.defaultProps!==void 0?pe(pe({},E.item.type.defaultProps),E.item.props):E.item.props,Y=G.activeDot,K=G.dataKey,X=pe(pe({index:D,dataKey:K,cx:N.x,cy:N.y,r:4,fill:PO(E.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Ye(Y,!1)),lb(Y));return $.push(_.renderActiveDot(Y,X,"".concat(F,"-activePoint-").concat(D))),O?$.push(_.renderActiveDot(Y,pe(pe({},X),{},{cx:O.x,cy:O.y}),"".concat(F,"-basePoint-").concat(D))):L&&$.push(null),$}),lt(A,"renderGraphicChild",function(C,E,N){var O=A.filterFormatItem(C,E,N);if(!O)return null;var D=A.getTooltipEventType(),L=A.state,$=L.isTooltipActive,F=L.tooltipAxis,G=L.activeTooltipIndex,Y=L.activeLabel,K=A.props.children,X=ns(K,fn),U=O.props,Q=U.points,ne=U.isRange,W=U.baseLine,Z=O.item.type.defaultProps!==void 0?pe(pe({},O.item.type.defaultProps),O.item.props):O.item.props,ue=Z.activeDot,le=Z.hide,be=Z.activeBar,ge=Z.activeShape,me=!!(!le&&$&&X&&(ue||be||ge)),Ie={};D!=="axis"&&X&&X.props.trigger==="click"?Ie={onClick:Bv(A.handleItemMouseEnter,C.props.onClick)}:D!=="axis"&&(Ie={onMouseLeave:Bv(A.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Bv(A.handleItemMouseEnter,C.props.onMouseEnter)});var fe=S.cloneElement(C,pe(pe({},O.props),Ie));function Pe(bn){return typeof F.dataKey=="function"?F.dataKey(bn.payload):null}if(me)if(G>=0){var Re,he;if(F.dataKey&&!F.allowDuplicatedCategory){var ot=typeof F.dataKey=="function"?Pe:"payload.".concat(F.dataKey.toString());Re=ob(Q,ot,Y),he=ne&&W&&ob(W,ot,Y)}else Re=Q==null?void 0:Q[G],he=ne&&W&&W[G];if(ge||be){var et=C.props.activeIndex!==void 0?C.props.activeIndex:G;return[S.cloneElement(C,pe(pe(pe({},O.props),Ie),{},{activeIndex:et})),null,null]}if(!ft(Re))return[fe].concat(zf(A.renderActivePoints({item:O,activePoint:Re,basePoint:he,childIndex:G,isRange:ne})))}else{var kt,It=(kt=A.getItemByXY(A.state.activeCoordinate))!==null&&kt!==void 0?kt:{graphicalItem:fe},Gt=It.graphicalItem,Hr=Gt.item,Ot=Hr===void 0?C:Hr,tr=Gt.childIndex,Ar=pe(pe(pe({},O.props),Ie),{},{activeIndex:tr});return[S.cloneElement(Ot,Ar),null,null]}return ne?[fe,null,null]:[fe,null]}),lt(A,"renderCustomized",function(C,E,N){return S.cloneElement(C,pe(pe({key:"recharts-customized-".concat(N)},A.props),A.state))}),lt(A,"renderMap",{CartesianGrid:{handler:Hv,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:Hv},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:Hv},YAxis:{handler:Hv},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((P=T.id)!==null&&P!==void 0?P:Ad("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=wK(A.triggeredAfterMouseMove,(I=T.throttleDelay)!==null&&I!==void 0?I:1e3/60),A.state={},A}return eDe(_,g),Q3e(_,[{key:"componentDidMount",value:function(){var P,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,I=P.children,A=P.data,C=P.height,E=P.layout,N=ns(I,fn);if(N){var O=N.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,L=oC(this.state,A,O,D),$=this.state.tooltipTicks[O].coordinate,F=(this.state.offset.top+C)/2,G=E==="horizontal",Y=G?{x:$,y:F}:{y:$,x:F},K=this.state.formattedGraphicalItems.find(function(U){var Q=U.item;return Q.type.name==="Scatter"});K&&(Y=pe(pe({},Y),K.props.points[O].tooltipPosition),L=K.props.points[O].tooltipPayload);var X={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:D,activePayload:L,activeCoordinate:Y};this.setState(X),this.renderCursor(N),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var A,C;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(P){BP([ns(P.children,fn)],[ns(this.props.children,fn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=ns(this.props.children,fn);if(P&&typeof P.props.shared=="boolean"){var I=P.props.shared?"axis":"item";return l.indexOf(I)>=0?I:s}return s}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var I=this.container,A=I.getBoundingClientRect(),C=G2e(A),E={chartX:Math.round(P.pageX-C.left),chartY:Math.round(P.pageY-C.top)},N=A.width/I.offsetWidth||1,O=this.inRange(E.chartX,E.chartY,N);if(!O)return null;var D=this.state,L=D.xAxisMap,$=D.yAxisMap,F=this.getTooltipEventType(),G=fq(this.state,this.props.data,this.props.layout,O);if(F!=="axis"&&L&&$){var Y=lc(L).scale,K=lc($).scale,X=Y&&Y.invert?Y.invert(E.chartX):null,U=K&&K.invert?K.invert(E.chartY):null;return pe(pe({},E),{},{xValue:X,yValue:U},G)}return G?pe(pe({},E),G):null}},{key:"inRange",value:function(P,I){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=P/A,N=I/A;if(C==="horizontal"||C==="vertical"){var O=this.state.offset,D=E>=O.left&&E<=O.left+O.width&&N>=O.top&&N<=O.top+O.height;return D?{x:E,y:N}:null}var L=this.state,$=L.angleAxisMap,F=L.radiusAxisMap;if($&&F){var G=lc($);return l8({x:E,y:N},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,I=this.getTooltipEventType(),A=ns(P,fn),C={};A&&I==="axis"&&(A.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=lb(this.props,this.handleOuterEvent);return pe(pe({},E),C)}},{key:"addListener",value:function(){gE.on(yE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gE.removeListener(yE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,I,A){for(var C=this.state.formattedGraphicalItems,E=0,N=C.length;E<N;E++){var O=C[E];if(O.item===P||O.props.key===P.key||I===Yo(O.item.type)&&A===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,I=this.state.offset,A=I.left,C=I.top,E=I.height,N=I.width;return z.createElement("defs",null,z.createElement("clipPath",{id:P},z.createElement("rect",{x:A,y:C,height:E,width:N})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(I,A){var C=uq(A,2),E=C[0],N=C[1];return pe(pe({},I),{},lt({},E,N.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(I,A){var C=uq(A,2),E=C[0],N=C[1];return pe(pe({},I),{},lt({},E,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[P])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(P){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[P])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(P){var I=this.state,A=I.formattedGraphicalItems,C=I.activeItem;if(A&&A.length)for(var E=0,N=A.length;E<N;E++){var O=A[E],D=O.props,L=O.item,$=L.type.defaultProps!==void 0?pe(pe({},L.type.defaultProps),L.props):L.props,F=Yo(L.type);if(F==="Bar"){var G=(D.data||[]).find(function(U){return cOe(P,U)});if(G)return{graphicalItem:O,payload:G}}else if(F==="RadialBar"){var Y=(D.data||[]).find(function(U){return l8(P,U)});if(Y)return{graphicalItem:O,payload:Y}}else if(P1(O,C)||A1(O,C)||ay(O,C)){var K=qRe({graphicalItem:O,activeTooltipItem:C,itemData:$.data}),X=$.activeIndex===void 0?K:$.activeIndex;return{graphicalItem:pe(pe({},O),{},{childIndex:X}),payload:ay(O,C)?$.data[K]:O.props.data[K]}}}return null}},{key:"render",value:function(){var P=this;if(!bL(this))return null;var I=this.props,A=I.children,C=I.className,E=I.width,N=I.height,O=I.style,D=I.compact,L=I.title,$=I.desc,F=dq(I,U3e),G=Ye(F,!1);if(D)return z.createElement(UB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(UP,$h({},G,{width:E,height:N,title:L,desc:$}),this.renderClipPath(),_L(A,this.renderMap)));if(this.props.accessibilityLayer){var Y,K;G.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,G.role=(K=this.props.role)!==null&&K!==void 0?K:"application",G.onKeyDown=function(U){P.accessibilityManager.keyboardEvent(U)},G.onFocus=function(){P.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return z.createElement(UB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",$h({className:dt("recharts-wrapper",C),style:pe({position:"relative",cursor:"default",width:E,height:N},O)},X,{ref:function(Q){P.container=Q}}),z.createElement(UP,$h({},G,{width:E,height:N,title:L,desc:$,style:aDe}),this.renderClipPath(),_L(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);lt(w,"displayName",r),lt(w,"defaultProps",pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),lt(w,"getDerivedStateFromProps",function(g,_){var T=g.dataKey,P=g.data,I=g.children,A=g.width,C=g.height,E=g.layout,N=g.stackOffset,O=g.margin,D=_.dataStartIndex,L=_.dataEndIndex;if(_.updateId===void 0){var $=mq(g);return pe(pe(pe({},$),{},{updateId:0},v(pe(pe({props:g},$),{},{updateId:0}),_)),{},{prevDataKey:T,prevData:P,prevWidth:A,prevHeight:C,prevLayout:E,prevStackOffset:N,prevMargin:O,prevChildren:I})}if(T!==_.prevDataKey||P!==_.prevData||A!==_.prevWidth||C!==_.prevHeight||E!==_.prevLayout||N!==_.prevStackOffset||!Qh(O,_.prevMargin)){var F=mq(g),G={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},Y=pe(pe({},fq(_,P,E)),{},{updateId:_.updateId+1}),K=pe(pe(pe({},F),G),Y);return pe(pe(pe({},K),v(pe({props:g},K),_)),{},{prevDataKey:T,prevData:P,prevWidth:A,prevHeight:C,prevLayout:E,prevStackOffset:N,prevMargin:O,prevChildren:I})}if(!BP(I,_.prevChildren)){var X,U,Q,ne,W=ns(I,Of),Z=W&&(X=(U=W.props)===null||U===void 0?void 0:U.startIndex)!==null&&X!==void 0?X:D,ue=W&&(Q=(ne=W.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&Q!==void 0?Q:L,le=Z!==D||ue!==L,be=!ft(P),ge=be&&!le?_.updateId:_.updateId+1;return pe(pe({updateId:ge},v(pe(pe({props:g},_),{},{updateId:ge,dataStartIndex:Z,dataEndIndex:ue}),_)),{},{prevChildren:I,dataStartIndex:Z,dataEndIndex:ue})}return null}),lt(w,"renderActiveDot",function(g,_,T){var P;return S.isValidElement(g)?P=S.cloneElement(g,_):rt(g)?P=g(_):P=z.createElement(gm,_),z.createElement(Tt,{className:"recharts-active-dot",key:T},P)});var x=S.forwardRef(function(_,T){return z.createElement(w,$h({},_,{ref:T}))});return x.displayName=w.displayName,x},D1=Xy({chartName:"LineChart",GraphicalChild:pa,axisComponents:[{axisType:"xAxis",AxisComp:us},{axisType:"yAxis",AxisComp:xi}],formatAxisMap:CO}),lC=Xy({chartName:"BarChart",GraphicalChild:aa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:us},{axisType:"yAxis",AxisComp:xi}],formatAxisMap:CO}),gDe=Xy({chartName:"PieChart",GraphicalChild:jl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:vm},{axisType:"radiusAxis",AxisComp:ym}],formatAxisMap:RY,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),yDe=Xy({chartName:"RadarChart",GraphicalChild:Qy,axisComponents:[{axisType:"angleAxis",AxisComp:vm},{axisType:"radiusAxis",AxisComp:ym}],formatAxisMap:RY,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),vDe=Xy({chartName:"AreaChart",GraphicalChild:ml,axisComponents:[{axisType:"xAxis",AxisComp:us},{axisType:"yAxis",AxisComp:xi}],formatAxisMap:CO});function xDe({progress:t}){const r=t.slice(0,10).reverse().map((n,i)=>({name:`Game ${i+1}`,score:n.score,accuracy:Math.round(n.correct_answers/n.total_questions*100)}));return a.jsxs(te,{className:"mb-8",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-6 h-6 text-green-500"}),"Performance Over Time"]})}),a.jsx(re,{children:r.length>0?a.jsx(Fa,{width:"100%",height:300,children:a.jsxs(D1,{data:r,children:[a.jsx(Xo,{strokeDasharray:"3 3"}),a.jsx(us,{dataKey:"name"}),a.jsx(xi,{}),a.jsx(fn,{}),a.jsx(zi,{}),a.jsx(pa,{type:"monotone",dataKey:"score",stroke:"#8b5cf6",strokeWidth:3}),a.jsx(pa,{type:"monotone",dataKey:"accuracy",stroke:"#10b981",strokeWidth:3})]})}):a.jsx("div",{className:"text-center py-12 text-gray-500",children:"Play some games to see your performance chart!"})})]})}function bDe({progress:t}){const e=t.slice(0,10),r={addition:"",subtraction:"",multiplication:"",division:""},n={easy:"bg-green-500",medium:"bg-yellow-500",hard:"bg-red-500"};return a.jsxs(te,{children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(wr,{className:"w-6 h-6 text-blue-500"}),"Recent Games"]})}),a.jsx(re,{children:a.jsx("div",{className:"space-y-3",children:e.map((i,s)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-100 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"text-3xl",children:r[i.operation]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-bold capitalize",children:i.operation}),a.jsx(je,{className:n[i.level]+" text-white",children:i.level})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Qt,{className:"w-4 h-4"}),i.correct_answers,"/",i.total_questions]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(wr,{className:"w-4 h-4"}),i.time_taken,"s"]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"flex gap-1 mb-1",children:[1,2,3].map(o=>a.jsx(Nt,{className:`w-5 h-5 ${o<=i.stars_earned?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},o))}),a.jsx("div",{className:"text-sm text-gray-500",children:ur(new Date(i.created_date),"MMM d, h:mm a")})]})]},s))})})]})}function XQ(){const{data:t=[],isLoading:e}=ut({queryKey:["gameProgress"],queryFn:()=>base44.entities.GameProgress.list("-created_date"),initialData:[]}),{data:r=[]}=ut({queryKey:["userDailyChallenges"],queryFn:async()=>{const _=await base44.auth.me();return base44.entities.DailyChallenge.filter({created_by:_.email})},initialData:[]}),{data:n}=ut({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:i=[]}=ut({queryKey:["tutorSessions"],queryFn:async()=>{const _=await base44.auth.me();return base44.entities.TutorSession.filter({created_by:_.email})},initialData:[]}),s=()=>t.reduce((_,T)=>_+(T.stars_earned||0),0),o=()=>r.reduce((_,T)=>_+(T.bonus_stars||0),0),l=()=>t.reduce((_,T)=>_+(T.score||0),0),c=()=>{if(t.length===0)return 0;const _=t.reduce((T,P)=>T+P.correct_answers/P.total_questions*100,0);return Math.round(_/t.length)},d=()=>t.reduce((_,T)=>_+(T.time_taken||0),0),f=()=>t.length,m=s()+o(),p=m-((n==null?void 0:n.stars_spent)||0),w=(()=>{const _=f(),T=t.some(E=>E.stars_earned===3),P=t.some(E=>E.correct_answers/E.total_questions===1),I=t.some(E=>E.level==="hard"&&E.stars_earned>=2),A=r.length,C=[];return _>=5&&C.push({name:"Curly Hair",emoji:""}),_>=7&&C.push({name:"Hat",emoji:""}),_>=10&&C.push({name:"Sporty Outfit",emoji:""}),m>=10&&C.push({name:"Spiky Hair",emoji:""}),T&&C.push({name:"Cool Eyes",emoji:""}),P&&C.push({name:"Heart Eyes & Pirate Outfit",emoji:""}),I&&C.push({name:"Purple Hair, Superhero Outfit & Cape",emoji:""}),A>=7&&C.push({name:"Artist Outfit",emoji:""}),C.slice(0,3)})(),g=(()=>{const _={};return i.forEach(T=>{const P=`${T.operation}-${T.level}`;_[P]||(_[P]={operation:T.operation,level:T.level,count:0}),_[P].count++}),Object.values(_).sort((T,P)=>P.count-T.count).slice(0,3)})();return e?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading your progress..."})]})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-block mb-6",children:a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-2xl",children:a.jsx(Ct,{className:"w-12 h-12 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Your Progress"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Keep up the great work! "})]}),t.length===0?a.jsx(te,{className:"text-center py-12",children:a.jsxs(re,{children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No games played yet!"}),a.jsx("p",{className:"text-gray-600",children:"Start playing to see your progress here."})]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[a.jsx(te,{className:"md:col-span-2 border-4 border-yellow-300 shadow-xl bg-gradient-to-r from-yellow-50 to-orange-50",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(Nt,{className:"w-8 h-8 text-white fill-white"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-3xl font-bold text-gray-800",children:[p," Stars Available"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[m," total earned  ",(n==null?void 0:n.stars_spent)||0," spent"]})]})]}),a.jsx(Ht,{to:Je("Shop"),children:a.jsxs(oe,{className:"h-12 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(qo,{className:"w-5 h-5 mr-2"}),"Visit Shop"]})})]})})}),w.length>0&&a.jsx(te,{className:"border-4 border-green-300 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50",children:a.jsxs(re,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx(sP,{className:"w-6 h-6 text-green-600"}),a.jsx("h3",{className:"font-bold text-lg text-green-800",children:"New Rewards!"})]}),a.jsx("div",{className:"space-y-2 mb-3",children:w.map((_,T)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"text-xl",children:_.emoji}),a.jsx("span",{className:"font-medium",children:_.name})]},T))}),a.jsx(Ht,{to:Je("Shop"),children:a.jsx(oe,{variant:"outline",className:"w-full border-green-400 text-green-700 hover:bg-green-100",children:"Claim Rewards"})})]})})]}),i.length>0&&a.jsxs(te,{className:"mb-8 border-4 border-blue-300 shadow-xl bg-gradient-to-r from-blue-50 to-purple-50",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-6 rounded-t-xl",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-xl font-bold text-blue-800",children:[a.jsx(mn,{className:"w-7 h-7 text-blue-600"}),"AI Tutor Learning Insights"]})}),a.jsxs(re,{className:"p-6",children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center border-2 border-blue-200 shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Tutoring Sessions"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center border-2 border-purple-200 shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-purple-600",children:i.filter(_=>_.hint_requested).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Hints Received"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center border-2 border-green-200 shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:i.filter(_=>_.explanation_viewed).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Explanations Viewed"})]})]}),g.length>0&&a.jsxs("div",{className:"bg-white p-4 rounded-xl border-2 border-orange-200 shadow-sm",children:[a.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2 text-lg text-orange-700",children:[a.jsx(Qt,{className:"w-5 h-5 text-orange-600"}),"Practice These Topics"]}),a.jsx("div",{className:"space-y-2",children:g.map((_,T)=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"capitalize font-medium text-gray-700",children:[_.operation," (",_.level,")"]}),a.jsxs(je,{variant:"outline",className:"bg-orange-50 text-orange-600 border-orange-200",children:[_.count," times needed help"]})]},T))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[a.jsxs(te,{className:"bg-gradient-to-br from-yellow-400 to-orange-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx(Nt,{className:"w-8 h-8 fill-white"})})}),a.jsxs(re,{children:[a.jsx("div",{className:"text-3xl font-bold mb-1",children:s()}),a.jsx("p",{className:"text-sm text-white/90",children:"Game Stars"})]})]}),a.jsxs(te,{className:"bg-gradient-to-br from-purple-500 to-pink-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx(Ct,{className:"w-8 h-8"})}),a.jsxs(re,{children:[a.jsx("div",{className:"text-3xl font-bold mb-1",children:l()}),a.jsx("p",{className:"text-sm text-white/90",children:"Total Score"})]})]}),a.jsxs(te,{className:"bg-gradient-to-br from-green-500 to-emerald-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx(Qt,{className:"w-8 h-8"})}),a.jsxs(re,{children:[a.jsxs("div",{className:"text-3xl font-bold mb-1",children:[c(),"%"]}),a.jsx("p",{className:"text-sm text-white/90",children:"Accuracy"})]})]}),a.jsxs(te,{className:"bg-gradient-to-br from-blue-500 to-cyan-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx(wr,{className:"w-8 h-8"})}),a.jsxs(re,{children:[a.jsxs("div",{className:"text-3xl font-bold mb-1",children:[Math.floor(d()/60),"m"]}),a.jsx("p",{className:"text-sm text-white/90",children:"Time Played"})]})]}),a.jsxs(te,{className:"bg-gradient-to-br from-indigo-500 to-purple-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx(mr,{className:"w-8 h-8"})}),a.jsxs(re,{children:[a.jsx("div",{className:"text-3xl font-bold mb-1",children:f()}),a.jsx("p",{className:"text-sm text-white/90",children:"Games Played"})]})]})]}),a.jsx(a_e,{progress:t}),a.jsx(xDe,{progress:t}),a.jsx(bDe,{progress:t})]})]})}const pr=S.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:vt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));pr.displayName="Input";var wDe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_De=wDe.reduce((t,e)=>{const r=kk(`Primitive.${e}`),n=S.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),jDe="Label",JQ=S.forwardRef((t,e)=>a.jsx(_De.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));JQ.displayName=jDe;var ZQ=JQ;const NDe=Oy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),at=S.forwardRef(({className:t,...e},r)=>a.jsx(ZQ,{ref:r,className:vt(NDe(),t),...e}));at.displayName=ZQ.displayName;var L1="Tabs",[SDe]=ga(L1,[Gw]),eX=Gw(),[TDe,VO]=SDe(L1),tX=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,f=Ry(l),[m,p]=il({prop:n,onChange:i,defaultProp:s??"",caller:L1});return a.jsx(TDe,{scope:r,baseId:Oc(),value:m,onValueChange:p,orientation:o,dir:f,activationMode:c,children:a.jsx(wt.div,{dir:f,"data-orientation":o,...d,ref:e})})});tX.displayName=L1;var rX="TabsList",nX=S.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=VO(rX,r),o=eX(r);return a.jsx(bz,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(wt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});nX.displayName=rX;var iX="TabsTrigger",sX=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=VO(iX,r),l=eX(r),c=lX(o.baseId,n),d=cX(o.baseId,n),f=n===o.value;return a.jsx(wz,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx(wt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Fe(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:Fe(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:Fe(t.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!i&&m&&o.onValueChange(n)})})})});sX.displayName=iX;var aX="TabsContent",oX=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,l=VO(aX,r),c=lX(l.baseId,n),d=cX(l.baseId,n),f=n===l.value,m=S.useRef(f);return S.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(vl,{present:i||f,children:({present:p})=>a.jsx(wt.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:p&&s})})});oX.displayName=aX;function lX(t,e){return`${t}-trigger-${e}`}function cX(t,e){return`${t}-content-${e}`}var EDe=tX,uX=nX,dX=sX,hX=oX;const Vc=EDe,pl=S.forwardRef(({className:t,...e},r)=>a.jsx(uX,{ref:r,className:vt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));pl.displayName=uX.displayName;const St=S.forwardRef(({className:t,...e},r)=>a.jsx(dX,{ref:r,className:vt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));St.displayName=dX.displayName;const Dt=S.forwardRef(({className:t,...e},r)=>a.jsx(hX,{ref:r,className:vt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Dt.displayName=hX.displayName;var PDe=Symbol("radix.slottable");function ADe(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=PDe,e}var fX=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CDe="VisuallyHidden",mX=S.forwardRef((t,e)=>a.jsx(wt.span,{...t,ref:e,style:{...fX,...t.style}}));mX.displayName=CDe;var kDe=mX,[$1]=ga("Tooltip",[sm]),F1=sm(),pX="TooltipProvider",IDe=700,cC="tooltip.open",[ODe,BO]=$1(pX),gX=t=>{const{__scopeTooltip:e,delayDuration:r=IDe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=S.useRef(!0),l=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),a.jsx(ODe,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};gX.displayName=pX;var fy="Tooltip",[RDe,Jy]=$1(fy),yX=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=BO(fy,t.__scopeTooltip),d=F1(e),[f,m]=S.useState(null),p=Oc(),v=S.useRef(0),w=o??c.disableHoverableContent,x=l??c.delayDuration,g=S.useRef(!1),[_,T]=il({prop:n,defaultProp:i??!1,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(cC))):c.onClose(),s==null||s(E)},caller:fy}),P=S.useMemo(()=>_?g.current?"delayed-open":"instant-open":"closed",[_]),I=S.useCallback(()=>{window.clearTimeout(v.current),v.current=0,g.current=!1,T(!0)},[T]),A=S.useCallback(()=>{window.clearTimeout(v.current),v.current=0,T(!1)},[T]),C=S.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{g.current=!0,T(!0),v.current=0},x)},[x,T]);return S.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),a.jsx(Bk,{...d,children:a.jsx(RDe,{scope:e,contentId:p,open:_,stateAttribute:P,trigger:f,onTriggerChange:m,onTriggerEnter:S.useCallback(()=>{c.isOpenDelayedRef.current?C():I()},[c.isOpenDelayedRef,C,I]),onTriggerLeave:S.useCallback(()=>{w?A():(window.clearTimeout(v.current),v.current=0)},[A,w]),onOpen:I,onClose:A,disableHoverableContent:w,children:r})})};yX.displayName=fy;var uC="TooltipTrigger",vX=S.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Jy(uC,r),s=BO(uC,r),o=F1(r),l=S.useRef(null),c=$t(e,l,i.onTriggerChange),d=S.useRef(!1),f=S.useRef(!1),m=S.useCallback(()=>d.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(qk,{asChild:!0,...o,children:a.jsx(wt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Fe(t.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Fe(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Fe(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Fe(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Fe(t.onBlur,i.onClose),onClick:Fe(t.onClick,i.onClose)})})});vX.displayName=uC;var qO="TooltipPortal",[MDe,DDe]=$1(qO,{forceMount:void 0}),xX=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:i}=t,s=Jy(qO,e);return a.jsx(MDe,{scope:e,forceMount:r,children:a.jsx(vl,{present:r||s.open,children:a.jsx(Hw,{asChild:!0,container:i,children:n})})})};xX.displayName=qO;var Wf="TooltipContent",bX=S.forwardRef((t,e)=>{const r=DDe(Wf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=Jy(Wf,t.__scopeTooltip);return a.jsx(vl,{present:n||o.open,children:o.disableHoverableContent?a.jsx(wX,{side:i,...s,ref:e}):a.jsx(LDe,{side:i,...s,ref:e})})}),LDe=S.forwardRef((t,e)=>{const r=Jy(Wf,t.__scopeTooltip),n=BO(Wf,t.__scopeTooltip),i=S.useRef(null),s=$t(e,i),[o,l]=S.useState(null),{trigger:c,onClose:d}=r,f=i.current,{onPointerInTransitChange:m}=n,p=S.useCallback(()=>{l(null),m(!1)},[m]),v=S.useCallback((w,x)=>{const g=w.currentTarget,_={x:w.clientX,y:w.clientY},T=qDe(_,g.getBoundingClientRect()),P=UDe(_,T),I=zDe(x.getBoundingClientRect()),A=HDe([...P,...I]);l(A),m(!0)},[m]);return S.useEffect(()=>()=>p(),[p]),S.useEffect(()=>{if(c&&f){const w=g=>v(g,f),x=g=>v(g,c);return c.addEventListener("pointerleave",w),f.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",w),f.removeEventListener("pointerleave",x)}}},[c,f,v,p]),S.useEffect(()=>{if(o){const w=x=>{const g=x.target,_={x:x.clientX,y:x.clientY},T=(c==null?void 0:c.contains(g))||(f==null?void 0:f.contains(g)),P=!WDe(_,o);T?p():P&&(p(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,f,o,d,p]),a.jsx(wX,{...t,ref:s})}),[$De,FDe]=$1(fy,{isInside:!1}),VDe=ADe("TooltipContent"),wX=S.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=Jy(Wf,r),d=F1(r),{onClose:f}=c;return S.useEffect(()=>(document.addEventListener(cC,f),()=>document.removeEventListener(cC,f)),[f]),S.useEffect(()=>{if(c.trigger){const m=p=>{const v=p.target;v!=null&&v.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),a.jsx(Vw,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:a.jsxs(Uk,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(VDe,{children:n}),a.jsx($De,{scope:r,isInside:!0,children:a.jsx(kDe,{id:c.contentId,role:"tooltip",children:i||n})})]})})});bX.displayName=Wf;var _X="TooltipArrow",BDe=S.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=F1(r);return FDe(_X,r).isInside?null:a.jsx(zk,{...i,...n,ref:e})});BDe.displayName=_X;function qDe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function UDe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function zDe(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function WDe(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,f=l.y,m=c.x,p=c.y;f>n!=p>n&&r<(m-d)*(n-f)/(p-f)+d&&(i=!i)}return i}function HDe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),GDe(e)}function GDe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var KDe=gX,YDe=yX,QDe=vX,XDe=xX,jX=bX;const gq=KDe,yq=YDe,vq=QDe,dC=S.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(XDe,{children:a.jsx(jX,{ref:n,sideOffset:e,className:vt("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));dC.displayName=jX.displayName;function Mi({title:t,options:e,selected:r,onChange:n,isUnlocked:i,unlockableItems:s=[],type:o="default"}){const l=c=>{const d=s.find(f=>f.id===c);return(d==null?void 0:d.requirement)||"Complete challenges to unlock"};return a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-800",children:t}),a.jsx("div",{className:"grid grid-cols-4 gap-3",children:e.map(c=>{const d=i(c.id),f=r===c.id;return o==="color"?a.jsx(gq,{children:a.jsxs(yq,{children:[a.jsx(vq,{asChild:!0,children:a.jsxs("button",{onClick:()=>d&&n(c.id),disabled:!d,className:`relative h-16 rounded-xl border-4 transition-all ${f?"border-purple-500 shadow-lg scale-110":"border-gray-200 hover:border-purple-300"} ${!d&&"opacity-50 cursor-not-allowed"}`,style:{backgroundColor:c.color},children:[!d&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-lg",children:a.jsx(oi,{className:"w-6 h-6 text-white"})}),f&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center",children:""})]})}),a.jsxs(dC,{children:[a.jsx("p",{className:"font-medium",children:c.label}),!d&&a.jsx("p",{className:"text-xs text-gray-400",children:l(c.id)})]})]})},c.id):a.jsx(gq,{children:a.jsxs(yq,{children:[a.jsx(vq,{asChild:!0,children:a.jsxs("button",{onClick:()=>d&&n(c.id),disabled:!d,className:`relative p-4 rounded-xl border-4 transition-all ${f?"border-purple-500 bg-purple-50 shadow-lg scale-105":"border-gray-200 bg-white hover:border-purple-300 hover:bg-purple-50"} ${!d&&"opacity-50 cursor-not-allowed"}`,children:[a.jsx("div",{className:"text-3xl mb-1",children:c.emoji}),a.jsx("div",{className:"text-xs font-medium text-gray-600 truncate",children:c.label}),!d&&a.jsx("div",{className:"absolute top-2 right-2 bg-gray-700 text-white rounded-full w-6 h-6 flex items-center justify-center",children:a.jsx(oi,{className:"w-3 h-3"})}),f&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-purple-500 text-white rounded-full w-7 h-7 flex items-center justify-center shadow-lg",children:""})]})}),a.jsxs(dC,{children:[a.jsx("p",{className:"font-medium",children:c.label}),!d&&a.jsx("p",{className:"text-xs text-gray-400",children:l(c.id)})]})]})},c.id)})})]})}function NX(){var E,N,O;vn();const[t,e]=S.useState(!1),[r,n]=S.useState(!1),[i,s]=S.useState(null),[o,l]=S.useState(!0);S.useEffect(()=>{const D=Vp(Bt),L=uU(D,async $=>{if($){const F=cr(Bt),G=await e7(ds(F,"users",$.uid));s({email:$.email,full_name:$.displayName,...G.exists()?G.data():{}})}else s(null);l(!1)});return()=>L()},[]);const[c,d]=S.useState([]);S.useEffect(()=>{if(!i)return;const D=cr(Bt),L=ha(An(D,"gameProgress"),si("user_email","==",i.email));Si(L).then($=>{d($.docs.map(F=>F.data()))})},[i]);const[f,m]=S.useState({avatar_skin_tone:"medium",avatar_hair_style:"short",avatar_hair_color:"brown",avatar_eyes:"normal",avatar_face:"smile",avatar_shirt:"t_shirt_basic",avatar_pants:"jeans",avatar_shoes:"sneakers",avatar_hat:"none",avatar_glasses:"none",avatar_accessory:"none",avatar_background:"plain",pet_hat:"none",pet_accessory:"none",unlocked_items:["t_shirt_basic","jeans","sneakers","short","long","black","brown","blonde","normal","happy","light","medium","tan","dark","smile","big_smile","plain"],parent_email:""});S.useEffect(()=>{i&&m({avatar_skin_tone:i.avatar_skin_tone||"medium",avatar_hair_style:i.avatar_hair_style||"short",avatar_hair_color:i.avatar_hair_color||"brown",avatar_eyes:i.avatar_eyes||"normal",avatar_face:i.avatar_face||"smile",avatar_shirt:i.avatar_shirt||"t_shirt_basic",avatar_pants:i.avatar_pants||"jeans",avatar_shoes:i.avatar_shoes||"sneakers",avatar_hat:i.avatar_hat||"none",avatar_glasses:i.avatar_glasses||"none",avatar_accessory:i.avatar_accessory||"none",avatar_background:i.avatar_background||"plain",pet_hat:i.pet_hat||"none",pet_accessory:i.pet_accessory||"none",unlocked_items:i.unlocked_items||["t_shirt_basic","jeans","sneakers","short","long","black","brown","blonde","normal","happy","light","medium","tan","dark","smile","big_smile","plain"],parent_email:i.parent_email||""})},[i]);const p=async()=>{if(!i)return;const D=cr(Bt);await ad(ds(D,"users",i.email),{...i,...f},{merge:!0}),e(!0),setTimeout(()=>e(!1),3e3)},v=(D,L)=>{m($=>({...$,[D]:L}))},w=D=>(f.unlocked_items||[]).includes(D)||((i==null?void 0:i.purchased_items)||[]).includes(D),g=(()=>{const D=c.length,L=c.reduce((K,X)=>K+(X.stars_earned||0),0),$=c.some(K=>K.stars_earned===3),F=c.some(K=>K.correct_answers/K.total_questions===1),G=c.some(K=>K.level==="hard"&&K.stars_earned>=2),Y=[];return D>=3&&!w("hoodie")&&Y.push({item:"hoodie",reason:"Play 3 games",emoji:""}),D>=5&&!w("curly")&&Y.push({item:"curly",reason:"Play 5 games",emoji:""}),D>=7&&!w("baseball_cap")&&Y.push({item:"baseball_cap",reason:"Play 7 games",emoji:""}),D>=10&&!w("shorts")&&Y.push({item:"shorts",reason:"Play 10 games",emoji:""}),D>=15&&!w("boots")&&Y.push({item:"boots",reason:"Play 15 games",emoji:""}),L>=10&&!w("spiky")&&Y.push({item:"spiky",reason:"Earn 10 stars",emoji:""}),L>=20&&!w("sunglasses")&&Y.push({item:"sunglasses",reason:"Earn 20 stars",emoji:""}),L>=30&&!w("stars")&&Y.push({item:"stars",reason:"Earn 30 stars",emoji:""}),$&&!w("star")&&Y.push({item:"star",reason:"Get 3 stars in one game",emoji:""}),F&&!w("heart")&&Y.push({item:"heart",reason:"Perfect score",emoji:""}),G&&!w("crown")&&Y.push({item:"crown",reason:"Complete hard level",emoji:""}),Y.slice(0,3)})(),_=i==null?void 0:i.active_pet,T=_?{id:_,name:_.charAt(0).toUpperCase()+_.slice(1),emoji:_==="dragon"?"":_==="owl"?"":_==="fox"?"":_==="unicorn"?"":"",gradient:_==="dragon"?"from-red-400 to-orange-500":_==="owl"?"from-indigo-400 to-purple-500":_==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500"}:null,P=(i==null?void 0:i.subscription_tier)||"free",I=P!=="free",A=i!=null&&i.subscription_expires_at?new Date(i.subscription_expires_at):null,C=A?Math.ceil((A-new Date)/(1e3*60*60*24)):0;return o?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading your avatar..."})]})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(Wh,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Customize Your Avatar"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Express yourself with tons of options!"})]}),t&&a.jsxs(ze,{className:"mb-6 bg-green-50 border-green-200",children:[a.jsx(Yt,{className:"w-4 h-4 text-green-600"}),a.jsx(We,{className:"text-green-800",children:"Avatar saved successfully! "})]}),g.length>0&&a.jsxs(ze,{className:"mb-6 bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-300",children:[a.jsx(Yt,{className:"w-5 h-5 text-yellow-600"}),a.jsx(We,{className:"text-yellow-800",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[a.jsxs("div",{children:[a.jsx("strong",{className:"text-lg",children:" New Items Unlocked!"}),a.jsx("div",{className:"flex gap-3 mt-2",children:g.map((D,L)=>a.jsxs(je,{className:"bg-yellow-500 text-white text-sm",children:[D.emoji," ",D.item.replace(/_/g," ")]},L))})]}),a.jsx(Ht,{to:Je("Shop"),children:a.jsxs(oe,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600",children:[a.jsx(qo,{className:"w-4 h-4 mr-2"}),"Browse Shop"]})})]})})]}),I&&a.jsx(te,{className:"mb-8 border-4 border-yellow-400 shadow-xl bg-gradient-to-r from-yellow-50 to-orange-50",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(bi,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:P==="premium_parent"?"Premium Parent":P==="premium_player"?"Premium Player":"Family/Teacher Plan"}),a.jsxs(je,{className:"bg-green-500 text-white",children:[a.jsx(Ut,{className:"w-3 h-3 mr-1"}),"Active"]})]}),a.jsx("p",{className:"text-gray-600",children:A&&`Renews ${ur(A,"MMM d, yyyy")}  ${C} days left`})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(oe,{variant:"outline",className:"h-12",onClick:()=>window.open(Je("Subscription"),"_blank","noopener,noreferrer"),children:[a.jsx($w,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]}),(i==null?void 0:i.subscription_auto_renew)!==!1&&a.jsxs(oe,{variant:"destructive",onClick:()=>n(!0),className:"h-12",children:[a.jsx(od,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})})}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(te,{className:"sticky top-24 border-4 border-purple-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Your Avatar"}),a.jsxs(je,{variant:"secondary",className:"bg-white text-purple-600",children:[(((E=f.unlocked_items)==null?void 0:E.length)||0)+(((N=i==null?void 0:i.purchased_items)==null?void 0:N.length)||0)," Items"]})]})}),a.jsxs(re,{className:"p-8",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx(Kh,{avatarData:f,size:"large",showPet:!!_,petData:T})}),_&&a.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl",children:[a.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2",children:[a.jsx(Yt,{className:"w-4 h-4 text-purple-500"}),T.name,"'s Accessories"]}),a.jsx("div",{className:"flex justify-center gap-4",children:a.jsx(tI,{pet:T,experience:((O=i==null?void 0:i.pet_experience)==null?void 0:O[_])||0,size:"medium",showAccessories:!0,hatType:f.pet_hat,accessoryType:f.pet_accessory})})]}),a.jsxs(oe,{onClick:p,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 h-12 text-lg",disabled:updateAvatarMutation.isPending,children:[a.jsx(Hx,{className:"w-5 h-5 mr-2"}),updateAvatarMutation.isPending?"Saving...":"Save Avatar"]}),a.jsx(Ht,{to:Je("Shop"),children:a.jsxs(oe,{variant:"outline",className:"w-full mt-3 h-12 border-2 border-purple-300 hover:bg-purple-50",children:[a.jsx(qo,{className:"w-5 h-5 mr-2"}),"Get More Items"]})})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(te,{className:"border-2 border-purple-200 shadow-lg",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Yt,{className:"w-6 h-6 text-purple-500"}),"Customization Options"]})}),a.jsx(re,{children:a.jsxs(Vc,{defaultValue:"appearance",className:"w-full",children:[a.jsxs(pl,{className:"grid w-full grid-cols-3 lg:grid-cols-6 mb-6",children:[a.jsxs(St,{value:"appearance",children:[a.jsx(Vde,{className:"w-4 h-4 mr-1"}),"Face"]}),a.jsxs(St,{value:"hair",children:[a.jsx(ld,{className:"w-4 h-4 mr-1"}),"Hair"]}),a.jsxs(St,{value:"clothing",children:[a.jsx(Ode,{className:"w-4 h-4 mr-1"}),"Clothing"]}),a.jsxs(St,{value:"footwear",children:[a.jsx(Oue,{className:"w-4 h-4 mr-1"}),"Shoes"]}),a.jsxs(St,{value:"accessories",children:[a.jsx($ue,{className:"w-4 h-4 mr-1"}),"Access."]}),a.jsxs(St,{value:"pet",children:[a.jsx(Yt,{className:"w-4 h-4 mr-1"}),"Pet"]})]}),a.jsxs(Dt,{value:"appearance",className:"space-y-6",children:[a.jsx(Mi,{title:"Skin Tone",options:[{id:"light",label:"Light",color:"#FFE0BD"},{id:"medium",label:"Medium",color:"#F4C89A"},{id:"tan",label:"Tan",color:"#D4A574"},{id:"dark",label:"Dark",color:"#8D5524"}],selected:f.avatar_skin_tone,onChange:D=>v("avatar_skin_tone",D),isUnlocked:()=>!0,type:"color"}),a.jsx(Mi,{title:"Eyes",options:[{id:"normal",label:"Normal",emoji:""},{id:"happy",label:"Happy",emoji:""},{id:"cool",label:"Cool",emoji:""},{id:"star",label:"Star",emoji:""},{id:"heart",label:"Heart",emoji:""},{id:"sleepy",label:"Sleepy",emoji:""},{id:"angry",label:"Determined",emoji:""},{id:"surprised",label:"Surprised",emoji:""},{id:"wink",label:"Wink",emoji:""}],selected:f.avatar_eyes,onChange:D=>v("avatar_eyes",D),isUnlocked:w}),a.jsx(Mi,{title:"Face Expression",options:[{id:"smile",label:"Smile",emoji:""},{id:"big_smile",label:"Big Smile",emoji:""},{id:"laughing",label:"Laughing",emoji:""},{id:"determined",label:"Determined",emoji:""},{id:"neutral",label:"Neutral",emoji:""},{id:"tongue_out",label:"Playful",emoji:""}],selected:f.avatar_face,onChange:D=>v("avatar_face",D),isUnlocked:w}),a.jsx(Mi,{title:"Background",options:[{id:"plain",label:"Plain",emoji:""},{id:"stars",label:"Stars",emoji:""},{id:"rainbow",label:"Rainbow",emoji:""},{id:"clouds",label:"Clouds",emoji:""},{id:"space",label:"Space",emoji:""},{id:"underwater",label:"Underwater",emoji:""},{id:"forest",label:"Forest",emoji:""},{id:"city",label:"City",emoji:""},{id:"beach",label:"Beach",emoji:""}],selected:f.avatar_background,onChange:D=>v("avatar_background",D),isUnlocked:w})]}),a.jsxs(Dt,{value:"hair",className:"space-y-6",children:[a.jsx(Mi,{title:"Hair Style",options:[{id:"short",label:"Short",emoji:""},{id:"long",label:"Long",emoji:""},{id:"curly",label:"Curly",emoji:""},{id:"spiky",label:"Spiky",emoji:""},{id:"bald",label:"Bald",emoji:""},{id:"ponytail",label:"Ponytail",emoji:""},{id:"braids",label:"Braids",emoji:""},{id:"afro",label:"Afro",emoji:""},{id:"mohawk",label:"Mohawk",emoji:""},{id:"bun",label:"Bun",emoji:""}],selected:f.avatar_hair_style,onChange:D=>v("avatar_hair_style",D),isUnlocked:w}),a.jsx(Mi,{title:"Hair Color",options:[{id:"black",label:"Black",color:"#000000"},{id:"brown",label:"Brown",color:"#8B4513"},{id:"blonde",label:"Blonde",color:"#FFD700"},{id:"red",label:"Red",color:"#DC143C"},{id:"blue",label:"Blue",color:"#4169E1"},{id:"pink",label:"Pink",color:"#FF69B4"},{id:"purple",label:"Purple",color:"#9370DB"},{id:"green",label:"Green",color:"#32CD32"},{id:"orange",label:"Orange",color:"#FF8C00"},{id:"white",label:"White",color:"#F5F5F5"},{id:"rainbow",label:"Rainbow",emoji:""}],selected:f.avatar_hair_color,onChange:D=>v("avatar_hair_color",D),isUnlocked:w,type:"color"})]}),a.jsxs(Dt,{value:"clothing",className:"space-y-6",children:[a.jsx(Mi,{title:"Shirts & Tops",options:[{id:"t_shirt_basic",label:"Basic Tee",emoji:""},{id:"t_shirt_stripe",label:"Striped Tee",emoji:""},{id:"polo",label:"Polo Shirt",emoji:""},{id:"hoodie",label:"Hoodie",emoji:""},{id:"tank_top",label:"Tank Top",emoji:""},{id:"sweater",label:"Sweater",emoji:""},{id:"jersey",label:"Jersey",emoji:""},{id:"button_up",label:"Button Up",emoji:""},{id:"graphic_tee",label:"Graphic Tee",emoji:""}],selected:f.avatar_shirt,onChange:D=>v("avatar_shirt",D),isUnlocked:w}),a.jsx(Mi,{title:"Pants & Bottoms",options:[{id:"jeans",label:"Jeans",emoji:""},{id:"shorts",label:"Shorts",emoji:""},{id:"skirt",label:"Skirt",emoji:""},{id:"dress_pants",label:"Dress Pants",emoji:""},{id:"joggers",label:"Joggers",emoji:""},{id:"overalls",label:"Overalls",emoji:""},{id:"leggings",label:"Leggings",emoji:""},{id:"cargo_pants",label:"Cargo Pants",emoji:""}],selected:f.avatar_pants,onChange:D=>v("avatar_pants",D),isUnlocked:w})]}),a.jsx(Dt,{value:"footwear",className:"space-y-6",children:a.jsx(Mi,{title:"Shoes",options:[{id:"sneakers",label:"Sneakers",emoji:""},{id:"boots",label:"Boots",emoji:""},{id:"sandals",label:"Sandals",emoji:""},{id:"dress_shoes",label:"Dress Shoes",emoji:""},{id:"high_tops",label:"High Tops",emoji:""},{id:"cleats",label:"Cleats",emoji:""},{id:"slippers",label:"Slippers",emoji:""},{id:"bare_feet",label:"Bare Feet",emoji:""}],selected:f.avatar_shoes,onChange:D=>v("avatar_shoes",D),isUnlocked:w})}),a.jsxs(Dt,{value:"accessories",className:"space-y-6",children:[a.jsx(Mi,{title:"Hats & Headwear",options:[{id:"none",label:"None",emoji:""},{id:"baseball_cap",label:"Baseball Cap",emoji:""},{id:"beanie",label:"Beanie",emoji:""},{id:"sun_hat",label:"Sun Hat",emoji:""},{id:"wizard_hat",label:"Wizard Hat",emoji:""},{id:"party_hat",label:"Party Hat",emoji:""},{id:"graduation_cap",label:"Graduation Cap",emoji:""},{id:"crown",label:"Crown",emoji:""},{id:"top_hat",label:"Top Hat",emoji:""},{id:"cowboy_hat",label:"Cowboy Hat",emoji:""}],selected:f.avatar_hat,onChange:D=>v("avatar_hat",D),isUnlocked:w}),a.jsx(Mi,{title:"Glasses & Eyewear",options:[{id:"none",label:"None",emoji:""},{id:"regular",label:"Regular",emoji:""},{id:"sunglasses",label:"Sunglasses",emoji:""},{id:"reading",label:"Reading",emoji:""},{id:"safety_goggles",label:"Safety Goggles",emoji:""},{id:"3d_glasses",label:"3D Glasses",emoji:""},{id:"heart_shaped",label:"Heart Glasses",emoji:""},{id:"star_shaped",label:"Star Glasses",emoji:""}],selected:f.avatar_glasses,onChange:D=>v("avatar_glasses",D),isUnlocked:w}),a.jsx(Mi,{title:"Other Accessories",options:[{id:"none",label:"None",emoji:""},{id:"backpack",label:"Backpack",emoji:""},{id:"cape",label:"Cape",emoji:""},{id:"scarf",label:"Scarf",emoji:""},{id:"bow_tie",label:"Bow Tie",emoji:""},{id:"necklace",label:"Necklace",emoji:""},{id:"watch",label:"Watch",emoji:""},{id:"headphones",label:"Headphones",emoji:""},{id:"earrings",label:"Earrings",emoji:""},{id:"bracelet",label:"Bracelet",emoji:""}],selected:f.avatar_accessory,onChange:D=>v("avatar_accessory",D),isUnlocked:w})]}),a.jsx(Dt,{value:"pet",className:"space-y-6",children:_?a.jsxs(a.Fragment,{children:[a.jsxs(ze,{className:"bg-purple-50 border-purple-300",children:[a.jsx(Yt,{className:"w-4 h-4 text-purple-600"}),a.jsxs(We,{className:"text-purple-800",children:[a.jsxs("strong",{children:["Dress up your ",T.name,"!"]})," Customize your pet's look with hats and accessories."]})]}),a.jsx(Mi,{title:"Pet Hats",options:[{id:"none",label:"None",emoji:""},{id:"tiny_cap",label:"Tiny Cap",emoji:""},{id:"bow",label:"Bow",emoji:""},{id:"crown",label:"Crown",emoji:""},{id:"santa_hat",label:"Santa Hat",emoji:""},{id:"party_hat",label:"Party Hat",emoji:""}],selected:f.pet_hat,onChange:D=>v("pet_hat",D),isUnlocked:w}),a.jsx(Mi,{title:"Pet Accessories",options:[{id:"none",label:"None",emoji:""},{id:"collar",label:"Collar",emoji:""},{id:"bow_tie",label:"Bow Tie",emoji:""},{id:"bandana",label:"Bandana",emoji:""},{id:"scarf",label:"Scarf",emoji:""},{id:"wings",label:"Wings",emoji:""},{id:"cape",label:"Cape",emoji:""}],selected:f.pet_accessory,onChange:D=>v("pet_accessory",D),isUnlocked:w})]}):a.jsx(te,{className:"text-center py-12",children:a.jsxs(re,{children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No Pet Yet!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Get a pet from the shop to customize it!"}),a.jsx(Ht,{to:Je("Shop"),children:a.jsxs(oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(qo,{className:"w-5 h-5 mr-2"}),"Visit Shop"]})})]})})})]})})]})})]}),a.jsxs(te,{className:"mt-8 border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(yn,{className:"w-6 h-6 text-blue-600"}),"Parent/Teacher Access"]})}),a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600",children:"Allow a parent or teacher to monitor your progress and help you set learning goals."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"parent_email",children:"Parent/Teacher Email"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(pr,{id:"parent_email",type:"email",value:f.parent_email||"",onChange:D=>v("parent_email",D.target.value),placeholder:"parent@example.com"}),a.jsx(oe,{onClick:()=>updateAvatarMutation.mutate({parent_email:f.parent_email}),disabled:updateAvatarMutation.isPending,children:"Save"})]}),(i==null?void 0:i.parent_email)&&a.jsxs("p",{className:"text-sm text-green-600",children:[" Linked to: ",i.parent_email]})]})]})})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(te,{className:"max-w-md w-full border-4 border-red-300",children:[a.jsx(_e,{className:"bg-red-50",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-red-700",children:[a.jsx(zn,{className:"w-6 h-6"}),"Cancel Subscription?"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"Are you sure you want to cancel your subscription?"}),a.jsxs(ze,{className:"bg-yellow-50 border-yellow-300",children:[a.jsx(zn,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800 text-sm",children:["You'll lose access to premium features when your current billing period ends on ",A?ur(A,"MMMM d, yyyy"):"the end date","."]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(oe,{variant:"outline",className:"flex-1",onClick:()=>n(!1),children:"Keep Subscription"}),a.jsx(oe,{variant:"destructive",className:"flex-1",onClick:()=>cancelSubscriptionMutation.mutate(),disabled:cancelSubscriptionMutation.isPending,children:cancelSubscriptionMutation.isPending?"Cancelling...":"Yes, Cancel"})]})]})]})})]})}function xq({todaysChallenges:t,currentUser:e}){const r=[...t].sort((l,c)=>c.score!==l.score?c.score-l.score:l.time_taken-c.time_taken),n=r.slice(0,10),i=r.findIndex(l=>l.created_by===(e==null?void 0:e.email))+1,s=l=>l===1?a.jsx(Ct,{className:"w-6 h-6 text-yellow-500 fill-yellow-500"}):l===2?a.jsx(Gp,{className:"w-6 h-6 text-gray-400 fill-gray-400"}):l===3?a.jsx(Gp,{className:"w-6 h-6 text-amber-600 fill-amber-600"}):a.jsxs("span",{className:"w-6 h-6 flex items-center justify-center font-bold text-gray-500",children:["#",l]}),o=l=>l===1?"from-yellow-100 to-yellow-200 border-yellow-300":l===2?"from-gray-100 to-gray-200 border-gray-300":l===3?"from-amber-100 to-amber-200 border-amber-300":"from-white to-gray-50 border-gray-200";return a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"w-6 h-6 text-purple-600"}),"Today's Leaderboard",i>0&&a.jsxs(je,{variant:"outline",className:"ml-auto bg-white",children:["You're #",i]})]})}),a.jsx(re,{className:"p-6",children:n.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Ct,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"Be the first to complete today's challenge!"})]}):a.jsx("div",{className:"space-y-2",children:n.map((l,c)=>{var p;const d=c+1,f=l.created_by===(e==null?void 0:e.email),m=Math.round(l.correct_answers/l.total_questions*100);return a.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all ${f?"bg-gradient-to-r from-purple-100 to-pink-100 border-purple-300 shadow-md":`bg-gradient-to-r ${o(d)} border`}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[s(d),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-bold",children:f?"You":((p=l.created_by)==null?void 0:p.split("@")[0])||"Player"}),f&&a.jsx(je,{className:"bg-purple-500 text-white",children:"You"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ct,{className:"w-4 h-4"}),l.score," pts"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Qt,{className:"w-4 h-4"}),m,"%"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(wr,{className:"w-4 h-4"}),l.time_taken,"s"]})]})]})]}),l.bonus_stars>0&&a.jsxs(je,{className:"bg-yellow-500 text-white",children:["+",l.bonus_stars," "]})]},c)})})})]})}const bq=(t,e="standard_mixed")=>{const r=new Date(t).getTime(),n=(o,l,c=0)=>{const d=Math.sin(r+o+l+c)*1e4;return Math.floor((d-Math.floor(d))*(l-o+1))+o};return({standard_mixed:wq,speed_round:JDe,accuracy_focus:ZDe,concept_mastery:e6e,word_problem_day:t6e,brain_teaser:r6e,grade_level_challenge:n6e,streak_builder:i6e}[e]||wq)(n,r)};function wq(t,e){const r=["addition","subtraction","multiplication","division"],n=[];for(let i=0;i<15;i++){const s=r[t(0,r.length-1,i)],o=i<5?"easy":i<10?"medium":"hard";n.push(Ls(s,o))}return{questions:n,objective:"Complete 15 mixed math problems across different difficulties",bonusTarget:{accuracy:90,time:180},totalQuestions:15,challengeType:"standard_mixed",concepts:r,description:"Test your skills across all four operations with increasing difficulty!"}}function JDe(t,e){const r=["addition","multiplication"],n=[];for(let i=0;i<20;i++){const s=r[t(0,1,i)];n.push(Ls(s,"easy"))}return{questions:n,objective:"Answer 20 quick-fire questions as fast as possible!",bonusTarget:{accuracy:85,time:120},totalQuestions:20,challengeType:"speed_round",concepts:r,description:"Race against the clock! Can you finish in under 2 minutes?",timeLimit:120}}function ZDe(t,e){const r=["multiplication","division","fractions"],n=[];for(let i=0;i<12;i++){const s=r[t(0,r.length-1,i)],o=i<4?"medium":i<8?"hard":"expert";n.push(Ls(s,o))}return{questions:n,objective:"Achieve perfect or near-perfect accuracy on challenging problems",bonusTarget:{accuracy:95,time:300},totalQuestions:12,challengeType:"accuracy_focus",concepts:r,description:"Take your time and aim for perfection! Accuracy is key today."}}function e6e(t,e){const r=["fractions","decimals","percentages","word_problems","geometry"],n=r[t(0,r.length-1,0)],i=[];for(let s=0;s<15;s++){const o=s<5?"easy":s<10?"medium":"hard";i.push(Ls(n,o))}return{questions:i,objective:`Master ${n} today!`,bonusTarget:{accuracy:88,time:240},totalQuestions:15,challengeType:"concept_mastery",concepts:[n],description:`Deep dive into ${n}! Build your expertise with focused practice.`,focusConcept:n}}function t6e(t,e){const r=[];for(let n=0;n<10;n++){const i=n<3?"easy":n<7?"medium":"hard";r.push(Ls("word_problems",i))}return{questions:r,objective:"Solve real-world math problems",bonusTarget:{accuracy:85,time:300},totalQuestions:10,challengeType:"word_problem_day",concepts:["word_problems"],description:"Apply math to real life! Read carefully and solve each scenario."}}function r6e(t,e){const r=[],n=["fractions","decimals","percentages","geometry","mixed"];for(let i=0;i<12;i++){const s=n[t(0,n.length-1,i)];r.push(Ls(s,"hard"))}return{questions:r,objective:"Crack today's brain teasers!",bonusTarget:{accuracy:80,time:360},totalQuestions:12,challengeType:"brain_teaser",concepts:n,description:"Think outside the box! These tricky problems will challenge your mind."}}function n6e(t,e){const r=["1","2","3","4","5","6","7","8"],n=r[t(0,r.length-1,0)],s={1:["addition","subtraction"],2:["addition","subtraction","time","money"],3:["multiplication","division","fractions"],4:["multiplication","division","fractions","decimals"],5:["decimals","fractions","percentages"],6:["percentages","fractions","decimals","geometry"],7:["percentages","geometry","mixed"],8:["mixed","geometry","percentages"]}[n]||["addition","subtraction"],o=[];for(let l=0;l<15;l++){const c=s[t(0,s.length-1,l)],d=l<5?"easy":l<10?"medium":"hard";o.push(Ls(c,d))}return{questions:o,objective:`Complete Grade ${n} Challenge`,bonusTarget:{accuracy:87,time:240},totalQuestions:15,challengeType:"grade_level_challenge",concepts:s,description:`Master Grade ${n} math skills! Perfect for students at this level.`,gradeLevel:n}}function i6e(t,e){const r=["addition","subtraction","multiplication"],n=[];for(let i=0;i<18;i++){const s=r[t(0,r.length-1,i)],o=i<6||i<12?"easy":"medium";n.push(Ls(s,o))}return{questions:n,objective:"Build your daily streak! Complete for bonus rewards.",bonusTarget:{accuracy:85,time:200},totalQuestions:18,challengeType:"streak_builder",concepts:r,description:"Keep your streak alive! Designed to be completable for all skill levels.",streakFocus:!0}}const s6e=(t,e,r,n)=>{const{bonusTarget:i,challengeType:s}=t;let o=0,l=0,c=!1,d=!1;return e>=95?(o=3,c=!0):e>=85?o=2:e>=70&&(o=1),i&&r<=i.time&&(o+=1,l+=20,d=!0),n&&n>=3&&(o+=1,l+=10*Math.min(n,10)),s==="speed_round"&&d&&(l+=30),s==="accuracy_focus"&&c&&(l+=40),s==="brain_teaser"&&e>=80&&(o+=1,l+=25),{bonusStars:Math.min(o,5),bonusCoins:l,perfectScoreBonus:c,speedBonus:d}};function SX(){var W,Z,ue;const t=Sd(),e=vn(),[r,n]=S.useState(0),[i,s]=S.useState(null),[o,l]=S.useState([]),[c,d]=S.useState(0),[f,m]=S.useState(!1),[p,v]=S.useState(Date.now()),[w,x]=S.useState(!1),[g,_]=S.useState(0),[T,P]=S.useState(!1),I=ur(Bi(new Date),"yyyy-MM-dd"),C=(()=>{const le=new Date().getDay();return["streak_builder","standard_mixed","speed_round","concept_mastery","accuracy_focus","word_problem_day","brain_teaser"][le]})(),{data:E}=ut({queryKey:["currentUser"],queryFn:async()=>(cr(Bt),null)}),{data:N=[]}=ut({queryKey:["dailyChallenges",I],queryFn:async()=>{const le=cr(Bt),be=ha(An(le,"dailyChallenges"),si("challenge_date","==",I));return(await Si(be)).docs.map(me=>me.data())},initialData:[]}),{data:O=[]}=ut({queryKey:["userDailyChallenges"],queryFn:async()=>{const le=cr(Bt);if(!(E!=null&&E.email))return[];const be=ha(An(le,"dailyChallenges"),si("created_by","==",E.email));return(await Si(be)).docs.map(me=>me.data())},initialData:[],enabled:!!E}),D=N.some(le=>le.created_by===(E==null?void 0:E.email)),$=(()=>{if(O.length===0)return 0;const le=[...O].sort((me,Ie)=>new Date(Ie.challenge_date)-new Date(me.challenge_date));let be=0,ge=Bi(new Date);for(const me of le){const Ie=Bi(new Date(me.challenge_date));if(Math.floor((ge-Ie)/(1e3*60*60*24))===be)be++;else break}return be})();S.useEffect(()=>{if(!f&&T){const le=setInterval(()=>{_(Math.floor((Date.now()-p)/1e3))},1e3);return()=>clearInterval(le)}},[p,f,T]);const F=Pr({mutationFn:le=>base44.entities.DailyChallenge.create(le),onSuccess:(le,be)=>{e.invalidateQueries({queryKey:["dailyChallenges"]}),e.invalidateQueries({queryKey:["userDailyChallenges"]}),e.invalidateQueries({queryKey:["currentUser"]});const ge=be.bonus_coins||0,me=((E==null?void 0:E.coins)||0)+ge;base44.auth.updateMe({coins:me})}}),G=()=>{const le=bq(I,C);s(le),v(Date.now()),P(!0)},Y=le=>{const be=le===i.questions[r].answer;if(l([...o,{question:r,correct:be}]),be&&(d(c+10),x(!0),setTimeout(()=>x(!1),1e3)),r<i.totalQuestions-1)setTimeout(()=>{n(r+1)},500);else{const ge=Math.floor((Date.now()-p)/1e3),me=o.filter(Re=>Re.correct).length+(be?1:0),Ie=c+(be?10:0),fe=me/i.totalQuestions*100,Pe=s6e(i,fe,ge,$);F.mutate({challenge_date:I,challenge_type:C,score:Ie,correct_answers:me,total_questions:i.totalQuestions,time_taken:ge,bonus_stars:Pe.bonusStars,bonus_coins:Pe.bonusCoins,streak_bonus:$>=3,perfect_score_bonus:Pe.perfectScoreBonus,speed_bonus:Pe.speedBonus,challenge_objective:i.objective,concepts_covered:i.concepts}),setTimeout(()=>{m(!0)},500)}},K=le=>({standard_mixed:Wr,speed_round:qn,accuracy_focus:Qt,concept_mastery:mn,word_problem_day:Gn,brain_teaser:Ct,grade_level_challenge:Gn,streak_builder:Ph})[le]||Wr,X=le=>({standard_mixed:"from-purple-500 to-pink-500",speed_round:"from-yellow-500 to-orange-500",accuracy_focus:"from-green-500 to-emerald-500",concept_mastery:"from-blue-500 to-cyan-500",word_problem_day:"from-indigo-500 to-purple-500",brain_teaser:"from-red-500 to-pink-500",grade_level_challenge:"from-teal-500 to-cyan-500",streak_builder:"from-orange-500 to-red-500"})[le]||"from-purple-500 to-pink-500",U=K(C),Q=X(C);if(!T)return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs(oe,{variant:"outline",onClick:()=>t(Je("Home")),className:"mb-6 gap-2",children:[a.jsx(Yu,{className:"w-4 h-4"}),"Back"]}),D?a.jsxs(te,{className:"border-4 border-green-300 shadow-2xl",children:[a.jsxs(_e,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white text-center py-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx(Ne,{className:"text-3xl",children:"Challenge Complete!"}),a.jsx("p",{className:"text-lg mt-2 opacity-90",children:"You've already completed today's challenge"})]}),a.jsxs(re,{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Your Results Today"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl",children:[a.jsx(Ct,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),a.jsx("div",{className:"text-2xl font-bold",children:(W=N.find(le=>le.created_by===(E==null?void 0:E.email)))==null?void 0:W.score}),a.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-xl",children:[a.jsx(Nt,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500"}),a.jsx("div",{className:"text-2xl font-bold",children:(Z=N.find(le=>le.created_by===(E==null?void 0:E.email)))==null?void 0:Z.bonus_stars}),a.jsx("div",{className:"text-sm text-gray-600",children:"Bonus Stars"})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl",children:[a.jsx(wr,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),a.jsxs("div",{className:"text-2xl font-bold",children:[(ue=N.find(le=>le.created_by===(E==null?void 0:E.email)))==null?void 0:ue.time_taken,"s"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Time"})]})]})]}),a.jsx(xq,{todaysChallenges:N,currentUser:E}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"Come back tomorrow for a new challenge!"}),a.jsx(oe,{onClick:()=>t(Je("Home")),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:"Back to Home"})]})]})]}):a.jsxs(te,{className:"border-4 border-purple-300 shadow-2xl",children:[a.jsxs(_e,{className:`bg-gradient-to-r ${Q} text-white text-center py-12`,children:[a.jsx("div",{className:"text-7xl mb-4",children:a.jsx(U,{className:"w-20 h-20 mx-auto"})}),a.jsx(Ne,{className:"text-4xl mb-2",children:C.split("_").map(le=>le.charAt(0).toUpperCase()+le.slice(1)).join(" ")}),a.jsx("p",{className:"text-xl opacity-90",children:ur(new Date,"MMMM d, yyyy")})]}),a.jsx(re,{className:"p-8 space-y-6",children:(()=>{const le=bq(I,C);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl border-2 border-blue-200",children:[a.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[a.jsx(Qt,{className:"w-6 h-6 text-blue-600"}),"Today's Objective"]}),a.jsx("p",{className:"text-lg text-gray-700",children:le.objective}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:le.description})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-xl border-2 border-yellow-200",children:[a.jsx(Nt,{className:"w-12 h-12 text-yellow-500 mb-3"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Bonus Rewards"}),a.jsx("p",{className:"text-gray-600",children:"Up to 5 bonus stars & extra coins!"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-xl border-2 border-orange-200",children:[a.jsx(Ph,{className:"w-12 h-12 text-orange-500 mb-3"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Current Streak"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[$," ",$===1?"Day":"Days"]}),$>=3&&a.jsx(je,{className:"mt-2 bg-orange-500",children:"+1 Bonus Star!"})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-xl border-2 border-purple-200",children:[a.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2",children:[a.jsx(Gn,{className:"w-5 h-5 text-purple-600"}),"Challenge Details"]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Questions:"})," ",le.totalQuestions]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Concepts:"})," ",le.concepts.join(", ")]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Players Today:"})," ",N.length]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border-2 border-green-200",children:[a.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),"How to Earn Bonus Rewards"]}),a.jsxs("ul",{className:"space-y-2 text-gray-700",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"w-4 h-4 text-yellow-500"}),"70%+ accuracy: 1 bonus star"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"w-4 h-4 text-yellow-500"}),"85%+ accuracy: 2 bonus stars"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"w-4 h-4 text-yellow-500"}),"95%+ accuracy: 3 bonus stars"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(qn,{className:"w-4 h-4 text-orange-500"}),"Complete quickly: +1 star & coins"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ph,{className:"w-4 h-4 text-orange-500"}),"3+ day streak: +1 extra star & coins"]})]})]}),a.jsx(oe,{onClick:G,className:`w-full h-16 text-xl bg-gradient-to-r ${Q} hover:opacity-90 shadow-lg`,children:"Start Today's Challenge"})]})})()})]})]});if(f){const le=o.filter(ge=>ge.correct).length;le/i.totalQuestions*100;const be=N.find(ge=>ge.created_by===(E==null?void 0:E.email));return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs(te,{className:"border-4 border-yellow-300 shadow-2xl",children:[a.jsxs("div",{className:`bg-gradient-to-r ${Q} py-12 text-white text-center`,children:[a.jsx("div",{className:"text-8xl mb-4",children:""}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:"Challenge Complete!"}),a.jsx("p",{className:"text-xl",children:"Great job on today's challenge!"})]}),a.jsxs(re,{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[a.jsx(Ct,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),a.jsx("div",{className:"text-3xl font-bold text-purple-600",children:c}),a.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[a.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[le,"/",i.totalQuestions]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]}),a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[a.jsx(wr,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),a.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[g,"s"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Time"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl",children:[a.jsx(Nt,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500 fill-yellow-500"}),a.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:(be==null?void 0:be.bonus_stars)||0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Bonus Stars"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[(be==null?void 0:be.perfect_score_bonus)&&a.jsxs(je,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 text-base",children:[a.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Perfect Score Bonus!"]}),(be==null?void 0:be.speed_bonus)&&a.jsxs(je,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2 text-base",children:[a.jsx(qn,{className:"w-4 h-4 mr-2"}),"Speed Bonus!"]}),(be==null?void 0:be.streak_bonus)&&a.jsxs(je,{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 text-base",children:[a.jsx(Ph,{className:"w-4 h-4 mr-2"}),"Streak Bonus! (",$," days)"]})]}),(be==null?void 0:be.bonus_coins)>0&&a.jsx("div",{className:"bg-gradient-to-r from-cyan-100 to-blue-100 p-4 rounded-xl border-2 border-cyan-300 text-center",children:a.jsxs("p",{className:"font-bold text-lg",children:["Earned ",be.bonus_coins," Bonus Coins! "]})}),a.jsx(xq,{todaysChallenges:N,currentUser:E}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(oe,{variant:"outline",className:"flex-1 h-14 text-lg gap-2",onClick:()=>t(Je("Home")),children:[a.jsx(Yu,{className:"w-5 h-5"}),"Back Home"]}),a.jsxs(oe,{className:`flex-1 h-14 text-lg bg-gradient-to-r ${Q} hover:opacity-90 gap-2`,onClick:()=>t(Je("Progress")),children:[a.jsx(Ct,{className:"w-5 h-5"}),"View Progress"]})]})]})]})})}const ne=(r+1)/i.totalQuestions*100;return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[w&&a.jsx(vG,{}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs(je,{variant:"outline",className:"text-lg px-4 py-2",children:[a.jsx(U,{className:"w-5 h-5 mr-2"}),C.split("_").map(le=>le.charAt(0).toUpperCase()+le.slice(1)).join(" ")]}),a.jsxs("div",{className:"flex items-center gap-4",children:[(i==null?void 0:i.timeLimit)&&a.jsxs(je,{variant:g>i.timeLimit?"destructive":"outline",className:"text-lg px-4 py-2",children:[a.jsx(wr,{className:"w-5 h-5 mr-2"}),g,"s / ",i.timeLimit,"s"]}),!(i!=null&&i.timeLimit)&&a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-md",children:[a.jsx(wr,{className:"w-5 h-5 text-blue-500"}),a.jsxs("span",{className:"font-bold text-gray-800",children:[g,"s"]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-md",children:[a.jsx(Ct,{className:"w-5 h-5 text-yellow-500"}),a.jsx("span",{className:"font-bold text-gray-800",children:c})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Question ",r+1," of ",i.totalQuestions]}),a.jsxs("span",{children:[Math.round(ne),"%"]})]}),a.jsx(ol,{value:ne,className:"h-3"})]})]}),i&&i.questions.length>0&&a.jsx(yG,{question:i.questions[r],onAnswer:Y,questionNumber:r+1})]})}function a6e({myChildren:t,selectedChildEmail:e,onSelectChild:r,currentUserEmail:n}){return a.jsx(te,{className:"border-2 border-purple-200 shadow-lg",children:a.jsxs(re,{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(Wh,{className:"w-6 h-6 text-purple-500"}),"Select Child"]}),t.length===0?a.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[a.jsx("p",{className:"text-gray-600",children:"No children linked to your account yet."}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Children can link their account to yours in their settings."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(i=>{const s=i.email===e,o={avatar_skin_tone:i.avatar_skin_tone||"medium",avatar_hair_style:i.avatar_hair_style||"short",avatar_hair_color:i.avatar_hair_color||"brown",avatar_eyes:i.avatar_eyes||"normal",avatar_outfit:i.avatar_outfit||"casual",avatar_accessory:i.avatar_accessory||"none"};return a.jsxs("button",{onClick:()=>r(i.email),className:`p-4 rounded-xl border-2 transition-all text-center ${s?"border-purple-500 bg-purple-50 shadow-lg scale-105":"border-gray-200 bg-white hover:border-purple-300 hover:bg-purple-50"}`,children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx(Kh,{avatarData:o,size:"medium"})}),a.jsx("h3",{className:"font-bold text-lg truncate",children:i.child_name||i.full_name||i.email.split("@")[0]}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:i.email}),s&&a.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 text-purple-600 text-sm font-medium",children:["Selected ",a.jsx(Pk,{className:"w-4 h-4"})]})]},i.email)})})]})})}function o6e({childProgress:t,childDailyChallenges:e,selectedChild:r}){const{data:n}=ut({queryKey:["currentUser"],queryFn:async()=>{const p=cr(Bt),v=await e7(ds(p,"users","USER_ID"));return v.exists()?v.data():null}}),{data:i=0}=ut({queryKey:["unreadChildReplies",r==null?void 0:r.email],queryFn:async()=>{const p=cr(Bt),v=ha(An(p,"messages"),si("parent_email","==",n==null?void 0:n.email),si("child_email","==",r==null?void 0:r.email),si("message_type","==","response"),si("parent_read","==",!1));return(await Si(v)).size},initialData:0,enabled:!!(n!=null&&n.email)&&!!(r!=null&&r.email)}),s=t.length,o=t.reduce((p,v)=>p+(v.stars_earned||0),0),l=t.reduce((p,v)=>p+(v.correct_answers||0),0),c=t.reduce((p,v)=>p+(v.total_questions||0),0),d=c>0?(l/c*100).toFixed(1):0,f=e.length,m=t.length>0?t[0].created_date:null;return a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(te,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Ct,{className:"w-5 h-5 text-blue-600"}),"Total Games"]})}),a.jsxs(re,{className:"p-4",children:[a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m&&`Last: ${ur(new Date(m),"MMM d")}`})]})]}),a.jsxs(te,{className:"border-2 border-yellow-200",children:[a.jsx(_e,{className:"bg-yellow-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Nt,{className:"w-5 h-5 text-yellow-600"}),"Total Stars"]})}),a.jsxs(re,{className:"p-4",children:[a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:o}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Avg: ",s>0?(o/s).toFixed(1):0," per game"]})]})]}),a.jsxs(te,{className:"border-2 border-green-200",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),"Accuracy"]})}),a.jsxs(re,{className:"p-4",children:[a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[d,"%"]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[l," / ",c," correct"]})]})]}),a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Wr,{className:"w-5 h-5 text-purple-600"}),"Daily Challenges"]})}),a.jsxs(re,{className:"p-4",children:[a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:f}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"completed"})]})]}),a.jsxs(te,{className:"border-2 border-pink-200 md:col-span-2 lg:col-span-1",children:[a.jsx(_e,{className:"bg-pink-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(ac,{className:"w-5 h-5 text-pink-600"}),"Messages",i>0&&a.jsxs(je,{className:"bg-pink-500 text-white animate-pulse ml-auto",children:[i," New"]})]})}),a.jsxs(re,{className:"p-4",children:[a.jsx("p",{className:"text-3xl font-bold text-pink-600",children:i}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"unread replies"})]})]})]})}function l6e({childProgress:t,childDailyChallenges:e}){const r=()=>{const m={addition:{total:0,correct:0,games:0},subtraction:{total:0,correct:0,games:0},multiplication:{total:0,correct:0,games:0},division:{total:0,correct:0,games:0}};return t.forEach(p=>{m[p.operation]&&(m[p.operation].games++,m[p.operation].total+=p.total_questions,m[p.operation].correct+=p.correct_answers)}),Object.entries(m).map(([p,v])=>({operation:p.charAt(0).toUpperCase()+p.slice(1),accuracy:v.total>0?Math.round(v.correct/v.total*100):0,games:v.games}))},n=()=>{const m={easy:{total:0,correct:0,games:0},medium:{total:0,correct:0,games:0},hard:{total:0,correct:0,games:0}};return t.forEach(p=>{m[p.level]&&(m[p.level].games++,m[p.level].total+=p.total_questions,m[p.level].correct+=p.correct_answers)}),Object.entries(m).map(([p,v])=>({level:p.charAt(0).toUpperCase()+p.slice(1),accuracy:v.total>0?Math.round(v.correct/v.total*100):0,games:v.games}))},i=()=>t.slice(0,10).reverse().map((p,v)=>({game:`Game ${v+1}`,accuracy:Math.round(p.correct_answers/p.total_questions*100),score:p.score})),s=()=>{const p=[...r()].sort((x,g)=>g.accuracy-x.accuracy),v=p.slice(0,2).filter(x=>x.accuracy>=70),w=p.slice(-2).filter(x=>x.accuracy<70&&x.games>0);return{strengths:v,weaknesses:w}},o=r(),l=n(),c=i(),{strengths:d,weaknesses:f}=s();return t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(mf,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600",children:"No performance data available yet"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Data will appear once the child starts playing games"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs(te,{className:"border-2 border-green-200 bg-green-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2 text-green-700",children:[a.jsx(Ut,{className:"w-6 h-6"}),"Strengths"]})}),a.jsx(re,{children:d.length>0?a.jsx("div",{className:"space-y-3",children:d.map((m,p)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[a.jsx("span",{className:"font-medium",children:m.operation}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(je,{className:"bg-green-500",children:[m.accuracy,"%"]}),a.jsx(mr,{className:"w-5 h-5 text-green-600"})]})]},p))}):a.jsx("p",{className:"text-gray-600 text-center py-4",children:"Keep practicing to identify strengths!"})})]}),a.jsxs(te,{className:"border-2 border-orange-200 bg-orange-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2 text-orange-700",children:[a.jsx(em,{className:"w-6 h-6"}),"Areas for Improvement"]})}),a.jsx(re,{children:f.length>0?a.jsx("div",{className:"space-y-3",children:f.map((m,p)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[a.jsx("span",{className:"font-medium",children:m.operation}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(je,{variant:"outline",className:"border-orange-400",children:[m.accuracy,"%"]}),a.jsx(Ic,{className:"w-5 h-5 text-orange-600"})]})]},p))}):a.jsx("p",{className:"text-gray-600 text-center py-4",children:"Great job! No weak areas identified."})})]})]}),a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Performance by Operation"})}),a.jsx(re,{children:a.jsx(Fa,{width:"100%",height:300,children:a.jsxs(lC,{data:o,children:[a.jsx(Xo,{strokeDasharray:"3 3"}),a.jsx(us,{dataKey:"operation"}),a.jsx(xi,{}),a.jsx(fn,{}),a.jsx(zi,{}),a.jsx(aa,{dataKey:"accuracy",fill:"#8b5cf6",name:"Accuracy %"}),a.jsx(aa,{dataKey:"games",fill:"#ec4899",name:"Games Played"})]})})})]}),a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Performance by Difficulty Level"})}),a.jsx(re,{children:a.jsx(Fa,{width:"100%",height:300,children:a.jsxs(lC,{data:l,children:[a.jsx(Xo,{strokeDasharray:"3 3"}),a.jsx(us,{dataKey:"level"}),a.jsx(xi,{}),a.jsx(fn,{}),a.jsx(zi,{}),a.jsx(aa,{dataKey:"accuracy",fill:"#10b981",name:"Accuracy %"}),a.jsx(aa,{dataKey:"games",fill:"#f59e0b",name:"Games Played"})]})})})]}),c.length>0&&a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Recent Performance Trend"})}),a.jsx(re,{children:a.jsx(Fa,{width:"100%",height:300,children:a.jsxs(D1,{data:c,children:[a.jsx(Xo,{strokeDasharray:"3 3"}),a.jsx(us,{dataKey:"game"}),a.jsx(xi,{}),a.jsx(fn,{}),a.jsx(zi,{}),a.jsx(pa,{type:"monotone",dataKey:"accuracy",stroke:"#8b5cf6",strokeWidth:3,name:"Accuracy %"}),a.jsx(pa,{type:"monotone",dataKey:"score",stroke:"#10b981",strokeWidth:3,name:"Score"})]})})})]})]})}const yd=S.forwardRef(({className:t,...e},r)=>a.jsx("textarea",{className:vt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));yd.displayName="Textarea";function cw(t,[e,r]){return Math.min(r,Math.max(e,t))}function c6e(t){const e=u6e(t),r=S.forwardRef((n,i)=>{const{children:s,...o}=n,l=S.Children.toArray(s),c=l.find(h6e);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function u6e(t){const e=S.forwardRef((r,n)=>{const{children:i,...s}=r;if(S.isValidElement(i)){const o=m6e(i),l=f6e(s,i.props);return i.type!==S.Fragment&&(l.ref=n?Uc(n,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var d6e=Symbol("radix.slottable");function h6e(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===d6e}function f6e(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function m6e(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function V1(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var p6e=[" ","Enter","ArrowUp","ArrowDown"],g6e=[" ","Enter"],vd="Select",[B1,q1,y6e]=Fw(vd),[bm]=ga(vd,[y6e,sm]),U1=sm(),[v6e,Yc]=bm(vd),[x6e,b6e]=bm(vd),TX=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:m,disabled:p,required:v,form:w}=t,x=U1(e),[g,_]=S.useState(null),[T,P]=S.useState(null),[I,A]=S.useState(!1),C=Ry(d),[E,N]=il({prop:n,defaultProp:i??!1,onChange:s,caller:vd}),[O,D]=il({prop:o,defaultProp:l,onChange:c,caller:vd}),L=S.useRef(null),$=g?w||!!g.closest("form"):!0,[F,G]=S.useState(new Set),Y=Array.from(F).map(K=>K.props.value).join(";");return a.jsx(Bk,{...x,children:a.jsxs(v6e,{required:v,scope:e,trigger:g,onTriggerChange:_,valueNode:T,onValueNodeChange:P,valueNodeHasChildren:I,onValueNodeHasChildrenChange:A,contentId:Oc(),value:O,onValueChange:D,open:E,onOpenChange:N,dir:C,triggerPointerDownPosRef:L,disabled:p,children:[a.jsx(B1.Provider,{scope:e,children:a.jsx(x6e,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(K=>{G(X=>new Set(X).add(K))},[]),onNativeOptionRemove:S.useCallback(K=>{G(X=>{const U=new Set(X);return U.delete(K),U})},[]),children:r})}),$?a.jsxs(QX,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:m,value:O,onChange:K=>D(K.target.value),disabled:p,form:w,children:[O===void 0?a.jsx("option",{value:""}):null,Array.from(F)]},Y):null]})})};TX.displayName=vd;var EX="SelectTrigger",PX=S.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=U1(r),o=Yc(EX,r),l=o.disabled||n,c=$t(e,o.onTriggerChange),d=q1(r),f=S.useRef("touch"),[m,p,v]=JX(x=>{const g=d().filter(P=>!P.disabled),_=g.find(P=>P.value===o.value),T=ZX(g,x,_);T!==void 0&&o.onValueChange(T.value)}),w=x=>{l||(o.onOpenChange(!0),v()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(qk,{asChild:!0,...s,children:a.jsx(wt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":XX(o.value)?"":void 0,...i,ref:c,onClick:Fe(i.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&w(x)}),onPointerDown:Fe(i.onPointerDown,x=>{f.current=x.pointerType;const g=x.target;g.hasPointerCapture(x.pointerId)&&g.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:Fe(i.onKeyDown,x=>{const g=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(g&&x.key===" ")&&p6e.includes(x.key)&&(w(),x.preventDefault())})})})});PX.displayName=EX;var AX="SelectValue",CX=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...l}=t,c=Yc(AX,r),{onValueNodeHasChildrenChange:d}=c,f=s!==void 0,m=$t(e,c.onValueNodeChange);return hi(()=>{d(f)},[d,f]),a.jsx(wt.span,{...l,ref:m,style:{pointerEvents:"none"},children:XX(c.value)?a.jsx(a.Fragment,{children:o}):s})});CX.displayName=AX;var w6e="SelectIcon",kX=S.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return a.jsx(wt.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});kX.displayName=w6e;var _6e="SelectPortal",IX=t=>a.jsx(Hw,{asChild:!0,...t});IX.displayName=_6e;var xd="SelectContent",OX=S.forwardRef((t,e)=>{const r=Yc(xd,t.__scopeSelect),[n,i]=S.useState();if(hi(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?ky.createPortal(a.jsx(RX,{scope:t.__scopeSelect,children:a.jsx(B1.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),s):null}return a.jsx(MX,{...t,ref:e})});OX.displayName=xd;var Zs=10,[RX,Qc]=bm(xd),j6e="SelectContentImpl",N6e=c6e("SelectContent.RemoveScroll"),MX=S.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:g,..._}=t,T=Yc(xd,r),[P,I]=S.useState(null),[A,C]=S.useState(null),E=$t(e,me=>I(me)),[N,O]=S.useState(null),[D,L]=S.useState(null),$=q1(r),[F,G]=S.useState(!1),Y=S.useRef(!1);S.useEffect(()=>{if(P)return jz(P)},[P]),H7();const K=S.useCallback(me=>{const[Ie,...fe]=$().map(he=>he.ref.current),[Pe]=fe.slice(-1),Re=document.activeElement;for(const he of me)if(he===Re||(he==null||he.scrollIntoView({block:"nearest"}),he===Ie&&A&&(A.scrollTop=0),he===Pe&&A&&(A.scrollTop=A.scrollHeight),he==null||he.focus(),document.activeElement!==Re))return},[$,A]),X=S.useCallback(()=>K([N,P]),[K,N,P]);S.useEffect(()=>{F&&X()},[F,X]);const{onOpenChange:U,triggerPointerDownPosRef:Q}=T;S.useEffect(()=>{if(P){let me={x:0,y:0};const Ie=Pe=>{var Re,he;me={x:Math.abs(Math.round(Pe.pageX)-(((Re=Q.current)==null?void 0:Re.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((he=Q.current)==null?void 0:he.y)??0))}},fe=Pe=>{me.x<=10&&me.y<=10?Pe.preventDefault():P.contains(Pe.target)||U(!1),document.removeEventListener("pointermove",Ie),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",fe,{capture:!0})}}},[P,U,Q]),S.useEffect(()=>{const me=()=>U(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[U]);const[ne,W]=JX(me=>{const Ie=$().filter(Re=>!Re.disabled),fe=Ie.find(Re=>Re.ref.current===document.activeElement),Pe=ZX(Ie,me,fe);Pe&&setTimeout(()=>Pe.ref.current.focus())}),Z=S.useCallback((me,Ie,fe)=>{const Pe=!Y.current&&!fe;(T.value!==void 0&&T.value===Ie||Pe)&&(O(me),Pe&&(Y.current=!0))},[T.value]),ue=S.useCallback(()=>P==null?void 0:P.focus(),[P]),le=S.useCallback((me,Ie,fe)=>{const Pe=!Y.current&&!fe;(T.value!==void 0&&T.value===Ie||Pe)&&L(me)},[T.value]),be=n==="popper"?hC:DX,ge=be===hC?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:g}:{};return a.jsx(RX,{scope:r,content:P,viewport:A,onViewportChange:C,itemRefCallback:Z,selectedItem:N,onItemLeave:ue,itemTextRefCallback:le,focusSelectedItem:X,selectedItemText:D,position:n,isPositioned:F,searchRef:ne,children:a.jsx(Wk,{as:N6e,allowPinchZoom:!0,children:a.jsx(Ik,{asChild:!0,trapped:T.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:Fe(i,me=>{var Ie;(Ie=T.trigger)==null||Ie.focus({preventScroll:!0}),me.preventDefault()}),children:a.jsx(Vw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:a.jsx(be,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:me=>me.preventDefault(),..._,...ge,onPlaced:()=>G(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Fe(_.onKeyDown,me=>{const Ie=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Ie&&me.key.length===1&&W(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let Pe=$().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(me.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Re=me.target,he=Pe.indexOf(Re);Pe=Pe.slice(he+1)}setTimeout(()=>K(Pe)),me.preventDefault()}})})})})})})});MX.displayName=j6e;var S6e="SelectItemAlignedPosition",DX=S.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Yc(xd,r),o=Qc(xd,r),[l,c]=S.useState(null),[d,f]=S.useState(null),m=$t(e,E=>f(E)),p=q1(r),v=S.useRef(!1),w=S.useRef(!0),{viewport:x,selectedItem:g,selectedItemText:_,focusSelectedItem:T}=o,P=S.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&x&&g&&_){const E=s.trigger.getBoundingClientRect(),N=d.getBoundingClientRect(),O=s.valueNode.getBoundingClientRect(),D=_.getBoundingClientRect();if(s.dir!=="rtl"){const Re=D.left-N.left,he=O.left-Re,ot=E.left-he,et=E.width+ot,kt=Math.max(et,N.width),It=window.innerWidth-Zs,Gt=cw(he,[Zs,Math.max(Zs,It-kt)]);l.style.minWidth=et+"px",l.style.left=Gt+"px"}else{const Re=N.right-D.right,he=window.innerWidth-O.right-Re,ot=window.innerWidth-E.right-he,et=E.width+ot,kt=Math.max(et,N.width),It=window.innerWidth-Zs,Gt=cw(he,[Zs,Math.max(Zs,It-kt)]);l.style.minWidth=et+"px",l.style.right=Gt+"px"}const L=p(),$=window.innerHeight-Zs*2,F=x.scrollHeight,G=window.getComputedStyle(d),Y=parseInt(G.borderTopWidth,10),K=parseInt(G.paddingTop,10),X=parseInt(G.borderBottomWidth,10),U=parseInt(G.paddingBottom,10),Q=Y+K+F+U+X,ne=Math.min(g.offsetHeight*5,Q),W=window.getComputedStyle(x),Z=parseInt(W.paddingTop,10),ue=parseInt(W.paddingBottom,10),le=E.top+E.height/2-Zs,be=$-le,ge=g.offsetHeight/2,me=g.offsetTop+ge,Ie=Y+K+me,fe=Q-Ie;if(Ie<=le){const Re=L.length>0&&g===L[L.length-1].ref.current;l.style.bottom="0px";const he=d.clientHeight-x.offsetTop-x.offsetHeight,ot=Math.max(be,ge+(Re?ue:0)+he+X),et=Ie+ot;l.style.height=et+"px"}else{const Re=L.length>0&&g===L[0].ref.current;l.style.top="0px";const ot=Math.max(le,Y+x.offsetTop+(Re?Z:0)+ge)+fe;l.style.height=ot+"px",x.scrollTop=Ie-le+x.offsetTop}l.style.margin=`${Zs}px 0`,l.style.minHeight=ne+"px",l.style.maxHeight=$+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[p,s.trigger,s.valueNode,l,d,x,g,_,s.dir,n]);hi(()=>P(),[P]);const[I,A]=S.useState();hi(()=>{d&&A(window.getComputedStyle(d).zIndex)},[d]);const C=S.useCallback(E=>{E&&w.current===!0&&(P(),T==null||T(),w.current=!1)},[P,T]);return a.jsx(E6e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:C,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:a.jsx(wt.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});DX.displayName=S6e;var T6e="SelectPopperPosition",hC=S.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Zs,...s}=t,o=U1(r);return a.jsx(Uk,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hC.displayName=T6e;var[E6e,UO]=bm(xd,{}),fC="SelectViewport",LX=S.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=Qc(fC,r),o=UO(fC,r),l=$t(e,s.onViewportChange),c=S.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(B1.Slot,{scope:r,children:a.jsx(wt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Fe(i.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&m){const v=Math.abs(c.current-f.scrollTop);if(v>0){const w=window.innerHeight-Zs*2,x=parseFloat(m.style.minHeight),g=parseFloat(m.style.height),_=Math.max(x,g);if(_<w){const T=_+v,P=Math.min(w,T),I=T-P;m.style.height=P+"px",m.style.bottom==="0px"&&(f.scrollTop=I>0?I:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});LX.displayName=fC;var $X="SelectGroup",[P6e,A6e]=bm($X),C6e=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Oc();return a.jsx(P6e,{scope:r,id:i,children:a.jsx(wt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});C6e.displayName=$X;var FX="SelectLabel",VX=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=A6e(FX,r);return a.jsx(wt.div,{id:i.id,...n,ref:e})});VX.displayName=FX;var uw="SelectItem",[k6e,BX]=bm(uw),qX=S.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,l=Yc(uw,r),c=Qc(uw,r),d=l.value===n,[f,m]=S.useState(s??""),[p,v]=S.useState(!1),w=$t(e,T=>{var P;return(P=c.itemRefCallback)==null?void 0:P.call(c,T,n,i)}),x=Oc(),g=S.useRef("touch"),_=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(k6e,{scope:r,value:n,disabled:i,textId:x,isSelected:d,onItemTextChange:S.useCallback(T=>{m(P=>P||((T==null?void 0:T.textContent)??"").trim())},[]),children:a.jsx(B1.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:a.jsx(wt.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:w,onFocus:Fe(o.onFocus,()=>v(!0)),onBlur:Fe(o.onBlur,()=>v(!1)),onClick:Fe(o.onClick,()=>{g.current!=="mouse"&&_()}),onPointerUp:Fe(o.onPointerUp,()=>{g.current==="mouse"&&_()}),onPointerDown:Fe(o.onPointerDown,T=>{g.current=T.pointerType}),onPointerMove:Fe(o.onPointerMove,T=>{var P;g.current=T.pointerType,i?(P=c.onItemLeave)==null||P.call(c):g.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(o.onPointerLeave,T=>{var P;T.currentTarget===document.activeElement&&((P=c.onItemLeave)==null||P.call(c))}),onKeyDown:Fe(o.onKeyDown,T=>{var I;((I=c.searchRef)==null?void 0:I.current)!==""&&T.key===" "||(g6e.includes(T.key)&&_(),T.key===" "&&T.preventDefault())})})})})});qX.displayName=uw;var Lp="SelectItemText",UX=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=Yc(Lp,r),l=Qc(Lp,r),c=BX(Lp,r),d=b6e(Lp,r),[f,m]=S.useState(null),p=$t(e,_=>m(_),c.onItemTextChange,_=>{var T;return(T=l.itemTextRefCallback)==null?void 0:T.call(l,_,c.value,c.disabled)}),v=f==null?void 0:f.textContent,w=S.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:g}=d;return hi(()=>(x(w),()=>g(w)),[x,g,w]),a.jsxs(a.Fragment,{children:[a.jsx(wt.span,{id:c.textId,...s,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ky.createPortal(s.children,o.valueNode):null]})});UX.displayName=Lp;var zX="SelectItemIndicator",WX=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return BX(zX,r).isSelected?a.jsx(wt.span,{"aria-hidden":!0,...n,ref:e}):null});WX.displayName=zX;var mC="SelectScrollUpButton",HX=S.forwardRef((t,e)=>{const r=Qc(mC,t.__scopeSelect),n=UO(mC,t.__scopeSelect),[i,s]=S.useState(!1),o=$t(e,n.onScrollButtonChange);return hi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(KX,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});HX.displayName=mC;var pC="SelectScrollDownButton",GX=S.forwardRef((t,e)=>{const r=Qc(pC,t.__scopeSelect),n=UO(pC,t.__scopeSelect),[i,s]=S.useState(!1),o=$t(e,n.onScrollButtonChange);return hi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;s(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(KX,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});GX.displayName=pC;var KX=S.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=Qc("SelectScrollButton",r),o=S.useRef(null),l=q1(r),c=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),hi(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),a.jsx(wt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Fe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Fe(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Fe(i.onPointerLeave,()=>{c()})})}),I6e="SelectSeparator",YX=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(wt.div,{"aria-hidden":!0,...n,ref:e})});YX.displayName=I6e;var gC="SelectArrow",O6e=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=U1(r),s=Yc(gC,r),o=Qc(gC,r);return s.open&&o.position==="popper"?a.jsx(zk,{...i,...n,ref:e}):null});O6e.displayName=gC;var R6e="SelectBubbleInput",QX=S.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=S.useRef(null),s=$t(n,i),o=V1(e);return S.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const m=new Event("change",{bubbles:!0});f.call(l,e),l.dispatchEvent(m)}},[o,e]),a.jsx(wt.select,{...r,style:{...fX,...r.style},ref:s,defaultValue:e})});QX.displayName=R6e;function XX(t){return t===""||t===void 0}function JX(t){const e=io(t),r=S.useRef(""),n=S.useRef(0),i=S.useCallback(o=>{const l=r.current+o;e(l),(function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),s=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function ZX(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=M6e(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function M6e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var D6e=TX,eJ=PX,L6e=CX,$6e=kX,F6e=IX,tJ=OX,V6e=LX,rJ=VX,nJ=qX,B6e=UX,q6e=WX,iJ=HX,sJ=GX,aJ=YX;const ci=D6e,ui=L6e,Wn=S.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(eJ,{ref:n,className:vt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx($6e,{asChild:!0,children:a.jsx(Ek,{className:"h-4 w-4 opacity-50"})})]}));Wn.displayName=eJ.displayName;const oJ=S.forwardRef(({className:t,...e},r)=>a.jsx(iJ,{ref:r,className:vt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(uue,{className:"h-4 w-4"})}));oJ.displayName=iJ.displayName;const lJ=S.forwardRef(({className:t,...e},r)=>a.jsx(sJ,{ref:r,className:vt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Ek,{className:"h-4 w-4"})}));lJ.displayName=sJ.displayName;const Hn=S.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>a.jsx(F6e,{children:a.jsxs(tJ,{ref:i,className:vt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(oJ,{}),a.jsx(V6e,{className:vt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(lJ,{})]})}));Hn.displayName=tJ.displayName;const U6e=S.forwardRef(({className:t,...e},r)=>a.jsx(rJ,{ref:r,className:vt("px-2 py-1.5 text-sm font-semibold",t),...e}));U6e.displayName=rJ.displayName;const Ze=S.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(nJ,{ref:n,className:vt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(q6e,{children:a.jsx(Mr,{className:"h-4 w-4"})})}),a.jsx(B6e,{children:e})]}));Ze.displayName=nJ.displayName;const z6e=S.forwardRef(({className:t,...e},r)=>a.jsx(aJ,{ref:r,className:vt("-mx-1 my-1 h-px bg-muted",t),...e}));z6e.displayName=aJ.displayName;function W6e({childEmail:t,childGoals:e,childProgress:r,childDailyChallenges:n}){const i=vn(),[s,o]=S.useState(!1),[l,c]=S.useState({goal_type:"total_stars",target_value:10,title:"",description:"",reward_message:"",operation:"",level:"",due_date:""}),d=Pr({mutationFn:async g=>{const _=cr(Bt);await bk(An(_,"customGoals"),{...g,child_email:t})},onSuccess:()=>{i.invalidateQueries({queryKey:["childGoals"]}),o(!1),c({goal_type:"total_stars",target_value:10,title:"",description:"",reward_message:"",operation:"",level:"",due_date:""})}}),f=Pr({mutationFn:async g=>{const _=cr(Bt);await xk(ds(_,"customGoals",g))},onSuccess:()=>{i.invalidateQueries({queryKey:["childGoals"]})}}),m=Pr({mutationFn:async({goalId:g,data:_})=>{const T=cr(Bt);await ad(ds(T,"customGoals",g),_,{merge:!0})},onSuccess:()=>{i.invalidateQueries({queryKey:["childGoals"]})}}),p=g=>{let _=0;switch(g.goal_type){case"total_stars":_=r.reduce((P,I)=>P+(I.stars_earned||0),0);break;case"games_played":_=r.length;break;case"accuracy":if(r.length>0){const P=r.reduce((I,A)=>I+A.correct_answers/A.total_questions*100,0);_=Math.round(P/r.length)}break;case"daily_streak":_=v();break;case"specific_operation":_=r.filter(P=>P.operation===g.operation&&(!g.level||P.level===g.level)).length;break}return _!==g.current_value&&m.mutate({goalId:g.id,data:{current_value:_}}),_>=g.target_value&&!g.is_completed&&m.mutate({goalId:g.id,data:{is_completed:!0}}),_},v=()=>{if(n.length===0)return 0;const g=[...n].sort((P,I)=>new Date(I.challenge_date)-new Date(P.challenge_date));let _=0,T=new Date;for(const P of g){const I=new Date(P.challenge_date);if(Math.floor((T-I)/(1e3*60*60*24))===_)_++;else break}return _},w=()=>{l.title&&d.mutate(l)},x={total_stars:"Total Stars",games_played:"Games Played",accuracy:"Average Accuracy",daily_streak:"Daily Streak",specific_operation:"Practice Specific Operation"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Qt,{className:"w-6 h-6 text-purple-500"}),"Custom Goals & Challenges"]}),a.jsxs(oe,{onClick:()=>o(!s),className:"bg-purple-500 hover:bg-purple-600",children:[a.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Add Goal"]})]}),s&&a.jsxs(te,{className:"border-2 border-purple-300",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsx(Ne,{children:"Create New Goal"})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"title",children:"Goal Title"}),a.jsx(pr,{id:"title",value:l.title,onChange:g=>c({...l,title:g.target.value}),placeholder:"e.g., Master Multiplication"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"goal_type",children:"Goal Type"}),a.jsxs(ci,{value:l.goal_type,onValueChange:g=>c({...l,goal_type:g}),children:[a.jsx(Wn,{children:a.jsx(ui,{})}),a.jsx(Hn,{children:Object.entries(x).map(([g,_])=>a.jsx(Ze,{value:g,children:_},g))})]})]}),l.goal_type==="specific_operation"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"operation",children:"Operation"}),a.jsxs(ci,{value:l.operation,onValueChange:g=>c({...l,operation:g}),children:[a.jsx(Wn,{children:a.jsx(ui,{placeholder:"Select operation"})}),a.jsxs(Hn,{children:[a.jsx(Ze,{value:"addition",children:"Addition"}),a.jsx(Ze,{value:"subtraction",children:"Subtraction"}),a.jsx(Ze,{value:"multiplication",children:"Multiplication"}),a.jsx(Ze,{value:"division",children:"Division"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"level",children:"Level (Optional)"}),a.jsxs(ci,{value:l.level,onValueChange:g=>c({...l,level:g}),children:[a.jsx(Wn,{children:a.jsx(ui,{placeholder:"Any level"})}),a.jsxs(Hn,{children:[a.jsx(Ze,{value:null,children:"Any Level"}),a.jsx(Ze,{value:"easy",children:"Easy"}),a.jsx(Ze,{value:"medium",children:"Medium"}),a.jsx(Ze,{value:"hard",children:"Hard"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"target",children:"Target Value"}),a.jsx(pr,{id:"target",type:"number",min:"1",value:l.target_value,onChange:g=>c({...l,target_value:parseInt(g.target.value)})}),a.jsx("p",{className:"text-sm text-gray-500",children:l.goal_type==="accuracy"?"Target percentage (e.g., 80 for 80%)":"Target number"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"description",children:"Description (Optional)"}),a.jsx(yd,{id:"description",value:l.description,onChange:g=>c({...l,description:g.target.value}),placeholder:"Additional details about this goal..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"reward",children:"Reward Message (Optional)"}),a.jsx(pr,{id:"reward",value:l.reward_message,onChange:g=>c({...l,reward_message:g.target.value}),placeholder:"e.g., Great job! You're a multiplication master!"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"due_date",children:"Due Date (Optional)"}),a.jsx(pr,{id:"due_date",type:"date",value:l.due_date,onChange:g=>c({...l,due_date:g.target.value})})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(oe,{onClick:w,className:"flex-1 bg-purple-500 hover:bg-purple-600",disabled:!l.title||d.isPending,children:d.isPending?"Creating...":"Create Goal"}),a.jsx(oe,{variant:"outline",onClick:()=>o(!1),children:"Cancel"})]})]})]}),a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(re,{className:"p-12 text-center",children:[a.jsx(Qt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"No goals set yet"}),a.jsx("p",{className:"text-gray-500",children:"Create custom goals to motivate and track progress"})]})}):e.map(g=>{const _=p(g),T=Math.min(_/g.target_value*100,100),P=g.is_completed||_>=g.target_value;return a.jsxs(te,{className:`border-2 ${P?"border-green-300 bg-green-50":"border-purple-200"}`,children:[a.jsx(_e,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs(Ne,{className:"flex items-center gap-2",children:[P?a.jsx(Ut,{className:"w-6 h-6 text-green-600"}):a.jsx(Qt,{className:"w-6 h-6 text-purple-500"}),g.title]}),a.jsx(je,{variant:"outline",children:x[g.goal_type]}),P&&a.jsx(je,{className:"bg-green-500",children:"Completed!"})]}),g.description&&a.jsx("p",{className:"text-sm text-gray-600",children:g.description}),g.due_date&&a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[a.jsx(Wr,{className:"w-4 h-4"}),"Due: ",ur(new Date(g.due_date),"MMM d, yyyy")]})]}),a.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>f.mutate(g.id),className:"text-gray-400 hover:text-red-600",children:a.jsx(Iy,{className:"w-5 h-5"})})]})}),a.jsx(re,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-medium",children:"Progress"}),a.jsxs("span",{className:"font-bold",children:[_," / ",g.target_value,g.goal_type==="accuracy"&&"%"]})]}),a.jsx(ol,{value:T,className:"h-3"}),P&&g.reward_message&&a.jsx("div",{className:"bg-green-100 border-2 border-green-300 rounded-lg p-3 text-center",children:a.jsxs("p",{className:"text-sm font-medium text-green-800",children:[" ",g.reward_message]})})]})})]},g.id)})})]})}function H6e({childProgress:t,childDailyChallenges:e}){const n=[...t.map(o=>({...o,type:"game"})),...e.map(o=>({...o,type:"daily"}))].sort((o,l)=>new Date(l.created_date)-new Date(o.created_date)).slice(0,20),i={addition:"",subtraction:"",multiplication:"",division:""},s={easy:"bg-green-500",medium:"bg-yellow-500",hard:"bg-red-500"};return n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wr,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600",children:"No activity recorded yet"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Activities will appear here as the child plays"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Wr,{className:"w-6 h-6 text-purple-500"}),"Recent Activity Timeline"]}),a.jsx("div",{className:"space-y-3",children:n.map((o,l)=>{const c=Math.round(o.correct_answers/o.total_questions*100);return a.jsx(te,{className:"border-2 border-gray-200 hover:shadow-md transition-shadow",children:a.jsx(re,{className:"p-4",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl flex items-center justify-center flex-shrink-0",children:o.type==="daily"?a.jsx(Wr,{className:"w-6 h-6 text-purple-600"}):a.jsx("span",{className:"text-2xl",children:i[o.operation]})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[o.type==="daily"?a.jsx("h4",{className:"font-bold text-lg",children:"Daily Challenge"}):a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"font-bold text-lg capitalize",children:o.operation}),a.jsx(je,{className:s[o.level]+" text-white",children:o.level})]}),a.jsx("span",{className:"text-sm text-gray-500",children:ur(new Date(o.created_date),"MMM d, h:mm a")})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ct,{className:"w-4 h-4 text-purple-500"}),a.jsxs("span",{className:"font-medium",children:[o.score," pts"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qt,{className:"w-4 h-4 text-green-500"}),a.jsxs("span",{className:"font-medium",children:[o.correct_answers,"/",o.total_questions," (",c,"%)"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wr,{className:"w-4 h-4 text-blue-500"}),a.jsxs("span",{className:"font-medium",children:[o.time_taken,"s"]})]}),o.stars_earned!==void 0&&a.jsx("div",{className:"flex items-center gap-1",children:[...Array(3)].map((d,f)=>a.jsx(Nt,{className:`w-4 h-4 ${f<o.stars_earned?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},f))}),o.bonus_stars!==void 0&&o.bonus_stars>0&&a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs(je,{className:"bg-yellow-500 text-white",children:["+",o.bonus_stars," Bonus "]})})]})]})]})})})},l)})})]})}var z1="Checkbox",[G6e]=ga(z1),[K6e,zO]=G6e(z1);function Y6e(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:d,value:f="on",internal_do_not_use_render:m}=t,[p,v]=il({prop:r,defaultProp:i??!1,onChange:c,caller:z1}),[w,x]=S.useState(null),[g,_]=S.useState(null),T=S.useRef(!1),P=w?!!o||!!w.closest("form"):!0,I={checked:p,disabled:s,setChecked:v,control:w,setControl:x,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:T,required:d,defaultChecked:Nc(i)?!1:i,isFormControl:P,bubbleInput:g,setBubbleInput:_};return a.jsx(K6e,{scope:e,...I,children:Q6e(m)?m(I):n})}var cJ="CheckboxTrigger",uJ=S.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:s,value:o,disabled:l,checked:c,required:d,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:w}=zO(cJ,t),x=$t(i,f),g=S.useRef(c);return S.useEffect(()=>{const _=s==null?void 0:s.form;if(_){const T=()=>m(g.current);return _.addEventListener("reset",T),()=>_.removeEventListener("reset",T)}},[s,m]),a.jsx(wt.button,{type:"button",role:"checkbox","aria-checked":Nc(c)?"mixed":c,"aria-required":d,"data-state":pJ(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:x,onKeyDown:Fe(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Fe(r,_=>{m(T=>Nc(T)?!0:!T),w&&v&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})})});uJ.displayName=cJ;var WO=S.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:d,form:f,...m}=t;return a.jsx(Y6e,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:d,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:p})=>a.jsxs(a.Fragment,{children:[a.jsx(uJ,{...m,ref:e,__scopeCheckbox:r}),p&&a.jsx(mJ,{__scopeCheckbox:r})]})})});WO.displayName=z1;var dJ="CheckboxIndicator",hJ=S.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=zO(dJ,r);return a.jsx(vl,{present:n||Nc(s.checked)||s.checked===!0,children:a.jsx(wt.span,{"data-state":pJ(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});hJ.displayName=dJ;var fJ="CheckboxBubbleInput",mJ=S.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:d,value:f,form:m,bubbleInput:p,setBubbleInput:v}=zO(fJ,t),w=$t(r,v),x=V1(s),g=Ww(n);S.useEffect(()=>{const T=p;if(!T)return;const P=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(P,"checked").set,C=!i.current;if(x!==s&&A){const E=new Event("click",{bubbles:C});T.indeterminate=Nc(s),A.call(T,Nc(s)?!1:s),T.dispatchEvent(E)}},[p,x,s,i]);const _=S.useRef(Nc(s)?!1:s);return a.jsx(wt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:l,disabled:c,name:d,value:f,form:m,...e,tabIndex:-1,ref:w,style:{...e.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});mJ.displayName=fJ;function Q6e(t){return typeof t=="function"}function Nc(t){return t==="indeterminate"}function pJ(t){return Nc(t)?"indeterminate":t?"checked":"unchecked"}const gJ=S.forwardRef(({className:t,...e},r)=>a.jsx(WO,{ref:r,className:vt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(hJ,{className:vt("flex items-center justify-center text-current"),children:a.jsx(Mr,{className:"h-4 w-4"})})}));gJ.displayName=WO.displayName;function X6e(){var w;const t=vn(),[e,r]=S.useState(!1),[n,i]=S.useState([]),[s,o]=S.useState({challenge_name:"",challenge_type:"team_score",target_value:1e3,description:"",start_date:new Date().toISOString().split("T")[0],end_date:"",reward_stars:10,reward_coins:50,reward_message:"",specific_operation:"any",specific_level:"any"}),{data:l}=ut({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:c=[]}=ut({queryKey:["allUsers"],queryFn:()=>base44.entities.User.list(),initialData:[]}),d=c.filter(x=>x.parent_email===(l==null?void 0:l.email)),f=Pr({mutationFn:x=>base44.entities.TeamChallenge.create(x),onSuccess:()=>{t.invalidateQueries({queryKey:["teamChallenges"]}),t.invalidateQueries({queryKey:["myTeamChallenges"]}),r(!1),i([]),o({challenge_name:"",challenge_type:"team_score",target_value:1e3,description:"",start_date:new Date().toISOString().split("T")[0],end_date:"",reward_stars:10,reward_coins:50,reward_message:"",specific_operation:"any",specific_level:"any"})}}),m=()=>{!s.challenge_name||n.length===0||f.mutate({...s,creator_email:l.email,team_members:n})},p=x=>{n.includes(x)?i(n.filter(g=>g!==x)):i([...n,x])},v=[{value:"team_score",label:"Team Score Challenge",description:"Combine all team members' scores"},{value:"combined_accuracy",label:"Combined Accuracy Goal",description:"Average accuracy across all members"},{value:"total_games",label:"Total Games Challenge",description:"Total number of games played by the team"},{value:"total_stars",label:"Star Collection Challenge",description:"Collect stars together as a team"},{value:"daily_streak_sum",label:"Daily Challenge Streak",description:"Combined daily challenge completions"},{value:"speed_challenge",label:"Speed Challenge",description:"Best (fastest) time from any team member"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(yn,{className:"w-6 h-6 text-purple-500"}),"Team Challenges"]}),a.jsxs(oe,{onClick:()=>r(!e),className:"bg-purple-500 hover:bg-purple-600",children:[a.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Create Team Challenge"]})]}),e&&a.jsxs(te,{className:"border-2 border-purple-300",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsx(Ne,{children:"Create New Team Challenge"})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"challenge_name",children:"Challenge Name"}),a.jsx(pr,{id:"challenge_name",value:s.challenge_name,onChange:x=>o({...s,challenge_name:x.target.value}),placeholder:"e.g., Family Math Marathon"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"challenge_type",children:"Challenge Type"}),a.jsxs(ci,{value:s.challenge_type,onValueChange:x=>o({...s,challenge_type:x}),children:[a.jsx(Wn,{children:a.jsx(ui,{})}),a.jsx(Hn,{children:v.map(x=>a.jsx(Ze,{value:x.value,children:x.label},x.value))})]}),a.jsx("p",{className:"text-sm text-gray-600",children:(w=v.find(x=>x.value===s.challenge_type))==null?void 0:w.description})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"specific_operation",children:"Specific Operation (Optional)"}),a.jsxs(ci,{value:s.specific_operation,onValueChange:x=>o({...s,specific_operation:x}),children:[a.jsx(Wn,{children:a.jsx(ui,{})}),a.jsxs(Hn,{children:[a.jsx(Ze,{value:"any",children:"Any Operation"}),a.jsx(Ze,{value:"addition",children:"Addition Only"}),a.jsx(Ze,{value:"subtraction",children:"Subtraction Only"}),a.jsx(Ze,{value:"multiplication",children:"Multiplication Only"}),a.jsx(Ze,{value:"division",children:"Division Only"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"specific_level",children:"Specific Level (Optional)"}),a.jsxs(ci,{value:s.specific_level,onValueChange:x=>o({...s,specific_level:x}),children:[a.jsx(Wn,{children:a.jsx(ui,{})}),a.jsxs(Hn,{children:[a.jsx(Ze,{value:"any",children:"Any Level"}),a.jsx(Ze,{value:"easy",children:"Easy Only"}),a.jsx(Ze,{value:"medium",children:"Medium Only"}),a.jsx(Ze,{value:"hard",children:"Hard Only"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"target_value",children:"Target Value"}),a.jsx(pr,{id:"target_value",type:"number",min:"1",value:s.target_value,onChange:x=>o({...s,target_value:parseInt(x.target.value)})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"start_date",children:"Start Date"}),a.jsx(pr,{id:"start_date",type:"date",value:s.start_date,onChange:x=>o({...s,start_date:x.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"end_date",children:"End Date (Optional)"}),a.jsx(pr,{id:"end_date",type:"date",value:s.end_date,onChange:x=>o({...s,end_date:x.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"description",children:"Description (Optional)"}),a.jsx(yd,{id:"description",value:s.description,onChange:x=>o({...s,description:x.target.value}),placeholder:"Describe the challenge..."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"reward_stars",children:"Reward Stars (per member)"}),a.jsx(pr,{id:"reward_stars",type:"number",min:"0",value:s.reward_stars,onChange:x=>o({...s,reward_stars:parseInt(x.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"reward_coins",children:"Reward Coins (per member)"}),a.jsx(pr,{id:"reward_coins",type:"number",min:"0",value:s.reward_coins,onChange:x=>o({...s,reward_coins:parseInt(x.target.value)})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"reward_message",children:"Reward Message (Optional)"}),a.jsx(pr,{id:"reward_message",value:s.reward_message,onChange:x=>o({...s,reward_message:x.target.value}),placeholder:"e.g., Amazing teamwork! You did it together!"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{children:"Select Team Members"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2 max-h-60 overflow-y-auto",children:d.length===0?a.jsx("p",{className:"text-gray-600 text-sm",children:"No children linked to your account"}):d.map(x=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gJ,{id:x.email,checked:n.includes(x.email),onCheckedChange:()=>p(x.email)}),a.jsx(at,{htmlFor:x.email,className:"cursor-pointer flex-1",children:x.child_name||x.full_name||x.email})]},x.email))}),n.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.map(x=>{const g=d.find(_=>_.email===x);return a.jsxs(je,{className:"bg-purple-500 text-white",children:[(g==null?void 0:g.child_name)||(g==null?void 0:g.full_name)||x,a.jsx("button",{onClick:()=>p(x),className:"ml-2 hover:bg-purple-600 rounded-full",children:a.jsx(Sn,{className:"w-3 h-3"})})]},x)})})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(oe,{onClick:m,className:"flex-1 bg-purple-500 hover:bg-purple-600",disabled:!s.challenge_name||n.length===0||f.isPending,children:f.isPending?"Creating...":"Create Challenge"}),a.jsx(oe,{variant:"outline",onClick:()=>r(!1),children:"Cancel"})]})]})]})]})}var W1="Switch",[J6e]=ga(W1),[Z6e,eLe]=J6e(W1),yJ=S.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...m}=t,[p,v]=S.useState(null),w=$t(e,P=>v(P)),x=S.useRef(!1),g=p?f||!!p.closest("form"):!0,[_,T]=il({prop:i,defaultProp:s??!1,onChange:d,caller:W1});return a.jsxs(Z6e,{scope:r,checked:_,disabled:l,children:[a.jsx(wt.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":wJ(_),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:w,onClick:Fe(t.onClick,P=>{T(I=>!I),g&&(x.current=P.isPropagationStopped(),x.current||P.stopPropagation())})}),g&&a.jsx(bJ,{control:p,bubbles:!x.current,name:n,value:c,checked:_,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});yJ.displayName=W1;var vJ="SwitchThumb",xJ=S.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=eLe(vJ,r);return a.jsx(wt.span,{"data-state":wJ(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});xJ.displayName=vJ;var tLe="SwitchBubbleInput",bJ=S.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const o=S.useRef(null),l=$t(o,s),c=V1(r),d=Ww(e);return S.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&v){const w=new Event("click",{bubbles:n});v.call(f,r),f.dispatchEvent(w)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bJ.displayName=tLe;function wJ(t){return t?"checked":"unchecked"}var _J=yJ,rLe=xJ;const yC=S.forwardRef(({className:t,...e},r)=>a.jsx(_J,{className:vt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:a.jsx(rLe,{className:vt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));yC.displayName=_J.displayName;function nLe({childEmail:t,currentControls:e}){const r=vn(),[n,i]=S.useState(!1),[s,o]=S.useState({daily_time_limit_minutes:0,time_limits_by_operation:{},enforce_time_limits:!0,time_limit_warning_minutes:5,allowed_operations:["addition","subtraction","multiplication","division"],allowed_levels:["easy","medium","hard"],blocked_features:[],focus_operations:[],focus_priority:"suggest",focus_reminder_frequency:"daily",weekly_goal_games:0,weekly_goal_stars:0,monthly_goal_games:0,monthly_goal_accuracy:0}),[l,c]=S.useState([]),[d,f]=S.useState(!1),[m,p]=S.useState({title:"",description:"",target_type:"games_completed",target_value:10,operation:"any",level:"any",deadline:""});S.useEffect(()=>{e&&(o({...s,...e}),e.custom_learning_goals&&c(e.custom_learning_goals))},[e]);const v=Pr({mutationFn:async()=>{const N=cr(Bt),D=(await Si(An(N,"users"))).docs.find(L=>L.data().email===t);if(!D)throw new Error("Child not found");await ad(ds(N,"users",D.id),{parental_controls:{...s,custom_learning_goals:l}},{merge:!0})},onSuccess:()=>{r.invalidateQueries({queryKey:["allUsers"]}),i(!0),setTimeout(()=>i(!1),3e3)}}),w=()=>{v.mutate()},x=[{id:"addition",name:"Addition",emoji:""},{id:"subtraction",name:"Subtraction",emoji:""},{id:"multiplication",name:"Multiplication",emoji:""},{id:"division",name:"Division",emoji:""},{id:"fractions",name:"Fractions",emoji:""},{id:"decimals",name:"Decimals",emoji:"0.5"},{id:"percentages",name:"Percentages",emoji:"%"},{id:"word_problems",name:"Word Problems",emoji:""},{id:"money",name:"Money Math",emoji:""},{id:"time",name:"Time",emoji:""},{id:"geometry",name:"Geometry",emoji:""},{id:"mixed",name:"Mixed",emoji:""}],g=[{id:"easy",name:"Easy"},{id:"medium",name:"Medium"},{id:"hard",name:"Hard"},{id:"expert",name:"Expert"}],_=[{id:"shop",name:"Shop",description:"Disable access to the rewards shop"},{id:"leaderboards",name:"Leaderboards",description:"Hide competitive leaderboards"},{id:"team_challenges",name:"Team Challenges",description:"Disable team-based challenges"},{id:"daily_challenge",name:"Daily Challenge",description:"Disable daily challenges"},{id:"power_ups",name:"Power-Ups",description:"Prevent using power-ups in games"}],T=(N,O)=>{const D=O==="allowed"?"allowed_operations":"focus_operations",L=s[D];L.includes(N)?o({...s,[D]:L.filter($=>$!==N)}):o({...s,[D]:[...L,N]})},P=N=>{const O=s.allowed_levels;O.includes(N)?o({...s,allowed_levels:O.filter(D=>D!==N)}):o({...s,allowed_levels:[...O,N]})},I=N=>{const O=s.blocked_features||[];O.includes(N)?o({...s,blocked_features:O.filter(D=>D!==N)}):o({...s,blocked_features:[...O,N]})},A=(N,O)=>{o({...s,time_limits_by_operation:{...s.time_limits_by_operation||{},[N]:parseInt(O)||0}})},C=()=>{m.title&&(c([...l,{...m,id:Date.now().toString()}]),p({title:"",description:"",target_type:"games_completed",target_value:10,operation:"any",level:"any",deadline:""}),f(!1))},E=N=>{c(l.filter(O=>O.id!==N))};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Vi,{className:"w-6 h-6 text-blue-600"}),"Advanced Parental Controls"]})}),n&&a.jsxs(ze,{className:"bg-green-50 border-green-200",children:[a.jsx(Hx,{className:"w-4 h-4 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx(Ut,{className:"w-4 h-4 inline mr-2"}),"Settings saved successfully! Changes are now active."]})]}),a.jsxs(Vc,{defaultValue:"time-limits",className:"w-full",children:[a.jsxs(pl,{className:"grid w-full grid-cols-4",children:[a.jsxs(St,{value:"time-limits",children:[a.jsx(wr,{className:"w-4 h-4 mr-2"}),"Time Limits"]}),a.jsxs(St,{value:"content",children:[a.jsx(oi,{className:"w-4 h-4 mr-2"}),"Content Filter"]}),a.jsxs(St,{value:"focus",children:[a.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Focus Topics"]}),a.jsxs(St,{value:"goals",children:[a.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Custom Goals"]})]}),a.jsx(Dt,{value:"time-limits",className:"space-y-6",children:a.jsxs(te,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(wr,{className:"w-5 h-5 text-blue-600"}),"Daily Time Limits"]})}),a.jsxs(re,{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(at,{htmlFor:"daily_limit",className:"text-base font-bold",children:"Overall Daily Time Limit"}),a.jsx(yC,{checked:s.enforce_time_limits,onCheckedChange:N=>o({...s,enforce_time_limits:N})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(pr,{id:"daily_limit",type:"number",min:"0",max:"480",value:s.daily_time_limit_minutes,onChange:N=>o({...s,daily_time_limit_minutes:parseInt(N.target.value)||0}),className:"max-w-xs",disabled:!s.enforce_time_limits}),a.jsx("span",{className:"text-gray-600",children:"minutes per day"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:s.daily_time_limit_minutes===0?"Set to 0 for unlimited time":`Child can use the app for ${s.daily_time_limit_minutes} minutes per day`})]}),a.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[a.jsx(at,{htmlFor:"warning_time",className:"text-base font-bold",children:"Time Limit Warning"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(pr,{id:"warning_time",type:"number",min:"1",max:"30",value:s.time_limit_warning_minutes,onChange:N=>o({...s,time_limit_warning_minutes:parseInt(N.target.value)||5}),className:"max-w-xs",disabled:!s.enforce_time_limits||s.daily_time_limit_minutes===0}),a.jsx("span",{className:"text-gray-600",children:"minutes before limit"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Show a warning when this many minutes remain"})]}),a.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[a.jsx(at,{className:"text-base font-bold",children:"Time Limits by Math Concept (Optional)"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Set specific time limits for individual math concepts. Leave at 0 for no limit."}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:x.map(N=>{var O;return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-2xl",children:N.emoji}),a.jsx("div",{className:"flex-1",children:a.jsx(at,{className:"text-sm font-medium",children:N.name})}),a.jsx(pr,{type:"number",min:"0",max:"120",value:((O=s.time_limits_by_operation)==null?void 0:O[N.id])||0,onChange:D=>A(N.id,D.target.value),className:"w-20",disabled:!s.enforce_time_limits}),a.jsx("span",{className:"text-xs text-gray-500",children:"min"})]},N.id)})})]}),a.jsxs(ze,{className:"bg-yellow-50 border-yellow-200",children:[a.jsx(zn,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"How it works:"})," Time limits are enforced per calendar day. When time runs out, your child will be notified and games will be locked until the next day."]})]})]})]})}),a.jsxs(Dt,{value:"content",className:"space-y-6",children:[a.jsxs(te,{className:"border-2 border-green-200",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(oi,{className:"w-5 h-5 text-green-600"}),"Allowed Math Concepts"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select which math concepts your child can access. At least one must be selected."}),a.jsx("div",{className:"grid md:grid-cols-3 gap-3",children:x.map(N=>a.jsx("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer ${s.allowed_operations.includes(N.id)?"border-green-500 bg-green-50":"border-gray-200 bg-gray-50"}`,onClick:()=>T(N.id,"allowed"),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:N.emoji}),a.jsx("div",{className:"text-sm font-medium",children:N.name})]})},N.id))}),a.jsxs(ze,{className:"bg-yellow-50 border-yellow-200 mt-4",children:[a.jsx(zn,{className:"w-4 h-4 text-yellow-600"}),a.jsx(We,{className:"text-yellow-800 text-sm",children:"At least one operation must be allowed for your child to play games."})]})]})]}),a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(oi,{className:"w-5 h-5 text-purple-600"}),"Allowed Difficulty Levels"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Control which difficulty levels your child can play."}),a.jsx("div",{className:"grid grid-cols-4 gap-3",children:g.map(N=>a.jsx("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer ${s.allowed_levels.includes(N.id)?"border-purple-500 bg-purple-50":"border-gray-200 bg-gray-50"}`,onClick:()=>P(N.id),children:a.jsx("div",{className:"text-center font-medium",children:N.name})},N.id))})]})]}),a.jsxs(te,{className:"border-2 border-orange-200",children:[a.jsx(_e,{className:"bg-orange-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(oi,{className:"w-5 h-5 text-orange-600"}),"Feature Access Control"]})}),a.jsxs(re,{className:"p-6 space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Control which app features your child can access."}),_.map(N=>{var O;return a.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg border-2 border-gray-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-bold mb-1",children:N.name}),a.jsx("p",{className:"text-sm text-gray-600",children:N.description})]}),a.jsx(yC,{checked:!((O=s.blocked_features)!=null&&O.includes(N.id)),onCheckedChange:()=>I(N.id)})]},N.id)})]})]})]}),a.jsx(Dt,{value:"focus",className:"space-y-6",children:a.jsxs(te,{className:"border-2 border-indigo-200",children:[a.jsx(_e,{className:"bg-indigo-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Qt,{className:"w-5 h-5 text-indigo-600"}),"Focus Topics & Recommendations"]})}),a.jsx(re,{className:"p-6 space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(at,{className:"text-base font-bold mb-3 block",children:"Select Focus Operations"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Highlight specific math concepts for your child to practice more."}),a.jsx("div",{className:"grid md:grid-cols-3 gap-3",children:x.map(N=>a.jsx("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer ${s.focus_operations.includes(N.id)?"border-indigo-500 bg-indigo-50 ring-2 ring-indigo-200":"border-gray-200 bg-gray-50"}`,onClick:()=>T(N.id,"focus"),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:N.emoji}),a.jsx("div",{className:"text-sm font-medium",children:N.name}),s.focus_operations.includes(N.id)&&a.jsx(Badge,{className:"mt-2 bg-indigo-500 text-white text-xs",children:"Focus"})]})},N.id))})]}),s.focus_operations.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"pt-4 border-t space-y-3",children:[a.jsx(at,{className:"text-base font-bold",children:"Focus Priority Mode"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${s.focus_priority==="suggest"?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white"}`,onClick:()=>o({...s,focus_priority:"suggest"}),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${s.focus_priority==="suggest"?"border-indigo-500":"border-gray-300"}`,children:s.focus_priority==="suggest"&&a.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-500"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold",children:"Suggest (Recommended)"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Show reminders and highlight focus topics, but allow access to all enabled content"})]})]})}),a.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${s.focus_priority==="enforce"?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white"}`,onClick:()=>o({...s,focus_priority:"enforce"}),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${s.focus_priority==="enforce"?"border-indigo-500":"border-gray-300"}`,children:s.focus_priority==="enforce"&&a.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-500"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold",children:"Enforce (Strict)"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Only allow focus topics - other content will be locked"})]})]})})]})]}),a.jsxs("div",{className:"pt-4 border-t space-y-3",children:[a.jsx(at,{className:"text-base font-bold",children:"Reminder Frequency"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:["never","daily","every_session"].map(N=>a.jsx("div",{className:`p-3 rounded-lg border-2 cursor-pointer text-center transition-all ${s.focus_reminder_frequency===N?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white"}`,onClick:()=>o({...s,focus_reminder_frequency:N}),children:a.jsx("div",{className:"font-medium capitalize",children:N==="every_session"?"Every Game":N})},N))})]})]}),s.focus_operations.length===0&&a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(Qt,{className:"w-4 h-4 text-blue-600"}),a.jsx(We,{className:"text-blue-800 text-sm",children:"Select at least one operation above to set it as a focus topic for your child."})]})]})})]})}),a.jsxs(Dt,{value:"goals",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold",children:"Custom Learning Goals"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Create personalized goals tailored to your child's needs"})]}),a.jsxs(oe,{onClick:()=>f(!d),className:"bg-indigo-500 hover:bg-indigo-600",children:[a.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Add Goal"]})]}),d&&a.jsxs(te,{className:"border-2 border-indigo-300",children:[a.jsx(_e,{className:"bg-indigo-50",children:a.jsx(Ne,{children:"Create New Learning Goal"})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"goal_title",children:"Goal Title"}),a.jsx(pr,{id:"goal_title",value:m.title,onChange:N=>p({...m,title:N.target.value}),placeholder:"e.g., Master Multiplication Tables"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"goal_description",children:"Description (Optional)"}),a.jsx(yd,{id:"goal_description",value:m.description,onChange:N=>p({...m,description:N.target.value}),placeholder:"Add more details about this goal...",rows:2})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"target_type",children:"Goal Type"}),a.jsxs("select",{id:"target_type",value:m.target_type,onChange:N=>p({...m,target_type:N.target.value}),className:"w-full p-2 border rounded-md",children:[a.jsx("option",{value:"games_completed",children:"Games Completed"}),a.jsx("option",{value:"stars_earned",children:"Stars Earned"}),a.jsx("option",{value:"accuracy",children:"Accuracy (%)"}),a.jsx("option",{value:"time_spent",children:"Time Spent (minutes)"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"target_value",children:"Target Value"}),a.jsx(pr,{id:"target_value",type:"number",min:"1",value:m.target_value,onChange:N=>p({...m,target_value:parseInt(N.target.value)||1})})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"goal_operation",children:"Operation"}),a.jsxs("select",{id:"goal_operation",value:m.operation,onChange:N=>p({...m,operation:N.target.value}),className:"w-full p-2 border rounded-md",children:[a.jsx("option",{value:"any",children:"Any Operation"}),x.map(N=>a.jsxs("option",{value:N.id,children:[N.emoji," ",N.name]},N.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"goal_level",children:"Difficulty Level"}),a.jsxs("select",{id:"goal_level",value:m.level,onChange:N=>p({...m,level:N.target.value}),className:"w-full p-2 border rounded-md",children:[a.jsx("option",{value:"any",children:"Any Level"}),g.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"goal_deadline",children:"Deadline (Optional)"}),a.jsx(pr,{id:"goal_deadline",type:"date",value:m.deadline,onChange:N=>p({...m,deadline:N.target.value})})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(oe,{onClick:C,className:"flex-1 bg-indigo-500 hover:bg-indigo-600",disabled:!m.title,children:"Add Goal"}),a.jsx(oe,{variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]})]}),a.jsx("div",{className:"space-y-4",children:l.length===0?a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(re,{className:"p-12 text-center",children:[a.jsx(Nt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"No custom goals yet"}),a.jsx("p",{className:"text-gray-500",children:"Create goals to motivate and guide your child's learning"})]})}):l.map(N=>a.jsxs(te,{className:"border-2 border-indigo-200",children:[a.jsx(_e,{className:"bg-indigo-50",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Qt,{className:"w-5 h-5 text-indigo-600"}),N.title]}),N.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:N.description})]}),a.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>E(N.id),className:"text-gray-400 hover:text-red-600",children:a.jsx(Iy,{className:"w-5 h-5"})})]})}),a.jsxs(re,{className:"p-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Type:"})," ",N.target_type.replace("_"," ")]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Target:"})," ",N.target_value]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Operation:"})," ",N.operation]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Level:"})," ",N.level]})]}),N.deadline&&a.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Wr,{className:"w-4 h-4"}),a.jsxs("span",{children:["Deadline: ",N.deadline]})]})]})]},N.id))})]})]}),a.jsx("div",{className:"flex justify-end pt-6 border-t",children:a.jsxs(oe,{onClick:w,disabled:v.isPending,className:"h-12 px-8 bg-gradient-to-r from-blue-500 to-purple-500",children:[a.jsx(Hx,{className:"w-5 h-5 mr-2"}),v.isPending?"Saving...":"Save All Settings"]})})]})}function iLe({childEmail:t,childProgress:e}){const r=vn(),[n,i]=S.useState(!1),[s,o]=S.useState({title:"",description:"",operation:"addition",level:"easy",target_games:5,target_accuracy:80,due_date:"",instructions:""}),{data:l=[]}=ut({queryKey:["lessonAssignments",t],queryFn:async()=>{const g=cr(Bt),_=ha(An(g,"customGoals"),si("child_email","==",t),si("goal_type","==","specific_operation"));return(await Si(_)).docs.map(P=>({id:P.id,...P.data()}))},initialData:[],enabled:!!t}),c=Pr({mutationFn:async g=>{const _=cr(Bt);await bk(An(_,"customGoals"),{...g,child_email:t,goal_type:"specific_operation",target_value:g.target_games})},onSuccess:()=>{r.invalidateQueries({queryKey:["lessonAssignments"]}),r.invalidateQueries({queryKey:["childGoals"]}),i(!1),o({title:"",description:"",operation:"addition",level:"easy",target_games:5,target_accuracy:80,due_date:"",instructions:""})}}),d=Pr({mutationFn:async g=>{const _=cr(Bt);await xk(doc(_,"customGoals",g))},onSuccess:()=>{r.invalidateQueries({queryKey:["lessonAssignments"]}),r.invalidateQueries({queryKey:["childGoals"]})}}),f=()=>{s.title&&c.mutate(s)},m=g=>{const _=e.filter(I=>I.operation===g.operation&&I.level===g.level&&new Date(I.created_date)>=new Date(g.created_date)),T=_.length,P=_.length>0?_.reduce((I,A)=>I+A.correct_answers/A.total_questions*100,0)/_.length:0;return{gamesCompleted:T,avgAccuracy:Math.round(P),isComplete:T>=g.target_value&&P>=(g.target_accuracy||70)}},v=(()=>{const g={addition:{total:0,correct:0},subtraction:{total:0,correct:0},multiplication:{total:0,correct:0},division:{total:0,correct:0}};e.forEach(T=>{g[T.operation]&&(g[T.operation].total+=T.total_questions,g[T.operation].correct+=T.correct_answers)});const _=[];return Object.entries(g).forEach(([T,P])=>{if(P.total>0){const I=P.correct/P.total*100;I<70&&_.push({operation:T,level:I<50?"easy":"medium",reason:`Low accuracy: ${Math.round(I)}%`})}}),_})(),w={addition:"",subtraction:"",multiplication:"",division:""},x={easy:"bg-green-500",medium:"bg-yellow-500",hard:"bg-red-500"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(ks,{className:"w-6 h-6 text-blue-600"}),"Lesson Assignments"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create custom practice lessons tailored to your child's needs"})]}),a.jsxs(oe,{onClick:()=>i(!n),className:"bg-blue-500 hover:bg-blue-600",children:[a.jsx(Fn,{className:"w-4 h-4 mr-2"}),"New Lesson"]})]}),v.length>0&&a.jsxs(ze,{className:"bg-yellow-50 border-yellow-300",children:[a.jsx(em,{className:"w-5 h-5 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800",children:[a.jsx("strong",{children:"Suggested Focus Areas:"}),a.jsx("div",{className:"mt-2 space-y-2",children:v.map((g,_)=>a.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:w[g.operation]}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium capitalize",children:[g.operation," - ",g.level]}),a.jsx("p",{className:"text-sm text-gray-600",children:g.reason})]})]}),a.jsx(oe,{size:"sm",onClick:()=>{o({...s,operation:g.operation,level:g.level,title:`Practice ${g.operation.charAt(0).toUpperCase()+g.operation.slice(1)}`}),i(!0)},children:"Create Lesson"})]},_))})]})]}),n&&a.jsxs(te,{className:"border-2 border-blue-300",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsx(Ne,{children:"Create New Lesson Assignment"})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"title",children:"Lesson Title"}),a.jsx(pr,{id:"title",value:s.title,onChange:g=>o({...s,title:g.target.value}),placeholder:"e.g., Master Two-Digit Addition"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"description",children:"Description"}),a.jsx(yd,{id:"description",value:s.description,onChange:g=>o({...s,description:g.target.value}),placeholder:"What should the student learn from this lesson?",rows:3})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"operation",children:"Operation"}),a.jsxs(ci,{value:s.operation,onValueChange:g=>o({...s,operation:g}),children:[a.jsx(Wn,{children:a.jsx(ui,{})}),a.jsxs(Hn,{children:[a.jsx(Ze,{value:"addition",children:" Addition"}),a.jsx(Ze,{value:"subtraction",children:" Subtraction"}),a.jsx(Ze,{value:"multiplication",children:" Multiplication"}),a.jsx(Ze,{value:"division",children:" Division"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"level",children:"Difficulty Level"}),a.jsxs(ci,{value:s.level,onValueChange:g=>o({...s,level:g}),children:[a.jsx(Wn,{children:a.jsx(ui,{})}),a.jsxs(Hn,{children:[a.jsx(Ze,{value:"easy",children:"Easy"}),a.jsx(Ze,{value:"medium",children:"Medium"}),a.jsx(Ze,{value:"hard",children:"Hard"})]})]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"target_games",children:"Target Games"}),a.jsx(pr,{id:"target_games",type:"number",min:"1",max:"50",value:s.target_games,onChange:g=>o({...s,target_games:parseInt(g.target.value)})}),a.jsx("p",{className:"text-xs text-gray-500",children:"Number of games to complete"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"target_accuracy",children:"Target Accuracy (%)"}),a.jsx(pr,{id:"target_accuracy",type:"number",min:"50",max:"100",value:s.target_accuracy,onChange:g=>o({...s,target_accuracy:parseInt(g.target.value)})}),a.jsx("p",{className:"text-xs text-gray-500",children:"Minimum accuracy to complete"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"due_date",children:"Due Date (Optional)"}),a.jsx(pr,{id:"due_date",type:"date",value:s.due_date,onChange:g=>o({...s,due_date:g.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"instructions",children:"Instructions for Student"}),a.jsx(yd,{id:"instructions",value:s.instructions,onChange:g=>o({...s,instructions:g.target.value}),placeholder:"Any specific tips or guidance?",rows:3})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(oe,{onClick:f,className:"flex-1 bg-blue-500 hover:bg-blue-600",disabled:!s.title||c.isPending,children:[a.jsx(C7,{className:"w-4 h-4 mr-2"}),c.isPending?"Assigning...":"Assign Lesson"]}),a.jsx(oe,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-bold text-lg",children:"Active Assignments"}),l.length===0?a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(re,{className:"p-12 text-center",children:[a.jsx(ks,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"No lessons assigned yet"}),a.jsx("p",{className:"text-gray-500",children:"Create custom lessons to guide your child's learning"})]})}):l.map(g=>{const _=m(g),T=Math.min(_.gamesCompleted/g.target_value*100,100);return a.jsxs(te,{className:`border-2 ${_.isComplete?"border-green-300 bg-green-50":"border-blue-200"}`,children:[a.jsx(_e,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("span",{className:"text-3xl",children:w[g.operation]}),a.jsxs("div",{children:[a.jsxs(Ne,{className:"flex items-center gap-2",children:[g.title,_.isComplete&&a.jsxs(je,{className:"bg-green-500",children:[a.jsx(Ut,{className:"w-3 h-3 mr-1"}),"Completed"]})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(je,{className:x[g.level]+" text-white",children:g.level}),g.due_date&&a.jsxs(je,{variant:"outline",className:"flex items-center gap-1",children:[a.jsx(Wr,{className:"w-3 h-3"}),"Due: ",ur(new Date(g.due_date),"MMM d")]})]})]})]}),g.description&&a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.description}),g.instructions&&a.jsx(ze,{className:"mt-2",children:a.jsxs(We,{className:"text-sm",children:[a.jsx("strong",{children:"Instructions:"})," ",g.instructions]})})]}),a.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>d.mutate(g.id),className:"text-gray-400 hover:text-red-600",children:a.jsx(Iy,{className:"w-5 h-5"})})]})}),a.jsx(re,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Qt,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Games"})]}),a.jsxs("p",{className:"text-2xl font-bold",children:[_.gamesCompleted," / ",g.target_value]})]}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ut,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Accuracy"})]}),a.jsxs("p",{className:"text-2xl font-bold",children:[_.avgAccuracy,"%",a.jsxs("span",{className:"text-sm text-gray-500",children:[" / ",g.target_accuracy||70,"%"]})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{children:"Overall Progress"}),a.jsxs("span",{className:"font-bold",children:[Math.round(T),"%"]})]}),a.jsx(ol,{value:T,className:"h-3"})]}),_.isComplete&&a.jsxs(ze,{className:"bg-green-100 border-green-300",children:[a.jsx(Ut,{className:"w-4 h-4 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{children:"Great job!"})," This lesson has been completed successfully."]})]})]})})]},g.id)})]})]})}function sLe({childEmail:t,parentEmail:e}){var L;const r=vn(),[n,i]=S.useState("encouragement"),[s,o]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(""),[m,p]=S.useState(null),[v,w]=S.useState("normal"),{data:x=[]}=ut({queryKey:["messages",t,e],queryFn:async()=>{const $=cr(Bt),F=ha(An($,"messages"),si("parent_email","==",e),si("child_email","==",t));return(await Si(F)).docs.map(Y=>Y.data()).sort((Y,K)=>new Date(K.created_date)-new Date(Y.created_date))},initialData:[],enabled:!!t&&!!e}),g=x.filter($=>$.child_email===e&&!$.parent_read).length,_=Pr({mutationFn:async $=>{const F=cr(Bt);await bk(An(F,"messages"),{parent_email:e,child_email:t,message_type:$.type,subject:$.subject,message_text:$.text,priority:$.priority,reply_to_message_id:$.replyTo||null,is_read:!1,parent_read:!0,created_date:new Date().toISOString()})},onSuccess:()=>{r.invalidateQueries({queryKey:["messages"]}),r.invalidateQueries({queryKey:["unreadMessages"]}),o(""),c(""),f(""),p(null),w("normal")}}),T=Pr({mutationFn:async $=>{const F=cr(Bt);await hoe(ds(F,"messages",$),{parent_read:!0})},onSuccess:()=>{r.invalidateQueries({queryKey:["messages"]}),r.invalidateQueries({queryKey:["unreadMessages"]})}}),P=Pr({mutationFn:async $=>{const F=cr(Bt);await xk(ds(F,"messages",$))},onSuccess:()=>{r.invalidateQueries({queryKey:["messages"]})}}),I={encouragement:[{subject:"You're Doing Great!",text:"I'm so proud of how hard you're working! Keep it up! "},{subject:"Amazing Progress!",text:"You're doing an amazing job! Your effort really shows! "},{subject:"Math Superstar",text:"Great progress today! You're a math superstar! "},{subject:"Keep Going!",text:"I love seeing you tackle these challenges! Keep going! "},{subject:"So Proud of You",text:"Your determination is inspiring! Way to go! "}],feedback:[{subject:"Nice Improvement!",text:"I noticed you're improving in addition. Excellent work!"},{subject:"Great Accuracy",text:"Your accuracy is getting better every day!"},{subject:"Love Your Effort",text:"I can see you're putting in great effort. Keep it up!"},{subject:"Wonderful Progress",text:"You're making wonderful progress. I'm proud of you!"}],reminder:[{subject:"Daily Challenge",text:"Don't forget to complete your daily challenge today! "},{subject:"Practice Time",text:"Remember to practice your multiplication today!"},{subject:"Almost There",text:"You're close to reaching your goal! Keep practicing! "},{subject:"Lesson Time",text:"Time to work on your assigned lesson! You've got this! "}],celebration:[{subject:"Congratulations!",text:"Congratulations on completing your goal! "},{subject:"Three Stars!",text:"You earned all 3 stars! Amazing! "},{subject:"Incredible Achievement",text:"What an incredible achievement! So proud! "},{subject:"Math Champion",text:"You're a math champion! Great job! "}],question:[{subject:"How's Math Going?",text:"How are you finding the math challenges? Any topics you'd like more help with?"},{subject:"Need Help?",text:"Is there anything you're struggling with? I'm here to help!"},{subject:"What's Your Favorite?",text:"What's your favorite math topic so far?"}]},A={encouragement:Hp,feedback:Nt,reminder:ai,celebration:Ct,question:ac,response:wv},C={encouragement:"from-pink-400 to-rose-500",feedback:"from-blue-400 to-purple-500",reminder:"from-yellow-400 to-orange-500",celebration:"from-green-400 to-emerald-500",question:"from-indigo-400 to-blue-500",response:"from-gray-400 to-slate-500"},E={low:"text-gray-500",normal:"text-blue-500",high:"text-red-500"},N=()=>{var $,F;s.trim()&&_.mutate({type:m?"response":n,text:s,subject:l||((F=($=I[n])==null?void 0:$[0])==null?void 0:F.subject)||"Message from Parent",priority:v,replyTo:m==null?void 0:m.id})},O=$=>{f($),o($.text),c($.subject)},D=$=>{p($),i("response"),c(`Re: ${$.subject}`),o(""),window.scrollTo({top:0,behavior:"smooth"})};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(ac,{className:"w-6 h-6 text-green-600"}),"Communication Center",g>0&&a.jsxs(je,{className:"bg-red-500 text-white animate-pulse",children:[g," New"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Send messages and receive responses from your child"})]})}),a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ai,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"Real-time messaging with your child!"})," Messages appear instantly in their inbox, and they can respond directly. Both of you will see notifications for new messages."]})]}),m&&a.jsxs(ze,{className:"bg-purple-50 border-purple-300",children:[a.jsx(wv,{className:"w-5 h-5 text-purple-600"}),a.jsx(We,{className:"text-purple-800",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Replying to:"})," ",m.subject,a.jsxs("p",{className:"text-sm mt-1 italic",children:['"',m.message_text,'"']})]}),a.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>p(null),className:"text-purple-600",children:"Cancel"})]})})]}),a.jsxs(te,{className:"border-2 border-green-300",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsx(Ne,{children:m?"Send Reply":"Send a Message"})}),a.jsxs(re,{className:"p-6 space-y-4",children:[!m&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"message_type",children:"Message Type"}),a.jsxs(ci,{value:n,onValueChange:i,children:[a.jsx(Wn,{children:a.jsx(ui,{})}),a.jsxs(Hn,{children:[a.jsx(Ze,{value:"encouragement",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hp,{className:"w-4 h-4"}),"Encouragement"]})}),a.jsx(Ze,{value:"feedback",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),"Feedback"]})}),a.jsx(Ze,{value:"reminder",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ai,{className:"w-4 h-4"}),"Reminder"]})}),a.jsx(Ze,{value:"celebration",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ct,{className:"w-4 h-4"}),"Celebration"]})}),a.jsx(Ze,{value:"question",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ac,{className:"w-4 h-4"}),"Question"]})})]})]})]}),!m&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{children:"Quick Templates"}),a.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-40 overflow-y-auto",children:(L=I[n])==null?void 0:L.map(($,F)=>a.jsx(oe,{variant:"outline",className:"justify-start text-left h-auto py-3 px-4",onClick:()=>O($),children:a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-sm",children:$.subject}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:$.text})]})},F))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"subject",children:"Subject"}),a.jsx(pr,{id:"subject",value:l,onChange:$=>c($.target.value),placeholder:"Message subject..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"message_text",children:"Message"}),a.jsx(yd,{id:"message_text",value:s,onChange:$=>o($.target.value),placeholder:"Write your message...",rows:4,className:"resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"priority",children:"Priority"}),a.jsxs(ci,{value:v,onValueChange:w,children:[a.jsx(Wn,{children:a.jsx(ui,{})}),a.jsxs(Hn,{children:[a.jsx(Ze,{value:"low",children:"Low Priority"}),a.jsx(Ze,{value:"normal",children:"Normal"}),a.jsx(Ze,{value:"high",children:"High Priority"})]})]})]}),a.jsxs(oe,{onClick:N,disabled:!s.trim()||_.isPending,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:[a.jsx(C7,{className:"w-4 h-4 mr-2"}),_.isPending?"Sending...":"Send Message"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-bold text-lg",children:"Message History"}),a.jsxs(je,{variant:"outline",children:[x.length," Messages"]})]}),x.length===0?a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(re,{className:"p-12 text-center",children:[a.jsx(ac,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"No messages yet"}),a.jsx("p",{className:"text-gray-500",children:"Start a conversation with your child!"})]})}):x.map($=>{const F=A[$.message_type]||ac,G=C[$.message_type]||"from-gray-400 to-gray-500",Y=$.child_email===e,K=Y&&!$.parent_read;return a.jsx(te,{className:`border-2 transition-all ${K?"border-blue-400 bg-blue-50 shadow-lg":"border-gray-200 hover:shadow-md"}`,children:a.jsx(re,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-br ${G} flex items-center justify-center flex-shrink-0`,children:a.jsx(F,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[a.jsx(je,{className:`bg-gradient-to-r ${G} text-white`,children:$.message_type}),Y&&a.jsxs(je,{className:"bg-purple-500 text-white",children:[a.jsx(wv,{className:"w-3 h-3 mr-1"}),"Reply from child"]}),$.priority!=="normal"&&a.jsxs(je,{variant:"outline",className:E[$.priority],children:[a.jsx(em,{className:"w-3 h-3 mr-1"}),$.priority]}),K&&a.jsx(je,{className:"bg-blue-500 text-white animate-pulse",children:"NEW"}),a.jsx("span",{className:"text-sm text-gray-500 ml-auto",children:ur(new Date($.created_date),"MMM d, h:mm a")})]}),a.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:$.subject}),a.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:$.message_text}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[Y&&a.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>D($),className:"text-purple-600 border-purple-300",children:[a.jsx(wv,{className:"w-4 h-4 mr-1"}),"Reply"]}),K&&a.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>T.mutate($.id),className:"text-blue-600 border-blue-300",children:[a.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Mark as Read"]}),a.jsxs(oe,{size:"sm",variant:"ghost",onClick:()=>{confirm("Delete this message?")&&P.mutate($.id)},className:"text-red-600",children:[a.jsx(Iy,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]})})},$.id)})]}),a.jsxs(te,{className:"border-2 border-purple-200 bg-purple-50",children:[a.jsx(_e,{children:a.jsx(Ne,{className:"text-lg",children:"Quick Praise Buttons"})}),a.jsxs(re,{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs(oe,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>{i("encouragement"),c("Great job today!"),o("Great job today! "),N()},children:[a.jsx(Nt,{className:"w-6 h-6 text-yellow-500"}),a.jsx("span",{className:"text-xs",children:"Great Job!"})]}),a.jsxs(oe,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>{i("encouragement"),c("I'm proud of you!"),o("I'm proud of you! "),N()},children:[a.jsx(Hp,{className:"w-6 h-6 text-pink-500"}),a.jsx("span",{className:"text-xs",children:"Proud!"})]}),a.jsxs(oe,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>{i("encouragement"),c("Keep it up!"),o("Keep it up! "),N()},children:[a.jsx(Gde,{className:"w-6 h-6 text-blue-500"}),a.jsx("span",{className:"text-xs",children:"Keep Going!"})]}),a.jsxs(oe,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>{i("celebration"),c("Amazing work!"),o("Amazing work! "),N()},children:[a.jsx(Ct,{className:"w-6 h-6 text-green-500"}),a.jsx("span",{className:"text-xs",children:"Amazing!"})]})]})]})]})}function aLe({myChildren:t,parentEmail:e}){const r=vn(),[n,i]=S.useState(null),[s,o]=S.useState(""),l=Pr({mutationFn:async({childEmail:m,newName:p})=>{const v=cr(Bt),x=(await Si(An(v,"users"))).docs.find(g=>g.data().email===m);if(!x)throw new Error("Child not found");await ad(ds(v,"users",x.id),{child_name:p},{merge:!0})},onSuccess:()=>{r.invalidateQueries({queryKey:["allUsers"]}),i(null),o("")}}),c=Pr({mutationFn:async m=>{const p=cr(Bt),w=(await Si(An(p,"users"))).docs.find(x=>x.data().email===m);if(!w)throw new Error("Child not found");await ad(ds(p,"users",w.id),{parental_controls:{daily_time_limit:0,allowed_operations:["addition","subtraction","multiplication","division"],allowed_levels:["easy","medium","hard"],focus_operations:[],disabled_features:[]}},{merge:!0})},onSuccess:()=>{r.invalidateQueries({queryKey:["allUsers"]})}}),d=m=>{s.trim()&&l.mutate({childEmail:m,newName:s})},f=m=>{var w,x;const p=m.parental_controls&&Object.keys(m.parental_controls).length>0,v=p&&(m.parental_controls.daily_time_limit>0||((w=m.parental_controls.disabled_features)==null?void 0:w.length)>0||((x=m.parental_controls.allowed_operations)==null?void 0:x.length)<4);return{hasControls:p,hasRestrictions:v,status:v?"restricted":p?"monitored":"open"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(aP,{className:"w-6 h-6 text-purple-600"}),"Student Account Management"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage linked student accounts and their settings"})]}),a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ai,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"Managing Multiple Students:"})," You can monitor and control settings for all students linked to your account. Each student maintains their own progress and achievements while you guide their learning journey."]})]}),a.jsxs(te,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Account Overview"}),a.jsxs(je,{className:"bg-purple-500 text-white text-lg px-4 py-2",children:[t.length," ",t.length===1?"Student":"Students"]})]})}),a.jsxs(re,{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Wh,{className:"w-5 h-5 text-purple-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Active Students"})]}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.length})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Vi,{className:"w-5 h-5 text-blue-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"With Controls"})]}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.filter(m=>f(m).hasControls).length})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ct,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Combined Stars"})]}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.reduce((m,p)=>m+(p.total_stars_earned||0),0)})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-bold text-lg",children:"Student Accounts"}),t.length===0?a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(re,{className:"p-12 text-center",children:[a.jsx(aP,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Students Linked"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["Have your students add your email (",e,") as their parent/teacher email in their profile settings."]}),a.jsxs(ze,{className:"bg-blue-50 border-blue-200 text-left",children:[a.jsx(ai,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"How students can link their account:"}),a.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Go to their Avatar/Profile page"}),a.jsx("li",{children:'Scroll to "Parent/Teacher Access" section'}),a.jsxs("li",{children:["Enter your email: ",a.jsx("strong",{children:e})]}),a.jsx("li",{children:"Click Save"})]})]})]})]})}):t.map(m=>{var _,T,P,I,A,C,E,N,O,D;const p=f(m),v={avatar_skin_tone:m.avatar_skin_tone||"medium",avatar_hair_style:m.avatar_hair_style||"short",avatar_hair_color:m.avatar_hair_color||"brown",avatar_eyes:m.avatar_eyes||"normal",avatar_outfit:m.avatar_outfit||"casual",avatar_accessory:m.avatar_accessory||"none"},w={open:"bg-green-100 text-green-700 border-green-300",monitored:"bg-blue-100 text-blue-700 border-blue-300",restricted:"bg-orange-100 text-orange-700 border-orange-300"},g={open:Ut,monitored:Vi,restricted:zn}[p.status];return a.jsx(te,{className:"border-2 border-gray-200 hover:shadow-lg transition-shadow",children:a.jsxs(re,{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Kh,{avatarData:v,size:"medium"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-xl font-bold",children:m.child_name||m.full_name||"Student"}),a.jsxs(je,{className:w[p.status],children:[a.jsx(g,{className:"w-3 h-3 mr-1"}),p.status]})]}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zh,{className:"w-4 h-4"}),a.jsx("span",{className:"truncate",children:m.email})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wr,{className:"w-4 h-4"}),a.jsxs("span",{children:["Joined ",ur(new Date(m.created_date),"MMM d, yyyy")]})]})]}),n===m.email?a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx(pr,{placeholder:"Display name",value:s,onChange:L=>o(L.target.value),className:"w-full"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{size:"sm",onClick:()=>d(m.email),disabled:l.isPending,children:"Save"}),a.jsx(oe,{size:"sm",variant:"outline",onClick:()=>{i(null),o("")},children:"Cancel"})]})]}):a.jsxs(oe,{size:"sm",variant:"outline",className:"mt-3",onClick:()=>{i(m.email),o(m.child_name||"")},children:[a.jsx(xg,{className:"w-3 h-3 mr-1"}),"Edit Name"]})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Nt,{className:"w-4 h-4 text-yellow-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Stars"})]}),a.jsx("p",{className:"text-xl font-bold text-yellow-700",children:m.total_stars_earned||0})]}),a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Ct,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Coins"})]}),a.jsx("p",{className:"text-xl font-bold text-blue-700",children:m.coins||0})]}),a.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Vi,{className:"w-4 h-4 text-purple-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Badges"})]}),a.jsx("p",{className:"text-xl font-bold text-purple-700",children:((_=m.earned_badges)==null?void 0:_.length)||0})]}),a.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(wr,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Time Limit"})]}),a.jsxs("p",{className:"text-lg font-bold text-green-700",children:[((T=m.parental_controls)==null?void 0:T.daily_time_limit)||"",((P=m.parental_controls)==null?void 0:P.daily_time_limit)>0&&"m"]})]})]})]}),p.hasControls&&a.jsxs("div",{className:"mt-4 pt-4 border-t",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-bold text-sm",children:"Active Controls:"}),a.jsx(oe,{size:"sm",variant:"outline",onClick:()=>{confirm("Reset all parental controls for this student?")&&c.mutate(m.email)},children:"Reset Controls"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[((I=m.parental_controls)==null?void 0:I.daily_time_limit)>0&&a.jsxs(je,{variant:"outline",className:"justify-start",children:[a.jsx(wr,{className:"w-3 h-3 mr-1"}),m.parental_controls.daily_time_limit,"m/day"]}),((C=(A=m.parental_controls)==null?void 0:A.allowed_operations)==null?void 0:C.length)<4&&a.jsxs(je,{variant:"outline",className:"justify-start",children:[a.jsx(od,{className:"w-3 h-3 mr-1"}),4-m.parental_controls.allowed_operations.length," ops blocked"]}),((N=(E=m.parental_controls)==null?void 0:E.focus_operations)==null?void 0:N.length)>0&&a.jsxs(je,{variant:"outline",className:"justify-start bg-purple-50",children:[a.jsx(Nt,{className:"w-3 h-3 mr-1"}),m.parental_controls.focus_operations.length," focus areas"]}),((D=(O=m.parental_controls)==null?void 0:O.disabled_features)==null?void 0:D.length)>0&&a.jsxs(je,{variant:"outline",className:"justify-start",children:[a.jsx(od,{className:"w-3 h-3 mr-1"}),m.parental_controls.disabled_features.length," features disabled"]})]})]})]})},m.email)})]}),a.jsxs(te,{className:"border-2 border-blue-200 bg-blue-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(ai,{className:"w-5 h-5 text-blue-600"}),"Account Management Tips"]})}),a.jsxs(re,{className:"space-y-3 text-sm text-blue-900",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Adding Students:"})," Have each student add your email in their profile settings to link their account to yours."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Display Names:"})," Set custom display names to easily identify students (especially useful for teachers with multiple students)."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Controls:"}),' Each student can have individual parental controls. Configure them in the "Controls" tab.']}),a.jsxs("p",{children:[a.jsx("strong",{children:"Privacy:"})," Students cannot see messages between their account and yours. All communication is one-way (parent to child)."]})]})]})]})}function oLe({childEmail:t,childProgress:e,childDailyChallenges:r}){var A,C;const[n,i]=S.useState("week"),[s,o]=S.useState("all"),c=(()=>{let E;const N=new Date;switch(n){case"week":E=ud(N);break;case"month":E=fG(N);break;case"all":E=new Date(0);break;default:E=fN(N,7)}const O=e.filter(D=>new Date(D.created_date)>=E);return s==="all"?O:O.filter(D=>D.operation===s)})(),d=()=>{const E={};return Array.from({length:7},(N,O)=>{const D=ur(fN(new Date,6-O),"yyyy-MM-dd");return E[D]={date:ur(fN(new Date,6-O),"EEE"),games:0,accuracy:0,totalQuestions:0,correctAnswers:0},D}),c.forEach(N=>{const O=ur(new Date(N.created_date),"yyyy-MM-dd");E[O]&&(E[O].games++,E[O].totalQuestions+=N.total_questions,E[O].correctAnswers+=N.correct_answers)}),Object.values(E).map(N=>({...N,accuracy:N.totalQuestions>0?Math.round(N.correctAnswers/N.totalQuestions*100):0}))},f=()=>{const E={addition:0,subtraction:0,multiplication:0,division:0};return c.forEach(N=>{E[N.operation]!==void 0&&E[N.operation]++}),Object.entries(E).map(([N,O])=>({name:N.charAt(0).toUpperCase()+N.slice(1),value:O,color:N==="addition"?"#10b981":N==="subtraction"?"#3b82f6":N==="multiplication"?"#8b5cf6":"#f59e0b"}))},m=()=>{const E={addition:{total:0,correct:0},subtraction:{total:0,correct:0},multiplication:{total:0,correct:0},division:{total:0,correct:0}};return c.forEach(N=>{E[N.operation]&&(E[N.operation].total+=N.total_questions,E[N.operation].correct+=N.correct_answers)}),Object.entries(E).map(([N,O])=>({skill:N.charAt(0).toUpperCase()+N.slice(1),score:O.total>0?Math.round(O.correct/O.total*100):0}))},p=()=>{const E={Morning:0,Afternoon:0,Evening:0,Night:0};return c.forEach(N=>{const O=new Date(N.created_date).getHours();O>=6&&O<12?E.Morning++:O>=12&&O<17?E.Afternoon++:O>=17&&O<21?E.Evening++:E.Night++}),Object.entries(E).map(([N,O])=>({name:N,games:O}))},v=()=>c.slice(-10).reverse().map((N,O)=>({game:`Game ${O+1}`,accuracy:Math.round(N.correct_answers/N.total_questions*100),speed:N.time_taken})),w=()=>{if(c.length===0)return{totalGames:0,avgAccuracy:0,avgSpeed:0,totalStars:0,improvementRate:0};const E=c.length,N=Math.round(c.reduce((K,X)=>K+X.correct_answers/X.total_questions*100,0)/E),O=Math.round(c.reduce((K,X)=>K+X.time_taken,0)/E),D=c.reduce((K,X)=>K+(X.stars_earned||0),0),L=c.slice(0,5),$=c.slice(5,10),F=L.length>0?L.reduce((K,X)=>K+X.correct_answers/X.total_questions*100,0)/L.length:0,G=$.length>0?$.reduce((K,X)=>K+X.correct_answers/X.total_questions*100,0)/$.length:0,Y=G>0?Math.round((F-G)/G*100):0;return{totalGames:E,avgAccuracy:N,avgSpeed:O,totalStars:D,improvementRate:Y}},x=d(),g=f(),_=m(),T=p(),P=v(),I=w();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(mf,{className:"w-6 h-6 text-purple-600"}),"Advanced Analytics Dashboard"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Comprehensive performance insights and trends"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ci,{value:n,onValueChange:i,children:[a.jsx(Wn,{className:"w-32",children:a.jsx(ui,{})}),a.jsxs(Hn,{children:[a.jsx(Ze,{value:"week",children:"This Week"}),a.jsx(Ze,{value:"month",children:"This Month"}),a.jsx(Ze,{value:"all",children:"All Time"})]})]}),a.jsxs(ci,{value:s,onValueChange:o,children:[a.jsx(Wn,{className:"w-32",children:a.jsx(ui,{})}),a.jsxs(Hn,{children:[a.jsx(Ze,{value:"all",children:"All Ops"}),a.jsx(Ze,{value:"addition",children:"Addition"}),a.jsx(Ze,{value:"subtraction",children:"Subtraction"}),a.jsx(Ze,{value:"multiplication",children:"Multiplication"}),a.jsx(Ze,{value:"division",children:"Division"})]})]}),a.jsx(oe,{variant:"outline",size:"icon",children:a.jsx(bde,{className:"w-4 h-4"})}),a.jsxs(oe,{variant:"outline",children:[a.jsx(vg,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsx(te,{className:"border-2 border-blue-200",children:a.jsxs(re,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Qt,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Games"})]}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:I.totalGames})]})}),a.jsx(te,{className:"border-2 border-green-200",children:a.jsxs(re,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Gn,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Accuracy"})]}),a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[I.avgAccuracy,"%"]})]})}),a.jsx(te,{className:"border-2 border-purple-200",children:a.jsxs(re,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(wr,{className:"w-5 h-5 text-purple-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Speed"})]}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[I.avgSpeed,"s"]})]})}),a.jsx(te,{className:"border-2 border-yellow-200",children:a.jsxs(re,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Gn,{className:"w-5 h-5 text-yellow-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Stars"})]}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:I.totalStars})]})}),a.jsx(te,{className:`border-2 ${I.improvementRate>=0?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.jsxs(re,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[I.improvementRate>=0?a.jsx(mr,{className:"w-5 h-5 text-green-600"}):a.jsx(Ic,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Trend"})]}),a.jsxs("p",{className:`text-3xl font-bold ${I.improvementRate>=0?"text-green-600":"text-red-600"}`,children:[I.improvementRate>0?"+":"",I.improvementRate,"%"]})]})})]}),a.jsx(te,{className:"border-2 border-purple-200",children:a.jsx(re,{className:"p-6",children:a.jsxs(Vc,{defaultValue:"activity",className:"w-full",children:[a.jsxs(pl,{className:"grid w-full grid-cols-5 mb-6",children:[a.jsx(St,{value:"activity",children:"Activity"}),a.jsx(St,{value:"skills",children:"Skills"}),a.jsx(St,{value:"distribution",children:"Distribution"}),a.jsx(St,{value:"trends",children:"Trends"}),a.jsx(St,{value:"time",children:"Time"})]}),a.jsx(Dt,{value:"activity",children:a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Daily Activity (Last 7 Days)"})}),a.jsx(re,{children:a.jsx(Fa,{width:"100%",height:350,children:a.jsxs(vDe,{data:x,children:[a.jsx(Xo,{strokeDasharray:"3 3"}),a.jsx(us,{dataKey:"date"}),a.jsx(xi,{yAxisId:"left"}),a.jsx(xi,{yAxisId:"right",orientation:"right"}),a.jsx(fn,{}),a.jsx(zi,{}),a.jsx(ml,{yAxisId:"left",type:"monotone",dataKey:"games",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6,name:"Games Played"}),a.jsx(ml,{yAxisId:"right",type:"monotone",dataKey:"accuracy",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Accuracy %"})]})})})]})}),a.jsx(Dt,{value:"skills",children:a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Skills Assessment"})}),a.jsx(re,{children:a.jsx(Fa,{width:"100%",height:400,children:a.jsxs(yDe,{data:_,children:[a.jsx(KY,{}),a.jsx(vm,{dataKey:"skill"}),a.jsx(ym,{domain:[0,100]}),a.jsx(Qy,{name:"Accuracy %",dataKey:"score",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6}),a.jsx(fn,{})]})})})]})}),a.jsx(Dt,{value:"distribution",children:a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Operation Distribution"})}),a.jsx(re,{children:a.jsx(Fa,{width:"100%",height:400,children:a.jsxs(gDe,{children:[a.jsx(jl,{data:g,cx:"50%",cy:"50%",labelLine:!1,label:E=>`${E.name}: ${E.value}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:g.map((E,N)=>a.jsx(p1,{fill:E.color},`cell-${N}`))}),a.jsx(fn,{})]})})})]})}),a.jsx(Dt,{value:"trends",children:a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Recent Performance Trend"})}),a.jsx(re,{children:a.jsx(Fa,{width:"100%",height:350,children:a.jsxs(D1,{data:P,children:[a.jsx(Xo,{strokeDasharray:"3 3"}),a.jsx(us,{dataKey:"game"}),a.jsx(xi,{yAxisId:"left"}),a.jsx(xi,{yAxisId:"right",orientation:"right"}),a.jsx(fn,{}),a.jsx(zi,{}),a.jsx(pa,{yAxisId:"left",type:"monotone",dataKey:"accuracy",stroke:"#10b981",strokeWidth:3,name:"Accuracy %"}),a.jsx(pa,{yAxisId:"right",type:"monotone",dataKey:"speed",stroke:"#f59e0b",strokeWidth:3,name:"Speed (seconds)"})]})})})]})}),a.jsx(Dt,{value:"time",children:a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Time of Day Analysis"})}),a.jsxs(re,{children:[a.jsx(Fa,{width:"100%",height:350,children:a.jsxs(lC,{data:T,children:[a.jsx(Xo,{strokeDasharray:"3 3"}),a.jsx(us,{dataKey:"name"}),a.jsx(xi,{}),a.jsx(fn,{}),a.jsx(zi,{}),a.jsx(aa,{dataKey:"games",fill:"#8b5cf6",name:"Games Played"})]})}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-gray-600 mb-1",children:"Most Active Time"}),a.jsx("p",{className:"font-bold text-blue-700",children:((A=T.reduce((E,N)=>N.games>E.games?N:E,T[0]))==null?void 0:A.name)||"N/A"})]}),a.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-gray-600 mb-1",children:"Recommended Practice Time"}),a.jsx("p",{className:"font-bold text-purple-700",children:((C=T.reduce((E,N)=>N.games>E.games?N:E,T[0]))==null?void 0:C.name)||"N/A"})]})]})]})]})})]})})})]})}function jJ(){const t=vn(),[e,r]=S.useState(null),[n,i]=S.useState("overview"),{data:s}=ut({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:o=[]}=ut({queryKey:["allUsers"],queryFn:()=>base44.entities.User.list(),initialData:[]}),l=o.filter(x=>x.parent_email===(s==null?void 0:s.email)),{data:c=[]}=ut({queryKey:["childProgress",e],queryFn:()=>base44.entities.GameProgress.filter({created_by:e}),initialData:[],enabled:!!e}),{data:d=[]}=ut({queryKey:["childDailyChallenges",e],queryFn:()=>base44.entities.DailyChallenge.filter({created_by:e}),initialData:[],enabled:!!e}),{data:f=[]}=ut({queryKey:["childGoals",e],queryFn:()=>base44.entities.CustomGoal.filter({child_email:e}),initialData:[],enabled:!!e}),m=Pr({mutationFn:x=>base44.auth.updateMe({is_parent_mode:x}),onSuccess:()=>{t.invalidateQueries({queryKey:["currentUser"]})}}),p=l.find(x=>x.email===e),v=o.find(x=>x.email===e),w=(s==null?void 0:s.is_premium_parent)||(s==null?void 0:s.is_family_teacher);return s!=null&&s.is_parent_mode?w?a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Parent & Teacher Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive learning management & monitoring"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(oe,{variant:"outline",onClick:()=>window.open(Je("Subscription"),"_blank","noopener,noreferrer"),children:[a.jsx($w,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]}),a.jsxs(oe,{variant:"outline",onClick:()=>m.mutate(!1),children:[a.jsx(xg,{className:"w-4 h-4 mr-2"}),"Exit Parent Mode"]}),a.jsxs(oe,{className:"bg-gradient-to-r from-yellow-400 to-orange-500",onClick:()=>window.open(Je("Subscription"),"_blank","noopener,noreferrer"),children:[a.jsx(bi,{className:"w-4 h-4 mr-2"}),(s==null?void 0:s.subscription_tier)==="family_teacher"?"Family Plan":"Premium"]})]})]}),a.jsx("div",{className:"mb-8",children:a.jsx(a6e,{myChildren:l,selectedChildEmail:e,onSelectChild:r,currentUserEmail:s==null?void 0:s.email})}),p?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[a.jsx(te,{className:"border-2 border-blue-200 hover:shadow-lg transition-all cursor-pointer hover:scale-105",onClick:()=>i("communication"),children:a.jsxs(re,{className:"p-4 text-center",children:[a.jsx(Qce,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),a.jsx("h3",{className:"font-bold text-sm",children:"Quick Message"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Send encouragement"})]})}),a.jsx(te,{className:"border-2 border-green-200 hover:shadow-lg transition-all cursor-pointer hover:scale-105",onClick:()=>i("lessons"),children:a.jsxs(re,{className:"p-4 text-center",children:[a.jsx(yue,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),a.jsx("h3",{className:"font-bold text-sm",children:"New Assignment"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Create lesson"})]})}),a.jsx(te,{className:"border-2 border-purple-200 hover:shadow-lg transition-all cursor-pointer hover:scale-105",onClick:()=>i("analytics"),children:a.jsxs(re,{className:"p-4 text-center",children:[a.jsx(mf,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),a.jsx("h3",{className:"font-bold text-sm",children:"View Report"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Generate PDF"})]})}),a.jsx(te,{className:"border-2 border-orange-200 hover:shadow-lg transition-all cursor-pointer hover:scale-105",onClick:()=>i("goals"),children:a.jsxs(re,{className:"p-4 text-center",children:[a.jsx(Qt,{className:"w-8 h-8 mx-auto mb-2 text-orange-600"}),a.jsx("h3",{className:"font-bold text-sm",children:"Set Goal"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"New challenge"})]})})]}),a.jsx(o6e,{childProgress:c,childDailyChallenges:d,selectedChild:p}),a.jsx(te,{className:"border-2 border-purple-200 shadow-lg",children:a.jsx(re,{className:"p-6",children:a.jsxs(Vc,{value:n,onValueChange:i,className:"w-full",children:[a.jsxs(pl,{className:"grid w-full grid-cols-4 lg:grid-cols-8 mb-6",children:[a.jsxs(St,{value:"overview",children:[a.jsx(mf,{className:"w-4 h-4 mr-2"}),"Overview"]}),a.jsxs(St,{value:"analytics",children:[a.jsx(mr,{className:"w-4 h-4 mr-2"}),"Analytics"]}),a.jsxs(St,{value:"lessons",children:[a.jsx(ks,{className:"w-4 h-4 mr-2"}),"Lessons"]}),a.jsxs(St,{value:"goals",children:[a.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Goals"]}),a.jsxs(St,{value:"communication",children:[a.jsx(ac,{className:"w-4 h-4 mr-2"}),"Messages"]}),a.jsxs(St,{value:"team",children:[a.jsx(yn,{className:"w-4 h-4 mr-2"}),"Team"]}),a.jsxs(St,{value:"controls",children:[a.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Controls"]}),a.jsxs(St,{value:"accounts",children:[a.jsx(aP,{className:"w-4 h-4 mr-2"}),"Accounts"]})]}),a.jsxs(Dt,{value:"overview",className:"space-y-6",children:[a.jsx(l6e,{childProgress:c,childDailyChallenges:d}),a.jsx(H6e,{childProgress:c,childDailyChallenges:d})]}),a.jsx(Dt,{value:"analytics",className:"space-y-6",children:a.jsx(oLe,{childEmail:e,childProgress:c,childDailyChallenges:d})}),a.jsx(Dt,{value:"lessons",className:"space-y-6",children:a.jsx(iLe,{childEmail:e,childProgress:c})}),a.jsx(Dt,{value:"goals",className:"space-y-6",children:a.jsx(W6e,{childEmail:e,childGoals:f,childProgress:c,childDailyChallenges:d})}),a.jsx(Dt,{value:"communication",className:"space-y-6",children:a.jsx(sLe,{childEmail:e,parentEmail:s==null?void 0:s.email})}),a.jsx(Dt,{value:"team",className:"space-y-6",children:a.jsx(X6e,{})}),a.jsx(Dt,{value:"controls",className:"space-y-6",children:a.jsx(nLe,{childEmail:e,currentControls:(v==null?void 0:v.parental_controls)||{}})}),a.jsx(Dt,{value:"accounts",className:"space-y-6",children:a.jsx(aLe,{myChildren:l,parentEmail:s==null?void 0:s.email})})]})})})]}):a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(re,{className:"p-12 text-center",children:[a.jsx(yn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Child Selected"}),a.jsx("p",{className:"text-gray-600 mb-6",children:l.length>0?"Select a child from above to view their progress":"Add a child account to start monitoring their progress"}),l.length===0&&a.jsxs(ze,{className:"bg-blue-50 border-blue-200 text-left",children:[a.jsx(ai,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"How to add a child:"}),a.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Have your child create an account"}),a.jsx("li",{children:"In their account settings, they can add your email as their parent"}),a.jsx("li",{children:"Their progress will then appear in your portal"})]})]})]})]})})]}):a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs(te,{className:"border-4 border-yellow-300 shadow-2xl",children:[a.jsxs(_e,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-center py-12",children:[a.jsx(bi,{className:"w-20 h-20 mx-auto mb-4"}),a.jsx(Ne,{className:"text-4xl mb-2",children:"Unlock Premium Parent Features"}),a.jsx("p",{className:"text-xl opacity-90",children:"Get full access to advanced parental controls and analytics"})]}),a.jsxs(re,{className:"p-8 space-y-6",children:[a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(Vi,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"Premium Parent Subscription Includes:"}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Advanced parental controls (time limits, content filtering)"}),a.jsx("li",{children:"Detailed progress analytics and performance insights"}),a.jsx("li",{children:"Custom goal setting and weekly/monthly reports"}),a.jsx("li",{children:"Focus topic recommendations"}),a.jsx("li",{children:"Feature access management"}),a.jsx("li",{children:"Lesson assignment capabilities"}),a.jsx("li",{children:"Communication center with your child"}),a.jsx("li",{children:"Student account management tools"})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs(oe,{className:"h-14 px-8 text-lg bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",onClick:()=>window.open(Je("Subscription"),"_blank","noopener,noreferrer"),children:[a.jsx(bi,{className:"w-5 h-5 mr-2"}),"View Subscription Plans"]}),a.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Starting at $7.99/month  Cancel anytime"})]})]})]})}):a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs(te,{className:"border-4 border-purple-300 shadow-2xl",children:[a.jsxs(_e,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx(Ne,{className:"text-4xl mb-2",children:"Parent & Teacher Portal"}),a.jsx("p",{className:"text-xl opacity-90",children:"Monitor and guide your child's learning journey"})]}),a.jsxs(re,{className:"p-8 space-y-6",children:[a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ai,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"Welcome to the Parent Portal!"})," This feature allows you to:",a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"View detailed progress across all game modes"}),a.jsx("li",{children:"Track performance trends and identify strengths/weaknesses"}),a.jsx("li",{children:"Set custom goals and challenges"}),a.jsx("li",{children:"Monitor daily challenge participation"}),a.jsx("li",{children:"Control app usage and customize learning focus"}),a.jsx("li",{children:"Set time limits and manage feature access"}),a.jsx("li",{children:"Assign specific lessons and practice areas"}),a.jsx("li",{children:"Communicate directly with your child"}),a.jsx("li",{children:"Manage multiple student accounts"})]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl border-2 border-purple-200",children:[a.jsx(mr,{className:"w-12 h-12 mx-auto mb-3 text-purple-600"}),a.jsx("h3",{className:"font-bold mb-2",children:"Track Progress"}),a.jsx("p",{className:"text-sm text-gray-600",children:"See detailed statistics and performance trends"})]}),a.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border-2 border-blue-200",children:[a.jsx(Qt,{className:"w-12 h-12 mx-auto mb-3 text-blue-600"}),a.jsx("h3",{className:"font-bold mb-2",children:"Assign Lessons"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Create custom lessons and practice goals"})]}),a.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl border-2 border-green-200",children:[a.jsx(ac,{className:"w-12 h-12 mx-auto mb-3 text-green-600"}),a.jsx("h3",{className:"font-bold mb-2",children:"Communicate"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Send feedback and encouragement"})]})]}),a.jsxs("div",{className:"text-center pt-4",children:[a.jsxs(oe,{onClick:()=>m.mutate(!0),className:"h-14 px-8 text-lg bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",disabled:m.isPending,children:[a.jsx(yn,{className:"w-5 h-5 mr-2"}),m.isPending?"Enabling...":"Enable Parent Mode"]}),a.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"You can switch back to regular mode anytime"})]})]})]})})}function lLe({badge:t,size:e="medium"}){if(!t)return null;const r={small:"w-8 h-8 text-lg",medium:"w-12 h-12 text-2xl",large:"w-20 h-20 text-4xl"},n=r[e]||r.medium;return a.jsxs("div",{className:"relative inline-block",children:[a.jsx("div",{className:`${n} rounded-full bg-gradient-to-br ${t.gradient} flex items-center justify-center shadow-lg border-2 border-white`,children:a.jsx("span",{children:t.emoji})}),e!=="small"&&a.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 whitespace-nowrap",children:a.jsx(je,{variant:"outline",className:"text-xs bg-white",children:t.name})})]})}const _q=[{day:1,stars:5,coins:20,emoji:""},{day:2,stars:5,coins:25,emoji:""},{day:3,stars:10,coins:30,emoji:""},{day:4,stars:10,coins:35,emoji:""},{day:5,stars:15,coins:50,emoji:""},{day:6,stars:15,coins:60,emoji:""},{day:7,stars:25,coins:100,emoji:"",special:"Bonus Pet Food!"}];function cLe(){const t=vn(),[e,r]=S.useState(!1),{data:n}=ut({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),i=Pr({mutationFn:async()=>{var I;const v=ur(Bi(new Date),"yyyy-MM-dd"),x=((n==null?void 0:n.daily_login_streak)||0)+1,g=(x-1)%7+1,_=_q[g-1],T={last_login_date:v,daily_login_streak:x,total_login_days:((n==null?void 0:n.total_login_days)||0)+1,coins:((n==null?void 0:n.coins)||0)+_.coins};if(g===7&&(n!=null&&n.active_pet)){const A=((I=n==null?void 0:n.pet_experience)==null?void 0:I[n.active_pet])||0;T.pet_experience={...(n==null?void 0:n.pet_experience)||{},[n.active_pet]:A+200}}const P=cr(Bt);await ad(ds(P,"users",n.email),T,{merge:!0})},onSuccess:()=>{t.invalidateQueries({queryKey:["currentUser"]}),r(!0),setTimeout(()=>r(!1),3e3)}}),s=()=>{if(!n)return!1;const v=ur(Bi(new Date),"yyyy-MM-dd"),w=n.last_login_date;if(!w)return!0;if(w===v)return!1;const x=new Date(w),g=Bi(new Date);return i6(g,x)===1},o=()=>{if(!(n!=null&&n.last_login_date))return!1;const v=new Date(n.last_login_date),w=Bi(new Date);return i6(w,v)>1},l=()=>n!=null&&n.daily_login_streak?(n.daily_login_streak-1)%7+1:1,c=()=>{if(!(n!=null&&n.last_login_date))return!1;const v=ur(Bi(new Date),"yyyy-MM-dd");return n.last_login_date===v},d=(n==null?void 0:n.daily_login_streak)||0,f=l(),m=c(),p=o();return a.jsxs(te,{className:"border-4 border-purple-300 shadow-xl bg-gradient-to-br from-purple-50 to-pink-50",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wr,{className:"w-6 h-6"}),a.jsx("span",{children:"Daily Login Rewards"})]}),a.jsxs(je,{className:"bg-white text-purple-600 font-bold",children:[a.jsx(Yt,{className:"w-4 h-4 mr-1"}),d," Day Streak"]})]})}),a.jsxs(re,{className:"p-6",children:[e&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border-2 border-green-300 rounded-xl animate-pulse",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-4xl",children:""}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-green-800",children:"Reward Claimed!"}),a.jsx("p",{className:"text-sm text-green-700",children:"Come back tomorrow for more rewards!"})]})]})}),p&&a.jsx("div",{className:"mb-4 p-4 bg-orange-50 border-2 border-orange-300 rounded-xl",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-3xl",children:""}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-orange-800",children:"Streak Reset!"}),a.jsx("p",{className:"text-sm text-orange-700",children:"You missed a day. Start a new streak today!"})]})]})}),a.jsx("div",{className:"grid grid-cols-7 gap-2 mb-6",children:_q.map((v,w)=>{const x=w+1,g=x===f,_=!p&&d>=x,T=m&&x===f;return a.jsxs("div",{className:`relative p-3 rounded-xl text-center transition-all ${T?"bg-green-100 border-2 border-green-400 scale-105":g&&!m?"bg-purple-100 border-2 border-purple-400 scale-105 animate-pulse":_?"bg-gray-100 border-2 border-gray-300":"bg-white border-2 border-gray-200 opacity-60"}`,children:[a.jsx("div",{className:"text-2xl mb-1",children:v.emoji}),a.jsxs("div",{className:"text-xs font-bold mb-1",children:["Day ",x]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs",children:[a.jsx(Nt,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),a.jsx("span",{children:v.stars})]}),a.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs",children:[a.jsx(_c,{className:"w-3 h-3 text-blue-500"}),a.jsx("span",{children:v.coins})]})]}),T&&a.jsx("div",{className:"absolute -top-1 -right-1",children:a.jsx(Ut,{className:"w-5 h-5 text-green-500 fill-green-100"})}),!g&&!_&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 rounded-xl",children:a.jsx(oi,{className:"w-4 h-4 text-gray-500"})}),v.special&&g&&a.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 whitespace-nowrap",children:a.jsx(je,{className:"bg-orange-500 text-white text-xs",children:v.special})})]},x)})}),a.jsxs("div",{className:"space-y-3",children:[m?a.jsxs("div",{className:"text-center p-4 bg-green-50 border-2 border-green-200 rounded-xl",children:[a.jsx(Ut,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),a.jsx("p",{className:"font-bold text-green-800",children:"Already claimed today!"}),a.jsx("p",{className:"text-sm text-green-700",children:"Come back tomorrow for more rewards"})]}):p?a.jsxs(oe,{onClick:()=>i.mutate(),disabled:i.isPending,className:"w-full h-14 text-lg bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",children:[a.jsx(sP,{className:"w-5 h-5 mr-2"}),"Start New Streak & Claim Day 1"]}):a.jsxs(oe,{onClick:()=>i.mutate(),disabled:!s()||i.isPending,className:"w-full h-14 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(sP,{className:"w-5 h-5 mr-2"}),"Claim Day ",f," Reward"]}),a.jsxs("div",{className:"text-center text-sm text-gray-600",children:[a.jsxs("p",{children:[" Total Login Days: ",a.jsx("strong",{children:(n==null?void 0:n.total_login_days)||0})]}),a.jsx("p",{className:"mt-1",children:" Log in every day to keep your streak and earn bigger rewards!"})]})]})]})]})}const Gv={pets:[{id:"dragon",name:"Dragon",emoji:"",price:50,gradient:"from-red-400 to-orange-500",evolveLevel:5,description:"Breathe fire and soar!"},{id:"unicorn",name:"Unicorn",emoji:"",price:50,gradient:"from-pink-400 to-purple-500",evolveLevel:5,description:"Magical and sparkly!"},{id:"owl",name:"Owl",emoji:"",price:50,gradient:"from-indigo-400 to-purple-500",evolveLevel:5,description:"Wise and clever!"},{id:"fox",name:"Fox",emoji:"",price:50,gradient:"from-orange-400 to-red-500",evolveLevel:5,description:"Cunning and quick!"},{id:"cat",name:"Cat",emoji:"",price:50,gradient:"from-gray-400 to-slate-500",evolveLevel:5,description:"Playful and curious!"},{id:"dog",name:"Dog",emoji:"",price:50,gradient:"from-yellow-400 to-orange-500",evolveLevel:5,description:"Loyal and friendly!"}],avatarItems:[{id:"curly",name:"Curly Hair",emoji:"",price:20,category:"hair",type:"avatar_hair_style"},{id:"spiky",name:"Spiky Hair",emoji:"",price:20,category:"hair",type:"avatar_hair_style"},{id:"ponytail",name:"Ponytail",emoji:"",price:25,category:"hair",type:"avatar_hair_style"},{id:"braids",name:"Braids",emoji:"",price:25,category:"hair",type:"avatar_hair_style"},{id:"afro",name:"Afro",emoji:"",price:30,category:"hair",type:"avatar_hair_style"},{id:"mohawk",name:"Mohawk",emoji:"",price:30,category:"hair",type:"avatar_hair_style"},{id:"bun",name:"Bun",emoji:"",price:25,category:"hair",type:"avatar_hair_style"},{id:"red",name:"Red Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"blue",name:"Blue Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"pink",name:"Pink Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"purple",name:"Purple Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"green",name:"Green Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"orange",name:"Orange Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"white",name:"White Hair",emoji:"",price:20,category:"hair",type:"avatar_hair_color"},{id:"rainbow",name:"Rainbow Hair",emoji:"",price:40,category:"hair",type:"avatar_hair_color"},{id:"hoodie",name:"Hoodie",emoji:"",price:30,category:"clothing",type:"avatar_shirt"},{id:"tank_top",name:"Tank Top",emoji:"",price:25,category:"clothing",type:"avatar_shirt"},{id:"sweater",name:"Sweater",emoji:"",price:30,category:"clothing",type:"avatar_shirt"},{id:"jersey",name:"Jersey",emoji:"",price:35,category:"clothing",type:"avatar_shirt"},{id:"button_up",name:"Button Up",emoji:"",price:35,category:"clothing",type:"avatar_shirt"},{id:"graphic_tee",name:"Graphic Tee",emoji:"",price:30,category:"clothing",type:"avatar_shirt"},{id:"t_shirt_stripe",name:"Striped Tee",emoji:"",price:25,category:"clothing",type:"avatar_shirt"},{id:"polo",name:"Polo Shirt",emoji:"",price:30,category:"clothing",type:"avatar_shirt"},{id:"shorts",name:"Shorts",emoji:"",price:25,category:"clothing",type:"avatar_pants"},{id:"skirt",name:"Skirt",emoji:"",price:25,category:"clothing",type:"avatar_pants"},{id:"dress_pants",name:"Dress Pants",emoji:"",price:30,category:"clothing",type:"avatar_pants"},{id:"joggers",name:"Joggers",emoji:"",price:30,category:"clothing",type:"avatar_pants"},{id:"overalls",name:"Overalls",emoji:"",price:35,category:"clothing",type:"avatar_pants"},{id:"leggings",name:"Leggings",emoji:"",price:25,category:"clothing",type:"avatar_pants"},{id:"cargo_pants",name:"Cargo Pants",emoji:"",price:30,category:"clothing",type:"avatar_pants"},{id:"boots",name:"Boots",emoji:"",price:30,category:"clothing",type:"avatar_shoes"},{id:"sandals",name:"Sandals",emoji:"",price:20,category:"clothing",type:"avatar_shoes"},{id:"dress_shoes",name:"Dress Shoes",emoji:"",price:35,category:"clothing",type:"avatar_shoes"},{id:"high_tops",name:"High Tops",emoji:"",price:35,category:"clothing",type:"avatar_shoes"},{id:"cleats",name:"Cleats",emoji:"",price:35,category:"clothing",type:"avatar_shoes"},{id:"slippers",name:"Slippers",emoji:"",price:20,category:"clothing",type:"avatar_shoes"},{id:"baseball_cap",name:"Baseball Cap",emoji:"",price:25,category:"accessories",type:"avatar_hat"},{id:"beanie",name:"Beanie",emoji:"",price:25,category:"accessories",type:"avatar_hat"},{id:"sun_hat",name:"Sun Hat",emoji:"",price:25,category:"accessories",type:"avatar_hat"},{id:"wizard_hat",name:"Wizard Hat",emoji:"",price:40,category:"accessories",type:"avatar_hat"},{id:"party_hat",name:"Party Hat",emoji:"",price:30,category:"accessories",type:"avatar_hat"},{id:"graduation_cap",name:"Graduation Cap",emoji:"",price:35,category:"accessories",type:"avatar_hat"},{id:"crown",name:"Crown",emoji:"",price:50,category:"accessories",type:"avatar_hat"},{id:"top_hat",name:"Top Hat",emoji:"",price:35,category:"accessories",type:"avatar_hat"},{id:"cowboy_hat",name:"Cowboy Hat",emoji:"",price:30,category:"accessories",type:"avatar_hat"},{id:"regular",name:"Glasses",emoji:"",price:25,category:"accessories",type:"avatar_glasses"},{id:"sunglasses",name:"Sunglasses",emoji:"",price:30,category:"accessories",type:"avatar_glasses"},{id:"reading",name:"Reading Glasses",emoji:"",price:25,category:"accessories",type:"avatar_glasses"},{id:"safety_goggles",name:"Safety Goggles",emoji:"",price:30,category:"accessories",type:"avatar_glasses"},{id:"3d_glasses",name:"3D Glasses",emoji:"",price:30,category:"accessories",type:"avatar_glasses"},{id:"heart_shaped",name:"Heart Glasses",emoji:"",price:35,category:"accessories",type:"avatar_glasses"},{id:"star_shaped",name:"Star Glasses",emoji:"",price:35,category:"accessories",type:"avatar_glasses"},{id:"backpack",name:"Backpack",emoji:"",price:30,category:"accessories",type:"avatar_accessory"},{id:"cape",name:"Cape",emoji:"",price:40,category:"accessories",type:"avatar_accessory"},{id:"scarf",name:"Scarf",emoji:"",price:25,category:"accessories",type:"avatar_accessory"},{id:"bow_tie",name:"Bow Tie",emoji:"",price:25,category:"accessories",type:"avatar_accessory"},{id:"necklace",name:"Necklace",emoji:"",price:30,category:"accessories",type:"avatar_accessory"},{id:"watch",name:"Watch",emoji:"",price:35,category:"accessories",type:"avatar_accessory"},{id:"headphones",name:"Headphones",emoji:"",price:35,category:"accessories",type:"avatar_accessory"},{id:"earrings",name:"Earrings",emoji:"",price:30,category:"accessories",type:"avatar_accessory"},{id:"bracelet",name:"Bracelet",emoji:"",price:25,category:"accessories",type:"avatar_accessory"},{id:"stars",name:"Starry Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"rainbow",name:"Rainbow Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"clouds",name:"Cloudy Background",emoji:"",price:35,category:"backgrounds",type:"avatar_background"},{id:"space",name:"Space Background",emoji:"",price:45,category:"backgrounds",type:"avatar_background"},{id:"underwater",name:"Underwater Background",emoji:"",price:45,category:"backgrounds",type:"avatar_background"},{id:"forest",name:"Forest Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"city",name:"City Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"beach",name:"Beach Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"cool",name:"Cool Eyes",emoji:"",price:20,category:"facial",type:"avatar_eyes"},{id:"star",name:"Star Eyes",emoji:"",price:25,category:"facial",type:"avatar_eyes"},{id:"heart",name:"Heart Eyes",emoji:"",price:25,category:"facial",type:"avatar_eyes"},{id:"sleepy",name:"Sleepy Eyes",emoji:"",price:20,category:"facial",type:"avatar_eyes"},{id:"angry",name:"Determined Eyes",emoji:"",price:20,category:"facial",type:"avatar_eyes"},{id:"surprised",name:"Surprised Eyes",emoji:"",price:20,category:"facial",type:"avatar_eyes"},{id:"wink",name:"Winking Eyes",emoji:"",price:25,category:"facial",type:"avatar_eyes"},{id:"laughing",name:"Laughing Face",emoji:"",price:20,category:"facial",type:"avatar_face"},{id:"determined",name:"Determined Face",emoji:"",price:20,category:"facial",type:"avatar_face"},{id:"neutral",name:"Neutral Face",emoji:"",price:15,category:"facial",type:"avatar_face"},{id:"tongue_out",name:"Playful Face",emoji:"",price:20,category:"facial",type:"avatar_face"}],badges:[{id:"first_game",name:"First Game",emoji:"",gradient:"from-green-400 to-emerald-500",description:"Completed your first game!",requirement:"Play 1 game"},{id:"star_collector",name:"Star Collector",emoji:"",gradient:"from-yellow-400 to-orange-500",description:"Earned 50 stars!",requirement:"Earn 50 stars"},{id:"speed_demon",name:"Speed Demon",emoji:"",gradient:"from-blue-400 to-cyan-500",description:"Complete a game in under 60 seconds",requirement:"Complete game < 60s"},{id:"perfectionist",name:"Perfectionist",emoji:"",gradient:"from-pink-400 to-purple-500",description:"Get 100% accuracy",requirement:"100% accuracy"},{id:"daily_warrior",name:"Daily Warrior",emoji:"",gradient:"from-red-400 to-orange-500",description:"Complete 7 daily challenges",requirement:"7 daily challenges"}],powerUps:[{id:"time_freeze",name:"Time Freeze",emoji:"",price:10,coins:!0,description:"Stop the timer for 10 seconds"},{id:"hint_helper",name:"Hint Helper",emoji:"",price:5,coins:!0,description:"Get a hint on a problem"},{id:"skip_question",name:"Skip Question",emoji:"",price:8,coins:!0,description:"Skip one difficult question"},{id:"double_stars",name:"Double Stars",emoji:"",price:15,coins:!0,description:"Earn 2x stars for next game"}]};function NJ(){const t=vn(),[e,r]=S.useState(null),[n,i]=S.useState("pets"),{data:s,isLoading:o}=ut({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:l=[]}=ut({queryKey:["gameProgress"],queryFn:()=>base44.entities.GameProgress.list(),initialData:[]}),c=Pr({mutationFn:async({itemId:g,price:_,type:T,coins:P=!1})=>{const I={};if(P)I.coins=((s==null?void 0:s.coins)||0)-_,I.power_ups={...(s==null?void 0:s.power_ups)||{},[g]:(((s==null?void 0:s.power_ups)||{})[g]||0)+1};else{const A=l.reduce((N,O)=>N+(O.stars_earned||0),0),C=(s==null?void 0:s.stars_spent)||0;if(A-C<_)throw new Error("Not enough stars!");I.stars_spent=C+_,T==="pet"?(I.owned_pets=[...(s==null?void 0:s.owned_pets)||[],g],s!=null&&s.active_pet||(I.active_pet=g)):I.purchased_items=[...(s==null?void 0:s.purchased_items)||[],g]}return base44.auth.updateMe(I)},onSuccess:(g,_)=>{t.invalidateQueries({queryKey:["currentUser"]}),r(_.itemId),setTimeout(()=>r(null),3e3)}}),d=Pr({mutationFn:g=>base44.auth.updateMe({active_pet:g}),onSuccess:()=>{t.invalidateQueries({queryKey:["currentUser"]})}}),f=(g,_="avatar",T=!1)=>{c.mutate({itemId:g.id,price:g.price,type:_,coins:T})},m=g=>{d.mutate(g)},p=(g,_="avatar")=>_==="pet"?((s==null?void 0:s.owned_pets)||[]).includes(g):((s==null?void 0:s.unlocked_items)||[]).includes(g)||((s==null?void 0:s.purchased_items)||[]).includes(g),v=()=>l.reduce((g,_)=>g+(_.stars_earned||0),0),w=()=>{const g=v(),_=(s==null?void 0:s.stars_spent)||0;return g-_},x=()=>(s==null?void 0:s.coins)||0;return o?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading shop..."})]})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(qo,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Rewards Shop"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Spend your stars and coins on awesome items!"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[a.jsx(te,{className:"border-4 border-yellow-300 bg-gradient-to-r from-yellow-50 to-orange-50",children:a.jsxs(re,{className:"p-6 text-center",children:[a.jsx(Nt,{className:"w-12 h-12 mx-auto mb-2 text-yellow-500 fill-yellow-500"}),a.jsx("div",{className:"text-4xl font-bold text-yellow-600 mb-1",children:w()}),a.jsx("p",{className:"text-gray-600",children:"Available Stars"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total: ",v()," | Spent: ",(s==null?void 0:s.stars_spent)||0]})]})}),a.jsx(te,{className:"border-4 border-blue-300 bg-gradient-to-r from-blue-50 to-cyan-50",children:a.jsxs(re,{className:"p-6 text-center",children:[a.jsx(_c,{className:"w-12 h-12 mx-auto mb-2 text-blue-500"}),a.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:x()}),a.jsx("p",{className:"text-gray-600",children:"Coins"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For power-ups and boosts"})]})})]}),e&&a.jsxs(ze,{className:"mb-6 bg-green-50 border-green-200",children:[a.jsx(Yt,{className:"w-4 h-4 text-green-600"}),a.jsx(We,{className:"text-green-800",children:"Purchase successful! Item added to your collection "})]}),a.jsx("div",{className:"mb-8",children:a.jsx(cLe,{})}),a.jsx(te,{className:"border-2 border-purple-200",children:a.jsx(re,{className:"p-6",children:a.jsxs(Vc,{value:n,onValueChange:i,children:[a.jsxs(pl,{className:"grid w-full grid-cols-4 mb-6",children:[a.jsxs(St,{value:"pets",children:[a.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Pets"]}),a.jsxs(St,{value:"avatar",children:[a.jsx(ld,{className:"w-4 h-4 mr-2"}),"Avatar"]}),a.jsxs(St,{value:"badges",children:[a.jsx(bi,{className:"w-4 h-4 mr-2"}),"Badges"]}),a.jsxs(St,{value:"powerups",children:[a.jsx(qn,{className:"w-4 h-4 mr-2"}),"Power-Ups"]})]}),a.jsx(Dt,{value:"pets",className:"space-y-6",children:a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Gv.pets.map(g=>{var I;const _=p(g.id,"pet"),T=(s==null?void 0:s.active_pet)===g.id,P=w()>=g.price;return a.jsxs(te,{className:`border-2 ${T?"border-purple-500 ring-2 ring-purple-200":"border-gray-200"}`,children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsx("span",{children:g.name}),T&&a.jsx(je,{className:"bg-purple-500",children:"Active"})]})}),a.jsxs(re,{children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(tI,{pet:g,experience:((I=s==null?void 0:s.pet_experience)==null?void 0:I[g.id])||0,size:"large"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:g.description}),_?T?a.jsx(oe,{disabled:!0,className:"w-full",variant:"outline",children:"Currently Active"}):a.jsx(oe,{onClick:()=>m(g.id),className:"w-full bg-purple-500 hover:bg-purple-600",children:"Set as Active"}):a.jsx(oe,{onClick:()=>f(g,"pet"),disabled:!P||c.isPending,className:`w-full ${P?"bg-gradient-to-r from-purple-500 to-pink-500":""}`,children:P?a.jsxs(a.Fragment,{children:[a.jsx(Nt,{className:"w-4 h-4 mr-2 fill-white"}),"Buy for ",g.price," Stars"]}):a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"w-4 h-4 mr-2"}),"Need ",g.price-w()," more stars"]})})]})]},g.id)})})}),a.jsx(Dt,{value:"avatar",className:"space-y-6",children:a.jsxs(Vc,{defaultValue:"hair",children:[a.jsxs(pl,{className:"grid w-full grid-cols-5",children:[a.jsx(St,{value:"hair",children:"Hair"}),a.jsx(St,{value:"clothing",children:"Clothing"}),a.jsx(St,{value:"accessories",children:"Accessories"}),a.jsx(St,{value:"backgrounds",children:"Backgrounds"}),a.jsx(St,{value:"facial",children:"Facial"})]}),["hair","clothing","accessories","backgrounds","facial"].map(g=>a.jsx(Dt,{value:g,children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Gv.avatarItems.filter(_=>_.category===g).map(_=>{const T=p(_.id),P=w()>=_.price;return a.jsx(te,{className:`border-2 ${T?"border-green-300 bg-green-50":"border-gray-200"}`,children:a.jsxs(re,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:_.emoji}),a.jsx("h3",{className:"font-bold text-sm mb-2",children:_.name}),T?a.jsx(je,{className:"bg-green-500 text-white",children:"Owned"}):a.jsx(oe,{onClick:()=>f(_),disabled:!P||c.isPending,size:"sm",className:`w-full ${P?"bg-gradient-to-r from-purple-500 to-pink-500":""}`,children:P?a.jsxs(a.Fragment,{children:[a.jsx(Nt,{className:"w-3 h-3 mr-1 fill-white"}),_.price]}):a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"w-3 h-3 mr-1"}),_.price]})})]})},_.id)})})},g))]})}),a.jsxs(Dt,{value:"badges",className:"space-y-6",children:[a.jsxs(ze,{className:"bg-blue-50 border-blue-300",children:[a.jsx(Yt,{className:"w-4 h-4 text-blue-600"}),a.jsx(We,{className:"text-blue-800",children:"Badges are earned by completing specific achievements. Keep playing to unlock them all!"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Gv.badges.map(g=>a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(re,{className:"p-6 text-center",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx(lLe,{badge:g,size:"large"})}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:g.name}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.description}),a.jsx(je,{variant:"outline",className:"text-xs",children:g.requirement})]})},g.id))})]}),a.jsxs(Dt,{value:"powerups",className:"space-y-6",children:[a.jsxs(ze,{className:"bg-cyan-50 border-cyan-300",children:[a.jsx(_c,{className:"w-4 h-4 text-cyan-600"}),a.jsx(We,{className:"text-cyan-800",children:"Power-ups are purchased with coins and can be used during games to help you succeed!"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:Gv.powerUps.map(g=>{const _=x()>=g.price,T=((s==null?void 0:s.power_ups)||{})[g.id]||0;return a.jsx(te,{className:"border-2 border-cyan-200",children:a.jsxs(re,{className:"p-6 text-center",children:[a.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),a.jsx("h3",{className:"font-bold mb-2",children:g.name}),a.jsx("p",{className:"text-xs text-gray-600 mb-3",children:g.description}),T>0&&a.jsxs(je,{className:"bg-green-500 text-white mb-2",children:["Owned: ",T]}),a.jsx(oe,{onClick:()=>f(g,"powerup",!0),disabled:!_||c.isPending,size:"sm",className:`w-full ${_?"bg-gradient-to-r from-cyan-500 to-blue-500":""}`,children:_?a.jsxs(a.Fragment,{children:[a.jsx(_c,{className:"w-4 h-4 mr-2"}),"Buy for ",g.price]}):a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"w-4 h-4 mr-2"}),"Need ",g.price-x()," coins"]})})]})},g.id)})})]})]})})}),a.jsxs(te,{className:"mt-8 bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Yt,{className:"w-6 h-6 text-purple-600"}),"How to Earn More"]})}),a.jsxs(re,{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Play Games"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Earn up to 3 stars per game"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Daily Challenges"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get bonus rewards every day"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Achievements"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Unlock items by achieving goals"})]})]})]})]})}function SJ(){const t=vn(),[e,r]=S.useState(""),[n,i]=S.useState(!1),{data:s}=ut({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:o=[]}=ut({queryKey:["allUsers"],queryFn:()=>base44.entities.User.list(),initialData:[]}),{data:l=[]}=ut({queryKey:["allProgress"],queryFn:()=>base44.entities.GameProgress.list("-score"),initialData:[]}),{data:c=[]}=ut({queryKey:["allDailyChallenges"],queryFn:()=>base44.entities.DailyChallenge.list("-score"),initialData:[]}),{data:d=[]}=ut({queryKey:["myFriends"],queryFn:async()=>{const N=await base44.auth.me(),O=await base44.entities.FriendConnection.filter({user_email:N.email,status:"accepted"}),D=await base44.entities.FriendConnection.filter({friend_email:N.email,status:"accepted"});return[...O,...D]},initialData:[],enabled:!!s}),{data:f=[]}=ut({queryKey:["pendingRequests"],queryFn:async()=>{const N=await base44.auth.me();return base44.entities.FriendConnection.filter({friend_email:N.email,status:"pending"})},initialData:[],enabled:!!s}),m=Pr({mutationFn:N=>base44.entities.FriendConnection.create(N),onSuccess:()=>{t.invalidateQueries({queryKey:["myFriends"]}),i(!0),r(""),setTimeout(()=>i(!1),3e3)}}),p=Pr({mutationFn:({id:N,status:O})=>base44.entities.FriendConnection.update(N,{status:O}),onSuccess:()=>{t.invalidateQueries({queryKey:["myFriends"]}),t.invalidateQueries({queryKey:["pendingRequests"]})}}),v=`${ur(new Date,"yyyy")}-W${pG(new Date)}`,w=`${ur(new Date,"yyyy")}-M${ur(new Date,"MM")}`,x=(N,O=null)=>{const D=l.filter($=>O?$.operation===N&&$.level===O:$.operation===N),L={};return D.forEach($=>{L[$.created_by]||(L[$.created_by]={email:$.created_by,totalScore:0,bestScore:0,gamesPlayed:0,totalAccuracy:0}),L[$.created_by].totalScore+=$.score,L[$.created_by].bestScore=Math.max(L[$.created_by].bestScore,$.score),L[$.created_by].gamesPlayed++,L[$.created_by].totalAccuracy+=$.correct_answers/$.total_questions*100}),Object.values(L).map($=>({...$,avgAccuracy:Math.round($.totalAccuracy/$.gamesPlayed)})).sort(($,F)=>F.bestScore-$.bestScore).slice(0,10)},g=()=>{const N={};return l.forEach(O=>{(!N[O.created_by]||O.time_taken<N[O.created_by].time)&&(N[O.created_by]={email:O.created_by,time:O.time_taken,score:O.score,accuracy:Math.round(O.correct_answers/O.total_questions*100)})}),Object.values(N).sort((O,D)=>O.time-D.time).slice(0,10)},_=()=>{const N=d.map(D=>D.user_email===(s==null?void 0:s.email)?D.friend_email:D.user_email);N.push(s==null?void 0:s.email);const O={};return l.forEach(D=>{N.includes(D.created_by)&&(O[D.created_by]||(O[D.created_by]={email:D.created_by,totalScore:0,gamesPlayed:0,totalStars:0}),O[D.created_by].totalScore+=D.score,O[D.created_by].gamesPlayed++,O[D.created_by].totalStars+=D.stars_earned||0)}),Object.values(O).sort((D,L)=>L.totalScore-D.totalScore).slice(0,10)},T=N=>{const O=N==="weekly"?ud(new Date):fG(new Date),D={};return l.forEach(L=>{new Date(L.created_date)>=O&&(D[L.created_by]||(D[L.created_by]={email:L.created_by,totalScore:0,gamesPlayed:0,totalStars:0}),D[L.created_by].totalScore+=L.score,D[L.created_by].gamesPlayed++,D[L.created_by].totalStars+=L.stars_earned||0)}),Object.values(D).sort((L,$)=>$.totalScore-L.totalScore).slice(0,10)},P=N=>N===1?a.jsx(Ct,{className:"w-6 h-6 text-yellow-500 fill-yellow-500"}):N===2?a.jsx(Gp,{className:"w-6 h-6 text-gray-400 fill-gray-400"}):N===3?a.jsx(Gp,{className:"w-6 h-6 text-amber-600 fill-amber-600"}):a.jsxs("span",{className:"w-6 h-6 flex items-center justify-center font-bold text-gray-500",children:["#",N]}),I=N=>N===1?"from-yellow-100 to-yellow-200 border-yellow-300":N===2?"from-gray-100 to-gray-200 border-gray-300":N===3?"from-amber-100 to-amber-200 border-amber-300":"from-white to-gray-50 border-gray-200",A=N=>{const O=o.find(D=>D.email===N);return(O==null?void 0:O.child_name)||(O==null?void 0:O.full_name)||N.split("@")[0]},C=()=>{!e||e===(s==null?void 0:s.email)||m.mutate({user_email:s.email,friend_email:e,connection_type:"friend"})},E=({title:N,icon:O,data:D,renderStats:L})=>a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(O,{className:"w-6 h-6 text-purple-600"}),N]})}),a.jsx(re,{className:"p-6",children:D.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Ct,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No data available yet"})]}):a.jsx("div",{className:"space-y-2",children:D.map(($,F)=>{const G=F+1,Y=$.email===(s==null?void 0:s.email);return a.jsx("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all ${Y?"bg-gradient-to-r from-purple-100 to-pink-100 border-purple-300 shadow-md":`bg-gradient-to-r ${I(G)} border`}`,children:a.jsxs("div",{className:"flex items-center gap-4",children:[P(G),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-bold",children:A($.email)}),Y&&a.jsx(je,{className:"bg-purple-500 text-white",children:"You"})]}),L($)]})]})},F)})})})]});return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(Ct,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-yellow-600 via-orange-600 to-red-600 bg-clip-text text-transparent",children:"Leaderboards"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Compete with friends and players worldwide!"})]}),n&&a.jsxs(ze,{className:"mb-6 bg-green-50 border-green-200",children:[a.jsx(kp,{className:"w-4 h-4 text-green-600"}),a.jsx(We,{className:"text-green-800",children:"Friend request sent successfully! "})]}),f.length>0&&a.jsxs(te,{className:"mb-6 border-2 border-blue-300 bg-blue-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(kp,{className:"w-6 h-6 text-blue-600"}),"Pending Friend Requests (",f.length,")"]})}),a.jsx(re,{children:a.jsx("div",{className:"space-y-2",children:f.map(N=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[a.jsx("span",{className:"font-medium",children:A(N.user_email)}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{size:"sm",onClick:()=>p.mutate({id:N.id,status:"accepted"}),className:"bg-green-500 hover:bg-green-600",children:"Accept"}),a.jsx(oe,{size:"sm",variant:"outline",onClick:()=>p.mutate({id:N.id,status:"declined"}),children:"Decline"})]})]},N.id))})})]}),a.jsxs(Vc,{defaultValue:"tournaments",className:"space-y-6",children:[a.jsxs(pl,{className:"grid w-full grid-cols-2 md:grid-cols-4",children:[a.jsx(St,{value:"tournaments",children:"Tournaments"}),a.jsx(St,{value:"categories",children:"Categories"}),a.jsx(St,{value:"friends",children:"Friends"}),a.jsx(St,{value:"special",children:"Special"})]}),a.jsxs(Dt,{value:"tournaments",className:"space-y-6",children:[a.jsxs(te,{className:"border-4 border-yellow-300 bg-gradient-to-r from-yellow-50 to-orange-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"w-6 h-6 text-yellow-600"}),"Active Tournaments"]})}),a.jsx(re,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Wr,{className:"w-8 h-8 text-purple-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg",children:"Weekly Tournament"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Resets every Monday"})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tournament ID:"}),a.jsx("span",{className:"font-bold",children:v})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Prize:"}),a.jsx("span",{className:"font-bold text-yellow-600",children:"50 Bonus Stars "})]})]}),a.jsx(je,{className:"w-full justify-center bg-purple-500 text-white",children:"Active Now"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Wr,{className:"w-8 h-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg",children:"Monthly Tournament"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Resets on 1st of month"})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tournament ID:"}),a.jsx("span",{className:"font-bold",children:w})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Prize:"}),a.jsx("span",{className:"font-bold text-yellow-600",children:"100 Bonus Stars "})]})]}),a.jsx(je,{className:"w-full justify-center bg-blue-500 text-white",children:"Active Now"})]})]})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(E,{title:"Weekly Leaders",icon:mr,data:T("weekly"),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ct,{className:"w-4 h-4"}),N.totalScore," pts"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Nt,{className:"w-4 h-4 text-yellow-500"}),N.totalStars]}),a.jsxs("span",{children:[N.gamesPlayed," games"]})]})}),a.jsx(E,{title:"Monthly Leaders",icon:Gn,data:T("monthly"),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ct,{className:"w-4 h-4"}),N.totalScore," pts"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Nt,{className:"w-4 h-4 text-yellow-500"}),N.totalStars]}),a.jsxs("span",{children:[N.gamesPlayed," games"]})]})})]})]}),a.jsx(Dt,{value:"categories",className:"space-y-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(E,{title:"Multiplication Masters (Hard)",icon:qn,data:x("multiplication","hard"),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{children:["Best: ",N.bestScore]}),a.jsxs("span",{children:["Avg: ",N.avgAccuracy,"%"]}),a.jsxs("span",{children:[N.gamesPlayed," games"]})]})}),a.jsx(E,{title:"Addition Champions",icon:Fn,data:x("addition"),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{children:["Best: ",N.bestScore]}),a.jsxs("span",{children:["Avg: ",N.avgAccuracy,"%"]}),a.jsxs("span",{children:[N.gamesPlayed," games"]})]})}),a.jsx(E,{title:"Division Experts (Hard)",icon:Qt,data:x("division","hard"),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{children:["Best: ",N.bestScore]}),a.jsxs("span",{children:["Avg: ",N.avgAccuracy,"%"]}),a.jsxs("span",{children:[N.gamesPlayed," games"]})]})}),a.jsx(E,{title:"Subtraction Stars",icon:Gp,data:x("subtraction"),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{children:["Best: ",N.bestScore]}),a.jsxs("span",{children:["Avg: ",N.avgAccuracy,"%"]}),a.jsxs("span",{children:[N.gamesPlayed," games"]})]})})]})}),a.jsxs(Dt,{value:"friends",className:"space-y-6",children:[a.jsxs(te,{className:"border-2 border-blue-200 bg-blue-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(kp,{className:"w-6 h-6 text-blue-600"}),"Invite Friends"]})}),a.jsxs(re,{children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(pr,{placeholder:"Enter friend's email",value:e,onChange:N=>r(N.target.value),type:"email"}),a.jsxs(oe,{onClick:C,className:"bg-blue-500 hover:bg-blue-600",disabled:m.isPending||!e,children:[a.jsx(kp,{className:"w-4 h-4 mr-2"}),"Invite"]})]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Connected friends: ",d.length]})]})]}),a.jsx(E,{title:"Friends & Family Leaderboard",icon:yn,data:_(),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ct,{className:"w-4 h-4"}),N.totalScore," pts"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Nt,{className:"w-4 h-4 text-yellow-500"}),N.totalStars]}),a.jsxs("span",{children:[N.gamesPlayed," games"]})]})})]}),a.jsxs(Dt,{value:"special",className:"space-y-6",children:[a.jsx(E,{title:"Speed Demons (Fastest Completion)",icon:wr,data:g(),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1 font-bold text-blue-600",children:[a.jsx(wr,{className:"w-4 h-4"}),N.time,"s"]}),a.jsxs("span",{children:[N.score," pts"]}),a.jsxs("span",{children:[N.accuracy,"% accuracy"]})]})}),a.jsxs(te,{className:"border-2 border-green-200 bg-green-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"w-6 h-6 text-green-600"}),"Special Achievements"]})}),a.jsx(re,{children:a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h4",{className:"font-bold mb-1",children:"Perfect Score Club"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[l.filter(N=>N.correct_answers/N.total_questions===1).length," perfect games"]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h4",{className:"font-bold mb-1",children:"Speed Masters"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[l.filter(N=>N.time_taken<60).length," games under 60s"]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h4",{className:"font-bold mb-1",children:"Daily Warriors"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[c.length," daily challenges completed"]})]})]})})]})]})]})]})}function TJ(){const t=vn(),[e,r]=S.useState(null),{data:n}=ut({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:i=[]}=ut({queryKey:["allUsers"],queryFn:()=>base44.entities.User.list(),initialData:[]}),{data:s=[]}=ut({queryKey:["myTeamChallenges"],queryFn:async()=>{const g=await base44.auth.me();return(await base44.entities.TeamChallenge.list()).filter(T=>{var P;return((P=T.team_members)==null?void 0:P.includes(g.email))||T.creator_email===g.email})},initialData:[],enabled:!!n}),{data:o=[]}=ut({queryKey:["myProgress"],queryFn:async()=>{const g=await base44.auth.me();return base44.entities.GameProgress.filter({created_by:g.email})},initialData:[],enabled:!!n}),{data:l=[]}=ut({queryKey:["myDailyChallenges"],queryFn:async()=>{const g=await base44.auth.me();return base44.entities.DailyChallenge.filter({created_by:g.email})},initialData:[],enabled:!!n}),c=Pr({mutationFn:({challengeId:g,data:_})=>base44.entities.TeamChallenge.update(g,_),onSuccess:()=>{t.invalidateQueries({queryKey:["myTeamChallenges"]})}}),d=Pr({mutationFn:({stars:g,coins:_})=>{const T=n.total_stars_earned||0,P=n.coins||0;return base44.auth.updateMe({total_stars_earned:T+g,coins:P+_})},onSuccess:(g,_)=>{t.invalidateQueries({queryKey:["currentUser"]}),r(`Claimed ${_.stars} stars and ${_.coins} coins!`),setTimeout(()=>r(null),3e3)}}),f=g=>{const _=i.find(T=>T.email===g);return(_==null?void 0:_.child_name)||(_==null?void 0:_.full_name)||g.split("@")[0]},m=g=>{const _=new Date(g.start_date),T=g.end_date?new Date(g.end_date):new Date,P=o.filter(C=>{const E=new Date(C.created_date),N=E>=_&&E<=T,O=g.specific_operation==="any"||C.operation===g.specific_operation,D=g.specific_level==="any"||C.level===g.specific_level;return N&&O&&D}),I=l.filter(C=>{const E=new Date(C.created_date);return E>=_&&E<=T});let A=0;switch(g.challenge_type){case"team_score":A=P.reduce((C,E)=>C+(E.score||0),0);break;case"combined_accuracy":if(P.length>0){const C=P.reduce((E,N)=>E+N.correct_answers/N.total_questions*100,0);A=Math.round(C/P.length)}break;case"total_games":A=P.length;break;case"total_stars":A=P.reduce((C,E)=>C+(E.stars_earned||0),0),A+=I.reduce((C,E)=>C+(E.bonus_stars||0),0);break;case"daily_streak_sum":A=I.length;break;case"speed_challenge":P.length>0&&(A=Math.min(...P.map(C=>C.time_taken)));break}return A};S.useEffect(()=>{!n||s.length===0||s.forEach(g=>{if(g.is_completed)return;const _=m(g),T=g.member_contributions||{};if(T[n.email]!==_){const P={...T,[n.email]:_};let I=0;if(g.challenge_type==="combined_accuracy"){const C=Object.values(P);C.length>0&&(I=Math.round(C.reduce((E,N)=>E+N,0)/C.length))}else if(g.challenge_type==="speed_challenge"){const C=Object.values(P).filter(E=>E>0);C.length>0&&(I=Math.min(...C))}else I=Object.values(P).reduce((C,E)=>C+E,0);const A=I>=g.target_value;c.mutate({challengeId:g.id,data:{member_contributions:P,current_value:I,is_completed:A}})}})},[o,l,s,n]);const p=g=>{d.mutate({stars:g.reward_stars||0,coins:g.reward_coins||0})},v=g=>({team_score:"Team Score Challenge",combined_accuracy:"Combined Accuracy Goal",total_games:"Total Games Challenge",total_stars:"Star Collection Challenge",daily_streak_sum:"Daily Challenge Streak",speed_challenge:"Speed Challenge"})[g]||g,w=g=>({team_score:Ct,combined_accuracy:Qt,total_games:mr,total_stars:Nt,daily_streak_sum:Wr,speed_challenge:wr})[g]||Ct;s.filter(g=>!g.is_completed);const x=s.filter(g=>g.is_completed);return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(yn,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Team Challenges"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Work together with friends and family!"})]}),e&&a.jsxs(ze,{className:"mb-6 bg-green-50 border-green-200",children:[a.jsx(Ut,{className:"w-4 h-4 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{children:"Reward Claimed!"})," ",e," "]})]}),s.length===0?a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(re,{className:"p-12 text-center",children:[a.jsx(yn,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Team Challenges Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Ask your parent or teacher to create a team challenge for you and your friends!"}),a.jsx(ze,{className:"bg-blue-50 border-blue-200 text-left",children:a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"What are Team Challenges?"}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Work together with friends and family"}),a.jsx("li",{children:"Combine your progress to reach team goals"}),a.jsx("li",{children:"Earn bonus rewards when you succeed together"}),a.jsx("li",{children:"See everyone's contributions in real-time"})]})]})})]})}):a.jsxs("div",{className:"space-y-8",children:[activeChallenges.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(Ct,{className:"w-6 h-6 text-purple-500"}),"Active Challenges (",activeChallenges.length,")"]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:activeChallenges.map(g=>{var I,A,C;const _=w(g.challenge_type),T=Math.min(g.current_value/g.target_value*100,100);(I=g.member_contributions)!=null&&I[n==null?void 0:n.email];const P=g.end_date?Math.max(0,Math.ceil((new Date(g.end_date)-new Date)/(1e3*60*60*24))):null;return a.jsxs(te,{className:"border-2 border-purple-200 hover:shadow-lg transition-shadow",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(_,{className:"w-6 h-6 text-purple-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-lg",children:g.challenge_name}),P!==null&&a.jsxs(je,{variant:"outline",className:"bg-white",children:[a.jsx(wr,{className:"w-3 h-3 mr-1"}),P,"d left"]})]}),a.jsx("p",{className:"text-sm font-normal text-gray-600 mt-1",children:v(g.challenge_type)})]})]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[g.description&&a.jsx("p",{className:"text-gray-600",children:g.description}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"font-medium",children:"Team Progress"}),a.jsxs("span",{className:"font-bold",children:[Math.round(g.current_value)," / ",g.target_value,g.challenge_type==="combined_accuracy"&&"%",g.challenge_type==="speed_challenge"&&"s"]})]}),a.jsx(ol,{value:T,className:"h-3"})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-sm mb-3 flex items-center gap-2",children:[a.jsx(yn,{className:"w-4 h-4 text-purple-500"}),"Team Members (",((A=g.team_members)==null?void 0:A.length)||0,")"]}),a.jsx("div",{className:"space-y-2",children:(C=g.team_members)==null?void 0:C.map(E=>{var D;const N=((D=g.member_contributions)==null?void 0:D[E])||0,O=E===(n==null?void 0:n.email);return a.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${O?"bg-purple-50 border-2 border-purple-200":"bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:f(E)}),O&&a.jsx(je,{className:"bg-purple-500 text-white text-xs",children:"You"})]}),a.jsxs("span",{className:"text-sm font-bold text-gray-700",children:[Math.round(N),g.challenge_type==="combined_accuracy"&&"%",g.challenge_type==="speed_challenge"&&"s"]})]},E)})})]}),a.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-3 rounded-lg border-2 border-yellow-200",children:[a.jsxs("h4",{className:"font-bold text-sm mb-2 flex items-center gap-2",children:[a.jsx(Gn,{className:"w-4 h-4 text-yellow-600"}),"Rewards on Completion"]}),a.jsxs("div",{className:"flex gap-3 text-sm",children:[g.reward_stars>0&&a.jsxs("div",{className:"flex items-center gap-1 font-bold text-yellow-600",children:[a.jsx(Nt,{className:"w-4 h-4 fill-yellow-400"}),g.reward_stars," stars"]}),g.reward_coins>0&&a.jsxs("div",{className:"flex items-center gap-1 font-bold text-blue-600",children:[a.jsx(_c,{className:"w-4 h-4"}),g.reward_coins," coins"]})]})]})]})]},g.id)})})]}),x.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(Ut,{className:"w-6 h-6 text-green-500"}),"Completed Challenges (",x.length,")"]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:x.map(g=>(w(g.challenge_type),a.jsxs(te,{className:"border-2 border-green-300 bg-green-50",children:[a.jsx(_e,{className:"bg-gradient-to-r from-green-100 to-emerald-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-6 h-6 text-green-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-lg",children:g.challenge_name}),a.jsx("p",{className:"text-sm font-normal text-gray-600 mt-1",children:v(g.challenge_type)})]})]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsxs(ze,{className:"bg-white border-green-200",children:[a.jsx(Ct,{className:"w-4 h-4 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{children:"Challenge Complete!"})," Your team achieved the goal together! ",g.reward_message&&a.jsx("p",{className:"mt-1",children:g.reward_message})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Final Score:"}),a.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[Math.round(g.current_value)," / ",g.target_value]})]}),a.jsxs(oe,{onClick:()=>p(g),disabled:d.isPending,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500",children:[a.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Claim Rewards"]})]})]},g.id)))})]})]})]})}function EJ(){const t=vn(),[e,r]=S.useState(!1),[n,i]=S.useState(null),[s,o]=S.useState(!1),[l,c]=S.useState(!1);S.useEffect(()=>{const T=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");c(!T)},[]);const{data:d}=ut({queryKey:["currentUser"],queryFn:()=>base44.auth.me()});S.useEffect(()=>{const T=new URLSearchParams(window.location.search),P=T.get("success"),I=T.get("tier");P==="true"&&I&&setTimeout(()=>{t.invalidateQueries({queryKey:["currentUser"]})},1e3)},[t]);const f=(d==null?void 0:d.subscription_tier)||"free",m=f!=="free",p=d!=null&&d.subscription_expires_at?new Date(d.subscription_expires_at):null,v=p?Math.ceil((p-new Date)/(1e3*60*60*24)):0,w={premium_player:{monthly:"https://square.link/u/nFpI2tMT",yearly:"https://checkout.square.site/merchant/MLZ8SFCEGD55V/checkout/XKMFTRBKLNNDRTMQWSBJ4TOL"},premium_parent:{monthly:"https://square.link/u/mffPglOm",yearly:"https://checkout.square.site/merchant/MLZ8SFCEGD55V/checkout/LJ7EFZTE5IPACDT2HAO2H2IB"},family_teacher:{monthly:"https://square.link/u/bCQAOVfA",yearly:"https://checkout.square.site/merchant/MLZ8SFCEGD55V/checkout/VYNFU5WKRO4AU5KBQAG2S3NM"}},x=(T,P="monthly")=>{var A;if(!l){alert("Please open this page in your web browser to subscribe. Use the 'Open in Browser' button above.");return}const I=(A=w[T])==null?void 0:A[P];I?window.open(I,"_blank","noopener,noreferrer"):alert("No payment link available for this plan and period.")},g=Pr({mutationFn:async()=>base44.auth.updateMe({subscription_cancels_at:d.subscription_expires_at,subscription_auto_renew:!1}),onSuccess:()=>{t.invalidateQueries({queryKey:["currentUser"]}),o(!1)}}),_=[{id:"premium_player",name:"Premium Player",price:"$4.99",annualPrice:"$47.88",annualSavings:"Save $12",icon:Nt,color:"from-blue-500 to-cyan-500",features:["Unlimited games & challenges","Advanced avatar customization","Exclusive pets & badges","Ad-free experience","Priority support","Offline mode","Custom themes"],recommended:!1},{id:"premium_parent",name:"Premium Parent",price:"$7.99",annualPrice:"$76.88",annualSavings:"Save $19",icon:Vi,color:"from-purple-500 to-pink-500",features:["All Premium Player features","Advanced parental controls","Detailed progress analytics","Custom goal setting","Time limit management","Content filtering","Weekly/monthly reports","Direct messaging with child"],recommended:!0},{id:"family_teacher",name:"Family/Teacher Plan",price:"$12.99",annualPrice:"$124.88",annualSavings:"$31",icon:yn,color:"from-orange-500 to-red-500",features:["All Premium Parent features","Up to 5 student accounts","Classroom management tools","Lesson assignment system","Team challenges","Bulk progress reports","Multi-child dashboard","Priority teacher support"],recommended:!1}];return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[!l&&a.jsxs(ze,{className:"mb-8 bg-blue-50 border-blue-300",children:[a.jsx(Vue,{className:"w-5 h-5 text-blue-600"}),a.jsx(We,{className:"text-blue-800",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("strong",{className:"block mb-1",children:"Subscriptions Available on Web"}),a.jsx("p",{className:"text-sm",children:"To subscribe or manage your subscription, please open this page in your web browser (Chrome, Safari, etc.)"})]}),a.jsxs(oe,{onClick:()=>{const T=window.location.href;window.open(T,"_blank","noopener,noreferrer")},className:"bg-blue-600 hover:bg-blue-700 whitespace-nowrap",children:[a.jsx(ox,{className:"w-4 h-4 mr-2"}),"Open in Browser"]})]})})]}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-xl animate-pulse",children:a.jsx(bi,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-orange-600 bg-clip-text text-transparent",children:"Unlock Premium Features"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Choose the perfect plan for your learning journey"}),a.jsx("p",{className:"text-md text-green-600 mb-2 font-semibold",children:"Save 20% when you purchase any yearly plan!"}),l&&a.jsx("p",{className:"text-sm text-gray-500",children:"Secure payment powered by Square"})]}),m&&a.jsx(te,{className:"mb-12 border-4 border-green-400 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50",children:a.jsx(re,{className:"p-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(Ut,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:f==="premium_parent"?"Premium Parent":f==="premium_player"?"Premium Player":"Family/Teacher Plan"}),a.jsx(je,{className:"bg-green-500 text-white",children:"Active"})]}),a.jsxs("div",{className:"space-y-1",children:[p&&a.jsx("p",{className:"text-gray-600",children:(d==null?void 0:d.subscription_auto_renew)===!1?`Expires ${ur(p,"MMMM d, yyyy")}`:`Renews ${ur(p,"MMMM d, yyyy")}  ${v} days left`}),(d==null?void 0:d.subscription_auto_renew)===!1&&a.jsxs(je,{variant:"outline",className:"bg-orange-50 border-orange-300 text-orange-700",children:[a.jsx(zn,{className:"w-3 h-3 mr-1"}),"Subscription will not renew"]})]})]})]}),(d==null?void 0:d.subscription_auto_renew)!==!1&&l&&a.jsxs(oe,{variant:"destructive",onClick:()=>o(!0),className:"h-12",children:[a.jsx(od,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})]})})}),n&&a.jsxs(ze,{className:"mb-8 bg-red-50 border-red-200",children:[a.jsx(zn,{className:"w-5 h-5 text-red-600"}),a.jsxs(We,{className:"text-red-800",children:[a.jsx("strong",{children:"Error:"})," ",n]})]}),new URLSearchParams(window.location.search).get("success")==="true"&&a.jsxs(ze,{className:"mb-8 bg-green-50 border-green-200",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{children:"Success!"})," Your subscription is being activated. This may take a few moments."]})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:_.map(T=>{const P=T.icon,I=f===T.id;return a.jsxs(te,{className:`relative overflow-hidden transition-all duration-300 ${T.recommended?"border-4 border-purple-400 shadow-2xl scale-105":"border-2 border-gray-200 hover:shadow-xl hover:scale-102"}`,children:[T.recommended&&a.jsx("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-1 text-sm font-bold rounded-bl-lg",children:"MOST POPULAR"}),a.jsx("div",{className:`h-32 bg-gradient-to-br ${T.color} flex items-center justify-center`,children:a.jsx(P,{className:"w-16 h-16 text-white"})}),a.jsxs(_e,{children:[a.jsx(Ne,{className:"text-2xl mb-2",children:T.name}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-4xl font-bold",children:T.price}),a.jsx("span",{className:"text-gray-600",children:"/month"})]})}),a.jsx("div",{className:"bg-green-50 p-2 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-semibold text-green-700",children:[T.annualPrice,"/year"]}),a.jsx(je,{className:"bg-green-500 text-white text-xs",children:T.annualSavings})]})})]})]}),a.jsxs(re,{className:"space-y-6",children:[a.jsx("ul",{className:"space-y-3",children:T.features.map((A,C)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Mr,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-gray-700",children:A})]},C))}),I?a.jsxs(oe,{disabled:!0,className:"w-full h-12 bg-gray-400 cursor-not-allowed",children:[a.jsx(Ut,{className:"w-5 h-5 mr-2"}),"Current Plan"]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{onClick:()=>x(T.id,"monthly"),disabled:e||!l,className:`w-full h-12 text-lg bg-gradient-to-r ${T.color} hover:opacity-90 ${l?"":"opacity-50 cursor-not-allowed"}`,children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing..."]}):l?a.jsxs(a.Fragment,{children:[a.jsx(bi,{className:"w-5 h-5 mr-2"}),"Subscribe Monthly"]}):a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"w-5 h-5 mr-2"}),"Open in Browser"]})}),l&&a.jsx(oe,{onClick:()=>x(T.id,"yearly"),disabled:e,variant:"outline",className:"w-full h-12",children:e?"Processing...":a.jsxs(a.Fragment,{children:[a.jsx(Yt,{className:"w-5 h-5 mr-2"}),"Subscribe Annually (Save 20%)"]})})]})]})]},T.id)})}),a.jsxs(te,{className:"mb-12",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:a.jsx(Ne,{className:"text-2xl",children:"Compare Features"})}),a.jsx(re,{className:"p-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b-2",children:[a.jsx("th",{className:"text-left p-4 font-bold",children:"Feature"}),a.jsx("th",{className:"text-center p-4 font-bold",children:"Free"}),a.jsx("th",{className:"text-center p-4 font-bold",children:"Premium Player"}),a.jsx("th",{className:"text-center p-4 font-bold bg-purple-50",children:"Premium Parent"}),a.jsx("th",{className:"text-center p-4 font-bold",children:"Family/Teacher"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Math Games Access"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{variant:"outline",children:"Limited"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Daily Challenges"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"AI Tutor Help"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{variant:"outline",children:"Limited"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Parental Controls"}),a.jsx("td",{className:"text-center p-4",children:""}),a.jsx("td",{className:"text-center p-4",children:""}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Progress Analytics"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{variant:"outline",children:"Basic"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{variant:"outline",children:"Basic"})}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(je,{className:"bg-purple-500 text-white",children:"Advanced"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{className:"bg-orange-500 text-white",children:"Advanced"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Number of Students"}),a.jsx("td",{className:"text-center p-4",children:"1"}),a.jsx("td",{className:"text-center p-4",children:"1"}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:"1"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{className:"bg-orange-500 text-white",children:"Up to 5"})})]})]})]})})})]}),a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Frequently Asked Questions"})}),a.jsxs(re,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Can I cancel anytime?"}),a.jsx("p",{className:"text-gray-600",children:"Yes! You can cancel your subscription at any time from this page. You'll continue to have access until the end of your billing period."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"What payment methods do you accept?"}),a.jsx("p",{className:"text-gray-600",children:"We accept all major credit cards (Visa, Mastercard, American Express) and debit cards through our secure payment provider, Square."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Is there a free trial?"}),a.jsx("p",{className:"text-gray-600",children:"The free version gives you access to basic features to try out the app. Premium features are available immediately upon subscription."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"What's the difference between monthly and annual plans?"}),a.jsx("p",{className:"text-gray-600",children:"Annual plans save you 20% compared to monthly subscriptions. You pay upfront for the year and get uninterrupted access to all premium features."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Can I upgrade or downgrade my plan?"}),a.jsx("p",{className:"text-gray-600",children:"Yes! Contact our support team and we'll help you switch plans. Changes typically take effect at the start of your next billing cycle."})]})]})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(te,{className:"max-w-md w-full border-4 border-red-300",children:[a.jsx(_e,{className:"bg-red-50",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-red-700",children:[a.jsx(zn,{className:"w-6 h-6"}),"Cancel Subscription?"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"Are you sure you want to cancel your subscription?"}),a.jsxs(ze,{className:"bg-yellow-50 border-yellow-300",children:[a.jsx(zn,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800 text-sm",children:["You'll lose access to premium features when your current billing period ends on ",p?ur(p,"MMMM d, yyyy"):"the end date","."]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(oe,{variant:"outline",className:"flex-1",onClick:()=>o(!1),children:"Keep Subscription"}),a.jsx(oe,{variant:"destructive",className:"flex-1",onClick:()=>g.mutate(),disabled:g.isPending,children:g.isPending?"Cancelling...":"Yes, Cancel"})]})]})]})})]})}function PJ(){const[t,e]=S.useState(!1),[r,n]=S.useState(null),[i,s]=S.useState(null),o=async()=>{var c,d;e(!0),s(null),n(null);try{console.log("Calling Firebase Function generateAppIcons...");const m=await(await fetch("/generateAppIcons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json();console.log("Response:",m),m.success&&m.icons?n(m.icons):m.error?s(m.message||m.error):s("Unexpected response format")}catch(f){console.error("Error generating icons:",f),s(((d=(c=f.response)==null?void 0:c.data)==null?void 0:d.message)||f.message||"Failed to generate icons. AI image generation may be temporarily unavailable.")}finally{e(!1)}},l=async(c,d)=>{try{const m=await(await fetch(c)).blob(),p=window.URL.createObjectURL(m),v=document.createElement("a");v.href=p,v.download=d,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(p)}catch{alert("Failed to download icon. Please right-click the image and save manually.")}};return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-xl",children:a.jsx(Hue,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Generate App Icons"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Create beautiful icons for your PWA"})]}),a.jsxs(te,{className:"border-2 border-purple-200 shadow-lg mb-8",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Yt,{className:"w-6 h-6 text-purple-600"}),"AI Icon Generator"]})}),a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(Yt,{className:"w-4 h-4 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"AI-Powered Design:"})," This will generate professional app icons using AI based on your Math Adventure theme. It creates both 192x192 and 512x512 pixel versions automatically."]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-xl border-2 border-purple-200",children:[a.jsx("h3",{className:"font-bold text-lg mb-3",children:"What You'll Get:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsxs("span",{children:[a.jsx("strong",{children:"icon-192.png"})," - For mobile devices (192x192px)"]})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsxs("span",{children:[a.jsx("strong",{children:"icon-512.png"})," - For high-res displays (512x512px)"]})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{children:"Purple-pink gradient matching your app theme"})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{children:"Math symbols and playful design elements"})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{children:"Professional quality, optimized for visibility"})]})]})]}),a.jsx(oe,{onClick:o,disabled:t,className:"w-full h-14 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:t?a.jsxs(a.Fragment,{children:[a.jsx(P7,{className:"w-5 h-5 mr-2 animate-spin"}),"Generating Icons... (takes ~30 seconds)"]}):a.jsxs(a.Fragment,{children:[a.jsx(Yt,{className:"w-5 h-5 mr-2"}),"Generate Icons with AI"]})})]})})]}),i&&a.jsxs(ze,{className:"mb-8 bg-orange-50 border-orange-300",children:[a.jsx(zn,{className:"w-5 h-5 text-orange-600"}),a.jsxs(We,{className:"text-orange-800",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Generation Failed:"})," ",i]}),a.jsx("p",{className:"text-sm mt-2",children:"Don't worry! You can create icons manually using the instructions below."})]})]}),r&&a.jsxs(te,{className:"border-4 border-green-300 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50 mb-8",children:[a.jsx(_e,{className:"bg-gradient-to-r from-green-100 to-emerald-100",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-green-800",children:[a.jsx(Ut,{className:"w-6 h-6"}),"Icons Generated Successfully!"]})}),a.jsxs(re,{className:"p-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-green-200 text-center",children:[a.jsx("div",{className:"mb-4",children:a.jsx("img",{src:r.icon_512,alt:"512x512 icon",className:"w-64 h-64 mx-auto rounded-2xl shadow-lg"})}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:"icon-512.png"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"High Resolution (512x512px)"}),a.jsxs(oe,{onClick:()=>l(r.icon_512,"icon-512.png"),className:"w-full bg-green-500 hover:bg-green-600",children:[a.jsx(vg,{className:"w-4 h-4 mr-2"}),"Download 512x512"]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-green-200 text-center",children:[a.jsx("div",{className:"mb-4 flex items-center justify-center",style:{height:"256px"},children:a.jsx("img",{src:r.icon_192,alt:"192x192 icon",className:"w-48 h-48 rounded-2xl shadow-lg"})}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:"icon-192.png"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Standard Resolution (192x192px)"}),a.jsxs(oe,{onClick:()=>l(r.icon_192,"icon-192.png"),className:"w-full bg-green-500 hover:bg-green-600",children:[a.jsx(vg,{className:"w-4 h-4 mr-2"}),"Download 192x192"]})]})]}),a.jsx(ze,{className:"bg-blue-50 border-blue-200 mb-4",children:a.jsx(We,{className:"text-blue-800",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(rhe,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold mb-2",children:" Next Steps:"}),a.jsxs("ol",{className:"space-y-2 ml-1 text-sm",children:[a.jsx("li",{children:"1. Download both icons using the buttons above"}),a.jsxs("li",{children:["2. Upload them to your app's ",a.jsx("strong",{children:"public"})," folder in your hosting environment"]}),a.jsxs("li",{children:["3. Make sure they're named exactly ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"icon-192.png"})," and ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"icon-512.png"})]}),a.jsx("li",{children:"4. Your PWA will automatically use them!"})]})]})]})})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Don't like the design? Generate again for a new variation!"}),a.jsxs(oe,{onClick:o,variant:"outline",disabled:t,children:[a.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Generate New Icons"]})]})]})]}),a.jsxs(te,{className:"border-2 border-gray-200",children:[a.jsx(_e,{className:"bg-gray-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(ox,{className:"w-5 h-5"}),"Manual Option: Create Icons Yourself"]})}),a.jsxs(re,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"If AI generation doesn't work, you can create beautiful icons manually:"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[a.jsxs("h3",{className:"font-bold mb-2 flex items-center gap-2",children:[a.jsx(ox,{className:"w-4 h-4 text-purple-600"}),"Option 1: Use Canva (Easiest)"]}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-700 ml-2",children:[a.jsxs("li",{children:["Go to ",a.jsx("a",{href:"https://www.canva.com",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 underline font-semibold",children:"canva.com"})," (free account)"]}),a.jsxs("li",{children:["Create two custom sizes: ",a.jsx("strong",{children:"512x512px"})," and ",a.jsx("strong",{children:"192x192px"})]}),a.jsx("li",{children:"Add purple-pink gradient background (#9333ea  #ec4899)"}),a.jsxs("li",{children:["Add white math symbols: ",a.jsx("span",{className:"text-2xl",children:""})]}),a.jsx("li",{children:"Make the design playful and kid-friendly"}),a.jsx("li",{children:"Download as PNG files"}),a.jsxs("li",{children:["Rename to ",a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"icon-512.png"})," and ",a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"icon-192.png"})]}),a.jsx("li",{children:"Upload to your app's public folder"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsxs("h3",{className:"font-bold mb-2 flex items-center gap-2",children:[a.jsx(ox,{className:"w-4 h-4 text-blue-600"}),"Option 2: Use Figma"]}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-700 ml-2",children:[a.jsxs("li",{children:["Go to ",a.jsx("a",{href:"https://www.figma.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline font-semibold",children:"figma.com"})]}),a.jsx("li",{children:"Create frames: 512512px and 192192px"}),a.jsx("li",{children:"Apply gradient background (purple to pink)"}),a.jsx("li",{children:"Add math symbols in white"}),a.jsx("li",{children:"Export as PNG @ 1x scale"}),a.jsx("li",{children:"Rename and upload to public folder"})]})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[a.jsx("h3",{className:"font-bold mb-2",children:" Design Tips:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-2",children:[a.jsx("li",{children:"Keep it simple - icons need to be recognizable at small sizes"}),a.jsx("li",{children:"Use high contrast (white on purple/pink works great)"}),a.jsx("li",{children:"Round the corners slightly for a modern look"}),a.jsx("li",{children:"Make sure symbols are centered and balanced"}),a.jsx("li",{children:"Test how it looks at different sizes before finalizing"})]})]})]})]})]})]})}function AJ(){const[t,e]=S.useState(!1),[r,n]=S.useState(null),[i,s]=S.useState(null),o=async()=>{e(!0),s(null),n(null);try{console.log(" Starting icon generation test...");const l=await base44.functions.invoke("generateAppIcons",{});console.log(" Function response:",l),l.data&&l.data.success?n({success:!0,icons:l.data.icons,message:"Icons generated successfully!"}):s("Function returned but no icons generated")}catch(l){console.error(" Icon generation failed:",l),s(l.message||"Unknown error occurred")}finally{e(!1)}};return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs(te,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-100 to-cyan-100",children:a.jsx(Ne,{children:" Icon Generation Test"})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx(ze,{className:"bg-blue-50 border-blue-200",children:a.jsx(We,{children:"This page tests the icon generation function. Click the button below to generate test icons."})}),a.jsx(oe,{onClick:o,disabled:t,className:"w-full h-14 text-lg bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600",children:t?a.jsxs(a.Fragment,{children:[a.jsx(P7,{className:"w-5 h-5 mr-2 animate-spin"}),"Testing Icon Generation... (30 seconds)"]}):a.jsx(a.Fragment,{children:" Run Icon Generation Test"})}),i&&a.jsxs(ze,{className:"bg-red-50 border-red-200",children:[a.jsx(od,{className:"w-4 h-4 text-red-600"}),a.jsxs(We,{className:"text-red-800",children:[a.jsx("strong",{children:"Test Failed:"})," ",i]})]}),r&&r.success&&a.jsxs(ze,{className:"bg-green-50 border-green-200",children:[a.jsx(Ut,{className:"w-4 h-4 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{children:" Test Passed!"})," Icons generated successfully!"]})]}),r&&r.icons&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-bold text-lg",children:"Generated Icons:"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-xl border-2 border-green-200",children:[a.jsx("img",{src:r.icons.icon_512,alt:"512x512 icon",className:"w-full rounded-lg shadow-lg mb-2"}),a.jsx("p",{className:"text-sm font-bold text-center",children:"512x512 Icon"}),a.jsx("p",{className:"text-xs text-gray-600 text-center break-all mt-1",children:r.icons.icon_512})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl border-2 border-green-200",children:[a.jsx("img",{src:r.icons.icon_192,alt:"192x192 icon",className:"w-full rounded-lg shadow-lg mb-2"}),a.jsx("p",{className:"text-sm font-bold text-center",children:"192x192 Icon"}),a.jsx("p",{className:"text-xs text-gray-600 text-center break-all mt-1",children:r.icons.icon_192})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-bold mb-2",children:"Test Details:"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Function: generateAppIcons"}),a.jsx("li",{children:"Expected: 2 icon URLs (192x192 and 512x512)"}),a.jsx("li",{children:"AI Model: Image Generation via Base44 Core"}),a.jsx("li",{children:"Timeout: ~30 seconds"})]})]})]})]})})}function CJ(){const t=Sd(),{data:e,isLoading:r}=ut({queryKey:["isAuthenticated"],queryFn:async()=>{try{return!0}catch{return!1}}});S.useEffect(()=>{!r&&e&&t(Je("Home"))},[e,r,t]);const n=()=>{};if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const i=[{icon:Mue,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:mn,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:Ct,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:Nt,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:yn,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:Vi,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],s=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],o=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],l=[{icon:Ct,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:Nt,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:yn,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:Hp,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],c=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx(Wt.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),a.jsx(Wt.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),a.jsx(Wt.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),a.jsx(Wt.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Wt.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse",children:a.jsx("span",{className:"text-7xl md:text-8xl transform -rotate-12",children:""})}),a.jsx(Wt.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),a.jsx(Wt.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),a.jsx(Wt.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),a.jsx(Wt.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),a.jsxs(Wt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[a.jsxs(je,{className:"bg-white text-purple-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[a.jsx(Ut,{className:"w-5 h-5 mr-2"}),"100% FREE to Start"]}),a.jsxs(je,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[a.jsx(Hp,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),a.jsxs(je,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[a.jsx(Yt,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),a.jsxs(Wt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[a.jsxs(oe,{onClick:n,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[a.jsx(jde,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),a.jsxs(oe,{variant:"outline",onClick:()=>{var d;return(d=document.getElementById("features"))==null?void 0:d.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white hover:bg-white hover:text-purple-600 shadow-xl",children:["See What's Inside",a.jsx(T7,{className:"w-6 h-6 ml-2"})]})]}),a.jsx(Wt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:l.map((d,f)=>{const m=d.icon;return a.jsxs(Wt.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[a.jsx(m,{className:`w-10 h-10 mx-auto mb-3 ${d.color}`}),a.jsx("div",{className:"text-3xl font-black text-gray-800",children:d.value}),a.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:d.label})]},f)})})]})}),a.jsx("div",{className:"bg-white py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),a.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),a.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:c.map((d,f)=>a.jsxs(Wt.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[a.jsx("div",{className:"text-7xl mb-4",children:d.emoji}),a.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:d.name}),a.jsx("p",{className:"text-gray-700 font-semibold",children:d.desc})]},f))}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:s.map((d,f)=>a.jsxs(Wt.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[a.jsx("div",{className:"text-5xl mb-3",children:d.emoji}),a.jsx("div",{className:"font-bold text-sm text-gray-800",children:d.name}),a.jsx(je,{className:"mt-2 bg-purple-500 text-white text-xs",children:d.grade})]},f))})]})]})}),a.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),a.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map((d,f)=>{const m=d.icon;return a.jsxs(Wt.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[a.jsxs("div",{className:`h-32 bg-gradient-to-br ${d.gradient} flex items-center justify-center relative`,children:[a.jsx("div",{className:"text-7xl",children:d.emoji}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx(m,{className:"w-10 h-10 text-white opacity-50"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:d.title}),a.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:d.description})]})]},f)})})]})}),a.jsx("div",{className:"bg-white py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),a.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs(Wt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[a.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:a.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),a.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),a.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),a.jsxs(Wt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[a.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:a.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),a.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),a.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),a.jsxs(Wt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[a.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:a.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),a.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),a.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),a.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:o.map((d,f)=>a.jsxs(Wt.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[a.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(d.rating)].map((m,p)=>a.jsx(Nt,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},p))}),a.jsx("div",{className:"text-6xl mb-4",children:d.emoji}),a.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',d.text,'"']}),a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-lg text-gray-800",children:d.author}),a.jsx("p",{className:"text-sm text-gray-600 font-bold",children:d.role})]})]},f))})]})}),a.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[a.jsx(Wt.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),a.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),a.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),a.jsxs(oe,{onClick:n,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[a.jsx(pde,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),a.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),a.jsx("div",{className:"bg-gray-900 text-white py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),a.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),a.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})})]})}function kJ(){return a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})})}const jq={heart:{name:"Heart",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,1,1,0,0,0,1,1,0,0,0],[0,1,2,2,1,0,1,2,2,1,0,0],[1,2,2,2,2,1,2,2,2,2,1,0],[1,2,2,2,2,2,2,2,2,2,1,0],[1,2,2,2,2,2,2,2,2,2,1,0],[0,1,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,1,0,0,0,0],[0,0,0,0,1,2,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},star:{name:"Star",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,0,0,1,1,0,0,0,0,0],[0,0,0,0,1,3,3,1,0,0,0,0],[0,0,0,1,3,3,3,3,1,0,0,0],[0,0,0,0,1,3,3,1,0,0,0,0],[0,0,1,3,3,3,3,3,3,1,0,0],[0,1,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,1,3,3,1,3,3,3,1],[0,1,1,1,0,1,1,0,1,1,1,0],[0,1,3,3,1,0,0,1,3,3,1,0],[1,3,3,3,3,1,1,3,3,3,3,1],[0,1,1,1,1,0,0,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},fish:{name:"Fish",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,1,4,4,4,4,4,1,1,0,0,0],[0,0,1,4,4,4,4,4,4,4,4,1,0,0],[0,1,4,4,5,5,4,4,4,4,4,4,1,1],[0,1,4,4,5,5,4,4,4,4,4,4,1,2],[0,1,4,4,4,4,4,4,4,4,4,4,1,2],[0,1,4,4,4,4,4,4,4,4,4,4,1,1],[0,0,1,4,4,4,4,4,4,1,1,0,0,0],[0,0,0,1,4,4,4,4,4,1,1,0,0,0],[0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,2,2,2,2,2,2,2,2,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},smiley:{name:"Smiley Face",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,1,1,1,1,1,1,0,0,0],[0,0,1,3,3,3,3,3,3,1,0,0],[0,1,3,3,3,3,3,3,3,3,1,0],[1,3,3,1,1,3,3,1,1,3,3,1],[1,3,3,1,5,3,3,1,5,3,3,1],[1,3,3,1,1,3,3,1,1,3,3,1],[1,3,3,3,3,3,3,3,3,3,3,1],[1,3,1,3,3,3,3,3,3,1,3,1],[0,1,3,1,2,2,2,2,1,3,1,0],[0,1,3,3,1,1,1,1,3,3,1,0],[0,0,1,3,3,3,3,3,3,1,0,0],[0,0,0,1,1,1,1,1,1,0,0,0]]},sun:{name:"Sun",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,0,0,4,4,0,0,0,0,0],[0,0,0,0,0,4,4,0,0,0,0,0],[0,0,1,1,1,1,1,1,1,1,0,0],[4,0,1,3,3,3,3,3,3,1,0,4],[4,0,1,3,3,3,3,3,3,1,0,4],[0,1,3,3,3,3,3,3,3,3,1,0],[0,1,3,3,3,3,3,3,3,3,1,0],[4,0,1,3,3,3,3,3,3,1,0,4],[4,0,1,3,3,3,3,3,3,1,0,4],[0,0,1,1,1,1,1,1,1,1,0,0],[0,0,0,0,0,4,4,0,0,0,0,0],[0,0,0,0,0,4,4,0,0,0,0,0]]},apple:{name:"Apple",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,0,0,5,5,0,0,0,0,0],[0,0,0,0,0,5,6,6,0,0,0,0],[0,0,1,1,1,1,6,1,1,1,0,0],[0,1,2,2,2,2,1,2,2,2,1,0],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[0,1,2,2,2,2,2,2,2,2,1,0],[0,0,1,2,2,2,2,2,2,1,0,0],[0,0,0,1,1,1,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},balloon:{name:"Balloon",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,1,2,2,2,2,2,2,1,0,0],[0,1,2,2,2,2,2,2,2,2,1,0],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[0,1,2,2,2,2,2,2,2,2,1,0],[0,0,1,2,2,2,2,2,2,1,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,0,1,3,3,1,0,0,0,0],[0,0,0,0,0,1,1,0,0,0,0,0]]},car:{name:"Car",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,1,5,5,1,5,5,1,0,0,0,0],[0,0,1,5,5,5,5,5,5,5,1,0,0,0],[0,1,2,2,2,2,2,2,2,2,2,1,0,0],[1,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,2,2,1,1,2,2,2,1,1,2,2,1,0],[1,2,2,1,1,2,2,2,1,1,2,2,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,6,6,6,1,0,0,1,6,6,6,1,0],[0,1,6,6,6,1,0,0,1,6,6,6,1,0],[0,0,1,1,1,0,0,0,0,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},flower:{name:"Flower",emoji:"",difficulty:"medium",grades:["2","3","4"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,0,0,1,1,1,0,0,0],[0,0,1,6,6,6,1,1,6,6,6,1,0,0],[0,0,1,6,6,6,6,6,6,6,6,1,0,0],[0,0,0,1,6,6,6,6,6,6,1,0,0,0],[0,0,0,0,1,3,3,3,3,1,0,0,0,0],[1,1,1,0,1,3,3,3,3,1,0,1,1,1],[1,6,6,1,1,3,3,3,3,1,1,6,6,1],[1,6,6,6,1,3,3,3,3,1,6,6,6,1],[0,1,6,6,6,1,1,1,1,6,6,6,1,0],[0,0,1,1,1,5,5,5,5,1,1,1,0,0],[0,0,0,0,0,1,5,5,1,0,0,0,0,0],[0,0,0,0,0,1,5,5,1,0,0,0,0,0],[0,0,0,2,2,2,2,2,2,2,2,0,0,0]]},butterfly:{name:"Butterfly",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:16,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0],[0,1,5,5,5,1,0,0,0,0,1,5,5,5,1,0],[0,1,5,5,5,5,1,0,0,1,5,5,5,5,1,0],[1,5,5,4,5,5,5,1,1,5,5,5,4,5,5,1],[1,5,5,5,5,5,5,1,1,5,5,5,5,5,5,1],[0,1,5,5,5,5,1,1,1,1,5,5,5,5,1,0],[0,0,1,1,1,1,1,2,2,1,1,1,1,1,0,0],[0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],[0,0,1,1,1,1,2,2,2,2,1,1,1,1,0,0],[0,1,6,6,6,6,1,2,2,1,6,6,6,6,1,0],[1,6,6,6,6,6,6,1,1,6,6,6,6,6,6,1],[1,6,6,4,6,6,1,0,0,1,6,6,4,6,6,1],[0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},rocket:{name:"Rocket",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,1,2,2,1,0,0,0,0,0],[0,0,0,0,1,2,2,2,2,1,0,0,0,0],[0,0,0,0,1,2,2,2,2,1,0,0,0,0],[0,0,0,0,1,2,4,4,2,1,0,0,0,0],[0,0,0,0,1,2,4,4,2,1,0,0,0,0],[0,0,0,1,1,2,2,2,2,1,1,0,0,0],[0,0,1,3,1,2,2,2,2,1,3,1,0,0],[0,1,3,3,1,2,2,2,2,1,3,3,1,0],[1,3,3,3,1,2,2,2,2,1,3,3,3,1],[1,3,3,1,1,1,1,1,1,1,1,3,3,1],[0,1,1,0,1,5,5,5,5,1,0,1,1,0],[0,0,0,0,1,5,5,5,5,1,0,0,0,0],[0,0,0,0,0,1,1,1,1,0,0,0,0,0]]},dinosaur:{name:"Dinosaur",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:16,pattern:[[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,1,3,3,3,1,0,0,0,0,0,0],[0,0,0,0,1,3,3,3,3,3,1,0,0,0,0,0],[0,0,0,0,1,3,5,3,3,3,1,0,0,0,0,0],[0,0,0,0,1,3,3,3,3,3,1,0,0,0,0,0],[0,0,0,1,1,3,3,3,3,3,1,1,0,0,0,0],[0,0,1,3,3,3,3,3,3,3,3,3,1,0,0,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,1,0,0],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,1,1,3,3,1,1,3,3,3,1,0],[0,1,3,3,3,1,1,3,3,1,1,3,3,1,0,0],[0,0,1,1,1,0,0,1,1,0,0,1,1,0,0,0],[0,0,2,2,2,2,2,2,2,2,2,2,2,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},owl:{name:"Owl",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,0,0,0,0],[0,0,0,1,4,4,4,4,4,4,1,0,0,0],[0,0,1,4,4,4,4,4,4,4,4,1,0,0],[0,1,4,4,1,1,4,4,1,1,4,4,1,0],[0,1,4,1,5,5,1,1,5,5,1,4,1,0],[0,1,4,1,5,5,1,1,5,5,1,4,1,0],[0,1,4,4,1,1,4,4,1,1,4,4,1,0],[0,1,4,4,4,4,4,4,4,4,4,4,1,0],[0,1,4,4,4,1,3,3,1,4,4,4,1,0],[0,0,1,4,4,1,3,3,1,4,4,1,0,0],[0,0,1,4,4,4,1,1,4,4,4,1,0,0],[0,0,0,1,1,1,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},robot:{name:"Robot",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,1,1,1,1,0,0,0,0,0],[0,0,0,0,1,6,6,6,6,1,0,0,0,0],[0,0,0,1,2,2,2,2,2,2,1,0,0,0],[0,0,1,2,2,1,2,2,1,2,2,1,0,0],[0,0,1,2,2,4,2,2,4,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,1,1,1,1,1,1,2,1,0,0],[0,1,1,2,2,2,2,2,2,2,2,1,1,0],[1,3,1,2,2,2,2,2,2,2,2,1,3,1],[0,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,1,5,5,1,1,5,5,1,0,0,0],[0,0,0,1,5,5,1,1,5,5,1,0,0,0],[0,0,0,1,1,1,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},icecream:{name:"Ice Cream",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,0,0,0,0],[0,0,0,1,6,6,6,6,6,6,1,0,0,0],[0,0,1,6,6,6,6,6,6,6,6,1,0,0],[0,1,6,6,2,2,6,6,2,2,6,6,1,0],[0,1,6,6,2,2,6,6,2,2,6,6,1,0],[0,1,6,6,6,6,6,6,6,6,6,6,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,1,4,4,4,4,4,4,1,0,0,0],[0,0,0,0,1,4,4,4,4,1,0,0,0,0],[0,0,0,0,0,1,4,4,1,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},sailboat:{name:"Sailboat",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,5,1,0,0,0,0,0],[0,0,0,0,0,0,1,5,5,1,0,0,0,0],[0,0,0,0,0,0,1,5,5,5,1,0,0,0],[0,0,0,0,0,0,1,5,5,5,5,1,0,0],[0,0,0,1,1,1,1,1,1,1,1,1,1,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,1],[0,1,2,2,2,2,2,2,2,2,2,2,2,1],[0,1,2,2,2,2,2,2,2,2,2,2,1,0],[0,0,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,3,3,3,3,3,3,3,3,3,3,3,0],[0,0,3,3,3,3,3,3,3,3,3,3,3,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},rainbow:{name:"Rainbow",emoji:"",difficulty:"hard",grades:["4","5","6"],gridSize:16,pattern:[[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,1,2,2,2,2,2,2,2,2,2,2,1,1,0],[0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,1,2,3,3,3,3,3,3,3,3,3,3,2,1,1],[1,2,3,3,3,3,3,3,3,3,3,3,3,3,2,1],[1,2,3,4,4,4,4,4,4,4,4,4,4,3,2,1],[1,2,3,4,5,5,5,5,5,5,5,5,4,3,2,1],[1,2,3,4,5,6,6,6,6,6,6,5,4,3,2,1],[1,2,3,4,5,6,0,0,0,0,6,5,4,3,2,1],[1,2,3,4,5,0,0,0,0,0,0,5,4,3,2,1],[1,2,3,4,0,0,0,0,0,0,0,0,4,3,2,1],[0,1,2,0,0,0,0,0,0,0,0,0,0,2,1,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},house:{name:"House",emoji:"",difficulty:"hard",grades:["4","5","6"],gridSize:16,pattern:[[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],[0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0],[0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0],[0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,3,3,3,3,3,1,4,4,1,3,3,3,3,3,1],[1,3,3,3,3,3,1,4,4,1,3,3,3,3,3,1],[1,3,3,5,5,3,1,4,4,1,3,3,5,5,3,1],[1,3,3,5,5,3,1,4,4,1,3,3,5,5,3,1],[1,3,3,3,3,3,1,4,4,1,3,3,3,3,3,1],[1,3,3,3,3,3,1,4,4,1,3,3,3,3,3,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0]]},dragon:{name:"Dragon",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:18,pattern:[[0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,3,3,3,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,3,3,3,3,3,1,0,0,0,0,0],[0,0,0,0,0,1,3,3,5,3,3,3,3,1,0,0,0,0],[0,0,0,0,1,3,3,3,3,3,3,3,3,3,1,0,0,0],[0,0,0,1,3,3,3,3,3,3,3,3,3,3,3,1,0,0],[0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,1,1,3,3,3,1,1,3,3,3,1,0,0],[1,3,3,3,3,1,1,3,3,3,1,1,3,3,1,0,0,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,1,0,0,0,0],[0,0,1,1,3,3,3,3,3,3,3,3,1,0,0,0,0,0],[0,0,0,0,1,1,3,3,3,3,1,1,0,0,0,0,0,0],[0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0,0],[0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},castle:{name:"Castle",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:18,pattern:[[0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0],[0,1,2,1,0,0,0,0,0,0,0,0,0,0,1,2,1,0],[0,1,2,1,0,0,0,1,1,1,1,0,0,0,1,2,1,0],[0,1,2,1,0,0,1,4,4,4,4,1,0,0,1,2,1,0],[0,1,2,1,1,1,4,4,4,4,4,4,1,1,1,2,1,0],[0,1,2,2,2,2,4,4,4,4,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,4,4,4,4,2,2,2,2,1,0],[0,1,2,5,5,2,4,4,4,4,4,4,2,5,5,2,1,0],[0,1,2,5,5,2,4,4,4,4,4,4,2,5,5,2,1,0],[0,1,2,2,2,2,4,4,4,4,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,1,1,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,1,1,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,1,1,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,4,4,4,4,2,2,2,2,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0],[0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},unicorn:{name:"Unicorn",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:16,pattern:[[0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,6,6,1,0,0,0,0,0,0],[0,0,0,0,0,1,5,1,1,5,1,0,0,0,0,0],[0,0,0,0,1,5,5,5,5,5,5,1,0,0,0,0],[0,0,0,1,5,5,5,5,5,5,5,5,1,0,0,0],[0,0,1,3,3,5,5,5,5,5,5,3,3,1,0,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[0,1,3,1,1,3,3,3,3,3,3,1,1,3,1,0],[0,1,3,1,4,3,3,3,3,3,3,1,4,3,1,0],[0,1,3,1,1,3,3,3,3,3,3,1,1,3,1,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[0,0,1,3,3,3,3,3,3,3,3,3,3,1,0,0],[0,0,0,1,3,3,3,1,1,3,3,3,1,0,0,0],[0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0],[0,0,0,2,2,2,2,2,2,2,2,2,2,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},spaceship:{name:"Spaceship",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:16,pattern:[[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],[0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0],[0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0],[0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,5,5,5,1,5,5,5,5,5,5,1,5,5,5,1],[1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1],[0,1,5,5,5,5,5,5,5,5,5,5,5,5,1,0],[0,0,1,1,5,5,5,5,5,5,5,5,1,1,0,0],[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0],[0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},elephant:{name:"Elephant",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:18,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,1,3,3,3,3,3,3,3,3,1,0,0,0,0],[0,0,0,1,3,3,3,3,3,3,3,3,3,3,1,0,0,0],[0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,1,0,0],[0,1,3,3,1,1,3,3,3,3,3,3,1,1,3,3,1,0],[0,1,3,3,1,5,3,3,3,3,3,3,1,5,3,3,1,0],[0,1,3,3,1,1,3,3,3,3,3,3,1,1,3,3,1,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1],[1,3,3,3,3,1,1,3,3,3,3,1,1,3,3,3,3,1],[0,1,1,3,3,1,1,3,3,3,3,1,1,3,3,1,1,0],[0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}};function IJ(){const t=Sd(),e=vn(),r=new URLSearchParams(window.location.search),n=r.get("operation")||"addition",i=r.get("level")||"easy",s=r.get("template"),[o,l]=S.useState(n),[c,d]=S.useState(i),[f,m]=S.useState({}),[p,v]=S.useState(null),[w,x]=S.useState(!1),[g,_]=S.useState(!1),[T,P]=S.useState(!s),[I,A]=S.useState(s||null),[C,E]=S.useState(!1),[N,O]=S.useState("brush"),[D,L]=S.useState(1),[$,F]=S.useState(!1),[G,Y]=S.useState(null),[K,X]=S.useState(!1),{data:U}=ut({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),ne=(()=>{const Ae=[],ve=[],De=[];return Object.entries(jq).forEach(([st,Be])=>{Be.difficulty==="easy"?Ae.push([st,Be]):Be.difficulty==="medium"?ve.push([st,Be]):Be.difficulty==="hard"&&De.push([st,Be])}),{easy:Ae,medium:ve,hard:De}})(),W=()=>{const Ae={easy:{min:0,max:5,answers:[1,2,3,4,5,6]},medium:{min:0,max:10,answers:[2,4,6,8,10,12]},hard:{min:5,max:15,answers:[5,10,15,20,25,30]}},ve=Ae[c]||Ae.easy,De=[],st=ve.answers;return st.forEach(Be=>{let gt="";if(o==="addition"){const jt=Math.floor(Math.random()*Math.min(Be,ve.max)),_t=Be-jt;gt=`${jt}+${_t}`}else if(o==="subtraction"){const jt=Be+Math.floor(Math.random()*ve.max)+ve.min,_t=jt-Be;gt=`${jt}-${_t}`}else if(o==="multiplication"){const jt=Math.max(1,Math.floor(Math.random()*5)),_t=Math.floor(Be/jt);jt*_t===Be?gt=`${jt}${_t}`:gt=`${Be}1`}else if(o==="division"){const jt=Math.max(1,Math.floor(Math.random()*5));gt=`${Be*jt}${jt}`}De.push({question:gt,answer:Be,color:Z(Be,st)})}),De},Z=(Ae,ve)=>{const De=[{name:"Red",hex:"#EF4444",answer:ve[0]},{name:"Blue",hex:"#3B82F6",answer:ve[1]},{name:"Green",hex:"#10B981",answer:ve[2]},{name:"Yellow",hex:"#F59E0B",answer:ve[3]},{name:"Purple",hex:"#A855F7",answer:ve[4]},{name:"Pink",hex:"#EC4899",answer:ve[5]}],st=ve.indexOf(Ae);return De[st]||De[0]},[ue,le]=S.useState(()=>W());S.useEffect(()=>{le(W()),m({}),x(!1),v(null)},[o,c]);const be=[...new Set(ue.map(Ae=>Ae.color))],ge=I?jq[I]:null,me=Pr({mutationFn:Ae=>base44.entities.GameProgress.create(Ae),onSuccess:()=>{e.invalidateQueries({queryKey:["gameProgress"]});const ve=((U==null?void 0:U.coins)||0)+25;base44.auth.updateMe({coins:ve})}}),Ie=()=>{let Ae=0;ge.pattern.forEach(ve=>{ve.forEach(De=>{De!==0&&Ae++})}),me.mutate({level:c,operation:o,score:100,correct_answers:Ae,total_questions:Ae,time_taken:0,stars_earned:3,coins_earned:25,learning_objective:`Pixel art color by numbers - ${ge==null?void 0:ge.name} - practicing ${o}`})},fe=async()=>{if(!ge)return null;X(!0);try{const Ae=document.createElement("canvas"),ve=Ae.getContext("2d"),De=40,st=ge.gridSize;Ae.width=st*De,Ae.height=st*De,ge.pattern.forEach((jt,_t)=>{jt.forEach((dr,In)=>{const po=`${_t}-${In}`,fs=In*De,ms=_t*De;dr===0?ve.fillStyle="#F3F4F6":ve.fillStyle=f[po]||"#FFFFFF",ve.fillRect(fs,ms,De,De),ve.strokeStyle="#9CA3AF",ve.lineWidth=1,ve.strokeRect(fs,ms,De,De)})});const Be=await new Promise(jt=>Ae.toBlob(jt,"image/png")),gt=URL.createObjectURL(Be);return Y(gt),X(!1),gt}catch(Ae){return console.error("Error capturing artwork:",Ae),X(!1),null}};S.useEffect(()=>{if(!ge)return;let Ae=0,ve=0,De=0;ge.pattern.forEach((st,Be)=>{st.forEach((gt,jt)=>{if(gt!==0){Ae++;const _t=`${Be}-${jt}`,dr=ue[gt-1];f[_t]&&(ve++,f[_t]===(dr==null?void 0:dr.color.hex)&&De++)}})}),Ae>0&&ve===Ae&&De===Ae&&!w&&(x(!0),Ie(),fe())},[f,ge,w,ue]);const Pe=()=>{if(!G)return;const Ae=document.createElement("a");Ae.href=G,Ae.download=`math-adventure-${ge==null?void 0:ge.name.toLowerCase().replace(/\s+/g,"-")}-${Date.now()}.png`,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae)},Re=()=>{const Ae=` I just completed a ${ge==null?void 0:ge.name} pixel art in Math Adventure! Check out my awesome creation! `,ve=window.location.href,De=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(ve)}&quote=${encodeURIComponent(Ae)}`;window.open(De,"_blank","width=600,height=400")},he=()=>{const Ae=` I just completed a ${ge==null?void 0:ge.name} pixel art in Math Adventure while practicing ${o}!  #MathAdventure #PixelArt #Learning`,ve=window.location.href,De=`https://twitter.com/intent/tweet?text=${encodeURIComponent(Ae)}&url=${encodeURIComponent(ve)}`;window.open(De,"_blank","width=600,height=400")},ot=async()=>{try{await navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")}catch(Ae){console.error("Failed to copy link:",Ae)}},et=(Ae,ve,De,st)=>{if(!ge)return;const Be=new Set,gt=[[Ae,ve]],jt=[];for(;gt.length>0;){const[_t,dr]=gt.pop(),In=`${_t}-${dr}`;_t<0||_t>=ge.gridSize||dr<0||dr>=ge.gridSize||Be.has(In)||(Be.add(In),ge.pattern[_t][dr]!==De)||(jt.push(In),gt.push([_t+1,dr]),gt.push([_t-1,dr]),gt.push([_t,dr+1]),gt.push([_t,dr-1]))}return jt},kt=(Ae,ve,De)=>{if(w||De===0)return;const st=`${Ae}-${ve}`;if(N==="brush"){if(!p)return;m(Be=>({...Be,[st]:p}))}else if(N==="fill"){if(!p)return;const Be=et(Ae,ve,De);Be&&Be.length>0&&m(gt=>{const jt={...gt};return Be.forEach(_t=>{jt[_t]=p}),jt})}else N==="eraser"&&m(Be=>{const gt={...Be};return delete gt[st],gt})},It=(Ae,ve,De)=>{if(!p||w||De===0||N!=="brush")return;E(!0);const st=`${Ae}-${ve}`;m(Be=>({...Be,[st]:p}))},Gt=(Ae,ve,De)=>{if(!C||!p||w||De===0||N!=="brush")return;const st=`${Ae}-${ve}`;m(Be=>({...Be,[st]:p}))},Hr=()=>{E(!1)};S.useEffect(()=>{const Ae=()=>{E(!1)};return window.addEventListener("mouseup",Ae),window.addEventListener("touchend",Ae),()=>{window.removeEventListener("mouseup",Ae),window.removeEventListener("touchend",Ae)}},[]);const Ot=()=>{m({}),x(!1),v(null),L(1),Y(null)},tr=()=>{L(Ae=>Math.min(Ae+.25,2))},Ar=()=>{L(Ae=>Math.max(Ae-.25,.5))},bn=()=>{L(1)},fi=Ae=>{A(Ae),P(!1),m({}),x(!1),v(null),L(1),Y(null);const ve=`${window.location.pathname}?operation=${o}&level=${c}&template=${Ae}`;window.history.replaceState({},"",ve)},hs=Ae=>{l(Ae);const ve=ge?`${window.location.pathname}?operation=${Ae}&level=${c}&template=${I}`:`${window.location.pathname}?operation=${Ae}&level=${c}`;window.history.replaceState({},"",ve)},kn=Ae=>{d(Ae);const ve=ge?`${window.location.pathname}?operation=${o}&level=${Ae}&template=${I}`:`${window.location.pathname}?operation=${o}&level=${Ae}`;window.history.replaceState({},"",ve)};if(T)return a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(oe,{variant:"outline",onClick:()=>t(Je("Home")),className:"gap-2 mb-4",children:[a.jsx(Yu,{className:"w-4 h-4"}),"Back"]}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center gap-2 mb-2",children:[a.jsx(ld,{className:"w-8 h-8 text-purple-500"}),"Choose Your Pixel Art"]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Pick a fun design to color!"}),a.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-center gap-4 relative z-50",children:[a.jsxs("div",{className:"w-full sm:w-auto",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Math Operation"}),a.jsxs(ci,{value:o,onValueChange:hs,children:[a.jsx(Wn,{className:"w-full sm:w-52 h-12 text-base",children:a.jsx(ui,{placeholder:"Select operation"})}),a.jsxs(Hn,{className:"z-[100]",children:[a.jsx(Ze,{value:"addition",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fn,{className:"w-4 h-4"}),"Addition"]})}),a.jsx(Ze,{value:"subtraction",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oc,{className:"w-4 h-4"}),"Subtraction"]})}),a.jsx(Ze,{value:"multiplication",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sn,{className:"w-4 h-4"}),"Multiplication"]})}),a.jsx(Ze,{value:"division",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sc,{className:"w-4 h-4"}),"Division"]})})]})]})]}),a.jsxs("div",{className:"w-full sm:w-auto",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),a.jsxs(ci,{value:c,onValueChange:kn,children:[a.jsx(Wn,{className:"w-full sm:w-52 h-12 text-base",children:a.jsx(ui,{placeholder:"Select level"})}),a.jsxs(Hn,{className:"z-[100]",children:[a.jsx(Ze,{value:"easy",children:"Easy (K-2nd Grade)"}),a.jsx(Ze,{value:"medium",children:"Medium (3-5th Grade)"}),a.jsx(Ze,{value:"hard",children:"Hard (6-8th Grade)"})]})]})]})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(je,{className:"bg-green-500 text-white text-lg px-4 py-2",children:"Easy"}),a.jsx("span",{className:"text-gray-600 text-lg",children:"Perfect for K-2nd Grade"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:ne.easy.map(([Ae,ve])=>a.jsxs(te,{className:"border-4 border-green-200 hover:border-green-500 cursor-pointer transition-all hover:shadow-xl",onClick:()=>fi(Ae),children:[a.jsx(_e,{className:"bg-gradient-to-r from-green-100 to-emerald-100",children:a.jsxs(Ne,{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-2",children:ve.emoji}),a.jsx("div",{className:"text-xl",children:ve.name})]})}),a.jsx(re,{className:"p-4",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[ve.gridSize,"",ve.gridSize," grid"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Grades: ",ve.grades.join(", ")]}),a.jsxs(je,{className:"bg-blue-500 text-white",children:[a.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Pixel Art Style"]})]})})]},Ae))})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(je,{className:"bg-yellow-500 text-white text-lg px-4 py-2",children:"Medium"}),a.jsx("span",{className:"text-gray-600 text-lg",children:"Great for 3-5th Grade"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:ne.medium.map(([Ae,ve])=>a.jsxs(te,{className:"border-4 border-yellow-200 hover:border-yellow-500 cursor-pointer transition-all hover:shadow-xl",onClick:()=>fi(Ae),children:[a.jsx(_e,{className:"bg-gradient-to-r from-yellow-100 to-orange-100",children:a.jsxs(Ne,{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-2",children:ve.emoji}),a.jsx("div",{className:"text-xl",children:ve.name})]})}),a.jsx(re,{className:"p-4",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[ve.gridSize,"",ve.gridSize," grid"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Grades: ",ve.grades.join(", ")]}),a.jsxs(je,{className:"bg-blue-500 text-white",children:[a.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Pixel Art Style"]})]})})]},Ae))})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(je,{className:"bg-red-500 text-white text-lg px-4 py-2",children:"Hard"}),a.jsx("span",{className:"text-gray-600 text-lg",children:"Challenge for 5-8th Grade"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:ne.hard.map(([Ae,ve])=>a.jsxs(te,{className:"border-4 border-red-200 hover:border-red-500 cursor-pointer transition-all hover:shadow-xl",onClick:()=>fi(Ae),children:[a.jsx(_e,{className:"bg-gradient-to-r from-red-100 to-pink-100",children:a.jsxs(Ne,{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-2",children:ve.emoji}),a.jsx("div",{className:"text-xl",children:ve.name})]})}),a.jsx(re,{className:"p-4",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[ve.gridSize,"",ve.gridSize," grid"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Grades: ",ve.grades.join(", ")]}),a.jsxs(je,{className:"bg-blue-500 text-white",children:[a.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Pixel Art Style"]})]})})]},Ae))})]})]});if(!ge)return a.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8 text-center",children:a.jsx("p",{children:"Loading template..."})});const Bs=40;let qs=0,Pi=0;return ge.pattern.forEach((Ae,ve)=>{Ae.forEach((De,st)=>{if(De!==0){qs++;const Be=`${ve}-${st}`;f[Be]&&Pi++}})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4",children:[a.jsxs(oe,{variant:"outline",onClick:()=>P(!0),className:"gap-2",children:[a.jsx(Yu,{className:"w-4 h-4"}),"Change Picture"]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(ci,{value:o,onValueChange:hs,children:[a.jsx(Wn,{className:"w-44",children:a.jsx(ui,{})}),a.jsxs(Hn,{children:[a.jsx(Ze,{value:"addition",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fn,{className:"w-4 h-4"}),"Addition"]})}),a.jsx(Ze,{value:"subtraction",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oc,{className:"w-4 h-4"}),"Subtraction"]})}),a.jsx(Ze,{value:"multiplication",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sn,{className:"w-4 h-4"}),"Multiplication"]})}),a.jsx(Ze,{value:"division",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sc,{className:"w-4 h-4"}),"Division"]})})]})]}),a.jsxs(ci,{value:c,onValueChange:kn,children:[a.jsx(Wn,{className:"w-44",children:a.jsx(ui,{})}),a.jsxs(Hn,{children:[a.jsx(Ze,{value:"easy",children:"Easy (K-2)"}),a.jsx(Ze,{value:"medium",children:"Medium (3-5)"}),a.jsx(Ze,{value:"hard",children:"Hard (6-8)"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(oe,{variant:"outline",onClick:()=>_(!g),className:"gap-2",children:[a.jsx(ai,{className:"w-4 h-4"}),g?"Hide":"Show"," Hints"]}),a.jsxs(oe,{variant:"outline",onClick:Ot,className:"gap-2",children:[a.jsx(Ak,{className:"w-4 h-4"}),"Reset"]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center gap-2 mb-2",children:[a.jsx("span",{className:"text-4xl",children:ge.emoji}),ge.name," Pixel Art"]}),a.jsx("p",{className:"text-gray-600",children:"Solve the math problems and color the picture!"}),a.jsxs(je,{className:"mt-2 text-lg px-4 py-1",children:[o.charAt(0).toUpperCase()+o.slice(1)," - ",c.charAt(0).toUpperCase()+c.slice(1)]})]})]}),w&&a.jsxs(ze,{className:"mb-6 bg-green-50 border-green-300",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsx(We,{className:"text-green-800",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("strong",{children:" Pixel Art Complete!"}),a.jsx("p",{className:"text-sm mt-1",children:"You've colored all cells correctly! +25 coins & 3 stars!"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(oe,{onClick:()=>F(!0),className:"bg-blue-500 hover:bg-blue-600",children:[a.jsx(o3,{className:"w-4 h-4 mr-2"}),"Share"]}),a.jsxs(oe,{onClick:()=>P(!0),className:"bg-purple-500 hover:bg-purple-600",children:[a.jsx(Dde,{className:"w-4 h-4 mr-2"}),"New Picture"]}),a.jsxs(oe,{onClick:()=>t(Je("Home")),className:"bg-green-500 hover:bg-green-600",children:[a.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Done"]})]})]})})]}),$&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[200] p-4",onClick:()=>F(!1),children:a.jsxs(te,{className:"max-w-2xl w-full border-4 border-purple-300 shadow-2xl",onClick:Ae=>Ae.stopPropagation(),children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o3,{className:"w-6 h-6"}),"Share Your Masterpiece!"]}),a.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>F(!1),className:"text-white hover:bg-white/20",children:a.jsx(Sn,{className:"w-5 h-5"})})]})}),a.jsxs(re,{className:"p-6",children:[G&&a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"bg-gray-100 rounded-xl p-4 border-2 border-gray-300",children:a.jsx("img",{src:G,alt:"Completed artwork",className:"max-w-full mx-auto",style:{maxHeight:"300px",imageRendering:"pixelated"}})}),a.jsxs("p",{className:"text-center mt-3 text-gray-600",children:[a.jsx("span",{className:"text-2xl",children:ge==null?void 0:ge.emoji})," ",ge==null?void 0:ge.name," - ",o.charAt(0).toUpperCase()+o.slice(1)]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-bold text-lg mb-3",children:"Share on Social Media"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs(oe,{onClick:Re,className:"h-14 bg-[#1877F2] hover:bg-[#166FE5] text-white gap-2 text-base",children:[a.jsx(Aue,{className:"w-5 h-5"}),"Share on Facebook"]}),a.jsxs(oe,{onClick:he,className:"h-14 bg-[#1DA1F2] hover:bg-[#1A94DA] text-white gap-2 text-base",children:[a.jsx(ehe,{className:"w-5 h-5"}),"Share on Twitter"]})]}),a.jsxs(ze,{className:"bg-purple-50 border-purple-200",children:[a.jsx(Yue,{className:"w-4 h-4 text-purple-600"}),a.jsxs(We,{className:"text-purple-800 text-sm",children:[a.jsx("strong",{children:"Instagram Tip:"})," Download your artwork below and share it as a post or story!"]})]}),a.jsxs("div",{className:"pt-4 border-t space-y-3",children:[a.jsx("h3",{className:"font-bold text-lg",children:"Download & More"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs(oe,{onClick:Pe,variant:"outline",className:"h-12 gap-2 border-2 border-purple-300 hover:bg-purple-50",children:[a.jsx(vg,{className:"w-5 h-5"}),"Download Image"]}),a.jsxs(oe,{onClick:ot,variant:"outline",className:"h-12 gap-2 border-2 border-blue-300 hover:bg-blue-50",children:[a.jsx(Jue,{className:"w-5 h-5"}),"Copy Link"]})]})]}),a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ai,{className:"w-4 h-4 text-blue-600"}),a.jsxs(We,{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:"Pro Tip:"})," Download your artwork and share it anywhere! Perfect for showing off your math skills to friends and family."]})]})]})]})]})}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[a.jsxs(te,{className:"border-4 border-blue-300 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Wx,{className:"w-6 h-6"}),"Drawing Tools"]})}),a.jsxs(re,{className:"p-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[a.jsxs(oe,{variant:N==="brush"?"default":"outline",onClick:()=>O("brush"),className:`flex flex-col items-center gap-1 h-auto py-3 ${N==="brush"?"bg-blue-500 text-white":""}`,children:[a.jsx(Wx,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Brush"})]}),a.jsxs(oe,{variant:N==="fill"?"default":"outline",onClick:()=>O("fill"),className:`flex flex-col items-center gap-1 h-auto py-3 ${N==="fill"?"bg-blue-500 text-white":""}`,children:[a.jsx(A7,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Fill"})]}),a.jsxs(oe,{variant:N==="eraser"?"default":"outline",onClick:()=>O("eraser"),className:`flex flex-col items-center gap-1 h-auto py-3 ${N==="eraser"?"bg-blue-500 text-white":""}`,children:[a.jsx(E7,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Eraser"})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Zoom Controls"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:Ar,disabled:D<=.5,children:a.jsx(fhe,{className:"w-4 h-4"})}),a.jsx("div",{className:"flex-1 text-center",children:a.jsxs(je,{variant:"outline",className:"text-sm",children:[Math.round(D*100),"%"]})}),a.jsx(oe,{variant:"outline",size:"sm",onClick:tr,disabled:D>=2,children:a.jsx(dhe,{className:"w-4 h-4"})}),a.jsx(oe,{variant:"outline",size:"sm",onClick:bn,children:a.jsx(ide,{className:"w-4 h-4"})})]})]}),a.jsxs(ze,{className:"bg-blue-50 border-blue-200 mt-4",children:[a.jsx(ai,{className:"w-4 h-4 text-blue-600"}),a.jsxs(We,{className:"text-blue-800 text-xs",children:[N==="brush"&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:"Brush:"})," Click & drag to paint cells"]}),N==="fill"&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:"Fill:"})," Click to fill all connected cells with the same number"]}),N==="eraser"&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:"Eraser:"})," Click to remove color from cells"]})]})]})]})]}),a.jsxs(te,{className:"border-4 border-purple-300 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(ld,{className:"w-6 h-6"}),"Color Key"]})}),a.jsxs(re,{className:"p-4 space-y-3",children:[be.map((Ae,ve)=>{var De;return a.jsx("div",{onClick:()=>v(Ae.hex),className:`p-4 rounded-xl cursor-pointer transition-all border-4 ${p===Ae.hex?"border-purple-500 scale-105 shadow-lg":"border-gray-200 hover:border-purple-300"}`,style:{backgroundColor:Ae.hex},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-white drop-shadow-lg",children:[a.jsx("div",{className:"font-bold text-2xl",children:Ae.answer}),a.jsx("div",{className:"text-sm",children:(De=ue[ve])==null?void 0:De.question})]}),p===Ae.hex&&a.jsx(Ut,{className:"w-6 h-6 text-white"})]})},ve)}),!p&&N!=="eraser"&&a.jsxs(ze,{className:"bg-yellow-50 border-yellow-300",children:[a.jsx(ai,{className:"w-4 h-4 text-yellow-600"}),a.jsx(We,{className:"text-yellow-800 text-sm",children:"Select a color to start coloring!"})]})]})]})]}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(te,{className:"border-4 border-blue-300 shadow-xl",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsx(Ne,{children:" Your Pixel Art"})}),a.jsxs(re,{className:"p-6",children:[a.jsx("div",{className:"bg-white rounded-xl border-4 border-gray-300 p-4 overflow-auto max-h-[600px]",children:a.jsx("div",{className:"inline-block border-4 border-black select-none",style:{display:"grid",gridTemplateColumns:`repeat(${ge.gridSize}, ${Bs}px)`,gap:"0",transform:`scale(${D})`,transformOrigin:"top left"},onMouseUp:Hr,onMouseLeave:Hr,children:ge.pattern.map((Ae,ve)=>Ae.map((De,st)=>{const Be=`${ve}-${st}`,gt=ue[De-1],jt=!!f[Be],_t=f[Be]||(De===0?"#F3F4F6":"#FFFFFF"),dr=jt&&f[Be]===(gt==null?void 0:gt.color.hex);return a.jsxs("div",{onMouseDown:()=>N==="brush"&&It(ve,st,De),onMouseEnter:()=>N==="brush"&&Gt(ve,st,De),onClick:()=>kt(ve,st,De),onTouchStart:()=>kt(ve,st,De),className:`border border-gray-400 flex items-center justify-center font-bold transition-all ${De!==0&&!jt?"hover:bg-gray-100":""} ${N==="brush"&&C?"cursor-crosshair":"cursor-pointer"}`,style:{width:`${Bs}px`,height:`${Bs}px`,backgroundColor:_t},children:[De!==0&&!jt&&a.jsx("span",{className:"text-black text-xl select-none pointer-events-none",children:gt==null?void 0:gt.answer}),jt&&dr&&a.jsx("span",{className:"text-white text-2xl drop-shadow-lg pointer-events-none",children:""}),jt&&!dr&&a.jsx("span",{className:"text-white text-xl drop-shadow-lg pointer-events-none",children:""})]},Be)}))})}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",Pi," / ",qs," cells colored",C&&a.jsx("span",{className:"ml-2 text-purple-600 font-bold",children:" Painting..."})]}),a.jsx("div",{className:"flex gap-1",children:[1,2,3].map(Ae=>a.jsx(Nt,{className:`w-6 h-6 ${w?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},Ae))})]})]})]})})]}),a.jsx(te,{className:"mt-6 border-2 border-purple-200",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"grid md:grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Brush Tool"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click & drag to paint multiple cells"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Fill Tool"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Fill all connected same numbers at once"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Eraser"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Remove colors to fix mistakes"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Zoom"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Zoom in for detailed work on large grids"})]})]})})})]})}var OJ=["PageUp","PageDown"],RJ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],MJ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},wm="Slider",[vC,uLe,dLe]=Fw(wm),[DJ]=ga(wm,[dLe]),[hLe,H1]=DJ(wm),LJ=S.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:f,onValueChange:m=()=>{},onValueCommit:p=()=>{},inverted:v=!1,form:w,...x}=t,g=S.useRef(new Set),_=S.useRef(0),P=o==="horizontal"?fLe:mLe,[I=[],A]=il({prop:f,defaultProp:d,onChange:L=>{var F;(F=[...g.current][_.current])==null||F.focus(),m(L)}}),C=S.useRef(I);function E(L){const $=xLe(I,L);D(L,$)}function N(L){D(L,_.current)}function O(){const L=C.current[_.current];I[_.current]!==L&&p(I)}function D(L,$,{commit:F}={commit:!1}){const G=jLe(s),Y=NLe(Math.round((L-n)/s)*s+n,G),K=cw(Y,[n,i]);A((X=[])=>{const U=yLe(X,K,$);if(_Le(U,c*s)){_.current=U.indexOf(K);const Q=String(U)!==String(X);return Q&&F&&p(U),Q?U:X}else return X})}return a.jsx(hLe,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:i,valueIndexToChangeRef:_,thumbs:g.current,values:I,orientation:o,form:w,children:a.jsx(vC.Provider,{scope:t.__scopeSlider,children:a.jsx(vC.Slot,{scope:t.__scopeSlider,children:a.jsx(P,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:e,onPointerDown:Fe(x.onPointerDown,()=>{l||(C.current=I)}),min:n,max:i,inverted:v,onSlideStart:l?void 0:E,onSlideMove:l?void 0:N,onSlideEnd:l?void 0:O,onHomeKeyDown:()=>!l&&D(n,0,{commit:!0}),onEndKeyDown:()=>!l&&D(i,I.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:$})=>{if(!l){const Y=OJ.includes(L.key)||L.shiftKey&&RJ.includes(L.key)?10:1,K=_.current,X=I[K],U=s*Y*$;D(X+U,K,{commit:!0})}}})})})})});LJ.displayName=wm;var[$J,FJ]=DJ(wm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),fLe=S.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=t,[m,p]=S.useState(null),v=$t(e,P=>p(P)),w=S.useRef(void 0),x=Ry(i),g=x==="ltr",_=g&&!s||!g&&s;function T(P){const I=w.current||m.getBoundingClientRect(),A=[0,I.width],E=HO(A,_?[r,n]:[n,r]);return w.current=I,E(P-I.left)}return a.jsx($J,{scope:t.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:a.jsx(VJ,{dir:x,"data-orientation":"horizontal",...f,ref:v,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const I=T(P.clientX);o==null||o(I)},onSlideMove:P=>{const I=T(P.clientX);l==null||l(I)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:P=>{const A=MJ[_?"from-left":"from-right"].includes(P.key);d==null||d({event:P,direction:A?-1:1})}})})}),mLe=S.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,f=S.useRef(null),m=$t(e,f),p=S.useRef(void 0),v=!i;function w(x){const g=p.current||f.current.getBoundingClientRect(),_=[0,g.height],P=HO(_,v?[n,r]:[r,n]);return p.current=g,P(x-g.top)}return a.jsx($J,{scope:t.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:a.jsx(VJ,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const g=w(x.clientY);s==null||s(g)},onSlideMove:x=>{const g=w(x.clientY);o==null||o(g)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:x=>{const _=MJ[v?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:_?-1:1})}})})}),VJ=S.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,f=H1(wm,r);return a.jsx(wt.span,{...d,ref:e,onKeyDown:Fe(t.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):OJ.concat(RJ).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:Fe(t.onPointerDown,m=>{const p=m.target;p.setPointerCapture(m.pointerId),m.preventDefault(),f.thumbs.has(p)?p.focus():n(m)}),onPointerMove:Fe(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&i(m)}),onPointerUp:Fe(t.onPointerUp,m=>{const p=m.target;p.hasPointerCapture(m.pointerId)&&(p.releasePointerCapture(m.pointerId),s(m))})})}),BJ="SliderTrack",qJ=S.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=H1(BJ,r);return a.jsx(wt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});qJ.displayName=BJ;var xC="SliderRange",UJ=S.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=H1(xC,r),s=FJ(xC,r),o=S.useRef(null),l=$t(e,o),c=i.values.length,d=i.values.map(p=>HJ(p,i.min,i.max)),f=c>1?Math.min(...d):0,m=100-Math.max(...d);return a.jsx(wt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:l,style:{...t.style,[s.startEdge]:f+"%",[s.endEdge]:m+"%"}})});UJ.displayName=xC;var bC="SliderThumb",zJ=S.forwardRef((t,e)=>{const r=uLe(t.__scopeSlider),[n,i]=S.useState(null),s=$t(e,l=>i(l)),o=S.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return a.jsx(pLe,{...t,ref:s,index:o})}),pLe=S.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...s}=t,o=H1(bC,r),l=FJ(bC,r),[c,d]=S.useState(null),f=$t(e,T=>d(T)),m=c?o.form||!!c.closest("form"):!0,p=Ww(c),v=o.values[n],w=v===void 0?0:HJ(v,o.min,o.max),x=vLe(n,o.values.length),g=p==null?void 0:p[l.size],_=g?bLe(g,w,l.direction):0;return S.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${_}px)`},children:[a.jsx(vC.ItemSlot,{scope:t.__scopeSlider,children:a.jsx(wt.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":v,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:f,style:v===void 0?{display:"none"}:t.style,onFocus:Fe(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),m&&a.jsx(WJ,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:v},n)]})});zJ.displayName=bC;var gLe="RadioBubbleInput",WJ=S.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const i=S.useRef(null),s=$t(i,n),o=V1(e);return S.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const m=new Event("input",{bubbles:!0});f.call(l,e),l.dispatchEvent(m)}},[o,e]),a.jsx(wt.input,{style:{display:"none"},...r,ref:s,defaultValue:e})});WJ.displayName=gLe;function yLe(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,s)=>i-s)}function HJ(t,e,r){const s=100/(r-e)*(t-e);return cw(s,[0,100])}function vLe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function xLe(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function bLe(t,e,r){const n=t/2,s=HO([0,50],[0,n]);return(n-s(e)*r)*r}function wLe(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function _Le(t,e){if(e>0){const r=wLe(t);return Math.min(...r)>=e}return!0}function HO(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function jLe(t){return(String(t).split(".")[1]||"").length}function NLe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var GJ=LJ,SLe=qJ,TLe=UJ,ELe=zJ;const KJ=S.forwardRef(({className:t,...e},r)=>a.jsxs(GJ,{ref:r,className:vt("relative flex w-full touch-none select-none items-center",t),...e,children:[a.jsx(SLe,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:a.jsx(TLe,{className:"absolute h-full bg-primary"})}),a.jsx(ELe,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));KJ.displayName=GJ.displayName;function YJ(){var N,O,D,L,$;const t=Sd(),e=vn(),{data:r}=ut({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),[n,i]=S.useState(((N=r==null?void 0:r.app_settings)==null?void 0:N.theme)||"light"),[s,o]=S.useState(((O=r==null?void 0:r.app_settings)==null?void 0:O.sound_volume)??70),[l,c]=S.useState(((D=r==null?void 0:r.app_settings)==null?void 0:D.default_operation)||"addition"),[d,f]=S.useState(((L=r==null?void 0:r.app_settings)==null?void 0:L.default_level)||"easy"),[m,p]=S.useState((($=r==null?void 0:r.app_settings)==null?void 0:$.default_drawing_tool)||"brush"),[v,w]=S.useState(!1),[x,g]=S.useState(!1);S.useEffect(()=>{r!=null&&r.app_settings&&(i(r.app_settings.theme||"light"),o(r.app_settings.sound_volume??70),c(r.app_settings.default_operation||"addition"),f(r.app_settings.default_level||"easy"),p(r.app_settings.default_drawing_tool||"brush"))},[r]);const _=()=>{const F=(r==null?void 0:r.app_settings)||{},G=n!==(F.theme||"light")||s!==(F.sound_volume??70)||l!==(F.default_operation||"addition")||d!==(F.default_level||"easy")||m!==(F.default_drawing_tool||"brush");w(G)};S.useEffect(()=>{_()},[n,s,l,d,m,r]);const T=Pr({mutationFn:async F=>await base44.auth.updateMe({app_settings:F}),onSuccess:()=>{e.invalidateQueries({queryKey:["currentUser"]}),g(!0),w(!1),setTimeout(()=>g(!1),3e3)}}),P=()=>{const F={theme:n,sound_volume:s,default_operation:l,default_level:d,default_drawing_tool:m};T.mutate(F)},I=()=>{i("light"),o(70),c("addition"),f("easy"),p("brush")},A=[{id:"addition",name:"Addition",icon:Fn},{id:"subtraction",name:"Subtraction",icon:oc},{id:"multiplication",name:"Multiplication",icon:Sn},{id:"division",name:"Division",icon:sc}],C=[{id:"easy",name:"Easy (K-2nd)",color:"bg-green-500"},{id:"medium",name:"Medium (3-5th)",color:"bg-yellow-500"},{id:"hard",name:"Hard (6-8th)",color:"bg-red-500"}],E=[{id:"brush",name:"Brush",icon:Wx,description:"Click & drag to paint"},{id:"fill",name:"Fill",icon:A7,description:"Fill connected areas"},{id:"eraser",name:"Eraser",icon:E7,description:"Remove colors"}];return a.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(xg,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"App Settings"}),a.jsx("p",{className:"text-gray-600",children:"Customize your Math Adventure experience"})]})]}),x&&a.jsxs(ze,{className:"bg-green-50 border-green-300 mb-4",children:[a.jsx(Mr,{className:"w-4 h-4 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{children:"Settings saved successfully!"})," Your preferences have been updated."]})]}),v&&a.jsxs(ze,{className:"bg-blue-50 border-blue-300 mb-4",children:[a.jsx(ai,{className:"w-4 h-4 text-blue-600"}),a.jsx(We,{className:"text-blue-800",children:'You have unsaved changes. Click "Save Settings" to apply them.'})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(te,{className:"border-4 border-purple-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(ld,{className:"w-6 h-6 text-purple-600"}),"Appearance Theme"]})}),a.jsxs(re,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how the app looks"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{onClick:()=>i("light"),className:`cursor-pointer border-4 rounded-xl p-6 transition-all ${n==="light"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(zde,{className:"w-8 h-8 text-yellow-500"}),n==="light"&&a.jsx(Mr,{className:"w-6 h-6 text-purple-600"})]}),a.jsx("h3",{className:"font-bold text-lg mb-1",children:"Light Mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Bright and colorful interface"}),a.jsx("div",{className:"mt-4 h-16 bg-gradient-to-r from-white to-gray-100 rounded-lg border-2 border-gray-300"})]}),a.jsxs("div",{onClick:()=>i("dark"),className:`cursor-pointer border-4 rounded-xl p-6 transition-all ${n==="dark"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(dde,{className:"w-8 h-8 text-indigo-500"}),n==="dark"&&a.jsx(Mr,{className:"w-6 h-6 text-purple-600"})]}),a.jsx("h3",{className:"font-bold text-lg mb-1",children:"Dark Mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Easy on the eyes at night"}),a.jsx("div",{className:"mt-4 h-16 bg-gradient-to-r from-gray-800 to-gray-900 rounded-lg border-2 border-gray-700"})]})]}),a.jsxs(ze,{className:"mt-4 bg-blue-50 border-blue-300",children:[a.jsx(ai,{className:"w-4 h-4 text-blue-600"}),a.jsxs(We,{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:"Dark Mode Active:"})," The theme will apply throughout the app. Refresh the page if colors don't update immediately."]})]})]})]}),a.jsxs(te,{className:"border-4 border-blue-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-100 to-cyan-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(c3,{className:"w-6 h-6 text-blue-600"}),"Sound Effects"]})}),a.jsxs(re,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Adjust sound effects volume"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(c3,{className:`w-6 h-6 ${s===0?"text-gray-400":"text-blue-600"}`}),a.jsx(KJ,{value:[s],onValueChange:F=>o(F[0]),max:100,step:1,className:"flex-1"}),a.jsxs(je,{className:"bg-blue-500 text-white text-lg px-4 py-1 min-w-[60px] text-center",children:[s,"%"]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>o(0),className:s===0?"bg-blue-100 border-blue-500":"",children:"Mute"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>o(30),className:s===30?"bg-blue-100 border-blue-500":"",children:"Low"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>o(70),className:s===70?"bg-blue-100 border-blue-500":"",children:"Medium"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>o(100),className:s===100?"bg-blue-100 border-blue-500":"",children:"High"})]}),a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ai,{className:"w-4 h-4 text-blue-600"}),a.jsx(We,{className:"text-blue-800 text-sm",children:"Sound effects play when you answer questions correctly or earn rewards!"})]})]})]})]}),a.jsxs(te,{className:"border-4 border-green-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-green-100 to-emerald-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Qt,{className:"w-6 h-6 text-green-600"}),"Default Game Settings"]})}),a.jsxs(re,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Set your preferred operation and difficulty level"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-3",children:"Default Operation"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:A.map(F=>{const G=F.icon;return a.jsxs("div",{onClick:()=>c(F.id),className:`cursor-pointer border-4 rounded-xl p-4 transition-all text-center ${l===F.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[a.jsx(G,{className:`w-8 h-8 mx-auto mb-2 ${l===F.id?"text-green-600":"text-gray-600"}`}),a.jsx("p",{className:"font-semibold text-sm",children:F.name}),l===F.id&&a.jsx(Mr,{className:"w-5 h-5 mx-auto mt-2 text-green-600"})]},F.id)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-3",children:"Default Difficulty Level"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:C.map(F=>a.jsxs("div",{onClick:()=>f(F.id),className:`cursor-pointer border-4 rounded-xl p-4 transition-all text-center ${d===F.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[a.jsx("div",{className:`w-12 h-12 ${F.color} rounded-full mx-auto mb-2 flex items-center justify-center text-white font-bold text-xl`,children:F.id==="easy"?"E":F.id==="medium"?"M":"H"}),a.jsx("p",{className:"font-semibold text-sm",children:F.name}),d===F.id&&a.jsx(Mr,{className:"w-5 h-5 mx-auto mt-2 text-green-600"})]},F.id))})]})]})]})]}),a.jsxs(te,{className:"border-4 border-orange-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-orange-100 to-red-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Wx,{className:"w-6 h-6 text-orange-600"}),"Color by Numbers Preferences"]})}),a.jsxs(re,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose your default drawing tool"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:E.map(F=>{const G=F.icon;return a.jsxs("div",{onClick:()=>p(F.id),className:`cursor-pointer border-4 rounded-xl p-6 transition-all ${m===F.id?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-300"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(G,{className:`w-8 h-8 ${m===F.id?"text-orange-600":"text-gray-600"}`}),m===F.id&&a.jsx(Mr,{className:"w-6 h-6 text-orange-600"})]}),a.jsx("h3",{className:"font-bold text-lg mb-1",children:F.name}),a.jsx("p",{className:"text-xs text-gray-600",children:F.description})]},F.id)})}),a.jsxs(ze,{className:"mt-4 bg-orange-50 border-orange-200",children:[a.jsx(ai,{className:"w-4 h-4 text-orange-600"}),a.jsx(We,{className:"text-orange-800 text-sm",children:"This tool will be selected by default when you start a Color by Numbers game."})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[a.jsxs(oe,{variant:"outline",onClick:I,className:"w-full sm:w-auto gap-2 text-gray-700",children:[a.jsx(Ak,{className:"w-4 h-4"}),"Reset to Defaults"]}),a.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[a.jsx(oe,{variant:"outline",onClick:()=>t(Je("Home")),className:"flex-1 sm:flex-initial",children:"Cancel"}),a.jsxs(oe,{onClick:P,disabled:!v||T.isPending,className:"flex-1 sm:flex-initial gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 disabled:opacity-50",children:[a.jsx(Hx,{className:"w-4 h-4"}),T.isPending?"Saving...":"Save Settings"]})]})]})]}),a.jsxs(te,{className:"mt-8 border-2 border-red-200",children:[a.jsx(_e,{className:"bg-red-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Vi,{className:"w-5 h-5 text-red-600"}),"Data & Privacy"]})}),a.jsx(re,{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(zn,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Request Account Deletion"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"If you'd like to delete your account and all associated data, you can submit a deletion request. This action will permanently remove:"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 mb-4 ml-4",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500 font-bold",children:""}),a.jsx("span",{children:"Your profile and avatar customizations"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500 font-bold",children:""}),a.jsx("span",{children:"All game progress, scores, and achievements"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500 font-bold",children:""}),a.jsx("span",{children:"Messages, goals, and team challenges"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500 font-bold",children:""}),a.jsx("span",{children:"Subscription and payment information"})]})]}),a.jsxs(ze,{className:"bg-yellow-50 border-yellow-300 mb-4",children:[a.jsx(zn,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"Warning:"})," Account deletion is permanent and cannot be undone. We will process your request within 30 days."]})]}),a.jsx("a",{href:`mailto:support@math-adventure.com?subject=Account Deletion Request&body=Hello,%0D%0A%0D%0AI would like to request the deletion of my Math Adventure account.%0D%0A%0D%0AAccount Email: ${(r==null?void 0:r.email)||""}%0D%0AAccount Name: ${(r==null?void 0:r.full_name)||""}%0D%0A%0D%0APlease confirm that all my personal data and game progress will be permanently deleted.%0D%0A%0D%0AThank you.`,className:"inline-block",children:a.jsxs(oe,{variant:"destructive",className:"gap-2",children:[a.jsx(Iy,{className:"w-4 h-4"}),"Request Account Deletion"]})})]})]})})})]}),a.jsxs(te,{className:"mt-8 border-2 border-gray-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Yt,{className:"w-5 h-5 text-purple-500"}),"Tips & Tricks"]})}),a.jsx(re,{children:a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 font-bold",children:""}),a.jsx("span",{children:"Your settings are saved automatically and sync across all your devices"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 font-bold",children:""}),a.jsx("span",{children:"Default game settings make it faster to start playing your favorite challenges"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 font-bold",children:""}),a.jsx("span",{children:"You can change your drawing tool anytime while playing Color by Numbers"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 font-bold",children:""}),a.jsx("span",{children:"Turn down sound effects if you're playing in a quiet environment"})]})]})})]})]})}function QJ(){const t="January 15, 2025",e="support@math-adventure.com";return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(Vi,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Privacy Policy"}),a.jsx("p",{className:"text-gray-600",children:"Your privacy is important to us"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2 flex items-center justify-center gap-2",children:[a.jsx(Wr,{className:"w-4 h-4"}),"Last Updated: ",t]})]}),a.jsxs(ze,{className:"mb-8 bg-blue-50 border-blue-300",children:[a.jsx(Vi,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"Children's Privacy Protection:"})," Math Adventure is designed for children aged 5-14. We comply with the Children's Online Privacy Protection Act (COPPA) and require verifiable parental consent before collecting any personal information from children under 13."]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(te,{className:"border-2 border-gray-200",children:[a.jsx(_e,{className:"bg-gray-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(i3,{className:"w-6 h-6 text-gray-700"}),"Introduction"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:'Welcome to Math Adventure ("we," "our," or "us"). This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our educational math learning platform (the "Service").'}),a.jsx("p",{className:"text-gray-700",children:"We are committed to protecting the privacy of all users, especially children. This policy applies to all users of Math Adventure, including students, parents, and teachers."}),a.jsx("p",{className:"text-gray-700",children:"By using our Service, you agree to the collection and use of information in accordance with this policy."})]})]}),a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(n3,{className:"w-6 h-6 text-purple-600"}),"Information We Collect"]})}),a.jsxs(re,{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"1. Account Information"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"When you create an account, we collect:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Full name"}),a.jsx("li",{children:"Email address"}),a.jsx("li",{children:"Age/grade level (for educational content alignment)"}),a.jsx("li",{children:"Parent/guardian email (for children under 13)"}),a.jsx("li",{children:"Account preferences and settings"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"2. Educational Data"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"To provide personalized learning, we collect:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Game scores and performance metrics"}),a.jsx("li",{children:"Time spent on activities"}),a.jsx("li",{children:"Correct and incorrect answers"}),a.jsx("li",{children:"Learning progress and achievement data"}),a.jsx("li",{children:"Daily challenge participation"}),a.jsx("li",{children:"Skill mastery levels"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"3. Avatar & Customization Data"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Avatar customization choices"}),a.jsx("li",{children:"Items purchased with in-game currency"}),a.jsx("li",{children:"Unlocked achievements and badges"}),a.jsx("li",{children:"Pet selections and experience points"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"4. Payment Information"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"When you purchase a subscription, payment processing is handled by Square, Inc. We do not store credit card information. We only receive:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Subscription tier selected"}),a.jsx("li",{children:"Subscription start and end dates"}),a.jsx("li",{children:"Payment confirmation status"}),a.jsx("li",{children:"Transaction IDs for record-keeping"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"5. Communication Data"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Messages between parents and children (within app)"}),a.jsx("li",{children:"Support requests and correspondence"}),a.jsx("li",{children:"Feedback and survey responses"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"6. Usage Information"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Device type and operating system"}),a.jsx("li",{children:"Browser type and version"}),a.jsx("li",{children:"IP address (for security and fraud prevention)"}),a.jsx("li",{children:"Login times and session duration"}),a.jsx("li",{children:"Pages visited and features used"})]})]})]})]}),a.jsxs(te,{className:"border-2 border-green-200",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(yn,{className:"w-6 h-6 text-green-600"}),"How We Use Your Information"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700 mb-2",children:"We use the collected information to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Provide and maintain the Service:"})," Deliver educational content, track progress, and personalize learning experiences"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Process payments:"})," Manage subscriptions and billing through our payment processor"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Communicate with you:"})," Send important updates, respond to support requests, and deliver educational feedback"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Improve our Service:"})," Analyze usage patterns to enhance features and educational effectiveness"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Enable parent controls:"})," Allow parents/teachers to monitor children's progress and set appropriate boundaries"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Personalize learning:"})," Adapt difficulty levels and recommend appropriate content based on performance"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Generate reports:"})," Provide progress reports and analytics to parents and teachers"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Ensure security:"})," Detect and prevent fraudulent activity, abuse, and security threats"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Comply with legal obligations:"})," Meet legal requirements and enforce our terms of service"]})]})]})]}),a.jsxs(te,{className:"border-4 border-orange-300 shadow-lg",children:[a.jsx(_e,{className:"bg-orange-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"w-6 h-6 text-orange-600"}),"Children's Privacy (COPPA Compliance)"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsxs("p",{className:"text-gray-700",children:[a.jsx("strong",{children:"Math Adventure is committed to protecting children's privacy."})," We comply with the Children's Online Privacy Protection Act (COPPA)."]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Parental Consent"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"For children under 13, we:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Require verifiable parental consent before collecting personal information"}),a.jsx("li",{children:"Only collect information reasonably necessary to participate in the Service"}),a.jsx("li",{children:"Do not condition participation on providing more information than necessary"}),a.jsx("li",{children:"Allow parents to review, delete, or refuse further collection of their child's information"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Information We Collect from Children"}),a.jsx("p",{className:"text-gray-700",children:"From children under 13, we only collect information necessary for educational purposes:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Username and email (for account creation)"}),a.jsx("li",{children:"Grade level (for age-appropriate content)"}),a.jsx("li",{children:"Game progress and educational performance"}),a.jsx("li",{children:"Avatar customization preferences"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Parental Rights"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"Parents have the right to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Review personal information collected from their child"}),a.jsx("li",{children:"Request deletion of their child's personal information"}),a.jsx("li",{children:"Refuse to allow further collection or use of their child's information"}),a.jsx("li",{children:"Access the parent portal to monitor their child's activity"})]}),a.jsxs("p",{className:"text-gray-700 mt-3",children:["To exercise these rights, contact us at ",a.jsx("a",{href:`mailto:${e}`,className:"text-blue-600 hover:underline",children:e})]})]})]})]}),a.jsxs(te,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(yn,{className:"w-6 h-6 text-blue-600"}),"Data Sharing and Disclosure"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:a.jsx("strong",{children:"We do not sell or rent your personal information to third parties."})}),a.jsx("p",{className:"text-gray-700 mb-2",children:"We may share information with:"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Service Providers"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"We work with trusted third-party service providers to help us operate our Service:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 text-sm ml-4 mt-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Square, Inc.:"})," Payment processing (PCI-DSS compliant)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Base44 Platform:"})," Application hosting and infrastructure"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"OpenAI:"})," AI-powered tutoring features (anonymized data only)"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Parents and Teachers"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"When a child is linked to a parent or teacher account, we share the child's educational progress, game statistics, and performance data with that parent/teacher."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Legal Requirements"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"We may disclose information if required by law, court order, or to protect our rights, safety, or the rights and safety of others."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Business Transfers"}),a.jsx("p",{className:"text-700 text-sm",children:"In the event of a merger, acquisition, or sale of assets, user information may be transferred. We will notify you before your information is transferred and becomes subject to a different privacy policy."})]})]})]})]}),a.jsxs(te,{className:"border-2 border-red-200",children:[a.jsx(_e,{className:"bg-red-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(oi,{className:"w-6 h-6 text-red-600"}),"Data Security"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"We take the security of your information seriously and implement industry-standard security measures:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Encryption:"})," All data transmitted between your device and our servers is encrypted using HTTPS/TLS"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Secure Storage:"})," Data is stored on secure servers with restricted access"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Authentication:"})," User accounts are protected with secure authentication systems"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Access Controls:"})," Only authorized personnel have access to personal information"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Regular Security Audits:"})," We regularly review our security practices"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"PCI Compliance:"})," Payment processing through Square meets PCI-DSS standards"]})]}),a.jsxs(ze,{className:"mt-4 bg-yellow-50 border-yellow-300",children:[a.jsx(zn,{className:"w-4 h-4 text-yellow-600"}),a.jsx(We,{className:"text-yellow-800 text-sm",children:"While we strive to protect your information, no method of transmission over the internet or electronic storage is 100% secure. We cannot guarantee absolute security."})]})]})]}),a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Wr,{className:"w-6 h-6 text-purple-600"}),"Data Retention"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"We retain your information for as long as necessary to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Provide our Service and maintain your account"}),a.jsx("li",{children:"Comply with legal obligations"}),a.jsx("li",{children:"Resolve disputes and enforce our agreements"}),a.jsx("li",{children:"Enable parents/teachers to track long-term educational progress"})]}),a.jsx("p",{className:"text-gray-700 mt-4",children:"When you delete your account, we will delete or anonymize your personal information within 30 days, except where we are required by law to retain certain information longer."}),a.jsx("p",{className:"text-gray-700",children:"Educational progress data may be retained in anonymized form for research and product improvement purposes."})]})]}),a.jsxs(te,{className:"border-2 border-green-200",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Vi,{className:"w-6 h-6 text-green-600"}),"Your Rights and Choices"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"You have the following rights regarding your personal information:"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Access and Portability"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Request a copy of your personal information in a machine-readable format"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Correction"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Update or correct inaccurate information through your account settings"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Deletion"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Request deletion of your account and associated data"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Opt-Out"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Unsubscribe from promotional emails (you'll still receive essential account notifications)"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Parental Controls"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Parents can access the Parent Portal to manage their child's account, set restrictions, and monitor activity"})]})]}),a.jsxs("p",{className:"text-gray-700 mt-4",children:["To exercise these rights, contact us at ",a.jsx("a",{href:`mailto:${e}`,className:"text-blue-600 hover:underline",children:e})]})]})]}),a.jsxs(te,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(n3,{className:"w-6 h-6 text-blue-600"}),"Cookies and Tracking Technologies"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"We use cookies and similar technologies to enhance your experience and improve our Service:"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Essential Cookies"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Required for basic functionality (authentication, security, preferences)"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Analytics"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Help us understand how users interact with our Service to improve it"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Preferences"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Remember your settings and customization choices"})]})]}),a.jsx("p",{className:"text-gray-700 mt-4",children:"You can control cookies through your browser settings. However, disabling cookies may affect some functionality of the Service."})]})]}),a.jsxs(te,{className:"border-2 border-yellow-200",children:[a.jsx(_e,{className:"bg-yellow-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"w-6 h-6 text-yellow-600"}),"Third-Party Links"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"Our Service may contain links to third-party websites or services that are not operated by us. We have no control over and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services."}),a.jsx("p",{className:"text-gray-700",children:"We strongly advise you to review the privacy policy of every site you visit, especially before allowing children to use those sites."})]})]}),a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(yn,{className:"w-6 h-6 text-purple-600"}),"International Users"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"Math Adventure is based in the United States and our Service is intended primarily for users in the United States. If you access our Service from outside the United States, please be aware that your information may be transferred to, stored, and processed in the United States."}),a.jsx("p",{className:"text-gray-700",children:"By using our Service, you consent to the transfer of your information to the United States and agree that such transfer will be governed by U.S. law and this Privacy Policy."})]})]}),a.jsxs(te,{className:"border-2 border-gray-200",children:[a.jsx(_e,{className:"bg-gray-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(i3,{className:"w-6 h-6 text-gray-700"}),"Changes to This Privacy Policy"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"We may update this Privacy Policy from time to time. We will notify you of any changes by:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Posting the new Privacy Policy on this page"}),a.jsx("li",{children:'Updating the "Last Updated" date at the top of this policy'}),a.jsx("li",{children:"Sending an email notification for significant changes (if you've provided an email)"}),a.jsx("li",{children:"Displaying a prominent notice within the Service"})]}),a.jsx("p",{className:"text-gray-700 mt-4",children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when posted on this page."})]})]}),a.jsxs(te,{className:"border-4 border-blue-300 shadow-lg",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(zh,{className:"w-6 h-6"}),"Contact Us"]})}),a.jsxs(re,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"If you have any questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us:"}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(zh,{className:"w-5 h-5 text-blue-600 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-800",children:"Email"}),a.jsx("a",{href:`mailto:${e}`,className:"text-blue-600 hover:underline",children:e})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Vi,{className:"w-5 h-5 text-blue-600 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-800",children:"For COPPA-related inquiries or parental rights"}),a.jsx("a",{href:`mailto:${e}`,className:"text-blue-600 hover:underline",children:e})]})]})]}),a.jsx("p",{className:"text-gray-700 text-sm",children:"We will respond to your inquiry within 30 days of receipt. For COPPA-related requests from parents, we will respond within 10 business days."})]})]}),a.jsxs(ze,{className:"bg-green-50 border-green-300",children:[a.jsx(Vi,{className:"w-5 h-5 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{children:"By using Math Adventure, you acknowledge that you have read and understood this Privacy Policy and agree to its terms."})," If you do not agree with this Privacy Policy, please do not use our Service."]})]})]})]})}function PLe({progress:t,tutorSessions:e,onPracticeClick:r}){const n=()=>{const d=[],f={};return t.forEach(m=>{f[m.operation]||(f[m.operation]={operation:m.operation,level:m.level,totalGames:0,totalCorrect:0,totalQuestions:0,totalTime:0}),f[m.operation].totalGames++,f[m.operation].totalCorrect+=m.correct_answers,f[m.operation].totalQuestions+=m.total_questions,f[m.operation].totalTime+=m.time_taken}),Object.values(f).forEach(m=>{const p=m.totalCorrect/m.totalQuestions*100;if(p<75||m.totalGames<3){let v="medium",w="";p<50?(v="high",w="Very low accuracy"):p<65?(v="high",w="Low accuracy"):p<75?(v="medium",w="Room for improvement"):m.totalGames<3&&(v="low",w="Need more practice"),d.push({operation:m.operation,level:m.level,accuracy:Math.round(p),totalGames:m.totalGames,severity:v,reason:w})}}),d.sort((m,p)=>{const v={high:0,medium:1,low:2};return v[m.severity]-v[p.severity]})},i=()=>{const d={};return e.forEach(f=>{const m=`${f.operation}-${f.level}`;d[m]||(d[m]={operation:f.operation,level:f.level,count:0,examples:[]}),d[m].count++,d[m].examples.length<3&&d[m].examples.push(f.question)}),Object.values(d).sort((f,m)=>m.count-f.count).slice(0,5)},s=n(),o=i(),c=(()=>{const d=[];if(s.length===0)d.push({type:"success",title:"Great Job!",message:"You're performing well across all topics! Keep practicing to maintain your skills.",icon:""});else{const f=s.filter(p=>p.severity==="high");f.length>0&&d.push({type:"urgent",title:"Priority Practice Areas",message:`Focus on ${f.map(p=>p.operation).join(", ")} to improve quickly.`,icon:""});const m=s.filter(p=>p.totalGames<3);m.length>0&&d.push({type:"info",title:"Try New Topics",message:`Play more games in ${m.map(p=>p.operation).join(", ")} to build confidence.`,icon:""})}return d})();return t.length===0?a.jsx(te,{className:"text-center py-12",children:a.jsxs(re,{children:[a.jsx(Qt,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No Data Yet"}),a.jsx("p",{className:"text-gray-600",children:"Play some games first, then I'll identify areas to improve!"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"space-y-4",children:c.map((d,f)=>a.jsxs(ze,{className:`${d.type==="urgent"?"bg-red-50 border-red-300":d.type==="success"?"bg-green-50 border-green-300":"bg-blue-50 border-blue-300"}`,children:[a.jsx("span",{className:"text-2xl mr-2",children:d.icon}),a.jsxs(We,{children:[a.jsxs("strong",{children:[d.title,":"]})," ",d.message]})]},f))}),s.length>0&&a.jsxs(te,{className:"border-2 border-orange-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Ic,{className:"w-6 h-6 text-orange-600"}),"Areas Needing Improvement"]})}),a.jsx(re,{className:"space-y-4",children:s.map((d,f)=>a.jsxs("div",{className:`p-4 rounded-xl border-2 ${d.severity==="high"?"bg-red-50 border-red-300":d.severity==="medium"?"bg-orange-50 border-orange-300":"bg-yellow-50 border-yellow-300"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"font-bold text-lg capitalize",children:d.operation.replace(/_/g," ")}),a.jsx(je,{className:`${d.severity==="high"?"bg-red-500":d.severity==="medium"?"bg-orange-500":"bg-yellow-500"} text-white`,children:d.severity==="high"?"High Priority":d.severity==="medium"?"Medium":"Low"}),a.jsx(je,{variant:"outline",children:d.level})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Accuracy"}),a.jsxs("div",{className:"text-2xl font-bold",children:[d.accuracy,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Games Played"}),a.jsx("div",{className:"text-2xl font-bold",children:d.totalGames})]})]}),a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:[a.jsx(em,{className:"w-4 h-4 inline mr-1"}),d.reason]})]}),a.jsxs(oe,{onClick:()=>r({operation:d.operation,level:d.level}),className:"bg-blue-500 hover:bg-blue-600 ml-4",children:[a.jsx(Kp,{className:"w-4 h-4 mr-2"}),"Practice Now"]})]}),a.jsxs("div",{className:"bg-white/50 p-3 rounded-lg",children:[a.jsxs("p",{className:"text-sm text-gray-700 font-medium mb-1",children:[a.jsx(qn,{className:"w-4 h-4 inline mr-1 text-yellow-500"}),"AI Tip:"]}),a.jsx("p",{className:"text-sm text-gray-600",children:ALe(d)})]})]},f))})]}),o.length>0&&a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(eue,{className:"w-6 h-6 text-purple-600"}),"Common Mistakes to Review"]})}),a.jsx(re,{className:"space-y-3",children:o.map((d,f)=>a.jsxs("div",{className:"p-4 bg-purple-50 rounded-xl border-2 border-purple-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h3",{className:"font-bold capitalize",children:[d.operation," (",d.level,")"]}),a.jsxs(je,{className:"bg-purple-500 text-white",children:[d.count," mistakes"]})]}),d.examples.length>0&&a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Examples:"})," ",d.examples.join(", ")]})]},f))})]})]})}function ALe(t){return{addition:"Try breaking down larger numbers into smaller, easier pieces. Practice counting up from the first number.",subtraction:"Use a number line to visualize taking away. Count backwards or think 'what do I add to get to the bigger number?'",multiplication:"Memorize the times tables! Look for patterns like doubling or skip counting.",division:"Think of division as 'sharing equally' or 'how many groups'. Draw circles to visualize!",fractions:"Draw pictures to see the parts. Remember: the bottom number shows how many pieces total.",decimals:"Line up the decimal points! Think of money - $1.50 is 1 dollar and 50 cents.",word_problems:"Read carefully! Underline key numbers and words like 'total', 'difference', or 'each'."}[t.operation]||"Practice regularly and take your time. You can do this!"}function CLe({selectedWeakness:t,progress:e}){const[r,n]=S.useState(null),[i,s]=S.useState(""),[o,l]=S.useState(null),[c,d]=S.useState(0),[f,m]=S.useState(0),[p,v]=S.useState(!1),[w,x]=S.useState(null),g=()=>{const C=[],E={};return e.forEach(N=>{E[N.operation]||(E[N.operation]={operation:N.operation,level:N.level,totalCorrect:0,totalQuestions:0}),E[N.operation].totalCorrect+=N.correct_answers,E[N.operation].totalQuestions+=N.total_questions}),Object.values(E).forEach(N=>{const O=N.totalCorrect/N.totalQuestions*100;O<75&&C.push({operation:N.operation,level:N.level,accuracy:Math.round(O),priority:O<60?"high":"medium"})}),C.sort((N,O)=>N.accuracy-O.accuracy).slice(0,5)},_=()=>{if(w){const C=Ls(w.operation,w.level);n(C),s(""),l(null),v(!1)}},T=(C,E)=>{x({operation:C,level:E}),d(0),m(0);const N=Ls(C,E);n(N),s(""),l(null),v(!1)},P=()=>{if(!r||i==="")return;const C=parseInt(i)===r.answer;l(C),d(c+1),C?m(f+1):v(!0)},I=()=>{_()},A=g();return S.useEffect(()=>{t&&!w&&T(t.operation,t.level)},[t]),a.jsxs("div",{className:"space-y-6",children:[w&&c>0&&a.jsx(te,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:c}),a.jsx("div",{className:"text-sm text-gray-600",children:"Questions"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:f}),a.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[c>0?Math.round(f/c*100):0,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Accuracy"})]})]})})}),w&&r?a.jsxs(te,{className:"border-4 border-purple-300 shadow-2xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mn,{className:"w-6 h-6"}),a.jsxs("span",{className:"capitalize",children:[w.operation," Practice"]})]}),a.jsx(je,{className:"bg-white text-purple-600",children:w.level})]})}),a.jsx(re,{className:"p-8",children:a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h3",{className:"text-5xl md:text-6xl font-bold mb-6 text-gray-800",children:r.question}),o===null&&a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("input",{type:"number",value:i,onChange:C=>s(C.target.value),onKeyPress:C=>{C.key==="Enter"&&P()},placeholder:"Type your answer...",className:"w-full text-3xl font-bold text-center p-4 border-4 border-purple-300 rounded-xl mb-4",autoFocus:!0}),a.jsx(oe,{onClick:P,disabled:i==="",className:"w-full h-14 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:"Check Answer"})]}),o!==null&&a.jsxs("div",{className:"space-y-6",children:[o?a.jsxs(ze,{className:"bg-green-50 border-green-300",children:[a.jsx(Mr,{className:"w-6 h-6 text-green-600"}),a.jsxs(We,{className:"text-green-800 text-lg",children:[a.jsx("strong",{children:"Correct! "})," Great job!"]})]}):a.jsxs(ze,{className:"bg-red-50 border-red-300",children:[a.jsx(Sn,{className:"w-6 h-6 text-red-600"}),a.jsxs(We,{className:"text-red-800 text-lg",children:[a.jsx("strong",{children:"Not quite."})," The correct answer is ",a.jsx("strong",{children:r.answer})]})]}),!o&&p&&r.explanation&&a.jsx(te,{className:"bg-blue-50 border-2 border-blue-300",children:a.jsxs(re,{className:"p-6",children:[a.jsxs("h4",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[a.jsx(Yt,{className:"w-5 h-5 text-blue-600"}),"Let me explain:"]}),a.jsx("p",{className:"text-gray-700",children:r.explanation})]})}),a.jsxs(oe,{onClick:I,className:"w-full h-14 text-lg bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:["Next Question",a.jsx(Kp,{className:"w-5 h-5 ml-2"})]})]})]})})]}):a.jsxs("div",{className:"space-y-6",children:[A.length>0&&a.jsxs(te,{className:"border-2 border-orange-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Qt,{className:"w-6 h-6 text-orange-600"}),"Recommended Practice Topics"]})}),a.jsx(re,{className:"space-y-3",children:A.map((C,E)=>a.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border-2 border-orange-200 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold capitalize mb-1",children:C.operation.replace(/_/g," ")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(je,{className:`${C.priority==="high"?"bg-red-500":"bg-orange-500"} text-white`,children:C.priority==="high"?"High Priority":"Medium"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Current: ",C.accuracy,"% accuracy"]})]})]}),a.jsxs(oe,{onClick:()=>T(C.operation,C.level),className:"bg-blue-500 hover:bg-blue-600",children:[a.jsx(Kp,{className:"w-4 h-4 mr-2"}),"Start Practice"]})]},E))})]}),a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"w-6 h-6 text-purple-600"}),"Quick Practice by Topic"]})}),a.jsx(re,{children:a.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:["addition","subtraction","multiplication","division"].map(C=>a.jsx(oe,{onClick:()=>T(C,"medium"),variant:"outline",className:"h-16 text-lg capitalize",children:C},C))})})]}),a.jsx(te,{className:"bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-300",children:a.jsxs(re,{className:"p-6 text-center",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Ready for a Full Challenge?"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Try a complete game with stars and rewards!"}),a.jsx(Ht,{to:Je("Home"),children:a.jsxs(oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(Kp,{className:"w-5 h-5 mr-2"}),"Go to Games"]})})]})})]})]})}function kLe({progress:t,tutorSessions:e,onWeaknessClick:r}){const[n,i]=S.useState(!1),s=()=>{if(t.length===0)return 0;const g=t.reduce((_,T)=>_+T.correct_answers/T.total_questions*100,0);return Math.round(g/t.length)},o=()=>{if(t.length===0)return 0;const g=t.reduce((_,T)=>_+T.time_taken,0);return Math.round(g/t.length)},l=()=>{if(t.length<5)return"neutral";const g=t.slice(0,5),_=t.slice(5,10),T=g.reduce((I,A)=>I+A.correct_answers/A.total_questions*100,0)/g.length,P=_.length>0?_.reduce((I,A)=>I+A.correct_answers/A.total_questions*100,0)/_.length:T;return T>P+5?"improving":T<P-5?"declining":"stable"},c=()=>{const g={};return t.forEach(_=>{g[_.operation]||(g[_.operation]={operation:_.operation,totalGames:0,totalCorrect:0,totalQuestions:0,averageTime:0,totalTime:0}),g[_.operation].totalGames++,g[_.operation].totalCorrect+=_.correct_answers,g[_.operation].totalQuestions+=_.total_questions,g[_.operation].totalTime+=_.time_taken}),Object.values(g).map(_=>({..._,accuracy:Math.round(_.totalCorrect/_.totalQuestions*100),averageTime:Math.round(_.totalTime/_.totalGames)})).sort((_,T)=>_.accuracy-T.accuracy)},d=()=>{const g={};return t.forEach(_=>{g[_.level]||(g[_.level]={level:_.level,totalGames:0,totalCorrect:0,totalQuestions:0}),g[_.level].totalGames++,g[_.level].totalCorrect+=_.correct_answers,g[_.level].totalQuestions+=_.total_questions}),Object.values(g).map(_=>({..._,accuracy:Math.round(_.totalCorrect/_.totalQuestions*100)}))},f=()=>{const g=[],_=c(),T=l(),P=s();T==="improving"?g.push({type:"positive",icon:mr,title:"You're Improving!",message:"Your recent performance shows great progress. Keep it up!"}):T==="declining"&&g.push({type:"warning",icon:Ic,title:"Need More Practice",message:"Your recent scores are lower. Let's focus on practice!"}),P>=90?g.push({type:"positive",icon:Gn,title:"Excellent Accuracy!",message:`You're at ${P}% accuracy. You're a math champion!`}):P<70&&g.push({type:"warning",icon:Qt,title:"Let's Boost Your Score",message:`Your accuracy is ${P}%. Practice will help you improve!`}),_.length>0&&_[0].accuracy<75&&g.push({type:"action",icon:mn,title:"Focus Area Identified",message:`${_[0].operation} needs attention (${_[0].accuracy}% accuracy)`,action:()=>r({operation:_[0].operation,level:"mixed"})});const I=o();return I<90&&P>=80&&g.push({type:"positive",icon:mr,title:"Fast and Accurate!",message:`You're solving problems in ${I}s with great accuracy!`}),g},m=c();d();const p=f(),v=l(),w=s(),x=t.slice(0,10).reverse().map((g,_)=>({game:`Game ${_+1}`,accuracy:Math.round(g.correct_answers/g.total_questions*100),speed:Math.max(0,120-g.time_taken)}));return t.length===0?a.jsx(te,{className:"text-center py-12",children:a.jsxs(re,{children:[a.jsx(mn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Start Playing to Get Analysis"}),a.jsx("p",{className:"text-gray-600",children:"Play some math games and I'll analyze your performance!"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(te,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(mn,{className:"w-6 h-6 text-blue-600"}),"Overall Performance Analysis"]})}),a.jsxs(re,{children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[a.jsxs("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:[w,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Overall Accuracy"}),a.jsx(ol,{value:w,className:"mt-2"})]}),a.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[a.jsxs("div",{className:"text-4xl font-bold text-purple-600 mb-1",children:[o(),"s"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Avg Time per Game"})]}),a.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[a.jsx("div",{className:"text-4xl font-bold text-green-600 mb-1",children:t.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Games Analyzed"})]})]}),a.jsxs("div",{className:"flex justify-center",children:[v==="improving"&&a.jsxs(je,{className:"bg-green-500 text-white text-lg px-6 py-2",children:[a.jsx(mr,{className:"w-5 h-5 mr-2"}),"Improving Trend"]}),v==="declining"&&a.jsxs(je,{className:"bg-orange-500 text-white text-lg px-6 py-2",children:[a.jsx(Ic,{className:"w-5 h-5 mr-2"}),"Needs Practice"]}),v==="stable"&&a.jsxs(je,{className:"bg-blue-500 text-white text-lg px-6 py-2",children:[a.jsx(Ut,{className:"w-5 h-5 mr-2"}),"Steady Progress"]})]})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:p.map((g,_)=>a.jsx(te,{className:`border-2 ${g.type==="positive"?"border-green-300 bg-green-50":g.type==="warning"?"border-orange-300 bg-orange-50":"border-blue-300 bg-blue-50"}`,children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${g.type==="positive"?"bg-green-500":g.type==="warning"?"bg-orange-500":"bg-blue-500"}`,children:a.jsx(g.icon,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-lg mb-1",children:g.title}),a.jsx("p",{className:"text-sm text-gray-700 mb-3",children:g.message}),g.action&&a.jsx(oe,{size:"sm",onClick:g.action,className:"bg-blue-500 hover:bg-blue-600",children:"Start Practice"})]})]})})},_))}),a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Performance by Math Topic"})}),a.jsx(re,{children:a.jsx("div",{className:"space-y-4",children:m.map((g,_)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium capitalize",children:g.operation.replace(/_/g," ")}),a.jsxs(je,{variant:"outline",children:[g.totalGames," games"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-2xl font-bold",children:[g.accuracy,"%"]}),g.accuracy<70&&a.jsx(oe,{size:"sm",onClick:()=>r({operation:g.operation,level:"mixed"}),className:"bg-orange-500 hover:bg-orange-600",children:"Practice"})]})]}),a.jsx(ol,{value:g.accuracy,className:`h-3 ${g.accuracy>=80?"bg-green-200":g.accuracy>=60?"bg-yellow-200":"bg-red-200"}`})]},g.operation))})})]}),x.length>0&&a.jsxs(te,{className:"border-2 border-blue-200",children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Recent Performance Trend"})}),a.jsx(re,{children:a.jsx(Fa,{width:"100%",height:300,children:a.jsxs(D1,{data:x,children:[a.jsx(Xo,{strokeDasharray:"3 3"}),a.jsx(us,{dataKey:"game"}),a.jsx(xi,{}),a.jsx(fn,{}),a.jsx(zi,{}),a.jsx(pa,{type:"monotone",dataKey:"accuracy",stroke:"#8b5cf6",strokeWidth:3,name:"Accuracy %"})]})})})]})]})}function XJ(){const[t,e]=S.useState("analysis"),[r,n]=S.useState(null),{data:i}=ut({queryKey:["currentUser"],queryFn:async()=>{const f=await firebaseAuth.currentUser;return f?{email:f.email}:null}}),{data:s=[]}=ut({queryKey:["gameProgress"],queryFn:async()=>{const f=firebaseAuth.currentUser;if(!f)return[];const m=ha(An(db,"gameProgress"),si("user_email","==",f.email));return(await Si(m)).docs.map(v=>v.data())},initialData:[]}),{data:o=[]}=ut({queryKey:["tutorSessions"],queryFn:async()=>{const f=firebaseAuth.currentUser;if(!f)return[];const m=ha(An(db,"tutorSessions"),si("created_by","==",f.email));return(await Si(m)).docs.map(v=>v.data())},initialData:[]}),l=()=>o.length,c=()=>o.filter(f=>f.hint_requested).length,d=()=>o.filter(f=>f.explanation_viewed).length;return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-block mb-6",children:a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:a.jsx(mn,{className:"w-12 h-12 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"AI Math Tutor"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Your personal learning assistant powered by AI"})]}),a.jsxs(ze,{className:"mb-8 bg-gradient-to-r from-blue-50 to-purple-50 border-blue-300",children:[a.jsx(Yt,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"Welcome to your AI Tutor!"})," I analyze your performance, identify areas for improvement, and create personalized practice exercises just for you. Let's make math fun and easy! "]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[a.jsx(te,{className:"bg-gradient-to-br from-blue-500 to-cyan-500 text-white border-0",children:a.jsxs(re,{className:"p-6 text-center",children:[a.jsx(mn,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:l()}),a.jsx("p",{className:"text-sm text-white/90",children:"Tutoring Sessions"})]})}),a.jsx(te,{className:"bg-gradient-to-br from-purple-500 to-pink-500 text-white border-0",children:a.jsxs(re,{className:"p-6 text-center",children:[a.jsx(qn,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:c()}),a.jsx("p",{className:"text-sm text-white/90",children:"Hints Received"})]})}),a.jsx(te,{className:"bg-gradient-to-br from-green-500 to-emerald-500 text-white border-0",children:a.jsxs(re,{className:"p-6 text-center",children:[a.jsx(ks,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:d()}),a.jsx("p",{className:"text-sm text-white/90",children:"Explanations Read"})]})}),a.jsx(te,{className:"bg-gradient-to-br from-orange-500 to-red-500 text-white border-0",children:a.jsxs(re,{className:"p-6 text-center",children:[a.jsx(Gn,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:s.length}),a.jsx("p",{className:"text-sm text-white/90",children:"Games Analyzed"})]})})]}),a.jsx(te,{className:"border-4 border-purple-200 shadow-xl",children:a.jsx(re,{className:"p-6",children:a.jsxs(Vc,{value:t,onValueChange:e,className:"w-full",children:[a.jsxs(pl,{className:"grid w-full grid-cols-3 mb-6",children:[a.jsxs(St,{value:"analysis",children:[a.jsx(Ic,{className:"w-4 h-4 mr-2"}),"Performance Analysis"]}),a.jsxs(St,{value:"weaknesses",children:[a.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Areas to Improve"]}),a.jsxs(St,{value:"practice",children:[a.jsx(Kp,{className:"w-4 h-4 mr-2"}),"Practice Exercises"]})]}),a.jsx(Dt,{value:"analysis",className:"space-y-6",children:a.jsx(kLe,{progress:s,tutorSessions:o,onWeaknessClick:f=>{n(f),e("practice")}})}),a.jsx(Dt,{value:"weaknesses",className:"space-y-6",children:a.jsx(PLe,{progress:s,tutorSessions:o,onPracticeClick:f=>{n(f),e("practice")}})}),a.jsx(Dt,{value:"practice",className:"space-y-6",children:a.jsx(CLe,{selectedWeakness:r,progress:s})})]})})}),a.jsxs(te,{className:"mt-8 bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Yt,{className:"w-6 h-6 text-purple-600"}),"How Your AI Tutor Works"]})}),a.jsxs(re,{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Ic,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"font-bold mb-2",children:"1. Analyze Performance"}),a.jsx("p",{className:"text-sm text-gray-600",children:"AI reviews your games and identifies patterns in mistakes"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Qt,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"font-bold mb-2",children:"2. Find Weaknesses"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Discover specific topics where you need more practice"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(ks,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"font-bold mb-2",children:"3. Personalized Practice"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get custom exercises designed just for you"})]})]})]})]})}function JJ(){const[t,e]=S.useState("googlereview@mathadventure.com"),[r,n]=S.useState(!1),[i,s]=S.useState(null),[o,l]=S.useState(null),c=async()=>{try{n(!0),l(null),s(null);const d=cr(Bt),m=(await Si(An(d,"users"))).docs.find(v=>v.data().email===t);if(!m)throw new Error(`User with email ${t} not found. Please create the account first.`);const p=new Date;p.setFullYear(p.getFullYear()+1),await ad(ds(d,"users",m.id),{subscription_tier:"family_teacher",subscription_started_at:new Date().toISOString(),subscription_expires_at:p.toISOString(),subscription_auto_renew:!1,is_family_teacher:!0,is_premium_parent:!0,is_premium_player:!0,coins:500,total_stars_earned:100},{merge:!0}),s({email:t,expiresAt:p.toISOString(),tier:"family_teacher"})}catch(d){console.error("Error granting access:",d),l(d.message)}finally{n(!1)}};return a.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:a.jsxs(te,{className:"border-4 border-purple-300 shadow-xl",children:[a.jsxs(_e,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white",children:[a.jsxs(Ne,{className:"flex items-center gap-2 text-2xl",children:[a.jsx(bi,{className:"w-6 h-6"}),"Test Account Manager"]}),a.jsx("p",{className:"text-sm opacity-90 mt-2",children:"Quickly grant premium access to test accounts for Google Play Review"})]}),a.jsxs(re,{className:"p-6 space-y-6",children:[a.jsx(ze,{className:"bg-blue-50 border-blue-200",children:a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"Steps:"}),a.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1 text-sm",children:[a.jsx("li",{children:"First, manually create the account in your app (sign up)"}),a.jsx("li",{children:"Enter the account email below"}),a.jsx("li",{children:'Click "Grant Premium Access"'}),a.jsx("li",{children:"Use this account for Google Play Console review"})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(at,{htmlFor:"email",className:"text-base font-semibold mb-2 block",children:"Test Account Email"}),a.jsx(pr,{id:"email",type:"email",value:t,onChange:d=>e(d.target.value),placeholder:"googlereview@mathadventure.com",className:"h-12 text-base"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the email of an existing account"})]}),a.jsx(oe,{onClick:c,disabled:r||!t,className:"w-full h-12 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-lg",children:r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kp,{className:"w-5 h-5 mr-2"}),"Grant Premium Access"]})})]}),i&&a.jsxs(ze,{className:"bg-green-50 border-green-300",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{className:"block mb-2",children:" Success! Premium Access Granted"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",i.email]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Tier:"})," Family/Teacher (Full Access)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Expires:"})," ",new Date(i.expiresAt).toLocaleDateString()]}),a.jsxs("p",{className:"mt-3 pt-3 border-t border-green-200",children:[a.jsx("strong",{children:"Test Credentials:"}),a.jsx("br",{}),"Email: ",i.email,a.jsx("br",{}),"Password: (The password you set during signup)"]})]})]})]}),o&&a.jsxs(ze,{className:"bg-red-50 border-red-300",children:[a.jsx(zn,{className:"w-5 h-5 text-red-600"}),a.jsxs(We,{className:"text-red-800",children:[a.jsx("strong",{className:"block mb-1",children:"Error"}),o]})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border-2 border-purple-200",children:[a.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"What This Does:"}),a.jsxs("ul",{className:"space-y-1 text-sm text-purple-800",children:[a.jsx("li",{children:" Sets subscription tier to Family/Teacher"}),a.jsx("li",{children:" Grants all premium features"}),a.jsx("li",{children:" Sets expiration to 1 year from now"}),a.jsx("li",{children:" Adds 500 coins and 100 stars"}),a.jsx("li",{children:" Disables auto-renewal"})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-2 border-gray-200",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:" For Google Play Console:"}),a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Provide these instructions to reviewers:"}),a.jsx("pre",{className:"bg-white p-3 rounded text-xs border overflow-x-auto",children:`TEST ACCOUNT CREDENTIALS:
Email: ${t}
Password: (Your password)

INSTRUCTIONS:
1. Open Math Adventure app
2. Click "Sign In / Sign Up"  
3. Use credentials above
4. All premium features are unlocked

ACCOUNT FEATURES:
- Family/Teacher subscription active
- All premium content accessible
- Parental controls available
- No payment required

CONTACT:
support@math-adventure.com`})]})]})]})})}const Nq={Home:$P,Game:bG,Progress:XQ,Avatar:NX,DailyChallenge:SX,ParentPortal:jJ,Shop:NJ,Leaderboards:SJ,TeamChallenges:TJ,Subscription:EJ,GenerateIcons:PJ,TestIconGeneration:AJ,Landing:CJ,Messages:kJ,ColorByNumbers:IJ,Settings:YJ,PrivacyPolicy:QJ,AITutor:XJ,AdminTestAccount:JJ};function ILe(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(Nq).find(n=>n.toLowerCase()===e.toLowerCase())||Object.keys(Nq)[0]}function OLe(){const t=yl(),e=ILe(t.pathname);return a.jsx(b1e,{currentPageName:e,children:a.jsxs(Ole,{children:[a.jsx(Yr,{path:"/",element:a.jsx($P,{})}),a.jsx(Yr,{path:"/Home",element:a.jsx($P,{})}),a.jsx(Yr,{path:"/Game",element:a.jsx(bG,{})}),a.jsx(Yr,{path:"/Progress",element:a.jsx(XQ,{})}),a.jsx(Yr,{path:"/Avatar",element:a.jsx(NX,{})}),a.jsx(Yr,{path:"/DailyChallenge",element:a.jsx(SX,{})}),a.jsx(Yr,{path:"/ParentPortal",element:a.jsx(jJ,{})}),a.jsx(Yr,{path:"/Shop",element:a.jsx(NJ,{})}),a.jsx(Yr,{path:"/Leaderboards",element:a.jsx(SJ,{})}),a.jsx(Yr,{path:"/TeamChallenges",element:a.jsx(TJ,{})}),a.jsx(Yr,{path:"/Subscription",element:a.jsx(EJ,{})}),a.jsx(Yr,{path:"/GenerateIcons",element:a.jsx(PJ,{})}),a.jsx(Yr,{path:"/TestIconGeneration",element:a.jsx(AJ,{})}),a.jsx(Yr,{path:"/Landing",element:a.jsx(CJ,{})}),a.jsx(Yr,{path:"/Messages",element:a.jsx(kJ,{})}),a.jsx(Yr,{path:"/ColorByNumbers",element:a.jsx(IJ,{})}),a.jsx(Yr,{path:"/Settings",element:a.jsx(YJ,{})}),a.jsx(Yr,{path:"/PrivacyPolicy",element:a.jsx(QJ,{})}),a.jsx(Yr,{path:"/AITutor",element:a.jsx(XJ,{})}),a.jsx(Yr,{path:"/AdminTestAccount",element:a.jsx(JJ,{})})]})})}function RLe(){return a.jsx(rce,{children:a.jsx(OLe,{})})}const MLe=20,DLe=1e6,Ho={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let xE=0;function LLe(){return xE=(xE+1)%Number.MAX_VALUE,xE.toString()}const bE=new Map,Sq=t=>{if(bE.has(t))return;const e=setTimeout(()=>{bE.delete(t),og({type:Ho.REMOVE_TOAST,toastId:t})},DLe);bE.set(t,e)},$Le=(t,e)=>{switch(e.type){case Ho.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,MLe)};case Ho.UPDATE_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case Ho.DISMISS_TOAST:{const{toastId:r}=e;return r?Sq(r):t.toasts.forEach(n=>{Sq(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case Ho.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},vx=[];let xx={toasts:[]};function og(t){xx=$Le(xx,t),vx.forEach(e=>{e(xx)})}function FLe({...t}){const e=LLe(),r=i=>og({type:Ho.UPDATE_TOAST,toast:{...i,id:e}}),n=()=>og({type:Ho.DISMISS_TOAST,toastId:e});return og({type:Ho.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function VLe(){const[t,e]=S.useState(xx);return S.useEffect(()=>(vx.push(e),()=>{const r=vx.indexOf(e);r>-1&&vx.splice(r,1)}),[t]),{...t,toast:FLe,dismiss:r=>og({type:Ho.DISMISS_TOAST,toastId:r})}}const ZJ=S.forwardRef(({...t},e)=>a.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));ZJ.displayName="ToastProvider";const eZ=S.forwardRef(({...t},e)=>a.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));eZ.displayName="ToastViewport";const BLe=Oy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tZ=S.forwardRef(({className:t,variant:e,...r},n)=>a.jsx("div",{ref:n,className:vt(BLe({variant:e}),t),...r}));tZ.displayName="Toast";const qLe=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:vt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));qLe.displayName="ToastAction";const rZ=S.forwardRef(({className:t,...e},r)=>a.jsx("button",{ref:r,className:vt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Sn,{className:"h-4 w-4"})}));rZ.displayName="ToastClose";const nZ=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:vt("text-sm font-semibold",t),...e}));nZ.displayName="ToastTitle";const iZ=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:vt("text-sm opacity-90",t),...e}));iZ.displayName="ToastDescription";function ULe(){const{toasts:t}=VLe();return a.jsxs(ZJ,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return a.jsxs(tZ,{...s,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(nZ,{children:r}),n&&a.jsx(iZ,{children:n})]}),i,a.jsx(rZ,{})]},e)}),a.jsx(eZ,{})]})}function zLe(){return a.jsxs(a.Fragment,{children:[a.jsx(RLe,{}),a.jsx(ULe,{})]})}bee.createRoot(document.getElementById("root")).render(a.jsx(zLe,{}));
