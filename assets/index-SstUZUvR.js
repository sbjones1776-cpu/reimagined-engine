const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC-i35konQI-CjlSaAQR-DWHXc9fM-DtYDpWHp.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_-BS-NPxbZ-Do7G8zpZ-Cj6Z1Ic1-BED7H43X.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc-CAXKM_tn-BSUotW_a-C1AHqVwe-TSa7cqyv.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt-BP9X_a4h-DBl5YPJh-DgteZXgB-BSDDse-H.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD-CfwVKCbF-DwKF90JC-DVsm7u2y-CMpDuxap.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD-DQldaXmM-CmslGYg4-CtMb4uf_-Dle1FTv1.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT-GOJVET6z-DJo7lhFZ-nIdUxZaV-QvLelr-m.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA-CncrG6o8-h7sLaBiA-CSYVy3Yk-Fuox9TMR.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M-3hRm0Cv0-DiMHEf8I-D6HHGdk3-DUTNN4uM.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0-Dt8Hz_gu-DQ4ciPVI-C7q_24xj-H1M9DqwC.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q-fUNOd4Tb-uVCUCnov-BMauAVDu-BG4_fLfQ.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU-HefgA4ey-dkeLpIxb-B5ApUK70-BoW5V0tu.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0---4-_1MLM-D60HZjyU-CK9qTR---B813dogJ.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L-Ds6IpQkW-BS1Y1LI3-CYhMNQ4x-DkoHcvu1.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1-DhFXkp_T-wjER_uU1-BJfJHVT0-BXmwYOmK.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze-Dqr9YOPU-C0SyBRpa-Cu7J1VSn-DjlcNz2B.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE-B-nOEEZ2-BXIaXeaJ-3WK4aNSX-RIZEclZo.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o-DlsB7OV4-CfhTL5-j-CxIqGyFn-DdR-i3xA.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw-CG5MCbzm-BvDHL4Y4-BLMKEBwG-B1Kla6TY.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F-Bd1JUeU2-B1SlTvS--Dik_ibXC-CgjWnK4k.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM-InYk3mbD-BUsuQx1i-Be26j8Y5-CWkwN54T.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6-Cn_nYyE2-DBnxm5kI-jkVqmyn3-CT3wERWf.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl-BsXPPDcM-DBAPLTxO-BORqaJWi-DK2oiQKm.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD-mWQj0O8b-IitXZYGd-CNFa6peB-Cv_UEe3d.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX-DCprVw_7-DX2Rz0v5-BJLgwOfU-CoP1frej.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ-D_2XdzET-Ds72m2f0-DzQ2KTjW-0jKtnEAC.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk-DghFmtyw-DjB8J4yd-BQPqGAFS-BMS5rB_d.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1-CgwfReGn-DNMXd5HN-D0eZQ7b1-X-gmCUiL.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz-DUrYCQ5E-CFVlOn0W-ClLCqgD8-VKpT1naa.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9-CbEJ5snd-CjkzqJFV-BjfMCE-B-BeKIiMxn.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G-BEUxX-nu-BaLol5Ef-Bk6hRXOE-C_zRDDZL.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ-BoCXO3SG-CiW37Qbf-CABa6JX2-DjJdYRTG.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_-DZaDo8HZ-Bd77omDN-BCrgyW6d-Bid0Wz6u.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq-BzPWxo8M-DoJFGzd--B7jRlY6l-c3yybxe1.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2-D_yBAKS5-DIMqUFDl-SBtv80J2-CtNHhM4R.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv-Bp24DiAJ-BrPJAgIo-xKg9mO9C-CdDc7fC8.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs-B5_uRmKS-BqjAjW_i-_Qq55oOh-BwVksR0Q.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr-Ffel_h2u-C8GXHf8T-CRzihMLV-BmWCbwfM.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F-BniOzOaT-B4WaX2EB-CE-Vyn65-KB2Vkliq.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp-BV4oUjra-CdhrMS0w-DSj_3q3t-ai8A3PTK.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt-CIrR7EI3-DlUHcS2G-M8-8SnQC-R1mvKeat.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47-DdwKpe-B-CjUiN4J_-CpHGTy1u-Bgc0UciZ.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o-Bff3sT4n-DrOZgfPn-DaCjCY9G-BF2G6fIm.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ-k2gq4TdQ-DUtTXYiH-ClTToQ8q-BkYvAO4I.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u-CCYcbo7R-Oj5x0VMM-BSvNq37_-Deemju-S.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb-uuJZ4FGW-ruYVavqy-CE5JpoGq-QNPTbHv4.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7-CSuTkKjt-Dd0stPfK-9C-XPk8w-WTJ8bO6l.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4-BmOdg69B-CPQ46To1-CSgifZb6-DW-e3jhE.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f-MccA_3E3-DQhvjEee--Hurig4W-YHm3Nlfo.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN-oTa863JD-0sbYUKBU-CCITiMP4-CRiRFW-a.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4-FmNlGGTF-D5ZL8Ai1-C0BAc7K0-BvNZf1yz.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv-Dzw5lkMP-MKYQRKjk-7a1SNiNN-DHN6QZTH.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC-CpqL9fon-Cde4ofN_-CHxxW_Er-mJBEcUgq.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb-t4dmRNZn-07iJlHeK-Bz_4ad50-ChVitlyf.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB-Cx2-ydHI-Cev9u3Kv-BX07Wmfg-BTGFlMwH.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7-Dcz3eR3L-8JW9s778-D0iRmiby-CU4GmIZK.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q-BfTbXhxt-BVC_lLSA-BerRSVOV-ClerinlA.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw-Cla6mJUP-D58jAMXH-B1gXMpXZ-CEAXSvxv.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg-qnXeUsv8-CRQgaPIC-DpX4gqt2-LP07RJwo.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499-NSoB4kZx-C1AH7B5I-CxZluI_D-VQPEy7Tq.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const J3="modulepreload",Z3=function(t){return"/"+t},XE={},Ot=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let a=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=a(n.map(h=>{if(h=Z3(h),h in XE)return;XE[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":J3,p||(v.as="script"),v.crossOrigin="",v.href=h,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((k,_)=>{v.addEventListener("load",k),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return s.then(a=>{for(const u of a||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},Lt=(t,e=Lt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC-i35konQI-CjlSaAQR-DWHXc9fM.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_-BS-NPxbZ-Do7G8zpZ-Cj6Z1Ic1.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc-CAXKM_tn-BSUotW_a-C1AHqVwe.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt-BP9X_a4h-DBl5YPJh-DgteZXgB.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD-CfwVKCbF-DwKF90JC-DVsm7u2y.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD-DQldaXmM-CmslGYg4-CtMb4uf_.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT-GOJVET6z-DJo7lhFZ-nIdUxZaV.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA-CncrG6o8-h7sLaBiA-CSYVy3Yk.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M-3hRm0Cv0-DiMHEf8I-D6HHGdk3.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0-Dt8Hz_gu-DQ4ciPVI-C7q_24xj.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q-fUNOd4Tb-uVCUCnov-BMauAVDu.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU-HefgA4ey-dkeLpIxb-B5ApUK70.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0---4-_1MLM-D60HZjyU-CK9qTR--.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L-Ds6IpQkW-BS1Y1LI3-CYhMNQ4x.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1-DhFXkp_T-wjER_uU1-BJfJHVT0.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze-Dqr9YOPU-C0SyBRpa-Cu7J1VSn.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE-B-nOEEZ2-BXIaXeaJ-3WK4aNSX.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o-DlsB7OV4-CfhTL5-j-CxIqGyFn.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw-CG5MCbzm-BvDHL4Y4-BLMKEBwG.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F-Bd1JUeU2-B1SlTvS--Dik_ibXC.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM-InYk3mbD-BUsuQx1i-Be26j8Y5.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6-Cn_nYyE2-DBnxm5kI-jkVqmyn3.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl-BsXPPDcM-DBAPLTxO-BORqaJWi.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD-mWQj0O8b-IitXZYGd-CNFa6peB.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX-DCprVw_7-DX2Rz0v5-BJLgwOfU.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ-D_2XdzET-Ds72m2f0-DzQ2KTjW.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk-DghFmtyw-DjB8J4yd-BQPqGAFS.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1-CgwfReGn-DNMXd5HN-D0eZQ7b1.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz-DUrYCQ5E-CFVlOn0W-ClLCqgD8.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9-CbEJ5snd-CjkzqJFV-BjfMCE-B.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G-BEUxX-nu-BaLol5Ef-Bk6hRXOE.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ-BoCXO3SG-CiW37Qbf-CABa6JX2.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_-DZaDo8HZ-Bd77omDN-BCrgyW6d.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq-BzPWxo8M-DoJFGzd--B7jRlY6l.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2-D_yBAKS5-DIMqUFDl-SBtv80J2.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv-Bp24DiAJ-BrPJAgIo-xKg9mO9C.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs-B5_uRmKS-BqjAjW_i-_Qq55oOh.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr-Ffel_h2u-C8GXHf8T-CRzihMLV.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F-BniOzOaT-B4WaX2EB-CE-Vyn65.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp-BV4oUjra-CdhrMS0w-DSj_3q3t.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt-CIrR7EI3-DlUHcS2G-M8-8SnQC.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47-DdwKpe-B-CjUiN4J_-CpHGTy1u.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o-Bff3sT4n-DrOZgfPn-DaCjCY9G.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ-k2gq4TdQ-DUtTXYiH-ClTToQ8q.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u-CCYcbo7R-Oj5x0VMM-BSvNq37_.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb-uuJZ4FGW-ruYVavqy-CE5JpoGq.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7-CSuTkKjt-Dd0stPfK-9C-XPk8w.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4-BmOdg69B-CPQ46To1-CSgifZb6.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f-MccA_3E3-DQhvjEee--Hurig4W.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN-oTa863JD-0sbYUKBU-CCITiMP4.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4-FmNlGGTF-D5ZL8Ai1-C0BAc7K0.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv-Dzw5lkMP-MKYQRKjk-7a1SNiNN.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC-CpqL9fon-Cde4ofN_-CHxxW_Er.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb-t4dmRNZn-07iJlHeK-Bz_4ad50.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB-Cx2-ydHI-Cev9u3Kv-BX07Wmfg.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7-Dcz3eR3L-8JW9s778-D0iRmiby.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q-BfTbXhxt-BVC_lLSA-BerRSVOV.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw-Cla6mJUP-D58jAMXH-B1gXMpXZ.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg-qnXeUsv8-CRQgaPIC-DpX4gqt2.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499-NSoB4kZx-C1AH7B5I-CxZluI_D.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const eL="modulepreload",tL=function(t){return"/"+t},JE={},Bt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=tL(c),c in JE)return;JE[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":eL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Vt=(t,e=Vt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC-i35konQI-CjlSaAQR.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_-BS-NPxbZ-Do7G8zpZ.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc-CAXKM_tn-BSUotW_a.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt-BP9X_a4h-DBl5YPJh.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD-CfwVKCbF-DwKF90JC.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD-DQldaXmM-CmslGYg4.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT-GOJVET6z-DJo7lhFZ.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA-CncrG6o8-h7sLaBiA.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M-3hRm0Cv0-DiMHEf8I.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0-Dt8Hz_gu-DQ4ciPVI.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q-fUNOd4Tb-uVCUCnov.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU-HefgA4ey-dkeLpIxb.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0---4-_1MLM-D60HZjyU.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L-Ds6IpQkW-BS1Y1LI3.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1-DhFXkp_T-wjER_uU1.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze-Dqr9YOPU-C0SyBRpa.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE-B-nOEEZ2-BXIaXeaJ.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o-DlsB7OV4-CfhTL5-j.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw-CG5MCbzm-BvDHL4Y4.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F-Bd1JUeU2-B1SlTvS-.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM-InYk3mbD-BUsuQx1i.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6-Cn_nYyE2-DBnxm5kI.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl-BsXPPDcM-DBAPLTxO.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD-mWQj0O8b-IitXZYGd.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX-DCprVw_7-DX2Rz0v5.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ-D_2XdzET-Ds72m2f0.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk-DghFmtyw-DjB8J4yd.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1-CgwfReGn-DNMXd5HN.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz-DUrYCQ5E-CFVlOn0W.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9-CbEJ5snd-CjkzqJFV.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G-BEUxX-nu-BaLol5Ef.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ-BoCXO3SG-CiW37Qbf.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_-DZaDo8HZ-Bd77omDN.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq-BzPWxo8M-DoJFGzd-.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2-D_yBAKS5-DIMqUFDl.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv-Bp24DiAJ-BrPJAgIo.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs-B5_uRmKS-BqjAjW_i.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr-Ffel_h2u-C8GXHf8T.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F-BniOzOaT-B4WaX2EB.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp-BV4oUjra-CdhrMS0w.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt-CIrR7EI3-DlUHcS2G.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47-DdwKpe-B-CjUiN4J_.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o-Bff3sT4n-DrOZgfPn.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ-k2gq4TdQ-DUtTXYiH.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u-CCYcbo7R-Oj5x0VMM.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb-uuJZ4FGW-ruYVavqy.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7-CSuTkKjt-Dd0stPfK.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4-BmOdg69B-CPQ46To1.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f-MccA_3E3-DQhvjEee.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN-oTa863JD-0sbYUKBU.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4-FmNlGGTF-D5ZL8Ai1.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv-Dzw5lkMP-MKYQRKjk.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC-CpqL9fon-Cde4ofN_.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb-t4dmRNZn-07iJlHeK.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB-Cx2-ydHI-Cev9u3Kv.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7-Dcz3eR3L-8JW9s778.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q-BfTbXhxt-BVC_lLSA.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw-Cla6mJUP-D58jAMXH.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg-qnXeUsv8-CRQgaPIC.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499-NSoB4kZx-C1AH7B5I.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const nL="modulepreload",rL=function(t){return"/"+t},ZE={},Ft=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=rL(c),c in ZE)return;ZE[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":nL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Ut=(t,e=Ut,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC-i35konQI.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_-BS-NPxbZ.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc-CAXKM_tn.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt-BP9X_a4h.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD-CfwVKCbF.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD-DQldaXmM.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT-GOJVET6z.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA-CncrG6o8.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M-3hRm0Cv0.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0-Dt8Hz_gu.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q-fUNOd4Tb.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU-HefgA4ey.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0---4-_1MLM.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L-Ds6IpQkW.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1-DhFXkp_T.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze-Dqr9YOPU.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE-B-nOEEZ2.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o-DlsB7OV4.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw-CG5MCbzm.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F-Bd1JUeU2.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM-InYk3mbD.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6-Cn_nYyE2.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl-BsXPPDcM.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD-mWQj0O8b.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX-DCprVw_7.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ-D_2XdzET.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk-DghFmtyw.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1-CgwfReGn.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz-DUrYCQ5E.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9-CbEJ5snd.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G-BEUxX-nu.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ-BoCXO3SG.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_-DZaDo8HZ.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq-BzPWxo8M.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2-D_yBAKS5.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv-Bp24DiAJ.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs-B5_uRmKS.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr-Ffel_h2u.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F-BniOzOaT.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp-BV4oUjra.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt-CIrR7EI3.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47-DdwKpe-B.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o-Bff3sT4n.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ-k2gq4TdQ.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u-CCYcbo7R.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb-uuJZ4FGW.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7-CSuTkKjt.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4-BmOdg69B.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f-MccA_3E3.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN-oTa863JD.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4-FmNlGGTF.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv-Dzw5lkMP.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC-CpqL9fon.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb-t4dmRNZn.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB-Cx2-ydHI.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7-Dcz3eR3L.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q-BfTbXhxt.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw-Cla6mJUP.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg-qnXeUsv8.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499-NSoB4kZx.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const sL="modulepreload",iL=function(t){return"/"+t},eS={},zt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=iL(c),c in eS)return;eS[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":sL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},qt=(t,e=qt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0-.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const oL="modulepreload",aL=function(t){return"/"+t},tS={},Kt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=aL(c),c in tS)return;tS[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":oL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},$t=(t,e=$t,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV-.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV-.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5-.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const lL="modulepreload",uL=function(t){return"/"+t},nS={},Wt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=uL(c),c in nS)return;nS[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":lL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Gt=(t,e=Gt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm-.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00-.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const cL="modulepreload",dL=function(t){return"/"+t},rS={},Ht=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=dL(c),c in rS)return;rS[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":cL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Qt=(t,e=Qt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ.js","assets/progress-DswiN-jt-CRkTvpyk.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx.js","assets/download-k8BXtbsE-hJBy54oi.js","assets/Home-B1e5oU6L-BnLx-1kh.js","assets/flame-Z4NDYWf0-CPLPmaZ3.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v.js","assets/zap-BUGd4PS--D5Rx8Je6.js","assets/external-link-B3vh6vLr-IAJFuuQW.js","assets/trending-up-DOxCo9I6-CjyZKRpy.js","assets/target-1p2ICMDN-CvDzxGjB.js","assets/book-open-CsZLkRie-CnloTbZU.js","assets/plus-CzE6Y-vE-CTS6AMhf.js","assets/minus-CxnUEU8f-CdSPzO8E.js","assets/lock-DVJmOJtR-CPCpectf.js","assets/circle-alert-D0KxAb-N-CBSI-qzf.js","assets/palette-C1tdbQoO-D9zv_SnR.js","assets/Game-BSxN8OV2-DCbKaoIo.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N.js","assets/trending-down-CtEqn-BB-zOpygq96.js","assets/triangle-alert-BF04o9wv-5R0uES8i.js","assets/QuestionGenerator-z-c728t7-CSzYVewV.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH.js","assets/arrow-left-8gFWt4dJ-CSNboBK9.js","assets/Progress-CJyc2nxx-CCph28do.js","assets/LineChart-Boznw0oC-BjVvaeYB.js","assets/gift-gU3fLUyU-xa62twJ2.js","assets/Avatar-DWsPiGGF-BsRh6I0m.js","assets/label-ClTmKTiT-BGzEp_4m.js","assets/tabs-BCUfDdd3-DRpA79_-.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T.js","assets/index-DytiPzxp-BK84tApl.js","assets/save-WpcaPzdX-CJl6cnmk.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE.js","assets/medal-iK-ypg-g-C4SGU5mg.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm.js","assets/textarea-CqrSSpqj-CdkJNOEe.js","assets/select-CEEjSQMd-D2Q8_Gex.js","assets/index-K24GeIQO-pPWQlksM.js","assets/trash-2-jwsEREBw-DdJfLY0z.js","assets/info-BwmiXNr9-k9-UA3eH.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh.js","assets/Shop-CVZgRxJn-CVz_4LS0.js","assets/Leaderboards-Bm79OtXC-B_odZ22w.js","assets/user-plus-DvDth6Co-mjoHpJFL.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz.js","assets/GenerateIcons-irEsrbiy-D96HRozy.js","assets/loader-circle-BANzzYJc-B3uLjLZr.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD.js","assets/Messages-BRMZI1jn-BJW4UB3P.js","assets/ColorByNumbers-JzUc735X-263wB9fx.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo.js","assets/Settings-DBhk2Jxw-eoqk1yaj.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ.js","assets/AITutor-CiJvOfzv-b-ne1DOj.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC.js","assets/Subscribe-D5mtZK-4-DoW00_oc.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const hL="modulepreload",fL=function(t){return"/"+t},sS={},Yt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=fL(c),c in sS)return;sS[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":hL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Xt=(t,e=Xt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq.js","assets/progress-DswiN-jt.js","assets/InstallPrompt-CYulZlIm.js","assets/download-k8BXtbsE.js","assets/Home-B1e5oU6L.js","assets/flame-Z4NDYWf0.js","assets/AppTrialPromo-fh-8uCNN.js","assets/zap-BUGd4PS-.js","assets/external-link-B3vh6vLr.js","assets/trending-up-DOxCo9I6.js","assets/target-1p2ICMDN.js","assets/book-open-CsZLkRie.js","assets/plus-CzE6Y-vE.js","assets/minus-CxnUEU8f.js","assets/lock-DVJmOJtR.js","assets/circle-alert-D0KxAb-N.js","assets/palette-C1tdbQoO.js","assets/Game-BSxN8OV2.js","assets/useMutation-Dw-sPjxD.js","assets/CelebrationAnimation-Dc0BowXO.js","assets/TextToSpeech-AHz3T4an.js","assets/rotate-ccw-D8vHVTX7.js","assets/trending-down-CtEqn-BB.js","assets/triangle-alert-BF04o9wv.js","assets/QuestionGenerator-z-c728t7.js","assets/PremiumFeatureLock-DUuDI_YH.js","assets/arrow-left-8gFWt4dJ.js","assets/Progress-CJyc2nxx.js","assets/LineChart-Boznw0oC.js","assets/gift-gU3fLUyU.js","assets/Avatar-DWsPiGGF.js","assets/label-ClTmKTiT.js","assets/tabs-BCUfDdd3.js","assets/AvatarDisplay-BzkYfhqx.js","assets/index-DytiPzxp.js","assets/save-WpcaPzdX.js","assets/DailyChallenge-Bdw758IQ.js","assets/medal-iK-ypg-g.js","assets/ParentPortal-ujdsGIsq.js","assets/textarea-CqrSSpqj.js","assets/select-CEEjSQMd.js","assets/index-K24GeIQO.js","assets/trash-2-jwsEREBw.js","assets/info-BwmiXNr9.js","assets/startOfMonth-D3h4jTlt.js","assets/Shop-CVZgRxJn.js","assets/Leaderboards-Bm79OtXC.js","assets/user-plus-DvDth6Co.js","assets/TeamChallenges-YLDuyulC.js","assets/Subscription-BXM5wPAK.js","assets/GenerateIcons-irEsrbiy.js","assets/loader-circle-BANzzYJc.js","assets/TestIconGeneration-oHdXBYrX.js","assets/Messages-BRMZI1jn.js","assets/ColorByNumbers-JzUc735X.js","assets/paint-bucket-C2C9L7S8.js","assets/Settings-DBhk2Jxw.js","assets/PrivacyPolicy-CiiZkyoZ.js","assets/AITutor-CiJvOfzv.js","assets/AdminTestAccount-DOgC3vLm.js","assets/Subscribe-D5mtZK-4.js"]))=>t.map(r=>n[r]);var pL=Object.defineProperty,fI=t=>{throw TypeError(t)},mL=(t,e,n)=>e in t?pL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iS=(t,e,n)=>mL(t,typeof e!="symbol"?e+"":e,n),m1=(t,e,n)=>e.has(t)||fI("Cannot "+n),K=(t,e,n)=>(m1(t,e,"read from private field"),n?n.call(t):e.get(t)),je=(t,e,n)=>e.has(t)?fI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(m1(t,e,"write to private field"),e.set(t,n),n),Ze=(t,e,n)=>(m1(t,e,"access private method"),n),Uw=(t,e,n,r)=>({set _(s){ge(t,e,s)},get _(){return K(t,e,r)}});function gL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var $ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oS={exports:{}},Gd={},aS={exports:{}},We={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var lS;function yL(){if(lS)return We;lS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function T(G,re,pe){this.props=G,this.context=re,this.refs=S,this.updater=pe||k}T.prototype.isReactComponent={},T.prototype.setState=function(G,re){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,re,"setState")},T.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function N(){}N.prototype=T.prototype;function A(G,re,pe){this.props=G,this.context=re,this.refs=S,this.updater=pe||k}var M=A.prototype=new N;M.constructor=A,_(M,T.prototype),M.isPureReactComponent=!0;var F=Array.isArray,z=Object.prototype.hasOwnProperty,W={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function D(G,re,pe){var me,Re={},Ue=null,De=null;if(re!=null)for(me in re.ref!==void 0&&(De=re.ref),re.key!==void 0&&(Ue=""+re.key),re)z.call(re,me)&&!R.hasOwnProperty(me)&&(Re[me]=re[me]);var qe=arguments.length-2;if(qe===1)Re.children=pe;else if(1<qe){for(var Fe=Array(qe),pt=0;pt<qe;pt++)Fe[pt]=arguments[pt+2];Re.children=Fe}if(G&&G.defaultProps)for(me in qe=G.defaultProps,qe)Re[me]===void 0&&(Re[me]=qe[me]);return{$$typeof:t,type:G,key:Ue,ref:De,props:Re,_owner:W.current}}function P(G,re){return{$$typeof:t,type:G.type,key:re,ref:G.ref,props:G.props,_owner:G._owner}}function O(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function V(G){var re={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(pe){return re[pe]})}var q=/\/+/g;function L(G,re){return typeof G=="object"&&G!==null&&G.key!=null?V(""+G.key):re.toString(36)}function Ee(G,re,pe,me,Re){var Ue=typeof G;(Ue==="undefined"||Ue==="boolean")&&(G=null);var De=!1;if(G===null)De=!0;else switch(Ue){case"string":case"number":De=!0;break;case"object":switch(G.$$typeof){case t:case e:De=!0}}if(De)return De=G,Re=Re(De),G=me===""?"."+L(De,0):me,F(Re)?(pe="",G!=null&&(pe=G.replace(q,"$&/")+"/"),Ee(Re,re,pe,"",function(pt){return pt})):Re!=null&&(O(Re)&&(Re=P(Re,pe+(!Re.key||De&&De.key===Re.key?"":(""+Re.key).replace(q,"$&/")+"/")+G)),re.push(Re)),1;if(De=0,me=me===""?".":me+":",F(G))for(var qe=0;qe<G.length;qe++){Ue=G[qe];var Fe=me+L(Ue,qe);De+=Ee(Ue,re,pe,Fe,Re)}else if(Fe=v(G),typeof Fe=="function")for(G=Fe.call(G),qe=0;!(Ue=G.next()).done;)Ue=Ue.value,Fe=me+L(Ue,qe++),De+=Ee(Ue,re,pe,Fe,Re);else if(Ue==="object")throw re=String(G),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return De}function Ae(G,re,pe){if(G==null)return G;var me=[],Re=0;return Ee(G,me,"","",function(Ue){return re.call(pe,Ue,Re++)}),me}function ye(G){if(G._status===-1){var re=G._result;re=re(),re.then(function(pe){(G._status===0||G._status===-1)&&(G._status=1,G._result=pe)},function(pe){(G._status===0||G._status===-1)&&(G._status=2,G._result=pe)}),G._status===-1&&(G._status=0,G._result=re)}if(G._status===1)return G._result.default;throw G._result}var ve={current:null},H={transition:null},ne={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:H,ReactCurrentOwner:W};function oe(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:Ae,forEach:function(G,re,pe){Ae(G,function(){re.apply(this,arguments)},pe)},count:function(G){var re=0;return Ae(G,function(){re++}),re},toArray:function(G){return Ae(G,function(re){return re})||[]},only:function(G){if(!O(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},We.Component=T,We.Fragment=n,We.Profiler=s,We.PureComponent=A,We.StrictMode=r,We.Suspense=c,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,We.act=oe,We.cloneElement=function(G,re,pe){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var me=_({},G.props),Re=G.key,Ue=G.ref,De=G._owner;if(re!=null){if(re.ref!==void 0&&(Ue=re.ref,De=W.current),re.key!==void 0&&(Re=""+re.key),G.type&&G.type.defaultProps)var qe=G.type.defaultProps;for(Fe in re)z.call(re,Fe)&&!R.hasOwnProperty(Fe)&&(me[Fe]=re[Fe]===void 0&&qe!==void 0?qe[Fe]:re[Fe])}var Fe=arguments.length-2;if(Fe===1)me.children=pe;else if(1<Fe){qe=Array(Fe);for(var pt=0;pt<Fe;pt++)qe[pt]=arguments[pt+2];me.children=qe}return{$$typeof:t,type:G.type,key:Re,ref:Ue,props:me,_owner:De}},We.createContext=function(G){return G={$$typeof:a,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:i,_context:G},G.Consumer=G},We.createElement=D,We.createFactory=function(G){var re=D.bind(null,G);return re.type=G,re},We.createRef=function(){return{current:null}},We.forwardRef=function(G){return{$$typeof:u,render:G}},We.isValidElement=O,We.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:ye}},We.memo=function(G,re){return{$$typeof:h,type:G,compare:re===void 0?null:re}},We.startTransition=function(G){var re=H.transition;H.transition={};try{G()}finally{H.transition=re}},We.unstable_act=oe,We.useCallback=function(G,re){return ve.current.useCallback(G,re)},We.useContext=function(G){return ve.current.useContext(G)},We.useDebugValue=function(){},We.useDeferredValue=function(G){return ve.current.useDeferredValue(G)},We.useEffect=function(G,re){return ve.current.useEffect(G,re)},We.useId=function(){return ve.current.useId()},We.useImperativeHandle=function(G,re,pe){return ve.current.useImperativeHandle(G,re,pe)},We.useInsertionEffect=function(G,re){return ve.current.useInsertionEffect(G,re)},We.useLayoutEffect=function(G,re){return ve.current.useLayoutEffect(G,re)},We.useMemo=function(G,re){return ve.current.useMemo(G,re)},We.useReducer=function(G,re,pe){return ve.current.useReducer(G,re,pe)},We.useRef=function(G){return ve.current.useRef(G)},We.useState=function(G){return ve.current.useState(G)},We.useSyncExternalStore=function(G,re,pe){return ve.current.useSyncExternalStore(G,re,pe)},We.useTransition=function(){return ve.current.useTransition()},We.version="18.3.1",We}var uS;function y1(){return uS||(uS=1,aS.exports=yL()),aS.exports}/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var cS;function vL(){if(cS)return Gd;cS=1;var t=y1(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,h){var p,g={},v=null,k=null;h!==void 0&&(v=""+h),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(k=c.ref);for(p in c)r.call(c,p)&&!i.hasOwnProperty(p)&&(g[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)g[p]===void 0&&(g[p]=c[p]);return{$$typeof:e,type:u,key:v,ref:k,props:g,_owner:s.current}}return Gd.Fragment=n,Gd.jsx=a,Gd.jsxs=a,Gd}var dS;function wL(){return dS||(dS=1,oS.exports=vL()),oS.exports}var x=wL(),C=y1();const gn=g1(C),v1=gL({__proto__:null,default:gn},[C]);var lm={},P0={exports:{}},ar={},hS={exports:{}},fS={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var pS;function bL(){return pS||(pS=1,(function(t){function e(H,ne){var oe=H.length;H.push(ne);e:for(;0<oe;){var G=oe-1>>>1,re=H[G];if(0<s(re,ne))H[G]=ne,H[oe]=re,oe=G;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ne=H[0],oe=H.pop();if(oe!==ne){H[0]=oe;e:for(var G=0,re=H.length,pe=re>>>1;G<pe;){var me=2*(G+1)-1,Re=H[me],Ue=me+1,De=H[Ue];if(0>s(Re,oe))Ue<re&&0>s(De,Re)?(H[G]=De,H[Ue]=oe,G=Ue):(H[G]=Re,H[me]=oe,G=me);else if(Ue<re&&0>s(De,oe))H[G]=De,H[Ue]=oe,G=Ue;else break e}}return ne}function s(H,ne){var oe=H.sortIndex-ne.sortIndex;return oe!==0?oe:H.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],h=[],p=1,g=null,v=3,k=!1,_=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(H){for(var ne=n(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=H)r(h),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(h)}}function F(H){if(S=!1,M(H),!_)if(n(c)!==null)_=!0,ye(z);else{var ne=n(h);ne!==null&&ve(F,ne.startTime-H)}}function z(H,ne){_=!1,S&&(S=!1,N(D),D=-1),k=!0;var oe=v;try{for(M(ne),g=n(c);g!==null&&(!(g.expirationTime>ne)||H&&!V());){var G=g.callback;if(typeof G=="function"){g.callback=null,v=g.priorityLevel;var re=G(g.expirationTime<=ne);ne=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(c)&&r(c),M(ne)}else r(c);g=n(c)}if(g!==null)var pe=!0;else{var me=n(h);me!==null&&ve(F,me.startTime-ne),pe=!1}return pe}finally{g=null,v=oe,k=!1}}var W=!1,R=null,D=-1,P=5,O=-1;function V(){return!(t.unstable_now()-O<P)}function q(){if(R!==null){var H=t.unstable_now();O=H;var ne=!0;try{ne=R(!0,H)}finally{ne?L():(W=!1,R=null)}}else W=!1}var L;if(typeof A=="function")L=function(){A(q)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ae=Ee.port2;Ee.port1.onmessage=q,L=function(){Ae.postMessage(null)}}else L=function(){T(q,0)};function ye(H){R=H,W||(W=!0,L())}function ve(H,ne){D=T(function(){H(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){_||k||(_=!0,ye(z))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var oe=v;v=ne;try{return H()}finally{v=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=v;v=H;try{return ne()}finally{v=oe}},t.unstable_scheduleCallback=function(H,ne,oe){var G=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?G+oe:G):oe=G,H){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=oe+re,H={id:p++,callback:ne,priorityLevel:H,startTime:oe,expirationTime:re,sortIndex:-1},oe>G?(H.sortIndex=oe,e(h,H),n(c)===null&&H===n(h)&&(S?(N(D),D=-1):S=!0,ve(F,oe-G))):(H.sortIndex=re,e(c,H),_||k||(_=!0,ye(z))),H},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(H){var ne=v;return function(){var oe=v;v=ne;try{return H.apply(this,arguments)}finally{v=oe}}}})(fS)),fS}var mS;function xL(){return mS||(mS=1,hS.exports=bL()),hS.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var gS;function CL(){if(gS)return ar;gS=1;var t=y1(),e=xL();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(s[o]=l,o=0;o<l.length;o++)r.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(o){return c.call(g,o)?!0:c.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function k(o,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,l,d,m){if(l===null||typeof l>"u"||k(o,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function S(o,l,d,m,y,w,I){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=w,this.removeEmptyString=I}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){T[o]=new S(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];T[l]=new S(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){T[o]=new S(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){T[o]=new S(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){T[o]=new S(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){T[o]=new S(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){T[o]=new S(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){T[o]=new S(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){T[o]=new S(o,5,!1,o.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function A(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(N,A);T[l]=new S(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(N,A);T[l]=new S(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(N,A);T[l]=new S(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){T[o]=new S(o,1,!1,o.toLowerCase(),null,!1,!1)}),T.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){T[o]=new S(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,l,d,m){var y=T.hasOwnProperty(l)?T[l]:null;(y!==null?y.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(_(l,d,y,m)&&(d=null),m||y===null?v(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):y.mustUseProperty?o[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,m=y.attributeNamespace,d===null?o.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,m?o.setAttributeNS(m,l,d):o.setAttribute(l,d))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),W=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),H=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var oe=Object.assign,G;function re(o){if(G===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||""}return`
`+G+o}var pe=!1;function me(o,l){if(!o||pe)return"";pe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var m=Z}Reflect.construct(o,[],l)}else{try{l.call()}catch(Z){m=Z}o.call(l.prototype)}else{try{throw Error()}catch(Z){m=Z}o()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=m.stack.split(`
`),I=y.length-1,B=w.length-1;1<=I&&0<=B&&y[I]!==w[B];)B--;for(;1<=I&&0<=B;I--,B--)if(y[I]!==w[B]){if(I!==1||B!==1)do if(I--,B--,0>B||y[I]!==w[B]){var U=`
`+y[I].replace(" at new "," at ");return o.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",o.displayName)),U}while(1<=I&&0<=B);break}}}finally{pe=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?re(o):""}function Re(o){switch(o.tag){case 5:return re(o.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return o=me(o.type,!1),o;case 11:return o=me(o.type.render,!1),o;case 1:return o=me(o.type,!0),o;default:return""}}function Ue(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case R:return"Fragment";case W:return"Portal";case P:return"Profiler";case D:return"StrictMode";case L:return"Suspense";case Ee:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case V:return(o.displayName||"Context")+".Consumer";case O:return(o._context.displayName||"Context")+".Provider";case q:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ae:return l=o.displayName||null,l!==null?l:Ue(o.type)||"Memo";case ye:l=o._payload,o=o._init;try{return Ue(o(l))}catch{}}return null}function De(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(l);case 8:return l===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function qe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Fe(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function pt(o){var l=Fe(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,w=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return y.call(this)},set:function(I){m=""+I,w.call(this,I)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ar(o){o._valueTracker||(o._valueTracker=pt(o))}function Rr(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=Fe(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function tr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function io(o,l){var d=l.checked;return oe({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function Jl(o,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=qe(l.value!=null?l.value:d),o._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function oo(o,l){l=l.checked,l!=null&&M(o,"checked",l,!1)}function pi(o,l){oo(o,l);var d=qe(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?mt(o,l.type,d):l.hasOwnProperty("defaultValue")&&mt(o,l.type,qe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Ca(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function mt(o,l,d){(l!=="number"||tr(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var Zt=Array.isArray;function ns(o,l,d,m){if(o=o.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<o.length;d++)y=l.hasOwnProperty("$"+o[d].value),o[d].selected!==y&&(o[d].selected=y),y&&m&&(o[d].defaultSelected=!0)}else{for(d=""+qe(d),l=null,y=0;y<o.length;y++){if(o[y].value===d){o[y].selected=!0,m&&(o[y].defaultSelected=!0);return}l!==null||o[y].disabled||(l=o[y])}l!==null&&(l.selected=!0)}}function td(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function nd(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(Zt(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:qe(d)}}function Hf(o,l){var d=qe(l.value),m=qe(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),m!=null&&(o.defaultValue=""+m)}function ao(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function rd(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zl(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?rd(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var lo,Qf=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,y){MSApp.execUnsafeLocalFunction(function(){return o(l,d,m,y)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(lo=lo||document.createElement("div"),lo.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=lo.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function ka(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yf=["Webkit","ms","Moz","O"];Object.keys(uo).forEach(function(o){Yf.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),uo[l]=uo[o]})});function co(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||uo.hasOwnProperty(o)&&uo[o]?(""+l).trim():l+"px"}function eu(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,y=co(d,l[d],m);d==="float"&&(d="cssFloat"),m?o.setProperty(d,y):o[d]=y}}var sd=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rs(o,l){if(l){if(sd[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function tu(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ho=null;function nu(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var mi=null,gi=null,Nt=null;function id(o){if(o=Ad(o)){if(typeof mi!="function")throw Error(n(280));var l=o.stateNode;l&&(l=kp(l),mi(o.stateNode,o.type,l))}}function fo(o){gi?Nt?Nt.push(o):Nt=[o]:gi=o}function po(){if(gi){var o=gi,l=Nt;if(Nt=gi=null,id(o),l)for(o=0;o<l.length;o++)id(l[o])}}function Xf(o,l){return o(l)}function Jf(){}var Ss=!1;function Zf(o,l,d){if(Ss)return o(l,d);Ss=!0;try{return Xf(o,l,d)}finally{Ss=!1,(gi!==null||Nt!==null)&&(Jf(),po())}}function Ea(o,l){var d=o.stateNode;if(d===null)return null;var m=kp(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var mo=!1;if(u)try{var go={};Object.defineProperty(go,"passive",{get:function(){mo=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{mo=!1}function ep(o,l,d,m,y,w,I,B,U){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(d,Z)}catch(ie){this.onError(ie)}}var yi=!1,Ts=null,ru=!1,jr=null,tp={onError:function(o){yi=!0,Ts=o}};function np(o,l,d,m,y,w,I,B,U){yi=!1,Ts=null,ep.apply(tp,arguments)}function od(o,l,d,m,y,w,I,B,U){if(np.apply(this,arguments),yi){if(yi){var Z=Ts;yi=!1,Ts=null}else throw Error(n(198));ru||(ru=!0,jr=Z)}}function ss(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function ad(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function rp(o){if(ss(o)!==o)throw Error(n(188))}function sp(o){var l=o.alternate;if(!l){if(l=ss(o),l===null)throw Error(n(188));return l!==o?null:o}for(var d=o,m=l;;){var y=d.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===d)return rp(y),o;if(w===m)return rp(y),l;w=w.sibling}throw Error(n(188))}if(d.return!==m.return)d=y,m=w;else{for(var I=!1,B=y.child;B;){if(B===d){I=!0,d=y,m=w;break}if(B===m){I=!0,m=y,d=w;break}B=B.sibling}if(!I){for(B=w.child;B;){if(B===d){I=!0,d=w,m=y;break}if(B===m){I=!0,m=w,d=y;break}B=B.sibling}if(!I)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:l}function ip(o){return o=sp(o),o!==null?Sa(o):null}function Sa(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Sa(o);if(l!==null)return l;o=o.sibling}return null}var ld=e.unstable_scheduleCallback,su=e.unstable_cancelCallback,Ta=e.unstable_shouldYield,vi=e.unstable_requestPaint,gt=e.unstable_now,uv=e.unstable_getCurrentPriorityLevel,iu=e.unstable_ImmediatePriority,ud=e.unstable_UserBlockingPriority,_a=e.unstable_NormalPriority,cd=e.unstable_LowPriority,ou=e.unstable_IdlePriority,Da=null,mr=null;function op(o){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(Da,o,void 0,(o.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:Ia,_s=Math.log,Mr=Math.LN2;function Ia(o){return o>>>=0,o===0?32:31-(_s(o)/Mr|0)|0}var Ds=64,yo=4194304;function it(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function wi(o,l){var d=o.pendingLanes;if(d===0)return 0;var m=0,y=o.suspendedLanes,w=o.pingedLanes,I=d&268435455;if(I!==0){var B=I&~y;B!==0?m=it(B):(w&=I,w!==0&&(m=it(w)))}else I=d&~y,I!==0?m=it(I):w!==0&&(m=it(w));if(m===0)return 0;if(l!==0&&l!==m&&(l&y)===0&&(y=m&-m,w=l&-l,y>=w||y===16&&(w&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=m;0<l;)d=31-gr(l),y=1<<d,m|=o[d],l&=~y;return m}function Na(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pa(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes;0<w;){var I=31-gr(w),B=1<<I,U=y[I];U===-1?((B&d)===0||(B&m)!==0)&&(y[I]=Na(B,l)):U<=l&&(o.expiredLanes|=B),w&=~B}}function dd(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function hd(){var o=Ds;return Ds<<=1,(Ds&4194240)===0&&(Ds=64),o}function fd(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Aa(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-gr(l),o[l]=d}function cv(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<d;){var y=31-gr(d),w=1<<y;l[y]=0,m[y]=-1,o[y]=-1,d&=~w}}function pd(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-gr(d),y=1<<m;y&l|o[m]&l&&(o[m]|=l),d&=~y}}var Qe=0;function Is(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var md,au,gd,yd,vd,Ns=!1,lu=[],Ps=null,As=null,En=null,Ra=new Map,bi=new Map,yr=[],ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vo(o,l){switch(o){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Ra.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(l.pointerId)}}function is(o,l,d,m,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},l!==null&&(l=Ad(l),l!==null&&au(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),o)}function lp(o,l,d,m,y){switch(l){case"focusin":return Ps=is(Ps,o,l,d,m,y),!0;case"dragenter":return As=is(As,o,l,d,m,y),!0;case"mouseover":return En=is(En,o,l,d,m,y),!0;case"pointerover":var w=y.pointerId;return Ra.set(w,is(Ra.get(w)||null,o,l,d,m,y)),!0;case"gotpointercapture":return w=y.pointerId,bi.set(w,is(bi.get(w)||null,o,l,d,m,y)),!0}return!1}function uu(o){var l=La(o.target);if(l!==null){var d=ss(l);if(d!==null){if(l=d.tag,l===13){if(l=ad(d),l!==null){o.blockedOn=l,vd(o.priority,function(){gd(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ct(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=cu(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);ho=m,d.target.dispatchEvent(m),ho=null}else return l=Ad(d),l!==null&&au(l),o.blockedOn=d,!1;l.shift()}return!0}function up(o,l,d){ct(o)&&d.delete(l)}function dv(){Ns=!1,Ps!==null&&ct(Ps)&&(Ps=null),As!==null&&ct(As)&&(As=null),En!==null&&ct(En)&&(En=null),Ra.forEach(up),bi.forEach(up)}function wo(o,l){o.blockedOn===l&&(o.blockedOn=null,Ns||(Ns=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dv)))}function bo(o){function l(y){return wo(y,o)}if(0<lu.length){wo(lu[0],o);for(var d=1;d<lu.length;d++){var m=lu[d];m.blockedOn===o&&(m.blockedOn=null)}}for(Ps!==null&&wo(Ps,o),As!==null&&wo(As,o),En!==null&&wo(En,o),Ra.forEach(l),bi.forEach(l),d=0;d<yr.length;d++)m=yr[d],m.blockedOn===o&&(m.blockedOn=null);for(;0<yr.length&&(d=yr[0],d.blockedOn===null);)uu(d),d.blockedOn===null&&yr.shift()}var xi=F.ReactCurrentBatchConfig,Ci=!0;function Rs(o,l,d,m){var y=Qe,w=xi.transition;xi.transition=null;try{Qe=1,wd(o,l,d,m)}finally{Qe=y,xi.transition=w}}function cp(o,l,d,m){var y=Qe,w=xi.transition;xi.transition=null;try{Qe=4,wd(o,l,d,m)}finally{Qe=y,xi.transition=w}}function wd(o,l,d,m){if(Ci){var y=cu(o,l,d,m);if(y===null)Cv(o,l,m,js,d),vo(o,m);else if(lp(y,o,l,d,m))m.stopPropagation();else if(vo(o,m),l&4&&-1<ap.indexOf(o)){for(;y!==null;){var w=Ad(y);if(w!==null&&md(w),w=cu(o,l,d,m),w===null&&Cv(o,l,m,js,d),w===y)break;y=w}y!==null&&m.stopPropagation()}else Cv(o,l,m,null,d)}}var js=null;function cu(o,l,d,m){if(js=null,o=nu(m),o=La(o),o!==null)if(l=ss(o),l===null)o=null;else if(d=l.tag,d===13){if(o=ad(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return js=o,null}function du(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uv()){case iu:return 1;case ud:return 4;case _a:case cd:return 16;case ou:return 536870912;default:return 16}default:return 16}}var vr=null,hu=null,ki=null;function dp(){if(ki)return ki;var o,l=hu,d=l.length,m,y="value"in vr?vr.value:vr.textContent,w=y.length;for(o=0;o<d&&l[o]===y[o];o++);var I=d-o;for(m=1;m<=I&&l[d-m]===y[w-m];m++);return ki=y.slice(o,1<m?1-m:void 0)}function ja(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ms(){return!0}function bd(){return!1}function Rn(o){function l(d,m,y,w,I){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var B in o)o.hasOwnProperty(B)&&(d=o[B],this[B]=d?d(w):w[B]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ms:bd,this.isPropagationStopped=bd,this}return oe(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),l}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Rn(Os),xo=oe({},Os,{view:0,detail:0}),fu=Rn(xo),pu,mu,wr,Oa=oe({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ze,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==wr&&(wr&&o.type==="mousemove"?(pu=o.screenX-wr.screenX,mu=o.screenY-wr.screenY):mu=pu=0,wr=o),pu)},movementY:function(o){return"movementY"in o?o.movementY:mu}}),xd=Rn(Oa),hp=oe({},Oa,{dataTransfer:0}),fp=Rn(hp),gu=oe({},xo,{relatedTarget:0}),Sn=Rn(gu),pp=oe({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),mp=Rn(pp),Co=oe({},Os,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),f=Rn(Co),b=oe({},Os,{data:0}),E=Rn(b),j={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function de(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=ee[o])?!!l[o]:!1}function ze(){return de}var en=oe({},xo,{key:function(o){if(o.key){var l=j[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=ja(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?X[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ze,charCode:function(o){return o.type==="keypress"?ja(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ja(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),dt=Rn(en),an=oe({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),br=Rn(an),ko=oe({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ze}),Ls=Rn(ko),Bs=oe({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=Rn(Bs),Cd=oe({},Oa,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),WO=Rn(Cd),GO=[9,13,27,32],hv=u&&"CompositionEvent"in window,kd=null;u&&"documentMode"in document&&(kd=document.documentMode);var HO=u&&"TextEvent"in window&&!kd,zC=u&&(!hv||kd&&8<kd&&11>=kd),qC=" ",KC=!1;function $C(o,l){switch(o){case"keyup":return GO.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WC(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var vu=!1;function QO(o,l){switch(o){case"compositionend":return WC(l);case"keypress":return l.which!==32?null:(KC=!0,qC);case"textInput":return o=l.data,o===qC&&KC?null:o;default:return null}}function YO(o,l){if(vu)return o==="compositionend"||!hv&&$C(o,l)?(o=dp(),ki=hu=vr=null,vu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return zC&&l.locale!=="ko"?null:l.data;default:return null}}var XO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GC(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!XO[o.type]:l==="textarea"}function HC(o,l,d,m){fo(m),l=bp(l,"onChange"),0<l.length&&(d=new Ma("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var Ed=null,Sd=null;function JO(o){hk(o,0)}function gp(o){var l=ku(o);if(Rr(l))return o}function ZO(o,l){if(o==="change")return l}var QC=!1;if(u){var fv;if(u){var pv="oninput"in document;if(!pv){var YC=document.createElement("div");YC.setAttribute("oninput","return;"),pv=typeof YC.oninput=="function"}fv=pv}else fv=!1;QC=fv&&(!document.documentMode||9<document.documentMode)}function XC(){Ed&&(Ed.detachEvent("onpropertychange",JC),Sd=Ed=null)}function JC(o){if(o.propertyName==="value"&&gp(Sd)){var l=[];HC(l,Sd,o,nu(o)),Zf(JO,l)}}function e3(o,l,d){o==="focusin"?(XC(),Ed=l,Sd=d,Ed.attachEvent("onpropertychange",JC)):o==="focusout"&&XC()}function t3(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return gp(Sd)}function n3(o,l){if(o==="click")return gp(l)}function r3(o,l){if(o==="input"||o==="change")return gp(l)}function s3(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var os=typeof Object.is=="function"?Object.is:s3;function Td(o,l){if(os(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!c.call(l,y)||!os(o[y],l[y]))return!1}return!0}function ZC(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ek(o,l){var d=ZC(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=ZC(d)}}function tk(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?tk(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function nk(){for(var o=window,l=tr();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=tr(o.document)}return l}function mv(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function i3(o){var l=nk(),d=o.focusedElem,m=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&tk(d.ownerDocument.documentElement,d)){if(m!==null&&mv(d)){if(l=m.start,o=m.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var y=d.textContent.length,w=Math.min(m.start,y);m=m.end===void 0?w:Math.min(m.end,y),!o.extend&&w>m&&(y=m,m=w,w=y),y=ek(d,w);var I=ek(d,m);y&&I&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==I.node||o.focusOffset!==I.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),o.removeAllRanges(),w>m?(o.addRange(l),o.extend(I.node,I.offset)):(l.setEnd(I.node,I.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var o3=u&&"documentMode"in document&&11>=document.documentMode,wu=null,gv=null,_d=null,yv=!1;function rk(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;yv||wu==null||wu!==tr(m)||(m=wu,"selectionStart"in m&&mv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),_d&&Td(_d,m)||(_d=m,m=bp(gv,"onSelect"),0<m.length&&(l=new Ma("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=wu)))}function yp(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var bu={animationend:yp("Animation","AnimationEnd"),animationiteration:yp("Animation","AnimationIteration"),animationstart:yp("Animation","AnimationStart"),transitionend:yp("Transition","TransitionEnd")},vv={},sk={};u&&(sk=document.createElement("div").style,"AnimationEvent"in window||(delete bu.animationend.animation,delete bu.animationiteration.animation,delete bu.animationstart.animation),"TransitionEvent"in window||delete bu.transitionend.transition);function vp(o){if(vv[o])return vv[o];if(!bu[o])return o;var l=bu[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in sk)return vv[o]=l[d];return o}var ik=vp("animationend"),ok=vp("animationiteration"),ak=vp("animationstart"),lk=vp("transitionend"),uk=new Map,ck="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(o,l){uk.set(o,l),i(l,[o])}for(var wv=0;wv<ck.length;wv++){var bv=ck[wv],a3=bv.toLowerCase(),l3=bv[0].toUpperCase()+bv.slice(1);Eo(a3,"on"+l3)}Eo(ik,"onAnimationEnd"),Eo(ok,"onAnimationIteration"),Eo(ak,"onAnimationStart"),Eo("dblclick","onDoubleClick"),Eo("focusin","onFocus"),Eo("focusout","onBlur"),Eo(lk,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dd));function dk(o,l,d){var m=o.type||"unknown-event";o.currentTarget=d,od(m,l,void 0,o),o.currentTarget=null}function hk(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],y=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var I=m.length-1;0<=I;I--){var B=m[I],U=B.instance,Z=B.currentTarget;if(B=B.listener,U!==w&&y.isPropagationStopped())break e;dk(y,B,Z),w=U}else for(I=0;I<m.length;I++){if(B=m[I],U=B.instance,Z=B.currentTarget,B=B.listener,U!==w&&y.isPropagationStopped())break e;dk(y,B,Z),w=U}}}if(ru)throw o=jr,ru=!1,jr=null,o}function yt(o,l){var d=l[Dv];d===void 0&&(d=l[Dv]=new Set);var m=o+"__bubble";d.has(m)||(fk(l,o,2,!1),d.add(m))}function xv(o,l,d){var m=0;l&&(m|=4),fk(d,o,m,l)}var wp="_reactListening"+Math.random().toString(36).slice(2);function Id(o){if(!o[wp]){o[wp]=!0,r.forEach(function(d){d!=="selectionchange"&&(u3.has(d)||xv(d,!1,o),xv(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[wp]||(l[wp]=!0,xv("selectionchange",!1,l))}}function fk(o,l,d,m){switch(du(l)){case 1:var y=Rs;break;case 4:y=cp;break;default:y=wd}d=y.bind(null,l,d,o),y=void 0,!mo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?o.addEventListener(l,d,{capture:!0,passive:y}):o.addEventListener(l,d,!0):y!==void 0?o.addEventListener(l,d,{passive:y}):o.addEventListener(l,d,!1)}function Cv(o,l,d,m,y){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var B=m.stateNode.containerInfo;if(B===y||B.nodeType===8&&B.parentNode===y)break;if(I===4)for(I=m.return;I!==null;){var U=I.tag;if((U===3||U===4)&&(U=I.stateNode.containerInfo,U===y||U.nodeType===8&&U.parentNode===y))return;I=I.return}for(;B!==null;){if(I=La(B),I===null)return;if(U=I.tag,U===5||U===6){m=w=I;continue e}B=B.parentNode}}m=m.return}Zf(function(){var Z=w,ie=nu(d),ae=[];e:{var se=uk.get(o);if(se!==void 0){var fe=Ma,be=o;switch(o){case"keypress":if(ja(d)===0)break e;case"keydown":case"keyup":fe=dt;break;case"focusin":be="focus",fe=Sn;break;case"focusout":be="blur",fe=Sn;break;case"beforeblur":case"afterblur":fe=Sn;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Ls;break;case ik:case ok:case ak:fe=mp;break;case lk:fe=yu;break;case"scroll":fe=fu;break;case"wheel":fe=WO;break;case"copy":case"cut":case"paste":fe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=br}var Se=(l&4)!==0,tn=!Se&&o==="scroll",Y=Se?se!==null?se+"Capture":null:se;Se=[];for(var $=Z,J;$!==null;){J=$;var ue=J.stateNode;if(J.tag===5&&ue!==null&&(J=ue,Y!==null&&(ue=Ea($,Y),ue!=null&&Se.push(Nd($,ue,J)))),tn)break;$=$.return}0<Se.length&&(se=new fe(se,be,null,d,ie),ae.push({event:se,listeners:Se}))}}if((l&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",fe=o==="mouseout"||o==="pointerout",se&&d!==ho&&(be=d.relatedTarget||d.fromElement)&&(La(be)||be[Ei]))break e;if((fe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(be=d.relatedTarget||d.toElement,fe=Z,be=be?La(be):null,be!==null&&(tn=ss(be),be!==tn||be.tag!==5&&be.tag!==6)&&(be=null)):(fe=null,be=Z),fe!==be)){if(Se=xd,ue="onMouseLeave",Y="onMouseEnter",$="mouse",(o==="pointerout"||o==="pointerover")&&(Se=br,ue="onPointerLeave",Y="onPointerEnter",$="pointer"),tn=fe==null?se:ku(fe),J=be==null?se:ku(be),se=new Se(ue,$+"leave",fe,d,ie),se.target=tn,se.relatedTarget=J,ue=null,La(ie)===Z&&(Se=new Se(Y,$+"enter",be,d,ie),Se.target=J,Se.relatedTarget=tn,ue=Se),tn=ue,fe&&be)t:{for(Se=fe,Y=be,$=0,J=Se;J;J=xu(J))$++;for(J=0,ue=Y;ue;ue=xu(ue))J++;for(;0<$-J;)Se=xu(Se),$--;for(;0<J-$;)Y=xu(Y),J--;for(;$--;){if(Se===Y||Y!==null&&Se===Y.alternate)break t;Se=xu(Se),Y=xu(Y)}Se=null}else Se=null;fe!==null&&pk(ae,se,fe,Se,!1),be!==null&&tn!==null&&pk(ae,tn,be,Se,!0)}}e:{if(se=Z?ku(Z):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var Te=ZO;else if(GC(se))if(QC)Te=r3;else{Te=t3;var Ne=e3}else(fe=se.nodeName)&&fe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Te=n3);if(Te&&(Te=Te(o,Z))){HC(ae,Te,d,ie);break e}Ne&&Ne(o,se,Z),o==="focusout"&&(Ne=se._wrapperState)&&Ne.controlled&&se.type==="number"&&mt(se,"number",se.value)}switch(Ne=Z?ku(Z):window,o){case"focusin":(GC(Ne)||Ne.contentEditable==="true")&&(wu=Ne,gv=Z,_d=null);break;case"focusout":_d=gv=wu=null;break;case"mousedown":yv=!0;break;case"contextmenu":case"mouseup":case"dragend":yv=!1,rk(ae,d,ie);break;case"selectionchange":if(o3)break;case"keydown":case"keyup":rk(ae,d,ie)}var Pe;if(hv)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else vu?$C(o,d)&&(Le="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Le="onCompositionStart");Le&&(zC&&d.locale!=="ko"&&(vu||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&vu&&(Pe=dp()):(vr=ie,hu="value"in vr?vr.value:vr.textContent,vu=!0)),Ne=bp(Z,Le),0<Ne.length&&(Le=new E(Le,o,null,d,ie),ae.push({event:Le,listeners:Ne}),Pe?Le.data=Pe:(Pe=WC(d),Pe!==null&&(Le.data=Pe)))),(Pe=HO?QO(o,d):YO(o,d))&&(Z=bp(Z,"onBeforeInput"),0<Z.length&&(ie=new E("onBeforeInput","beforeinput",null,d,ie),ae.push({event:ie,listeners:Z}),ie.data=Pe))}hk(ae,l)})}function Nd(o,l,d){return{instance:o,listener:l,currentTarget:d}}function bp(o,l){for(var d=l+"Capture",m=[];o!==null;){var y=o,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=Ea(o,d),w!=null&&m.unshift(Nd(o,w,y)),w=Ea(o,l),w!=null&&m.push(Nd(o,w,y))),o=o.return}return m}function xu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function pk(o,l,d,m,y){for(var w=l._reactName,I=[];d!==null&&d!==m;){var B=d,U=B.alternate,Z=B.stateNode;if(U!==null&&U===m)break;B.tag===5&&Z!==null&&(B=Z,y?(U=Ea(d,w),U!=null&&I.unshift(Nd(d,U,B))):y||(U=Ea(d,w),U!=null&&I.push(Nd(d,U,B)))),d=d.return}I.length!==0&&o.push({event:l,listeners:I})}var c3=/\r\n?/g,d3=/\u0000|\uFFFD/g;function mk(o){return(typeof o=="string"?o:""+o).replace(c3,`
`).replace(d3,"")}function xp(o,l,d){if(l=mk(l),mk(o)!==l&&d)throw Error(n(425))}function Cp(){}var kv=null,Ev=null;function Sv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Tv=typeof setTimeout=="function"?setTimeout:void 0,h3=typeof clearTimeout=="function"?clearTimeout:void 0,gk=typeof Promise=="function"?Promise:void 0,f3=typeof queueMicrotask=="function"?queueMicrotask:typeof gk<"u"?function(o){return gk.resolve(null).then(o).catch(p3)}:Tv;function p3(o){setTimeout(function(){throw o})}function _v(o,l){var d=l,m=0;do{var y=d.nextSibling;if(o.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(m===0){o.removeChild(y),bo(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=y}while(d);bo(l)}function So(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function yk(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var Cu=Math.random().toString(36).slice(2),Vs="__reactFiber$"+Cu,Pd="__reactProps$"+Cu,Ei="__reactContainer$"+Cu,Dv="__reactEvents$"+Cu,m3="__reactListeners$"+Cu,g3="__reactHandles$"+Cu;function La(o){var l=o[Vs];if(l)return l;for(var d=o.parentNode;d;){if(l=d[Ei]||d[Vs]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=yk(o);o!==null;){if(d=o[Vs])return d;o=yk(o)}return l}o=d,d=o.parentNode}return null}function Ad(o){return o=o[Vs]||o[Ei],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ku(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function kp(o){return o[Pd]||null}var Iv=[],Eu=-1;function To(o){return{current:o}}function vt(o){0>Eu||(o.current=Iv[Eu],Iv[Eu]=null,Eu--)}function ht(o,l){Eu++,Iv[Eu]=o.current,o.current=l}var _o={},jn=To(_o),nr=To(!1),Ba=_o;function Su(o,l){var d=o.type.contextTypes;if(!d)return _o;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in d)y[w]=l[w];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=y),y}function rr(o){return o=o.childContextTypes,o!=null}function Ep(){vt(nr),vt(jn)}function vk(o,l,d){if(jn.current!==_o)throw Error(n(168));ht(jn,l),ht(nr,d)}function wk(o,l,d){var m=o.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var y in m)if(!(y in l))throw Error(n(108,De(o)||"Unknown",y));return oe({},d,m)}function Sp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||_o,Ba=jn.current,ht(jn,o),ht(nr,nr.current),!0}function bk(o,l,d){var m=o.stateNode;if(!m)throw Error(n(169));d?(o=wk(o,l,Ba),m.__reactInternalMemoizedMergedChildContext=o,vt(nr),vt(jn),ht(jn,o)):vt(nr),ht(nr,d)}var Si=null,Tp=!1,Nv=!1;function xk(o){Si===null?Si=[o]:Si.push(o)}function y3(o){Tp=!0,xk(o)}function Do(){if(!Nv&&Si!==null){Nv=!0;var o=0,l=Qe;try{var d=Si;for(Qe=1;o<d.length;o++){var m=d[o];do m=m(!0);while(m!==null)}Si=null,Tp=!1}catch(y){throw Si!==null&&(Si=Si.slice(o+1)),ld(iu,Do),y}finally{Qe=l,Nv=!1}}return null}var Tu=[],_u=0,_p=null,Dp=0,Or=[],Lr=0,Va=null,Ti=1,_i="";function Fa(o,l){Tu[_u++]=Dp,Tu[_u++]=_p,_p=o,Dp=l}function Ck(o,l,d){Or[Lr++]=Ti,Or[Lr++]=_i,Or[Lr++]=Va,Va=o;var m=Ti;o=_i;var y=32-gr(m)-1;m&=~(1<<y),d+=1;var w=32-gr(l)+y;if(30<w){var I=y-y%5;w=(m&(1<<I)-1).toString(32),m>>=I,y-=I,Ti=1<<32-gr(l)+y|d<<y|m,_i=w+o}else Ti=1<<w|d<<y|m,_i=o}function Pv(o){o.return!==null&&(Fa(o,1),Ck(o,1,0))}function Av(o){for(;o===_p;)_p=Tu[--_u],Tu[_u]=null,Dp=Tu[--_u],Tu[_u]=null;for(;o===Va;)Va=Or[--Lr],Or[Lr]=null,_i=Or[--Lr],Or[Lr]=null,Ti=Or[--Lr],Or[Lr]=null}var xr=null,Cr=null,bt=!1,as=null;function kk(o,l){var d=Ur(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function Ek(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,xr=o,Cr=So(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,xr=o,Cr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Va!==null?{id:Ti,overflow:_i}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Ur(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,xr=o,Cr=null,!0):!1;default:return!1}}function Rv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function jv(o){if(bt){var l=Cr;if(l){var d=l;if(!Ek(o,l)){if(Rv(o))throw Error(n(418));l=So(d.nextSibling);var m=xr;l&&Ek(o,l)?kk(m,d):(o.flags=o.flags&-4097|2,bt=!1,xr=o)}}else{if(Rv(o))throw Error(n(418));o.flags=o.flags&-4097|2,bt=!1,xr=o}}}function Sk(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xr=o}function Ip(o){if(o!==xr)return!1;if(!bt)return Sk(o),bt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Sv(o.type,o.memoizedProps)),l&&(l=Cr)){if(Rv(o))throw Tk(),Error(n(418));for(;l;)kk(o,l),l=So(l.nextSibling)}if(Sk(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){Cr=So(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}Cr=null}}else Cr=xr?So(o.stateNode.nextSibling):null;return!0}function Tk(){for(var o=Cr;o;)o=So(o.nextSibling)}function Du(){Cr=xr=null,bt=!1}function Mv(o){as===null?as=[o]:as.push(o)}var v3=F.ReactCurrentBatchConfig;function Rd(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,o));var y=m,w=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(I){var B=y.refs;I===null?delete B[w]:B[w]=I},l._stringRef=w,l)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function Np(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function _k(o){var l=o._init;return l(o._payload)}function Dk(o){function l(Y,$){if(o){var J=Y.deletions;J===null?(Y.deletions=[$],Y.flags|=16):J.push($)}}function d(Y,$){if(!o)return null;for(;$!==null;)l(Y,$),$=$.sibling;return null}function m(Y,$){for(Y=new Map;$!==null;)$.key!==null?Y.set($.key,$):Y.set($.index,$),$=$.sibling;return Y}function y(Y,$){return Y=Oo(Y,$),Y.index=0,Y.sibling=null,Y}function w(Y,$,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<$?(Y.flags|=2,$):J):(Y.flags|=2,$)):(Y.flags|=1048576,$)}function I(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function B(Y,$,J,ue){return $===null||$.tag!==6?($=S0(J,Y.mode,ue),$.return=Y,$):($=y($,J),$.return=Y,$)}function U(Y,$,J,ue){var Te=J.type;return Te===R?ie(Y,$,J.props.children,ue,J.key):$!==null&&($.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ye&&_k(Te)===$.type)?(ue=y($,J.props),ue.ref=Rd(Y,$,J),ue.return=Y,ue):(ue=em(J.type,J.key,J.props,null,Y.mode,ue),ue.ref=Rd(Y,$,J),ue.return=Y,ue)}function Z(Y,$,J,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==J.containerInfo||$.stateNode.implementation!==J.implementation?($=T0(J,Y.mode,ue),$.return=Y,$):($=y($,J.children||[]),$.return=Y,$)}function ie(Y,$,J,ue,Te){return $===null||$.tag!==7?($=Ha(J,Y.mode,ue,Te),$.return=Y,$):($=y($,J),$.return=Y,$)}function ae(Y,$,J){if(typeof $=="string"&&$!==""||typeof $=="number")return $=S0(""+$,Y.mode,J),$.return=Y,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case z:return J=em($.type,$.key,$.props,null,Y.mode,J),J.ref=Rd(Y,null,$),J.return=Y,J;case W:return $=T0($,Y.mode,J),$.return=Y,$;case ye:var ue=$._init;return ae(Y,ue($._payload),J)}if(Zt($)||ne($))return $=Ha($,Y.mode,J,null),$.return=Y,$;Np(Y,$)}return null}function se(Y,$,J,ue){var Te=$!==null?$.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Te!==null?null:B(Y,$,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case z:return J.key===Te?U(Y,$,J,ue):null;case W:return J.key===Te?Z(Y,$,J,ue):null;case ye:return Te=J._init,se(Y,$,Te(J._payload),ue)}if(Zt(J)||ne(J))return Te!==null?null:ie(Y,$,J,ue,null);Np(Y,J)}return null}function fe(Y,$,J,ue,Te){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Y=Y.get(J)||null,B($,Y,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case z:return Y=Y.get(ue.key===null?J:ue.key)||null,U($,Y,ue,Te);case W:return Y=Y.get(ue.key===null?J:ue.key)||null,Z($,Y,ue,Te);case ye:var Ne=ue._init;return fe(Y,$,J,Ne(ue._payload),Te)}if(Zt(ue)||ne(ue))return Y=Y.get(J)||null,ie($,Y,ue,Te,null);Np($,ue)}return null}function be(Y,$,J,ue){for(var Te=null,Ne=null,Pe=$,Le=$=0,xn=null;Pe!==null&&Le<J.length;Le++){Pe.index>Le?(xn=Pe,Pe=null):xn=Pe.sibling;var st=se(Y,Pe,J[Le],ue);if(st===null){Pe===null&&(Pe=xn);break}o&&Pe&&st.alternate===null&&l(Y,Pe),$=w(st,$,Le),Ne===null?Te=st:Ne.sibling=st,Ne=st,Pe=xn}if(Le===J.length)return d(Y,Pe),bt&&Fa(Y,Le),Te;if(Pe===null){for(;Le<J.length;Le++)Pe=ae(Y,J[Le],ue),Pe!==null&&($=w(Pe,$,Le),Ne===null?Te=Pe:Ne.sibling=Pe,Ne=Pe);return bt&&Fa(Y,Le),Te}for(Pe=m(Y,Pe);Le<J.length;Le++)xn=fe(Pe,Y,Le,J[Le],ue),xn!==null&&(o&&xn.alternate!==null&&Pe.delete(xn.key===null?Le:xn.key),$=w(xn,$,Le),Ne===null?Te=xn:Ne.sibling=xn,Ne=xn);return o&&Pe.forEach(function(Lo){return l(Y,Lo)}),bt&&Fa(Y,Le),Te}function Se(Y,$,J,ue){var Te=ne(J);if(typeof Te!="function")throw Error(n(150));if(J=Te.call(J),J==null)throw Error(n(151));for(var Ne=Te=null,Pe=$,Le=$=0,xn=null,st=J.next();Pe!==null&&!st.done;Le++,st=J.next()){Pe.index>Le?(xn=Pe,Pe=null):xn=Pe.sibling;var Lo=se(Y,Pe,st.value,ue);if(Lo===null){Pe===null&&(Pe=xn);break}o&&Pe&&Lo.alternate===null&&l(Y,Pe),$=w(Lo,$,Le),Ne===null?Te=Lo:Ne.sibling=Lo,Ne=Lo,Pe=xn}if(st.done)return d(Y,Pe),bt&&Fa(Y,Le),Te;if(Pe===null){for(;!st.done;Le++,st=J.next())st=ae(Y,st.value,ue),st!==null&&($=w(st,$,Le),Ne===null?Te=st:Ne.sibling=st,Ne=st);return bt&&Fa(Y,Le),Te}for(Pe=m(Y,Pe);!st.done;Le++,st=J.next())st=fe(Pe,Y,Le,st.value,ue),st!==null&&(o&&st.alternate!==null&&Pe.delete(st.key===null?Le:st.key),$=w(st,$,Le),Ne===null?Te=st:Ne.sibling=st,Ne=st);return o&&Pe.forEach(function(X3){return l(Y,X3)}),bt&&Fa(Y,Le),Te}function tn(Y,$,J,ue){if(typeof J=="object"&&J!==null&&J.type===R&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case z:e:{for(var Te=J.key,Ne=$;Ne!==null;){if(Ne.key===Te){if(Te=J.type,Te===R){if(Ne.tag===7){d(Y,Ne.sibling),$=y(Ne,J.props.children),$.return=Y,Y=$;break e}}else if(Ne.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ye&&_k(Te)===Ne.type){d(Y,Ne.sibling),$=y(Ne,J.props),$.ref=Rd(Y,Ne,J),$.return=Y,Y=$;break e}d(Y,Ne);break}else l(Y,Ne);Ne=Ne.sibling}J.type===R?($=Ha(J.props.children,Y.mode,ue,J.key),$.return=Y,Y=$):(ue=em(J.type,J.key,J.props,null,Y.mode,ue),ue.ref=Rd(Y,$,J),ue.return=Y,Y=ue)}return I(Y);case W:e:{for(Ne=J.key;$!==null;){if($.key===Ne)if($.tag===4&&$.stateNode.containerInfo===J.containerInfo&&$.stateNode.implementation===J.implementation){d(Y,$.sibling),$=y($,J.children||[]),$.return=Y,Y=$;break e}else{d(Y,$);break}else l(Y,$);$=$.sibling}$=T0(J,Y.mode,ue),$.return=Y,Y=$}return I(Y);case ye:return Ne=J._init,tn(Y,$,Ne(J._payload),ue)}if(Zt(J))return be(Y,$,J,ue);if(ne(J))return Se(Y,$,J,ue);Np(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,$!==null&&$.tag===6?(d(Y,$.sibling),$=y($,J),$.return=Y,Y=$):(d(Y,$),$=S0(J,Y.mode,ue),$.return=Y,Y=$),I(Y)):d(Y,$)}return tn}var Iu=Dk(!0),Ik=Dk(!1),Pp=To(null),Ap=null,Nu=null,Ov=null;function Lv(){Ov=Nu=Ap=null}function Bv(o){var l=Pp.current;vt(Pp),o._currentValue=l}function Vv(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function Pu(o,l){Ap=o,Ov=Nu=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(sr=!0),o.firstContext=null)}function Br(o){var l=o._currentValue;if(Ov!==o)if(o={context:o,memoizedValue:l,next:null},Nu===null){if(Ap===null)throw Error(n(308));Nu=o,Ap.dependencies={lanes:0,firstContext:o}}else Nu=Nu.next=o;return l}var Ua=null;function Fv(o){Ua===null?Ua=[o]:Ua.push(o)}function Nk(o,l,d,m){var y=l.interleaved;return y===null?(d.next=d,Fv(l)):(d.next=y.next,y.next=d),l.interleaved=d,Di(o,m)}function Di(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var Io=!1;function Uv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pk(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ii(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function No(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(tt&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,Di(o,d)}return y=m.interleaved,y===null?(l.next=l,Fv(m)):(l.next=y.next,y.next=l),m.interleaved=l,Di(o,d)}function Rp(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,pd(o,d)}}function Ak(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var I={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?y=w=I:w=w.next=I,d=d.next}while(d!==null);w===null?y=w=l:w=w.next=l}else y=w=l;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,effects:m.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function jp(o,l,d,m){var y=o.updateQueue;Io=!1;var w=y.firstBaseUpdate,I=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var U=B,Z=U.next;U.next=null,I===null?w=Z:I.next=Z,I=U;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,B=ie.lastBaseUpdate,B!==I&&(B===null?ie.firstBaseUpdate=Z:B.next=Z,ie.lastBaseUpdate=U))}if(w!==null){var ae=y.baseState;I=0,ie=Z=U=null,B=w;do{var se=B.lane,fe=B.eventTime;if((m&se)===se){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var be=o,Se=B;switch(se=l,fe=d,Se.tag){case 1:if(be=Se.payload,typeof be=="function"){ae=be.call(fe,ae,se);break e}ae=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Se.payload,se=typeof be=="function"?be.call(fe,ae,se):be,se==null)break e;ae=oe({},ae,se);break e;case 2:Io=!0}}B.callback!==null&&B.lane!==0&&(o.flags|=64,se=y.effects,se===null?y.effects=[B]:se.push(B))}else fe={eventTime:fe,lane:se,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ie===null?(Z=ie=fe,U=ae):ie=ie.next=fe,I|=se;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;se=B,B=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ie===null&&(U=ae),y.baseState=U,y.firstBaseUpdate=Z,y.lastBaseUpdate=ie,l=y.shared.interleaved,l!==null){y=l;do I|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Ka|=I,o.lanes=I,o.memoizedState=ae}}function Rk(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var m=o[l],y=m.callback;if(y!==null){if(m.callback=null,m=d,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var jd={},Fs=To(jd),Md=To(jd),Od=To(jd);function za(o){if(o===jd)throw Error(n(174));return o}function zv(o,l){switch(ht(Od,l),ht(Md,o),ht(Fs,jd),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Zl(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Zl(l,o)}vt(Fs),ht(Fs,l)}function Au(){vt(Fs),vt(Md),vt(Od)}function jk(o){za(Od.current);var l=za(Fs.current),d=Zl(l,o.type);l!==d&&(ht(Md,o),ht(Fs,d))}function qv(o){Md.current===o&&(vt(Fs),vt(Md))}var Et=To(0);function Mp(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Kv=[];function $v(){for(var o=0;o<Kv.length;o++)Kv[o]._workInProgressVersionPrimary=null;Kv.length=0}var Op=F.ReactCurrentDispatcher,Wv=F.ReactCurrentBatchConfig,qa=0,St=null,fn=null,wn=null,Lp=!1,Ld=!1,Bd=0,w3=0;function Mn(){throw Error(n(321))}function Gv(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!os(o[d],l[d]))return!1;return!0}function Hv(o,l,d,m,y,w){if(qa=w,St=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Op.current=o===null||o.memoizedState===null?k3:E3,o=d(m,y),Ld){w=0;do{if(Ld=!1,Bd=0,25<=w)throw Error(n(301));w+=1,wn=fn=null,l.updateQueue=null,Op.current=S3,o=d(m,y)}while(Ld)}if(Op.current=Fp,l=fn!==null&&fn.next!==null,qa=0,wn=fn=St=null,Lp=!1,l)throw Error(n(300));return o}function Qv(){var o=Bd!==0;return Bd=0,o}function Us(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?St.memoizedState=wn=o:wn=wn.next=o,wn}function Vr(){if(fn===null){var o=St.alternate;o=o!==null?o.memoizedState:null}else o=fn.next;var l=wn===null?St.memoizedState:wn.next;if(l!==null)wn=l,fn=o;else{if(o===null)throw Error(n(310));fn=o,o={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},wn===null?St.memoizedState=wn=o:wn=wn.next=o}return wn}function Vd(o,l){return typeof l=="function"?l(o):l}function Yv(o){var l=Vr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=fn,y=m.baseQueue,w=d.pending;if(w!==null){if(y!==null){var I=y.next;y.next=w.next,w.next=I}m.baseQueue=y=w,d.pending=null}if(y!==null){w=y.next,m=m.baseState;var B=I=null,U=null,Z=w;do{var ie=Z.lane;if((qa&ie)===ie)U!==null&&(U=U.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:o(m,Z.action);else{var ae={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};U===null?(B=U=ae,I=m):U=U.next=ae,St.lanes|=ie,Ka|=ie}Z=Z.next}while(Z!==null&&Z!==w);U===null?I=m:U.next=B,os(m,l.memoizedState)||(sr=!0),l.memoizedState=m,l.baseState=I,l.baseQueue=U,d.lastRenderedState=m}if(o=d.interleaved,o!==null){y=o;do w=y.lane,St.lanes|=w,Ka|=w,y=y.next;while(y!==o)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Xv(o){var l=Vr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=d.dispatch,y=d.pending,w=l.memoizedState;if(y!==null){d.pending=null;var I=y=y.next;do w=o(w,I.action),I=I.next;while(I!==y);os(w,l.memoizedState)||(sr=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,m]}function Mk(){}function Ok(o,l){var d=St,m=Vr(),y=l(),w=!os(m.memoizedState,y);if(w&&(m.memoizedState=y,sr=!0),m=m.queue,Jv(Vk.bind(null,d,m,o),[o]),m.getSnapshot!==l||w||wn!==null&&wn.memoizedState.tag&1){if(d.flags|=2048,Fd(9,Bk.bind(null,d,m,y,l),void 0,null),bn===null)throw Error(n(349));(qa&30)!==0||Lk(d,l,y)}return y}function Lk(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=St.updateQueue,l===null?(l={lastEffect:null,stores:null},St.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function Bk(o,l,d,m){l.value=d,l.getSnapshot=m,Fk(l)&&Uk(o)}function Vk(o,l,d){return d(function(){Fk(l)&&Uk(o)})}function Fk(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!os(o,d)}catch{return!0}}function Uk(o){var l=Di(o,1);l!==null&&ds(l,o,1,-1)}function zk(o){var l=Us();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:o},l.queue=o,o=o.dispatch=C3.bind(null,St,o),[l.memoizedState,o]}function Fd(o,l,d,m){return o={tag:o,create:l,destroy:d,deps:m,next:null},l=St.updateQueue,l===null?(l={lastEffect:null,stores:null},St.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o)),o}function qk(){return Vr().memoizedState}function Bp(o,l,d,m){var y=Us();St.flags|=o,y.memoizedState=Fd(1|l,d,void 0,m===void 0?null:m)}function Vp(o,l,d,m){var y=Vr();m=m===void 0?null:m;var w=void 0;if(fn!==null){var I=fn.memoizedState;if(w=I.destroy,m!==null&&Gv(m,I.deps)){y.memoizedState=Fd(l,d,w,m);return}}St.flags|=o,y.memoizedState=Fd(1|l,d,w,m)}function Kk(o,l){return Bp(8390656,8,o,l)}function Jv(o,l){return Vp(2048,8,o,l)}function $k(o,l){return Vp(4,2,o,l)}function Wk(o,l){return Vp(4,4,o,l)}function Gk(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Hk(o,l,d){return d=d!=null?d.concat([o]):null,Vp(4,4,Gk.bind(null,l,o),d)}function Zv(){}function Qk(o,l){var d=Vr();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Gv(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function Yk(o,l){var d=Vr();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Gv(l,m[1])?m[0]:(o=o(),d.memoizedState=[o,l],o)}function Xk(o,l,d){return(qa&21)===0?(o.baseState&&(o.baseState=!1,sr=!0),o.memoizedState=d):(os(d,l)||(d=hd(),St.lanes|=d,Ka|=d,o.baseState=!0),l)}function b3(o,l){var d=Qe;Qe=d!==0&&4>d?d:4,o(!0);var m=Wv.transition;Wv.transition={};try{o(!1),l()}finally{Qe=d,Wv.transition=m}}function Jk(){return Vr().memoizedState}function x3(o,l,d){var m=jo(o);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},Zk(o))eE(l,d);else if(d=Nk(o,l,d,m),d!==null){var y=Wn();ds(d,o,m,y),tE(d,l,m)}}function C3(o,l,d){var m=jo(o),y={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(Zk(o))eE(l,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var I=l.lastRenderedState,B=w(I,d);if(y.hasEagerState=!0,y.eagerState=B,os(B,I)){var U=l.interleaved;U===null?(y.next=y,Fv(l)):(y.next=U.next,U.next=y),l.interleaved=y;return}}catch{}finally{}d=Nk(o,l,y,m),d!==null&&(y=Wn(),ds(d,o,m,y),tE(d,l,m))}}function Zk(o){var l=o.alternate;return o===St||l!==null&&l===St}function eE(o,l){Ld=Lp=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function tE(o,l,d){if((d&4194240)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,pd(o,d)}}var Fp={readContext:Br,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},k3={readContext:Br,useCallback:function(o,l){return Us().memoizedState=[o,l===void 0?null:l],o},useContext:Br,useEffect:Kk,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,Bp(4194308,4,Gk.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Bp(4194308,4,o,l)},useInsertionEffect:function(o,l){return Bp(4,2,o,l)},useMemo:function(o,l){var d=Us();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var m=Us();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},m.queue=o,o=o.dispatch=x3.bind(null,St,o),[m.memoizedState,o]},useRef:function(o){var l=Us();return o={current:o},l.memoizedState=o},useState:zk,useDebugValue:Zv,useDeferredValue:function(o){return Us().memoizedState=o},useTransition:function(){var o=zk(!1),l=o[0];return o=b3.bind(null,o[1]),Us().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var m=St,y=Us();if(bt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),bn===null)throw Error(n(349));(qa&30)!==0||Lk(m,l,d)}y.memoizedState=d;var w={value:d,getSnapshot:l};return y.queue=w,Kk(Vk.bind(null,m,w,o),[o]),m.flags|=2048,Fd(9,Bk.bind(null,m,w,d,l),void 0,null),d},useId:function(){var o=Us(),l=bn.identifierPrefix;if(bt){var d=_i,m=Ti;d=(m&~(1<<32-gr(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=Bd++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=w3++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},E3={readContext:Br,useCallback:Qk,useContext:Br,useEffect:Jv,useImperativeHandle:Hk,useInsertionEffect:$k,useLayoutEffect:Wk,useMemo:Yk,useReducer:Yv,useRef:qk,useState:function(){return Yv(Vd)},useDebugValue:Zv,useDeferredValue:function(o){var l=Vr();return Xk(l,fn.memoizedState,o)},useTransition:function(){var o=Yv(Vd)[0],l=Vr().memoizedState;return[o,l]},useMutableSource:Mk,useSyncExternalStore:Ok,useId:Jk,unstable_isNewReconciler:!1},S3={readContext:Br,useCallback:Qk,useContext:Br,useEffect:Jv,useImperativeHandle:Hk,useInsertionEffect:$k,useLayoutEffect:Wk,useMemo:Yk,useReducer:Xv,useRef:qk,useState:function(){return Xv(Vd)},useDebugValue:Zv,useDeferredValue:function(o){var l=Vr();return fn===null?l.memoizedState=o:Xk(l,fn.memoizedState,o)},useTransition:function(){var o=Xv(Vd)[0],l=Vr().memoizedState;return[o,l]},useMutableSource:Mk,useSyncExternalStore:Ok,useId:Jk,unstable_isNewReconciler:!1};function ls(o,l){if(o&&o.defaultProps){l=oe({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function e0(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:oe({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Up={isMounted:function(o){return(o=o._reactInternals)?ss(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var m=Wn(),y=jo(o),w=Ii(m,y);w.payload=l,d!=null&&(w.callback=d),l=No(o,w,y),l!==null&&(ds(l,o,y,m),Rp(l,o,y))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=Wn(),y=jo(o),w=Ii(m,y);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=No(o,w,y),l!==null&&(ds(l,o,y,m),Rp(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Wn(),m=jo(o),y=Ii(d,m);y.tag=2,l!=null&&(y.callback=l),l=No(o,y,m),l!==null&&(ds(l,o,m,d),Rp(l,o,m))}};function nE(o,l,d,m,y,w,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,w,I):l.prototype&&l.prototype.isPureReactComponent?!Td(d,m)||!Td(y,w):!0}function rE(o,l,d){var m=!1,y=_o,w=l.contextType;return typeof w=="object"&&w!==null?w=Br(w):(y=rr(l)?Ba:jn.current,m=l.contextTypes,w=(m=m!=null)?Su(o,y):_o),l=new l(d,w),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Up,o.stateNode=l,l._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=w),l}function sE(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&Up.enqueueReplaceState(l,l.state,null)}function t0(o,l,d,m){var y=o.stateNode;y.props=d,y.state=o.memoizedState,y.refs={},Uv(o);var w=l.contextType;typeof w=="object"&&w!==null?y.context=Br(w):(w=rr(l)?Ba:jn.current,y.context=Su(o,w)),y.state=o.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(e0(o,l,w,d),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Up.enqueueReplaceState(y,y.state,null),jp(o,d,y,m),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function Ru(o,l){try{var d="",m=l;do d+=Re(m),m=m.return;while(m);var y=d}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:l,stack:y,digest:null}}function n0(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function r0(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var T3=typeof WeakMap=="function"?WeakMap:Map;function iE(o,l,d){d=Ii(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){Hp||(Hp=!0,y0=m),r0(o,l)},d}function oE(o,l,d){d=Ii(-1,d),d.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=l.value;d.payload=function(){return m(y)},d.callback=function(){r0(o,l)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){r0(o,l),typeof m!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var I=l.stack;this.componentDidCatch(l.value,{componentStack:I!==null?I:""})}),d}function aE(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new T3;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(d)||(y.add(d),o=F3.bind(null,o,l,d),l.then(o,o))}function lE(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function uE(o,l,d,m,y){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Ii(-1,1),l.tag=2,No(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var _3=F.ReactCurrentOwner,sr=!1;function $n(o,l,d,m){l.child=o===null?Ik(l,null,d,m):Iu(l,o.child,d,m)}function cE(o,l,d,m,y){d=d.render;var w=l.ref;return Pu(l,y),m=Hv(o,l,d,m,w,y),d=Qv(),o!==null&&!sr?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Ni(o,l,y)):(bt&&d&&Pv(l),l.flags|=1,$n(o,l,m,y),l.child)}function dE(o,l,d,m,y){if(o===null){var w=d.type;return typeof w=="function"&&!E0(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=w,hE(o,l,w,m,y)):(o=em(d.type,null,m,l,l.mode,y),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,(o.lanes&y)===0){var I=w.memoizedProps;if(d=d.compare,d=d!==null?d:Td,d(I,m)&&o.ref===l.ref)return Ni(o,l,y)}return l.flags|=1,o=Oo(w,m),o.ref=l.ref,o.return=l,l.child=o}function hE(o,l,d,m,y){if(o!==null){var w=o.memoizedProps;if(Td(w,m)&&o.ref===l.ref)if(sr=!1,l.pendingProps=m=w,(o.lanes&y)!==0)(o.flags&131072)!==0&&(sr=!0);else return l.lanes=o.lanes,Ni(o,l,y)}return s0(o,l,d,m,y)}function fE(o,l,d){var m=l.pendingProps,y=m.children,w=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Mu,kr),kr|=d;else{if((d&1073741824)===0)return o=w!==null?w.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,ht(Mu,kr),kr|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:d,ht(Mu,kr),kr|=m}else w!==null?(m=w.baseLanes|d,l.memoizedState=null):m=d,ht(Mu,kr),kr|=m;return $n(o,l,y,d),l.child}function pE(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function s0(o,l,d,m,y){var w=rr(d)?Ba:jn.current;return w=Su(l,w),Pu(l,y),d=Hv(o,l,d,m,w,y),m=Qv(),o!==null&&!sr?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Ni(o,l,y)):(bt&&m&&Pv(l),l.flags|=1,$n(o,l,d,y),l.child)}function mE(o,l,d,m,y){if(rr(d)){var w=!0;Sp(l)}else w=!1;if(Pu(l,y),l.stateNode===null)qp(o,l),rE(l,d,m),t0(l,d,m,y),m=!0;else if(o===null){var I=l.stateNode,B=l.memoizedProps;I.props=B;var U=I.context,Z=d.contextType;typeof Z=="object"&&Z!==null?Z=Br(Z):(Z=rr(d)?Ba:jn.current,Z=Su(l,Z));var ie=d.getDerivedStateFromProps,ae=typeof ie=="function"||typeof I.getSnapshotBeforeUpdate=="function";ae||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(B!==m||U!==Z)&&sE(l,I,m,Z),Io=!1;var se=l.memoizedState;I.state=se,jp(l,m,I,y),U=l.memoizedState,B!==m||se!==U||nr.current||Io?(typeof ie=="function"&&(e0(l,d,ie,m),U=l.memoizedState),(B=Io||nE(l,d,B,m,se,U,Z))?(ae||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(l.flags|=4194308)):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=U),I.props=m,I.state=U,I.context=Z,m=B):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{I=l.stateNode,Pk(o,l),B=l.memoizedProps,Z=l.type===l.elementType?B:ls(l.type,B),I.props=Z,ae=l.pendingProps,se=I.context,U=d.contextType,typeof U=="object"&&U!==null?U=Br(U):(U=rr(d)?Ba:jn.current,U=Su(l,U));var fe=d.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(B!==ae||se!==U)&&sE(l,I,m,U),Io=!1,se=l.memoizedState,I.state=se,jp(l,m,I,y);var be=l.memoizedState;B!==ae||se!==be||nr.current||Io?(typeof fe=="function"&&(e0(l,d,fe,m),be=l.memoizedState),(Z=Io||nE(l,d,Z,m,se,be,U)||!1)?(ie||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(m,be,U),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(m,be,U)),typeof I.componentDidUpdate=="function"&&(l.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof I.componentDidUpdate!="function"||B===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=be),I.props=m,I.state=be,I.context=U,m=Z):(typeof I.componentDidUpdate!="function"||B===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),m=!1)}return i0(o,l,d,m,w,y)}function i0(o,l,d,m,y,w){pE(o,l);var I=(l.flags&128)!==0;if(!m&&!I)return y&&bk(l,d,!1),Ni(o,l,w);m=l.stateNode,_3.current=l;var B=I&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,o!==null&&I?(l.child=Iu(l,o.child,null,w),l.child=Iu(l,null,B,w)):$n(o,l,B,w),l.memoizedState=m.state,y&&bk(l,d,!0),l.child}function gE(o){var l=o.stateNode;l.pendingContext?vk(o,l.pendingContext,l.pendingContext!==l.context):l.context&&vk(o,l.context,!1),zv(o,l.containerInfo)}function yE(o,l,d,m,y){return Du(),Mv(y),l.flags|=256,$n(o,l,d,m),l.child}var o0={dehydrated:null,treeContext:null,retryLane:0};function a0(o){return{baseLanes:o,cachePool:null,transitions:null}}function vE(o,l,d){var m=l.pendingProps,y=Et.current,w=!1,I=(l.flags&128)!==0,B;if((B=I)||(B=o!==null&&o.memoizedState===null?!1:(y&2)!==0),B?(w=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),ht(Et,y&1),o===null)return jv(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(I=m.children,o=m.fallback,w?(m=l.mode,w=l.child,I={mode:"hidden",children:I},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=I):w=tm(I,m,0,null),o=Ha(o,m,d,null),w.return=l,o.return=l,w.sibling=o,l.child=w,l.child.memoizedState=a0(d),l.memoizedState=o0,o):l0(l,I));if(y=o.memoizedState,y!==null&&(B=y.dehydrated,B!==null))return D3(o,l,I,m,B,y,d);if(w){w=m.fallback,I=l.mode,y=o.child,B=y.sibling;var U={mode:"hidden",children:m.children};return(I&1)===0&&l.child!==y?(m=l.child,m.childLanes=0,m.pendingProps=U,l.deletions=null):(m=Oo(y,U),m.subtreeFlags=y.subtreeFlags&14680064),B!==null?w=Oo(B,w):(w=Ha(w,I,d,null),w.flags|=2),w.return=l,m.return=l,m.sibling=w,l.child=m,m=w,w=l.child,I=o.child.memoizedState,I=I===null?a0(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},w.memoizedState=I,w.childLanes=o.childLanes&~d,l.memoizedState=o0,m}return w=o.child,o=w.sibling,m=Oo(w,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=m,l.memoizedState=null,m}function l0(o,l){return l=tm({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function zp(o,l,d,m){return m!==null&&Mv(m),Iu(l,o.child,null,d),o=l0(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function D3(o,l,d,m,y,w,I){if(d)return l.flags&256?(l.flags&=-257,m=n0(Error(n(422))),zp(o,l,I,m)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(w=m.fallback,y=l.mode,m=tm({mode:"visible",children:m.children},y,0,null),w=Ha(w,y,I,null),w.flags|=2,m.return=l,w.return=l,m.sibling=w,l.child=m,(l.mode&1)!==0&&Iu(l,o.child,null,I),l.child.memoizedState=a0(I),l.memoizedState=o0,w);if((l.mode&1)===0)return zp(o,l,I,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var B=m.dgst;return m=B,w=Error(n(419)),m=n0(w,m,void 0),zp(o,l,I,m)}if(B=(I&o.childLanes)!==0,sr||B){if(m=bn,m!==null){switch(I&-I){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|I))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,Di(o,y),ds(m,o,y,-1))}return k0(),m=n0(Error(n(421))),zp(o,l,I,m)}return y.data==="$?"?(l.flags|=128,l.child=o.child,l=U3.bind(null,o),y._reactRetry=l,null):(o=w.treeContext,Cr=So(y.nextSibling),xr=l,bt=!0,as=null,o!==null&&(Or[Lr++]=Ti,Or[Lr++]=_i,Or[Lr++]=Va,Ti=o.id,_i=o.overflow,Va=l),l=l0(l,m.children),l.flags|=4096,l)}function wE(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),Vv(o.return,l,d)}function u0(o,l,d,m,y){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=d,w.tailMode=y)}function bE(o,l,d){var m=l.pendingProps,y=m.revealOrder,w=m.tail;if($n(o,l,m.children,d),m=Et.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wE(o,d,l);else if(o.tag===19)wE(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(ht(Et,m),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)o=d.alternate,o!==null&&Mp(o)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),u0(l,!1,y,d,w);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(o=y.alternate,o!==null&&Mp(o)===null){l.child=y;break}o=y.sibling,y.sibling=d,d=y,y=o}u0(l,!0,d,null,w);break;case"together":u0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function qp(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Ni(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Ka|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,d=Oo(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Oo(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function I3(o,l,d){switch(l.tag){case 3:gE(l),Du();break;case 5:jk(l);break;case 1:rr(l.type)&&Sp(l);break;case 4:zv(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,y=l.memoizedProps.value;ht(Pp,m._currentValue),m._currentValue=y;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(ht(Et,Et.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?vE(o,l,d):(ht(Et,Et.current&1),o=Ni(o,l,d),o!==null?o.sibling:null);ht(Et,Et.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(o.flags&128)!==0){if(m)return bE(o,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ht(Et,Et.current),m)break;return null;case 22:case 23:return l.lanes=0,fE(o,l,d)}return Ni(o,l,d)}var xE,c0,CE,kE;xE=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},c0=function(){},CE=function(o,l,d,m){var y=o.memoizedProps;if(y!==m){o=l.stateNode,za(Fs.current);var w=null;switch(d){case"input":y=io(o,y),m=io(o,m),w=[];break;case"select":y=oe({},y,{value:void 0}),m=oe({},m,{value:void 0}),w=[];break;case"textarea":y=td(o,y),m=td(o,m),w=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=Cp)}rs(d,m);var I;d=null;for(Z in y)if(!m.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var B=y[Z];for(I in B)B.hasOwnProperty(I)&&(d||(d={}),d[I]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in m){var U=m[Z];if(B=y!=null?y[Z]:void 0,m.hasOwnProperty(Z)&&U!==B&&(U!=null||B!=null))if(Z==="style")if(B){for(I in B)!B.hasOwnProperty(I)||U&&U.hasOwnProperty(I)||(d||(d={}),d[I]="");for(I in U)U.hasOwnProperty(I)&&B[I]!==U[I]&&(d||(d={}),d[I]=U[I])}else d||(w||(w=[]),w.push(Z,d)),d=U;else Z==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,B=B?B.__html:void 0,U!=null&&B!==U&&(w=w||[]).push(Z,U)):Z==="children"?typeof U!="string"&&typeof U!="number"||(w=w||[]).push(Z,""+U):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(U!=null&&Z==="onScroll"&&yt("scroll",o),w||B===U||(w=[])):(w=w||[]).push(Z,U))}d&&(w=w||[]).push("style",d);var Z=w;(l.updateQueue=Z)&&(l.flags|=4)}},kE=function(o,l,d,m){d!==m&&(l.flags|=4)};function Ud(o,l){if(!bt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function On(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var y=o.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function N3(o,l,d){var m=l.pendingProps;switch(Av(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(l),null;case 1:return rr(l.type)&&Ep(),On(l),null;case 3:return m=l.stateNode,Au(),vt(nr),vt(jn),$v(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Ip(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,as!==null&&(b0(as),as=null))),c0(o,l),On(l),null;case 5:qv(l);var y=za(Od.current);if(d=l.type,o!==null&&l.stateNode!=null)CE(o,l,d,m,y),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return On(l),null}if(o=za(Fs.current),Ip(l)){m=l.stateNode,d=l.type;var w=l.memoizedProps;switch(m[Vs]=l,m[Pd]=w,o=(l.mode&1)!==0,d){case"dialog":yt("cancel",m),yt("close",m);break;case"iframe":case"object":case"embed":yt("load",m);break;case"video":case"audio":for(y=0;y<Dd.length;y++)yt(Dd[y],m);break;case"source":yt("error",m);break;case"img":case"image":case"link":yt("error",m),yt("load",m);break;case"details":yt("toggle",m);break;case"input":Jl(m,w),yt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},yt("invalid",m);break;case"textarea":nd(m,w),yt("invalid",m)}rs(d,w),y=null;for(var I in w)if(w.hasOwnProperty(I)){var B=w[I];I==="children"?typeof B=="string"?m.textContent!==B&&(w.suppressHydrationWarning!==!0&&xp(m.textContent,B,o),y=["children",B]):typeof B=="number"&&m.textContent!==""+B&&(w.suppressHydrationWarning!==!0&&xp(m.textContent,B,o),y=["children",""+B]):s.hasOwnProperty(I)&&B!=null&&I==="onScroll"&&yt("scroll",m)}switch(d){case"input":Ar(m),Ca(m,w,!0);break;case"textarea":Ar(m),ao(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=Cp)}m=y,l.updateQueue=m,m!==null&&(l.flags|=4)}else{I=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=rd(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=I.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=I.createElement(d,{is:m.is}):(o=I.createElement(d),d==="select"&&(I=o,m.multiple?I.multiple=!0:m.size&&(I.size=m.size))):o=I.createElementNS(o,d),o[Vs]=l,o[Pd]=m,xE(o,l,!1,!1),l.stateNode=o;e:{switch(I=tu(d,m),d){case"dialog":yt("cancel",o),yt("close",o),y=m;break;case"iframe":case"object":case"embed":yt("load",o),y=m;break;case"video":case"audio":for(y=0;y<Dd.length;y++)yt(Dd[y],o);y=m;break;case"source":yt("error",o),y=m;break;case"img":case"image":case"link":yt("error",o),yt("load",o),y=m;break;case"details":yt("toggle",o),y=m;break;case"input":Jl(o,m),y=io(o,m),yt("invalid",o);break;case"option":y=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},y=oe({},m,{value:void 0}),yt("invalid",o);break;case"textarea":nd(o,m),y=td(o,m),yt("invalid",o);break;default:y=m}rs(d,y),B=y;for(w in B)if(B.hasOwnProperty(w)){var U=B[w];w==="style"?eu(o,U):w==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Qf(o,U)):w==="children"?typeof U=="string"?(d!=="textarea"||U!=="")&&ka(o,U):typeof U=="number"&&ka(o,""+U):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?U!=null&&w==="onScroll"&&yt("scroll",o):U!=null&&M(o,w,U,I))}switch(d){case"input":Ar(o),Ca(o,m,!1);break;case"textarea":Ar(o),ao(o);break;case"option":m.value!=null&&o.setAttribute("value",""+qe(m.value));break;case"select":o.multiple=!!m.multiple,w=m.value,w!=null?ns(o,!!m.multiple,w,!1):m.defaultValue!=null&&ns(o,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=Cp)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return On(l),null;case 6:if(o&&l.stateNode!=null)kE(o,l,o.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(d=za(Od.current),za(Fs.current),Ip(l)){if(m=l.stateNode,d=l.memoizedProps,m[Vs]=l,(w=m.nodeValue!==d)&&(o=xr,o!==null))switch(o.tag){case 3:xp(m.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&xp(m.nodeValue,d,(o.mode&1)!==0)}w&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Vs]=l,l.stateNode=m}return On(l),null;case 13:if(vt(Et),m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(bt&&Cr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Tk(),Du(),l.flags|=98560,w=!1;else if(w=Ip(l),m!==null&&m.dehydrated!==null){if(o===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Vs]=l}else Du(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;On(l),w=!1}else as!==null&&(b0(as),as=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Et.current&1)!==0?pn===0&&(pn=3):k0())),l.updateQueue!==null&&(l.flags|=4),On(l),null);case 4:return Au(),c0(o,l),o===null&&Id(l.stateNode.containerInfo),On(l),null;case 10:return Bv(l.type._context),On(l),null;case 17:return rr(l.type)&&Ep(),On(l),null;case 19:if(vt(Et),w=l.memoizedState,w===null)return On(l),null;if(m=(l.flags&128)!==0,I=w.rendering,I===null)if(m)Ud(w,!1);else{if(pn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(I=Mp(o),I!==null){for(l.flags|=128,Ud(w,!1),m=I.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)w=d,o=m,w.flags&=14680066,I=w.alternate,I===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=I.childLanes,w.lanes=I.lanes,w.child=I.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=I.memoizedProps,w.memoizedState=I.memoizedState,w.updateQueue=I.updateQueue,w.type=I.type,o=I.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return ht(Et,Et.current&1|2),l.child}o=o.sibling}w.tail!==null&&gt()>Ou&&(l.flags|=128,m=!0,Ud(w,!1),l.lanes=4194304)}else{if(!m)if(o=Mp(I),o!==null){if(l.flags|=128,m=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Ud(w,!0),w.tail===null&&w.tailMode==="hidden"&&!I.alternate&&!bt)return On(l),null}else 2*gt()-w.renderingStartTime>Ou&&d!==1073741824&&(l.flags|=128,m=!0,Ud(w,!1),l.lanes=4194304);w.isBackwards?(I.sibling=l.child,l.child=I):(d=w.last,d!==null?d.sibling=I:l.child=I,w.last=I)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=gt(),l.sibling=null,d=Et.current,ht(Et,m?d&1|2:d&1),l):(On(l),null);case 22:case 23:return C0(),m=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(kr&1073741824)!==0&&(On(l),l.subtreeFlags&6&&(l.flags|=8192)):On(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function P3(o,l){switch(Av(l),l.tag){case 1:return rr(l.type)&&Ep(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Au(),vt(nr),vt(jn),$v(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return qv(l),null;case 13:if(vt(Et),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Du()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return vt(Et),null;case 4:return Au(),null;case 10:return Bv(l.type._context),null;case 22:case 23:return C0(),null;case 24:return null;default:return null}}var Kp=!1,Ln=!1,A3=typeof WeakSet=="function"?WeakSet:Set,we=null;function ju(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Pt(o,l,m)}else d.current=null}function EE(o,l,d){try{d()}catch(m){Pt(o,l,m)}}var SE=!1;function R3(o,l){if(kv=Ci,o=nk(),mv(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var I=0,B=-1,U=-1,Z=0,ie=0,ae=o,se=null;t:for(;;){for(var fe;ae!==d||y!==0&&ae.nodeType!==3||(B=I+y),ae!==w||m!==0&&ae.nodeType!==3||(U=I+m),ae.nodeType===3&&(I+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)se=ae,ae=fe;for(;;){if(ae===o)break t;if(se===d&&++Z===y&&(B=I),se===w&&++ie===m&&(U=I),(fe=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=fe}d=B===-1||U===-1?null:{start:B,end:U}}else d=null}d=d||{start:0,end:0}}else d=null;for(Ev={focusedElem:o,selectionRange:d},Ci=!1,we=l;we!==null;)if(l=we,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,we=o;else for(;we!==null;){l=we;try{var be=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Se=be.memoizedProps,tn=be.memoizedState,Y=l.stateNode,$=Y.getSnapshotBeforeUpdate(l.elementType===l.type?Se:ls(l.type,Se),tn);Y.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Pt(l,l.return,ue)}if(o=l.sibling,o!==null){o.return=l.return,we=o;break}we=l.return}return be=SE,SE=!1,be}function zd(o,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&o)===o){var w=y.destroy;y.destroy=void 0,w!==void 0&&EE(l,d,w)}y=y.next}while(y!==m)}}function $p(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function d0(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function TE(o){var l=o.alternate;l!==null&&(o.alternate=null,TE(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Vs],delete l[Pd],delete l[Dv],delete l[m3],delete l[g3])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function _E(o){return o.tag===5||o.tag===3||o.tag===4}function DE(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||_E(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function h0(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Cp));else if(m!==4&&(o=o.child,o!==null))for(h0(o,l,d),o=o.sibling;o!==null;)h0(o,l,d),o=o.sibling}function f0(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(f0(o,l,d),o=o.sibling;o!==null;)f0(o,l,d),o=o.sibling}var Tn=null,us=!1;function Po(o,l,d){for(d=d.child;d!==null;)IE(o,l,d),d=d.sibling}function IE(o,l,d){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(Da,d)}catch{}switch(d.tag){case 5:Ln||ju(d,l);case 6:var m=Tn,y=us;Tn=null,Po(o,l,d),Tn=m,us=y,Tn!==null&&(us?(o=Tn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):Tn.removeChild(d.stateNode));break;case 18:Tn!==null&&(us?(o=Tn,d=d.stateNode,o.nodeType===8?_v(o.parentNode,d):o.nodeType===1&&_v(o,d),bo(o)):_v(Tn,d.stateNode));break;case 4:m=Tn,y=us,Tn=d.stateNode.containerInfo,us=!0,Po(o,l,d),Tn=m,us=y;break;case 0:case 11:case 14:case 15:if(!Ln&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var w=y,I=w.destroy;w=w.tag,I!==void 0&&((w&2)!==0||(w&4)!==0)&&EE(d,l,I),y=y.next}while(y!==m)}Po(o,l,d);break;case 1:if(!Ln&&(ju(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(B){Pt(d,l,B)}Po(o,l,d);break;case 21:Po(o,l,d);break;case 22:d.mode&1?(Ln=(m=Ln)||d.memoizedState!==null,Po(o,l,d),Ln=m):Po(o,l,d);break;default:Po(o,l,d)}}function NE(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new A3),l.forEach(function(m){var y=z3.bind(null,o,m);d.has(m)||(d.add(m),m.then(y,y))})}}function cs(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];try{var w=o,I=l,B=I;e:for(;B!==null;){switch(B.tag){case 5:Tn=B.stateNode,us=!1;break e;case 3:Tn=B.stateNode.containerInfo,us=!0;break e;case 4:Tn=B.stateNode.containerInfo,us=!0;break e}B=B.return}if(Tn===null)throw Error(n(160));IE(w,I,y),Tn=null,us=!1;var U=y.alternate;U!==null&&(U.return=null),y.return=null}catch(Z){Pt(y,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)PE(l,o),l=l.sibling}function PE(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(cs(l,o),zs(o),m&4){try{zd(3,o,o.return),$p(3,o)}catch(Se){Pt(o,o.return,Se)}try{zd(5,o,o.return)}catch(Se){Pt(o,o.return,Se)}}break;case 1:cs(l,o),zs(o),m&512&&d!==null&&ju(d,d.return);break;case 5:if(cs(l,o),zs(o),m&512&&d!==null&&ju(d,d.return),o.flags&32){var y=o.stateNode;try{ka(y,"")}catch(Se){Pt(o,o.return,Se)}}if(m&4&&(y=o.stateNode,y!=null)){var w=o.memoizedProps,I=d!==null?d.memoizedProps:w,B=o.type,U=o.updateQueue;if(o.updateQueue=null,U!==null)try{B==="input"&&w.type==="radio"&&w.name!=null&&oo(y,w),tu(B,I);var Z=tu(B,w);for(I=0;I<U.length;I+=2){var ie=U[I],ae=U[I+1];ie==="style"?eu(y,ae):ie==="dangerouslySetInnerHTML"?Qf(y,ae):ie==="children"?ka(y,ae):M(y,ie,ae,Z)}switch(B){case"input":pi(y,w);break;case"textarea":Hf(y,w);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?ns(y,!!w.multiple,fe,!1):se!==!!w.multiple&&(w.defaultValue!=null?ns(y,!!w.multiple,w.defaultValue,!0):ns(y,!!w.multiple,w.multiple?[]:"",!1))}y[Pd]=w}catch(Se){Pt(o,o.return,Se)}}break;case 6:if(cs(l,o),zs(o),m&4){if(o.stateNode===null)throw Error(n(162));y=o.stateNode,w=o.memoizedProps;try{y.nodeValue=w}catch(Se){Pt(o,o.return,Se)}}break;case 3:if(cs(l,o),zs(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{bo(l.containerInfo)}catch(Se){Pt(o,o.return,Se)}break;case 4:cs(l,o),zs(o);break;case 13:cs(l,o),zs(o),y=o.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(g0=gt())),m&4&&NE(o);break;case 22:if(ie=d!==null&&d.memoizedState!==null,o.mode&1?(Ln=(Z=Ln)||ie,cs(l,o),Ln=Z):cs(l,o),zs(o),m&8192){if(Z=o.memoizedState!==null,(o.stateNode.isHidden=Z)&&!ie&&(o.mode&1)!==0)for(we=o,ie=o.child;ie!==null;){for(ae=we=ie;we!==null;){switch(se=we,fe=se.child,se.tag){case 0:case 11:case 14:case 15:zd(4,se,se.return);break;case 1:ju(se,se.return);var be=se.stateNode;if(typeof be.componentWillUnmount=="function"){m=se,d=se.return;try{l=m,be.props=l.memoizedProps,be.state=l.memoizedState,be.componentWillUnmount()}catch(Se){Pt(m,d,Se)}}break;case 5:ju(se,se.return);break;case 22:if(se.memoizedState!==null){jE(ae);continue}}fe!==null?(fe.return=se,we=fe):jE(ae)}ie=ie.sibling}e:for(ie=null,ae=o;;){if(ae.tag===5){if(ie===null){ie=ae;try{y=ae.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(B=ae.stateNode,U=ae.memoizedProps.style,I=U!=null&&U.hasOwnProperty("display")?U.display:null,B.style.display=co("display",I))}catch(Se){Pt(o,o.return,Se)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=Z?"":ae.memoizedProps}catch(Se){Pt(o,o.return,Se)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===o)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===o)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===o)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:cs(l,o),zs(o),m&4&&NE(o);break;case 21:break;default:cs(l,o),zs(o)}}function zs(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(_E(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(ka(y,""),m.flags&=-33);var w=DE(o);f0(o,w,y);break;case 3:case 4:var I=m.stateNode.containerInfo,B=DE(o);h0(o,B,I);break;default:throw Error(n(161))}}catch(U){Pt(o,o.return,U)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function j3(o,l,d){we=o,AE(o)}function AE(o,l,d){for(var m=(o.mode&1)!==0;we!==null;){var y=we,w=y.child;if(y.tag===22&&m){var I=y.memoizedState!==null||Kp;if(!I){var B=y.alternate,U=B!==null&&B.memoizedState!==null||Ln;B=Kp;var Z=Ln;if(Kp=I,(Ln=U)&&!Z)for(we=y;we!==null;)I=we,U=I.child,I.tag===22&&I.memoizedState!==null?ME(y):U!==null?(U.return=I,we=U):ME(y);for(;w!==null;)we=w,AE(w),w=w.sibling;we=y,Kp=B,Ln=Z}RE(o)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,we=w):RE(o)}}function RE(o){for(;we!==null;){var l=we;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Ln||$p(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!Ln)if(d===null)m.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:ls(l.type,d.memoizedProps);m.componentDidUpdate(y,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&Rk(l,w,m);break;case 3:var I=l.updateQueue;if(I!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}Rk(l,I,d)}break;case 5:var B=l.stateNode;if(d===null&&l.flags&4){d=B;var U=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&d.focus();break;case"img":U.src&&(d.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&bo(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ln||l.flags&512&&d0(l)}catch(se){Pt(l,l.return,se)}}if(l===o){we=null;break}if(d=l.sibling,d!==null){d.return=l.return,we=d;break}we=l.return}}function jE(o){for(;we!==null;){var l=we;if(l===o){we=null;break}var d=l.sibling;if(d!==null){d.return=l.return,we=d;break}we=l.return}}function ME(o){for(;we!==null;){var l=we;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{$p(4,l)}catch(U){Pt(l,d,U)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var y=l.return;try{m.componentDidMount()}catch(U){Pt(l,y,U)}}var w=l.return;try{d0(l)}catch(U){Pt(l,w,U)}break;case 5:var I=l.return;try{d0(l)}catch(U){Pt(l,I,U)}}}catch(U){Pt(l,l.return,U)}if(l===o){we=null;break}var B=l.sibling;if(B!==null){B.return=l.return,we=B;break}we=l.return}}var M3=Math.ceil,Wp=F.ReactCurrentDispatcher,p0=F.ReactCurrentOwner,Fr=F.ReactCurrentBatchConfig,tt=0,bn=null,ln=null,_n=0,kr=0,Mu=To(0),pn=0,qd=null,Ka=0,Gp=0,m0=0,Kd=null,ir=null,g0=0,Ou=1/0,Pi=null,Hp=!1,y0=null,Ao=null,Qp=!1,Ro=null,Yp=0,$d=0,v0=null,Xp=-1,Jp=0;function Wn(){return(tt&6)!==0?gt():Xp!==-1?Xp:Xp=gt()}function jo(o){return(o.mode&1)===0?1:(tt&2)!==0&&_n!==0?_n&-_n:v3.transition!==null?(Jp===0&&(Jp=hd()),Jp):(o=Qe,o!==0||(o=window.event,o=o===void 0?16:du(o.type)),o)}function ds(o,l,d,m){if(50<$d)throw $d=0,v0=null,Error(n(185));Aa(o,d,m),((tt&2)===0||o!==bn)&&(o===bn&&((tt&2)===0&&(Gp|=d),pn===4&&Mo(o,_n)),or(o,m),d===1&&tt===0&&(l.mode&1)===0&&(Ou=gt()+500,Tp&&Do()))}function or(o,l){var d=o.callbackNode;Pa(o,l);var m=wi(o,o===bn?_n:0);if(m===0)d!==null&&su(d),o.callbackNode=null,o.callbackPriority=0;else if(l=m&-m,o.callbackPriority!==l){if(d!=null&&su(d),l===1)o.tag===0?y3(LE.bind(null,o)):xk(LE.bind(null,o)),f3(function(){(tt&6)===0&&Do()}),d=null;else{switch(Is(m)){case 1:d=iu;break;case 4:d=ud;break;case 16:d=_a;break;case 536870912:d=ou;break;default:d=_a}d=$E(d,OE.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function OE(o,l){if(Xp=-1,Jp=0,(tt&6)!==0)throw Error(n(327));var d=o.callbackNode;if(Lu()&&o.callbackNode!==d)return null;var m=wi(o,o===bn?_n:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||l)l=Zp(o,m);else{l=m;var y=tt;tt|=2;var w=VE();(bn!==o||_n!==l)&&(Pi=null,Ou=gt()+500,Wa(o,l));do try{B3();break}catch(B){BE(o,B)}while(!0);Lv(),Wp.current=w,tt=y,ln!==null?l=0:(bn=null,_n=0,l=pn)}if(l!==0){if(l===2&&(y=dd(o),y!==0&&(m=y,l=w0(o,y))),l===1)throw d=qd,Wa(o,0),Mo(o,m),or(o,gt()),d;if(l===6)Mo(o,m);else{if(y=o.current.alternate,(m&30)===0&&!O3(y)&&(l=Zp(o,m),l===2&&(w=dd(o),w!==0&&(m=w,l=w0(o,w))),l===1))throw d=qd,Wa(o,0),Mo(o,m),or(o,gt()),d;switch(o.finishedWork=y,o.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:Ga(o,ir,Pi);break;case 3:if(Mo(o,m),(m&130023424)===m&&(l=g0+500-gt(),10<l)){if(wi(o,0)!==0)break;if(y=o.suspendedLanes,(y&m)!==m){Wn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=Tv(Ga.bind(null,o,ir,Pi),l);break}Ga(o,ir,Pi);break;case 4:if(Mo(o,m),(m&4194240)===m)break;for(l=o.eventTimes,y=-1;0<m;){var I=31-gr(m);w=1<<I,I=l[I],I>y&&(y=I),m&=~w}if(m=y,m=gt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*M3(m/1960))-m,10<m){o.timeoutHandle=Tv(Ga.bind(null,o,ir,Pi),m);break}Ga(o,ir,Pi);break;case 5:Ga(o,ir,Pi);break;default:throw Error(n(329))}}}return or(o,gt()),o.callbackNode===d?OE.bind(null,o):null}function w0(o,l){var d=Kd;return o.current.memoizedState.isDehydrated&&(Wa(o,l).flags|=256),o=Zp(o,l),o!==2&&(l=ir,ir=d,l!==null&&b0(l)),o}function b0(o){ir===null?ir=o:ir.push.apply(ir,o)}function O3(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var y=d[m],w=y.getSnapshot;y=y.value;try{if(!os(w(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Mo(o,l){for(l&=~m0,l&=~Gp,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-gr(l),m=1<<d;o[d]=-1,l&=~m}}function LE(o){if((tt&6)!==0)throw Error(n(327));Lu();var l=wi(o,0);if((l&1)===0)return or(o,gt()),null;var d=Zp(o,l);if(o.tag!==0&&d===2){var m=dd(o);m!==0&&(l=m,d=w0(o,m))}if(d===1)throw d=qd,Wa(o,0),Mo(o,l),or(o,gt()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Ga(o,ir,Pi),or(o,gt()),null}function x0(o,l){var d=tt;tt|=1;try{return o(l)}finally{tt=d,tt===0&&(Ou=gt()+500,Tp&&Do())}}function $a(o){Ro!==null&&Ro.tag===0&&(tt&6)===0&&Lu();var l=tt;tt|=1;var d=Fr.transition,m=Qe;try{if(Fr.transition=null,Qe=1,o)return o()}finally{Qe=m,Fr.transition=d,tt=l,(tt&6)===0&&Do()}}function C0(){kr=Mu.current,vt(Mu)}function Wa(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,h3(d)),ln!==null)for(d=ln.return;d!==null;){var m=d;switch(Av(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Ep();break;case 3:Au(),vt(nr),vt(jn),$v();break;case 5:qv(m);break;case 4:Au();break;case 13:vt(Et);break;case 19:vt(Et);break;case 10:Bv(m.type._context);break;case 22:case 23:C0()}d=d.return}if(bn=o,ln=o=Oo(o.current,null),_n=kr=l,pn=0,qd=null,m0=Gp=Ka=0,ir=Kd=null,Ua!==null){for(l=0;l<Ua.length;l++)if(d=Ua[l],m=d.interleaved,m!==null){d.interleaved=null;var y=m.next,w=d.pending;if(w!==null){var I=w.next;w.next=y,m.next=I}d.pending=m}Ua=null}return o}function BE(o,l){do{var d=ln;try{if(Lv(),Op.current=Fp,Lp){for(var m=St.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Lp=!1}if(qa=0,wn=fn=St=null,Ld=!1,Bd=0,p0.current=null,d===null||d.return===null){pn=1,qd=l,ln=null;break}e:{var w=o,I=d.return,B=d,U=l;if(l=_n,B.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Z=U,ie=B,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=lE(I);if(fe!==null){fe.flags&=-257,uE(fe,I,B,w,l),fe.mode&1&&aE(w,Z,l),l=fe,U=Z;var be=l.updateQueue;if(be===null){var Se=new Set;Se.add(U),l.updateQueue=Se}else be.add(U);break e}else{if((l&1)===0){aE(w,Z,l),k0();break e}U=Error(n(426))}}else if(bt&&B.mode&1){var tn=lE(I);if(tn!==null){(tn.flags&65536)===0&&(tn.flags|=256),uE(tn,I,B,w,l),Mv(Ru(U,B));break e}}w=U=Ru(U,B),pn!==4&&(pn=2),Kd===null?Kd=[w]:Kd.push(w),w=I;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var Y=iE(w,U,l);Ak(w,Y);break e;case 1:B=U;var $=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Ao===null||!Ao.has(J)))){w.flags|=65536,l&=-l,w.lanes|=l;var ue=oE(w,B,l);Ak(w,ue);break e}}w=w.return}while(w!==null)}UE(d)}catch(Te){l=Te,ln===d&&d!==null&&(ln=d=d.return);continue}break}while(!0)}function VE(){var o=Wp.current;return Wp.current=Fp,o===null?Fp:o}function k0(){(pn===0||pn===3||pn===2)&&(pn=4),bn===null||(Ka&268435455)===0&&(Gp&268435455)===0||Mo(bn,_n)}function Zp(o,l){var d=tt;tt|=2;var m=VE();(bn!==o||_n!==l)&&(Pi=null,Wa(o,l));do try{L3();break}catch(y){BE(o,y)}while(!0);if(Lv(),tt=d,Wp.current=m,ln!==null)throw Error(n(261));return bn=null,_n=0,pn}function L3(){for(;ln!==null;)FE(ln)}function B3(){for(;ln!==null&&!Ta();)FE(ln)}function FE(o){var l=KE(o.alternate,o,kr);o.memoizedProps=o.pendingProps,l===null?UE(o):ln=l,p0.current=null}function UE(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=N3(d,l,kr),d!==null){ln=d;return}}else{if(d=P3(d,l),d!==null){d.flags&=32767,ln=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{pn=6,ln=null;return}}if(l=l.sibling,l!==null){ln=l;return}ln=l=o}while(l!==null);pn===0&&(pn=5)}function Ga(o,l,d){var m=Qe,y=Fr.transition;try{Fr.transition=null,Qe=1,V3(o,l,d,m)}finally{Fr.transition=y,Qe=m}return null}function V3(o,l,d,m){do Lu();while(Ro!==null);if((tt&6)!==0)throw Error(n(327));d=o.finishedWork;var y=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var w=d.lanes|d.childLanes;if(cv(o,w),o===bn&&(ln=bn=null,_n=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Qp||(Qp=!0,$E(_a,function(){return Lu(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=Fr.transition,Fr.transition=null;var I=Qe;Qe=1;var B=tt;tt|=4,p0.current=null,R3(o,d),PE(d,o),i3(Ev),Ci=!!kv,Ev=kv=null,o.current=d,j3(d),vi(),tt=B,Qe=I,Fr.transition=w}else o.current=d;if(Qp&&(Qp=!1,Ro=o,Yp=y),w=o.pendingLanes,w===0&&(Ao=null),op(d.stateNode),or(o,gt()),l!==null)for(m=o.onRecoverableError,d=0;d<l.length;d++)y=l[d],m(y.value,{componentStack:y.stack,digest:y.digest});if(Hp)throw Hp=!1,o=y0,y0=null,o;return(Yp&1)!==0&&o.tag!==0&&Lu(),w=o.pendingLanes,(w&1)!==0?o===v0?$d++:($d=0,v0=o):$d=0,Do(),null}function Lu(){if(Ro!==null){var o=Is(Yp),l=Fr.transition,d=Qe;try{if(Fr.transition=null,Qe=16>o?16:o,Ro===null)var m=!1;else{if(o=Ro,Ro=null,Yp=0,(tt&6)!==0)throw Error(n(331));var y=tt;for(tt|=4,we=o.current;we!==null;){var w=we,I=w.child;if((we.flags&16)!==0){var B=w.deletions;if(B!==null){for(var U=0;U<B.length;U++){var Z=B[U];for(we=Z;we!==null;){var ie=we;switch(ie.tag){case 0:case 11:case 15:zd(8,ie,w)}var ae=ie.child;if(ae!==null)ae.return=ie,we=ae;else for(;we!==null;){ie=we;var se=ie.sibling,fe=ie.return;if(TE(ie),ie===Z){we=null;break}if(se!==null){se.return=fe,we=se;break}we=fe}}}var be=w.alternate;if(be!==null){var Se=be.child;if(Se!==null){be.child=null;do{var tn=Se.sibling;Se.sibling=null,Se=tn}while(Se!==null)}}we=w}}if((w.subtreeFlags&2064)!==0&&I!==null)I.return=w,we=I;else e:for(;we!==null;){if(w=we,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:zd(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,we=Y;break e}we=w.return}}var $=o.current;for(we=$;we!==null;){I=we;var J=I.child;if((I.subtreeFlags&2064)!==0&&J!==null)J.return=I,we=J;else e:for(I=$;we!==null;){if(B=we,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:$p(9,B)}}catch(Te){Pt(B,B.return,Te)}if(B===I){we=null;break e}var ue=B.sibling;if(ue!==null){ue.return=B.return,we=ue;break e}we=B.return}}if(tt=y,Do(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(Da,o)}catch{}m=!0}return m}finally{Qe=d,Fr.transition=l}}return!1}function zE(o,l,d){l=Ru(d,l),l=iE(o,l,1),o=No(o,l,1),l=Wn(),o!==null&&(Aa(o,1,l),or(o,l))}function Pt(o,l,d){if(o.tag===3)zE(o,o,d);else for(;l!==null;){if(l.tag===3){zE(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ao===null||!Ao.has(m))){o=Ru(d,o),o=oE(l,o,1),l=No(l,o,1),o=Wn(),l!==null&&(Aa(l,1,o),or(l,o));break}}l=l.return}}function F3(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),l=Wn(),o.pingedLanes|=o.suspendedLanes&d,bn===o&&(_n&d)===d&&(pn===4||pn===3&&(_n&130023424)===_n&&500>gt()-g0?Wa(o,0):m0|=d),or(o,l)}function qE(o,l){l===0&&((o.mode&1)===0?l=1:(l=yo,yo<<=1,(yo&130023424)===0&&(yo=4194304)));var d=Wn();o=Di(o,l),o!==null&&(Aa(o,l,d),or(o,d))}function U3(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),qE(o,d)}function z3(o,l){var d=0;switch(o.tag){case 13:var m=o.stateNode,y=o.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),qE(o,d)}var KE;KE=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||nr.current)sr=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return sr=!1,I3(o,l,d);sr=(o.flags&131072)!==0}else sr=!1,bt&&(l.flags&1048576)!==0&&Ck(l,Dp,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;qp(o,l),o=l.pendingProps;var y=Su(l,jn.current);Pu(l,d),y=Hv(null,l,m,o,y,d);var w=Qv();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,rr(m)?(w=!0,Sp(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Uv(l),y.updater=Up,l.stateNode=y,y._reactInternals=l,t0(l,m,o,d),l=i0(null,l,m,!0,w,d)):(l.tag=0,bt&&w&&Pv(l),$n(null,l,y,d),l=l.child),l;case 16:m=l.elementType;e:{switch(qp(o,l),o=l.pendingProps,y=m._init,m=y(m._payload),l.type=m,y=l.tag=K3(m),o=ls(m,o),y){case 0:l=s0(null,l,m,o,d);break e;case 1:l=mE(null,l,m,o,d);break e;case 11:l=cE(null,l,m,o,d);break e;case 14:l=dE(null,l,m,ls(m.type,o),d);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:ls(m,y),s0(o,l,m,y,d);case 1:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:ls(m,y),mE(o,l,m,y,d);case 3:e:{if(gE(l),o===null)throw Error(n(387));m=l.pendingProps,w=l.memoizedState,y=w.element,Pk(o,l),jp(l,m,null,d);var I=l.memoizedState;if(m=I.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){y=Ru(Error(n(423)),l),l=yE(o,l,m,d,y);break e}else if(m!==y){y=Ru(Error(n(424)),l),l=yE(o,l,m,d,y);break e}else for(Cr=So(l.stateNode.containerInfo.firstChild),xr=l,bt=!0,as=null,d=Ik(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Du(),m===y){l=Ni(o,l,d);break e}$n(o,l,m,d)}l=l.child}return l;case 5:return jk(l),o===null&&jv(l),m=l.type,y=l.pendingProps,w=o!==null?o.memoizedProps:null,I=y.children,Sv(m,y)?I=null:w!==null&&Sv(m,w)&&(l.flags|=32),pE(o,l),$n(o,l,I,d),l.child;case 6:return o===null&&jv(l),null;case 13:return vE(o,l,d);case 4:return zv(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=Iu(l,null,m,d):$n(o,l,m,d),l.child;case 11:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:ls(m,y),cE(o,l,m,y,d);case 7:return $n(o,l,l.pendingProps,d),l.child;case 8:return $n(o,l,l.pendingProps.children,d),l.child;case 12:return $n(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,y=l.pendingProps,w=l.memoizedProps,I=y.value,ht(Pp,m._currentValue),m._currentValue=I,w!==null)if(os(w.value,I)){if(w.children===y.children&&!nr.current){l=Ni(o,l,d);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var B=w.dependencies;if(B!==null){I=w.child;for(var U=B.firstContext;U!==null;){if(U.context===m){if(w.tag===1){U=Ii(-1,d&-d),U.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?U.next=U:(U.next=ie.next,ie.next=U),Z.pending=U}}w.lanes|=d,U=w.alternate,U!==null&&(U.lanes|=d),Vv(w.return,d,l),B.lanes|=d;break}U=U.next}}else if(w.tag===10)I=w.type===l.type?null:w.child;else if(w.tag===18){if(I=w.return,I===null)throw Error(n(341));I.lanes|=d,B=I.alternate,B!==null&&(B.lanes|=d),Vv(I,d,l),I=w.sibling}else I=w.child;if(I!==null)I.return=w;else for(I=w;I!==null;){if(I===l){I=null;break}if(w=I.sibling,w!==null){w.return=I.return,I=w;break}I=I.return}w=I}$n(o,l,y.children,d),l=l.child}return l;case 9:return y=l.type,m=l.pendingProps.children,Pu(l,d),y=Br(y),m=m(y),l.flags|=1,$n(o,l,m,d),l.child;case 14:return m=l.type,y=ls(m,l.pendingProps),y=ls(m.type,y),dE(o,l,m,y,d);case 15:return hE(o,l,l.type,l.pendingProps,d);case 17:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:ls(m,y),qp(o,l),l.tag=1,rr(m)?(o=!0,Sp(l)):o=!1,Pu(l,d),rE(l,m,y),t0(l,m,y,d),i0(null,l,m,!0,o,d);case 19:return bE(o,l,d);case 22:return fE(o,l,d)}throw Error(n(156,l.tag))};function $E(o,l){return ld(o,l)}function q3(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(o,l,d,m){return new q3(o,l,d,m)}function E0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function K3(o){if(typeof o=="function")return E0(o)?1:0;if(o!=null){if(o=o.$$typeof,o===q)return 11;if(o===Ae)return 14}return 2}function Oo(o,l){var d=o.alternate;return d===null?(d=Ur(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function em(o,l,d,m,y,w){var I=2;if(m=o,typeof o=="function")E0(o)&&(I=1);else if(typeof o=="string")I=5;else e:switch(o){case R:return Ha(d.children,y,w,l);case D:I=8,y|=8;break;case P:return o=Ur(12,d,l,y|2),o.elementType=P,o.lanes=w,o;case L:return o=Ur(13,d,l,y),o.elementType=L,o.lanes=w,o;case Ee:return o=Ur(19,d,l,y),o.elementType=Ee,o.lanes=w,o;case ve:return tm(d,y,w,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:I=10;break e;case V:I=9;break e;case q:I=11;break e;case Ae:I=14;break e;case ye:I=16,m=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=Ur(I,d,l,y),l.elementType=o,l.type=m,l.lanes=w,l}function Ha(o,l,d,m){return o=Ur(7,o,m,l),o.lanes=d,o}function tm(o,l,d,m){return o=Ur(22,o,m,l),o.elementType=ve,o.lanes=d,o.stateNode={isHidden:!1},o}function S0(o,l,d){return o=Ur(6,o,null,l),o.lanes=d,o}function T0(o,l,d){return l=Ur(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function $3(o,l,d,m,y){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fd(0),this.expirationTimes=fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fd(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function _0(o,l,d,m,y,w,I,B,U){return o=new $3(o,l,d,B,U),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Ur(3,null,null,l),o.current=w,w.stateNode=o,w.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uv(w),o}function W3(o,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:m==null?null:""+m,children:o,containerInfo:l,implementation:d}}function WE(o){if(!o)return _o;o=o._reactInternals;e:{if(ss(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(rr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(rr(d))return wk(o,d,l)}return l}function GE(o,l,d,m,y,w,I,B,U){return o=_0(d,m,!0,o,y,w,I,B,U),o.context=WE(null),d=o.current,m=Wn(),y=jo(d),w=Ii(m,y),w.callback=l??null,No(d,w,y),o.current.lanes=y,Aa(o,y,m),or(o,m),o}function nm(o,l,d,m){var y=l.current,w=Wn(),I=jo(y);return d=WE(d),l.context===null?l.context=d:l.pendingContext=d,l=Ii(w,I),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=No(y,l,I),o!==null&&(ds(o,y,I,w),Rp(o,y,I)),I}function rm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function HE(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function D0(o,l){HE(o,l),(o=o.alternate)&&HE(o,l)}function G3(){return null}var QE=typeof reportError=="function"?reportError:function(o){console.error(o)};function I0(o){this._internalRoot=o}sm.prototype.render=I0.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));nm(o,l,null,null)},sm.prototype.unmount=I0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;$a(function(){nm(null,o,null,null)}),l[Ei]=null}};function sm(o){this._internalRoot=o}sm.prototype.unstable_scheduleHydration=function(o){if(o){var l=yd();o={blockedOn:null,target:o,priority:l};for(var d=0;d<yr.length&&l!==0&&l<yr[d].priority;d++);yr.splice(d,0,o),d===0&&uu(o)}};function N0(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function im(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function YE(){}function H3(o,l,d,m,y){if(y){if(typeof m=="function"){var w=m;m=function(){var Z=rm(I);w.call(Z)}}var I=GE(l,m,o,0,null,!1,!1,"",YE);return o._reactRootContainer=I,o[Ei]=I.current,Id(o.nodeType===8?o.parentNode:o),$a(),I}for(;y=o.lastChild;)o.removeChild(y);if(typeof m=="function"){var B=m;m=function(){var Z=rm(U);B.call(Z)}}var U=_0(o,0,!1,null,null,!1,!1,"",YE);return o._reactRootContainer=U,o[Ei]=U.current,Id(o.nodeType===8?o.parentNode:o),$a(function(){nm(l,U,d,m)}),U}function om(o,l,d,m,y){var w=d._reactRootContainer;if(w){var I=w;if(typeof y=="function"){var B=y;y=function(){var U=rm(I);B.call(U)}}nm(l,I,o,y)}else I=H3(d,l,o,y,m);return rm(I)}md=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=it(l.pendingLanes);d!==0&&(pd(l,d|1),or(l,gt()),(tt&6)===0&&(Ou=gt()+500,Do()))}break;case 13:$a(function(){var m=Di(o,1);if(m!==null){var y=Wn();ds(m,o,1,y)}}),D0(o,1)}},au=function(o){if(o.tag===13){var l=Di(o,134217728);if(l!==null){var d=Wn();ds(l,o,134217728,d)}D0(o,134217728)}},gd=function(o){if(o.tag===13){var l=jo(o),d=Di(o,l);if(d!==null){var m=Wn();ds(d,o,l,m)}D0(o,l)}},yd=function(){return Qe},vd=function(o,l){var d=Qe;try{return Qe=o,l()}finally{Qe=d}},mi=function(o,l,d){switch(l){case"input":if(pi(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var y=kp(m);if(!y)throw Error(n(90));Rr(m),pi(m,y)}}}break;case"textarea":Hf(o,d);break;case"select":l=d.value,l!=null&&ns(o,!!d.multiple,l,!1)}},Xf=x0,Jf=$a;var Q3={usingClientEntryPoint:!1,Events:[Ad,ku,kp,fo,po,x0]},Wd={findFiberByHostInstance:La,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y3={bundleType:Wd.bundleType,version:Wd.version,rendererPackageName:Wd.rendererPackageName,rendererConfig:Wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=ip(o),o===null?null:o.stateNode},findFiberByHostInstance:Wd.findFiberByHostInstance||G3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var am=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!am.isDisabled&&am.supportsFiber)try{Da=am.inject(Y3),mr=am}catch{}}return ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q3,ar.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N0(l))throw Error(n(200));return W3(o,l,null,d)},ar.createRoot=function(o,l){if(!N0(o))throw Error(n(299));var d=!1,m="",y=QE;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=_0(o,1,!1,null,null,d,!1,m,y),o[Ei]=l.current,Id(o.nodeType===8?o.parentNode:o),new I0(l)},ar.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=ip(l),o=o===null?null:o.stateNode,o},ar.flushSync=function(o){return $a(o)},ar.hydrate=function(o,l,d){if(!im(l))throw Error(n(200));return om(null,o,l,!0,d)},ar.hydrateRoot=function(o,l,d){if(!N0(o))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,y=!1,w="",I=QE;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(I=d.onRecoverableError)),l=GE(l,null,o,1,d??null,y,!1,w,I),o[Ei]=l.current,Id(o),m)for(o=0;o<m.length;o++)d=m[o],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new sm(l)},ar.render=function(o,l,d){if(!im(l))throw Error(n(200));return om(null,o,l,!1,d)},ar.unmountComponentAtNode=function(o){if(!im(o))throw Error(n(40));return o._reactRootContainer?($a(function(){om(null,null,o,!1,function(){o._reactRootContainer=null,o[Ei]=null})}),!0):!1},ar.unstable_batchedUpdates=x0,ar.unstable_renderSubtreeIntoContainer=function(o,l,d,m){if(!im(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return om(o,l,d,!1,m)},ar.version="18.3.1-next-f1338f8080-20240426",ar}var yS;function pI(){if(yS)return P0.exports;yS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),P0.exports=CL(),P0.exports}var vS;function kL(){if(vS)return lm;vS=1;var t=pI();return lm.createRoot=t.createRoot,lm.hydrateRoot=t.hydrateRoot,lm}var EL=kL();const SL=g1(EL),TL="modulepreload",_L=function(t){return"/"+t},wS={},Jt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(c=>{if(c=_L(c),c in wS)return;wS[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":TL,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function bS({size:t="md",variant:e="circle",className:n=""}){const r={xs:{wrapper:"w-6 h-6",img:"w-5 h-5"},sm:{wrapper:"w-8 h-8",img:"w-6 h-6"},md:{wrapper:"w-12 h-12",img:"w-10 h-10"},lg:{wrapper:"w-20 h-20",img:"w-16 h-16"},xl:{wrapper:"w-32 h-32",img:"w-24 h-24"}},s=r[t]||r.md;return x.jsx("div",{className:`${e==="circle"?"bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full shadow-lg overflow-hidden flex items-center justify-center":""} ${s.wrapper} ${n}`.trim(),children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:`${s.img} object-contain ${e==="circle"?"transform -rotate-12":""}`,loading:"lazy"})})}const DL=()=>{};var xS={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},IL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],u=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},gI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,u=a?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,p=i>>2,g=(i&3)<<4|u>>4;let v=(u&15)<<2|h>>6,k=h&63;c||(k=64,a||(v=64)),r.push(n[p],n[g],n[v],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const c=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||c==null)throw new NL;const h=i<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),c!==64){const g=u<<6&192|c;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PL=function(t){const e=mI(t);return gI.encodeByteArray(e,!0)},pg=function(t){return PL(t).replace(/\./g,"")},yI=function(t){try{return gI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AL=()=>vI().__FIREBASE_DEFAULTS__,RL=()=>{if(typeof process>"u"||typeof xS>"u")return;const t=xS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yI(t[1]);return e&&JSON.parse(e)},ay=()=>{try{return DL()||AL()||RL()||jL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wI=t=>{var e,n;return(n=(e=ay())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},bI=t=>{const e=wI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xI=()=>{var t;return(t=ay())==null?void 0:t.config},CI=t=>{var e;return(e=ay())==null?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ML{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ql(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w1(t){return(await fetch(t,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[pg(JSON.stringify(n)),pg(JSON.stringify(a)),""].join(".")}const Th={};function OL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Th))Th[e]?t.emulator.push(e):t.prod.push(e);return t}function LL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let CS=!1;function b1(t,e){if(typeof window>"u"||typeof document>"u"||!ql(window.location.host)||Th[t]===e||Th[t]||CS)return;Th[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=OL().prod.length>0;function i(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{CS=!0,i()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=LL(r),v=n("text"),k=document.getElementById(v)||document.createElement("span"),_=n("learnmore"),S=document.getElementById(_)||document.createElement("a"),T=n("preprendIcon"),N=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const A=g.element;a(A),h(S,_);const M=c();u(N,T),A.append(N,k,S,M),document.body.appendChild(A)}s?(k.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function EI(){var t;const e=(t=ay())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function x1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UL(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SI(){return!EI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TI(){return!EI()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ly(){try{return typeof indexedDB=="object"}catch{return!1}}function C1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function _I(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zL="FirebaseError";class ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zL,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?qL(i,r):"Error",u=`${this.serviceName}: ${a} (${s}).`;return new ts(s,u,r)}}function qL(t,e){return t.replace(KL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const KL=/\{\$([^}]+)}/g;function $L(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function aa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(kS(i)&&kS(a)){if(!aa(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function kS(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function vh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WL(t,e){const n=new GL(t,e);return n.subscribe.bind(n)}class GL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=A0),s.error===void 0&&(s.error=A0),s.complete===void 0&&(s.complete=A0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function A0(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const QL=1e3,YL=2,XL=14400*1e3,JL=.5;function ES(t,e=QL,n=YL){const r=e*Math.pow(n,t),s=Math.round(JL*r*(Math.random()-.5)*2);return Math.min(XL,r+s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function It(t){return t&&t._delegate?t._delegate:t}class es{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ol="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ZL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ML;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t5(e))try{this.getOrInitializeService({instanceIdentifier:ol})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ol){return this.instances.has(e)}getOptions(e=ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ol){return this.component?this.component.multipleInstances?e:ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e5(t){return t===ol?void 0:t}function t5(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class n5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const r5={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},s5=Ge.INFO,i5={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},o5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=i5[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uy{constructor(e){this.name=e,this._logLevel=s5,this._logHandler=o5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const a5=(t,e)=>e.some(n=>t instanceof n);let SS,TS;function l5(){return SS||(SS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u5(){return TS||(TS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DI=new WeakMap,zw=new WeakMap,II=new WeakMap,R0=new WeakMap,k1=new WeakMap;function c5(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(ta(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&DI.set(n,t)}).catch(()=>{}),k1.set(e,t),e}function d5(t){if(zw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});zw.set(t,e)}let qw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||II.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function h5(t){qw=t(qw)}function f5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(j0(this),e,...n);return II.set(r,e.sort?e.sort():[e]),ta(r)}:u5().includes(t)?function(...e){return t.apply(j0(this),e),ta(DI.get(this))}:function(...e){return ta(t.apply(j0(this),e))}}function p5(t){return typeof t=="function"?f5(t):(t instanceof IDBTransaction&&d5(t),a5(t,l5())?new Proxy(t,qw):t)}function ta(t){if(t instanceof IDBRequest)return c5(t);if(R0.has(t))return R0.get(t);const e=p5(t);return e!==t&&(R0.set(t,e),k1.set(e,t)),e}const j0=t=>k1.get(t);function NI(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),u=ta(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ta(a.result),c.oldVersion,c.newVersion,ta(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const m5=["get","getKey","getAll","getAllKeys","count"],g5=["put","add","delete","clear"],M0=new Map;function _S(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(M0.get(e))return M0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=g5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||m5.includes(n)))return;const i=async function(a,...u){const c=this.transaction(a,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),s&&c.done]))[0]};return M0.set(e,i),i}h5(t=>({...t,get:(e,n,r)=>_S(e,n)||t.get(e,n,r),has:(e,n)=>!!_S(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class y5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(v5(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function v5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kw="@firebase/app",DS="0.14.5";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qi=new uy("@firebase/app"),w5="@firebase/app-compat",b5="@firebase/analytics-compat",x5="@firebase/analytics",C5="@firebase/app-check-compat",k5="@firebase/app-check",E5="@firebase/auth",S5="@firebase/auth-compat",T5="@firebase/database",_5="@firebase/data-connect",D5="@firebase/database-compat",I5="@firebase/functions",N5="@firebase/functions-compat",P5="@firebase/installations",A5="@firebase/installations-compat",R5="@firebase/messaging",j5="@firebase/messaging-compat",M5="@firebase/performance",O5="@firebase/performance-compat",L5="@firebase/remote-config",B5="@firebase/remote-config-compat",V5="@firebase/storage",F5="@firebase/storage-compat",U5="@firebase/firestore",z5="@firebase/ai",q5="@firebase/firestore-compat",K5="firebase",$5="12.5.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $w="[DEFAULT]",W5={[Kw]:"fire-core",[w5]:"fire-core-compat",[x5]:"fire-analytics",[b5]:"fire-analytics-compat",[k5]:"fire-app-check",[C5]:"fire-app-check-compat",[E5]:"fire-auth",[S5]:"fire-auth-compat",[T5]:"fire-rtdb",[_5]:"fire-data-connect",[D5]:"fire-rtdb-compat",[I5]:"fire-fn",[N5]:"fire-fn-compat",[P5]:"fire-iid",[A5]:"fire-iid-compat",[R5]:"fire-fcm",[j5]:"fire-fcm-compat",[M5]:"fire-perf",[O5]:"fire-perf-compat",[L5]:"fire-rc",[B5]:"fire-rc-compat",[V5]:"fire-gcs",[F5]:"fire-gcs-compat",[U5]:"fire-fst",[q5]:"fire-fst-compat",[z5]:"fire-vertex","fire-js":"fire-js",[K5]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mg=new Map,G5=new Map,Ww=new Map;function IS(t,e){try{t.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ys(t){const e=t.name;if(Ww.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Ww.set(e,t);for(const n of mg.values())IS(n,t);for(const n of G5.values())IS(n,t);return!0}function ya(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t==null?!1:t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const H5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new Kl("app","Firebase",H5);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $l=$5;function PI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:$w,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw na.create("bad-app-name",{appName:String(s)});if(n||(n=xI()),!n)throw na.create("no-options");const i=mg.get(s);if(i){if(aa(n,i.options)&&aa(r,i.config))return i;throw na.create("duplicate-app",{appName:s})}const a=new n5(s);for(const c of Ww.values())a.addComponent(c);const u=new Q5(n,r,a);return mg.set(s,u),u}function cy(t=$w){const e=mg.get(t);if(!e&&t===$w&&xI())return PI();if(!e)throw na.create("no-app",{appName:t});return e}function fr(t,e,n){let r=W5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(a.join(" "));return}ys(new es(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Y5="firebase-heartbeat-database",X5=1,zh="firebase-heartbeat-store";let O0=null;function AI(){return O0||(O0=NI(Y5,X5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zh)}catch(n){console.warn(n)}}}}).catch(t=>{throw na.create("idb-open",{originalErrorMessage:t.message})})),O0}async function J5(t){try{const e=(await AI()).transaction(zh),n=await e.objectStore(zh).get(RI(t));return await e.done,n}catch(e){if(e instanceof ts)qi.warn(e.message);else{const n=na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(n.message)}}}async function NS(t,e){try{const n=(await AI()).transaction(zh,"readwrite");await n.objectStore(zh).put(e,RI(t)),await n.done}catch(n){if(n instanceof ts)qi.warn(n.message);else{const r=na.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(r.message)}}}function RI(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Z5=1024,e6=30;class t6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>e6){const i=s6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PS(),{heartbeatsToSend:r,unsentEntries:s}=n6(this._heartbeatsCache.heartbeats),i=pg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return qi.warn(n),""}}}function PS(){return new Date().toISOString().substring(0,10)}function n6(t,e=Z5){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),AS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),AS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class r6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ly()?C1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await J5(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return NS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return NS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function AS(t){return pg(JSON.stringify({version:2,heartbeats:t})).length}function s6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function i6(t){ys(new es("platform-logger",e=>new y5(e),"PRIVATE")),ys(new es("heartbeat",e=>new t6(e),"PRIVATE")),fr(Kw,DS,t),fr(Kw,DS,"esm2020"),fr("fire-js","")}i6("");function jI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o6=jI,MI=new Kl("auth","Firebase",jI());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gg=new uy("@firebase/auth");function a6(t,...e){gg.logLevel<=Ge.WARN&&gg.warn(`Auth (${$l}): ${t}`,...e)}function Lm(t,...e){gg.logLevel<=Ge.ERROR&&gg.error(`Auth (${$l}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vs(t,...e){throw E1(t,...e)}function Ys(t,...e){return E1(t,...e)}function OI(t,e,n){const r={...o6(),[e]:n};return new Kl("auth","Firebase",r).create(e,{appName:t.name})}function Ui(t){return OI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function E1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MI.create(t,...e)}function Me(t,e,...n){if(!t)throw E1(e,...n)}function Li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lm(e),new Error(e)}function Ki(t,e){t||Li(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function l6(){return RS()==="http:"||RS()==="https:"}function RS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function u6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l6()||x1()||"connection"in navigator)?navigator.onLine:!0}function c6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=BL()||FL()}get(){return u6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function S1(t,e){Ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const h6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],f6=new bf(3e4,6e4);function Zi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function eo(t,e,n,r,s={}){return BI(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const u=wf({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:c,...i};return VL()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&ql(t.emulatorConfig.host)&&(h.credentials="include"),LI.fetch()(await VI(t,t.config.apiHost,n,u),h)})}async function BI(t,e,n){t._canInitEmulator=!1;const r={...d6,...e};try{const s=new m6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw um(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const u=i.ok?a.errorMessage:a.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw um(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw um(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw um(t,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw OI(t,p,h);vs(t,p)}}catch(s){if(s instanceof ts)throw s;vs(t,"network-request-failed",{message:String(s)})}}async function xf(t,e,n,r,s={}){const i=await eo(t,e,n,r,s);return"mfaPendingCredential"in i&&vs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function VI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?S1(t.config,s):`${t.config.apiScheme}://${s}`;return h6.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function p6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ys(this.auth,"network-request-failed")),f6.get())})}}function um(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ys(t,e,r);return s.customData._tokenResponse=n,s}function jS(t){return t!==void 0&&t.enterprise!==void 0}class g6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return p6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function y6(t,e){return eo(t,"GET","/v2/recaptchaConfig",Zi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function v6(t,e){return eo(t,"POST","/v1/accounts:delete",e)}async function yg(t,e){return eo(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w6(t,e=!1){const n=It(t),r=await n.getIdToken(e),s=T1(r);Me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:_h(L0(s.auth_time)),issuedAtTime:_h(L0(s.iat)),expirationTime:_h(L0(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function L0(t){return Number(t)*1e3}function T1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lm("JWT malformed, contained fewer than 3 sections"),null;try{const s=yI(n);return s?JSON.parse(s):(Lm("Failed to decode base64 JWT payload"),null)}catch(s){return Lm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function MS(t){const e=T1(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function qh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ts&&b6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function b6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class x6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_h(this.lastLoginAt),this.creationTime=_h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function vg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await qh(t,yg(n,{idToken:r}));Me(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=(e=i.providerUserInfo)!=null&&e.length?FI(i.providerUserInfo):[],u=k6(t.providerData,a),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(u!=null&&u.length),p=c?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Hw(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function C6(t){const e=It(t);await vg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k6(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function FI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function E6(t,e){const n=await BI(t,{},async()=>{const r=wf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await VI(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&ql(t.emulatorConfig.host)&&(c.credentials="include"),LI.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function S6(t,e){return eo(t,"POST","/v2/accounts:revokeToken",Zi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=MS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await E6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new mc;return r&&(Me(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Me(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Me(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mc,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Bo(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ms{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new x6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qh(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return w6(this,e)}reload(){return C6(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ms({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await qh(this,v6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:k,providerData:_,stsTokenManager:S}=n;Me(g&&S,e,"internal-error");const T=mc.fromJSON(this.name,S);Me(typeof g=="string",e,"internal-error"),Bo(r,e.name),Bo(s,e.name),Me(typeof v=="boolean",e,"internal-error"),Me(typeof k=="boolean",e,"internal-error"),Bo(i,e.name),Bo(a,e.name),Bo(u,e.name),Bo(c,e.name),Bo(h,e.name),Bo(p,e.name);const N=new ms({uid:g,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:k,photoURL:a,phoneNumber:i,tenantId:u,stsTokenManager:T,createdAt:h,lastLoginAt:p});return _&&Array.isArray(_)&&(N.providerData=_.map(A=>({...A}))),c&&(N._redirectEventId=c),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new mc;s.updateFromServerResponse(n);const i=new ms({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Me(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?FI(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new mc;u.updateFromIdToken(r);const c=new ms({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Hw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,h),c}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const OS=new Map;function Bi(t){Ki(t instanceof Function,"Expected a class definition");let e=OS.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OS.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UI.type="NONE";const LS=UI;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Bm(t,e,n){return`firebase:${t}:${e}:${n}`}class gc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Bm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Bm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yg(this.auth,{idToken:e}).catch(()=>{});return n?ms._fromGetAccountInfoResponse(this.auth,n,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gc(Bi(LS),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Bi(LS);const a=Bm(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(a);if(p){let g;if(typeof p=="string"){const v=await yg(e,{idToken:p}).catch(()=>{});if(!v)break;g=await ms._fromGetAccountInfoResponse(e,v,p)}else g=ms._fromJSON(e,p);h!==i&&(u=g),i=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new gc(i,e,r):(i=c[0],u&&await i._set(a,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(a)}catch{}})),new gc(i,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function BS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($I(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GI(e))return"Blackberry";if(HI(e))return"Webos";if(qI(e))return"Safari";if((e.includes("chrome/")||KI(e))&&!e.includes("edge/"))return"Chrome";if(WI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zI(t=yn()){return/firefox\//i.test(t)}function qI(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KI(t=yn()){return/crios\//i.test(t)}function $I(t=yn()){return/iemobile/i.test(t)}function WI(t=yn()){return/android/i.test(t)}function GI(t=yn()){return/blackberry/i.test(t)}function HI(t=yn()){return/webos/i.test(t)}function _1(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function T6(t=yn()){var e;return _1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function _6(){return UL()&&document.documentMode===10}function QI(t=yn()){return _1(t)||WI(t)||HI(t)||GI(t)||/windows phone/i.test(t)||$I(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function YI(t,e=[]){let n;switch(t){case"Browser":n=BS(yn());break;case"Worker":n=`${BS(yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$l}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class D6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,u)=>{try{const c=e(i);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function I6(t,e={}){return eo(t,"GET","/v2/passwordPolicy",Zi(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const N6=6;class P6{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??N6,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class A6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VS(this),this.idTokenSubscription=new VS(this),this.beforeStateQueue=new D6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await gc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yg(this,{idToken:e}),r=await ms._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_r(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)==null?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&c!=null&&c.user&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(Ui(this));const n=e?It(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I6(this),n=new P6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await S6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await gc.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(u,this,"internal-error"),u.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return n!=null&&n.error&&a6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function va(t){return It(t)}let VS=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=WL(e=>this.observer=e)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let dy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R6(t){dy=t}function XI(t){return dy.loadJS(t)}function j6(){return dy.recaptchaEnterpriseScript}function M6(){return dy.gapiScript}function O6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class L6{constructor(){this.enterprise=new B6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class B6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const V6="recaptcha-enterprise",JI="NO_RECAPTCHA";class F6{constructor(e){this.type=V6,this.auth=va(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,u)=>{y6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new g6(c);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,a(h.siteKey)}}).catch(c=>{u(c)})})}function s(i,a,u){const c=window.grecaptcha;jS(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(h=>{a(h)}).catch(()=>{a(JI)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new L6().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(u=>{if(!n&&jS(window.grecaptcha))s(u,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=j6();c.length!==0&&(c+=u),XI(c).then(()=>{s(u,i,a)}).catch(h=>{a(h)})}}).catch(u=>{a(u)})})}}async function FS(t,e,n,r=!1,s=!1){const i=new F6(t);let a;if(s)a=JI;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function wg(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await FS(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await FS(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function U6(t,e){const n=ya(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(aa(s,e??{}))return r;vs(r,"already-initialized")}return n.initialize({options:e})}function z6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function q6(t,e,n){const r=va(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=ZI(e),{host:a,port:u}=K6(e),c=u===null?"":`:${u}`,h={url:`${i}//${a}${c}/`},p=Object.freeze({host:a,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(aa(h,r.config.emulator)&&aa(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,ql(a)?(w1(`${i}//${a}${c}`),b1("Auth",!0)):$6()}function ZI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function K6(t){const e=ZI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:US(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:US(a)}}}function US(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class D1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Li("not implemented")}_getIdTokenResponse(e){return Li("not implemented")}_linkToIdToken(e,n){return Li("not implemented")}_getReauthenticationResolver(e){return Li("not implemented")}}async function W6(t,e){return eo(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function G6(t,e){return xf(t,"POST","/v1/accounts:signInWithPassword",Zi(t,e))}async function H6(t,e){return eo(t,"POST","/v1/accounts:sendOobCode",Zi(t,e))}async function Q6(t,e){return H6(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Y6(t,e){return xf(t,"POST","/v1/accounts:signInWithEmailLink",Zi(t,e))}async function X6(t,e){return xf(t,"POST","/v1/accounts:signInWithEmailLink",Zi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kh extends D1{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Kh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wg(e,n,"signInWithPassword",G6);case"emailLink":return Y6(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wg(e,r,"signUpPassword",W6);case"emailLink":return X6(e,{idToken:n,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function yc(t,e){return xf(t,"POST","/v1/accounts:signInWithIdp",Zi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const J6="http://localhost";class Dl extends D1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Dl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new Dl(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return yc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yc(e,n)}buildRequest(){const e={requestUri:J6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wf(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Z6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eB(t){const e=yh(vh(t)).link,n=e?yh(vh(e)).deep_link_id:null,r=yh(vh(t)).deep_link_id;return(r?yh(vh(r)).link:null)||r||n||e||t}class I1{constructor(e){const n=yh(vh(e)),r=n.apiKey??null,s=n.oobCode??null,i=Z6(n.mode??null);Me(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=eB(e);try{return new I1(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fc{constructor(){this.providerId=Fc.PROVIDER_ID}static credential(e,n){return Kh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=I1.parseLink(n);return Me(r,"argument-error"),Kh._fromEmailAndCode(e,r.code,r.tenantId)}}Fc.PROVIDER_ID="password";Fc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cf extends eN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qo extends Cf{constructor(){super("facebook.com")}static credential(e){return Dl._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qo.credential(e.oauthAccessToken)}catch{return null}}}Qo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qo.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yo extends Cf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Dl._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yo.credential(n,r)}catch{return null}}}Yo.GOOGLE_SIGN_IN_METHOD="google.com";Yo.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xo extends Cf{constructor(){super("github.com")}static credential(e){return Dl._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xo.credential(e.oauthAccessToken)}catch{return null}}}Xo.GITHUB_SIGN_IN_METHOD="github.com";Xo.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jo extends Cf{constructor(){super("twitter.com")}static credential(e,n){return Dl._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Jo.credential(n,r)}catch{return null}}}Jo.TWITTER_SIGN_IN_METHOD="twitter.com";Jo.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function tB(t,e){return xf(t,"POST","/v1/accounts:signUp",Zi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Il{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ms._fromIdTokenResponse(e,r,s),a=zS(r);return new Il({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=zS(r);return new Il({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function zS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bg extends ts{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,bg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new bg(e,n,r,s)}}function tN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bg._fromErrorAndOperation(t,s,e,r):s})}async function nB(t,e,n=!1){const r=await qh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Il._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function rB(t,e,n=!1){const{auth:r}=t;if(_r(r.app))return Promise.reject(Ui(r));const s="reauthenticate";try{const i=await qh(t,tN(r,s,e,t),n);Me(i.idToken,r,"internal-error");const a=T1(i.idToken);Me(a,r,"internal-error");const{sub:u}=a;return Me(t.uid===u,r,"user-mismatch"),Il._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function nN(t,e,n=!1){if(_r(t.app))return Promise.reject(Ui(t));const r="signIn",s=await tN(t,r,e),i=await Il._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function sB(t,e){return nN(va(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function rN(t){const e=va(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iB(t,e,n){const r=va(t);await wg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Q6)}async function oB(t,e,n){if(_r(t.app))return Promise.reject(Ui(t));const r=va(t),s=await wg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tB).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&rN(t),a}),i=await Il._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function aB(t,e,n){return _r(t.app)?Promise.reject(Ui(t)):sB(It(t),Fc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rN(t),r})}function lB(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function uB(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function cB(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}function dB(t){return It(t).signOut()}const xg="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xg,"1"),this.storage.removeItem(xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hB=1e3,fB=10;class iN extends sN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);_6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fB):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iN.type="LOCAL";const pB=iN;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oN extends sN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oN.type="SESSION";const aN=oN;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new hy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(a).map(async h=>h(n.origin,i)),c=await mB(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hy.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function N1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((u,c)=>{const h=N1("",20);s.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(v.data.response);break;default:clearTimeout(p),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xs(){return window}function yB(t){Xs().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lN(){return typeof Xs().WorkerGlobalScope<"u"&&typeof Xs().importScripts=="function"}async function vB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function bB(){return lN()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uN="firebaseLocalStorageDb",xB=1,Cg="firebaseLocalStorage",cN="fbase_key";class kf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fy(t,e){return t.transaction([Cg],e?"readwrite":"readonly").objectStore(Cg)}function CB(){const t=indexedDB.deleteDatabase(uN);return new kf(t).toPromise()}function Qw(){const t=indexedDB.open(uN,xB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cg,{keyPath:cN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cg)?e(r):(r.close(),await CB(),e(await Qw()))})})}async function qS(t,e,n){const r=fy(t,!0).put({[cN]:e,value:n});return new kf(r).toPromise()}async function kB(t,e){const n=fy(t,!1).get(e),r=await new kf(n).toPromise();return r===void 0?null:r.value}function KS(t,e){const n=fy(t,!0).delete(e);return new kf(n).toPromise()}const EB=800,SB=3;class dN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hy._getInstance(bB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vB(),!this.activeServiceWorker)return;this.sender=new gB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(e=r[0])!=null&&e.fulfilled&&(n=r[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qw();return await qS(e,xg,"1"),await KS(e,xg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=fy(s,!1).getAll();return new kf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dN.type="LOCAL";const TB=dN;new bf(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _B(t,e){return e?Bi(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class P1 extends D1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DB(t){return nN(t.auth,new P1(t),t.bypassAuthState)}function IB(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),rB(n,new P1(t),t.bypassAuthState)}async function NB(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),nB(n,new P1(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hN{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DB;case"linkViaPopup":case"linkViaRedirect":return NB;case"reauthViaPopup":case"reauthViaRedirect":return IB;default:vs(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const PB=new bf(2e3,1e4);class uc extends hN{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,uc.currentPopupAction&&uc.currentPopupAction.cancel(),uc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=N1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PB.get())};e()}}uc.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AB="pendingRedirect",Vm=new Map;class RB extends hN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vm.get(this.auth._key());if(!e){try{const n=await jB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Vm.set(this.auth._key(),e)}return this.bypassAuthState||Vm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jB(t,e){const n=LB(e),r=OB(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function MB(t,e){Vm.set(t._key(),e)}function OB(t){return Bi(t._redirectPersistence)}function LB(t){return Bm(AB,t.config.apiKey,t.name)}async function BB(t,e,n=!1){if(_r(t.app))return Promise.reject(Ui(t));const r=va(t),s=_B(r,e),i=await new RB(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const VB=600*1e3;class FB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fN(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ys(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VB&&this.cachedEventUids.clear(),this.cachedEventUids.has($S(e))}saveEventToCache(e){this.cachedEventUids.add($S(e)),this.lastProcessedEventTime=Date.now()}}function $S(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fN(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function zB(t,e={}){return eo(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KB=/^https?/;async function $B(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zB(t);for(const n of e)try{if(WB(n))return}catch{}vs(t,"unauthorized-domain")}function WB(t){const e=Gw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!KB.test(n))return!1;if(qB.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GB=new bf(3e4,6e4);function WS(){const t=Xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HB(t){return new Promise((e,n)=>{var r,s,i;function a(){WS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WS(),n(Ys(t,"network-request-failed"))},timeout:GB.get()})}if((s=(r=Xs().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((i=Xs().gapi)!=null&&i.load)a();else{const u=O6("iframefcb");return Xs()[u]=()=>{gapi.load?a():n(Ys(t,"network-request-failed"))},XI(`${M6()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Fm=null,e})}let Fm=null;function QB(t){return Fm=Fm||HB(t),Fm}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const YB=new bf(5e3,15e3),XB="__/auth/iframe",JB="emulator/auth/iframe",ZB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tV(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?S1(e,JB):`https://${t.config.authDomain}/${XB}`,r={apiKey:e.apiKey,appName:t.name,v:$l},s=eV.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${wf(r).slice(1)}`}async function nV(t){const e=await QB(t),n=Xs().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:tV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZB,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Ys(t,"network-request-failed"),u=Xs().setTimeout(()=>{i(a)},YB.get());function c(){Xs().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sV=500,iV=600,oV="_blank",aV="http://localhost";class GS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lV(t,e,n,r=sV,s=iV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...rV,width:r.toString(),height:s.toString(),top:i,left:a},h=yn().toLowerCase();n&&(u=KI(h)?oV:n),zI(h)&&(e=e||aV,c.scrollbars="yes");const p=Object.entries(c).reduce((v,[k,_])=>`${v}${k}=${_},`,"");if(T6(h)&&u!=="_self")return uV(e||"",u),new GS(null);const g=window.open(e||"",u,p);Me(g,t,"popup-blocked");try{g.focus()}catch{}return new GS(g)}function uV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cV="__/auth/handler",dV="emulator/auth/handler",hV=encodeURIComponent("fac");async function HS(t,e,n,r,s,i){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$l,eventId:s};if(e instanceof eN){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",$L(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))a[p]=g}if(e instanceof Cf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),h=c?`#${hV}=${encodeURIComponent(c)}`:"";return`${fV(t)}?${wf(u).slice(1)}${h}`}function fV({config:t}){return t.emulator?S1(t,dV):`https://${t.authDomain}/${cV}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const B0="webStorageSupport";class pV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aN,this._completeRedirectFn=BB,this._overrideRedirectResult=MB}async _openPopup(e,n,r,s){var i;Ki((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await HS(e,n,r,Gw(),s);return lV(e,a,N1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await HS(e,n,r,Gw(),s);return yB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ki(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nV(e),r=new FB(e);return n.register("authEvent",s=>(Me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(B0,{type:B0},r=>{var s;const i=(s=r==null?void 0:r[0])==null?void 0:s[B0];i!==void 0&&n(!!i),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$B(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QI()||qI()||_1()}}const mV=pV;var QS="@firebase/auth",YS="1.11.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vV(t){ys(new es("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Me(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YI(t)},h=new A6(r,s,i,c);return z6(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ys(new es("auth-internal",e=>{const n=va(e.getProvider("auth").getImmediate());return(r=>new gV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(QS,YS,yV(t)),fr(QS,YS,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wV=300,bV=CI("authIdTokenMaxAge")||wV;let XS=null;const xV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bV)return;const s=n==null?void 0:n.token;XS!==s&&(XS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function py(t=cy()){const e=ya(t,"auth");if(e.isInitialized())return e.getImmediate();const n=U6(t,{popupRedirectResolver:mV,persistence:[TB,pB,aN]}),r=CI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=xV(i.toString());uB(n,a,()=>a(n.currentUser)),lB(n,u=>a(u))}}const s=wI("auth");return s&&q6(n,`http://${s}`),n}function CV(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}R6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ys("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",CV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vV("Browser");var kV="firebase",EV="12.5.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/fr(kV,EV,"app");var JS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ra,pN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,D){function P(){}P.prototype=D.prototype,R.F=D.prototype,R.prototype=new P,R.prototype.constructor=R,R.D=function(O,V,q){for(var L=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)L[Ee-2]=arguments[Ee];return D.prototype[V].apply(O,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,D,P){P||(P=0);const O=Array(16);if(typeof D=="string")for(var V=0;V<16;++V)O[V]=D.charCodeAt(P++)|D.charCodeAt(P++)<<8|D.charCodeAt(P++)<<16|D.charCodeAt(P++)<<24;else for(V=0;V<16;++V)O[V]=D[P++]|D[P++]<<8|D[P++]<<16|D[P++]<<24;D=R.g[0],P=R.g[1],V=R.g[2];let q=R.g[3],L;L=D+(q^P&(V^q))+O[0]+3614090360&4294967295,D=P+(L<<7&4294967295|L>>>25),L=q+(V^D&(P^V))+O[1]+3905402710&4294967295,q=D+(L<<12&4294967295|L>>>20),L=V+(P^q&(D^P))+O[2]+606105819&4294967295,V=q+(L<<17&4294967295|L>>>15),L=P+(D^V&(q^D))+O[3]+3250441966&4294967295,P=V+(L<<22&4294967295|L>>>10),L=D+(q^P&(V^q))+O[4]+4118548399&4294967295,D=P+(L<<7&4294967295|L>>>25),L=q+(V^D&(P^V))+O[5]+1200080426&4294967295,q=D+(L<<12&4294967295|L>>>20),L=V+(P^q&(D^P))+O[6]+2821735955&4294967295,V=q+(L<<17&4294967295|L>>>15),L=P+(D^V&(q^D))+O[7]+4249261313&4294967295,P=V+(L<<22&4294967295|L>>>10),L=D+(q^P&(V^q))+O[8]+1770035416&4294967295,D=P+(L<<7&4294967295|L>>>25),L=q+(V^D&(P^V))+O[9]+2336552879&4294967295,q=D+(L<<12&4294967295|L>>>20),L=V+(P^q&(D^P))+O[10]+4294925233&4294967295,V=q+(L<<17&4294967295|L>>>15),L=P+(D^V&(q^D))+O[11]+2304563134&4294967295,P=V+(L<<22&4294967295|L>>>10),L=D+(q^P&(V^q))+O[12]+1804603682&4294967295,D=P+(L<<7&4294967295|L>>>25),L=q+(V^D&(P^V))+O[13]+4254626195&4294967295,q=D+(L<<12&4294967295|L>>>20),L=V+(P^q&(D^P))+O[14]+2792965006&4294967295,V=q+(L<<17&4294967295|L>>>15),L=P+(D^V&(q^D))+O[15]+1236535329&4294967295,P=V+(L<<22&4294967295|L>>>10),L=D+(V^q&(P^V))+O[1]+4129170786&4294967295,D=P+(L<<5&4294967295|L>>>27),L=q+(P^V&(D^P))+O[6]+3225465664&4294967295,q=D+(L<<9&4294967295|L>>>23),L=V+(D^P&(q^D))+O[11]+643717713&4294967295,V=q+(L<<14&4294967295|L>>>18),L=P+(q^D&(V^q))+O[0]+3921069994&4294967295,P=V+(L<<20&4294967295|L>>>12),L=D+(V^q&(P^V))+O[5]+3593408605&4294967295,D=P+(L<<5&4294967295|L>>>27),L=q+(P^V&(D^P))+O[10]+38016083&4294967295,q=D+(L<<9&4294967295|L>>>23),L=V+(D^P&(q^D))+O[15]+3634488961&4294967295,V=q+(L<<14&4294967295|L>>>18),L=P+(q^D&(V^q))+O[4]+3889429448&4294967295,P=V+(L<<20&4294967295|L>>>12),L=D+(V^q&(P^V))+O[9]+568446438&4294967295,D=P+(L<<5&4294967295|L>>>27),L=q+(P^V&(D^P))+O[14]+3275163606&4294967295,q=D+(L<<9&4294967295|L>>>23),L=V+(D^P&(q^D))+O[3]+4107603335&4294967295,V=q+(L<<14&4294967295|L>>>18),L=P+(q^D&(V^q))+O[8]+1163531501&4294967295,P=V+(L<<20&4294967295|L>>>12),L=D+(V^q&(P^V))+O[13]+2850285829&4294967295,D=P+(L<<5&4294967295|L>>>27),L=q+(P^V&(D^P))+O[2]+4243563512&4294967295,q=D+(L<<9&4294967295|L>>>23),L=V+(D^P&(q^D))+O[7]+1735328473&4294967295,V=q+(L<<14&4294967295|L>>>18),L=P+(q^D&(V^q))+O[12]+2368359562&4294967295,P=V+(L<<20&4294967295|L>>>12),L=D+(P^V^q)+O[5]+4294588738&4294967295,D=P+(L<<4&4294967295|L>>>28),L=q+(D^P^V)+O[8]+2272392833&4294967295,q=D+(L<<11&4294967295|L>>>21),L=V+(q^D^P)+O[11]+1839030562&4294967295,V=q+(L<<16&4294967295|L>>>16),L=P+(V^q^D)+O[14]+4259657740&4294967295,P=V+(L<<23&4294967295|L>>>9),L=D+(P^V^q)+O[1]+2763975236&4294967295,D=P+(L<<4&4294967295|L>>>28),L=q+(D^P^V)+O[4]+1272893353&4294967295,q=D+(L<<11&4294967295|L>>>21),L=V+(q^D^P)+O[7]+4139469664&4294967295,V=q+(L<<16&4294967295|L>>>16),L=P+(V^q^D)+O[10]+3200236656&4294967295,P=V+(L<<23&4294967295|L>>>9),L=D+(P^V^q)+O[13]+681279174&4294967295,D=P+(L<<4&4294967295|L>>>28),L=q+(D^P^V)+O[0]+3936430074&4294967295,q=D+(L<<11&4294967295|L>>>21),L=V+(q^D^P)+O[3]+3572445317&4294967295,V=q+(L<<16&4294967295|L>>>16),L=P+(V^q^D)+O[6]+76029189&4294967295,P=V+(L<<23&4294967295|L>>>9),L=D+(P^V^q)+O[9]+3654602809&4294967295,D=P+(L<<4&4294967295|L>>>28),L=q+(D^P^V)+O[12]+3873151461&4294967295,q=D+(L<<11&4294967295|L>>>21),L=V+(q^D^P)+O[15]+530742520&4294967295,V=q+(L<<16&4294967295|L>>>16),L=P+(V^q^D)+O[2]+3299628645&4294967295,P=V+(L<<23&4294967295|L>>>9),L=D+(V^(P|~q))+O[0]+4096336452&4294967295,D=P+(L<<6&4294967295|L>>>26),L=q+(P^(D|~V))+O[7]+1126891415&4294967295,q=D+(L<<10&4294967295|L>>>22),L=V+(D^(q|~P))+O[14]+2878612391&4294967295,V=q+(L<<15&4294967295|L>>>17),L=P+(q^(V|~D))+O[5]+4237533241&4294967295,P=V+(L<<21&4294967295|L>>>11),L=D+(V^(P|~q))+O[12]+1700485571&4294967295,D=P+(L<<6&4294967295|L>>>26),L=q+(P^(D|~V))+O[3]+2399980690&4294967295,q=D+(L<<10&4294967295|L>>>22),L=V+(D^(q|~P))+O[10]+4293915773&4294967295,V=q+(L<<15&4294967295|L>>>17),L=P+(q^(V|~D))+O[1]+2240044497&4294967295,P=V+(L<<21&4294967295|L>>>11),L=D+(V^(P|~q))+O[8]+1873313359&4294967295,D=P+(L<<6&4294967295|L>>>26),L=q+(P^(D|~V))+O[15]+4264355552&4294967295,q=D+(L<<10&4294967295|L>>>22),L=V+(D^(q|~P))+O[6]+2734768916&4294967295,V=q+(L<<15&4294967295|L>>>17),L=P+(q^(V|~D))+O[13]+1309151649&4294967295,P=V+(L<<21&4294967295|L>>>11),L=D+(V^(P|~q))+O[4]+4149444226&4294967295,D=P+(L<<6&4294967295|L>>>26),L=q+(P^(D|~V))+O[11]+3174756917&4294967295,q=D+(L<<10&4294967295|L>>>22),L=V+(D^(q|~P))+O[2]+718787259&4294967295,V=q+(L<<15&4294967295|L>>>17),L=P+(q^(V|~D))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+D&4294967295,R.g[1]=R.g[1]+(V+(L<<21&4294967295|L>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+q&4294967295}r.prototype.v=function(R,D){D===void 0&&(D=R.length);const P=D-this.blockSize,O=this.C;let V=this.h,q=0;for(;q<D;){if(V==0)for(;q<=P;)s(this,R,q),q+=this.blockSize;if(typeof R=="string"){for(;q<D;)if(O[V++]=R.charCodeAt(q++),V==this.blockSize){s(this,O),V=0;break}}else for(;q<D;)if(O[V++]=R[q++],V==this.blockSize){s(this,O),V=0;break}}this.h=V,this.o+=D},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var D=1;D<R.length-8;++D)R[D]=0;D=this.o*8;for(var P=R.length-8;P<R.length;++P)R[P]=D&255,D/=256;for(this.v(R),R=Array(16),D=0,P=0;P<4;++P)for(let O=0;O<32;O+=8)R[D++]=this.g[P]>>>O&255;return R};function i(R,D){var P=u;return Object.prototype.hasOwnProperty.call(P,R)?P[R]:P[R]=D(R)}function a(R,D){this.h=D;const P=[];let O=!0;for(let V=R.length-1;V>=0;V--){const q=R[V]|0;O&&q==D||(P[V]=q,O=!1)}this.g=P}var u={};function c(R){return-128<=R&&R<128?i(R,function(D){return new a([D|0],D<0?-1:0)}):new a([R|0],R<0?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return g;if(R<0)return T(h(-R));const D=[];let P=1;for(let O=0;R>=P;O++)D[O]=R/P|0,P*=4294967296;return new a(D,0)}function p(R,D){if(R.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(R.charAt(0)=="-")return T(p(R.substring(1),D));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=h(Math.pow(D,8));let O=g;for(let q=0;q<R.length;q+=8){var V=Math.min(8,R.length-q);const L=parseInt(R.substring(q,q+V),D);V<8?(V=h(Math.pow(D,V)),O=O.j(V).add(h(L))):(O=O.j(P),O=O.add(h(L)))}return O}var g=c(0),v=c(1),k=c(16777216);t=a.prototype,t.m=function(){if(S(this))return-T(this).m();let R=0,D=1;for(let P=0;P<this.g.length;P++){const O=this.i(P);R+=(O>=0?O:4294967296+O)*D,D*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(_(this))return"0";if(S(this))return"-"+T(this).toString(R);const D=h(Math.pow(R,6));var P=this;let O="";for(;;){const V=F(P,D).g;P=N(P,V.j(D));let q=((P.g.length>0?P.g[0]:P.h)>>>0).toString(R);if(P=V,_(P))return q+O;for(;q.length<6;)q="0"+q;O=q+O}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function _(R){if(R.h!=0)return!1;for(let D=0;D<R.g.length;D++)if(R.g[D]!=0)return!1;return!0}function S(R){return R.h==-1}t.l=function(R){return R=N(this,R),S(R)?-1:_(R)?0:1};function T(R){const D=R.g.length,P=[];for(let O=0;O<D;O++)P[O]=~R.g[O];return new a(P,~R.h).add(v)}t.abs=function(){return S(this)?T(this):this},t.add=function(R){const D=Math.max(this.g.length,R.g.length),P=[];let O=0;for(let V=0;V<=D;V++){let q=O+(this.i(V)&65535)+(R.i(V)&65535),L=(q>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);O=L>>>16,q&=65535,L&=65535,P[V]=L<<16|q}return new a(P,P[P.length-1]&-2147483648?-1:0)};function N(R,D){return R.add(T(D))}t.j=function(R){if(_(this)||_(R))return g;if(S(this))return S(R)?T(this).j(T(R)):T(T(this).j(R));if(S(R))return T(this.j(T(R)));if(this.l(k)<0&&R.l(k)<0)return h(this.m()*R.m());const D=this.g.length+R.g.length,P=[];for(var O=0;O<2*D;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<R.g.length;V++){const q=this.i(O)>>>16,L=this.i(O)&65535,Ee=R.i(V)>>>16,Ae=R.i(V)&65535;P[2*O+2*V]+=L*Ae,A(P,2*O+2*V),P[2*O+2*V+1]+=q*Ae,A(P,2*O+2*V+1),P[2*O+2*V+1]+=L*Ee,A(P,2*O+2*V+1),P[2*O+2*V+2]+=q*Ee,A(P,2*O+2*V+2)}for(R=0;R<D;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=D;R<2*D;R++)P[R]=0;return new a(P,0)};function A(R,D){for(;(R[D]&65535)!=R[D];)R[D+1]+=R[D]>>>16,R[D]&=65535,D++}function M(R,D){this.g=R,this.h=D}function F(R,D){if(_(D))throw Error("division by zero");if(_(R))return new M(g,g);if(S(R))return D=F(T(R),D),new M(T(D.g),T(D.h));if(S(D))return D=F(R,T(D)),new M(T(D.g),D.h);if(R.g.length>30){if(S(R)||S(D))throw Error("slowDivide_ only works with positive integers.");for(var P=v,O=D;O.l(R)<=0;)P=z(P),O=z(O);var V=W(P,1),q=W(O,1);for(O=W(O,2),P=W(P,2);!_(O);){var L=q.add(O);L.l(R)<=0&&(V=V.add(P),q=L),O=W(O,1),P=W(P,1)}return D=N(R,V.j(D)),new M(V,D)}for(V=g;R.l(D)>=0;){for(P=Math.max(1,Math.floor(R.m()/D.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),q=h(P),L=q.j(D);S(L)||L.l(R)>0;)P-=O,q=h(P),L=q.j(D);_(q)&&(q=v),V=V.add(q),R=N(R,L)}return new M(V,R)}t.B=function(R){return F(this,R).h},t.and=function(R){const D=Math.max(this.g.length,R.g.length),P=[];for(let O=0;O<D;O++)P[O]=this.i(O)&R.i(O);return new a(P,this.h&R.h)},t.or=function(R){const D=Math.max(this.g.length,R.g.length),P=[];for(let O=0;O<D;O++)P[O]=this.i(O)|R.i(O);return new a(P,this.h|R.h)},t.xor=function(R){const D=Math.max(this.g.length,R.g.length),P=[];for(let O=0;O<D;O++)P[O]=this.i(O)^R.i(O);return new a(P,this.h^R.h)};function z(R){const D=R.g.length+1,P=[];for(let O=0;O<D;O++)P[O]=R.i(O)<<1|R.i(O-1)>>>31;return new a(P,R.h)}function W(R,D){const P=D>>5;D%=32;const O=R.g.length-P,V=[];for(let q=0;q<O;q++)V[q]=D>0?R.i(q+P)>>>D|R.i(q+P+1)<<32-D:R.i(q+P);return new a(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,pN=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=p,ra=a}).apply(typeof JS<"u"?JS:typeof self<"u"?self:typeof window<"u"?window:{});var cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mN,wh,gN,Um,Yw,yN,vN,wN;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof cm=="object"&&cm];for(var b=0;b<f.length;++b){var E=f[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var E=r;f=f.split(".");for(var j=0;j<f.length-1;j++){var X=f[j];if(!(X in E))break e;E=E[X]}f=f[f.length-1],j=E[f],b=b(j),b!=j&&b!=null&&e(E,f,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(b){var E=[],j;for(j in b)Object.prototype.hasOwnProperty.call(b,j)&&E.push([j,b[j]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function u(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function c(f,b,E){return f.call.apply(f.bind,arguments)}function h(f,b,E){return h=c,h.apply(null,arguments)}function p(f,b){var E=Array.prototype.slice.call(arguments,1);return function(){var j=E.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function g(f,b){function E(){}E.prototype=b.prototype,f.Z=b.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(j,X,ee){for(var de=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)de[ze-2]=arguments[ze];return b.prototype[X].apply(j,de)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function k(f){const b=f.length;if(b>0){const E=Array(b);for(let j=0;j<b;j++)E[j]=f[j];return E}return[]}function _(f,b){for(let j=1;j<arguments.length;j++){const X=arguments[j];var E=typeof X;if(E=E!="object"?E:X?Array.isArray(X)?"array":E:"null",E=="array"||E=="object"&&typeof X.length=="number"){E=f.length||0;const ee=X.length||0;f.length=E+ee;for(let de=0;de<ee;de++)f[E+de]=X[de]}else f.push(X)}}class S{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function T(f){a.setTimeout(()=>{throw f},0)}function N(){var f=R;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class A{constructor(){this.h=this.g=null}add(b,E){const j=M.get();j.set(b,E),this.h?this.h.next=j:this.g=j,this.h=j}}var M=new S(()=>new F,f=>f.reset());class F{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let z,W=!1,R=new A,D=()=>{const f=Promise.resolve(void 0);z=()=>{f.then(P)}};function P(){for(var f;f=N();){try{f.h.call(f.g)}catch(E){T(E)}var b=M;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}W=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};a.addEventListener("test",E,b),a.removeEventListener("test",E,b)}catch{}return f})();function L(f){return/^[\s\xa0]*$/.test(f)}function Ee(f,b){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}g(Ee,V),Ee.prototype.init=function(f,b){const E=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(E=="mouseover"?b=f.fromElement:E=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),ye=0;function ve(f,b,E,j,X){this.listener=f,this.proxy=null,this.src=b,this.type=E,this.capture=!!j,this.ha=X,this.key=++ye,this.da=this.fa=!1}function H(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,b,E){for(const j in f)b.call(E,f[j],j,f)}function oe(f,b){for(const E in f)b.call(void 0,f[E],E,f)}function G(f){const b={};for(const E in f)b[E]=f[E];return b}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(f,b){let E,j;for(let X=1;X<arguments.length;X++){j=arguments[X];for(E in j)f[E]=j[E];for(let ee=0;ee<re.length;ee++)E=re[ee],Object.prototype.hasOwnProperty.call(j,E)&&(f[E]=j[E])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,b,E,j,X){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const de=Ue(f,b,j,X);return de>-1?(b=f[de],E||(b.fa=!1)):(b=new ve(b,this.src,ee,!!j,X),b.fa=E,f.push(b)),b};function Re(f,b){const E=b.type;if(E in f.g){var j=f.g[E],X=Array.prototype.indexOf.call(j,b,void 0),ee;(ee=X>=0)&&Array.prototype.splice.call(j,X,1),ee&&(H(b),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Ue(f,b,E,j){for(let X=0;X<f.length;++X){const ee=f[X];if(!ee.da&&ee.listener==b&&ee.capture==!!E&&ee.ha==j)return X}return-1}var De="closure_lm_"+(Math.random()*1e6|0),qe={};function Fe(f,b,E,j,X){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)Fe(f,b[ee],E,j,X);return null}return E=Ca(E),f&&f[Ae]?f.J(b,E,u(j)?!!j.capture:!1,X):pt(f,b,E,!1,j,X)}function pt(f,b,E,j,X,ee){if(!b)throw Error("Invalid event type");const de=u(X)?!!X.capture:!!X;let ze=oo(f);if(ze||(f[De]=ze=new me(f)),E=ze.add(b,E,j,de,ee),E.proxy)return E;if(j=Ar(),E.proxy=j,j.src=f,j.listener=E,f.addEventListener)q||(X=de),X===void 0&&(X=!1),f.addEventListener(b.toString(),j,X);else if(f.attachEvent)f.attachEvent(io(b.toString()),j);else if(f.addListener&&f.removeListener)f.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ar(){function f(E){return b.call(f.src,f.listener,E)}const b=Jl;return f}function Rr(f,b,E,j,X){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)Rr(f,b[ee],E,j,X);else j=u(j)?!!j.capture:!!j,E=Ca(E),f&&f[Ae]?(f=f.i,ee=String(b).toString(),ee in f.g&&(b=f.g[ee],E=Ue(b,E,j,X),E>-1&&(H(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete f.g[ee],f.h--)))):f&&(f=oo(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Ue(b,E,j,X)),(E=f>-1?b[f]:null)&&tr(E))}function tr(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ae])Re(b.i,f);else{var E=f.type,j=f.proxy;b.removeEventListener?b.removeEventListener(E,j,f.capture):b.detachEvent?b.detachEvent(io(E),j):b.addListener&&b.removeListener&&b.removeListener(j),(E=oo(b))?(Re(E,f),E.h==0&&(E.src=null,b[De]=null)):H(f)}}}function io(f){return f in qe?qe[f]:qe[f]="on"+f}function Jl(f,b){if(f.da)f=!0;else{b=new Ee(b,this);const E=f.listener,j=f.ha||f.src;f.fa&&tr(f),f=E.call(j,b)}return f}function oo(f){return f=f[De],f instanceof me?f:null}var pi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ca(f){return typeof f=="function"?f:(f[pi]||(f[pi]=function(b){return f.handleEvent(b)}),f[pi])}function mt(){O.call(this),this.i=new me(this),this.M=this,this.G=null}g(mt,O),mt.prototype[Ae]=!0,mt.prototype.removeEventListener=function(f,b,E,j){Rr(this,f,b,E,j)};function Zt(f,b){var E,j=f.G;if(j)for(E=[];j;j=j.G)E.push(j);if(f=f.M,j=b.type||b,typeof b=="string")b=new V(b,f);else if(b instanceof V)b.target=b.target||f;else{var X=b;b=new V(j,f),pe(b,X)}X=!0;let ee,de;if(E)for(de=E.length-1;de>=0;de--)ee=b.g=E[de],X=ns(ee,j,!0,b)&&X;if(ee=b.g=f,X=ns(ee,j,!0,b)&&X,X=ns(ee,j,!1,b)&&X,E)for(de=0;de<E.length;de++)ee=b.g=E[de],X=ns(ee,j,!1,b)&&X}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const E=f.g[b];for(let j=0;j<E.length;j++)H(E[j]);delete f.g[b],f.h--}}this.G=null},mt.prototype.J=function(f,b,E,j){return this.i.add(String(f),b,!1,E,j)},mt.prototype.K=function(f,b,E,j){return this.i.add(String(f),b,!0,E,j)};function ns(f,b,E,j){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let X=!0;for(let ee=0;ee<b.length;++ee){const de=b[ee];if(de&&!de.da&&de.capture==E){const ze=de.listener,en=de.ha||de.src;de.fa&&Re(f.i,de),X=ze.call(en,j)!==!1&&X}}return X&&!j.defaultPrevented}function td(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:a.setTimeout(f,b||0)}function nd(f){f.g=td(()=>{f.g=null,f.i&&(f.i=!1,nd(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Hf extends O{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:nd(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ao(f){O.call(this),this.h=f,this.g={}}g(ao,O);var rd=[];function Zl(f){ne(f.g,function(b,E){this.g.hasOwnProperty(E)&&tr(b)},f),f.g={}}ao.prototype.N=function(){ao.Z.N.call(this),Zl(this)},ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lo=a.JSON.stringify,Qf=a.JSON.parse,ka=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function uo(){}function Yf(){}var co={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function eu(){V.call(this,"d")}g(eu,V);function sd(){V.call(this,"c")}g(sd,V);var rs={},tu=null;function ho(){return tu=tu||new mt}rs.Ia="serverreachability";function nu(f){V.call(this,rs.Ia,f)}g(nu,V);function mi(f){const b=ho();Zt(b,new nu(b))}rs.STAT_EVENT="statevent";function gi(f,b){V.call(this,rs.STAT_EVENT,f),this.stat=b}g(gi,V);function Nt(f){const b=ho();Zt(b,new gi(b,f))}rs.Ja="timingevent";function id(f,b){V.call(this,rs.Ja,f),this.size=b}g(id,V);function fo(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},b)}function po(){this.g=!0}po.prototype.ua=function(){this.g=!1};function Xf(f,b,E,j,X,ee){f.info(function(){if(f.g)if(ee){var de="",ze=ee.split("&");for(let dt=0;dt<ze.length;dt++){var en=ze[dt].split("=");if(en.length>1){const an=en[0];en=en[1];const br=an.split("_");de=br.length>=2&&br[1]=="type"?de+(an+"="+en+"&"):de+(an+"=redacted&")}}}else de=null;else de=ee;return"XMLHTTP REQ ("+j+") [attempt "+X+"]: "+b+`
`+E+`
`+de})}function Jf(f,b,E,j,X,ee,de){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+X+"]: "+b+`
`+E+`
`+ee+" "+de})}function Ss(f,b,E,j){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ea(f,E)+(j?" "+j:"")})}function Zf(f,b){f.info(function(){return"TIMEOUT: "+b})}po.prototype.info=function(){};function Ea(f,b){if(!f.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var E=ee[f];if(!(E.length<2)){var j=E[1];if(Array.isArray(j)&&!(j.length<1)){var X=j[0];if(X!="noop"&&X!="stop"&&X!="close")for(let de=1;de<j.length;de++)j[de]=""}}}}return lo(ee)}catch{return b}}var mo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ep;function yi(){}g(yi,uo),yi.prototype.g=function(){return new XMLHttpRequest},ep=new yi;function Ts(f){return encodeURIComponent(String(f))}function ru(f){var b=1;f=f.split(":");const E=[];for(;b>0&&f.length;)E.push(f.shift()),b--;return f.length&&E.push(f.join(":")),E}function jr(f,b,E,j){this.j=f,this.i=b,this.l=E,this.S=j||1,this.V=new ao(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new tp}function tp(){this.i=null,this.g="",this.h=!1}var np={},od={};function ss(f,b,E){f.M=1,f.A=wi(Mr(b)),f.u=E,f.R=!0,ad(f,null)}function ad(f,b){f.F=Date.now(),Sa(f),f.B=Mr(f.A);var E=f.B,j=f.S;Array.isArray(j)||(j=[String(j)]),yd(E.i,"t",j),f.C=0,E=f.j.L,f.h=new tp,f.g=hp(f.j,E?b:null,!f.u),f.P>0&&(f.O=new Hf(h(f.Y,f,f.g),f.P)),b=f.V,E=f.g,j=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(rd[0]=X.toString()),X=rd);for(let ee=0;ee<X.length;ee++){const de=Fe(E,X[ee],j||b.handleEvent,!1,b.h||b);if(!de)break;b.g[de.key]=de}b=f.J?G(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),mi(),Xf(f.i,f.v,f.B,f.l,f.S,f.u)}jr.prototype.ba=function(f){f=f.target;const b=this.O;b&&Rs(f)==3?b.j():this.Y(f)},jr.prototype.Y=function(f){try{if(f==this.g)e:{const ze=Rs(this.g),en=this.g.ya(),dt=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||cp(this.g)))){this.K||ze!=4||en==7||(en==8||dt<=0?mi(3):mi(2)),su(this);var b=this.g.ca();this.X=b;var E=rp(this);if(this.o=b==200,Jf(this.i,this.v,this.B,this.l,this.S,ze,b),this.o){if(this.U&&!this.L){t:{if(this.g){var j,X=this.g;if((j=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(j)){var ee=j;break t}}ee=null}if(f=ee)Ss(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gt(this,f);else{this.o=!1,this.m=3,Nt(12),vi(this),Ta(this);break e}}if(this.R){f=!0;let an;for(;!this.K&&this.C<E.length;)if(an=ip(this,E),an==od){ze==4&&(this.m=4,Nt(14),f=!1),Ss(this.i,this.l,null,"[Incomplete Response]");break}else if(an==np){this.m=4,Nt(15),Ss(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Ss(this.i,this.l,an,null),gt(this,an);if(sp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||E.length!=0||this.h.h||(this.m=1,Nt(16),f=!1),this.o=this.o&&f,!f)Ss(this.i,this.l,E,"[Invalid Chunked Response]"),vi(this),Ta(this);else if(E.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ma(de),de.P=!0,Nt(11))}}else Ss(this.i,this.l,E,null),gt(this,E);ze==4&&vi(this),this.o&&!this.K&&(ze==4?pu(this.j,this):(this.o=!1,Sa(this)))}else wd(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),vi(this),Ta(this)}}}catch{}finally{}};function rp(f){if(!sp(f))return f.g.la();const b=cp(f.g);if(b==="")return"";let E="";const j=b.length,X=Rs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return vi(f),Ta(f),"";f.h.i=new a.TextDecoder}for(let ee=0;ee<j;ee++)f.h.h=!0,E+=f.h.i.decode(b[ee],{stream:!(X&&ee==j-1)});return b.length=0,f.h.g+=E,f.C=0,f.h.g}function sp(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ip(f,b){var E=f.C,j=b.indexOf(`
`,E);return j==-1?od:(E=Number(b.substring(E,j)),isNaN(E)?np:(j+=1,j+E>b.length?od:(b=b.slice(j,j+E),f.C=j+E,b)))}jr.prototype.cancel=function(){this.K=!0,vi(this)};function Sa(f){f.T=Date.now()+f.H,ld(f,f.H)}function ld(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=fo(h(f.aa,f),b)}function su(f){f.D&&(a.clearTimeout(f.D),f.D=null)}jr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Zf(this.i,this.B),this.M!=2&&(mi(),Nt(17)),vi(this),this.m=2,Ta(this)):ld(this,this.T-f)};function Ta(f){f.j.I==0||f.K||pu(f.j,f)}function vi(f){su(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Zl(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function gt(f,b){try{var E=f.j;if(E.I!=0&&(E.g==f||cd(E.h,f))){if(!f.L&&cd(E.h,f)&&E.I==3){try{var j=E.Ba.g.parse(b)}catch{j=null}if(Array.isArray(j)&&j.length==3){var X=j;if(X[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)fu(E),vr(E);else break e;Os(E),Nt(18)}}else E.xa=X[1],0<E.xa-E.K&&X[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=fo(h(E.Va,E),6e3));_a(E.h)<=1&&E.ta&&(E.ta=void 0)}else wr(E,11)}else if((f.L||E.g==f)&&fu(E),!L(b))for(X=E.Ba.g.parse(b),b=0;b<X.length;b++){let dt=X[b];const an=dt[0];if(!(an<=E.K))if(E.K=an,dt=dt[1],E.I==2)if(dt[0]=="c"){E.M=dt[1],E.ba=dt[2];const br=dt[3];br!=null&&(E.ka=br,E.j.info("VER="+E.ka));const ko=dt[4];ko!=null&&(E.za=ko,E.j.info("SVER="+E.za));const Ls=dt[5];Ls!=null&&typeof Ls=="number"&&Ls>0&&(j=1.5*Ls,E.O=j,E.j.info("backChannelRequestTimeoutMs_="+j)),j=E;const Bs=f.g;if(Bs){const yu=Bs.g?Bs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yu){var ee=j.h;ee.g||yu.indexOf("spdy")==-1&&yu.indexOf("quic")==-1&&yu.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(ou(ee,ee.h),ee.h=null))}if(j.G){const Cd=Bs.g?Bs.g.getResponseHeader("X-HTTP-Session-Id"):null;Cd&&(j.wa=Cd,it(j.J,j.G,Cd))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),j=E;var de=f;if(j.na=xd(j,j.L?j.ba:null,j.W),de.L){Da(j.h,de);var ze=de,en=j.O;en&&(ze.H=en),ze.D&&(su(ze),Sa(ze)),j.g=de}else Rn(j);E.i.length>0&&ki(E)}else dt[0]!="stop"&&dt[0]!="close"||wr(E,7);else E.I==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?wr(E,7):du(E):dt[0]!="noop"&&E.l&&E.l.qa(dt),E.A=0)}}mi(4)}catch{}}var uv=class{constructor(f,b){this.g=f,this.map=b}};function iu(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ud(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function _a(f){return f.h?1:f.g?f.g.size:0}function cd(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function ou(f,b){f.g?f.g.add(b):f.h=b}function Da(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}iu.prototype.cancel=function(){if(this.i=mr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function mr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const E of f.g.values())b=b.concat(E.G);return b}return k(f.i)}var op=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gr(f,b){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const j=f[E].indexOf("=");let X,ee=null;j>=0?(X=f[E].substring(0,j),ee=f[E].substring(j+1)):X=f[E],b(X,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function _s(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof _s?(this.l=f.l,Ia(this,f.j),this.o=f.o,this.g=f.g,Ds(this,f.u),this.h=f.h,yo(this,vd(f.i)),this.m=f.m):f&&(b=String(f).match(op))?(this.l=!1,Ia(this,b[1]||"",!0),this.o=Na(b[2]||""),this.g=Na(b[3]||"",!0),Ds(this,b[4]),this.h=Na(b[5]||"",!0),yo(this,b[6]||"",!0),this.m=Na(b[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}_s.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(Pa(b,hd,!0),":");var E=this.g;return(E||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Pa(b,hd,!0),"@"),f.push(Ts(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Pa(E,E.charAt(0)=="/"?Aa:fd,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Pa(E,pd)),f.join("")},_s.prototype.resolve=function(f){const b=Mr(this);let E=!!f.j;E?Ia(b,f.j):E=!!f.o,E?b.o=f.o:E=!!f.g,E?b.g=f.g:E=f.u!=null;var j=f.h;if(E)Ds(b,f.u);else if(E=!!f.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var X=b.h.lastIndexOf("/");X!=-1&&(j=b.h.slice(0,X+1)+j)}if(X=j,X==".."||X==".")j="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){j=X.lastIndexOf("/",0)==0,X=X.split("/");const ee=[];for(let de=0;de<X.length;){const ze=X[de++];ze=="."?j&&de==X.length&&ee.push(""):ze==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),j&&de==X.length&&ee.push("")):(ee.push(ze),j=!0)}j=ee.join("/")}else j=X}return E?b.h=j:E=f.i.toString()!=="",E?yo(b,vd(f.i)):E=!!f.m,E&&(b.m=f.m),b};function Mr(f){return new _s(f)}function Ia(f,b,E){f.j=E?Na(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Ds(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function yo(f,b,E){b instanceof Qe?(f.i=b,lu(f.i,f.l)):(E||(b=Pa(b,cv)),f.i=new Qe(b,f.l))}function it(f,b,E){f.i.set(b,E)}function wi(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Na(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Pa(f,b,E){return typeof f=="string"?(f=encodeURI(f).replace(b,dd),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function dd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var hd=/[#\/\?@]/g,fd=/[#\?:]/g,Aa=/[#\?]/g,cv=/[#\?@]/g,pd=/#/g;function Qe(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Is(f){f.g||(f.g=new Map,f.h=0,f.i&&gr(f.i,function(b,E){f.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=Qe.prototype,t.add=function(f,b){Is(this),this.i=null,f=Ns(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(b),this.h+=1,this};function md(f,b){Is(f),b=Ns(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function au(f,b){return Is(f),b=Ns(f,b),f.g.has(b)}t.forEach=function(f,b){Is(this),this.g.forEach(function(E,j){E.forEach(function(X){f.call(b,X,j,this)},this)},this)};function gd(f,b){Is(f);let E=[];if(typeof b=="string")au(f,b)&&(E=E.concat(f.g.get(Ns(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)E=E.concat(f[b]);return E}t.set=function(f,b){return Is(this),this.i=null,f=Ns(this,f),au(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=gd(this,f),f.length>0?String(f[0]):b):b};function yd(f,b,E){md(f,b),E.length>0&&(f.i=null,f.g.set(Ns(f,b),k(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let j=0;j<b.length;j++){var E=b[j];const X=Ts(E);E=gd(this,E);for(let ee=0;ee<E.length;ee++){let de=X;E[ee]!==""&&(de+="="+Ts(E[ee])),f.push(de)}}return this.i=f.join("&")};function vd(f){const b=new Qe;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function Ns(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function lu(f,b){b&&!f.j&&(Is(f),f.i=null,f.g.forEach(function(E,j){const X=j.toLowerCase();j!=X&&(md(this,j),yd(this,X,E))},f)),f.j=b}function Ps(f,b){const E=new po;if(a.Image){const j=new Image;j.onload=p(En,E,"TestLoadImage: loaded",!0,b,j),j.onerror=p(En,E,"TestLoadImage: error",!1,b,j),j.onabort=p(En,E,"TestLoadImage: abort",!1,b,j),j.ontimeout=p(En,E,"TestLoadImage: timeout",!1,b,j),a.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else b(!1)}function As(f,b){const E=new po,j=new AbortController,X=setTimeout(()=>{j.abort(),En(E,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:j.signal}).then(ee=>{clearTimeout(X),ee.ok?En(E,"TestPingServer: ok",!0,b):En(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),En(E,"TestPingServer: error",!1,b)})}function En(f,b,E,j,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),j(E)}catch{}}function Ra(){this.g=new ka}function bi(f){this.i=f.Sb||null,this.h=f.ab||!1}g(bi,uo),bi.prototype.g=function(){return new yr(this.i,this.h)};function yr(f,b){mt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(yr,mt),t=yr.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,is(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||a).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vo(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ap(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function ap(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?vo(this):is(this),this.readyState==3&&ap(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,vo(this))},t.Na=function(f){this.g&&(this.response=f,vo(this))},t.ga=function(){this.g&&vo(this)};function vo(f){f.readyState=4,f.l=null,f.j=null,f.B=null,is(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=b.next();return f.join(`\r
`)};function is(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function lp(f){let b="";return ne(f,function(E,j){b+=j,b+=":",b+=E,b+=`\r
`}),b}function uu(f,b,E){e:{for(j in E){var j=!1;break e}j=!0}j||(E=lp(E),typeof f=="string"?E!=null&&Ts(E):it(f,b,E))}function ct(f){mt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ct,mt);var up=/^https?$/i,dv=["POST","PUT"];t=ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,E,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ep.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ee){wo(this,ee);return}if(f=E||"",E=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var X in j)E.set(X,j[X]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ee of j.keys())E.set(ee,j.get(ee));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),X=a.FormData&&f instanceof a.FormData,!(Array.prototype.indexOf.call(dv,b,void 0)>=0)||j||X||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,de]of E)this.g.setRequestHeader(ee,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){wo(this,ee)}};function wo(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,bo(f),Ci(f)}function bo(f){f.A||(f.A=!0,Zt(f,"complete"),Zt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Zt(this,"complete"),Zt(this,"abort"),Ci(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?xi(this):this.Xa())},t.Xa=function(){xi(this)};function xi(f){if(f.h&&typeof i<"u"){if(f.v&&Rs(f)==4)setTimeout(f.Ca.bind(f),0);else if(Zt(f,"readystatechange"),Rs(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var j;if(j=ee===0){let de=String(f.D).match(op)[1]||null;!de&&a.self&&a.self.location&&(de=a.self.location.protocol.slice(0,-1)),j=!up.test(de?de.toLowerCase():"")}E=j}if(E)Zt(f,"complete"),Zt(f,"success");else{f.o=6;try{var X=Rs(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",bo(f)}}finally{Ci(f)}}}}function Ci(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,b||Zt(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Rs(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Rs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Qf(b)}};function cp(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function wd(f){const b={};f=(f.g&&Rs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<f.length;j++){if(L(f[j]))continue;var E=ru(f[j]);const X=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=b[X]||[];b[X]=ee,ee.push(E)}oe(b,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function js(f,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||b}function cu(f){this.za=0,this.i=[],this.j=new po,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=js("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=js("baseRetryDelayMs",5e3,f),this.Za=js("retryDelaySeedMs",1e4,f),this.Ta=js("forwardChannelMaxRetries",2,f),this.va=js("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new iu(f&&f.concurrentRequestLimit),this.Ba=new Ra,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=cu.prototype,t.ka=8,t.I=1,t.connect=function(f,b,E,j){Nt(0),this.W=f,this.H=b||{},E&&j!==void 0&&(this.H.OSID=E,this.H.OAID=j),this.F=this.X,this.J=xd(this,null,this.W),ki(this)};function du(f){if(hu(f),f.I==3){var b=f.V++,E=Mr(f.J);if(it(E,"SID",f.M),it(E,"RID",b),it(E,"TYPE","terminate"),Ms(f,E),b=new jr(f,f.j,b),b.M=2,b.A=wi(Mr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&a.Image&&(new Image().src=b.A,E=!0),E||(b.g=hp(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Sa(b)}Oa(f)}function vr(f){f.g&&(Ma(f),f.g.cancel(),f.g=null)}function hu(f){vr(f),f.v&&(a.clearTimeout(f.v),f.v=null),fu(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&a.clearTimeout(f.m),f.m=null)}function ki(f){if(!ud(f.h)&&!f.m){f.m=!0;var b=f.Ea;z||D(),W||(z(),W=!0),R.add(b,f),f.D=0}}function dp(f,b){return _a(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=fo(h(f.Ea,f,b),mu(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new jr(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=G(ee),pe(ee,this.U)):ee=this.U),this.u!==null||this.R||(X.J=ee,ee=null),this.S)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var j=this.i[E];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(b+=j,b>4096){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=bd(this,X,b),E=Mr(this.J),it(E,"RID",f),it(E,"CVER",22),this.G&&it(E,"X-HTTP-Session-Id",this.G),Ms(this,E),ee&&(this.R?b="headers="+Ts(lp(ee))+"&"+b:this.u&&uu(E,this.u,ee)),ou(this.h,X),this.Ra&&it(E,"TYPE","init"),this.S?(it(E,"$req",b),it(E,"SID","null"),X.U=!0,ss(X,E,null)):ss(X,E,b),this.I=2}}else this.I==3&&(f?ja(this,f):this.i.length==0||ud(this.h)||ja(this))};function ja(f,b){var E;b?E=b.l:E=f.V++;const j=Mr(f.J);it(j,"SID",f.M),it(j,"RID",E),it(j,"AID",f.K),Ms(f,j),f.u&&f.o&&uu(j,f.u,f.o),E=new jr(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),b&&(f.i=b.G.concat(f.i)),b=bd(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ou(f.h,E),ss(E,j,b)}function Ms(f,b){f.H&&ne(f.H,function(E,j){it(b,j,E)}),f.l&&ne({},function(E,j){it(b,j,E)})}function bd(f,b,E){E=Math.min(f.i.length,E);const j=f.l?h(f.l.Ka,f.l,f):null;e:{var X=f.i;let ze=-1;for(;;){const en=["count="+E];ze==-1?E>0?(ze=X[0].g,en.push("ofs="+ze)):ze=0:en.push("ofs="+ze);let dt=!0;for(let an=0;an<E;an++){var ee=X[an].g;const br=X[an].map;if(ee-=ze,ee<0)ze=Math.max(0,X[an].g-100),dt=!1;else try{ee="req"+ee+"_"||"";try{var de=br instanceof Map?br:Object.entries(br);for(const[ko,Ls]of de){let Bs=Ls;u(Ls)&&(Bs=lo(Ls)),en.push(ee+ko+"="+encodeURIComponent(Bs))}}catch(ko){throw en.push(ee+"type="+encodeURIComponent("_badmap")),ko}}catch{j&&j(br)}}if(dt){de=en.join("&");break e}}de=void 0}return f=f.i.splice(0,E),b.G=f,de}function Rn(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;z||D(),W||(z(),W=!0),R.add(b,f),f.A=0}}function Os(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=fo(h(f.Da,f),mu(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,xo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=fo(h(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),vr(this),xo(this))};function Ma(f){f.B!=null&&(a.clearTimeout(f.B),f.B=null)}function xo(f){f.g=new jr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Mr(f.na);it(b,"RID","rpc"),it(b,"SID",f.M),it(b,"AID",f.K),it(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(b,"TO",f.ia),it(b,"TYPE","xmlhttp"),Ms(f,b),f.u&&f.o&&uu(b,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=wi(Mr(b)),E.u=null,E.R=!0,ad(E,f)}t.Va=function(){this.C!=null&&(this.C=null,vr(this),Os(this),Nt(19))};function fu(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function pu(f,b){var E=null;if(f.g==b){fu(f),Ma(f),f.g=null;var j=2}else if(cd(f.h,b))E=b.G,Da(f.h,b),j=1;else return;if(f.I!=0){if(b.o)if(j==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var X=f.D;j=ho(),Zt(j,new id(j,E)),ki(f)}else Rn(f);else if(X=b.m,X==3||X==0&&b.X>0||!(j==1&&dp(f,b)||j==2&&Os(f)))switch(E&&E.length>0&&(b=f.h,b.i=b.i.concat(E)),X){case 1:wr(f,5);break;case 4:wr(f,10);break;case 3:wr(f,6);break;default:wr(f,2)}}}function mu(f,b){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*b}function wr(f,b){if(f.j.info("Error code "+b),b==2){var E=h(f.bb,f),j=f.Ua;const X=!j;j=new _s(j||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ia(j,"https"),wi(j),X?Ps(j.toString(),E):As(j.toString(),E)}else Nt(2);f.I=0,f.l&&f.l.pa(b),Oa(f),hu(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Oa(f){if(f.I=0,f.ja=[],f.l){const b=mr(f.h);(b.length!=0||f.i.length!=0)&&(_(f.ja,b),_(f.ja,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.oa()}}function xd(f,b,E){var j=E instanceof _s?Mr(E):new _s(E);if(j.g!="")b&&(j.g=b+"."+j.g),Ds(j,j.u);else{var X=a.location;j=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;const ee=new _s(null);j&&Ia(ee,j),b&&(ee.g=b),X&&Ds(ee,X),E&&(ee.h=E),j=ee}return E=f.G,b=f.wa,E&&b&&it(j,E,b),it(j,"VER",f.ka),Ms(f,j),j}function hp(f,b,E){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ct(new bi({ab:E})):new ct(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fp(){}t=fp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function gu(){}gu.prototype.g=function(f,b){return new Sn(f,b)};function Sn(f,b){mt.call(this),this.g=new cu(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!L(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Co(this)}g(Sn,mt),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){du(this.g)},Sn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=lo(f),f=E);b.i.push(new uv(b.Ya++,f)),b.I==3&&ki(b)},Sn.prototype.N=function(){this.g.l=null,delete this.j,du(this.g),delete this.g,Sn.Z.N.call(this)};function pp(f){eu.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const E in b){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}g(pp,eu);function mp(){sd.call(this),this.status=1}g(mp,sd);function Co(f){this.g=f}g(Co,fp),Co.prototype.ra=function(){Zt(this.g,"a")},Co.prototype.qa=function(f){Zt(this.g,new pp(f))},Co.prototype.pa=function(f){Zt(this.g,new mp)},Co.prototype.oa=function(){Zt(this.g,"b")},gu.prototype.createWebChannel=gu.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,wN=function(){return new gu},vN=function(){return ho()},yN=rs,Yw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mo.NO_ERROR=0,mo.TIMEOUT=8,mo.HTTP_ERROR=6,Um=mo,go.COMPLETE="complete",gN=go,Yf.EventType=co,co.OPEN="a",co.CLOSE="b",co.ERROR="c",co.MESSAGE="d",mt.prototype.listen=mt.prototype.J,wh=Yf,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,mN=ct}).apply(typeof cm<"u"?cm:typeof self<"u"?self:typeof window<"u"?window:{});const ZS="@firebase/firestore",eT="4.9.2";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Nn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Uc="12.3.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Nl=new uy("@firebase/firestore");function sc(){return Nl.logLevel}function le(t,...e){if(Nl.logLevel<=Ge.DEBUG){const n=e.map(A1);Nl.debug(`Firestore (${Uc}): ${t}`,...n)}}function Gn(t,...e){if(Nl.logLevel<=Ge.ERROR){const n=e.map(A1);Nl.error(`Firestore (${Uc}): ${t}`,...n)}}function Pl(t,...e){if(Nl.logLevel<=Ge.WARN){const n=e.map(A1);Nl.warn(`Firestore (${Uc}): ${t}`,...n)}}function A1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,bN(t,r,n)}function bN(t,e,n){let r=`FIRESTORE (${Uc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Gn(r),new Error(r)}function _e(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||bN(e,s,r)}function Ve(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Js{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nn.UNAUTHENTICATED)))}shutdown(){}}class TV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _V{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Js,e.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},u=c=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Js)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new xN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class DV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new DV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function PV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=PV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function Xw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return V0(s)===V0(i)?Be(s,i):V0(s)?1:-1}return Be(t.length,e.length)}const AV=55296,RV=57343;function V0(t){const e=t.charCodeAt(0);return e>=AV&&e<=RV}function kc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function CN(t){return t+"\0"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nT="__name__";class $s{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $s.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $s?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=$s.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Be(e.length,n.length)}static compareSegments(e,n){const r=$s.isNumericId(e),s=$s.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?$s.extractNumericId(e).compare($s.extractNumericId(n)):Xw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ra.fromString(e.substring(4,e.length-2))}}class ot extends $s{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const jV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends $s{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return jV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nT}static keyField(){return new Tt([nT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else u==="`"?(a=!a,s++):u!=="."||a?(r+=u,s++):(i(),s++)}if(i(),a)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class he{constructor(e){this.path=e}static fromPath(e){return new he(ot.fromString(e))}static fromName(e){return new he(ot.fromString(e).popFirst(5))}static empty(){return new he(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new ot(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kN(t,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MV(t,e,n,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rT(t){if(!he.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sT(t){if(he.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function EN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function my(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=my(t);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function OV(t,e){if(e<=0)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ef(t,e){if(!EN(t))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iT=-62135596800,oT=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*oT);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iT)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oT}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ef(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:dn("string",rt._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new rt(0,0))}static max(){return new Ie(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $h=-1;class kg{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function Jw(t){return t.fields.find((e=>e.kind===2))}function al(t){return t.fields.filter((e=>e.kind!==2))}kg.UNKNOWN_ID=-1;class zm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Wh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Wh(0,Pr.min())}}function LV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Pr(s,he.empty(),e)}function SN(t){return new Pr(t.readTime,t.key,$h)}class Pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pr(Ie.min(),he.empty(),$h)}static max(){return new Pr(Ie.max(),he.empty(),$h)}}function j1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const TN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _N{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Wl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==TN)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let s=0,i=0,a=!1;e.forEach((u=>{++s,u.next((()=>{++i,a&&i===s&&n()}),(c=>r(c)))})),a=!0,i===s&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((s=>s?Q.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,s)=>{const i=e.length,a=new Array(i);let u=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next((p=>{a[h]=p,++u,u===i&&r(a)}),(p=>s(p)))}}))}static doWhile(e,n){return new Q(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sr="SimpleDb";class gy{static open(e,n,r,s){try{return new gy(n,e.transaction(s,r))}catch(i){throw new Dh(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Js,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Dh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=M1(r.target.error);this.S.reject(new Dh(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(Sr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new VV(n)}}class sa{static delete(e){return le(Sr,"Removing database:",e),dl(vI().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!ly())return!1;if(sa.F())return!0;const e=yn(),n=sa.M(e),r=0<n&&n<10,s=DN(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,sa.M(yn())===12.2&&Gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(Sr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const a=i.target.result;n(a)},s.onblocked=()=>{r(new Dh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new ce(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new ce(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Dh(e,a))},s.onupgradeneeded=i=>{le(Sr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.N.k(a,s.transaction,i.oldVersion,this.version).next((()=>{le(Sr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const u=gy.open(this.db,e,i?"readonly":"readwrite",r),c=s(u).next((h=>(u.C(),h))).catch((h=>(u.abort(h),Q.reject(h)))).toPromise();return c.catch((()=>{})),await u.D,c}catch(u){const c=u,h=c.name!=="FirebaseError"&&a<3;if(le(Sr,"Transaction failed with error:",c.message,"Retrying:",h),this.close(),!h)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function DN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class BV{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return dl(this.U.delete())}}class Dh extends ce{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function wa(t){return t.name==="IndexedDbTransactionError"}class VV{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(le(Sr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(le(Sr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),dl(r)}add(e){return le(Sr,"ADD",this.store.name,e,e),dl(this.store.add(e))}get(e){return dl(this.store.get(e)).next((n=>(n===void 0&&(n=null),le(Sr,"GET",this.store.name,e,n),n)))}delete(e){return le(Sr,"DELETE",this.store.name,e),dl(this.store.delete(e))}count(){return le(Sr,"COUNT",this.store.name),dl(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Q(((a,u)=>{i.onerror=c=>{u(c.target.error)},i.onsuccess=c=>{a(c.target.result)}}))}{const i=this.cursor(r),a=[];return this.H(i,((u,c)=>{a.push(c)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((s,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{s(a.target.result)}}))}Z(e,n){le(Sr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,a,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new Q(((r,s)=>{n.onerror=i=>{const a=M1(i.target.error);s(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next((u=>{u?a.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((s,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const u=a.target.result;if(!u)return void s();const c=new BV(u),h=n(u.primaryKey,u.value,c);if(h instanceof Q){const p=h.catch((g=>(c.done(),Q.reject(g))));r.push(p)}c.isDone?s():c.G===null?u.continue():u.continue(c.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function dl(t){return new Q(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=M1(r.target.error);n(s)}}))}let aT=!1;function M1(t){const e=sa.M(yn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aT||(aT=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Ih="IndexBackfiller";class FV{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(Ih,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();le(Ih,`Documents written: ${n}`)}catch(n){wa(n)?le(Ih,"Ignoring IndexedDB error during index backfill: ",n):await Wl(n)}await this.re(6e4)}))}}class UV{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return Q.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return le(Ih,`Processing collection: ${a}`),this.oe(e,a,s).next((u=>{s-=u,r.add(a)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(s,i))).next((u=>(le(Ih,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const a=SN(i);j1(a,r)>0&&(r=a)})),new Pr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hr.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xl=-1;function yy(t){return t==null}function Gh(t){return t===0&&1/t==-1/0}function zV(t){return typeof t=="number"&&Number.isInteger(t)&&!Gh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Eg="";function qn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lT(e)),e=qV(t.get(n),e);return lT(e)}function qV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Eg:n+="";break;default:n+=i}}return n}function lT(t){return t+Eg+""}function Gs(t){const e=t.length;if(_e(e>=2,64408,{path:t}),e===2)return _e(t.charAt(0)===Eg&&t.charAt(1)==="",56145,{path:t}),ot.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const a=t.indexOf(Eg,i);switch((a<0||a>n)&&ke(50515,{path:t}),t.charAt(a+1)){case"":const u=t.substring(i,a);let c;s.length===0?c=u:(s+=u,c=s,s=""),r.push(c);break;case"":s+=t.substring(i,a),s+="\0";break;case"":s+=t.substring(i,a+1);break;default:ke(61167,{path:t})}i=a+2}return new ot(r)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ll="remoteDocuments",Sf="owner",Bu="owner",Hh="mutationQueues",KV="userId",ps="mutations",uT="batchId",ml="userMutationsIndex",cT=["userId","batchId"];/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qm(t,e){return[t,qn(e)]}function IN(t,e,n){return[t,qn(e),n]}const $V={},Ec="documentMutations",Sg="remoteDocumentsV14",WV=["prefixPath","collectionGroup","readTime","documentId"],Km="documentKeyIndex",GV=["prefixPath","collectionGroup","documentId"],NN="collectionGroupIndex",HV=["collectionGroup","readTime","prefixPath","documentId"],Qh="remoteDocumentGlobal",Zw="remoteDocumentGlobalKey",Sc="targets",PN="queryTargetsIndex",QV=["canonicalId","targetId"],Tc="targetDocuments",YV=["targetId","path"],O1="documentTargetsIndex",XV=["path","targetId"],Tg="targetGlobalKey",Cl="targetGlobal",Yh="collectionParents",JV=["collectionId","parent"],_c="clientMetadata",ZV="clientId",vy="bundles",eF="bundleId",wy="namedQueries",tF="name",L1="indexConfiguration",nF="indexId",eb="collectionGroupIndex",rF="collectionGroup",Nh="indexState",sF=["indexId","uid"],AN="sequenceNumberIndex",iF=["uid","sequenceNumber"],Ph="indexEntries",oF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RN="documentKeyIndex",aF=["indexId","uid","orderedDocumentKey"],by="documentOverlays",lF=["userId","collectionPath","documentId"],tb="collectionPathOverlayIndex",uF=["userId","collectionPath","largestBatchId"],jN="collectionGroupOverlayIndex",cF=["userId","collectionGroup","largestBatchId"],B1="globals",dF="name",MN=[Hh,ps,Ec,ll,Sc,Sf,Cl,Tc,_c,Qh,Yh,vy,wy],hF=[...MN,by],ON=[Hh,ps,Ec,Sg,Sc,Sf,Cl,Tc,_c,Qh,Yh,vy,wy,by],LN=ON,V1=[...LN,L1,Nh,Ph],fF=V1,BN=[...V1,B1],pF=BN;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nb extends _N{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function vn(t,e){const n=Ve(t);return sa.O(n.le,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ba(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kt{constructor(e,n){this.comparator=e,this.root=n||Pn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dm(this.root,e,this.comparator,!1)}getReverseIterator(){return new dm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dm(this.root,e,this.comparator,!0)}}class dm{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Pn.RED,this.left=s??Pn.EMPTY,this.right=i??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Pn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Pn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(t,e,n,r,s){return this}insert(t,e,n){return new Pn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ut{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hT(this.data.getIterator())}getIteratorFrom(e){return new hT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class hT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vu(t){return t.hasNext()?t.getNext():void 0}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dr{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new dr([])}unionWith(e){let n=new ut(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return kc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new FN("Invalid base64 string: "+s):s}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const mF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=mF.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wi(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UN="server_timestamp",zN="__type__",qN="__previous_value__",KN="__local_write_time__";function F1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[zN])==null?void 0:n.stringValue)===UN}function xy(t){const e=t.mapValue.fields[qN];return F1(e)?xy(e):e}function Xh(t){const e=$i(t.mapValue.fields[KN].timestampValue);return new rt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gF{constructor(e,n,r,s,i,a,u,c,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=p}}const _g="(default)";class Al{constructor(e,n){this.projectId=e,this.database=n||_g}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database===_g}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const U1="__type__",$N="__max__",ea={mapValue:{fields:{__type__:{stringValue:$N}}}},z1="__vector__",Dc="value",$m={nullValue:"NULL_VALUE"};function la(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?F1(t)?4:WN(t)?9007199254740991:Cy(t)?10:11:ke(28295,{value:t})}function ii(t,e){if(t===e)return!0;const n=la(t);if(n!==la(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xh(t).isEqual(Xh(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=$i(r.timestampValue),a=$i(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,s){return Wi(r.bytesValue).isEqual(Wi(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,s){return xt(r.geoPointValue.latitude)===xt(s.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(s.geoPointValue.longitude)})(t,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return xt(r.integerValue)===xt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=xt(r.doubleValue),a=xt(s.doubleValue);return i===a?Gh(i)===Gh(a):isNaN(i)&&isNaN(a)}return!1})(t,e);case 9:return kc(t.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return(function(r,s){const i=r.mapValue.fields||{},a=s.mapValue.fields||{};if(dT(i)!==dT(a))return!1;for(const u in i)if(i.hasOwnProperty(u)&&(a[u]===void 0||!ii(i[u],a[u])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function Jh(t,e){return(t.values||[]).find((n=>ii(n,e)))!==void 0}function ua(t,e){if(t===e)return 0;const n=la(t),r=la(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return(function(s,i){const a=xt(s.integerValue||s.doubleValue),u=xt(i.integerValue||i.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return fT(t.timestampValue,e.timestampValue);case 4:return fT(Xh(t),Xh(e));case 5:return Xw(t.stringValue,e.stringValue);case 6:return(function(s,i){const a=Wi(s),u=Wi(i);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,i){const a=s.split("/"),u=i.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=Be(a[c],u[c]);if(h!==0)return h}return Be(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,i){const a=Be(xt(s.latitude),xt(i.latitude));return a!==0?a:Be(xt(s.longitude),xt(i.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return pT(t.arrayValue,e.arrayValue);case 10:return(function(s,i){var a,u,c,h;const p=s.fields||{},g=i.fields||{},v=(a=p[Dc])==null?void 0:a.arrayValue,k=(u=g[Dc])==null?void 0:u.arrayValue,_=Be(((c=v==null?void 0:v.values)==null?void 0:c.length)||0,((h=k==null?void 0:k.values)==null?void 0:h.length)||0);return _!==0?_:pT(v,k)})(t.mapValue,e.mapValue);case 11:return(function(s,i){if(s===ea.mapValue&&i===ea.mapValue)return 0;if(s===ea.mapValue)return 1;if(i===ea.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=i.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const g=Xw(u[p],h[p]);if(g!==0)return g;const v=ua(a[u[p]],c[h[p]]);if(v!==0)return v}return Be(u.length,h.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function fT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=$i(t),r=$i(e),s=Be(n.seconds,r.seconds);return s!==0?s:Be(n.nanos,r.nanos)}function pT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ua(n[s],r[s]);if(i)return i}return Be(n.length,r.length)}function Ic(t){return rb(t)}function rb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(e){const n=$i(e);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(e){return Wi(e).toBase64()})(t.bytesValue):"referenceValue"in t?(function(e){return he.fromName(e).toString()})(t.referenceValue):"geoPointValue"in t?(function(e){return`geo(${e.latitude},${e.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(e){let n="[",r=!0;for(const s of e.values||[])r?r=!1:n+=",",n+=rb(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(e){const n=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const i of n)s?s=!1:r+=",",r+=`${i}:${rb(e.fields[i])}`;return r+"}"})(t.mapValue):ke(61005,{value:t})}function Wm(t){switch(la(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xy(t);return e?16+Wm(e):16;case 5:return 2*t.stringValue.length;case 6:return Wi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,s)=>r+Wm(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let r=0;return ba(n.fields,((s,i)=>{r+=s.length+Wm(i)})),r})(t.mapValue);default:throw ke(13486,{value:t})}}function Zh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sb(t){return!!t&&"integerValue"in t}function ef(t){return!!t&&"arrayValue"in t}function mT(t){return!!t&&"nullValue"in t}function gT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gm(t){return!!t&&"mapValue"in t}function Cy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[U1])==null?void 0:n.stringValue)===z1}function Ah(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ba(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ah(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ah(t.arrayValue.values[n]);return e}return{...t}}function WN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$N}const GN={mapValue:{fields:{[U1]:{stringValue:z1},[Dc]:{arrayValue:{}}}}};function yF(t){return"nullValue"in t?$m:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Zh(Al.empty(),he.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Cy(t)?GN:{mapValue:{}}:ke(35942,{value:t})}function vF(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Zh(Al.empty(),he.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?GN:"mapValue"in t?Cy(t)?{mapValue:{}}:ea:ke(61959,{value:t})}function yT(t,e){const n=ua(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function vT(t,e){const n=ua(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ah(n)}setAll(e){let n=Tt.emptyPath(),r={},s=[];e.forEach(((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=u.popLast()}a?r[u.lastSegment()]=Ah(a):s.push(u.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Gm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Gm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ba(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Fn(Ah(this.value))}}function HN(t){const e=[];return ba(t.fields,((n,r)=>{const s=new Tt([n]);if(Gm(r)){const i=HN(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)})),new dr(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jt{constructor(e,n,r,s,i,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new jt(e,0,Ie.min(),Ie.min(),Ie.min(),Fn.empty(),0)}static newFoundDocument(e,n,r,s){return new jt(e,1,n,Ie.min(),r,s,0)}static newNoDocument(e,n){return new jt(e,2,n,Ie.min(),Ie.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,Ie.min(),Ie.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nc{constructor(e,n){this.position=e,this.inclusive=n}}function wT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=he.comparator(he.fromName(a.referenceValue),n.key):r=ua(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function bT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ii(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tf{constructor(e,n="asc"){this.field=e,this.dir=n}}function wF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class QN{}class He extends QN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bF(e,n,r):n==="array-contains"?new kF(e,r):n==="in"?new tP(e,r):n==="not-in"?new EF(e,r):n==="array-contains-any"?new SF(e,r):new He(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xF(e,r):new CF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ua(n,this.value)):n!==null&&la(this.value)===la(n)&&this.matchesComparison(ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends QN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lt(e,n)}matches(e){return Pc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Pc(t){return t.op==="and"}function ib(t){return t.op==="or"}function q1(t){return YN(t)&&Pc(t)}function YN(t){for(const e of t.filters)if(e instanceof lt)return!1;return!0}function ob(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+Ic(t.value);if(q1(t))return t.filters.map((e=>ob(e))).join(",");{const e=t.filters.map((n=>ob(n))).join(",");return`${t.op}(${e})`}}function XN(t,e){return t instanceof He?(function(n,r){return r instanceof He&&n.op===r.op&&n.field.isEqual(r.field)&&ii(n.value,r.value)})(t,e):t instanceof lt?(function(n,r){return r instanceof lt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((s,i,a)=>s&&XN(i,r.filters[a])),!0):!1})(t,e):void ke(19439)}function JN(t,e){const n=t.filters.concat(e);return lt.create(n,t.op)}function ZN(t){return t instanceof He?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ic(e.value)}`})(t):t instanceof lt?(function(e){return e.op.toString()+" {"+e.getFilters().map(ZN).join(" ,")+"}"})(t):"Filter"}class bF extends He{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class xF extends He{constructor(e,n){super(e,"in",n),this.keys=eP("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CF extends He{constructor(e,n){super(e,"not-in",n),this.keys=eP("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function eP(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>he.fromName(r.referenceValue)))}class kF extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ef(n)&&Jh(n.arrayValue,this.value)}}class tP extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jh(this.value.arrayValue,n)}}class EF extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jh(this.value.arrayValue,n)}}class SF extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ef(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Jh(this.value.arrayValue,r)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TF{constructor(e,n=null,r=[],s=[],i=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=u,this.Te=null}}function ab(t,e=null,n=[],r=[],s=null,i=null,a=null){return new TF(t,e,n,r,s,i,a)}function Rl(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ob(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),yy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ic(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ic(r))).join(",")),e.Te=n}return e.Te}function Tf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bT(t.startAt,e.startAt)&&bT(t.endAt,e.endAt)}function Dg(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ig(t,e){return t.filters.filter((n=>n instanceof He&&n.field.isEqual(e)))}function xT(t,e,n){let r=$m,s=!0;for(const i of Ig(t,e)){let a=$m,u=!0;switch(i.op){case"<":case"<=":a=yF(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,u=!1;break;case"!=":case"not-in":a=$m}yT({value:r,inclusive:s},{value:a,inclusive:u})<0&&(r=a,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];yT({value:r,inclusive:s},{value:a,inclusive:n.inclusive})<0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}function CT(t,e,n){let r=ea,s=!0;for(const i of Ig(t,e)){let a=ea,u=!0;switch(i.op){case">=":case">":a=vF(i.value),u=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,u=!1;break;case"!=":case"not-in":a=ea}vT({value:r,inclusive:s},{value:a,inclusive:u})>0&&(r=a,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];vT({value:r,inclusive:s},{value:a,inclusive:n.inclusive})>0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zc{constructor(e,n=null,r=[],s=[],i=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _F(t,e,n,r,s,i,a,u){return new zc(t,e,n,r,s,i,a,u)}function _f(t){return new zc(t)}function kT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nP(t){return t.collectionGroup!==null}function Rh(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let i=new ut(Tt.comparator);return s.filters.forEach((a=>{a.getFlattenedFilters().forEach((u=>{u.isInequality()&&(i=i.add(u.field))}))})),i})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new tf(s,r))})),n.has(Tt.keyField().canonicalString())||e.Ie.push(new tf(Tt.keyField(),r))}return e.Ie}function Xr(t){const e=Ve(t);return e.Ee||(e.Ee=DF(e,Rh(t))),e.Ee}function DF(t,e){if(t.limitType==="F")return ab(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new tf(s.field,i)}));const n=t.endAt?new Nc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nc(t.startAt.position,t.startAt.inclusive):null;return ab(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lb(t,e){const n=t.filters.concat([e]);return new zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ng(t,e,n){return new zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ky(t,e){return Tf(Xr(t),Xr(e))&&t.limitType===e.limitType}function rP(t){return`${Rl(Xr(t))}|lt:${t.limitType}`}function ic(t){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((r=>ZN(r))).join(", ")}]`),yy(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((r=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(r))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ic(r))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ic(r))).join(",")),`Target(${n})`})(Xr(t))}; limitType=${t.limitType})`}function Df(t,e){return e.isFoundDocument()&&(function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):he.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,r){for(const s of Rh(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0})(t,e)&&(function(n,r){return!(n.startAt&&!(function(s,i,a){const u=wT(s,i,a);return s.inclusive?u<=0:u<0})(n.startAt,Rh(n),r)||n.endAt&&!(function(s,i,a){const u=wT(s,i,a);return s.inclusive?u>=0:u>0})(n.endAt,Rh(n),r))})(t,e)}function IF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sP(t){return(e,n)=>{let r=!1;for(const s of Rh(t)){const i=NF(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function NF(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):(function(s,i,a){const u=i.data.field(s),c=a.data.field(s);return u!==null&&c!==null?ua(u,c):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:t.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class to{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return VN(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const PF=new kt(he.comparator);function Dr(){return PF}const iP=new kt(he.comparator);function bh(...t){let e=iP;for(const n of t)e=e.insert(n.key,n);return e}function oP(t){let e=iP;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Hs(){return jh()}function aP(){return jh()}function jh(){return new to((t=>t.toString()),((t,e)=>t.isEqual(e)))}const AF=new kt(he.comparator),RF=new ut(he.comparator);function $e(...t){let e=RF;for(const n of t)e=e.add(n);return e}const jF=new ut(Be);function MF(){return jF}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function K1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function lP(t){return{integerValue:""+t}}function OF(t,e){return zV(e)?lP(e):K1(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ey{constructor(){this._=void 0}}function LF(t,e,n){return t instanceof Ac?(function(r,s){const i={fields:{[zN]:{stringValue:UN},[KN]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&F1(s)&&(s=xy(s)),s&&(i.fields[qN]=s),{mapValue:i}})(n,e):t instanceof Rc?cP(t,e):t instanceof jc?dP(t,e):(function(r,s){const i=uP(r,s),a=ET(i)+ET(r.Ae);return sb(i)&&sb(r.Ae)?lP(a):K1(r.serializer,a)})(t,e)}function BF(t,e,n){return t instanceof Rc?cP(t,e):t instanceof jc?dP(t,e):n}function uP(t,e){return t instanceof nf?(function(n){return sb(n)||(function(r){return!!r&&"doubleValue"in r})(n)})(e)?e:{integerValue:0}:null}class Ac extends Ey{}class Rc extends Ey{constructor(e){super(),this.elements=e}}function cP(t,e){const n=hP(e);for(const r of t.elements)n.some((s=>ii(s,r)))||n.push(r);return{arrayValue:{values:n}}}class jc extends Ey{constructor(e){super(),this.elements=e}}function dP(t,e){let n=hP(e);for(const r of t.elements)n=n.filter((s=>!ii(s,r)));return{arrayValue:{values:n}}}class nf extends Ey{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ET(t){return xt(t.integerValue||t.doubleValue)}function hP(t){return ef(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fP{constructor(e,n){this.field=e,this.transform=n}}function VF(t,e){return t.field.isEqual(e.field)&&(function(n,r){return n instanceof Rc&&r instanceof Rc||n instanceof jc&&r instanceof jc?kc(n.elements,r.elements,ii):n instanceof nf&&r instanceof nf?ii(n.Ae,r.Ae):n instanceof Ac&&r instanceof Ac})(t.transform,e.transform)}class FF{constructor(e,n){this.version=e,this.transformResults=n}}class Un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Sy=class{};function pP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ty(t.key,Un.none()):new qc(t.key,t.data,Un.none());{const n=t.data,r=Fn.empty();let s=new ut(Tt.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new no(t.key,r,new dr(s.toArray()),Un.none())}}function UF(t,e,n){t instanceof qc?(function(r,s,i){const a=r.value.clone(),u=TT(r.fieldTransforms,s,i.transformResults);a.setAll(u),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()})(t,e,n):t instanceof no?(function(r,s,i){if(!Hm(r.precondition,s))return void s.convertToUnknownDocument(i.version);const a=TT(r.fieldTransforms,s,i.transformResults),u=s.data;u.setAll(mP(r)),u.setAll(a),s.convertToFoundDocument(i.version,u).setHasCommittedMutations()})(t,e,n):(function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()})(0,e,n)}function Mh(t,e,n,r){return t instanceof qc?(function(s,i,a,u){if(!Hm(s.precondition,i))return a;const c=s.value.clone(),h=_T(s.fieldTransforms,u,i);return c.setAll(h),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof no?(function(s,i,a,u){if(!Hm(s.precondition,i))return a;const c=_T(s.fieldTransforms,u,i),h=i.data;return h.setAll(mP(s)),h.setAll(c),i.convertToFoundDocument(i.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,i,a){return Hm(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a})(t,e,n)}function zF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=uP(r.transform,s||null);i!=null&&(n===null&&(n=Fn.empty()),n.set(r.field,i))}return n||null}function ST(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&kc(n,r,((s,i)=>VF(s,i)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qc extends Sy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class no extends Sy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function mP(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function TT(t,e,n){const r=new Map;_e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,u=e.data.field(i.field);r.set(i.field,BF(a,u,n[s]))}return r}function _T(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,LF(i,a,e))}return r}class Ty extends Sy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gP extends Sy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $1{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&UF(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aP();return this.mutations.forEach((s=>{const i=e.get(s.key),a=i.overlayedDocument;let u=this.applyToLocalView(a,i.mutatedFields);u=n.has(s.key)?null:u;const c=pP(a,u);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&kc(this.mutations,e.mutations,((n,r)=>ST(n,r)))&&kc(this.baseMutations,e.baseMutations,((n,r)=>ST(n,r)))}}class W1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){_e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return AF})();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new W1(e,n,r,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var un,Xe;function KF(t){switch(t){case te.OK:return ke(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function yP(t){if(t===void 0)return Gn("GRPC error has no .code"),te.UNKNOWN;switch(t){case un.OK:return te.OK;case un.CANCELLED:return te.CANCELLED;case un.UNKNOWN:return te.UNKNOWN;case un.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case un.INTERNAL:return te.INTERNAL;case un.UNAVAILABLE:return te.UNAVAILABLE;case un.UNAUTHENTICATED:return te.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case un.NOT_FOUND:return te.NOT_FOUND;case un.ALREADY_EXISTS:return te.ALREADY_EXISTS;case un.PERMISSION_DENIED:return te.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case un.ABORTED:return te.ABORTED;case un.OUT_OF_RANGE:return te.OUT_OF_RANGE;case un.UNIMPLEMENTED:return te.UNIMPLEMENTED;case un.DATA_LOSS:return te.DATA_LOSS;default:return ke(39323,{code:t})}}(Xe=un||(un={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $F(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const WF=new ra([4294967295,4294967295],0);function DT(t){const e=$F().encode(t),n=new pN;return n.update(e),new Uint8Array(n.digest())}function IT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ra([n,r],0),new ra([s,i],0)]}class H1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xh(`Invalid padding: ${n}`);if(r<0)throw new xh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ra.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ra.fromNumber(r)));return s.compare(WF)===1&&(s=new ra([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=DT(e),[r,s]=IT(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new H1(i,s,n);return r.forEach((u=>a.insert(u))),a}insert(e){if(this.ge===0)return;const n=DT(e),[r,s]=IT(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _y{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,If.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _y(Ie.min(),s,new kt(Be),Dr(),$e())}}class If{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new If(r,n,$e(),$e(),$e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qm{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class vP{constructor(e,n){this.targetId=e,this.Ce=n}}class wP{constructor(e,n,r=hn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class NT{constructor(){this.ve=0,this.Fe=PT(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),r=$e();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ke(38017,{changeType:i})}})),new If(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=PT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dr(),this.Je=hm(),this.He=hm(),this.Ye=new kt(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Dg(i))if(r===0){const a=new he(i.path);this.et(n,a,jt.newNoDocument(a,Ie.min()))}else _e(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const u=this.ut(e),c=u?this.ct(u,e,a):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,u;try{a=Wi(r).toUint8Array()}catch(c){if(c instanceof FN)return Pl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new H1(a,s,i)}catch(c){return Pl(c instanceof xh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,a)=>{const u=this.ot(a);if(u){if(i.current&&Dg(u.target)){const c=new he(u.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,jt.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}}));let r=$e();this.He.forEach(((i,a)=>{let u=!0;a.forEachWhile((c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(e)));const s=new _y(e,n,this.Ye,this.je,r);return this.je=Dr(),this.Je=hm(),this.He=hm(),this.Ye=new kt(Be),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new NT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ut(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ut(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new NT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hm(){return new kt(he.comparator)}function PT(){return new kt(he.comparator)}const HF={asc:"ASCENDING",desc:"DESCENDING"},QF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YF={and:"AND",or:"OR"};class XF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ub(t,e){return t.useProto3Json||yy(e)?e:{value:e}}function Mc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JF(t,e){return Mc(t,e.toTimestamp())}function Xn(t){return _e(!!t,49232),Ie.fromTimestamp((function(e){const n=$i(e);return new rt(n.seconds,n.nanos)})(t))}function Q1(t,e){return cb(t,e).canonicalString()}function cb(t,e){const n=(function(r){return new ot(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function xP(t){const e=ot.fromString(t);return _e(NP(e),10190,{key:e.toString()}),e}function Pg(t,e){return Q1(t.databaseId,e.path)}function kl(t,e){const n=xP(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(EP(n))}function CP(t,e){return Q1(t.databaseId,e)}function kP(t){const e=xP(t);return e.length===4?ot.emptyPath():EP(e)}function db(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EP(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AT(t,e,n){return{name:Pg(t,e),fields:n.value.mapValue.fields}}function ZF(t,e,n){const r=kl(t,e.name),s=Xn(e.updateTime),i=e.createTime?Xn(e.createTime):Ie.min(),a=new Fn({mapValue:{fields:e.fields}}),u=jt.newFoundDocument(r,s,i,a);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function e9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ke(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(c,h){return c.useProto3Json?(_e(h===void 0||typeof h=="string",58123),hn.fromBase64String(h||"")):(_e(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),hn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(c){const h=c.code===void 0?te.UNKNOWN:yP(c.code);return new ce(h,c.message||"")})(a);n=new wP(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=kl(t,r.document.name),i=Xn(r.document.updateTime),a=r.document.createTime?Xn(r.document.createTime):Ie.min(),u=new Fn({mapValue:{fields:r.document.fields}}),c=jt.newFoundDocument(s,i,a,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Qm(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=kl(t,r.document),i=r.readTime?Xn(r.readTime):Ie.min(),a=jt.newNoDocument(s,i),u=r.removedTargetIds||[];n=new Qm([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=kl(t,r.document),i=r.removedTargetIds||[];n=new Qm([],i,s,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new qF(s,i),u=r.targetId;n=new vP(u,a)}}return n}function Ag(t,e){let n;if(e instanceof qc)n={update:AT(t,e.key,e.value)};else if(e instanceof Ty)n={delete:Pg(t,e.key)};else if(e instanceof no)n={update:AT(t,e.key,e.data),updateMask:o9(e.fieldMask)};else{if(!(e instanceof gP))return ke(16599,{Vt:e.type});n={verify:Pg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,i){const a=i.transform;if(a instanceof Ac)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Rc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jc)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nf)return{fieldPath:i.field.canonicalString(),increment:a.Ae};throw ke(20930,{transform:i.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:JF(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ke(27497)})(t,e.precondition)),n}function hb(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Un.updateTime(Xn(s.updateTime)):s.exists!==void 0?Un.exists(s.exists):Un.none()})(e.currentDocument):Un.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(i,a){let u=null;if("setToServerValue"in a)_e(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),u=new Ac;else if("appendMissingElements"in a){const h=a.appendMissingElements.values||[];u=new Rc(h)}else if("removeAllFromArray"in a){const h=a.removeAllFromArray.values||[];u=new jc(h)}else"increment"in a?u=new nf(i,a.increment):ke(16584,{proto:a});const c=Tt.fromServerFormat(a.fieldPath);return new fP(c,u)})(t,s))):[];if(e.update){e.update.name;const s=kl(t,e.update.name),i=new Fn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(u){const c=u.fieldPaths||[];return new dr(c.map((h=>Tt.fromServerFormat(h))))})(e.updateMask);return new no(s,i,a,n,r)}return new qc(s,i,n,r)}if(e.delete){const s=kl(t,e.delete);return new Ty(s,n)}if(e.verify){const s=kl(t,e.verify);return new gP(s,n)}return ke(1463,{proto:e})}function t9(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map((n=>(function(r,s){let i=r.updateTime?Xn(r.updateTime):Xn(s);return i.isEqual(Ie.min())&&(i=Xn(s)),new FF(i,r.transformResults||[])})(n,e)))):[]}function SP(t,e){return{documents:[CP(t,e.path)]}}function TP(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CP(t,s);const i=(function(c){if(c.length!==0)return IP(lt.create(c,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(c){if(c.length!==0)return c.map((h=>(function(p){return{field:oc(p.field),direction:r9(p.dir)}})(h)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=ub(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:s}}function _P(t){let e=kP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){_e(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=(function(p){const g=DP(p);return g instanceof lt&&q1(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(v){return new tf(ac(v.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let g;return g=typeof p=="object"?p.value:p,yy(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new Nc(v,g)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const g=!p.before,v=p.values||[];return new Nc(v,g)})(n.endAt)),_F(e,s,a,i,u,"F",c,h)}function n9(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DP(t){return t.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ac(e.unaryFilter.field);return He.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ac(e.unaryFilter.field);return He.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ac(e.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ac(e.unaryFilter.field);return He.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(e){return He.create(ac(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(e){return lt.create(e.compositeFilter.filters.map((n=>DP(n))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(e.compositeFilter.op))})(t):ke(30097,{filter:t})}function r9(t){return HF[t]}function s9(t){return QF[t]}function i9(t){return YF[t]}function oc(t){return{fieldPath:t.canonicalString()}}function ac(t){return Tt.fromServerFormat(t.fieldPath)}function IP(t){return t instanceof He?(function(e){if(e.op==="=="){if(gT(e.value))return{unaryFilter:{field:oc(e.field),op:"IS_NAN"}};if(mT(e.value))return{unaryFilter:{field:oc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(gT(e.value))return{unaryFilter:{field:oc(e.field),op:"IS_NOT_NAN"}};if(mT(e.value))return{unaryFilter:{field:oc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oc(e.field),op:s9(e.op),value:e.value}}})(t):t instanceof lt?(function(e){const n=e.getFilters().map((r=>IP(r)));return n.length===1?n[0]:{compositeFilter:{op:i9(e.op),filters:n}}})(t):ke(54877,{filter:t})}function o9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function NP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vi{constructor(e,n,r,s,i=Ie.min(),a=Ie.min(),u=hn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PP{constructor(e){this.yt=e}}function a9(t,e){let n;if(e.document)n=ZF(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=he.fromSegments(e.noDocument.path),s=Ml(e.noDocument.readTime);n=jt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ke(56709);{const r=he.fromSegments(e.unknownDocument.path),s=Ml(e.unknownDocument.version);n=jt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(r){const s=new rt(r[0],r[1]);return Ie.fromTimestamp(s)})(e.readTime)),n}function RT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Rg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,i){return{name:Pg(s,i.key),fields:i.data.value.mapValue.fields,updateTime:Mc(s,i.version.toTimestamp()),createTime:Mc(s,i.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:jl(e.version)};else{if(!e.isUnknownDocument())return ke(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:jl(e.version)}}return r}function Rg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function jl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ml(t){const e=new rt(t.seconds,t.nanoseconds);return Ie.fromTimestamp(e)}function hl(t,e){const n=(e.baseMutations||[]).map((i=>hb(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];a.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>hb(t.yt,i))),s=rt.fromMillis(e.localWriteTimeMs);return new $1(e.batchId,s,n,r)}function Ch(t){const e=Ml(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ml(t.lastLimboFreeSnapshotVersion):Ie.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const i=s.documents.length;return _e(i===1,1966,{count:i}),Xr(_f(kP(s.documents[0])))})(t.query):(function(s){return Xr(_P(s))})(t.query),new Vi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,hn.fromBase64String(t.resumeToken))}function AP(t,e){const n=jl(e.snapshotVersion),r=jl(e.lastLimboFreeSnapshotVersion);let s;s=Dg(e.target)?SP(t.yt,e.target):TP(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Rl(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function RP(t){const e=_P({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ng(e,e.limit,"L"):e}function F0(t,e){return new G1(e.largestBatchId,hb(t.yt,e.overlayMutation))}function jT(t,e){const n=e.path.lastSegment();return[t,qn(e.path.popLast()),n]}function MT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:jl(r.readTime),documentKey:qn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class l9{getBundleMetadata(e,n){return OT(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Ml(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return OT(e).put((function(r){return{bundleId:r.id,createTime:jl(Xn(r.createTime)),version:r.version}})(n))}getNamedQuery(e,n){return LT(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:RP(s.bundledQuery),readTime:Ml(s.readTime)}})(r)}))}saveNamedQuery(e,n){return LT(e).put((function(r){return{name:r.name,readTime:jl(Xn(r.readTime)),bundledQuery:r.bundledQuery}})(n))}}function OT(t){return vn(t,vy)}function LT(t){return vn(t,wy)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dy{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Dy(e,r)}getOverlay(e,n){return Hd(e).get(jT(this.userId,n)).next((r=>r?F0(this.serializer,r):null))}getOverlays(e,n){const r=Hs();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,a)=>{const u=new G1(n,a);s.push(this.St(e,u))})),Q.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((a=>s.add(qn(a.getCollectionPath()))));const i=[];return s.forEach((a=>{const u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);i.push(Hd(e).Z(tb,u))})),Q.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Hs(),i=qn(n),a=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Hd(e).J(tb,a).next((u=>{for(const c of u){const h=F0(this.serializer,c);s.set(h.getKey(),h)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=Hs();let a;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Hd(e).ee({index:jN,range:u},((c,h,p)=>{const g=F0(this.serializer,h);i.size()<s||g.largestBatchId===a?(i.set(g.getKey(),g),a=g.largestBatchId):p.done()})).next((()=>i))}St(e,n){return Hd(e).put((function(r,s,i){const[a,u,c]=jT(s,i.mutation.key);return{userId:s,collectionPath:u,documentId:c,collectionGroup:i.mutation.key.getCollectionGroup(),largestBatchId:i.largestBatchId,overlayMutation:Ag(r.yt,i.mutation)}})(this.serializer,this.userId,n))}}function Hd(t){return vn(t,by)}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class u9{bt(e){return vn(e,B1)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?hn.fromUint8Array(r):hn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fl{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(xt(e.integerValue));else if("doubleValue"in e){const r=xt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Gh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=$i(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Wi(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?WN(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Cy(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):ke(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){var r,s;const i=e.fields||{};this.Ft(n,53);const a=Dc,u=((s=(r=i[a].arrayValue)==null?void 0:r.values)==null?void 0:s.length)||0;this.Ft(n,15),n.Mt(xt(u)),this.Ot(a,n),this.Ct(i[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),he.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}fl.Kt=new fl;/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law | agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fu=255;function c9(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function BT(t){const e=64-(function(n){let r=0;for(let s=0;s<8;++s){const i=c9(255&n[s]);if(r+=i,i!==8)break}return r})(t);return Math.ceil(e/8)}class d9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=BT(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=BT(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(Fu),this.sn(255)}_n(){this.an(Fu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const i=new DataView(new ArrayBuffer(8));return i.setFloat64(0,s,!1),new Uint8Array(i.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Fu?(this.sn(Fu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Fu?(this.an(Fu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class h9{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class f9{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Qd{constructor(){this.cn=new d9,this.ln=new h9(this.cn),this.hn=new f9(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pl{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new pl(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Ym(this.En),directionalValue:Ym(this.dn),orderedDocumentKey:Ym(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Vo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=VT(t.En,e.En),n!==0?n:(n=VT(t.dn,e.dn),n!==0?n:he.comparator(t.In,e.In)))}function VT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Ym(t){return TI()?(function(e){let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return n})(t):t}function FT(t){return typeof t!="string"?t:(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(t)}class UT{constructor(e){this.mn=new ut(((n,r)=>Tt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(_e(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Jw(e);if(n!==void 0&&!this.wn(n))return!1;const r=al(e);let s=new Set,i=0,a=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const c=r[i];if(!this.Sn(u,c)||!this.bn(this.fn[a++],c))return!1}++i}for(;i<r.length;++i){const u=r[i];if(a>=this.fn.length||!this.bn(this.fn[a++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new ut(Tt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new zm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new zm(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new zm(r.field,r.dir==="asc"?0:1)));return new kg(kg.UNKNOWN_ID,this.collectionId,n,Wh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jP(t){var e,n;if(_e(t instanceof He||t instanceof lt,20012),t instanceof He){if(t instanceof tP){const s=((n=(e=t.value.arrayValue)==null?void 0:e.values)==null?void 0:n.map((i=>He.create(t.field,"==",i))))||[];return lt.create(s,"or")}return t}const r=t.filters.map((s=>jP(s)));return lt.create(r,t.op)}function p9(t){if(t.getFilters().length===0)return[];const e=mb(jP(t));return _e(MP(e),7391),fb(e)||pb(e)?[e]:e.getFilters()}function fb(t){return t instanceof He}function pb(t){return t instanceof lt&&q1(t)}function MP(t){return fb(t)||pb(t)||(function(e){if(e instanceof lt&&ib(e)){for(const n of e.getFilters())if(!fb(n)&&!pb(n))return!1;return!0}return!1})(t)}function mb(t){if(_e(t instanceof He||t instanceof lt,34018),t instanceof He)return t;if(t.filters.length===1)return mb(t.filters[0]);const e=t.filters.map((r=>mb(r)));let n=lt.create(e,t.op);return n=jg(n),MP(n)?n:(_e(n instanceof lt,64498),_e(Pc(n),40251),_e(n.filters.length>1,57927),n.filters.reduce(((r,s)=>Y1(r,s))))}function Y1(t,e){let n;return _e(t instanceof He||t instanceof lt,38388),_e(e instanceof He||e instanceof lt,25473),n=t instanceof He?e instanceof He?(function(r,s){return lt.create([r,s],"and")})(t,e):zT(t,e):e instanceof He?zT(e,t):(function(r,s){if(_e(r.filters.length>0&&s.filters.length>0,48005),Pc(r)&&Pc(s))return JN(r,s.getFilters());const i=ib(r)?r:s,a=ib(r)?s:r,u=i.filters.map((c=>Y1(c,a)));return lt.create(u,"or")})(t,e),jg(n)}function zT(t,e){if(Pc(e))return JN(e,t.getFilters());{const n=e.filters.map((r=>Y1(t,r)));return lt.create(n,"or")}}function jg(t){if(_e(t instanceof He||t instanceof lt,11850),t instanceof He)return t;const e=t.getFilters();if(e.length===1)return jg(e[0]);if(YN(t))return t;const n=e.map((s=>jg(s))),r=[];return n.forEach((s=>{s instanceof He?r.push(s):s instanceof lt&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:lt.create(r,t.op)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class m9{constructor(){this.Cn=new X1}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Pr.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class X1{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ut(ot.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ut(ot.comparator)).toArray()}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qT="IndexedDbIndexManager",fm=new Uint8Array(0);class g9{constructor(e,n){this.databaseId=n,this.vn=new X1,this.Fn=new to((r=>Rl(r)),((r,s)=>Tf(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:qn(s)};return KT(e).put(i)}return Q.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[CN(n),""],!1,!0);return KT(e).J(s).next((i=>{for(const a of i){if(a.collectionId!==n)break;r.push(Gs(a.parent))}return r}))}addFieldIndex(e,n){const r=Yd(e),s=(function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const a=zu(e);return i.next((u=>{a.put(MT(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=Yd(e),s=zu(e),i=Uu(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Yd(e),r=Uu(e),s=zu(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new UT(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=Uu(e);let s=!0;const i=new Map;return Q.forEach(this.Mn(n),(a=>this.xn(e,a).next((u=>{s&&(s=!!u),i.set(a,u)})))).next((()=>{if(s){let a=$e();const u=[];return Q.forEach(i,((c,h)=>{le(qT,`Using index ${(function(A){return`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map((M=>`${M.fieldPath}:${M.kind}`)).join(",")}`})(c)} to execute ${Rl(n)}`);const p=(function(A,M){const F=Jw(M);if(F===void 0)return null;for(const z of Ig(A,F.fieldPath))switch(z.op){case"array-contains-any":return z.value.arrayValue.values||[];case"array-contains":return[z.value]}return null})(h,c),g=(function(A,M){const F=new Map;for(const z of al(M))for(const W of Ig(A,z.fieldPath))switch(W.op){case"==":case"in":F.set(z.fieldPath.canonicalString(),W.value);break;case"not-in":case"!=":return F.set(z.fieldPath.canonicalString(),W.value),Array.from(F.values())}return null})(h,c),v=(function(A,M){const F=[];let z=!0;for(const W of al(M)){const R=W.kind===0?xT(A,W.fieldPath,A.startAt):CT(A,W.fieldPath,A.startAt);F.push(R.value),z&&(z=R.inclusive)}return new Nc(F,z)})(h,c),k=(function(A,M){const F=[];let z=!0;for(const W of al(M)){const R=W.kind===0?CT(A,W.fieldPath,A.endAt):xT(A,W.fieldPath,A.endAt);F.push(R.value),z&&(z=R.inclusive)}return new Nc(F,z)})(h,c),_=this.On(c,h,v),S=this.On(c,h,k),T=this.Nn(c,h,g),N=this.Bn(c.indexId,p,_,v.inclusive,S,k.inclusive,T);return Q.forEach(N,(A=>r.Y(A,n.limit).next((M=>{M.forEach((F=>{const z=he.fromSegments(F.documentKey);a.has(z)||(a=a.add(z),u.push(z))}))}))))})).next((()=>u))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=p9(lt.create(e.filters,"and")).map((r=>ab(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,a,u){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),h=c/(n!=null?n.length:1),p=[];for(let g=0;g<c;++g){const v=n?this.Ln(n[g/h]):fm,k=this.kn(e,v,r[g%h],s),_=this.qn(e,v,i[g%h],a),S=u.map((T=>this.kn(e,v,T,!0)));p.push(...this.createRange(k,_,S))}return p}kn(e,n,r,s){const i=new pl(e,he.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new pl(e,he.empty(),n,r);return s?i.An():i}xn(e,n){const r=new UT(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let a=null;for(const u of i)r.yn(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return Q.forEach(s,(i=>this.xn(e,i).next((a=>{a?r!==0&&a.fields.length<(function(u){let c=new ut(Tt.comparator),h=!1;for(const p of u.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?h=!0:c=c.add(g.field));for(const p of u.orderBy)p.field.isKeyField()||(c=c.add(p.field));return c.size+(h?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(i){return i.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new Qd;for(const s of al(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const a=r.Pn(s.kind);fl.Kt.Dt(i,a)}return r.un()}Ln(e){const n=new Qd;return fl.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Qd;return fl.Kt.Dt(Zh(this.databaseId,n),r.Pn((function(s){const i=al(s);return i.length===0?0:i[i.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new Qd);let i=0;for(const a of al(e)){const u=r[i++];for(const c of s)if(this.Un(n,a.fieldPath)&&ef(u))s=this.Kn(s,a,u);else{const h=c.Pn(a.kind);fl.Kt.Dt(u,h)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const a of r.arrayValue.values||[])for(const u of s){const c=new Qd;c.seed(u.un()),fl.Kt.Dt(a,c.Pn(n.kind)),i.push(c)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof He&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Yd(e),s=zu(e);return(n?r.J(eb,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const a=[];return Q.forEach(i,(u=>s.get([u.indexId,this.uid]).next((c=>{a.push((function(h,p){const g=p?new Wh(p.sequenceNumber,new Pr(Ml(p.readTime),new he(Gs(p.documentKey)),p.largestBatchId)):Wh.empty(),v=h.fields.map((([k,_])=>new zm(Tt.fromServerFormat(k),_)));return new kg(h.indexId,h.collectionGroup,v,g)})(u,c))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Be(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=Yd(e),i=zu(e);return this.Gn(e).next((a=>s.J(eb,IDBKeyRange.bound(n,n)).next((u=>Q.forEach(u,(c=>i.put(MT(c.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((s,i)=>{const a=r.get(s.collectionGroup);return(a?Q.resolve(a):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Q.forEach(u,(c=>this.zn(e,s,c).next((h=>{const p=this.jn(i,c);return h.isEqual(p)?Q.resolve():this.Jn(e,i,c,h,p)})))))))}))}Hn(e,n,r,s){return Uu(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return Uu(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=Uu(e);let i=new ut(Vo);return s.ee({index:RN,range:IDBKeyRange.only([r.indexId,this.uid,Ym(this.$n(r,n))])},((a,u)=>{i=i.add(new pl(r.indexId,n,FT(u.arrayValue),FT(u.directionalValue)))})).next((()=>i))}jn(e,n){let r=new ut(Vo);const s=this.Qn(n,e);if(s==null)return r;const i=Jw(n);if(i!=null){const a=e.data.field(i.fieldPath);if(ef(a))for(const u of a.arrayValue.values||[])r=r.add(new pl(n.indexId,e.key,this.Ln(u),s))}else r=r.add(new pl(n.indexId,e.key,fm,s));return r}Jn(e,n,r,s,i){le(qT,"Updating index entries for document '%s'",n.key);const a=[];return(function(u,c,h,p,g){const v=u.getIterator(),k=c.getIterator();let _=Vu(v),S=Vu(k);for(;_||S;){let T=!1,N=!1;if(_&&S){const A=h(_,S);A<0?N=!0:A>0&&(T=!0)}else _!=null?N=!0:T=!0;T?(p(S),S=Vu(k)):N?(g(_),_=Vu(v)):(_=Vu(v),S=Vu(k))}})(s,i,Vo,(u=>{a.push(this.Hn(e,n,r,u))}),(u=>{a.push(this.Yn(e,n,r,u))})),Q.waitFor(a)}Gn(e){let n=1;return zu(e).ee({index:AN,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,u)=>Vo(a,u))).filter(((a,u,c)=>!u||Vo(a,c[u-1])!==0));const s=[];s.push(e);for(const a of r){const u=Vo(a,e),c=Vo(a,n);if(u===0)s[0]=e.An();else if(u>0&&c<0)s.push(a),s.push(a.An());else if(c>0)break}s.push(n);const i=[];for(let a=0;a<s.length;a+=2){if(this.Zn(s[a],s[a+1]))return[];const u=s[a].Vn(this.uid,fm,he.empty()),c=s[a+1].Vn(this.uid,fm,he.empty());i.push(IDBKeyRange.bound(u,c))}return i}Zn(e,n){return Vo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next($T)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||ke(44426))))).next($T)}}function KT(t){return vn(t,Yh)}function Uu(t){return vn(t,Ph)}function Yd(t){return vn(t,L1)}function zu(t){return vn(t,Nh)}function $T(t){_e(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;j1(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Pr(e.readTime,e.documentKey,n)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const WT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OP=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function LP(t,e,n){const r=t.store(ps),s=t.store(Ec),i=[],a=IDBKeyRange.only(n.batchId);let u=0;const c=r.ee({range:a},((p,g,v)=>(u++,v.delete())));i.push(c.next((()=>{_e(u===1,47070,{batchId:n.batchId})})));const h=[];for(const p of n.mutations){const g=IN(e,p.key.path,n.batchId);i.push(s.delete(g)),h.push(p.key)}return Q.waitFor(i).next((()=>h))}function Mg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ke(14731);e=t.noDocument}return JSON.stringify(e).length}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(OP,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class Iy{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){_e(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new Iy(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fo(e).ee({index:ml,range:r},((s,i,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=lc(e),a=Fo(e);return a.add({}).next((u=>{_e(typeof u=="number",49019);const c=new $1(u,n,r,s),h=(function(v,k,_){const S=_.baseMutations.map((N=>Ag(v.yt,N))),T=_.mutations.map((N=>Ag(v.yt,N)));return{userId:k,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:S,mutations:T}})(this.serializer,this.userId,c),p=[];let g=new ut(((v,k)=>Be(v.canonicalString(),k.canonicalString())));for(const v of s){const k=IN(this.userId,v.key.path,u);g=g.add(v.key.path.popLast()),p.push(a.put(h)),p.push(i.put(k,$V))}return g.forEach((v=>{p.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=c.keys()})),Q.waitFor(p).next((()=>c))}))}lookupMutationBatch(e,n){return Fo(e).get(n).next((r=>r?(_e(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),hl(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Fo(e).ee({index:ml,range:s},((a,u,c)=>{u.userId===this.userId&&(_e(u.batchId>=r,47524,{tr:r}),i=hl(this.serializer,u)),c.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=xl;return Fo(e).ee({index:ml,range:n,reverse:!0},((s,i,a)=>{r=i.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,xl],[this.userId,Number.POSITIVE_INFINITY]);return Fo(e).J(ml,n).next((r=>r.map((s=>hl(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=qm(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return lc(e).ee({range:s},((a,u,c)=>{const[h,p,g]=a,v=Gs(p);if(h===this.userId&&n.path.isEqual(v))return Fo(e).get(g).next((k=>{if(!k)throw ke(61480,{nr:a,batchId:g});_e(k.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:k.userId,batchId:g}),i.push(hl(this.serializer,k))}));c.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Be);const s=[];return n.forEach((i=>{const a=qm(this.userId,i.path),u=IDBKeyRange.lowerBound(a),c=lc(e).ee({range:u},((h,p,g)=>{const[v,k,_]=h,S=Gs(k);v===this.userId&&i.path.isEqual(S)?r=r.add(_):g.done()}));s.push(c)})),Q.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=qm(this.userId,r),a=IDBKeyRange.lowerBound(i);let u=new ut(Be);return lc(e).ee({range:a},((c,h,p)=>{const[g,v,k]=c,_=Gs(v);g===this.userId&&r.isPrefixOf(_)?_.length===s&&(u=u.add(k)):p.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push(Fo(e).get(i).next((a=>{if(a===null)throw ke(35274,{batchId:i});_e(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:i}),r.push(hl(this.serializer,a))})))})),Q.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return LP(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(i){return[i]})(this.userId)),s=[];return lc(e).ee({range:r},((i,a,u)=>{if(i[0]===this.userId){const c=Gs(i[1]);s.push(c)}else u.done()})).next((()=>{_e(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return BP(e,this.userId,n)}_r(e){return VP(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:xl,lastStreamToken:""}))}}function BP(t,e,n){const r=qm(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let a=!1;return lc(t).ee({range:i,X:!0},((u,c,h)=>{const[p,g,v]=u;p===e&&g===s&&(a=!0),h.done()})).next((()=>a))}function Fo(t){return vn(t,ps)}function lc(t){return vn(t,Ec)}function VP(t){return vn(t,Hh)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ol(0)}static cr(){return new Ol(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class y9{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Ol(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ie.fromTimestamp(new rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>qu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(_e(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return qu(e).ee(((a,u)=>{const c=Ch(u);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))})).next((()=>Q.waitFor(i))).next((()=>s))}forEachTarget(e,n){return qu(e).ee(((r,s)=>{const i=Ch(s);n(i)}))}lr(e){return GT(e).get(Tg).next((n=>(_e(n!==null,2888),n)))}hr(e,n){return GT(e).put(Tg,n)}Pr(e,n){return qu(e).put(AP(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Rl(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return qu(e).ee({range:s,index:PN},((a,u,c)=>{const h=Ch(u);Tf(n,h.target)&&(i=h,c.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=Zo(e);return n.forEach((a=>{const u=qn(a.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,a))})),Q.waitFor(s)}removeMatchingKeys(e,n,r){const s=Zo(e);return Q.forEach(n,(i=>{const a=qn(i.path);return Q.waitFor([s.delete([r,a]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=Zo(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Zo(e);let i=$e();return s.ee({range:r,X:!0},((a,u,c)=>{const h=Gs(a[1]),p=new he(h);i=i.add(p)})).next((()=>i))}containsKey(e,n){const r=qn(n.path),s=IDBKeyRange.bound([r],[CN(r)],!1,!0);let i=0;return Zo(e).ee({index:O1,X:!0,range:s},(([a,u],c,h)=>{a!==0&&(i++,h.done())})).next((()=>i>0))}At(e,n){return qu(e).get(n).next((r=>r?Ch(r):null))}}function qu(t){return vn(t,Sc)}function GT(t){return vn(t,Cl)}function Zo(t){return vn(t,Tc)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HT="LruGarbageCollector",v9=1048576;function QT([t,e],[n,r]){const s=Be(t,n);return s===0?Be(e,r):s}class w9{constructor(e){this.Ir=e,this.buffer=new ut(QT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();QT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(HT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wa(n)?le(HT,"Ignoring IndexedDB error during garbage collection: ",n):await Wl(n)}await this.Vr(3e5)}))}}class b9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Hr.ce);const r=new w9(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(WT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,u,c,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,a=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),sc()<=Ge.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${s} in `+(u-a)+`ms
	Removed ${i} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(h-c)+`ms
Total Duration: ${h-p}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function UP(t,e){return new b9(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class x9{constructor(e,n){this.db=e,this.garbageCollector=UP(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return pm(e,r)}removeReference(e,n,r){return pm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return pm(e,n)}br(e,n){return(function(r,s){let i=!1;return VP(r).te((a=>BP(r,a,s).next((u=>(u&&(i=!0),Q.resolve(!u)))))).next((()=>i))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((a,u)=>{if(u<=n){const c=this.br(e,a).next((h=>{if(!h)return i++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Ie.min()),Zo(e).delete((function(p){return[0,qn(p.path)]})(a)))))}));s.push(c)}})).next((()=>Q.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return pm(e,n)}Sr(e,n){const r=Zo(e);let s,i=Hr.ce;return r.ee({index:O1},(([a,u],{path:c,sequenceNumber:h})=>{a===0?(i!==Hr.ce&&n(new he(Gs(s)),i),i=h,s=c):i=Hr.ce})).next((()=>{i!==Hr.ce&&n(new he(Gs(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pm(t,e){return Zo(t).put((function(n,r){return{targetId:0,path:qn(n.path),sequenceNumber:r}})(e,t.currentSequenceNumber))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zP{constructor(){this.changes=new to((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Qa(e).put(r)}removeEntry(e,n,r){return Qa(e).delete((function(s,i){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Rg(i),a[a.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=jt.newInvalidDocument(n);return Qa(e).ee({index:Km,range:IDBKeyRange.only(Xd(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:jt.newInvalidDocument(n)};return Qa(e).ee({index:Km,range:IDBKeyRange.only(Xd(n))},((s,i)=>{r={document:this.Cr(n,i),size:Mg(i)}})).next((()=>r))}getEntries(e,n){let r=Dr();return this.Fr(e,n,((s,i)=>{const a=this.Cr(s,i);r=r.insert(s,a)})).next((()=>r))}Mr(e,n){let r=Dr(),s=new kt(he.comparator);return this.Fr(e,n,((i,a)=>{const u=this.Cr(i,a);r=r.insert(i,u),s=s.insert(i,Mg(a))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let s=new ut(JT);n.forEach((c=>s=s.add(c)));const i=IDBKeyRange.bound(Xd(s.first()),Xd(s.last())),a=s.getIterator();let u=a.getNext();return Qa(e).ee({index:Km,range:i},((c,h,p)=>{const g=he.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;u&&JT(u,g)<0;)r(u,null),u=a.getNext();u&&u.isEqual(g)&&(r(u,h),u=a.hasNext()?a.getNext():null),u?p.j(Xd(u)):p.done()})).next((()=>{for(;u;)r(u,null),u=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const a=n.path,u=[a.popLast().toArray(),a.lastSegment(),Rg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qa(e).J(IDBKeyRange.bound(u,c,!0)).next((h=>{i==null||i.incrementDocumentReadCount(h.length);let p=Dr();for(const g of h){const v=this.Cr(he.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(Df(n,v)||s.has(v.key))&&(p=p.insert(v.key,v))}return p}))}getAllFromCollectionGroup(e,n,r,s){let i=Dr();const a=XT(n,r),u=XT(n,Pr.max());return Qa(e).ee({index:NN,range:IDBKeyRange.bound(a,u,!0)},((c,h,p)=>{const g=this.Cr(he.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);i=i.insert(g.key,g),i.size===s&&p.done()})).next((()=>i))}newChangeBuffer(e){return new k9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return YT(e).get(Zw).next((n=>(_e(!!n,20021),n)))}Dr(e,n){return YT(e).put(Zw,n)}Cr(e,n){if(n){const r=a9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ie.min())))return r}return jt.newInvalidDocument(e)}}function qP(t){return new C9(t)}class k9 extends zP{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new to((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new ut(((i,a)=>Be(i.canonicalString(),a.canonicalString())));return this.changes.forEach(((i,a)=>{const u=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,u.readTime)),a.isValidDocument()){const c=RT(this.Nr.serializer,a);s=s.add(i.path.popLast());const h=Mg(c);r+=h-u.size,n.push(this.Nr.addEntry(e,i,c))}else if(r-=u.size,this.trackRemovals){const c=RT(this.Nr.serializer,a.convertToNoDocument(Ie.min()));n.push(this.Nr.addEntry(e,i,c))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,a)=>{this.Br.set(i,{size:a,readTime:r.get(i).readTime})})),r)))}}function YT(t){return vn(t,Qh)}function Qa(t){return vn(t,Sg)}function Xd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function XT(t,e){const n=e.documentKey.path.toArray();return[t,Rg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function JT(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Be(n[i],r[i]),s)return s;return s=Be(n.length,r.length),s||(s=Be(n[n.length-2],r[r.length-2]),s||Be(n[n.length-1],r[r.length-1]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class E9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KP{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Mh(r.mutation,s,dr.empty(),rt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,$e()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=$e()){const s=Hs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let a=bh();return i.forEach(((u,c)=>{a=a.insert(u,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Hs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,$e())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((a,u)=>{n.set(a,u)}))}))}computeViews(e,n,r,s){let i=Dr();const a=jh(),u=(function(){return jh()})();return n.forEach(((c,h)=>{const p=r.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof no)?i=i.insert(h.key,h):p!==void 0?(a.set(h.key,p.mutation.getFieldMask()),Mh(p.mutation,h,p.mutation.getFieldMask(),rt.now())):a.set(h.key,dr.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((h,p)=>a.set(h,p))),n.forEach(((h,p)=>u.set(h,new E9(p,a.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=jh();let s=new kt(((a,u)=>a-u)),i=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const u of a)u.keys().forEach((c=>{const h=n.get(c);if(h===null)return;let p=r.get(c)||dr.empty();p=u.applyToLocalView(h,p),r.set(c,p);const g=(s.get(u.batchId)||$e()).add(c);s=s.insert(u.batchId,g)}))})).next((()=>{const a=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,p=c.value,g=aP();p.forEach((v=>{if(!i.has(v)){const k=pP(n.get(v),r.get(v));k!==null&&g.set(v,k),i=i.add(v)}})),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Q.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(i){return he.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Hs());let u=$h,c=i;return a.next((h=>Q.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),i.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{c=c.insert(p,v)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,c,h,$e()))).next((p=>({batchId:u,changes:oP(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next((r=>{let s=bh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=bh();return this.indexManager.getCollectionParents(e,i).next((u=>Q.forEach(u,(c=>{const h=(function(p,g){return new zc(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((p=>{p.forEach(((g,v)=>{a=a.insert(g,v)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((a=>{i.forEach(((c,h)=>{const p=h.getKey();a.get(p)===null&&(a=a.insert(p,jt.newInvalidDocument(p)))}));let u=bh();return a.forEach(((c,h)=>{const p=i.get(c);p!==void 0&&Mh(p.mutation,h,dr.empty(),rt.now()),Df(n,h)&&(u=u.insert(c,h))})),u}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Xn(r.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:RP(r.bundledQuery),readTime:Xn(r.readTime)}})(n)),Q.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class T9{constructor(){this.overlays=new kt(he.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hs();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Hs(),i=n.length+1,a=new he(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new kt(((h,p)=>h-p));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=i.get(h.largestBatchId);p===null&&(p=Hs(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=Hs(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=s)););return Q.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new G1(n,r));let i=this.qr.get(n);i===void 0&&(i=$e(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _9{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J1{constructor(){this.Qr=new ut(Cn.$r),this.Ur=new ut(Cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Cn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Cn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new he(new ot([])),r=new Cn(n,e),s=new Cn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new he(new ot([])),r=new Cn(n,e),s=new Cn(n,e+1);let i=$e();return this.Ur.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new Cn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Cn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return he.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||he.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class D9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ut(Cn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new $1(i,n,r,s);this.mutationQueue.push(a);for(const u of s)this.Zr=this.Zr.add(new Cn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?xl:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Cn(n,0),s=new Cn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(a=>{const u=this.Xr(a.Yr);i.push(u)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Be);return n.forEach((s=>{const i=new Cn(s,0),a=new Cn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(u=>{r=r.add(u.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;he.isDocumentKey(i)||(i=i.child(""));const a=new Cn(new he(i),0);let u=new ut(Be);return this.Zr.forEachWhile((c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(u=u.add(c.Yr)),!0)}),a),Q.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(s=>{const i=new Cn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Cn(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I9{constructor(e){this.ri=e,this.docs=(function(){return new kt(he.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=Dr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jt.newInvalidDocument(s))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Dr();const a=n.path,u=new he(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||j1(SN(p),r)<=0||(s.has(p.key)||Df(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ke(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new N9(this)}getSize(e){return Q.resolve(this.size)}}class N9 extends zP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class P9{constructor(e){this.persistence=e,this.si=new to((n=>Rl(n)),Tf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new J1,this.targetCount=0,this.ai=Ol.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ol(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Q.waitFor(i).next((()=>s))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(e,a))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Z1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hr(0),this.li=!1,this.li=!0,this.hi=new _9,this.referenceDelegate=e(this),this.Pi=new P9(this),this.indexManager=new m9,this.remoteDocumentCache=(function(r){return new I9(r)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new PP(n),this.Ii=new S9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new D9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new A9(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class A9 extends _N{constructor(e){super(),this.currentSequenceNumber=e}}class Ny{constructor(e){this.persistence=e,this.Ri=new J1,this.Vi=null}static mi(e){return new Ny(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const s=he.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Og{constructor(e,n){this.persistence=e,this.pi=new to((r=>qn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=UP(this,n)}static mi(e,n){return new Og(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Q.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(a=>this.br(e,a,n).next((u=>{u||(r++,i.removeEntry(a,Ie.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wm(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R9{constructor(e){this.serializer=e}k(e,n,r,s){const i=new gy("createOrUpgrade",n);r<1&&s>=1&&((function(u){u.createObjectStore(Sf)})(e),(function(u){u.createObjectStore(Hh,{keyPath:KV}),u.createObjectStore(ps,{keyPath:uT,autoIncrement:!0}).createIndex(ml,cT,{unique:!0}),u.createObjectStore(Ec)})(e),ZT(e),(function(u){u.createObjectStore(ll)})(e));let a=Q.resolve();return r<3&&s>=3&&(r!==0&&((function(u){u.deleteObjectStore(Tc),u.deleteObjectStore(Sc),u.deleteObjectStore(Cl)})(e),ZT(e)),a=a.next((()=>(function(u){const c=u.store(Cl),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return c.put(Tg,h)})(i)))),r<4&&s>=4&&(r!==0&&(a=a.next((()=>(function(u,c){return c.store(ps).J().next((h=>{u.deleteObjectStore(ps),u.createObjectStore(ps,{keyPath:uT,autoIncrement:!0}).createIndex(ml,cT,{unique:!0});const p=c.store(ps),g=h.map((v=>p.put(v)));return Q.waitFor(g)}))})(e,i)))),a=a.next((()=>{(function(u){u.createObjectStore(_c,{keyPath:ZV})})(e)}))),r<5&&s>=5&&(a=a.next((()=>this.yi(i)))),r<6&&s>=6&&(a=a.next((()=>((function(u){u.createObjectStore(Qh)})(e),this.wi(i))))),r<7&&s>=7&&(a=a.next((()=>this.Si(i)))),r<8&&s>=8&&(a=a.next((()=>this.bi(e,i)))),r<9&&s>=9&&(a=a.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(a=a.next((()=>this.Di(i)))),r<11&&s>=11&&(a=a.next((()=>{(function(u){u.createObjectStore(vy,{keyPath:eF})})(e),(function(u){u.createObjectStore(wy,{keyPath:tF})})(e)}))),r<12&&s>=12&&(a=a.next((()=>{(function(u){const c=u.createObjectStore(by,{keyPath:lF});c.createIndex(tb,uF,{unique:!1}),c.createIndex(jN,cF,{unique:!1})})(e)}))),r<13&&s>=13&&(a=a.next((()=>(function(u){const c=u.createObjectStore(Sg,{keyPath:WV});c.createIndex(Km,GV),c.createIndex(NN,HV)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(ll)))),r<14&&s>=14&&(a=a.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(a=a.next((()=>(function(u){u.createObjectStore(L1,{keyPath:nF,autoIncrement:!0}).createIndex(eb,rF,{unique:!1}),u.createObjectStore(Nh,{keyPath:sF}).createIndex(AN,iF,{unique:!1}),u.createObjectStore(Ph,{keyPath:oF}).createIndex(RN,aF,{unique:!1})})(e)))),r<16&&s>=16&&(a=a.next((()=>{n.objectStore(Nh).clear()})).next((()=>{n.objectStore(Ph).clear()}))),r<17&&s>=17&&(a=a.next((()=>{(function(u){u.createObjectStore(B1,{keyPath:dF})})(e)}))),r<18&&s>=18&&TI()&&(a=a.next((()=>{n.objectStore(Nh).clear()})).next((()=>{n.objectStore(Ph).clear()}))),a}wi(e){let n=0;return e.store(ll).ee(((r,s)=>{n+=Mg(s)})).next((()=>{const r={byteSize:n};return e.store(Qh).put(Zw,r)}))}yi(e){const n=e.store(Hh),r=e.store(ps);return n.J().next((s=>Q.forEach(s,(i=>{const a=IDBKeyRange.bound([i.userId,xl],[i.userId,i.lastAcknowledgedBatchId]);return r.J(ml,a).next((u=>Q.forEach(u,(c=>{_e(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const h=hl(this.serializer,c);return LP(e,i.userId,h).next((()=>{}))}))))}))))}Si(e){const n=e.store(Tc),r=e.store(ll);return e.store(Cl).get(Tg).next((s=>{const i=[];return r.ee(((a,u)=>{const c=new ot(a),h=(function(p){return[0,qn(p)]})(c);i.push(n.get(h).next((p=>p?Q.resolve():(g=>n.put({targetId:0,path:qn(g),sequenceNumber:s.highestListenSequenceNumber}))(c))))})).next((()=>Q.waitFor(i)))}))}bi(e,n){e.createObjectStore(Yh,{keyPath:JV});const r=n.store(Yh),s=new X1,i=a=>{if(s.add(a)){const u=a.lastSegment(),c=a.popLast();return r.put({collectionId:u,parent:qn(c)})}};return n.store(ll).ee({X:!0},((a,u)=>{const c=new ot(a);return i(c.popLast())})).next((()=>n.store(Ec).ee({X:!0},(([a,u,c],h)=>{const p=Gs(u);return i(p.popLast())}))))}Di(e){const n=e.store(Sc);return n.ee(((r,s)=>{const i=Ch(s),a=AP(this.serializer,i);return n.put(a)}))}Ci(e,n){const r=n.store(ll),s=[];return r.ee(((i,a)=>{const u=n.store(Sg),c=(function(p){return p.document?new he(ot.fromString(p.document.name).popFirst(5)):p.noDocument?he.fromSegments(p.noDocument.path):p.unknownDocument?he.fromSegments(p.unknownDocument.path):ke(36783)})(a).path.toArray(),h={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};s.push(u.put(h))})).next((()=>Q.waitFor(s)))}Fi(e,n){const r=n.store(ps),s=qP(this.serializer),i=new Z1(Ny.mi,this.serializer.yt);return r.J().next((a=>{const u=new Map;return a.forEach((c=>{let h=u.get(c.userId)??$e();hl(this.serializer,c).keys().forEach((p=>h=h.add(p))),u.set(c.userId,h)})),Q.forEach(u,((c,h)=>{const p=new Nn(h),g=Dy.wt(this.serializer,p),v=i.getIndexManager(p),k=Iy.wt(p,this.serializer,v,i.referenceDelegate);return new KP(s,k,g,v).recalculateAndSaveOverlaysForDocumentKeys(new nb(n,Hr.ce),c).next()}))}))}}function ZT(t){t.createObjectStore(Tc,{keyPath:YV}).createIndex(O1,XV,{unique:!0}),t.createObjectStore(Sc,{keyPath:"targetId"}).createIndex(PN,QV,{unique:!0}),t.createObjectStore(Cl)}const Uo="IndexedDbPersistence",U0=18e5,z0=5e3,q0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",j9="main";class ex{constructor(e,n,r,s,i,a,u,c,h,p,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=a,this.document=u,this.xi=h,this.Oi=p,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!ex.v())throw new ce(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new x9(this,s),this.$i=n+j9,this.serializer=new PP(c),this.Ui=new sa(this.$i,this.Ni,new R9(this.serializer)),this.hi=new u9,this.Pi=new y9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qP(this.serializer),this.Ii=new l9,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&Gn(Uo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,q0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Hr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>mm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(wa(e))return le(Uo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(Uo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Jd(e).get(Bu).next((n=>Q.resolve(this.es(n))))}ts(e){return mm(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,U0)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=vn(n,_c);return r.J().next((s=>{const i=this.ss(s,U0),a=s.filter((u=>i.indexOf(u)===-1));return Q.forEach(a,(u=>r.delete(u.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):Jd(e).get(Bu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,z0)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,q0);return!1}}return!(!this.networkEnabled||!this.inForeground)||mm(e).J().next((r=>this.ss(r,z0).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,a=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||a&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&le(Uo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Sf,_c],(e=>{const n=new nb(e,Hr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>mm(e).J().next((n=>this.ss(n,U0).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Iy.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new g9(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Dy.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){le(Uo,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(u){return u===18?pF:u===17?BN:u===16?fF:u===15?V1:u===14?LN:u===13?ON:u===12?hF:u===11?MN:void ke(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,s,i,(u=>(a=new nb(u,this.ci?this.ci.next():Hr.ce),n==="readwrite-primary"?this.Hi(a).next((c=>!!c||this.Yi(a))).next((c=>{if(!c)throw Gn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ce(te.FAILED_PRECONDITION,TN);return r(a)})).next((c=>this.Xi(a).next((()=>c)))):this.Is(a).next((()=>r(a)))))).then((u=>(a.raiseOnCommittedEvent(),u)))}Is(e){return Jd(e).get(Bu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,z0)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(te.FAILED_PRECONDITION,q0)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jd(e).put(Bu,n)}static v(){return sa.v()}Zi(e){const n=Jd(e);return n.get(Bu).next((r=>this.es(r)?(le(Uo,"Releasing primary lease."),n.delete(Bu)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Gn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;SI()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return le(Uo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Gn(Uo,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Gn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Jd(t){return vn(t,Sf)}function mm(t){return vn(t,_c)}function M9(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=$e(),s=$e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new tx(e,n.fromCache,r,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $P{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SI()?8:DN(yn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new O9;return this.Ss(e,n,a).next((u=>{if(i.result=u,this.Vs)return this.bs(e,n,a,u.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(sc()<=Ge.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ic(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(sc()<=Ge.DEBUG&&le("QueryEngine","Query:",ic(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(sc()<=Ge.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ic(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):Q.resolve())}ys(e,n){if(kT(n))return Q.resolve(null);let r=Xr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Ng(n,null,"F"),r=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const a=$e(...i);return this.ps.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const h=this.Ds(n,u);return this.Cs(n,h,a,c.readTime)?this.ys(e,Ng(n,null,"F")):this.vs(e,h,n,c)}))))})))))}ws(e,n,r,s){return kT(n)||s.isEqual(Ie.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?Q.resolve(null):(sc()<=Ge.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ic(n)),this.vs(e,a,n,LV(s,$h)).next((u=>u)))}))}Ds(e,n){let r=new ut(sP(e));return n.forEach(((s,i)=>{Df(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return sc()<=Ge.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ic(n)),this.ps.getDocumentsMatchingQuery(e,n,Pr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nx="LocalStore",L9=3e8;class B9{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new kt(Be),this.xs=new to((i=>Rl(i)),Tf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function WP(t,e,n,r){return new B9(t,e,n,r)}async function GP(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],u=[];let c=$e();for(const h of s){a.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of i){u.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:u})))}))}))}function V9(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,u,c,h){const p=c.batch,g=p.keys();let v=Q.resolve();return g.forEach((k=>{v=v.next((()=>h.getEntry(u,k))).next((_=>{const S=c.docVersions.get(k);_e(S!==null,48541),_.version.compareTo(S)<0&&(p.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),h.addEntry(_)))}))})),v.next((()=>a.mutationQueue.removeMutationBatch(u,p)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=$e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function HP(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function F9(t,e){const n=Ve(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const v=s.get(g);if(!v)return;u.push(n.Pi.removeMatchingKeys(i,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,p.addedDocuments,g))));let k=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?k=k.withResumeToken(hn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):p.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(p.resumeToken,r)),s=s.insert(g,k),(function(_,S,T){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=L9?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(v,k,p)&&u.push(n.Pi.updateTargetData(i,k))}));let c=Dr(),h=$e();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))})),u.push(U9(i,a,e.documentUpdates).next((p=>{c=p.ks,h=p.qs}))),!r.isEqual(Ie.min())){const p=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(p)}return Q.waitFor(u).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,h))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function U9(t,e,n){let r=$e(),s=$e();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let a=Dr();return n.forEach(((u,c)=>{const h=i.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(Ie.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):le(nx,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)})),{ks:a,qs:s}}))}function z9(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function q9(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Q.resolve(s)):n.Pi.allocateTargetId(r).next((a=>(s=new Vi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function gb(t,e,n){const r=Ve(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!wa(a))throw a;le(nx,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function e_(t,e,n){const r=Ve(t);let s=Ie.min(),i=$e();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,c,h){const p=Ve(u),g=p.xs.get(h);return g!==void 0?Q.resolve(p.Ms.get(g)):p.Pi.getTargetData(c,h)})(r,a,Xr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,u.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Ie.min(),n?i:$e()))).next((u=>(K9(r,IF(e),u),{documents:u,Qs:i})))))}function K9(t,e,n){let r=t.Os.get(e)||Ie.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class t_{constructor(){this.activeTargetIds=MF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QP{constructor(){this.Mo=new t_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new t_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $9{Oo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const n_="ConnectivityMonitor";class r_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(n_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(n_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let gm=null;function yb(){return gm===null?gm=(function(){return 268435456+Math.round(2147483648*Math.random())})():gm++,"0x"+gm.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const K0="RestConnection",W9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===_g?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=yb(),u=this.zo(e,n.toUriEncodedString());le(K0,`Sending RPC '${e}' ${a}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:h}=new URL(u),p=ql(h);return this.Jo(e,u,c,r,p).then((g=>(le(K0,`Received RPC '${e}' ${a}: `,g),g)),(g=>{throw Pl(K0,`RPC '${e}' ${a} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=W9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class H9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bn="WebChannelConnection";class Q9 extends G9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=yb();return new Promise(((u,c)=>{const h=new mN;h.setWithCredentials(!0),h.listenOnce(gN.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Um.NO_ERROR:const g=h.getResponseJson();le(Bn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Um.TIMEOUT:le(Bn,`RPC '${e}' ${a} timed out`),c(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case Um.HTTP_ERROR:const v=h.getStatus();if(le(Bn,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let k=h.getResponseJson();Array.isArray(k)&&(k=k[0]);const _=k==null?void 0:k.error;if(_&&_.status&&_.message){const S=(function(T){const N=T.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(N)>=0?N:te.UNKNOWN})(_.status);c(new ce(S,_.message))}else c(new ce(te.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ce(te.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{le(Bn,`RPC '${e}' ${a} completed.`)}}));const p=JSON.stringify(s);le(Bn,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const s=yb(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=wN(),u=vN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=i.join("");le(Bn,`Creating RPC '${e}' stream ${s}: ${p}`,c);const g=a.createWebChannel(p,c);this.I_(g);let v=!1,k=!1;const _=new H9({Yo:T=>{k?le(Bn,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(v||(le(Bn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),le(Bn,`RPC '${e}' stream ${s} sending:`,T),g.send(T))},Zo:()=>g.close()}),S=(T,N,A)=>{T.listen(N,(M=>{try{A(M)}catch(F){setTimeout((()=>{throw F}),0)}}))};return S(g,wh.EventType.OPEN,(()=>{k||(le(Bn,`RPC '${e}' stream ${s} transport opened.`),_.o_())})),S(g,wh.EventType.CLOSE,(()=>{k||(k=!0,le(Bn,`RPC '${e}' stream ${s} transport closed`),_.a_(),this.E_(g))})),S(g,wh.EventType.ERROR,(T=>{k||(k=!0,Pl(Bn,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),_.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),S(g,wh.EventType.MESSAGE,(T=>{var N;if(!k){const A=T.data[0];_e(!!A,16349);const M=A,F=(M==null?void 0:M.error)||((N=M[0])==null?void 0:N.error);if(F){le(Bn,`RPC '${e}' stream ${s} received error:`,F);const z=F.status;let W=(function(D){const P=un[D];if(P!==void 0)return yP(P)})(z),R=F.message;W===void 0&&(W=te.INTERNAL,R="Unknown error status: "+z+" with message "+F.message),k=!0,_.a_(new ce(W,R)),g.close()}else le(Bn,`RPC '${e}' stream ${s} received:`,A),_.u_(A)}})),S(u,yN.STAT_EVENT,(T=>{T.stat===Yw.PROXY?le(Bn,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Yw.NOPROXY&&le(Bn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Y9(){return typeof window<"u"?window:null}function Xm(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Py(t){return new XF(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YP{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const s_="PersistentStream";class XP{constructor(e,n,r,s,i,a,u,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Gn(n.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(s_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(s_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class X9 extends XP{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=e9(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ie.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Ie.min():i.readTime?Xn(i.readTime):Ie.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=db(this.serializer),n.addTarget=(function(s,i){let a;const u=i.target;if(a=Dg(u)?{documents:SP(s,u)}:{query:TP(s,u).ft},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=bP(s,i.resumeToken);const c=ub(s,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(Ie.min())>0){a.readTime=Mc(s,i.snapshotVersion.toTimestamp());const c=ub(s,i.expectedCount);c!==null&&(a.expectedCount=c)}return a})(this.serializer,e);const r=n9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=db(this.serializer),n.removeTarget=e,this.q_(n)}}class J9 extends XP{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=t9(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=db(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Ag(this.serializer,r)))};this.q_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Z9{}class eU extends Z9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,cb(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(te.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Ho(e,cb(n,r),s,a,u,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(te.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gn(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ll="RemoteStore";class nU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Gl(this)&&(le(Ll,"Restarting streams for network reachability change."),await(async function(u){const c=Ve(u);c.Ea.add(4),await Nf(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Ay(c)})(this))}))})),this.Ra=new tU(r,s)}}async function Ay(t){if(Gl(t))for(const e of t.da)await e(!0)}async function Nf(t){for(const e of t.da)await e(!1)}function JP(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ox(n)?ix(n):Kc(n).O_()&&sx(n,e))}function rx(t,e){const n=Ve(t),r=Kc(n);n.Ia.delete(e),r.O_()&&ZP(n,e),n.Ia.size===0&&(r.O_()?r.L_():Gl(n)&&n.Ra.set("Unknown"))}function sx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kc(t).Y_(e)}function ZP(t,e){t.Va.Ue(e),Kc(t).Z_(e)}function ix(t){t.Va=new GF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Kc(t).start(),t.Ra.ua()}function ox(t){return Gl(t)&&!Kc(t).x_()&&t.Ia.size>0}function Gl(t){return Ve(t).Ea.size===0}function eA(t){t.Va=void 0}async function rU(t){t.Ra.set("Online")}async function sU(t){t.Ia.forEach(((e,n)=>{sx(t,e)}))}async function iU(t,e){eA(t),ox(t)?(t.Ra.ha(e),ix(t)):t.Ra.set("Unknown")}async function oU(t,e,n){if(t.Ra.set("Online"),e instanceof wP&&e.state===2&&e.cause)try{await(async function(r,s){const i=s.cause;for(const a of s.targetIds)r.Ia.has(a)&&(await r.remoteSyncer.rejectListen(a,i),r.Ia.delete(a),r.Va.removeTarget(a))})(t,e)}catch(r){le(Ll,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lg(t,r)}else if(e instanceof Qm?t.Va.Ze(e):e instanceof vP?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const r=await HP(t.localStore);n.compareTo(r)>=0&&await(function(s,i){const a=s.Va.Tt(i);return a.targetChanges.forEach(((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(u.resumeToken,i))}})),a.targetMismatches.forEach(((u,c)=>{const h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(hn.EMPTY_BYTE_STRING,h.snapshotVersion)),ZP(s,u);const p=new Vi(h.target,u,c,h.sequenceNumber);sx(s,p)})),s.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){le(Ll,"Failed to raise snapshot:",r),await Lg(t,r)}}async function Lg(t,e,n){if(!wa(e))throw e;t.Ea.add(1),await Nf(t),t.Ra.set("Offline"),n||(n=()=>HP(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(Ll,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ay(t)}))}function tA(t,e){return e().catch((n=>Lg(t,n,e)))}async function Pf(t){const e=Ve(t),n=ca(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xl;for(;aU(e);)try{const s=await z9(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,lU(e,s)}catch(s){await Lg(e,s)}nA(e)&&rA(e)}function aU(t){return Gl(t)&&t.Ta.length<10}function lU(t,e){t.Ta.push(e);const n=ca(t);n.O_()&&n.X_&&n.ea(e.mutations)}function nA(t){return Gl(t)&&!ca(t).x_()&&t.Ta.length>0}function rA(t){ca(t).start()}async function uU(t){ca(t).ra()}async function cU(t){const e=ca(t);for(const n of t.Ta)e.ea(n.mutations)}async function dU(t,e,n){const r=t.Ta.shift(),s=W1.from(r,e,n);await tA(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Pf(t)}async function hU(t,e){e&&ca(t).X_&&await(async function(n,r){if((function(s){return KF(s)&&s!==te.ABORTED})(r.code)){const s=n.Ta.shift();ca(n).B_(),await tA(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r))),await Pf(n)}})(t,e),nA(t)&&rA(t)}async function i_(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),le(Ll,"RemoteStore received new credentials");const r=Gl(n);n.Ea.add(3),await Nf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ay(n)}async function fU(t,e){const n=Ve(t);e?(n.Ea.delete(2),await Ay(n)):e||(n.Ea.add(2),await Nf(n),n.Ra.set("Unknown"))}function Kc(t){return t.ma||(t.ma=(function(e,n,r){const s=Ve(e);return s.sa(),new X9(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:rU.bind(null,t),t_:sU.bind(null,t),r_:iU.bind(null,t),H_:oU.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ox(t)?ix(t):t.Ra.set("Unknown")):(await t.ma.stop(),eA(t))}))),t.ma}function ca(t){return t.fa||(t.fa=(function(e,n,r){const s=Ve(e);return s.sa(),new J9(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:uU.bind(null,t),r_:hU.bind(null,t),ta:cU.bind(null,t),na:dU.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Pf(t)):(await t.fa.stop(),t.Ta.length>0&&(le(Ll,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ax{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,u=new ax(e,n,a,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lx(t,e){if(Gn("AsyncQueue",`${e}: ${t}`),wa(t))return new ce(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vc{static emptySet(e){return new vc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=bh(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class o_{constructor(){this.ga=new kt(he.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Oc{constructor(e,n,r,s,i,a,u,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach((u=>{a.push({type:0,doc:u})})),new Oc(e,n,vc.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ky(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class mU{constructor(){this.queries=a_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const r=Ve(e),s=r.queries;r.queries=a_(),s.forEach(((i,a)=>{for(const u of a.Sa)u.onError(n)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function a_(){return new to((t=>rP(t)),ky)}async function ux(t,e){const n=Ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new pU,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const u=lx(a,`Initialization of query '${ic(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&dx(n)}async function cx(t,e){const n=Ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gU(t,e){const n=Ve(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const u of a.Sa)u.Fa(s)&&(r=!0);a.wa=s}}r&&dx(n)}function yU(t,e,n){const r=Ve(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function dx(t){t.Ca.forEach((e=>{e.next()}))}var vb,l_;(l_=vb||(vb={})).Ma="default",l_.Cache="cache";class hx{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vb.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sA{constructor(e){this.key=e}}class iA{constructor(e){this.key=e}}class vU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=sP(e),this.tu=new vc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new o_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,g)=>{const v=s.get(p),k=Df(this.query,g)?g:null,_=!!v&&this.mutatedKeys.has(v.key),S=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let T=!1;v&&k?v.data.isEqual(k.data)?_!==S&&(r.track({type:3,doc:k}),T=!0):this.su(v,k)||(r.track({type:2,doc:k}),T=!0,(c&&this.eu(k,c)>0||h&&this.eu(k,h)<0)&&(u=!0)):!v&&k?(r.track({type:0,doc:k}),T=!0):v&&!k&&(r.track({type:1,doc:v}),T=!0,(c||h)&&(u=!0)),T&&(k?(a=a.add(k),i=S?i.add(p):i.delete(p)):(a=a.delete(p),i=i.delete(p)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{tu:a,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((p,g)=>(function(v,k){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:S})}};return _(v)-_(k)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,h=c!==this.Za;return this.Za=c,a.length!==0||h?{snapshot:new Oc(this.query,e.tu,i,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new o_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new iA(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new sA(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Oc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fx="SyncEngine";class wU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bU{constructor(e){this.key=e,this.hu=!1}}class xU{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new to((u=>rP(u)),ky),this.Iu=new Map,this.Eu=new Set,this.du=new kt(he.comparator),this.Au=new Map,this.Ru=new J1,this.Vu={},this.mu=new Map,this.fu=Ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CU(t,e,n=!0){const r=dA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await oA(r,e,n,!0),s}async function kU(t,e){const n=dA(t);await oA(n,e,!0,!1)}async function oA(t,e,n,r){const s=await q9(t.localStore,Xr(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await EU(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&JP(t.remoteStore,s),u}async function EU(t,e,n,r,s){t.pu=(g,v,k)=>(async function(_,S,T,N){let A=S.view.ru(T);A.Cs&&(A=await e_(_.localStore,S.query,!1).then((({documents:W})=>S.view.ru(W,A))));const M=N&&N.targetChanges.get(S.targetId),F=N&&N.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(A,_.isPrimaryClient,M,F);return c_(_,S.targetId,z.au),z.snapshot})(t,g,v,k);const i=await e_(t.localStore,e,!0),a=new vU(e,i.Qs),u=a.ru(i.documents),c=If.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=a.applyChanges(u,t.isPrimaryClient,c);c_(t,n,h.au);const p=new wU(e,n,a);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function SU(t,e,n){const r=Ve(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((a=>!ky(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await gb(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&rx(r.remoteStore,s.targetId),wb(r,s.targetId)})).catch(Wl)):(wb(r,s.targetId),await gb(r.localStore,s.targetId,!0))}async function TU(t,e){const n=Ve(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rx(n.remoteStore,r.targetId))}async function _U(t,e,n){const r=hA(t);try{const s=await(function(i,a){const u=Ve(i),c=rt.now(),h=a.reduce(((v,k)=>v.add(k.key)),$e());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let k=Dr(),_=$e();return u.Ns.getEntries(v,h).next((S=>{k=S,k.forEach(((T,N)=>{N.isValidDocument()||(_=_.add(T))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,k))).next((S=>{p=S;const T=[];for(const N of a){const A=zF(N,p.get(N.key).overlayedDocument);A!=null&&T.push(new no(N.key,A,HN(A.value.mapValue),Un.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,T,a)})).next((S=>{g=S;const T=S.applyToLocalDocumentSet(p,_);return u.documentOverlayCache.saveOverlays(v,S.batchId,T)}))})).then((()=>({batchId:g.batchId,changes:oP(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(i,a,u){let c=i.Vu[i.currentUser.toKey()];c||(c=new kt(Be)),c=c.insert(a,u),i.Vu[i.currentUser.toKey()]=c})(r,s.batchId,n),await Af(r,s.changes),await Pf(r.remoteStore)}catch(s){const i=lx(s,"Failed to persist write");n.reject(i)}}async function aA(t,e){const n=Ve(t);try{const r=await F9(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const a=n.Au.get(i);a&&(_e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?_e(a.hu,14607):s.removedDocuments.size>0&&(_e(a.hu,42227),a.hu=!1))})),await Af(n,r,e)}catch(r){await Wl(r)}}function u_(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,a)=>{const u=a.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(i,a){const u=Ve(i);u.onlineState=a;let c=!1;u.queries.forEach(((h,p)=>{for(const g of p.Sa)g.va(a)&&(c=!0)})),c&&dx(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DU(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new kt(he.comparator);a=a.insert(i,jt.newNoDocument(i,Ie.min()));const u=$e().add(i),c=new _y(Ie.min(),new Map,new kt(Be),a,u);await aA(r,c),r.du=r.du.remove(i),r.Au.delete(e),px(r)}else await gb(r.localStore,e,!1).then((()=>wb(r,e,n))).catch(Wl)}async function IU(t,e){const n=Ve(t),r=e.batch.batchId;try{const s=await V9(n.localStore,e);uA(n,r,null),lA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Af(n,s)}catch(s){await Wl(s)}}async function NU(t,e,n){const r=Ve(t);try{const s=await(function(i,a){const u=Ve(i);return u.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next((p=>(_e(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(c,p)))).next((()=>u.mutationQueue.performConsistencyCheck(c))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h))).next((()=>u.localDocuments.getDocuments(c,h)))}))})(r.localStore,e);uA(r,e,n),lA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Af(r,s)}catch(s){await Wl(s)}}function lA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function uA(t,e,n){const r=Ve(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function wb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||cA(t,r)}))}function cA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(rx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),px(t))}function c_(t,e,n){for(const r of n)r instanceof sA?(t.Ru.addReference(r.key,e),PU(t,r)):r instanceof iA?(le(fx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||cA(t,r.key)):ke(19791,{wu:r})}function PU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(fx,"New document in limbo: "+n),t.Eu.add(r),px(t))}function px(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new he(ot.fromString(e)),r=t.fu.next();t.Au.set(r,new bU(n)),t.du=t.du.insert(n,r),JP(t.remoteStore,new Vi(Xr(_f(n.path)),r,"TargetPurposeLimboResolution",Hr.ce))}}async function Af(t,e,n){const r=Ve(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{a.push(r.pu(c,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(h){s.push(h);const g=tx.As(c.targetId,h);i.push(g)}})))})),await Promise.all(a),r.Pu.H_(s),await(async function(u,c){const h=Ve(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Q.forEach(c,(g=>Q.forEach(g.Es,(v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>Q.forEach(g.ds,(v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!wa(p))throw p;le(nx,"Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const v=h.Ms.get(g),k=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(k);h.Ms=h.Ms.insert(g,_)}}})(r.localStore,i))}async function AU(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){le(fx,"User change. New user:",e.toKey());const r=await GP(n.localStore,e);n.currentUser=e,(function(s,i){s.mu.forEach((a=>{a.forEach((u=>{u.reject(new ce(te.CANCELLED,i))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Af(n,r.Ls)}}function RU(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let s=$e();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const u=n.Tu.get(a);s=s.unionWith(u.view.nu)}return s}}function dA(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DU.bind(null,e),e.Pu.H_=gU.bind(null,e.eventManager),e.Pu.yu=yU.bind(null,e.eventManager),e}function hA(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NU.bind(null,e),e}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Py(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return WP(this.persistence,new $P,e.initialUser,this.serializer)}Cu(e){return new Z1(Ny.mi,this.serializer)}Du(e){return new QP}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class jU extends rf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_e(this.persistence.referenceDelegate instanceof Og,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FP(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new Z1((r=>Og.mi(r,n)),this.serializer)}}class MU extends rf{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await hA(this.xu.syncEngine),await Pf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return WP(this.persistence,new $P,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new FP(r,e.asyncQueue,n)}Mu(e,n){const r=new UV(n,this.persistence);return new FV(e.asyncQueue,r)}Cu(e){const n=M9(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new ex(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Y9(),Xm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new QP}}class Bg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AU.bind(null,this.syncEngine),await fU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mU})()}createDatastore(e){const n=Py(e.databaseInfo.databaseId),r=(function(s){return new Q9(s)})(e.databaseInfo);return(function(s,i,a,u){return new eU(s,i,a,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(n,r,s,i,a){return new nU(n,r,s,i,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>u_(this.syncEngine,n,0)),(function(){return r_.v()?new r_:new $9})())}createSyncEngine(e,n){return(function(r,s,i,a,u,c,h){const p=new xU(r,s,i,a,u,c);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const s=Ve(r);le(Ll,"RemoteStore shutting down."),s.Ea.add(5),await Nf(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Bg.provider={build:()=>new Bg};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const da="FirestoreClient";class OU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Nn.UNAUTHENTICATED,this.clientId=R1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{le(da,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(le(da,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function $0(t,e){t.asyncQueue.verifyOperationInProgress(),le(da,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await GP(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function d_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LU(t);le(da,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>i_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>i_(e.remoteStore,s))),t._onlineComponents=e}async function LU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(da,"Using user provided OfflineComponentProvider");try{await $0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===te.FAILED_PRECONDITION||r.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;Pl("Error using user provided cache. Falling back to memory cache: "+n),await $0(t,new rf)}}else le(da,"Using default OfflineComponentProvider"),await $0(t,new jU(void 0));return t._offlineComponents}async function fA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(da,"Using user provided OnlineComponentProvider"),await d_(t,t._uninitializedComponentsProvider._online)):(le(da,"Using default OnlineComponentProvider"),await d_(t,new Bg))),t._onlineComponents}function BU(t){return fA(t).then((e=>e.syncEngine))}async function Vg(t){const e=await fA(t),n=e.eventManager;return n.onListen=CU.bind(null,e.syncEngine),n.onUnlisten=SU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TU.bind(null,e.syncEngine),n}function VU(t,e,n={}){const r=new Js;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,a,u,c){const h=new mx({next:g=>{h.Nu(),i.enqueueAndForget((()=>cx(s,p)));const v=g.docs.has(a);!v&&g.fromCache?c.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new hx(_f(a.path),h,{includeMetadataChanges:!0,qa:!0});return ux(s,p)})(await Vg(t),t.asyncQueue,e,n,r))),r.promise}function FU(t,e,n={}){const r=new Js;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,a,u,c){const h=new mx({next:g=>{h.Nu(),i.enqueueAndForget((()=>cx(s,p))),g.fromCache&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new hx(a,h,{includeMetadataChanges:!0,qa:!0});return ux(s,p)})(await Vg(t),t.asyncQueue,e,n,r))),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const h_=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mA="firestore.googleapis.com",f_=!0;class p_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mA,this.ssl=f_}else this.host=e.host,this.ssl=e.ssl??f_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v9)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pA(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ry{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new SV;switch(n.type){case"firstParty":return new IV(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=h_.get(e);n&&(le("ComponentProvider","Removing Datastore"),h_.delete(e),n.terminate())})(this),Promise.resolve()}}function UU(t,e,n,r={}){var s;t=Yn(t,Ry);const i=ql(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(w1(`https://${c}`),b1("Firestore",!0)),a.host!==mA&&a.host!==c&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:c,ssl:i,emulatorOptions:r};if(!aa(h,u)&&(t._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Nn.MOCK_USER;else{p=kI(r.mockUserToken,(s=t._app)==null?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Nn(v)}t._authCredentials=new TV(new xN(p,g))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Hl=class gA{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gA(this.firestore,e,this._query)}};class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ef(n,Mt._jsonSchema))return new Mt(e,r||null,new he(ot.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:dn("string",Mt._jsonSchemaVersion),referencePath:dn("string")};class ia extends Hl{constructor(e,n,r){super(e,n,_f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new he(e))}withConverter(e){return new ia(this.firestore,e,this._path)}}function Kn(t,e,...n){if(t=It(t),kN("collection","path",e),t instanceof Ry){const r=ot.fromString(e,...n);return sT(r),new ia(t,null,r)}{if(!(t instanceof Mt||t instanceof ia))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return sT(r),new ia(t.firestore,null,r)}}function ci(t,e,...n){if(t=It(t),arguments.length===1&&(e=R1.newId()),kN("doc","path",e),t instanceof Ry){const r=ot.fromString(e,...n);return rT(r),new Mt(t,null,new he(r))}{if(!(t instanceof Mt||t instanceof ia))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return rT(r),new Mt(t.firestore,t instanceof ia?t.converter:null,new he(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const m_="AsyncQueue";class g_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YP(this,"async_queue_retry"),this._c=()=>{const r=Xm();r&&le(m_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wa(e))throw e;le(m_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Gn("INTERNAL UNHANDLED ERROR: ",y_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=ax.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&ke(47125,{Pc:y_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function y_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function v_(t){return(function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1})(t,["next","error","complete"])}class oi extends Ry{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new g_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g_(e),this._firestoreClient=void 0,await e}}}function jy(t,e){const n=typeof t=="object"?t:cy(),r=typeof t=="string"?t:_g,s=ya(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=bI("firestore");i&&UU(s,...i)}return s}function My(t){if(t._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yA(t),t._firestoreClient}function yA(t){var e,n,r;const s=t._freezeSettings(),i=(function(a,u,c,h){return new gF(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,pA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)==null?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||(n=s.localCache)!=null&&n._offlineComponentProvider&&(r=s.localCache)!=null&&r._onlineComponentProvider&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new OU(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}})(t._componentsProvider))}function zU(t,e){Pl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return qU(t,Bg.provider,{build:r=>new MU(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function qU(t,e,n){if((t=Yn(t,oi))._firestoreClient||t._terminated)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ce(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},yA(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gr(hn.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gr(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ef(e,Gr._jsonSchema))return Gr.fromBase64String(e.bytes)}}Gr._jsonSchemaVersion="firestore/bytes/1.0",Gr._jsonSchema={type:dn("string",Gr._jsonSchemaVersion),bytes:dn("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Oy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ly{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zs._jsonSchemaVersion}}static fromJSON(e){if(Ef(e,Zs._jsonSchema))return new Zs(e.latitude,e.longitude)}}Zs._jsonSchemaVersion="firestore/geoPoint/1.0",Zs._jsonSchema={type:dn("string",Zs._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ei{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ef(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ei(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:dn("string",ei._jsonSchemaVersion),vectorValues:dn("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const KU=/^__.*__$/;class $U{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,n,this.fieldTransforms):new qc(e,this.data,n,this.fieldTransforms)}}class vA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new no(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class gx{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wA(this.Ac)&&KU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class WU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Py(e)}Cc(e,n,r,s=!1){return new gx({Ac:e,methodName:n,Dc:r,path:Tt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function By(t){const e=t._freezeSettings(),n=Py(t._databaseId);return new WU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bA(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);vx("Data must be an object, but it was:",a,r);const u=xA(r,a);let c,h;if(i.merge)c=new dr(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const v=bb(e,g,n);if(!a.contains(v))throw new ce(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);kA(p,v)||p.push(v)}c=new dr(p),h=a.fieldTransforms.filter((g=>c.covers(g.field)))}else c=null,h=a.fieldTransforms;return new $U(new Fn(u),c,h)}class Vy extends Ly{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vy}}class yx extends Ly{_toFieldTransform(e){return new fP(e.path,new Ac)}isEqual(e){return e instanceof yx}}function GU(t,e,n,r){const s=t.Cc(1,e,n);vx("Data must be an object, but it was:",s,r);const i=[],a=Fn.empty();ba(r,((c,h)=>{const p=wx(e,c,n);h=It(h);const g=s.yc(p);if(h instanceof Vy)i.push(p);else{const v=Rf(h,g);v!=null&&(i.push(p),a.set(p,v))}}));const u=new dr(i);return new vA(a,u,s.fieldTransforms)}function HU(t,e,n,r,s,i){const a=t.Cc(1,e,n),u=[bb(e,r,n)],c=[s];if(i.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)u.push(bb(e,i[v])),c.push(i[v+1]);const h=[],p=Fn.empty();for(let v=u.length-1;v>=0;--v)if(!kA(h,u[v])){const k=u[v];let _=c[v];_=It(_);const S=a.yc(k);if(_ instanceof Vy)h.push(k);else{const T=Rf(_,S);T!=null&&(h.push(k),p.set(k,T))}}const g=new dr(h);return new vA(p,g,a.fieldTransforms)}function QU(t,e,n,r=!1){return Rf(n,t.Cc(r?4:3,e))}function Rf(t,e){if(CA(t=It(t)))return vx("Unsupported field value:",e,t),xA(t,e);if(t instanceof Ly)return(function(n,r){if(!wA(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const s=[];let i=0;for(const a of n){let u=Rf(a,r.wc(i));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),i++}return{arrayValue:{values:s}}})(t,e)}return(function(n,r){if((n=It(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return OF(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=rt.fromDate(n);return{timestampValue:Mc(r.serializer,s)}}if(n instanceof rt){const s=new rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Mc(r.serializer,s)}}if(n instanceof Zs)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Gr)return{bytesValue:bP(r.serializer,n._byteString)};if(n instanceof Mt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Q1(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof ei)return(function(s,i){return{mapValue:{fields:{[U1]:{stringValue:z1},[Dc]:{arrayValue:{values:s.toArray().map((a=>{if(typeof a!="number")throw i.Sc("VectorValues must only contain numeric values.");return K1(i.serializer,a)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${my(n)}`)})(t,e)}function xA(t,e){const n={};return VN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(t,((r,s)=>{const i=Rf(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function CA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Zs||t instanceof Gr||t instanceof Mt||t instanceof Ly||t instanceof ei)}function vx(t,e,n){if(!CA(n)||!EN(n)){const r=my(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function bb(t,e,n){if((e=It(e))instanceof Oy)return e._internalPath;if(typeof e=="string")return wx(t,e);throw Fg("Field path arguments must be of type string or ",t,!1,void 0,n)}const YU=new RegExp("[~\\*/\\[\\]]");function wx(t,e,n){if(e.search(YU)>=0)throw Fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Oy(...e.split("."))._internalPath}catch{throw Fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fg(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new ce(te.INVALID_ARGUMENT,u+t+c)}function kA(t,e){return t.some((n=>n.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XU extends EA{data(){return super.data()}}function Fy(t,e){return typeof e=="string"?wx(t,e):e instanceof Oy?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function SA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bx{}class xx extends bx{}function ws(t,e,...n){let r=[];e instanceof bx&&r.push(e),r=r.concat(n),(function(s){const i=s.filter((u=>u instanceof Cx)).length,a=s.filter((u=>u instanceof Uy)).length;if(i>1||i>0&&a>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Uy extends xx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Uy(e,n,r)}_apply(e){const n=this._parse(e);return TA(e._query,n),new Hl(e.firestore,e.converter,lb(e._query,n))}_parse(e){const n=By(e.firestore);return(function(r,s,i,a,u,c,h){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){b_(h,c);const g=[];for(const v of h)g.push(w_(a,r,v));p={arrayValue:{values:g}}}else p=w_(a,r,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||b_(h,c),p=QU(i,s,h,c==="in"||c==="not-in");return He.create(u,c,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qr(t,e,n){const r=e,s=Fy("where",t);return Uy._create(s,r,n)}class Cx extends bx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cx(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:lt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,s){let i=r;const a=s.getFlattenedFilters();for(const u of a)TA(i,u),i=lb(i,u)})(e._query,n),new Hl(e.firestore,e.converter,lb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kx extends xx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kx(e,n)}_apply(e){const n=(function(r,s,i){if(r.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tf(s,i)})(e._query,this._field,this._direction);return new Hl(e.firestore,e.converter,(function(r,s){const i=r.explicitOrderBy.concat([s]);return new zc(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function $c(t,e="asc"){const n=e,r=Fy("orderBy",t);return kx._create(r,n)}class Ex extends xx{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ex(e,n,r)}_apply(e){return new Hl(e.firestore,e.converter,Ng(e._query,this._limit,this._limitType))}}function Sx(t){return OV("limit",t),Ex._create("limit",t,"F")}function w_(t,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nP(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!he.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zh(t,new he(r))}if(n instanceof Mt)return Zh(t,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${my(n)}.`)}function b_(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TA(t,e){const n=(function(r,s){for(const i of r)for(const a of i.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JU{convertValue(e,n="none"){switch(la(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ba(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)==null?void 0:n[Dc].arrayValue)==null?void 0:r.values)==null?void 0:s.map((a=>xt(a.doubleValue)));return new ei(i)}convertGeoPoint(e){return new Zs(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xh(e));default:return null}}convertTimestamp(e){const n=$i(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);_e(NP(r),9688,{name:e});const s=new Al(r.get(1),r.get(3)),i=new he(r.popFirst(5));return s.isEqual(n)||Gn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _A(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class kh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class El extends EA{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=El._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),n}}El._jsonSchemaVersion="firestore/documentSnapshot/1.0",El._jsonSchema={type:dn("string",El._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class Jm extends El{data(e={}){return super.data(e)}}class Sl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new kh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Jm(this._firestore,this._userDataWriter,r.key,r,new kh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map((a=>{const u=new Jm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new kh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:i++}}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const u=new Jm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new kh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),h=i.indexOf(a.doc.key)),{type:ZU(a.type),doc:u,oldIndex:c,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=R1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function DA(t){t=Yn(t,Mt);const e=Yn(t.firestore,oi);return VU(My(e),t._key).then((n=>NA(e,t,n)))}Sl._jsonSchemaVersion="firestore/querySnapshot/1.0",Sl._jsonSchema={type:dn("string",Sl._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class Tx extends JU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function bs(t){t=Yn(t,Hl);const e=Yn(t.firestore,oi),n=My(e),r=new Tx(e);return SA(t._query),FU(n,t._query).then((s=>new Sl(e,r,t,s)))}function zy(t,e,n){t=Yn(t,Mt);const r=Yn(t.firestore,oi),s=_A(t.converter,e,n);return Ky(r,[bA(By(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Un.none())])}function qy(t,e,n,...r){t=Yn(t,Mt);const s=Yn(t.firestore,oi),i=By(s);let a;return a=typeof(e=It(e))=="string"||e instanceof Oy?HU(i,"updateDoc",t._key,e,n,r):GU(i,"updateDoc",t._key,e),Ky(s,[a.toMutation(t._key,Un.exists(!0))])}function Wne(t){return Ky(Yn(t.firestore,oi),[new Ty(t._key,Un.none())])}function _x(t,e){const n=Yn(t.firestore,oi),r=ci(t),s=_A(t.converter,e);return Ky(n,[bA(By(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Un.exists(!1))]).then((()=>r))}function IA(t,...e){var n,r,s;t=It(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||v_(e[a])||(i=e[a++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(v_(e[a])){const g=e[a];e[a]=(n=g.next)==null?void 0:n.bind(g),e[a+1]=(r=g.error)==null?void 0:r.bind(g),e[a+2]=(s=g.complete)==null?void 0:s.bind(g)}let c,h,p;if(t instanceof Mt)h=Yn(t.firestore,oi),p=_f(t._key.path),c={next:g=>{e[a]&&e[a](NA(h,t,g))},error:e[a+1],complete:e[a+2]};else{const g=Yn(t,Hl);h=Yn(g.firestore,oi),p=g._query;const v=new Tx(h);c={next:k=>{e[a]&&e[a](new Sl(h,v,g,k))},error:e[a+1],complete:e[a+2]},SA(t._query)}return(function(g,v,k,_){const S=new mx(_),T=new hx(v,S,k);return g.asyncQueue.enqueueAndForget((async()=>ux(await Vg(g),T))),()=>{S.Nu(),g.asyncQueue.enqueueAndForget((async()=>cx(await Vg(g),T)))}})(My(h),p,u,c)}function Ky(t,e){return(function(n,r){const s=new Js;return n.asyncQueue.enqueueAndForget((async()=>_U(await BU(n),r,s))),s.promise})(My(t),e)}function NA(t,e,n){const r=n.docs.get(e._key),s=new Tx(t);return new El(t,s,e._key,r,new kh(n.hasPendingWrites,n.fromCache),e.converter)}function Hn(){return new yx("serverTimestamp")}(function(t,e=!0){(function(n){Uc=n})($l),ys(new es("firestore",((n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),a=new oi(new _V(n.getProvider("auth-internal")),new NV(i,n.getProvider("app-check-internal")),(function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(u.options.projectId,c)})(i,r),i);return s={useFetchStreams:e,...s},a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),fr(ZS,eT,t),fr(ZS,eT,"esm2020")})();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const PA="firebasestorage.googleapis.com",e8="storageBucket",t8=120*1e3,n8=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class di extends ts{constructor(e,n,r=0){super(W0(e),`Firebase Storage: ${n} (${W0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,di.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return W0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ai;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ai||(ai={}));function W0(t){return"storage/"+t}function r8(){const t="An unknown error occurred, please check the error payload for server response.";return new di(ai.UNKNOWN,t)}function s8(){return new di(ai.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i8(){return new di(ai.CANCELED,"User canceled the upload/download.")}function o8(t){return new di(ai.INVALID_URL,"Invalid URL '"+t+"'.")}function a8(t){return new di(ai.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function x_(t){return new di(ai.INVALID_ARGUMENT,t)}function AA(){return new di(ai.APP_DELETED,"The Firebase app was deleted.")}function l8(t){return new di(ai.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gs.makeFromUrl(e,n)}catch{return new gs(e,"")}if(r.path==="")return r;throw a8(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function h(M){M.path_=decodeURIComponent(M.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",k=new RegExp(`^https?://${g}/${p}/b/${s}/o${v}`,"i"),_={bucket:1,path:3},S=n===PA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",N=new RegExp(`^https?://${S}/${s}/${T}`,"i"),A=[{regex:u,indices:c,postModify:i},{regex:k,indices:_,postModify:h},{regex:N,indices:{bucket:1,path:2},postModify:h}];for(let M=0;M<A.length;M++){const F=A[M],z=F.regex.exec(e);if(z){const W=z[F.indices.bucket];let R=z[F.indices.path];R||(R=""),r=new gs(W,R),F.postModify(r);break}}if(r==null)throw o8(e);return r}}class u8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function c8(t,e,n){let r=1,s=null,i=null,a=!1,u=0;function c(){return u===2}let h=!1;function p(...T){h||(h=!0,e.apply(null,T))}function g(T){s=setTimeout(()=>{s=null,t(k,c())},T)}function v(){i&&clearTimeout(i)}function k(T,...N){if(h){v();return}if(T){v(),p.call(null,T,...N);return}if(c()||a){v(),p.call(null,T,...N);return}r<64&&(r*=2);let A;u===1?(u=2,A=0):A=(r+Math.random())*1e3,g(A)}let _=!1;function S(T){_||(_=!0,v(),!h&&(s!==null?(T||(u=2),clearTimeout(s),g(0)):T||(u=1)))}return g(0),i=setTimeout(()=>{a=!0,S(!0)},n),S}function d8(t){t(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function h8(t){return t!==void 0}function C_(t,e,n,r){if(r<e)throw x_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw x_(`Invalid value for '${t}'. Expected ${n} or less.`)}function f8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ug;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ug||(Ug={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function p8(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class m8{constructor(e,n,r,s,i,a,u,c,h,p,g,v=!0,k=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,S)=>{this.resolve_=_,this.reject_=S,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ym(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=u=>{const c=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const u=i.getErrorCode()===Ug.NO_ERROR,c=i.getStatus();if(!u||p8(c,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===Ug.ABORT;r(!1,new ym(!1,null,p));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new ym(h,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());h8(c)?i(c):i()}catch(c){a(c)}else if(u!==null){const c=r8();c.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,c)):a(c)}else if(s.canceled){const c=this.appDelete_?AA():i8();a(c)}else{const c=s8();a(c)}};this.canceled_?n(!1,new ym(!1,null,!0)):this.backoffId_=c8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&d8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ym{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function g8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function y8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function v8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function w8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function b8(t,e,n,r,s,i,a=!0,u=!1){const c=f8(t.urlParams),h=t.url+c,p=Object.assign({},t.headers);return v8(p,e),g8(p,n),y8(p,i),w8(p,r),new m8(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,u)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function x8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function C8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zg{constructor(e,n){this._service=e,n instanceof gs?this._location=n:this._location=gs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zg(e,n)}get root(){const e=new gs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return C8(this._location.path)}get storage(){return this._service}get parent(){const e=x8(this._location.path);if(e===null)return null;const n=new gs(this._location.bucket,e);return new zg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw l8(e)}}function k_(t,e){const n=e==null?void 0:e[e8];return n==null?null:gs.makeFromBucketSpec(n,t)}function k8(t,e,n,r={}){t.host=`${e}:${n}`;const s=ql(e);s&&(w1(`https://${t.host}/b`),b1("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:kI(i,t.app.options.projectId))}class E8{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=PA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=t8,this._maxUploadRetryTime=n8,this._requests=new Set,s!=null?this._bucket=gs.makeFromBucketSpec(s,this._host):this._bucket=k_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gs.makeFromBucketSpec(this._url,e):this._bucket=k_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zg(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new u8(AA());{const a=b8(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const E_="@firebase/storage",S_="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const RA="storage";function S8(t=cy(),e){t=It(t);const n=ya(t,RA).getImmediate({identifier:e}),r=bI("storage");return r&&T8(n,...r),n}function T8(t,e,n,r={}){k8(t,e,n,r)}function _8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new E8(n,r,s,e,$l)}function D8(){ys(new es(RA,_8,"PUBLIC").setMultipleInstances(!0)),fr(E_,S_,""),fr(E_,S_,"esm2020")}D8();const jA="@firebase/installations",Dx="0.6.19";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const MA=1e4,OA=`w:${Dx}`,LA="FIS_v2",I8="https://firebaseinstallations.googleapis.com/v1",N8=3600*1e3,P8="installations",A8="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bl=new Kl(P8,A8,R8);function BA(t){return t instanceof ts&&t.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function VA({projectId:t}){return`${I8}/projects/${t}/installations`}function FA(t){return{token:t.token,requestStatus:2,expiresIn:M8(t.expiresIn),creationTime:Date.now()}}async function UA(t,e){const n=(await e.json()).error;return Bl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function zA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function j8(t,{refreshToken:e}){const n=zA(t);return n.append("Authorization",O8(e)),n}async function qA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function M8(t){return Number(t.replace("s","000"))}function O8(t){return`${LA} ${t}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function L8({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=VA(t),s=zA(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={fid:n,authVersion:LA,appId:t.appId,sdkVersion:OA},u={method:"POST",headers:s,body:JSON.stringify(a)},c=await qA(()=>fetch(r,u));if(c.ok){const h=await c.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:FA(h.authToken)}}else throw await UA("Create Installation",c)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function KA(t){return new Promise(e=>{setTimeout(e,t)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function B8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V8=/^[cdef][\w-]{21}$/,xb="";function F8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=U8(t);return V8.test(e)?e:xb}catch{return xb}}function U8(t){return B8(t).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $y(t){return`${t.appName}!${t.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $A=new Map;function WA(t,e){const n=$y(t);GA(n,e),z8(n,e)}function GA(t,e){const n=$A.get(t);if(n)for(const r of n)r(e)}function z8(t,e){const n=q8();n&&n.postMessage({key:t,fid:e}),K8()}let gl=null;function q8(){return!gl&&"BroadcastChannel"in self&&(gl=new BroadcastChannel("[Firebase] FID Change"),gl.onmessage=t=>{GA(t.data.key,t.data.fid)}),gl}function K8(){$A.size===0&&gl&&(gl.close(),gl=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $8="firebase-installations-database",W8=1,Vl="firebase-installations-store";let G0=null;function Ix(){return G0||(G0=NI($8,W8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vl)}}})),G0}async function qg(t,e){const n=$y(t),r=(await Ix()).transaction(Vl,"readwrite"),s=r.objectStore(Vl),i=await s.get(n);return await s.put(e,n),await r.done,(!i||i.fid!==e.fid)&&WA(t,e.fid),e}async function HA(t){const e=$y(t),n=(await Ix()).transaction(Vl,"readwrite");await n.objectStore(Vl).delete(e),await n.done}async function Wy(t,e){const n=$y(t),r=(await Ix()).transaction(Vl,"readwrite"),s=r.objectStore(Vl),i=await s.get(n),a=e(i);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!i||i.fid!==a.fid)&&WA(t,a.fid),a}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Nx(t){let e;const n=await Wy(t.appConfig,r=>{const s=G8(r),i=H8(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===xb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function G8(t){const e=t||{fid:F8(),registrationStatus:0};return QA(e)}function H8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Bl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Q8(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Y8(t)}:{installationEntry:e}}async function Q8(t,e){try{const n=await L8(t,e);return qg(t.appConfig,n)}catch(n){throw BA(n)&&n.customData.serverCode===409?await HA(t.appConfig):await qg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Y8(t){let e=await T_(t.appConfig);for(;e.registrationStatus===1;)await KA(100),e=await T_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Nx(t);return r||n}return e}function T_(t){return Wy(t,e=>{if(!e)throw Bl.create("installation-not-found");return QA(e)})}function QA(t){return X8(t)?{fid:t.fid,registrationStatus:0}:t}function X8(t){return t.registrationStatus===1&&t.registrationTime+MA<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function J8({appConfig:t,heartbeatServiceProvider:e},n){const r=Z8(t,n),s=j8(t,n),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={installation:{sdkVersion:OA,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(a)},c=await qA(()=>fetch(r,u));if(c.ok){const h=await c.json();return FA(h)}else throw await UA("Generate Auth Token",c)}function Z8(t,{fid:e}){return`${VA(t)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Px(t,e=!1){let n;const r=await Wy(t.appConfig,s=>{if(!YA(s))throw Bl.create("not-registered");const i=s.authToken;if(!e&&nz(i))return s;if(i.requestStatus===1)return n=ez(t,e),s;{if(!navigator.onLine)throw Bl.create("app-offline");const a=sz(s);return n=tz(t,a),a}});return n?await n:r.authToken}async function ez(t,e){let n=await __(t.appConfig);for(;n.authToken.requestStatus===1;)await KA(100),n=await __(t.appConfig);const r=n.authToken;return r.requestStatus===0?Px(t,e):r}function __(t){return Wy(t,e=>{if(!YA(e))throw Bl.create("not-registered");const n=e.authToken;return iz(n)?{...e,authToken:{requestStatus:0}}:e})}async function tz(t,e){try{const n=await J8(t,e),r={...e,authToken:n};return await qg(t.appConfig,r),n}catch(n){if(BA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await HA(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await qg(t.appConfig,r)}throw n}}function YA(t){return t!==void 0&&t.registrationStatus===2}function nz(t){return t.requestStatus===2&&!rz(t)}function rz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+N8}function sz(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function iz(t){return t.requestStatus===1&&t.requestTime+MA<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function oz(t){const e=t,{installationEntry:n,registrationPromise:r}=await Nx(e);return r?r.catch(console.error):Px(e).catch(console.error),n.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function az(t,e=!1){const n=t;return await lz(n),(await Px(n,e)).token}async function lz(t){const{registrationPromise:e}=await Nx(t);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uz(t){if(!t||!t.options)throw H0("App Configuration");if(!t.name)throw H0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw H0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function H0(t){return Bl.create("missing-app-config-values",{valueName:t})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const XA="installations",cz="installations-internal",dz=t=>{const e=t.getProvider("app").getImmediate(),n=uz(e),r=ya(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},hz=t=>{const e=t.getProvider("app").getImmediate(),n=ya(e,XA).getImmediate();return{getId:()=>oz(n),getToken:r=>az(n,r)}};function fz(){ys(new es(XA,dz,"PUBLIC")),ys(new es(cz,hz,"PRIVATE"))}fz();fr(jA,Dx);fr(jA,Dx,"esm2020");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Kg="analytics",pz="firebase_id",mz="origin",gz=60*1e3,yz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ax="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jn=new uy("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ir=new Kl("analytics","Analytics",vz);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wz(t){if(!t.startsWith(Ax)){const e=Ir.create("invalid-gtag-resource",{gtagURL:t});return Jn.warn(e.message),""}return t}function JA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function bz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xz(t,e){const n=bz("firebase-js-sdk-policy",{createScriptURL:wz}),r=document.createElement("script"),s=`${Ax}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Cz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function kz(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const u=(await JA(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(u){Jn.error(u)}t("config",s,i)}async function Ez(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const u=await JA(n);for(const c of a){const h=u.find(g=>g.measurementId===c),p=h&&e[h.appId];if(p)i.push(p);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Jn.error(i)}}function Sz(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[u,c]=a;await Ez(t,e,n,u,c)}else if(i==="config"){const[u,c]=a;await kz(t,e,n,r,u,c)}else if(i==="consent"){const[u,c]=a;t("consent",u,c)}else if(i==="get"){const[u,c,h]=a;t("get",u,c,h)}else if(i==="set"){const[u]=a;t("set",u)}else t(i,...a)}catch(u){Jn.error(u)}}return s}function Tz(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=Sz(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function _z(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ax)&&n.src.includes(t))return n;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Dz=30,Iz=1e3;class Nz{constructor(e={},n=Iz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ZA=new Nz;function Pz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Az(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:Pz(r)},i=yz.replace("{app-id}",n),a=await fetch(i,s);if(a.status!==200&&a.status!==304){let u="";try{const c=await a.json();(e=c.error)!=null&&e.message&&(u=c.error.message)}catch{}throw Ir.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function Rz(t,e=ZA,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Ir.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Ir.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Oz;return setTimeout(async()=>{u.abort()},gz),eR({appId:r,apiKey:s,measurementId:i},a,u,e)}async function eR(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=ZA){var i;const{appId:a,measurementId:u}=t;try{await jz(r,e)}catch(c){if(u)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:u};throw c}try{const c=await Az(t);return s.deleteThrottleMetadata(a),c}catch(c){const h=c;if(!Mz(h)){if(s.deleteThrottleMetadata(a),u)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:a,measurementId:u};throw c}const p=Number((i=h==null?void 0:h.customData)==null?void 0:i.httpStatus)===503?ES(n,s.intervalMillis,Dz):ES(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(a,g),Jn.debug(`Calling attemptFetch again in ${p} millis`),eR(t,g,r,s)}}function jz(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Ir.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Mz(t){if(!(t instanceof ts)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Oz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Lz(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a={...r,send_to:i};t("event",n,a)}}async function Bz(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Vz(){if(ly())try{await C1()}catch(t){return Jn.warn(Ir.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Jn.warn(Ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Fz(t,e,n,r,s,i,a){const u=Rz(t);u.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Jn.error(v)),e.push(u);const c=Vz().then(v=>{if(v)return r.getId()}),[h,p]=await Promise.all([u,c]);_z(i)||xz(i,h.measurementId),s("js",new Date);const g=(a==null?void 0:a.config)??{};return g[mz]="firebase",g.update=!0,p!=null&&(g[pz]=p),s("config",h.measurementId,g),h.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uz{constructor(e){this.app=e}_delete(){return delete wc[this.app.options.appId],Promise.resolve()}}let wc={},D_=[];const I_={};let Q0="dataLayer",zz="gtag",N_,Rx,P_=!1;function qz(){const t=[];if(x1()&&t.push("This is a browser extension environment."),_I()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Ir.create("invalid-analytics-context",{errorInfo:e});Jn.warn(n.message)}}function Kz(t,e,n){qz();const r=t.options.appId;if(!r)throw Ir.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ir.create("no-api-key");if(wc[r]!=null)throw Ir.create("already-exists",{id:r});if(!P_){Cz(Q0);const{wrappedGtag:s,gtagCore:i}=Tz(wc,D_,I_,Q0,zz);Rx=s,N_=i,P_=!0}return wc[r]=Fz(t,D_,I_,e,N_,Q0,n),new Uz(t)}function tR(t=cy()){t=It(t);const e=ya(t,Kg);return e.isInitialized()?e.getImmediate():$z(t)}function $z(t,e={}){const n=ya(t,Kg);if(n.isInitialized()){const r=n.getImmediate();if(aa(e,n.getOptions()))return r;throw Ir.create("already-initialized")}return n.initialize({options:e})}async function nR(){if(x1()||!_I()||!ly())return!1;try{return await C1()}catch{return!1}}function Wz(t,e,n){t=It(t),Bz(Rx,wc[t.app.options.appId],e,n).catch(r=>Jn.error(r))}function rR(t,e,n,r){t=It(t),Lz(Rx,wc[t.app.options.appId],e,n,r).catch(s=>Jn.error(s))}const A_="@firebase/analytics",R_="0.10.19";function Gz(){ys(new es(Kg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Kz(r,s,n)},"PUBLIC")),ys(new es("analytics-internal",t,"PRIVATE")),fr(A_,R_),fr(A_,R_,"esm2020");function t(e){try{const n=e.getProvider(Kg).getImmediate();return{logEvent:(r,s,i)=>rR(n,r,s,i),setUserProperties:(r,s)=>Wz(n,r,s)}}catch(n){throw Ir.create("interop-component-reg-failed",{reason:n})}}}Gz();const Hz={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},xs=PI(Hz),Y0=py(xs),Qz=jy(xs);S8(xs);try{zU(Qz).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence: Not supported in this browser")})}catch(t){console.warn("Firestore persistence init failed:",t)}let sR=null;try{nR().then(t=>{t&&(sR=tR(xs))}).catch(()=>{})}catch{}const Yz=sR;/**
* react-router v7.9.5
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var j_="popstate";function Xz(t={}){function e(r,s){let{pathname:i,search:a,hash:u}=r.location;return Cb("",{pathname:i,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:sf(s)}return Zz(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function li(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jz(){return Math.random().toString(36).substring(2,10)}function M_(t,e){return{usr:t.state,key:t.key,idx:e}}function Cb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wc(e):e,state:n,key:e&&e.key||r||Jz()}}function sf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Zz(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,u="POP",c=null,h=p();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function p(){return(a.state||{idx:null}).idx}function g(){u="POP";let T=p(),N=T==null?null:T-h;h=T,c&&c({action:u,location:S.location,delta:N})}function v(T,N){u="PUSH";let A=Cb(S.location,T,N);h=p()+1;let M=M_(A,h),F=S.createHref(A);try{a.pushState(M,"",F)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(F)}i&&c&&c({action:u,location:S.location,delta:1})}function k(T,N){u="REPLACE";let A=Cb(S.location,T,N);h=p();let M=M_(A,h),F=S.createHref(A);a.replaceState(M,"",F),i&&c&&c({action:u,location:S.location,delta:0})}function _(T){return e7(T)}let S={get action(){return u},get location(){return t(s,a)},listen(T){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(j_,g),c=T,()=>{s.removeEventListener(j_,g),c=null}},createHref(T){return e(s,T)},createURL:_,encodeLocation(T){let N=_(T);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:k,go(T){return a.go(T)}};return S}function e7(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:sf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function iR(t,e,n="/"){return t7(t,e,n,!1)}function t7(t,e,n,r){let s=typeof e=="string"?Wc(e):e,i=Gi(s.pathname||"/",n);if(i==null)return null;let a=oR(t);n7(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let h=f7(i);u=d7(a[c],h,r)}return u}function oR(t,e=[],n=[],r="",s=!1){let i=(a,u,c=s,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&c)return;Dt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=zi([r,p.relativePath]),v=n.concat(p);a.children&&a.children.length>0&&(Dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),oR(a.children,e,v,g,c)),!(a.path==null&&!a.index)&&e.push({path:g,score:u7(g,a.index),routesMeta:v})};return t.forEach((a,u)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,u);else for(let h of aR(a.path))i(a,u,!0,h)}),e}function aR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=aR(r.join("/")),u=[];return u.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function n7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:c7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var r7=/^:[\w-]+$/,s7=3,i7=2,o7=1,a7=10,l7=-2,O_=t=>t==="*";function u7(t,e){let n=t.split("/"),r=n.length;return n.some(O_)&&(r+=l7),e&&(r+=i7),n.filter(s=>!O_(s)).reduce((s,i)=>s+(r7.test(i)?s7:i===""?o7:a7),r)}function c7(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function d7(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=$g({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),v=c.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=$g({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:zi([i,g.pathname]),pathnameBase:y7(zi([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=zi([i,g.pathnameBase]))}return a}function $g(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=h7(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:p},g)=>{if(h==="*"){let k=u[g]||"";a=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const v=u[g];return p&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function h7(t,e=!1,n=!0){li(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function f7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function p7(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Wc(t):t;return{pathname:n?n.startsWith("/")?n:m7(n,e):e,search:v7(r),hash:w7(s)}}function m7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function X0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lR(t){let e=g7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function uR(t,e,n,r=!1){let s;typeof t=="string"?s=Wc(t):(s={...t},Dt(!s.pathname||!s.pathname.includes("?"),X0("?","pathname","search",s)),Dt(!s.pathname||!s.pathname.includes("#"),X0("#","pathname","hash",s)),Dt(!s.search||!s.search.includes("#"),X0("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,u;if(a==null)u=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?e[g]:"/"}let c=p7(s,u),h=a&&a!=="/"&&a.endsWith("/"),p=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}var zi=t=>t.join("/").replace(/\/\/+/g,"/"),y7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),v7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,w7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function b7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cR=["POST","PUT","PATCH","DELETE"];new Set(cR);var x7=["GET",...cR];new Set(x7);var Gc=C.createContext(null);Gc.displayName="DataRouter";var Gy=C.createContext(null);Gy.displayName="DataRouterState";C.createContext(!1);var dR=C.createContext({isTransitioning:!1});dR.displayName="ViewTransition";var C7=C.createContext(new Map);C7.displayName="Fetchers";var k7=C.createContext(null);k7.displayName="Await";var hi=C.createContext(null);hi.displayName="Navigation";var jf=C.createContext(null);jf.displayName="Location";var ro=C.createContext({outlet:null,matches:[],isDataRoute:!1});ro.displayName="Route";var jx=C.createContext(null);jx.displayName="RouteError";function E7(t,{relative:e}={}){Dt(Mf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(hi),{hash:s,pathname:i,search:a}=Of(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:zi([n,i])),r.createHref({pathname:u,search:a,hash:s})}function Mf(){return C.useContext(jf)!=null}function so(){return Dt(Mf(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(jf).location}var hR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fR(t){C.useContext(hi).static||C.useLayoutEffect(t)}function Mx(){let{isDataRoute:t}=C.useContext(ro);return t?L7():S7()}function S7(){Dt(Mf(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(Gc),{basename:e,navigator:n}=C.useContext(hi),{matches:r}=C.useContext(ro),{pathname:s}=so(),i=JSON.stringify(lR(r)),a=C.useRef(!1);return fR(()=>{a.current=!0}),C.useCallback((u,c={})=>{if(li(a.current,hR),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=uR(u,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:zi([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,i,s,t])}C.createContext(null);function Of(t,{relative:e}={}){let{matches:n}=C.useContext(ro),{pathname:r}=so(),s=JSON.stringify(lR(n));return C.useMemo(()=>uR(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function T7(t,e){return pR(t,e)}function pR(t,e,n,r,s){var i;Dt(Mf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=C.useContext(hi),{matches:u}=C.useContext(ro),c=u[u.length-1],h=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let M=v&&v.path||"";mR(p,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let k=so(),_;if(e){let M=typeof e=="string"?Wc(e):e;Dt(g==="/"||((i=M.pathname)==null?void 0:i.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),_=M}else _=k;let S=_.pathname||"/",T=S;if(g!=="/"){let M=g.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let N=iR(t,{pathname:T});li(v||N!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),li(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=P7(N&&N.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:zi([g,a.encodeLocation?a.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:zi([g,a.encodeLocation?a.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),u,n,r,s);return e&&A?C.createElement(jf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},A):A}function _7(){let t=O7(),e=b7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,a)}var D7=C.createElement(_7,null),I7=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(ro.Provider,{value:this.props.routeContext},C.createElement(jx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N7({routeContext:t,match:e,children:n}){let r=C.useContext(Gc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ro.Provider,{value:t},n)}function P7(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let h=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Dt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:v}=n,k=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||k){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let v,k=!1,_=null,S=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,_=p.route.errorElement||D7,u&&(c<0&&g===0?(mR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,S=null):c===g&&(k=!0,S=p.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,g+1)),N=()=>{let A;return v?A=_:k?A=S:p.route.Component?A=C.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=h,C.createElement(N7,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(I7,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:r}):N()},null)}function Ox(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A7(t){let e=C.useContext(Gc);return Dt(e,Ox(t)),e}function R7(t){let e=C.useContext(Gy);return Dt(e,Ox(t)),e}function j7(t){let e=C.useContext(ro);return Dt(e,Ox(t)),e}function Lx(t){let e=j7(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function M7(){return Lx("useRouteId")}function O7(){var t;let e=C.useContext(jx),n=R7("useRouteError"),r=Lx("useRouteError");return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function L7(){let{router:t}=A7("useNavigate"),e=Lx("useNavigate"),n=C.useRef(!1);return fR(()=>{n.current=!0}),C.useCallback(async(r,s={})=>{li(n.current,hR),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var L_={};function mR(t,e,n){!e&&!L_[t]&&(L_[t]=!0,li(!1,n))}C.memo(B7);function B7({routes:t,future:e,state:n,unstable_onError:r}){return pR(t,void 0,n,r,e)}function At(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function V7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Dt(!Mf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=Wc(n));let{pathname:c="/",search:h="",hash:p="",state:g=null,key:v="default"}=n,k=C.useMemo(()=>{let _=Gi(c,a);return _==null?null:{location:{pathname:_,search:h,hash:p,state:g,key:v},navigationType:r}},[a,c,h,p,g,v,r]);return li(k!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:C.createElement(hi.Provider,{value:u},C.createElement(jf.Provider,{children:e,value:k}))}function F7({children:t,location:e}){return T7(kb(t),e)}function kb(t,e=[]){let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,kb(r.props.children,i));return}Dt(r.type===At,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=kb(r.props.children,i)),n.push(a)}),n}var Zm="get",eg="application/x-www-form-urlencoded";function Hy(t){return t!=null&&typeof t.tagName=="string"}function U7(t){return Hy(t)&&t.tagName.toLowerCase()==="button"}function z7(t){return Hy(t)&&t.tagName.toLowerCase()==="form"}function q7(t){return Hy(t)&&t.tagName.toLowerCase()==="input"}function K7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $7(t,e){return t.button===0&&(!e||e==="_self")&&!K7(t)}var vm=null;function W7(){if(vm===null)try{new FormData(document.createElement("form"),0),vm=!1}catch{vm=!0}return vm}var G7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function J0(t){return t!=null&&!G7.has(t)?(li(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eg}"`),null):t}function H7(t,e){let n,r,s,i,a;if(z7(t)){let u=t.getAttribute("action");r=u?Gi(u,e):null,n=t.getAttribute("method")||Zm,s=J0(t.getAttribute("enctype"))||eg,i=new FormData(t)}else if(U7(t)||q7(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Gi(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Zm,s=J0(t.getAttribute("formenctype"))||J0(u.getAttribute("enctype"))||eg,i=new FormData(u,t),!W7()){let{name:h,type:p,value:g}=t;if(p==="image"){let v=h?`${h}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else h&&i.append(h,g)}}else{if(Hy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zm,r=null,s=eg,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Q7(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Gi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Y7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function J7(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await Y7(i,n);return a.links?a.links():[]}return[]}));return nq(r.flat(1).filter(X7).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function B_(t,e,n,r,s,i){let a=(c,h)=>n[h]?c.route.id!==n[h].route.id:!0,u=(c,h)=>{var p;return n[h].pathname!==c.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,h)=>a(c,h)||u(c,h)):i==="data"?e.filter((c,h)=>{var p;let g=r.routes[c.route.id];if(!g||!g.hasLoader)return!1;if(a(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Z7(t,e,{includeHydrateFallback:n}={}){return eq(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function eq(t){return[...new Set(t)]}function tq(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function nq(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(tq(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function gR(){let t=C.useContext(Gc);return Bx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rq(){let t=C.useContext(Gy);return Bx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vx=C.createContext(void 0);Vx.displayName="FrameworkContext";function yR(){let t=C.useContext(Vx);return Bx(t,"You must render this element inside a <HydratedRouter> element"),t}function sq(t,e){let n=C.useContext(Vx),[r,s]=C.useState(!1),[i,a]=C.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,v=C.useRef(null);C.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let S=N=>{N.forEach(A=>{a(A.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[t]),C.useEffect(()=>{if(r){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[r]);let k=()=>{s(!0)},_=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Zd(u,k),onBlur:Zd(c,_),onMouseEnter:Zd(h,k),onMouseLeave:Zd(p,_),onTouchStart:Zd(g,k)}]:[!1,v,{}]}function Zd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function iq({page:t,...e}){let{router:n}=gR(),r=C.useMemo(()=>iR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(aq,{page:t,matches:r,...e}):null}function oq(t){let{manifest:e,routeModules:n}=yR(),[r,s]=C.useState([]);return C.useEffect(()=>{let i=!1;return J7(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function aq({page:t,matches:e,...n}){let r=so(),{manifest:s,routeModules:i}=yR(),{basename:a}=gR(),{loaderData:u,matches:c}=rq(),h=C.useMemo(()=>B_(t,e,c,s,r,"data"),[t,e,c,s,r]),p=C.useMemo(()=>B_(t,e,c,s,r,"assets"),[t,e,c,s,r]),g=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,S=!1;if(e.forEach(N=>{var A;let M=s.routes[N.route.id];!M||!M.hasLoader||(!h.some(F=>F.route.id===N.route.id)&&N.route.id in u&&(A=i[N.route.id])!=null&&A.shouldRevalidate||M.hasClientLoader?S=!0:_.add(N.route.id))}),_.size===0)return[];let T=Q7(t,a,"data");return S&&_.size>0&&T.searchParams.set("_routes",e.filter(N=>_.has(N.route.id)).map(N=>N.route.id).join(",")),[T.pathname+T.search]},[a,u,r,s,h,e,t,i]),v=C.useMemo(()=>Z7(p,s),[p,s]),k=oq(p);return C.createElement(C.Fragment,null,g.map(_=>C.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),v.map(_=>C.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),k.map(({key:_,link:S})=>C.createElement("link",{key:_,nonce:n.nonce,...S})))}function lq(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vR&&(window.__reactRouterVersion="7.9.5")}catch{}function uq({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=Xz({window:n,v5Compat:!0}));let s=r.current,[i,a]=C.useState({action:s.action,location:s.location}),u=C.useCallback(c=>{C.startTransition(()=>a(c))},[a]);return C.useLayoutEffect(()=>s.listen(u),[s,u]),C.createElement(V7,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var wR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=C.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:s,replace:i,state:a,target:u,to:c,preventScrollReset:h,viewTransition:p,...g},v){let{basename:k}=C.useContext(hi),_=typeof c=="string"&&wR.test(c),S,T=!1;if(typeof c=="string"&&_&&(S=c,vR))try{let D=new URL(window.location.href),P=c.startsWith("//")?new URL(D.protocol+c):new URL(c),O=Gi(P.pathname,k);P.origin===D.origin&&O!=null?c=O+P.search+P.hash:T=!0}catch{li(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=E7(c,{relative:r}),[A,M,F]=sq(n,g),z=fq(c,{replace:i,state:a,target:u,preventScrollReset:h,relative:r,viewTransition:p});function W(D){t&&t(D),D.defaultPrevented||z(D)}let R=C.createElement("a",{...g,...F,href:S||N,onClick:T||s?t:W,ref:lq(v,M),target:u,"data-discover":!_&&e==="render"?"true":void 0});return A&&!_?C.createElement(C.Fragment,null,R,C.createElement(iq,{page:N})):R});ft.displayName="Link";var cq=C.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:s,to:i,viewTransition:a,children:u,...c},h){let p=Of(i,{relative:c.relative}),g=so(),v=C.useContext(Gy),{navigator:k,basename:_}=C.useContext(hi),S=v!=null&&vq(p)&&a===!0,T=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,N=g.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(N=N.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&_&&(A=Gi(A,_)||A);const M=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let F=N===T||!r&&N.startsWith(T)&&N.charAt(M)==="/",z=A!=null&&(A===T||!r&&A.startsWith(T)&&A.charAt(T.length)==="/"),W={isActive:F,isPending:z,isTransitioning:S},R=F?t:void 0,D;typeof n=="function"?D=n(W):D=[n,F?"active":null,z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(W):s;return C.createElement(ft,{...c,"aria-current":R,className:D,ref:h,style:P,to:i,viewTransition:a},typeof u=="function"?u(W):u)});cq.displayName="NavLink";var dq=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Zm,action:u,onSubmit:c,relative:h,preventScrollReset:p,viewTransition:g,...v},k)=>{let _=gq(),S=yq(u,{relative:h}),T=a.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&wR.test(u),A=M=>{if(c&&c(M),M.defaultPrevented)return;M.preventDefault();let F=M.nativeEvent.submitter,z=(F==null?void 0:F.getAttribute("formmethod"))||a;_(F||M.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:s,state:i,relative:h,preventScrollReset:p,viewTransition:g})};return C.createElement("form",{ref:k,method:T,action:S,onSubmit:r?c:A,...v,"data-discover":!N&&t==="render"?"true":void 0})});dq.displayName="Form";function hq(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bR(t){let e=C.useContext(Gc);return Dt(e,hq(t)),e}function fq(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let u=Mx(),c=so(),h=Of(t,{relative:i});return C.useCallback(p=>{if($7(p,e)){p.preventDefault();let g=n!==void 0?n:sf(c)===sf(h);u(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[c,u,h,n,r,e,t,s,i,a])}var pq=0,mq=()=>`__${String(++pq)}__`;function gq(){let{router:t}=bR("useSubmit"),{basename:e}=C.useContext(hi),n=M7();return C.useCallback(async(r,s={})=>{let{action:i,method:a,encType:u,formData:c,body:h}=H7(r,e);if(s.navigate===!1){let p=s.fetcherKey||mq();await t.fetch(p,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||a,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||a,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function yq(t,{relative:e}={}){let{basename:n}=C.useContext(hi),r=C.useContext(ro);Dt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Of(t||".",{relative:e})},a=so();if(t==null){i.search=a.search;let u=new URLSearchParams(i.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:zi([n,i.pathname])),sf(i)}function vq(t,{relative:e}={}){let n=C.useContext(dR);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bR("useViewTransitionState"),s=Of(t,{relative:e});if(!n.isTransitioning)return!1;let i=Gi(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Gi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $g(s.pathname,a)!=null||$g(s.pathname,i)!=null}var Fx=pI();const wq=g1(Fx);function nt(t){if(!t)return"/";const[e,n]=t.split("?"),r="/"+e.replace(/\s+/g,"");return n?`${r}?${n}`:r}var Lf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bq={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ya,V_,F_,xq=(F_=class{constructor(){je(this,Ya,bq),je(this,V_,!1)}setTimeoutProvider(t){ge(this,Ya,t)}setTimeout(t,e){return K(this,Ya).setTimeout(t,e)}clearTimeout(t){K(this,Ya).clearTimeout(t)}setInterval(t,e){return K(this,Ya).setInterval(t,e)}clearInterval(t){K(this,Ya).clearInterval(t)}},Ya=new WeakMap,V_=new WeakMap,F_),yl=new xq;function Cq(t){setTimeout(t,0)}var Fl=typeof window>"u"||"Deno"in globalThis;function cr(){}function kq(t,e){return typeof t=="function"?t(e):t}function Eb(t){return typeof t=="number"&&t>=0&&t!==1/0}function xR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function oa(t,e){return typeof t=="function"?t(e):t}function Wr(t,e){return typeof t=="function"?t(e):t}function U_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:u}=t;if(a){if(r){if(e.queryHash!==Ux(a,e.options))return!1}else if(!af(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||i&&!i(e))}function z_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(of(e.options.mutationKey)!==of(i))return!1}else if(!af(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ux(t,e){return((e==null?void 0:e.queryKeyHashFn)||of)(t)}function of(t){return JSON.stringify(t,(e,n)=>Tb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function af(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>af(t[n],e[n])):!1}var Eq=Object.prototype.hasOwnProperty;function CR(t,e){if(t===e)return t;const n=q_(t)&&q_(e);if(!n&&!(Tb(t)&&Tb(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),i=s.length,a=n?new Array(i):{};let u=0;for(let c=0;c<i;c++){const h=n?c:s[c],p=t[h],g=e[h];if(p===g){a[h]=p,(n?c<r:Eq.call(t,h))&&u++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){a[h]=g;continue}const v=CR(p,g);a[h]=v,v===p&&u++}return r===i&&u===r?t:a}function Sb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function q_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Tb(t){if(!K_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!K_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function K_(t){return Object.prototype.toString.call(t)==="[object Object]"}function Sq(t){return new Promise(e=>{yl.setTimeout(e,t)})}function _b(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?CR(t,e):e}function Tq(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function _q(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var zx=Symbol();function kR(t,e){return!t.queryFn&&e!=null&&e.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===zx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Dq(t,e){return typeof t=="function"?t(...e):!!t}var Ku,Xa,eh,$_,Iq=($_=class extends Lf{constructor(){super(),je(this,Ku),je(this,Xa),je(this,eh),ge(this,eh,t=>{if(!Fl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){K(this,Xa)||this.setEventListener(K(this,eh))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Xa))==null||t.call(this),ge(this,Xa,void 0))}setEventListener(t){var e;ge(this,eh,t),(e=K(this,Xa))==null||e.call(this),ge(this,Xa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){K(this,Ku)!==t&&(ge(this,Ku,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof K(this,Ku)=="boolean"?K(this,Ku):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ku=new WeakMap,Xa=new WeakMap,eh=new WeakMap,$_),qx=new Iq;function Db(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var Nq=Cq;function Pq(){let t=[],e=0,n=u=>{u()},r=u=>{u()},s=Nq;const i=u=>{e?t.push(u):s(()=>{n(u)})},a=()=>{const u=t;t=[],u.length&&s(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;e++;try{c=u()}finally{e--,e||a()}return c},batchCalls:u=>(...c)=>{i(()=>{u(...c)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var An=Pq(),th,Ja,nh,W_,Aq=(W_=class extends Lf{constructor(){super(),je(this,th,!0),je(this,Ja),je(this,nh),ge(this,nh,t=>{if(!Fl&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){K(this,Ja)||this.setEventListener(K(this,nh))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Ja))==null||t.call(this),ge(this,Ja,void 0))}setEventListener(t){var e;ge(this,nh,t),(e=K(this,Ja))==null||e.call(this),ge(this,Ja,t(this.setOnline.bind(this)))}setOnline(t){K(this,th)!==t&&(ge(this,th,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return K(this,th)}},th=new WeakMap,Ja=new WeakMap,nh=new WeakMap,W_),Wg=new Aq;function Rq(t){return Math.min(1e3*2**t,3e4)}function ER(t){return(t??"online")==="online"?Wg.isOnline():!0}var Ib=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function SR(t){let e=!1,n=0,r;const s=Db(),i=()=>s.status!=="pending",a=S=>{var T;if(!i()){const N=new Ib(S);v(N),(T=t.onCancel)==null||T.call(t,N)}},u=()=>{e=!0},c=()=>{e=!1},h=()=>qx.isFocused()&&(t.networkMode==="always"||Wg.isOnline())&&t.canRun(),p=()=>ER(t.networkMode)&&t.canRun(),g=S=>{i()||(r==null||r(),s.resolve(S))},v=S=>{i()||(r==null||r(),s.reject(S))},k=()=>new Promise(S=>{var T;r=N=>{(i()||h())&&S(N)},(T=t.onPause)==null||T.call(t)}).then(()=>{var S;r=void 0,i()||(S=t.onContinue)==null||S.call(t)}),_=()=>{if(i())return;let S;const T=n===0?t.initialPromise:void 0;try{S=T??t.fn()}catch(N){S=Promise.reject(N)}Promise.resolve(S).then(g).catch(N=>{var A;if(i())return;const M=t.retry??(Fl?0:3),F=t.retryDelay??Rq,z=typeof F=="function"?F(n,N):F,W=M===!0||typeof M=="number"&&n<M||typeof M=="function"&&M(n,N);if(e||!W){v(N);return}n++,(A=t.onFail)==null||A.call(t,n,N),Sq(z).then(()=>h()?void 0:k()).then(()=>{e?v(N):_()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:c,canStart:p,start:()=>(p()?_():k().then(_),s)}}var $u,G_,TR=(G_=class{constructor(){je(this,$u)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Eb(this.gcTime)&&ge(this,$u,yl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Fl?1/0:300*1e3))}clearGcTimeout(){K(this,$u)&&(yl.clearTimeout(K(this,$u)),ge(this,$u,void 0))}},$u=new WeakMap,G_),Wu,rh,hs,Gu,Dn,wm,Hu,qs,Ai,H_,jq=(H_=class extends TR{constructor(t){super(),je(this,qs),je(this,Wu),je(this,rh),je(this,hs),je(this,Gu),je(this,Dn),je(this,wm),je(this,Hu),ge(this,Hu,!1),ge(this,wm,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,Gu,t.client),ge(this,hs,K(this,Gu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,Wu,Y_(this.options)),this.state=t.state??K(this,Wu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=K(this,Dn))==null?void 0:t.promise}setOptions(t){if(this.options={...K(this,wm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=Y_(this.options);e.data!==void 0&&(this.setState(Q_(e.data,e.dataUpdatedAt)),ge(this,Wu,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,hs).remove(this)}setData(t,e){const n=_b(this.state.data,t,this.options);return Ze(this,qs,Ai).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){Ze(this,qs,Ai).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var e,n;const r=(e=K(this,Dn))==null?void 0:e.promise;return(n=K(this,Dn))==null||n.cancel(t),r?r.then(cr).catch(cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,Wu))}isActive(){return this.observers.some(t=>Wr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>oa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!xR(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=K(this,Dn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=K(this,Dn))==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),K(this,hs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(K(this,Dn)&&(K(this,Hu)?K(this,Dn).cancel({revert:!0}):K(this,Dn).cancelRetry()),this.scheduleGc()),K(this,hs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,qs,Ai).call(this,{type:"invalidate"})}async fetch(t,e){var n,r,s,i,a,u,c,h,p,g,v,k;if(this.state.fetchStatus!=="idle"&&((n=K(this,Dn))==null?void 0:n.status())!=="rejected"){if(this.state.data!==void 0&&e!=null&&e.cancelRefetch)this.cancel({silent:!0});else if(K(this,Dn))return K(this,Dn).continueRetry(),K(this,Dn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const A=this.observers.find(M=>M.options.queryFn);A&&this.setOptions(A.options)}const _=new AbortController,S=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(ge(this,Hu,!0),_.signal)})},T=()=>{const A=kR(this.options,e),M=(()=>{const F={client:K(this,Gu),queryKey:this.queryKey,meta:this.meta};return S(F),F})();return ge(this,Hu,!1),this.options.persister?this.options.persister(A,M,this):A(M)},N=(()=>{const A={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:K(this,Gu),state:this.state,fetchFn:T};return S(A),A})();(r=this.options.behavior)==null||r.onFetch(N,this),ge(this,rh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=N.fetchOptions)==null?void 0:s.meta))&&Ze(this,qs,Ai).call(this,{type:"fetch",meta:(i=N.fetchOptions)==null?void 0:i.meta}),ge(this,Dn,SR({initialPromise:e==null?void 0:e.initialPromise,fn:N.fetchFn,onCancel:A=>{A instanceof Ib&&A.revert&&this.setState({...K(this,rh),fetchStatus:"idle"}),_.abort()},onFail:(A,M)=>{Ze(this,qs,Ai).call(this,{type:"failed",failureCount:A,error:M})},onPause:()=>{Ze(this,qs,Ai).call(this,{type:"pause"})},onContinue:()=>{Ze(this,qs,Ai).call(this,{type:"continue"})},retry:N.options.retry,retryDelay:N.options.retryDelay,networkMode:N.options.networkMode,canRun:()=>!0}));try{const A=await K(this,Dn).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(u=(a=K(this,hs).config).onSuccess)==null||u.call(a,A,this),(h=(c=K(this,hs).config).onSettled)==null||h.call(c,A,this.state.error,this),A}catch(A){if(A instanceof Ib){if(A.silent)return K(this,Dn).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw Ze(this,qs,Ai).call(this,{type:"error",error:A}),(g=(p=K(this,hs).config).onError)==null||g.call(p,A,this),(k=(v=K(this,hs).config).onSettled)==null||k.call(v,this.state.data,A,this),A}finally{this.scheduleGc()}}},Wu=new WeakMap,rh=new WeakMap,hs=new WeakMap,Gu=new WeakMap,Dn=new WeakMap,wm=new WeakMap,Hu=new WeakMap,qs=new WeakSet,Ai=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,..._R(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...Q_(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,rh,t.manual?r:void 0),r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),An.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),K(this,hs).notify({query:this,type:"updated",action:t})})},H_);function _R(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ER(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Q_(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Y_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Er,Je,bm,lr,Qu,sh,zo,Za,xm,ih,oh,Yu,Xu,el,ah,nn,lh,Z0,ew,tw,nw,rw,sw,iw,X_,J_,Mq=(J_=class extends Lf{constructor(t,e){super(),je(this,nn),je(this,Er),je(this,Je),je(this,bm),je(this,lr),je(this,Qu),je(this,sh),je(this,zo),je(this,Za),je(this,xm),je(this,ih),je(this,oh),je(this,Yu),je(this,Xu),je(this,el),je(this,ah,new Set),this.options=e,ge(this,Er,t),ge(this,Za,null),ge(this,zo,Db()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(K(this,Je).addObserver(this),Z_(K(this,Je),this.options)?Ze(this,nn,lh).call(this):this.updateResult(),Ze(this,nn,nw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Nb(K(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Nb(K(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,nn,rw).call(this),Ze(this,nn,sw).call(this),K(this,Je).removeObserver(this)}setOptions(t){const e=this.options,n=K(this,Je);if(this.options=K(this,Er).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wr(this.options.enabled,K(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,nn,iw).call(this),K(this,Je).setOptions(this.options),e._defaulted&&!Sb(this.options,e)&&K(this,Er).getQueryCache().notify({type:"observerOptionsUpdated",query:K(this,Je),observer:this});const r=this.hasListeners();r&&e2(K(this,Je),n,this.options,e)&&Ze(this,nn,lh).call(this),this.updateResult(),r&&(K(this,Je)!==n||Wr(this.options.enabled,K(this,Je))!==Wr(e.enabled,K(this,Je))||oa(this.options.staleTime,K(this,Je))!==oa(e.staleTime,K(this,Je)))&&Ze(this,nn,Z0).call(this);const s=Ze(this,nn,ew).call(this);r&&(K(this,Je)!==n||Wr(this.options.enabled,K(this,Je))!==Wr(e.enabled,K(this,Je))||s!==K(this,el))&&Ze(this,nn,tw).call(this,s)}getOptimisticResult(t){const e=K(this,Er).getQueryCache().build(K(this,Er),t),n=this.createResult(e,t);return Lq(this,n)&&(ge(this,lr,n),ge(this,sh,this.options),ge(this,Qu,K(this,Je).state)),n}getCurrentResult(){return K(this,lr)}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e==null||e(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&K(this,zo).status==="pending"&&K(this,zo).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){K(this,ah).add(t)}getCurrentQuery(){return K(this,Je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=K(this,Er).defaultQueryOptions(t),n=K(this,Er).getQueryCache().build(K(this,Er),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return Ze(this,nn,lh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),K(this,lr)))}createResult(t,e){var n;const r=K(this,Je),s=this.options,i=K(this,lr),a=K(this,Qu),u=K(this,sh),c=t!==r?t.state:K(this,bm),{state:h}=t;let p={...h},g=!1,v;if(e._optimisticResults){const R=this.hasListeners(),D=!R&&Z_(t,e),P=R&&e2(t,r,e,s);(D||P)&&(p={...p,..._R(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:k,errorUpdatedAt:_,status:S}=p;v=p.data;let T=!1;if(e.placeholderData!==void 0&&v===void 0&&S==="pending"){let R;i!=null&&i.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData)?(R=i.data,T=!0):R=typeof e.placeholderData=="function"?e.placeholderData((n=K(this,oh))==null?void 0:n.state.data,K(this,oh)):e.placeholderData,R!==void 0&&(S="success",v=_b(i==null?void 0:i.data,R,e),g=!0)}if(e.select&&v!==void 0&&!T)if(i&&v===(a==null?void 0:a.data)&&e.select===K(this,xm))v=K(this,ih);else try{ge(this,xm,e.select),v=e.select(v),v=_b(i==null?void 0:i.data,v,e),ge(this,ih,v),ge(this,Za,null)}catch(R){ge(this,Za,R)}K(this,Za)&&(k=K(this,Za),v=K(this,ih),_=Date.now(),S="error");const N=p.fetchStatus==="fetching",A=S==="pending",M=S==="error",F=A&&N,z=v!==void 0,W={status:S,fetchStatus:p.fetchStatus,isPending:A,isSuccess:S==="success",isError:M,isInitialLoading:F,isLoading:F,data:v,dataUpdatedAt:p.dataUpdatedAt,error:k,errorUpdatedAt:_,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:N,isRefetching:N&&!A,isLoadingError:M&&!z,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:M&&z,isStale:Kx(t,e),refetch:this.refetch,promise:K(this,zo),isEnabled:Wr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=O=>{W.status==="error"?O.reject(W.error):W.data!==void 0&&O.resolve(W.data)},D=()=>{const O=ge(this,zo,W.promise=Db());R(O)},P=K(this,zo);switch(P.status){case"pending":t.queryHash===r.queryHash&&R(P);break;case"fulfilled":(W.status==="error"||W.data!==P.value)&&D();break;case"rejected":(W.status!=="error"||W.error!==P.reason)&&D();break}}return W}updateResult(){const t=K(this,lr),e=this.createResult(K(this,Je),this.options);if(ge(this,Qu,K(this,Je).state),ge(this,sh,this.options),K(this,Qu).data!==void 0&&ge(this,oh,K(this,Je)),Sb(e,t))return;ge(this,lr,e);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!K(this,ah).size)return!0;const i=new Set(s??K(this,ah));return this.options.throwOnError&&i.add("error"),Object.keys(K(this,lr)).some(a=>{const u=a;return K(this,lr)[u]!==t[u]&&i.has(u)})};Ze(this,nn,X_).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,nn,nw).call(this)}},Er=new WeakMap,Je=new WeakMap,bm=new WeakMap,lr=new WeakMap,Qu=new WeakMap,sh=new WeakMap,zo=new WeakMap,Za=new WeakMap,xm=new WeakMap,ih=new WeakMap,oh=new WeakMap,Yu=new WeakMap,Xu=new WeakMap,el=new WeakMap,ah=new WeakMap,nn=new WeakSet,lh=function(t){Ze(this,nn,iw).call(this);let e=K(this,Je).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(cr)),e},Z0=function(){Ze(this,nn,rw).call(this);const t=oa(this.options.staleTime,K(this,Je));if(Fl||K(this,lr).isStale||!Eb(t))return;const e=xR(K(this,lr).dataUpdatedAt,t)+1;ge(this,Yu,yl.setTimeout(()=>{K(this,lr).isStale||this.updateResult()},e))},ew=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(K(this,Je)):this.options.refetchInterval)??!1},tw=function(t){Ze(this,nn,sw).call(this),ge(this,el,t),!(Fl||Wr(this.options.enabled,K(this,Je))===!1||!Eb(K(this,el))||K(this,el)===0)&&ge(this,Xu,yl.setInterval(()=>{(this.options.refetchIntervalInBackground||qx.isFocused())&&Ze(this,nn,lh).call(this)},K(this,el)))},nw=function(){Ze(this,nn,Z0).call(this),Ze(this,nn,tw).call(this,Ze(this,nn,ew).call(this))},rw=function(){K(this,Yu)&&(yl.clearTimeout(K(this,Yu)),ge(this,Yu,void 0))},sw=function(){K(this,Xu)&&(yl.clearInterval(K(this,Xu)),ge(this,Xu,void 0))},iw=function(){const t=K(this,Er).getQueryCache().build(K(this,Er),this.options);if(t===K(this,Je))return;const e=K(this,Je);ge(this,Je,t),ge(this,bm,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},X_=function(t){An.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(K(this,lr))}),K(this,Er).getQueryCache().notify({query:K(this,Je),type:"observerResultsUpdated"})})},J_);function Oq(t,e){return Wr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Z_(t,e){return Oq(t,e)||t.state.data!==void 0&&Nb(t,e,e.refetchOnMount)}function Nb(t,e,n){if(Wr(e.enabled,t)!==!1&&oa(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Kx(t,e)}return!1}function e2(t,e,n,r){return(t!==e||Wr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Kx(t,n)}function Kx(t,e){return Wr(e.enabled,t)!==!1&&t.isStaleByTime(oa(e.staleTime,t))}function Lq(t,e){return!Sb(t.getCurrentResult(),e)}function t2(t){return{onFetch:(e,n)=>{var r,s,i,a,u;const c=e.options,h=(i=(s=(r=e.fetchOptions)==null?void 0:r.meta)==null?void 0:s.fetchMore)==null?void 0:i.direction,p=((a=e.state.data)==null?void 0:a.pages)||[],g=((u=e.state.data)==null?void 0:u.pageParams)||[];let v={pages:[],pageParams:[]},k=0;const _=async()=>{let S=!1;const T=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?S=!0:e.signal.addEventListener("abort",()=>{S=!0}),e.signal)})},N=kR(e.options,e.fetchOptions),A=async(M,F,z)=>{if(S)return Promise.reject();if(F==null&&M.pages.length)return Promise.resolve(M);const W=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:F,direction:z?"backward":"forward",meta:e.options.meta};return T(O),O})(),R=await N(W),{maxPages:D}=e.options,P=z?_q:Tq;return{pages:P(M.pages,R,D),pageParams:P(M.pageParams,F,D)}};if(h&&p.length){const M=h==="backward",F=M?Bq:n2,z={pages:p,pageParams:g},W=F(c,z);v=await A(z,W,M)}else{const M=t??p.length;do{const F=k===0?g[0]??c.initialPageParam:n2(c,v);if(k>0&&F==null)break;v=await A(v,F),k++}while(k<M)}return v};e.options.persister?e.fetchFn=()=>{var S,T;return(T=(S=e.options).persister)==null?void 0:T.call(S,_,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=_}}}function n2(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Bq(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Cm,Ri,ur,Ju,ji,qo,r2,Vq=(r2=class extends TR{constructor(t){super(),je(this,ji),je(this,Cm),je(this,Ri),je(this,ur),je(this,Ju),ge(this,Cm,t.client),this.mutationId=t.mutationId,ge(this,ur,t.mutationCache),ge(this,Ri,[]),this.state=t.state||Fq(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){K(this,Ri).includes(t)||(K(this,Ri).push(t),this.clearGcTimeout(),K(this,ur).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,Ri,K(this,Ri).filter(e=>e!==t)),this.scheduleGc(),K(this,ur).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){K(this,Ri).length||(this.state.status==="pending"?this.scheduleGc():K(this,ur).remove(this))}continue(){var t;return((t=K(this,Ju))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var e,n,r,s,i,a,u,c,h,p,g,v,k,_,S,T,N,A,M,F;const z=()=>{Ze(this,ji,qo).call(this,{type:"continue"})},W={client:K(this,Cm),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,Ju,SR({fn:()=>this.options.mutationFn?this.options.mutationFn(t,W):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{Ze(this,ji,qo).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{Ze(this,ji,qo).call(this,{type:"pause"})},onContinue:z,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,ur).canRun(this)}));const R=this.state.status==="pending",D=!K(this,Ju).canStart();try{if(R)z();else{Ze(this,ji,qo).call(this,{type:"pending",variables:t,isPaused:D}),await((n=(e=K(this,ur).config).onMutate)==null?void 0:n.call(e,t,this,W));const O=await((s=(r=this.options).onMutate)==null?void 0:s.call(r,t,W));O!==this.state.context&&Ze(this,ji,qo).call(this,{type:"pending",context:O,variables:t,isPaused:D})}const P=await K(this,Ju).start();return await((a=(i=K(this,ur).config).onSuccess)==null?void 0:a.call(i,P,t,this.state.context,this,W)),await((c=(u=this.options).onSuccess)==null?void 0:c.call(u,P,t,this.state.context,W)),await((p=(h=K(this,ur).config).onSettled)==null?void 0:p.call(h,P,null,this.state.variables,this.state.context,this,W)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,P,null,t,this.state.context,W)),Ze(this,ji,qo).call(this,{type:"success",data:P}),P}catch(P){try{throw await((_=(k=K(this,ur).config).onError)==null?void 0:_.call(k,P,t,this.state.context,this,W)),await((T=(S=this.options).onError)==null?void 0:T.call(S,P,t,this.state.context,W)),await((A=(N=K(this,ur).config).onSettled)==null?void 0:A.call(N,void 0,P,this.state.variables,this.state.context,this,W)),await((F=(M=this.options).onSettled)==null?void 0:F.call(M,void 0,P,t,this.state.context,W)),P}finally{Ze(this,ji,qo).call(this,{type:"error",error:P})}}finally{K(this,ur).runNext(this)}}},Cm=new WeakMap,Ri=new WeakMap,ur=new WeakMap,Ju=new WeakMap,ji=new WeakSet,qo=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),An.batch(()=>{K(this,Ri).forEach(n=>{n.onMutationUpdate(t)}),K(this,ur).notify({mutation:this,type:"updated",action:t})})},r2);function Fq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ko,Ks,km,s2,Uq=(s2=class extends Lf{constructor(t={}){super(),je(this,Ko),je(this,Ks),je(this,km),this.config=t,ge(this,Ko,new Set),ge(this,Ks,new Map),ge(this,km,0)}build(t,e,n){const r=new Vq({client:t,mutationCache:this,mutationId:++Uw(this,km)._,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){K(this,Ko).add(t);const e=Em(t);if(typeof e=="string"){const n=K(this,Ks).get(e);n?n.push(t):K(this,Ks).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(K(this,Ko).delete(t)){const e=Em(t);if(typeof e=="string"){const n=K(this,Ks).get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&K(this,Ks).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Em(t);if(typeof e=="string"){const n=K(this,Ks).get(e),r=n==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){var e;const n=Em(t);if(typeof n=="string"){const r=(e=K(this,Ks).get(n))==null?void 0:e.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){An.batch(()=>{K(this,Ko).forEach(t=>{this.notify({type:"removed",mutation:t})}),K(this,Ko).clear(),K(this,Ks).clear()})}getAll(){return Array.from(K(this,Ko))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>z_(e,n))}findAll(t={}){return this.getAll().filter(e=>z_(t,e))}notify(t){An.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return An.batch(()=>Promise.all(t.map(e=>e.continue().catch(cr))))}},Ko=new WeakMap,Ks=new WeakMap,km=new WeakMap,s2);function Em(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Mi,i2,zq=(i2=class extends Lf{constructor(t={}){super(),je(this,Mi),this.config=t,ge(this,Mi,new Map)}build(t,e,n){const r=e.queryKey,s=e.queryHash??Ux(r,e);let i=this.get(s);return i||(i=new jq({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){K(this,Mi).has(t.queryHash)||(K(this,Mi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=K(this,Mi).get(t.queryHash);e&&(t.destroy(),e===t&&K(this,Mi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){An.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return K(this,Mi).get(t)}getAll(){return[...K(this,Mi).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>U_(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>U_(t,n)):e}notify(t){An.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){An.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){An.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mi=new WeakMap,i2),rn,tl,nl,uh,ch,rl,dh,hh,o2,qq=(o2=class{constructor(t={}){je(this,rn),je(this,tl),je(this,nl),je(this,uh),je(this,ch),je(this,rl),je(this,dh),je(this,hh),ge(this,rn,t.queryCache||new zq),ge(this,tl,t.mutationCache||new Uq),ge(this,nl,t.defaultOptions||{}),ge(this,uh,new Map),ge(this,ch,new Map),ge(this,rl,0)}mount(){Uw(this,rl)._++,K(this,rl)===1&&(ge(this,dh,qx.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,rn).onFocus())})),ge(this,hh,Wg.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,rn).onOnline())})))}unmount(){var t,e;Uw(this,rl)._--,K(this,rl)===0&&((t=K(this,dh))==null||t.call(this),ge(this,dh,void 0),(e=K(this,hh))==null||e.call(this),ge(this,hh,void 0))}isFetching(t){return K(this,rn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return K(this,tl).findAll({...t,status:"pending"}).length}getQueryData(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=K(this,rn).get(n.queryHash))==null?void 0:e.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=K(this,rn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(oa(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return K(this,rn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=K(this,rn).get(r.queryHash),i=s==null?void 0:s.state.data,a=kq(e,i);if(a!==void 0)return K(this,rn).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return An.batch(()=>K(this,rn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=K(this,rn).get(n.queryHash))==null?void 0:e.state}removeQueries(t){const e=K(this,rn);An.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=K(this,rn);return An.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=An.batch(()=>K(this,rn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(cr).catch(cr)}invalidateQueries(t,e={}){return An.batch(()=>(K(this,rn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=An.batch(()=>K(this,rn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(cr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(cr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=K(this,rn).build(this,e);return n.isStaleByTime(oa(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(cr).catch(cr)}fetchInfiniteQuery(t){return t.behavior=t2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(cr).catch(cr)}ensureInfiniteQueryData(t){return t.behavior=t2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wg.isOnline()?K(this,tl).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,rn)}getMutationCache(){return K(this,tl)}getDefaultOptions(){return K(this,nl)}setDefaultOptions(t){ge(this,nl,t)}setQueryDefaults(t,e){K(this,uh).set(of(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...K(this,uh).values()],n={};return e.forEach(r=>{af(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){K(this,ch).set(of(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...K(this,ch).values()],n={};return e.forEach(r=>{af(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...K(this,nl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ux(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===zx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...K(this,nl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){K(this,rn).clear(),K(this,tl).clear()}},rn=new WeakMap,tl=new WeakMap,nl=new WeakMap,uh=new WeakMap,ch=new WeakMap,rl=new WeakMap,dh=new WeakMap,hh=new WeakMap,o2),DR=C.createContext(void 0),Kq=t=>{const e=C.useContext(DR);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$q=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(DR.Provider,{value:t,children:e})),IR=C.createContext(!1),Wq=()=>C.useContext(IR);IR.Provider;function Gq(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Hq=C.createContext(Gq()),Qq=()=>C.useContext(Hq),Yq=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Xq=t=>{C.useEffect(()=>{t.clearReset()},[t])},Jq=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||Dq(n,[t.error,r])),Zq=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},eK=(t,e)=>t.isLoading&&t.isFetching&&!e,tK=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,a2=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function nK(t,e,n){var r,s,i,a,u;const c=Wq(),h=Qq(),p=Kq(),g=p.defaultQueryOptions(t);(s=(r=p.getDefaultOptions().queries)==null?void 0:r._experimental_beforeQuery)==null||s.call(r,g),g._optimisticResults=c?"isRestoring":"optimistic",Zq(g),Yq(g,h),Xq(h);const v=!p.getQueryCache().get(g.queryHash),[k]=C.useState(()=>new e(p,g)),_=k.getOptimisticResult(g),S=!c&&t.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(T=>{const N=S?k.subscribe(An.batchCalls(T)):cr;return k.updateResult(),N},[k,S]),()=>k.getCurrentResult(),()=>k.getCurrentResult()),C.useEffect(()=>{k.setOptions(g)},[g,k]),tK(g,_))throw a2(g,k,h);if(Jq({result:_,errorResetBoundary:h,throwOnError:g.throwOnError,query:p.getQueryCache().get(g.queryHash),suspense:g.suspense}))throw _.error;if((a=(i=p.getDefaultOptions().queries)==null?void 0:i._experimental_afterQuery)==null||a.call(i,g,_),g.experimental_prefetchInRender&&!Fl&&eK(_,c)){const T=v?a2(g,k,h):(u=p.getQueryCache().get(g.queryHash))==null?void 0:u.promise;T==null||T.catch(cr).finally(()=>{k.updateResult()})}return g.notifyOnChangeProps?_:k.trackResult(_)}function rK(t,e){return nK(t,Mq)}/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var iK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oK=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...u},c)=>C.createElement("svg",{ref:c,...iK,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:NR("lucide",s),...u},[...a.map(([h,p])=>C.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ye=(t,e)=>{const n=C.forwardRef(({className:r,...s},i)=>C.createElement(oK,{ref:i,iconNode:e,className:NR(`lucide-${sK(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const aK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lK=Ye("ArrowRight",aK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uK=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],cK=Ye("Award",uK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const dK=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],tg=Ye("Brain",dK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hK=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ow=Ye("Calendar",hK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fK=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],pK=Ye("ChartColumn",fK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mK=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gK=Ye("Check",mK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const yK=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vK=Ye("ChevronDown",yK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wK=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bK=Ye("ChevronRight",wK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xK=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CK=Ye("CircleCheckBig",xK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],EK=Ye("CircleX",kK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const SK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],TK=Ye("Circle",SK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _K=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],DK=Ye("Clock",_K);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const IK=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],l2=Ye("Coins",IK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const NK=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],PK=Ye("CreditCard",NK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const AK=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],vl=Ye("Crown",AK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const RK=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],u2=Ye("EyeOff",RK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const jK=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c2=Ye("Eye",jK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const MK=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],OK=Ye("Gamepad2",MK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const LK=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],d2=Ye("GraduationCap",LK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const BK=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],h2=Ye("Heart",BK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const VK=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],f2=Ye("House",VK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const FK=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],p2=Ye("LogOut",FK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const UK=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],m2=Ye("Mail",UK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const zK=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],qK=Ye("Menu",zK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const KK=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],$K=Ye("PartyPopper",KK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const WK=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],GK=Ye("Rocket",WK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const HK=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],g2=Ye("Settings",HK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const QK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],YK=Ye("Shield",QK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const XK=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],aw=Ye("ShoppingBag",XK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const JK=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],PR=Ye("Sparkles",JK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ZK=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],lw=Ye("Star",ZK);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const e$=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Pb=Ye("Trophy",e$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const t$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uw=Ye("User",t$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const n$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ab=Ye("Users",n$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const r$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$x=Ye("X",r$);function AR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=AR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function RR(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=AR(t))&&(r&&(r+=" "),r+=e);return r}const y2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,v2=RR,Qy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return v2(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(h=>{const p=n==null?void 0:n[h],g=i==null?void 0:i[h];if(p===null)return null;const v=y2(p)||y2(g);return s[h][v]}),u=n&&Object.entries(n).reduce((h,p)=>{let[g,v]=p;return v===void 0||(h[g]=v),h},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:g,className:v,...k}=p;return Object.entries(k).every(_=>{let[S,T]=_;return Array.isArray(T)?T.includes({...i,...u}[S]):{...i,...u}[S]===T})?[...h,g,v]:h},[]);return v2(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},Wx="-",s$=t=>{const e=o$(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const i=s.split(Wx);return i[0]===""&&i.length!==1&&i.shift(),jR(i,e)||i$(s)},getConflictingClassGroupIds:(s,i)=>{const a=n[s]||[];return i&&r[s]?[...a,...r[s]]:a}}},jR=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),i=s?jR(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Wx);return(n=e.validators.find(({validator:u})=>u(a)))==null?void 0:n.classGroupId},w2=/^\[(.+)\]$/,i$=t=>{if(w2.test(t)){const e=w2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},o$=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Rb(n[s],r,s,e);return r},Rb=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:b2(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(a$(s)){Rb(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Rb(a,b2(e,i),n,r)})})},b2=(t,e)=>{let n=t;return e.split(Wx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},a$=t=>t.isThemeGetter,l$=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},jb="!",Mb=":",u$=Mb.length,c$=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let a=0,u=0,c=0,h;for(let _=0;_<s.length;_++){let S=s[_];if(a===0&&u===0){if(S===Mb){i.push(s.slice(c,_)),c=_+u$;continue}if(S==="/"){h=_;continue}}S==="["?a++:S==="]"?a--:S==="("?u++:S===")"&&u--}const p=i.length===0?s:s.substring(c),g=d$(p),v=g!==p,k=h&&h>c?h-c:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:k}};if(e){const s=e+Mb,i=r;r=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},d$=t=>t.endsWith(jb)?t.substring(0,t.length-1):t.startsWith(jb)?t.substring(1):t,h$=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r}},f$=t=>({cache:l$(t.cacheSize),parseClassName:c$(t),sortModifiers:h$(t),...s$(t)}),p$=/\s+/,m$=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],u=t.trim().split(p$);let c="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{isExternal:g,modifiers:v,hasImportantModifier:k,baseClassName:_,maybePostfixModifierPosition:S}=n(p);if(g){c=p+(c.length>0?" "+c:c);continue}let T=!!S,N=r(T?_.substring(0,S):_);if(!N){if(!T){c=p+(c.length>0?" "+c:c);continue}if(N=r(_),!N){c=p+(c.length>0?" "+c:c);continue}T=!1}const A=i(v).join(":"),M=k?A+jb:A,F=M+N;if(a.includes(F))continue;a.push(F);const z=s(N,T);for(let W=0;W<z.length;++W){const R=z[W];a.push(M+R)}c=p+(c.length>0?" "+c:c)}return c};function g$(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=MR(e))&&(r&&(r+=" "),r+=n);return r}const MR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=MR(t[r]))&&(n&&(n+=" "),n+=e);return n};function y$(t,...e){let n,r,s,i=a;function a(c){const h=e.reduce((p,g)=>g(p),t());return n=f$(h),r=n.cache.get,s=n.cache.set,i=u,u(c)}function u(c){const h=r(c);if(h)return h;const p=m$(c,n);return s(c,p),p}return function(){return i(g$.apply(null,arguments))}}const mn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},OR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,LR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,v$=/^\d+\/\d+$/,w$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,b$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,x$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,C$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zu=t=>v$.test(t),Ke=t=>!!t&&!Number.isNaN(Number(t)),$o=t=>!!t&&Number.isInteger(Number(t)),cw=t=>t.endsWith("%")&&Ke(t.slice(0,-1)),Oi=t=>w$.test(t),E$=()=>!0,S$=t=>b$.test(t)&&!x$.test(t),BR=()=>!1,T$=t=>C$.test(t),_$=t=>k$.test(t),D$=t=>!xe(t)&&!Ce(t),I$=t=>Hc(t,UR,BR),xe=t=>OR.test(t),sl=t=>Hc(t,zR,S$),dw=t=>Hc(t,j$,Ke),x2=t=>Hc(t,VR,BR),N$=t=>Hc(t,FR,_$),Sm=t=>Hc(t,qR,T$),Ce=t=>LR.test(t),fh=t=>Qc(t,zR),P$=t=>Qc(t,M$),C2=t=>Qc(t,VR),A$=t=>Qc(t,UR),R$=t=>Qc(t,FR),Tm=t=>Qc(t,qR,!0),Hc=(t,e,n)=>{const r=OR.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Qc=(t,e,n=!1)=>{const r=LR.exec(t);return r?r[1]?e(r[1]):n:!1},VR=t=>t==="position"||t==="percentage",FR=t=>t==="image"||t==="url",UR=t=>t==="length"||t==="size"||t==="bg-size",zR=t=>t==="length",j$=t=>t==="number",M$=t=>t==="family-name",qR=t=>t==="shadow",O$=()=>{const t=mn("color"),e=mn("font"),n=mn("text"),r=mn("font-weight"),s=mn("tracking"),i=mn("leading"),a=mn("breakpoint"),u=mn("container"),c=mn("spacing"),h=mn("radius"),p=mn("shadow"),g=mn("inset-shadow"),v=mn("text-shadow"),k=mn("drop-shadow"),_=mn("blur"),S=mn("perspective"),T=mn("aspect"),N=mn("ease"),A=mn("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...F(),Ce,xe],W=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],D=()=>[Ce,xe,c],P=()=>[Zu,"full","auto",...D()],O=()=>[$o,"none","subgrid",Ce,xe],V=()=>["auto",{span:["full",$o,Ce,xe]},$o,Ce,xe],q=()=>[$o,"auto",Ce,xe],L=()=>["auto","min","max","fr",Ce,xe],Ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ae=()=>["start","end","center","stretch","center-safe","end-safe"],ye=()=>["auto",...D()],ve=()=>[Zu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],H=()=>[t,Ce,xe],ne=()=>[...F(),C2,x2,{position:[Ce,xe]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",A$,I$,{size:[Ce,xe]}],re=()=>[cw,fh,sl],pe=()=>["","none","full",h,Ce,xe],me=()=>["",Ke,fh,sl],Re=()=>["solid","dashed","dotted","double"],Ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],De=()=>[Ke,cw,C2,x2],qe=()=>["","none",_,Ce,xe],Fe=()=>["none",Ke,Ce,xe],pt=()=>["none",Ke,Ce,xe],Ar=()=>[Ke,Ce,xe],Rr=()=>[Zu,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Oi],breakpoint:[Oi],color:[E$],container:[Oi],"drop-shadow":[Oi],ease:["in","out","in-out"],font:[D$],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Oi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Oi],shadow:[Oi],spacing:["px",Ke],text:[Oi],"text-shadow":[Oi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zu,xe,Ce,T]}],container:["container"],columns:[{columns:[Ke,xe,Ce,u]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[$o,"auto",Ce,xe]}],basis:[{basis:[Zu,"full","auto",u,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ke,Zu,"auto","initial","none",xe]}],grow:[{grow:["",Ke,Ce,xe]}],shrink:[{shrink:["",Ke,Ce,xe]}],order:[{order:[$o,"first","last","none",Ce,xe]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...Ee(),"normal"]}],"justify-items":[{"justify-items":[...Ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ae()]}],"align-content":[{content:["normal",...Ee()]}],"align-items":[{items:[...Ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ee()}],"place-items":[{"place-items":[...Ae(),"baseline"]}],"place-self":[{"place-self":["auto",...Ae()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:ye()}],mx:[{mx:ye()}],my:[{my:ye()}],ms:[{ms:ye()}],me:[{me:ye()}],mt:[{mt:ye()}],mr:[{mr:ye()}],mb:[{mb:ye()}],ml:[{ml:ye()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:ve()}],w:[{w:[u,"screen",...ve()]}],"min-w":[{"min-w":[u,"screen","none",...ve()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[a]},...ve()]}],h:[{h:["screen","lh",...ve()]}],"min-h":[{"min-h":["screen","lh","none",...ve()]}],"max-h":[{"max-h":["screen","lh",...ve()]}],"font-size":[{text:["base",n,fh,sl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ce,dw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cw,xe]}],"font-family":[{font:[P$,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ce,xe]}],"line-clamp":[{"line-clamp":[Ke,"none",Ce,dw]}],leading:[{leading:[i,...D()]}],"list-image":[{"list-image":["none",Ce,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ke,"from-font","auto",Ce,sl]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Ke,"auto",Ce,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$o,Ce,xe],radial:["",Ce,xe],conic:[$o,Ce,xe]},R$,N$]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ke,Ce,xe]}],"outline-w":[{outline:["",Ke,fh,sl]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",p,Tm,Sm]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",g,Tm,Sm]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Ke,sl]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",v,Tm,Sm]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Ke,Ce,xe]}],"mix-blend":[{"mix-blend":[...Ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":De()}],"mask-image-linear-to-pos":[{"mask-linear-to":De()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":De()}],"mask-image-t-to-pos":[{"mask-t-to":De()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":De()}],"mask-image-r-to-pos":[{"mask-r-to":De()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":De()}],"mask-image-b-to-pos":[{"mask-b-to":De()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":De()}],"mask-image-l-to-pos":[{"mask-l-to":De()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":De()}],"mask-image-x-to-pos":[{"mask-x-to":De()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":De()}],"mask-image-y-to-pos":[{"mask-y-to":De()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Ce,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":De()}],"mask-image-radial-to-pos":[{"mask-radial-to":De()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":F()}],"mask-image-conic-pos":[{"mask-conic":[Ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":De()}],"mask-image-conic-to-pos":[{"mask-conic-to":De()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,xe]}],filter:[{filter:["","none",Ce,xe]}],blur:[{blur:qe()}],brightness:[{brightness:[Ke,Ce,xe]}],contrast:[{contrast:[Ke,Ce,xe]}],"drop-shadow":[{"drop-shadow":["","none",k,Tm,Sm]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Ke,Ce,xe]}],"hue-rotate":[{"hue-rotate":[Ke,Ce,xe]}],invert:[{invert:["",Ke,Ce,xe]}],saturate:[{saturate:[Ke,Ce,xe]}],sepia:[{sepia:["",Ke,Ce,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,xe]}],"backdrop-blur":[{"backdrop-blur":qe()}],"backdrop-brightness":[{"backdrop-brightness":[Ke,Ce,xe]}],"backdrop-contrast":[{"backdrop-contrast":[Ke,Ce,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ke,Ce,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ke,Ce,xe]}],"backdrop-invert":[{"backdrop-invert":["",Ke,Ce,xe]}],"backdrop-opacity":[{"backdrop-opacity":[Ke,Ce,xe]}],"backdrop-saturate":[{"backdrop-saturate":[Ke,Ce,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ke,Ce,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ke,"initial",Ce,xe]}],ease:[{ease:["linear","initial",N,Ce,xe]}],delay:[{delay:[Ke,Ce,xe]}],animate:[{animate:["none",A,Ce,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Ce,xe]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:Fe()}],"rotate-x":[{"rotate-x":Fe()}],"rotate-y":[{"rotate-y":Fe()}],"rotate-z":[{"rotate-z":Fe()}],scale:[{scale:pt()}],"scale-x":[{"scale-x":pt()}],"scale-y":[{"scale-y":pt()}],"scale-z":[{"scale-z":pt()}],"scale-3d":["scale-3d"],skew:[{skew:Ar()}],"skew-x":[{"skew-x":Ar()}],"skew-y":[{"skew-y":Ar()}],transform:[{transform:[Ce,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Rr()}],"translate-x":[{"translate-x":Rr()}],"translate-y":[{"translate-y":Rr()}],"translate-z":[{"translate-z":Rr()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,xe]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Ke,fh,sl,dw]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},L$=y$(O$);function wt(...t){return L$(RR(t))}function Ob(t){const e=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];if(t<20)return e[t];if(t<100)return n[Math.floor(t/10)]+(t%10?"-"+e[t%10]:"");if(t<1e3){const r=t%100,s=e[Math.floor(t/100)]+" hundred";return r?s+" "+Ob(r):s}return String(t)}function Lb(t){const e=["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","diecisis","diecisiete","dieciocho","diecinueve"],n=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];if(t<20)return e[t];if(t<30)return t===20?"veinte":"veinti"+e[t-20];if(t<100)return n[Math.floor(t/10)]+(t%10?" y "+e[t%10]:"");if(t<200)return"ciento"+(t%100?" "+Lb(t%100):"");if(t<1e3){const r=["cero","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"][Math.floor(t/100)],s=t%100;return r+(s?" "+Lb(s):"")}return String(t)}function Gne(t,e={}){if(!t||typeof t!="string")return t;const{numberToWords:n="auto",language:r,pauseOperators:s=!0}=e;let i="en";try{i=r||(localStorage.getItem("tts.lang")==="es"?"es":"en")||"en"}catch{}let a=t;a=a.replace(//g,"-").replace(/|/g,"");const u={2:"half",3:"third",4:"fourth",5:"fifth",6:"sixth",7:"seventh",8:"eighth",9:"ninth",10:"tenth",12:"twelfth"},c={2:"medios",3:"tercios",4:"cuartos",5:"quintos",6:"sextos",7:"sptimos",8:"octavos",9:"novenos",10:"dcimos",12:"duodcimos"};if([{pattern:/\s*\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\/\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\s*/g,spoken:i==="es"?" por ":" times "},{pattern:/\s*\*\s*/g,spoken:" times "},{pattern:/(\d+)\s*[xX]\s*(\d+)/g,spoken:i==="es"?"$1 por $2":"$1 times $2"},{pattern:/\s*\+\s*/g,spoken:i==="es"?" ms ":" plus "},{pattern:/(\d+)\s*-\s*(\d+)/g,spoken:i==="es"?"$1 menos $2":"$1 minus $2"},{pattern:/\s*=\s*/g,spoken:i==="es"?" igual a ":" equals "},{pattern:/\s*>\s*/g,spoken:i==="es"?" es mayor que ":" is greater than "},{pattern:/\s*<\s*/g,spoken:i==="es"?" es menor que ":" is less than "},{pattern:/\s*\s*/g,spoken:i==="es"?" es mayor o igual que ":" is greater than or equal to "},{pattern:/\s*\s*/g,spoken:i==="es"?" es menor o igual que ":" is less than or equal to "},{pattern:/(\d+)\/(\d+)/g,spoken:(h,p,g)=>i==="es"?`${p} ${c[g]||"sobre "+g}`:u[g]?`${p==="1"?"one":Ob(Number(p))} ${u[g]}${p!=="1"?"s":""}`:`${p} over ${g}`},{pattern:/%/g,spoken:i==="es"?" por ciento":" percent"},{pattern:/\^(\d+)/g,spoken:i==="es"?" a la potencia de $1":" to the power of $1"},{pattern:/(\d+)/g,spoken:i==="es"?"raz cuadrada de $1":"square root of $1"}].forEach(({pattern:h,spoken:p})=>{a=a.replace(h,p)}),a=a.replace(/(\d)\.(\d)/g,i==="es"?"$1 coma $2":"$1 point $2"),a=a.replace(/\s*(,)?\s*(\?+|_+)\s*(,)?\s*/g,(h,p,g,v)=>p&&v?", ":" "),a=a.replace(/\?\s*$/g,""),s&&(i==="es"?[" ms "," menos "," por "," dividido entre "," igual a "]:[" plus "," minus "," times "," divided by "," equals "]).forEach(h=>{const p=new RegExp(h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(?!,)","g");a=a.replace(p,h+", ")}),n!=="none"){const h=i==="es"?Lb:Ob;a=a.replace(/\b\d+\b/g,(p,g)=>{const v=parseInt(p,10);if(!Number.isFinite(v))return p;if(n==="all")return h(v);const k=v<=20,_=a[g-1]||"",S=a[g+p.length]||"";return k||_===","||S===","?h(v):p})}return a=a.replace(/\s+,/g,",").replace(/,\s*,/g,", ").replace(/\s+/g," ").replace(/\s+,\s*$/g,"").trim(),a}const B$=Qy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $r({className:t,variant:e,...n}){return x.jsx("div",{className:wt(B$({variant:e}),t),...n})}function k2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ql(...t){return e=>{let n=!1;const r=t.map(s=>{const i=k2(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():k2(t[s],null)}}}}function pr(...t){return C.useCallback(Ql(...t),t)}var V$=Symbol.for("react.lazy"),Gg=v1[" use ".trim().toString()];function F$(t){return typeof t=="object"&&t!==null&&"then"in t}function KR(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===V$&&"_payload"in t&&F$(t._payload)}function U$(t){const e=q$(t),n=C.forwardRef((r,s)=>{let{children:i,...a}=r;KR(i)&&typeof Gg=="function"&&(i=Gg(i._payload));const u=C.Children.toArray(i),c=u.find($$);if(c){const h=c.props.children,p=u.map(g=>g===c?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:C.isValidElement(h)?C.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var z$=U$("Slot");function q$(t){const e=C.forwardRef((n,r)=>{let{children:s,...i}=n;if(KR(s)&&typeof Gg=="function"&&(s=Gg(s._payload)),C.isValidElement(s)){const a=G$(s),u=W$(i,s.props);return s.type!==C.Fragment&&(u.ref=r?Ql(r,a):a),C.cloneElement(s,u)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var K$=Symbol("radix.slottable");function $$(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===K$}function W$(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function G$(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}const H$=Qy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ti=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?z$:"button";return x.jsx(a,{className:wt(H$({variant:e,size:n,className:t})),ref:i,...s})});ti.displayName="Button";const kn=jy(xs);py(xs);const $R=async(t,e={})=>{const n=ci(kn,"users",t),r={email:t,subscription_tier:"free",subscription_expires_at:null,subscription_auto_renew:!1,trial_start_date:Hn(),trial_expires_at:null,trial_used:!1,trial_grace_used:!1,coins:0,stars_spent:0,total_stars_earned:0,owned_pets:[],active_pet:null,purchased_items:[],unlocked_items:[],power_ups:{},pet_experience:{},daily_login_streak:0,total_login_days:0,last_login_date:null,parental_controls:{enabled:!1,allowed_operations:[],allowed_levels:[],focus_operations:[],daily_time_limit_minutes:0,enforce_time_limits:!1},daily_usage_tracking:{},is_parent_mode:!1,is_premium_parent:!1,is_family_teacher:!1,parent_email:null,child_name:null,full_name:null,created_at:Hn(),updated_at:Hn(),...e};await zy(n,r);const s=(await DA(n)).data();let i=null;if(s&&s.trial_start_date&&s.trial_start_date.toDate?i=s.trial_start_date.toDate():s&&s.trial_start_date&&s.trial_start_date.seconds&&(i=new Date(s.trial_start_date.seconds*1e3)),i){const a=new Date(i.getTime()+6048e5);return await qy(n,{trial_expires_at:rt.fromDate(a),updated_at:Hn()}),{...s,trial_expires_at:rt.fromDate(a)}}return s||r},WR=async t=>{const e=ci(kn,"users",t),n=await DA(e);return n.exists()?{id:n.id,...n.data()}:await $R(t)},_m=async(t,e)=>{const n=ci(kn,"users",t);await qy(n,{...e,updated_at:Hn()})},Hne=async()=>{const t=Kn(kn,"users");return(await bs(t)).docs.map(e=>({id:e.id,...e.data()}))},Qne=async(t,e)=>{const n=Kn(kn,"gameProgress"),r=ci(n),s={user_email:t,operation:e.operation,level:e.level,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,coins_earned:e.coins_earned||0,accuracy:e.accuracy||0,completed_at:Hn(),...e};return await zy(r,s),{id:r.id,...s}},Yne=async t=>{const e=Kn(kn,"gameProgress"),n=ws(e,Qr("user_email","==",t),$c("completed_at","desc"));return(await bs(n)).docs.map(r=>({id:r.id,...r.data()}))},Xne=(t,e)=>{const n=Kn(kn,"gameProgress"),r=ws(n,Qr("user_email","==",t),$c("completed_at","desc"));return IA(r,s=>{const i=s.docs.map(a=>({id:a.id,...a.data()}));e(i)})},Jne=async()=>{const t=Kn(kn,"gameProgress"),e=ws(t,$c("score","desc"),Sx(100));return(await bs(e)).docs.map(n=>({id:n.id,...n.data()}))},Zne=async(t,e)=>{const n=Kn(kn,"dailyChallenges"),r=ci(n),s={user_email:t,challenge_type:e.challenge_type,challenge_date:e.challenge_date,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,bonus_coins:e.bonus_coins||0,completed_at:Hn(),...e};return await zy(r,s),{id:r.id,...s}},ere=async t=>{const e=Kn(kn,"dailyChallenges"),n=ws(e,Qr("user_email","==",t),$c("completed_at","desc"));return(await bs(n)).docs.map(r=>({id:r.id,...r.data()}))},tre=async()=>{const t=Kn(kn,"dailyChallenges"),e=ws(t,$c("score","desc"),Sx(100));return(await bs(e)).docs.map(n=>({id:n.id,...n.data()}))},nre=async t=>{const e=Kn(kn,"teamChallenges"),n=ws(e,Qr("creator_email","==",t)),r=ws(e,Qr("team_members","array-contains",t)),[s,i]=await Promise.all([bs(n),bs(r)]),a=new Map;return s.docs.forEach(u=>a.set(u.id,{id:u.id,...u.data()})),i.docs.forEach(u=>a.set(u.id,{id:u.id,...u.data()})),Array.from(a.values())},rre=async(t,e)=>{const n=ci(kn,"teamChallenges",t);await qy(n,{...e,updated_at:Hn()})},sre=async t=>{const e=Kn(kn,"tutorSessions"),n=ws(e,Qr("user_email","==",t),$c("created_at","desc"),Sx(50));return(await bs(n)).docs.map(r=>({id:r.id,...r.data()}))},ire=async(t,e)=>{const n=Kn(kn,"friendConnections"),r=ci(n),s={user_email:t,friend_email:e,status:"pending",sent_at:Hn()};return await zy(r,s),{id:r.id,...s}},ore=async t=>{const e=Kn(kn,"friendConnections"),n=ws(e,Qr("user_email","==",t),Qr("status","==","accepted")),r=ws(e,Qr("friend_email","==",t),Qr("status","==","accepted")),[s,i]=await Promise.all([bs(n),bs(r)]);return[...s.docs.map(a=>({id:a.id,...a.data()})),...i.docs.map(a=>({id:a.id,...a.data()}))]},are=async t=>{const e=Kn(kn,"friendConnections"),n=ws(e,Qr("friend_email","==",t),Qr("status","==","pending"));return(await bs(n)).docs.map(r=>({id:r.id,...r.data()}))},lre=async(t,e)=>{const n=ci(kn,"friendConnections",t);await qy(n,{status:e,updated_at:Hn()})},ng=C.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:wt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ng.displayName="Input";function GR(){const[t,e]=C.useState("sign-in"),[n,r]=C.useState(""),[s,i]=C.useState(""),[a,u]=C.useState(""),[c,h]=C.useState(!1),[p,g]=C.useState(""),[v,k]=C.useState(""),[_,S]=C.useState(!1),[T,N]=C.useState(!1),A=()=>{k(""),g("")},M=async()=>{if(A(),!n){k("Email required");return}if(t==="sign-up"){if(!s){k("Password required");return}if(s!==a){k("Passwords do not match");return}}if(t==="sign-in"&&!s){k("Password required");return}h(!0);try{t==="sign-up"?(await oB(Y0,n,s),await $R(n),g("Account created. You are signed in.")):t==="sign-in"?(await aB(Y0,n,s),await WR(n),g("Signed in.")):t==="reset"&&(await iB(Y0,n),g("Reset link sent. Check your email."))}catch(z){k((z==null?void 0:z.message)||"Auth failed")}finally{h(!1)}},F=z=>{A(),e(z)};return x.jsxs("div",{className:"w-full max-w-sm mx-auto bg-white/90 rounded-xl shadow-lg p-5 space-y-4",children:[x.jsxs("h2",{className:"text-xl font-bold text-purple-700 text-center",children:[t==="sign-in"&&"Sign In",t==="sign-up"&&"Create Account",t==="reset"&&"Reset Password"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(ng,{type:"email",autoComplete:"email",placeholder:"Email",value:n,onChange:z=>r(z.target.value)}),t!=="reset"&&x.jsxs("div",{className:"relative",children:[x.jsx(ng,{type:_?"text":"password",autoComplete:t==="sign-up"?"new-password":"current-password",placeholder:"Password",value:s,onChange:z=>i(z.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>S(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:_?x.jsx(u2,{className:"w-4 h-4"}):x.jsx(c2,{className:"w-4 h-4"})})]}),t==="sign-up"&&x.jsxs("div",{className:"relative",children:[x.jsx(ng,{type:T?"text":"password",placeholder:"Confirm Password",value:a,onChange:z=>u(z.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>N(!T),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:T?x.jsx(u2,{className:"w-4 h-4"}):x.jsx(c2,{className:"w-4 h-4"})})]})]}),(v||p)&&x.jsx("div",{className:`text-sm rounded-md p-2 ${v?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:v||p}),x.jsx(ti,{onClick:M,disabled:c,className:"w-full bg-purple-600 hover:bg-purple-700",children:c?"Please wait":t==="sign-in"?"Sign In":t==="sign-up"?"Sign Up":"Send Reset Link"}),x.jsxs("div",{className:"text-xs text-center text-gray-600 space-y-1",children:[t==="sign-in"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>F("sign-up"),className:"text-purple-600 hover:underline block w-full",children:"Need an account? Sign up"}),x.jsx("button",{onClick:()=>F("reset"),className:"text-purple-600 hover:underline block w-full",children:"Forgot password?"})]}),t==="sign-up"&&x.jsx("button",{onClick:()=>F("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Have an account? Sign in"}),t==="reset"&&x.jsx("button",{onClick:()=>F("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Back to sign in"})]})]})}const HR=t=>{if(!t)return!1;if(!t.trial_start_date||!t.trial_expires_at)return t.subscription_tier==="free"&&t.trial_used!==!0;if(t.subscription_tier!=="free"||t.trial_used===!0)return!1;const e=new Date,n=t.trial_expires_at.toDate();return e<n},Q$=t=>{if(!t||!t.trial_start_date||!t.trial_expires_at||t.subscription_tier!=="free")return!1;const e=new Date,n=t.trial_expires_at.toDate();return e>=n},Y$=t=>{if(!t||!t.trial_expires_at||t.subscription_tier!=="free")return 0;const e=new Date,n=t.trial_expires_at.toDate()-e;return n<=0?0:Math.ceil(n/(1e3*60*60*24))},X$=t=>t?!!(t.subscription_tier&&t.subscription_tier!=="free"||HR(t)&&t.trial_used!==!0):!1;let Hg=Yz;(async()=>{try{!Hg&&await nR()&&(Hg=tR(xs))}catch{}})();function Yy(t,e={}){if(Hg)try{rR(Hg,t,e)}catch(n){console.warn("analytics log skipped",t,n==null?void 0:n.message)}}const J$=t=>Yy("trial_start",{method:"auto",user_email:t}),Z$=(t,e)=>Yy("trial_day",{day:e,user_email:t}),eW=t=>Yy("trial_expired",{user_email:t}),tW=t=>Yy("trial_grace_lock",{user_email:t}),Gx=jy(xs);async function nW(t){try{await _x(Kn(Gx,"notifications"),{user_email:t,type:"trial_day6_warning",title:"Trial Ending Soon!",message:"Your 7-day trial ends tomorrow. Upgrade now to keep unlimited access to premium features!",is_read:!1,created_at:Hn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create day6 notification:",e.message)}}async function rW(t){try{await _x(Kn(Gx,"notifications"),{user_email:t,type:"trial_expired",title:"Trial Ended",message:"Your 7-day trial has ended. You are now on the free plan. Upgrade anytime to regain premium features.",is_read:!1,created_at:Hn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create trial expired notification:",e.message)}}async function sW(t){try{await _x(Kn(Gx,"notifications"),{user_email:t,type:"trial_grace_day",title:"Grace Day: Final Chance!",message:"Your trial expired, but you still have premium access today only. Upgrade now before it locks tomorrow.",is_read:!1,created_at:Hn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create grace day notification:",e.message)}}function iW(){const[t,e]=C.useState(null),[n,r]=C.useState(!0),[s,i]=C.useState(null);return C.useEffect(()=>{const a=py(xs),u=jy(xs);let c=null;const h=cB(a,async p=>{var g;if(!p){e(null),r(!1);return}try{e(v=>v||{email:p.email,subscription_tier:"free",coins:0}),i(null);try{const v=(g=p==null?void 0:p.metadata)!=null&&g.creationTime?new Date(p.metadata.creationTime).getTime():null,k=v?Date.now()-v<1440*60*1e3:!1,_=`optimistic_trial_${p.email}`,S=typeof window<"u"?localStorage.getItem(_):null;k&&!S&&(e(T=>({...T||{},email:p.email,subscription_tier:"free",coins:0,isOnTrial:!0,trialExpired:!1,trialDaysRemaining:7,inGraceDay:!1,hasPremiumAccess:!0,_optimisticTrial:!0})),localStorage.setItem(_,"true"))}catch{}try{if(typeof window<"u"&&window.location.search.includes("reset_trial=true")){const v=Date.now(),k=new Date(v+10080*60*1e3);await _m(p.email,{trial_start_date:Hn(),trial_expires_at:rt.fromDate(k),trial_used:!1,trial_grace_used:!1}),localStorage.removeItem(`trial_log_${p.email}`);const _=new URL(window.location.href);_.searchParams.delete("reset_trial"),window.history.replaceState({},"",_.toString()),console.info("[trial] Trial reset performed for",p.email)}}catch(v){console.warn("[trial] Trial reset attempt failed:",v==null?void 0:v.message)}c&&c(),c=IA(ci(u,"users",p.email),v=>{var k,_;if(v.exists()){const S={id:v.id,...v.data()};(async()=>{try{if(!S.trial_start_date||!S.trial_expires_at){const V=Date.now(),q=new Date(V+10080*60*1e3);await _m(p.email,{trial_start_date:Hn(),trial_expires_at:rt.fromDate(q),trial_used:!1,trial_grace_used:!1})}}catch{}})();const T=HR(S)||!S.trial_start_date||!S.trial_expires_at,N=Q$(S),A=Y$(S),M=7,F=(k=S.trial_start_date)!=null&&k.toDate?Math.floor((Date.now()-S.trial_start_date.toDate().getTime())/(1e3*60*60*24)):null,z=N&&F===M&&S.trial_grace_used!==!0;e({...S,isOnTrial:T,trialExpired:N,trialDaysRemaining:A,inGraceDay:z,hasPremiumAccess:X$(S)||T||z});const W=v.id,R=`trial_log_${W}`,D=localStorage.getItem(R);let P=D?JSON.parse(D):{};const O=(_=S.trial_start_date)!=null&&_.toDate?S.trial_start_date.toDate().getTime():null;if(O){const V=P.trial_start_timestamp||null;(!V||V!==O)&&(P={})}if(S.trial_start_date&&!P.trial_start&&(J$(W),P.trial_start=!0,O&&(P.trial_start_timestamp=O)),T&&A>=0&&A<=7){const V=`day_${7-A}`;P[V]||(Z$(W,7-A),P[V]=!0),A===1&&!P.notif_day6&&(nW(W),P.notif_day6=!0)}N&&S.subscription_tier==="free"&&!P.trial_expired&&(eW(W),P.trial_expired=!0,S.trial_used!==!0&&_m(v.id,{trial_used:!0}).catch(()=>{}),P.notif_expired||(rW(W),P.notif_expired=!0)),z&&!P.grace_lock&&(tW(W),P.grace_lock=!0,S.trial_grace_used!==!0&&_m(v.id,{trial_grace_used:!0}).catch(()=>{}),P.notif_grace||(sW(W),P.notif_grace=!0));try{localStorage.setItem(R,JSON.stringify(P))}catch{}}},v=>{console.error("Firestore snapshot error:",v)}),WR(p.email).catch(v=>{console.error("Failed to ensure user profile",v),i(v)})}catch(v){console.error("Failed to initialize user session",v),i(v),e({email:p.email,subscription_tier:"free",coins:0})}finally{r(!1)}});return()=>{c&&c(),h()}},[]),{user:t,loading:n,error:s}}const QR=C.createContext({user:null,loading:!0,error:null});function oW({children:t}){const e=iW();return x.jsx(QR.Provider,{value:e,children:t})}function Hx(){return C.useContext(QR)}const aW=Qy("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),YR=C.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,role:"alert",className:wt(aW({variant:e}),t),...n}));YR.displayName="Alert";const lW=C.forwardRef(({className:t,...e},n)=>x.jsx("h5",{ref:n,className:wt("mb-1 font-medium leading-none tracking-tight",t),...e}));lW.displayName="AlertTitle";const XR=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm [&_p]:leading-relaxed",t),...e}));XR.displayName="AlertDescription";function uW(){const{user:t}=Hx(),e=Mx(),[n,r]=gn.useState(!1),[s,i]=gn.useState(!0);if(!t||n===!0||s===!1||!(t.isOnTrial||t.trialExpired||t.inGraceDay))return null;const a=t.trialExpired&&!t.inGraceDay,u=t.trialDaysRemaining||0,c=t.inGraceDay;return x.jsx(YR,{className:`mb-4 ${a?"bg-red-50 border-red-300":u<=2?"bg-orange-50 border-orange-300":"bg-blue-50 border-blue-300"}`,children:x.jsxs("div",{className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c?x.jsx(vl,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}):a?x.jsx(vl,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):x.jsx(DK,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),x.jsx(XR,{className:c?"text-orange-800":a?"text-red-800":"text-blue-800",children:x.jsx("div",{className:"space-y-2",children:c?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Grace Day: Final Chance!"}),x.jsx("p",{className:"text-sm",children:"Your trial expired, but you still have premium access today only. Upgrade now to keep everything before it locks tomorrow."})]}):a?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Your 7-day trial has ended"}),x.jsx("p",{className:"text-sm",children:"You're now on the free plan with limited access. Upgrade to continue enjoying premium features like unlimited games, AI tutor, and more!"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:u===0?" Trial ends today!":`${u} day${u===1?"":"s"} left in your trial`}),x.jsx("p",{className:"text-sm",children:"You're currently enjoying premium features. Upgrade now to keep unlimited access after your trial ends!"})]})})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(ti,{onClick:()=>e("/subscription"),className:`${c?"bg-orange-600 hover:bg-orange-700":a?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white whitespace-nowrap`,size:"sm",children:[x.jsx(vl,{className:"w-4 h-4 mr-1"}),"Upgrade Now"]}),x.jsx(ti,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"flex-shrink-0",children:x.jsx($x,{className:"w-4 h-4"})})]})]})})}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function ure(t,e){const n=C.createContext(e),r=i=>{const{children:a,...u}=i,c=C.useMemo(()=>u,Object.values(u));return x.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=C.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Bf(t,e=[]){let n=[];function r(i,a){const u=C.createContext(a),c=n.length;n=[...n,a];const h=g=>{var v;const{scope:k,children:_,...S}=g,T=((v=k==null?void 0:k[t])==null?void 0:v[c])||u,N=C.useMemo(()=>S,Object.values(S));return x.jsx(T.Provider,{value:N,children:_})};h.displayName=i+"Provider";function p(g,v){var k;const _=((k=v==null?void 0:v[t])==null?void 0:k[c])||u,S=C.useContext(_);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,p]}const s=()=>{const i=n.map(a=>C.createContext(a));return function(a){const u=(a==null?void 0:a[t])||i;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,cW(s,...e)]}function cW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const i=r.reduce((a,{useScope:u,scopeName:c})=>{const h=u(s)[`__scope${c}`];return{...a,...h}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var ha=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},dW=v1[" useInsertionEffect ".trim().toString()]||ha;function JR({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=hW({defaultProp:e,onChange:n}),u=t!==void 0,c=u?t:s;{const p=C.useRef(t!==void 0);C.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const h=C.useCallback(p=>{var g;if(u){const v=fW(p)?p(t):p;v!==t&&((g=a.current)==null||g.call(a,v))}else i(p)},[u,t,i,a]);return[c,h]}function hW({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),s=C.useRef(n),i=C.useRef(e);return dW(()=>{i.current=e},[e]),C.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function fW(t){return typeof t=="function"}function pW(t){const e=mW(t),n=C.forwardRef((r,s)=>{const{children:i,...a}=r,u=C.Children.toArray(i),c=u.find(yW);if(c){const h=c.props.children,p=u.map(g=>g===c?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:C.isValidElement(h)?C.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function mW(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const a=wW(s),u=vW(i,s.props);return s.type!==C.Fragment&&(u.ref=r?Ql(r,a):a),C.cloneElement(s,u)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gW=Symbol("radix.slottable");function yW(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gW}function vW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function wW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var bW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zn=bW.reduce((t,e)=>{const n=pW(`Primitive.${e}`),r=C.forwardRef((s,i)=>{const{asChild:a,...u}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(c,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ZR(t,e){t&&Fx.flushSync(()=>t.dispatchEvent(e))}function E2(t){const e=xW(t),n=C.forwardRef((r,s)=>{const{children:i,...a}=r,u=C.Children.toArray(i),c=u.find(kW);if(c){const h=c.props.children,p=u.map(g=>g===c?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:C.isValidElement(h)?C.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function xW(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const a=SW(s),u=EW(i,s.props);return s.type!==C.Fragment&&(u.ref=r?Ql(r,a):a),C.cloneElement(s,u)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var CW=Symbol("radix.slottable");function kW(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===CW}function EW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function SW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function ej(t){const e=t+"CollectionProvider",[n,r]=Bf(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=S=>{const{scope:T,children:N}=S,A=gn.useRef(null),M=gn.useRef(new Map).current;return x.jsx(s,{scope:T,itemMap:M,collectionRef:A,children:N})};a.displayName=e;const u=t+"CollectionSlot",c=E2(u),h=gn.forwardRef((S,T)=>{const{scope:N,children:A}=S,M=i(u,N),F=pr(T,M.collectionRef);return x.jsx(c,{ref:F,children:A})});h.displayName=u;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=E2(p),k=gn.forwardRef((S,T)=>{const{scope:N,children:A,...M}=S,F=gn.useRef(null),z=pr(T,F),W=i(p,N);return gn.useEffect(()=>(W.itemMap.set(F,{ref:F,...M}),()=>void W.itemMap.delete(F))),x.jsx(v,{[g]:"",ref:z,children:A})});k.displayName=p;function _(S){const T=i(t+"CollectionConsumer",S);return gn.useCallback(()=>{const N=T.collectionRef.current;if(!N)return[];const A=Array.from(N.querySelectorAll(`[${g}]`));return Array.from(T.itemMap.values()).sort((M,F)=>A.indexOf(M.ref.current)-A.indexOf(F.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:a,Slot:h,ItemSlot:k},_,r]}var TW=C.createContext(void 0);function tj(t){const e=C.useContext(TW);return t||e||"ltr"}function Hi(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function _W(t,e=globalThis==null?void 0:globalThis.document){const n=Hi(t);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var DW="DismissableLayer",Bb="dismissableLayer.update",IW="dismissableLayer.pointerDownOutside",NW="dismissableLayer.focusOutside",S2,nj=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rj=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:u,...c}=t,h=C.useContext(nj),[p,g]=C.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=C.useState({}),_=pr(e,R=>g(R)),S=Array.from(h.layers),[T]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=S.indexOf(T),A=p?S.indexOf(p):-1,M=h.layersWithOutsidePointerEventsDisabled.size>0,F=A>=N,z=RW(R=>{const D=R.target,P=[...h.branches].some(O=>O.contains(D));!F||P||(s==null||s(R),a==null||a(R),R.defaultPrevented||u==null||u())},v),W=jW(R=>{const D=R.target;[...h.branches].some(P=>P.contains(D))||(i==null||i(R),a==null||a(R),R.defaultPrevented||u==null||u())},v);return _W(R=>{A===h.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},v),C.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(S2=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),T2(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=S2)}},[p,v,n,h]),C.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),T2())},[p,h]),C.useEffect(()=>{const R=()=>k({});return document.addEventListener(Bb,R),()=>document.removeEventListener(Bb,R)},[]),x.jsx(Zn.div,{...c,ref:_,style:{pointerEvents:M?F?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,W.onFocusCapture),onBlurCapture:et(t.onBlurCapture,W.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,z.onPointerDownCapture)})});rj.displayName=DW;var PW="DismissableLayerBranch",AW=C.forwardRef((t,e)=>{const n=C.useContext(nj),r=C.useRef(null),s=pr(e,r);return C.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(Zn.div,{...t,ref:s})});AW.displayName=PW;function RW(t,e=globalThis==null?void 0:globalThis.document){const n=Hi(t),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let c=function(){sj(IW,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function jW(t,e=globalThis==null?void 0:globalThis.document){const n=Hi(t),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&sj(NW,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function T2(){const t=new CustomEvent(Bb);document.dispatchEvent(t)}function sj(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ZR(s,i):s.dispatchEvent(i)}var hw=0;function MW(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_2()),document.body.insertAdjacentElement("beforeend",t[1]??_2()),hw++,()=>{hw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hw--}},[])}function _2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fw="focusScope.autoFocusOnMount",pw="focusScope.autoFocusOnUnmount",D2={bubbles:!1,cancelable:!0},OW="FocusScope",ij=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[u,c]=C.useState(null),h=Hi(s),p=Hi(i),g=C.useRef(null),v=pr(e,S=>c(S)),k=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let S=function(M){if(k.paused||!u)return;const F=M.target;u.contains(F)?g.current=F:Go(g.current,{select:!0})},T=function(M){if(k.paused||!u)return;const F=M.relatedTarget;F!==null&&(u.contains(F)||Go(g.current,{select:!0}))},N=function(M){if(document.activeElement===document.body)for(const F of M)F.removedNodes.length>0&&Go(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",T);const A=new MutationObserver(N);return u&&A.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",T),A.disconnect()}}},[r,u,k.paused]),C.useEffect(()=>{if(u){N2.add(k);const S=document.activeElement;if(!u.contains(S)){const T=new CustomEvent(fw,D2);u.addEventListener(fw,h),u.dispatchEvent(T),T.defaultPrevented||(LW(zW(oj(u)),{select:!0}),document.activeElement===S&&Go(u))}return()=>{u.removeEventListener(fw,h),setTimeout(()=>{const T=new CustomEvent(pw,D2);u.addEventListener(pw,p),u.dispatchEvent(T),T.defaultPrevented||Go(S??document.body,{select:!0}),u.removeEventListener(pw,p),N2.remove(k)},0)}}},[u,h,p,k]);const _=C.useCallback(S=>{if(!n&&!r||k.paused)return;const T=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,N=document.activeElement;if(T&&N){const A=S.currentTarget,[M,F]=BW(A);M&&F?!S.shiftKey&&N===F?(S.preventDefault(),n&&Go(M,{select:!0})):S.shiftKey&&N===M&&(S.preventDefault(),n&&Go(F,{select:!0})):N===A&&S.preventDefault()}},[n,r,k.paused]);return x.jsx(Zn.div,{tabIndex:-1,...a,ref:v,onKeyDown:_})});ij.displayName=OW;function LW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Go(r,{select:e}),document.activeElement!==n)return}function BW(t){const e=oj(t),n=I2(e,t),r=I2(e.reverse(),t);return[n,r]}function oj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function I2(t,e){for(const n of t)if(!VW(n,{upTo:e}))return n}function VW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function FW(t){return t instanceof HTMLInputElement&&"select"in t}function Go(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&FW(t)&&e&&t.select()}}var N2=UW();function UW(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=P2(t,e),t.unshift(e)},remove(e){var n;t=P2(t,e),(n=t[0])==null||n.resume()}}}function P2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function zW(t){return t.filter(e=>e.tagName!=="A")}var qW=v1[" useId ".trim().toString()]||(()=>{}),KW=0;function Vb(t){const[e,n]=C.useState(qW());return ha(()=>{n(r=>r??String(KW++))},[t]),e?`radix-${e}`:""}const $W=["top","right","bottom","left"],fa=Math.min,Tr=Math.max,Qg=Math.round,Dm=Math.floor,ni=t=>({x:t,y:t}),WW={left:"right",right:"left",bottom:"top",top:"bottom"},GW={start:"end",end:"start"};function Fb(t,e,n){return Tr(t,fa(e,n))}function Qi(t,e){return typeof t=="function"?t(e):t}function Yi(t){return t.split("-")[0]}function Yc(t){return t.split("-")[1]}function Qx(t){return t==="x"?"y":"x"}function Yx(t){return t==="y"?"height":"width"}const HW=new Set(["top","bottom"]);function Qs(t){return HW.has(Yi(t))?"y":"x"}function Xx(t){return Qx(Qs(t))}function QW(t,e,n){n===void 0&&(n=!1);const r=Yc(t),s=Xx(t),i=Yx(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Yg(a)),[a,Yg(a)]}function YW(t){const e=Yg(t);return[Ub(t),e,Ub(e)]}function Ub(t){return t.replace(/start|end/g,e=>GW[e])}const A2=["left","right"],R2=["right","left"],XW=["top","bottom"],JW=["bottom","top"];function ZW(t,e,n){switch(t){case"top":case"bottom":return n?e?R2:A2:e?A2:R2;case"left":case"right":return e?XW:JW;default:return[]}}function eG(t,e,n,r){const s=Yc(t);let i=ZW(Yi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(Ub)))),i}function Yg(t){return t.replace(/left|right|bottom|top/g,e=>WW[e])}function tG(t){return{top:0,right:0,bottom:0,left:0,...t}}function aj(t){return typeof t!="number"?tG(t):{top:t,right:t,bottom:t,left:t}}function Xg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function j2(t,e,n){let{reference:r,floating:s}=t;const i=Qs(e),a=Xx(e),u=Yx(a),c=Yi(e),h=i==="y",p=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let k;switch(c){case"top":k={x:p,y:r.y-s.height};break;case"bottom":k={x:p,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:g};break;case"left":k={x:r.x-s.width,y:g};break;default:k={x:r.x,y:r.y}}switch(Yc(e)){case"start":k[a]-=v*(n&&h?-1:1);break;case"end":k[a]+=v*(n&&h?-1:1);break}return k}const nG=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,u=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:g}=j2(h,r,c),v=r,k={},_=0;for(let S=0;S<u.length;S++){const{name:T,fn:N}=u[S],{x:A,y:M,data:F,reset:z}=await N({x:p,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:k,rects:h,platform:a,elements:{reference:t,floating:e}});p=A??p,g=M??g,k={...k,[T]:{...k[T],...F}},z&&_<=50&&(_++,typeof z=="object"&&(z.placement&&(v=z.placement),z.rects&&(h=z.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):z.rects),{x:p,y:g}=j2(h,v,c)),S=-1)}return{x:p,y:g,placement:v,strategy:s,middlewareData:k}};async function lf(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:u,strategy:c}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:k=0}=Qi(e,t),_=aj(k),S=u[v?g==="floating"?"reference":"floating":g],T=Xg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:c})),N=g==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),M=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},F=Xg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:A,strategy:c}):N);return{top:(T.top-F.top+_.top)/M.y,bottom:(F.bottom-T.bottom+_.bottom)/M.y,left:(T.left-F.left+_.left)/M.x,right:(F.right-T.right+_.right)/M.x}}const rG=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:u,middlewareData:c}=e,{element:h,padding:p=0}=Qi(t,e)||{};if(h==null)return{};const g=aj(p),v={x:n,y:r},k=Xx(s),_=Yx(k),S=await a.getDimensions(h),T=k==="y",N=T?"top":"left",A=T?"bottom":"right",M=T?"clientHeight":"clientWidth",F=i.reference[_]+i.reference[k]-v[k]-i.floating[_],z=v[k]-i.reference[k],W=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let R=W?W[M]:0;(!R||!await(a.isElement==null?void 0:a.isElement(W)))&&(R=u.floating[M]||i.floating[_]);const D=F/2-z/2,P=R/2-S[_]/2-1,O=fa(g[N],P),V=fa(g[A],P),q=O,L=R-S[_]-V,Ee=R/2-S[_]/2+D,Ae=Fb(q,Ee,L),ye=!c.arrow&&Yc(s)!=null&&Ee!==Ae&&i.reference[_]/2-(Ee<q?O:V)-S[_]/2<0,ve=ye?Ee<q?Ee-q:Ee-L:0;return{[k]:v[k]+ve,data:{[k]:Ae,centerOffset:Ee-Ae-ve,...ye&&{alignmentOffset:ve}},reset:ye}}}),sG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:u,platform:c,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:S=!0,...T}=Qi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const N=Yi(s),A=Qs(u),M=Yi(u)===u,F=await(c.isRTL==null?void 0:c.isRTL(h.floating)),z=v||(M||!S?[Yg(u)]:YW(u)),W=_!=="none";!v&&W&&z.push(...eG(u,S,_,F));const R=[u,...z],D=await lf(e,T),P=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&P.push(D[N]),g){const Ee=QW(s,a,F);P.push(D[Ee[0]],D[Ee[1]])}if(O=[...O,{placement:s,overflows:P}],!P.every(Ee=>Ee<=0)){var V,q;const Ee=(((V=i.flip)==null?void 0:V.index)||0)+1,Ae=R[Ee];if(Ae&&(!(g==="alignment"&&A!==Qs(Ae))||O.every(ve=>Qs(ve.placement)===A?ve.overflows[0]>0:!0)))return{data:{index:Ee,overflows:O},reset:{placement:Ae}};let ye=(q=O.filter(ve=>ve.overflows[0]<=0).sort((ve,H)=>ve.overflows[1]-H.overflows[1])[0])==null?void 0:q.placement;if(!ye)switch(k){case"bestFit":{var L;const ve=(L=O.filter(H=>{if(W){const ne=Qs(H.placement);return ne===A||ne==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ne=>ne>0).reduce((ne,oe)=>ne+oe,0)]).sort((H,ne)=>H[1]-ne[1])[0])==null?void 0:L[0];ve&&(ye=ve);break}case"initialPlacement":ye=u;break}if(s!==ye)return{reset:{placement:ye}}}return{}}}};function M2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function O2(t){return $W.some(e=>t[e]>=0)}const iG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Qi(t,e);switch(r){case"referenceHidden":{const i=await lf(e,{...s,elementContext:"reference"}),a=M2(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:O2(a)}}}case"escaped":{const i=await lf(e,{...s,altBoundary:!0}),a=M2(i,n.floating);return{data:{escapedOffsets:a,escaped:O2(a)}}}default:return{}}}}},lj=new Set(["left","top"]);async function oG(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Yi(n),u=Yc(n),c=Qs(n)==="y",h=lj.has(a)?-1:1,p=i&&c?-1:1,g=Qi(e,t);let{mainAxis:v,crossAxis:k,alignmentAxis:_}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof _=="number"&&(k=u==="end"?_*-1:_),c?{x:k*p,y:v*h}:{x:v*h,y:k*p}}const aG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:u}=e,c=await oG(e,t);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},lG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:u={fn:T=>{let{x:N,y:A}=T;return{x:N,y:A}}},...c}=Qi(t,e),h={x:n,y:r},p=await lf(e,c),g=Qs(Yi(s)),v=Qx(g);let k=h[v],_=h[g];if(i){const T=v==="y"?"top":"left",N=v==="y"?"bottom":"right",A=k+p[T],M=k-p[N];k=Fb(A,k,M)}if(a){const T=g==="y"?"top":"left",N=g==="y"?"bottom":"right",A=_+p[T],M=_-p[N];_=Fb(A,_,M)}const S=u.fn({...e,[v]:k,[g]:_});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[v]:i,[g]:a}}}}}},uG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:u=0,mainAxis:c=!0,crossAxis:h=!0}=Qi(t,e),p={x:n,y:r},g=Qs(s),v=Qx(g);let k=p[v],_=p[g];const S=Qi(u,e),T=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(c){const M=v==="y"?"height":"width",F=i.reference[v]-i.floating[M]+T.mainAxis,z=i.reference[v]+i.reference[M]-T.mainAxis;k<F?k=F:k>z&&(k=z)}if(h){var N,A;const M=v==="y"?"width":"height",F=lj.has(Yi(s)),z=i.reference[g]-i.floating[M]+(F&&((N=a.offset)==null?void 0:N[g])||0)+(F?0:T.crossAxis),W=i.reference[g]+i.reference[M]+(F?0:((A=a.offset)==null?void 0:A[g])||0)-(F?T.crossAxis:0);_<z?_=z:_>W&&(_=W)}return{[v]:k,[g]:_}}}},cG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:u}=e,{apply:c=()=>{},...h}=Qi(t,e),p=await lf(e,h),g=Yi(s),v=Yc(s),k=Qs(s)==="y",{width:_,height:S}=i.floating;let T,N;g==="top"||g==="bottom"?(T=g,N=v===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(N=g,T=v==="end"?"top":"bottom");const A=S-p.top-p.bottom,M=_-p.left-p.right,F=fa(S-p[T],A),z=fa(_-p[N],M),W=!e.middlewareData.shift;let R=F,D=z;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(D=M),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=A),W&&!v){const O=Tr(p.left,0),V=Tr(p.right,0),q=Tr(p.top,0),L=Tr(p.bottom,0);k?D=_-2*(O!==0||V!==0?O+V:Tr(p.left,p.right)):R=S-2*(q!==0||L!==0?q+L:Tr(p.top,p.bottom))}await c({...e,availableWidth:D,availableHeight:R});const P=await a.getDimensions(u.floating);return _!==P.width||S!==P.height?{reset:{rects:!0}}:{}}}};function Xy(){return typeof window<"u"}function Xc(t){return uj(t)?(t.nodeName||"").toLowerCase():"#document"}function Nr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fi(t){var e;return(e=(uj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uj(t){return Xy()?t instanceof Node||t instanceof Nr(t).Node:!1}function Cs(t){return Xy()?t instanceof Element||t instanceof Nr(t).Element:!1}function ui(t){return Xy()?t instanceof HTMLElement||t instanceof Nr(t).HTMLElement:!1}function L2(t){return!Xy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nr(t).ShadowRoot}const dG=new Set(["inline","contents"]);function Vf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ks(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!dG.has(s)}const hG=new Set(["table","td","th"]);function fG(t){return hG.has(Xc(t))}const pG=[":popover-open",":modal"];function Jy(t){return pG.some(e=>{try{return t.matches(e)}catch{return!1}})}const mG=["transform","translate","scale","rotate","perspective"],gG=["transform","translate","scale","rotate","perspective","filter"],yG=["paint","layout","strict","content"];function Jx(t){const e=Zx(),n=Cs(t)?ks(t):t;return mG.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||gG.some(r=>(n.willChange||"").includes(r))||yG.some(r=>(n.contain||"").includes(r))}function vG(t){let e=pa(t);for(;ui(e)&&!Lc(e);){if(Jx(e))return e;if(Jy(e))return null;e=pa(e)}return null}function Zx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wG=new Set(["html","body","#document"]);function Lc(t){return wG.has(Xc(t))}function ks(t){return Nr(t).getComputedStyle(t)}function Zy(t){return Cs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pa(t){if(Xc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||L2(t)&&t.host||fi(t);return L2(e)?e.host:e}function cj(t){const e=pa(t);return Lc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ui(e)&&Vf(e)?e:cj(e)}function uf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=cj(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Nr(s);if(i){const u=zb(a);return e.concat(a,a.visualViewport||[],Vf(s)?s:[],u&&n?uf(u):[])}return e.concat(s,uf(s,[],n))}function zb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dj(t){const e=ks(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ui(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,u=Qg(n)!==i||Qg(r)!==a;return u&&(n=i,r=a),{width:n,height:r,$:u}}function eC(t){return Cs(t)?t:t.contextElement}function bc(t){const e=eC(t);if(!ui(e))return ni(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=dj(e);let a=(i?Qg(n.width):n.width)/r,u=(i?Qg(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const bG=ni(0);function hj(t){const e=Nr(t);return!Zx()||!e.visualViewport?bG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nr(t)?!1:e}function Ul(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=eC(t);let a=ni(1);e&&(r?Cs(r)&&(a=bc(r)):a=bc(t));const u=xG(i,n,r)?hj(i):ni(0);let c=(s.left+u.x)/a.x,h=(s.top+u.y)/a.y,p=s.width/a.x,g=s.height/a.y;if(i){const v=Nr(i),k=r&&Cs(r)?Nr(r):r;let _=v,S=zb(_);for(;S&&r&&k!==_;){const T=bc(S),N=S.getBoundingClientRect(),A=ks(S),M=N.left+(S.clientLeft+parseFloat(A.paddingLeft))*T.x,F=N.top+(S.clientTop+parseFloat(A.paddingTop))*T.y;c*=T.x,h*=T.y,p*=T.x,g*=T.y,c+=M,h+=F,_=Nr(S),S=zb(_)}}return Xg({width:p,height:g,x:c,y:h})}function ev(t,e){const n=Zy(t).scrollLeft;return e?e.left+n:Ul(fi(t)).left+n}function fj(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-ev(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function CG(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=fi(r),u=e?Jy(e.floating):!1;if(r===a||u&&i)return n;let c={scrollLeft:0,scrollTop:0},h=ni(1);const p=ni(0),g=ui(r);if((g||!g&&!i)&&((Xc(r)!=="body"||Vf(a))&&(c=Zy(r)),ui(r))){const k=Ul(r);h=bc(r),p.x=k.x+r.clientLeft,p.y=k.y+r.clientTop}const v=a&&!g&&!i?fj(a,c):ni(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-c.scrollLeft*h.x+p.x+v.x,y:n.y*h.y-c.scrollTop*h.y+p.y+v.y}}function kG(t){return Array.from(t.getClientRects())}function EG(t){const e=fi(t),n=Zy(t),r=t.ownerDocument.body,s=Tr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Tr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+ev(t);const u=-n.scrollTop;return ks(r).direction==="rtl"&&(a+=Tr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:u}}const B2=25;function SG(t,e){const n=Nr(t),r=fi(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,u=0,c=0;if(s){i=s.width,a=s.height;const p=Zx();(!p||p&&e==="fixed")&&(u=s.offsetLeft,c=s.offsetTop)}const h=ev(r);if(h<=0){const p=r.ownerDocument,g=p.body,v=getComputedStyle(g),k=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,_=Math.abs(r.clientWidth-g.clientWidth-k);_<=B2&&(i-=_)}else h<=B2&&(i+=h);return{width:i,height:a,x:u,y:c}}const TG=new Set(["absolute","fixed"]);function _G(t,e){const n=Ul(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ui(t)?bc(t):ni(1),a=t.clientWidth*i.x,u=t.clientHeight*i.y,c=s*i.x,h=r*i.y;return{width:a,height:u,x:c,y:h}}function V2(t,e,n){let r;if(e==="viewport")r=SG(t,n);else if(e==="document")r=EG(fi(t));else if(Cs(e))r=_G(e,n);else{const s=hj(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Xg(r)}function pj(t,e){const n=pa(t);return n===e||!Cs(n)||Lc(n)?!1:ks(n).position==="fixed"||pj(n,e)}function DG(t,e){const n=e.get(t);if(n)return n;let r=uf(t,[],!1).filter(u=>Cs(u)&&Xc(u)!=="body"),s=null;const i=ks(t).position==="fixed";let a=i?pa(t):t;for(;Cs(a)&&!Lc(a);){const u=ks(a),c=Jx(a);!c&&u.position==="fixed"&&(s=null),(i?!c&&!s:!c&&u.position==="static"&&s&&TG.has(s.position)||Vf(a)&&!c&&pj(t,a))?r=r.filter(h=>h!==a):s=u,a=pa(a)}return e.set(t,r),r}function IG(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Jy(e)?[]:DG(e,this._c):[].concat(n),r],a=i[0],u=i.reduce((c,h)=>{const p=V2(e,h,s);return c.top=Tr(p.top,c.top),c.right=fa(p.right,c.right),c.bottom=fa(p.bottom,c.bottom),c.left=Tr(p.left,c.left),c},V2(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function NG(t){const{width:e,height:n}=dj(t);return{width:e,height:n}}function PG(t,e,n){const r=ui(e),s=fi(e),i=n==="fixed",a=Ul(t,!0,i,e);let u={scrollLeft:0,scrollTop:0};const c=ni(0);function h(){c.x=ev(s)}if(r||!r&&!i)if((Xc(e)!=="body"||Vf(s))&&(u=Zy(e)),r){const k=Ul(e,!0,i,e);c.x=k.x+e.clientLeft,c.y=k.y+e.clientTop}else s&&h();i&&!r&&s&&h();const p=s&&!r&&!i?fj(s,u):ni(0),g=a.left+u.scrollLeft-c.x-p.x,v=a.top+u.scrollTop-c.y-p.y;return{x:g,y:v,width:a.width,height:a.height}}function mw(t){return ks(t).position==="static"}function F2(t,e){if(!ui(t)||ks(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return fi(t)===n&&(n=n.ownerDocument.body),n}function mj(t,e){const n=Nr(t);if(Jy(t))return n;if(!ui(t)){let s=pa(t);for(;s&&!Lc(s);){if(Cs(s)&&!mw(s))return s;s=pa(s)}return n}let r=F2(t,e);for(;r&&fG(r)&&mw(r);)r=F2(r,e);return r&&Lc(r)&&mw(r)&&!Jx(r)?n:r||vG(t)||n}const AG=async function(t){const e=this.getOffsetParent||mj,n=this.getDimensions,r=await n(t.floating);return{reference:PG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RG(t){return ks(t).direction==="rtl"}const jG={convertOffsetParentRelativeRectToViewportRelativeRect:CG,getDocumentElement:fi,getClippingRect:IG,getOffsetParent:mj,getElementRects:AG,getClientRects:kG,getDimensions:NG,getScale:bc,isElement:Cs,isRTL:RG};function gj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function MG(t,e){let n=null,r;const s=fi(t);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),i();const h=t.getBoundingClientRect(),{left:p,top:g,width:v,height:k}=h;if(u||e(),!v||!k)return;const _=Dm(g),S=Dm(s.clientWidth-(p+v)),T=Dm(s.clientHeight-(g+k)),N=Dm(p),A={rootMargin:-_+"px "+-S+"px "+-T+"px "+-N+"px",threshold:Tr(0,fa(1,c))||1};let M=!0;function F(z){const W=z[0].intersectionRatio;if(W!==c){if(!M)return a();W?a(!1,W):r=setTimeout(()=>{a(!1,1e-7)},1e3)}W===1&&!gj(h,t.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(F,{...A,root:s.ownerDocument})}catch{n=new IntersectionObserver(F,A)}n.observe(t)}return a(!0),i}function OG(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,h=eC(t),p=s||i?[...h?uf(h):[],...uf(e)]:[];p.forEach(N=>{s&&N.addEventListener("scroll",n,{passive:!0}),i&&N.addEventListener("resize",n)});const g=h&&u?MG(h,n):null;let v=-1,k=null;a&&(k=new ResizeObserver(N=>{let[A]=N;A&&A.target===h&&k&&(k.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var M;(M=k)==null||M.observe(e)})),n()}),h&&!c&&k.observe(h),k.observe(e));let _,S=c?Ul(t):null;c&&T();function T(){const N=Ul(t);S&&!gj(S,N)&&n(),S=N,_=requestAnimationFrame(T)}return n(),()=>{var N;p.forEach(A=>{s&&A.removeEventListener("scroll",n),i&&A.removeEventListener("resize",n)}),g==null||g(),(N=k)==null||N.disconnect(),k=null,c&&cancelAnimationFrame(_)}}const LG=aG,BG=lG,VG=sG,FG=cG,UG=iG,U2=rG,zG=uG,qG=(t,e,n)=>{const r=new Map,s={platform:jG,...n},i={...s.platform,_c:r};return nG(t,e,{...s,platform:i})};var KG=typeof document<"u",$G=function(){},rg=KG?C.useLayoutEffect:$G;function Jg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Jg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Jg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function yj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function z2(t,e){const n=yj(t);return Math.round(e*n)/n}function gw(t){const e=C.useRef(t);return rg(()=>{e.current=t}),e}function WG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:u=!0,whileElementsMounted:c,open:h}=t,[p,g]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,k]=C.useState(r);Jg(v,r)||k(r);const[_,S]=C.useState(null),[T,N]=C.useState(null),A=C.useCallback(H=>{H!==W.current&&(W.current=H,S(H))},[]),M=C.useCallback(H=>{H!==R.current&&(R.current=H,N(H))},[]),F=i||_,z=a||T,W=C.useRef(null),R=C.useRef(null),D=C.useRef(p),P=c!=null,O=gw(c),V=gw(s),q=gw(h),L=C.useCallback(()=>{if(!W.current||!R.current)return;const H={placement:e,strategy:n,middleware:v};V.current&&(H.platform=V.current),qG(W.current,R.current,H).then(ne=>{const oe={...ne,isPositioned:q.current!==!1};Ee.current&&!Jg(D.current,oe)&&(D.current=oe,Fx.flushSync(()=>{g(oe)}))})},[v,e,n,V,q]);rg(()=>{h===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,g(H=>({...H,isPositioned:!1})))},[h]);const Ee=C.useRef(!1);rg(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]),rg(()=>{if(F&&(W.current=F),z&&(R.current=z),F&&z){if(O.current)return O.current(F,z,L);L()}},[F,z,L,O,P]);const Ae=C.useMemo(()=>({reference:W,floating:R,setReference:A,setFloating:M}),[A,M]),ye=C.useMemo(()=>({reference:F,floating:z}),[F,z]),ve=C.useMemo(()=>{const H={position:n,left:0,top:0};if(!ye.floating)return H;const ne=z2(ye.floating,p.x),oe=z2(ye.floating,p.y);return u?{...H,transform:"translate("+ne+"px, "+oe+"px)",...yj(ye.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:oe}},[n,u,ye.floating,p.x,p.y]);return C.useMemo(()=>({...p,update:L,refs:Ae,elements:ye,floatingStyles:ve}),[p,L,Ae,ye,ve])}const GG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?U2({element:r.current,padding:s}).fn(n):{}:r?U2({element:r,padding:s}).fn(n):{}}}},HG=(t,e)=>({...LG(t),options:[t,e]}),QG=(t,e)=>({...BG(t),options:[t,e]}),YG=(t,e)=>({...zG(t),options:[t,e]}),XG=(t,e)=>({...VG(t),options:[t,e]}),JG=(t,e)=>({...FG(t),options:[t,e]}),ZG=(t,e)=>({...UG(t),options:[t,e]}),eH=(t,e)=>({...GG(t),options:[t,e]});var tH="Arrow",vj=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx(Zn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});vj.displayName=tH;var nH=vj;function rH(t){const[e,n]=C.useState(void 0);return ha(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,u;if("borderBoxSize"in i){const c=i.borderBoxSize,h=Array.isArray(c)?c[0]:c;a=h.inlineSize,u=h.blockSize}else a=t.offsetWidth,u=t.offsetHeight;n({width:a,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var tC="Popper",[wj,bj]=Bf(tC),[sH,xj]=wj(tC),Cj=t=>{const{__scopePopper:e,children:n}=t,[r,s]=C.useState(null);return x.jsx(sH,{scope:e,anchor:r,onAnchorChange:s,children:n})};Cj.displayName=tC;var kj="PopperAnchor",Ej=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=xj(kj,n),a=C.useRef(null),u=pr(e,a),c=C.useRef(null);return C.useEffect(()=>{const h=c.current;c.current=(r==null?void 0:r.current)||a.current,h!==c.current&&i.onAnchorChange(c.current)}),r?null:x.jsx(Zn.div,{...s,ref:u})});Ej.displayName=kj;var nC="PopperContent",[iH,oH]=wj(nC),Sj=C.forwardRef((t,e)=>{var n,r,s,i,a,u;const{__scopePopper:c,side:h="bottom",sideOffset:p=0,align:g="center",alignOffset:v=0,arrowPadding:k=0,avoidCollisions:_=!0,collisionBoundary:S=[],collisionPadding:T=0,sticky:N="partial",hideWhenDetached:A=!1,updatePositionStrategy:M="optimized",onPlaced:F,...z}=t,W=xj(nC,c),[R,D]=C.useState(null),P=pr(e,tr=>D(tr)),[O,V]=C.useState(null),q=rH(O),L=(q==null?void 0:q.width)??0,Ee=(q==null?void 0:q.height)??0,Ae=h+(g!=="center"?"-"+g:""),ye=typeof T=="number"?T:{top:0,right:0,bottom:0,left:0,...T},ve=Array.isArray(S)?S:[S],H=ve.length>0,ne={padding:ye,boundary:ve.filter(lH),altBoundary:H},{refs:oe,floatingStyles:G,placement:re,isPositioned:pe,middlewareData:me}=WG({strategy:"fixed",placement:Ae,whileElementsMounted:(...tr)=>OG(...tr,{animationFrame:M==="always"}),elements:{reference:W.anchor},middleware:[HG({mainAxis:p+Ee,alignmentAxis:v}),_&&QG({mainAxis:!0,crossAxis:!1,limiter:N==="partial"?YG():void 0,...ne}),_&&XG({...ne}),JG({...ne,apply:({elements:tr,rects:io,availableWidth:Jl,availableHeight:oo})=>{const{width:pi,height:Ca}=io.reference,mt=tr.floating.style;mt.setProperty("--radix-popper-available-width",`${Jl}px`),mt.setProperty("--radix-popper-available-height",`${oo}px`),mt.setProperty("--radix-popper-anchor-width",`${pi}px`),mt.setProperty("--radix-popper-anchor-height",`${Ca}px`)}}),O&&eH({element:O,padding:k}),uH({arrowWidth:L,arrowHeight:Ee}),A&&ZG({strategy:"referenceHidden",...ne})]}),[Re,Ue]=Dj(re),De=Hi(F);ha(()=>{pe&&(De==null||De())},[pe,De]);const qe=(n=me.arrow)==null?void 0:n.x,Fe=(r=me.arrow)==null?void 0:r.y,pt=((s=me.arrow)==null?void 0:s.centerOffset)!==0,[Ar,Rr]=C.useState();return ha(()=>{R&&Rr(window.getComputedStyle(R).zIndex)},[R]),x.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:pe?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ar,"--radix-popper-transform-origin":[(i=me.transformOrigin)==null?void 0:i.x,(a=me.transformOrigin)==null?void 0:a.y].join(" "),...((u=me.hide)==null?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(iH,{scope:c,placedSide:Re,onArrowChange:V,arrowX:qe,arrowY:Fe,shouldHideArrow:pt,children:x.jsx(Zn.div,{"data-side":Re,"data-align":Ue,...z,ref:P,style:{...z.style,animation:pe?void 0:"none"}})})})});Sj.displayName=nC;var Tj="PopperArrow",aH={top:"bottom",right:"left",bottom:"top",left:"right"},_j=C.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,s=oH(Tj,n),i=aH[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(nH,{...r,ref:e,style:{...r.style,display:"block"}})})});_j.displayName=Tj;function lH(t){return t!==null}var uH=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s;const{placement:i,rects:a,middlewareData:u}=e,c=((n=u.arrow)==null?void 0:n.centerOffset)!==0,h=c?0:t.arrowWidth,p=c?0:t.arrowHeight,[g,v]=Dj(i),k={start:"0%",center:"50%",end:"100%"}[v],_=(((r=u.arrow)==null?void 0:r.x)??0)+h/2,S=(((s=u.arrow)==null?void 0:s.y)??0)+p/2;let T="",N="";return g==="bottom"?(T=c?k:`${_}px`,N=`${-p}px`):g==="top"?(T=c?k:`${_}px`,N=`${a.floating.height+p}px`):g==="right"?(T=`${-p}px`,N=c?k:`${S}px`):g==="left"&&(T=`${a.floating.width+p}px`,N=c?k:`${S}px`),{data:{x:T,y:N}}}});function Dj(t){const[e,n="center"]=t.split("-");return[e,n]}var cH=Cj,dH=Ej,hH=Sj,fH=_j,pH="Portal",Ij=C.forwardRef((t,e)=>{var n;const{container:r,...s}=t,[i,a]=C.useState(!1);ha(()=>a(!0),[]);const u=r||i&&((n=globalThis==null?void 0:globalThis.document)==null?void 0:n.body);return u?wq.createPortal(x.jsx(Zn.div,{...s,ref:e}),u):null});Ij.displayName=pH;function mH(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var Ff=t=>{const{present:e,children:n}=t,r=gH(e),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),i=pr(r.ref,yH(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};Ff.displayName="Presence";function gH(t){const[e,n]=C.useState(),r=C.useRef(null),s=C.useRef(t),i=C.useRef("none"),a=t?"mounted":"unmounted",[u,c]=mH(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const h=Im(r.current);i.current=u==="mounted"?h:"none"},[u]),ha(()=>{const h=r.current,p=s.current;if(p!==t){const g=i.current,v=Im(h);t?c("MOUNT"):v==="none"||(h==null?void 0:h.display)==="none"?c("UNMOUNT"):c(p&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),ha(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=k=>{const _=Im(r.current).includes(CSS.escape(k.animationName));if(k.target===e&&_&&(c("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},v=k=>{k.target===e&&(i.current=Im(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:C.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Im(t){return(t==null?void 0:t.animationName)||"none"}function yH(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var yw="rovingFocusGroup.onEntryFocus",vH={bubbles:!1,cancelable:!0},Uf="RovingFocusGroup",[qb,Nj,wH]=ej(Uf),[bH,Pj]=Bf(Uf,[wH]),[xH,CH]=bH(Uf),Aj=C.forwardRef((t,e)=>x.jsx(qb.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(qb.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(kH,{...t,ref:e})})}));Aj.displayName=Uf;var kH=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=t,v=C.useRef(null),k=pr(e,v),_=tj(i),[S,T]=JR({prop:a,defaultProp:u??null,onChange:c,caller:Uf}),[N,A]=C.useState(!1),M=Hi(h),F=Nj(n),z=C.useRef(!1),[W,R]=C.useState(0);return C.useEffect(()=>{const D=v.current;if(D)return D.addEventListener(yw,M),()=>D.removeEventListener(yw,M)},[M]),x.jsx(xH,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:S,onItemFocus:C.useCallback(D=>T(D),[T]),onItemShiftTab:C.useCallback(()=>A(!0),[]),onFocusableItemAdd:C.useCallback(()=>R(D=>D+1),[]),onFocusableItemRemove:C.useCallback(()=>R(D=>D-1),[]),children:x.jsx(Zn.div,{tabIndex:N||W===0?-1:0,"data-orientation":r,...g,ref:k,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{z.current=!0}),onFocus:et(t.onFocus,D=>{const P=!z.current;if(D.target===D.currentTarget&&P&&!N){const O=new CustomEvent(yw,vH);if(D.currentTarget.dispatchEvent(O),!O.defaultPrevented){const V=F().filter(Ae=>Ae.focusable),q=V.find(Ae=>Ae.active),L=V.find(Ae=>Ae.id===S),Ee=[q,L,...V].filter(Boolean).map(Ae=>Ae.ref.current);Mj(Ee,p)}}z.current=!1}),onBlur:et(t.onBlur,()=>A(!1))})})}),Rj="RovingFocusGroupItem",jj=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...u}=t,c=Vb(),h=i||c,p=CH(Rj,n),g=p.currentTabStopId===h,v=Nj(n),{onFocusableItemAdd:k,onFocusableItemRemove:_,currentTabStopId:S}=p;return C.useEffect(()=>{if(r)return k(),()=>_()},[r,k,_]),x.jsx(qb.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:x.jsx(Zn.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:et(t.onMouseDown,T=>{r?p.onItemFocus(h):T.preventDefault()}),onFocus:et(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:et(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){p.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const N=TH(T,p.orientation,p.dir);if(N!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let A=v().filter(M=>M.focusable).map(M=>M.ref.current);if(N==="last")A.reverse();else if(N==="prev"||N==="next"){N==="prev"&&A.reverse();const M=A.indexOf(T.currentTarget);A=p.loop?_H(A,M+1):A.slice(M+1)}setTimeout(()=>Mj(A))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:S!=null}):a})})});jj.displayName=Rj;var EH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function SH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function TH(t,e,n){const r=SH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return EH[r]}function Mj(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function _H(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var DH=Aj,IH=jj;function NH(t){const e=PH(t),n=C.forwardRef((r,s)=>{const{children:i,...a}=r,u=C.Children.toArray(i),c=u.find(RH);if(c){const h=c.props.children,p=u.map(g=>g===c?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:C.isValidElement(h)?C.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function PH(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const a=MH(s),u=jH(i,s.props);return s.type!==C.Fragment&&(u.ref=r?Ql(r,a):a),C.cloneElement(s,u)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AH=Symbol("radix.slottable");function RH(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AH}function jH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function MH(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var OH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ec=new WeakMap,Nm=new WeakMap,Pm={},vw=0,Oj=function(t){return t&&(t.host||Oj(t.parentNode))},LH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Oj(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},BH=function(t,e,n,r){var s=LH(e,Array.isArray(t)?t:[t]);Pm[n]||(Pm[n]=new WeakMap);var i=Pm[n],a=[],u=new Set,c=new Set(s),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};s.forEach(h);var p=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))p(v);else try{var k=v.getAttribute(r),_=k!==null&&k!=="false",S=(ec.get(v)||0)+1,T=(i.get(v)||0)+1;ec.set(v,S),i.set(v,T),a.push(v),S===1&&_&&Nm.set(v,!0),T===1&&v.setAttribute(n,"true"),_||v.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",v,N)}})};return p(e),u.clear(),vw++,function(){a.forEach(function(g){var v=ec.get(g)-1,k=i.get(g)-1;ec.set(g,v),i.set(g,k),v||(Nm.has(g)||g.removeAttribute(r),Nm.delete(g)),k||g.removeAttribute(n)}),vw--,vw||(ec=new WeakMap,ec=new WeakMap,Nm=new WeakMap,Pm={})}},VH=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=OH(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),BH(r,s,n,"aria-hidden")):function(){return null}},Ws=function(){return Ws=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ws.apply(this,arguments)};function Lj(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function FH(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var sg="right-scroll-bar-position",ig="width-before-scroll-bar",UH="with-scroll-bars-hidden",zH="--removed-body-scroll-bar-size";function ww(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function qH(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var KH=typeof window<"u"?C.useLayoutEffect:C.useEffect,q2=new WeakMap;function $H(t,e){var n=qH(null,function(r){return t.forEach(function(s){return ww(s,r)})});return KH(function(){var r=q2.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(u){i.has(u)||ww(u,null)}),i.forEach(function(u){s.has(u)||ww(u,a)})}q2.set(n,t)},[t]),n}function WH(t){return t}function GH(t,e){e===void 0&&(e=WH);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(u){return u!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var u=n;n=[],u.forEach(i),a=n}var c=function(){var p=a;a=[],p.forEach(i)},h=function(){return Promise.resolve().then(c)};h(),n={push:function(p){a.push(p),h()},filter:function(p){return a=a.filter(p),n}}}};return s}function HH(t){t===void 0&&(t={});var e=GH(null);return e.options=Ws({async:!0,ssr:!1},t),e}var Bj=function(t){var e=t.sideCar,n=Lj(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Ws({},n))};Bj.isSideCarExport=!0;function QH(t,e){return t.useMedium(e),Bj}var Vj=HH(),bw=function(){},tv=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:bw,onWheelCapture:bw,onTouchMoveCapture:bw}),s=r[0],i=r[1],a=t.forwardProps,u=t.children,c=t.className,h=t.removeScrollBar,p=t.enabled,g=t.shards,v=t.sideCar,k=t.noRelative,_=t.noIsolation,S=t.inert,T=t.allowPinchZoom,N=t.as,A=N===void 0?"div":N,M=t.gapMode,F=Lj(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=v,W=$H([n,e]),R=Ws(Ws({},F),s);return C.createElement(C.Fragment,null,p&&C.createElement(z,{sideCar:Vj,removeScrollBar:h,shards:g,noRelative:k,noIsolation:_,inert:S,setCallbacks:i,allowPinchZoom:!!T,lockRef:n,gapMode:M}),a?C.cloneElement(C.Children.only(u),Ws(Ws({},R),{ref:W})):C.createElement(A,Ws({},R,{className:c,ref:W}),u))});tv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tv.classNames={fullWidth:ig,zeroRight:sg};var YH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=YH();return e&&t.setAttribute("nonce",e),t}function JH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ZH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var eQ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=XH())&&(JH(e,n),ZH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},tQ=function(){var t=eQ();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Fj=function(){var t=tQ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},nQ={left:0,top:0,right:0,gap:0},xw=function(t){return parseInt(t||"",10)||0},rQ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[xw(n),xw(r),xw(s)]},sQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return nQ;var e=rQ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},iQ=Fj(),xc="data-scroll-locked",oQ=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(UH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(xc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sg,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ig,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(sg," .").concat(sg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ig," .").concat(ig,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xc,`] {
    `).concat(zH,": ").concat(u,`px;
  }
`)},K2=function(){var t=parseInt(document.body.getAttribute(xc)||"0",10);return isFinite(t)?t:0},aQ=function(){C.useEffect(function(){return document.body.setAttribute(xc,(K2()+1).toString()),function(){var t=K2()-1;t<=0?document.body.removeAttribute(xc):document.body.setAttribute(xc,t.toString())}},[])},lQ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;aQ();var i=C.useMemo(function(){return sQ(s)},[s]);return C.createElement(iQ,{styles:oQ(i,!e,s,n?"":"!important")})},Kb=!1;if(typeof window<"u")try{var Am=Object.defineProperty({},"passive",{get:function(){return Kb=!0,!0}});window.addEventListener("test",Am,Am),window.removeEventListener("test",Am,Am)}catch{Kb=!1}var tc=Kb?{passive:!1}:!1,uQ=function(t){return t.tagName==="TEXTAREA"},Uj=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!uQ(t)&&n[e]==="visible")},cQ=function(t){return Uj(t,"overflowY")},dQ=function(t){return Uj(t,"overflowX")},$2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=zj(t,r);if(s){var i=qj(t,r),a=i[1],u=i[2];if(a>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},hQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},fQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},zj=function(t,e){return t==="v"?cQ(e):dQ(e)},qj=function(t,e){return t==="v"?hQ(e):fQ(e)},pQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},mQ=function(t,e,n,r,s){var i=pQ(t,window.getComputedStyle(e).direction),a=i*r,u=n.target,c=e.contains(u),h=!1,p=a>0,g=0,v=0;do{if(!u)break;var k=qj(t,u),_=k[0],S=k[1],T=k[2],N=S-T-i*_;(_||N)&&zj(t,u)&&(g+=N,v+=_);var A=u.parentNode;u=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!c&&u!==document.body||c&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(h=!0),h},Rm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},W2=function(t){return[t.deltaX,t.deltaY]},G2=function(t){return t&&"current"in t?t.current:t},gQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},yQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},vQ=0,nc=[];function wQ(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),s=C.useState(vQ++)[0],i=C.useState(Fj)[0],a=C.useRef(t);C.useEffect(function(){a.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var S=FH([t.lockRef.current],(t.shards||[]).map(G2)).filter(Boolean);return S.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),S.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=C.useCallback(function(S,T){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!a.current.allowPinchZoom;var N=Rm(S),A=n.current,M="deltaX"in S?S.deltaX:A[0]-N[0],F="deltaY"in S?S.deltaY:A[1]-N[1],z,W=S.target,R=Math.abs(M)>Math.abs(F)?"h":"v";if("touches"in S&&R==="h"&&W.type==="range")return!1;var D=$2(R,W);if(!D)return!0;if(D?z=R:(z=R==="v"?"h":"v",D=$2(R,W)),!D)return!1;if(!r.current&&"changedTouches"in S&&(M||F)&&(r.current=z),!z)return!0;var P=r.current||z;return mQ(P,T,S,P==="h"?M:F)},[]),c=C.useCallback(function(S){var T=S;if(!(!nc.length||nc[nc.length-1]!==i)){var N="deltaY"in T?W2(T):Rm(T),A=e.current.filter(function(z){return z.name===T.type&&(z.target===T.target||T.target===z.shadowParent)&&gQ(z.delta,N)})[0];if(A&&A.should){T.cancelable&&T.preventDefault();return}if(!A){var M=(a.current.shards||[]).map(G2).filter(Boolean).filter(function(z){return z.contains(T.target)}),F=M.length>0?u(T,M[0]):!a.current.noIsolation;F&&T.cancelable&&T.preventDefault()}}},[]),h=C.useCallback(function(S,T,N,A){var M={name:S,delta:T,target:N,should:A,shadowParent:bQ(N)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(F){return F!==M})},1)},[]),p=C.useCallback(function(S){n.current=Rm(S),r.current=void 0},[]),g=C.useCallback(function(S){h(S.type,W2(S),S.target,u(S,t.lockRef.current))},[]),v=C.useCallback(function(S){h(S.type,Rm(S),S.target,u(S,t.lockRef.current))},[]);C.useEffect(function(){return nc.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",c,tc),document.addEventListener("touchmove",c,tc),document.addEventListener("touchstart",p,tc),function(){nc=nc.filter(function(S){return S!==i}),document.removeEventListener("wheel",c,tc),document.removeEventListener("touchmove",c,tc),document.removeEventListener("touchstart",p,tc)}},[]);var k=t.removeScrollBar,_=t.inert;return C.createElement(C.Fragment,null,_?C.createElement(i,{styles:yQ(s)}):null,k?C.createElement(lQ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function bQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const xQ=QH(Vj,wQ);var Kj=C.forwardRef(function(t,e){return C.createElement(tv,Ws({},t,{ref:e,sideCar:xQ}))});Kj.classNames=tv.classNames;var $b=["Enter"," "],CQ=["ArrowDown","PageUp","Home"],$j=["ArrowUp","PageDown","End"],kQ=[...CQ,...$j],EQ={ltr:[...$b,"ArrowRight"],rtl:[...$b,"ArrowLeft"]},SQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zf="Menu",[cf,TQ,_Q]=ej(zf),[Yl,Wj]=Bf(zf,[_Q,bj,Pj]),nv=bj(),Gj=Pj(),[DQ,Xl]=Yl(zf),[IQ,qf]=Yl(zf),Hj=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,u=nv(e),[c,h]=C.useState(null),p=C.useRef(!1),g=Hi(i),v=tj(s);return C.useEffect(()=>{const k=()=>{p.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>p.current=!1;return document.addEventListener("keydown",k,{capture:!0}),()=>{document.removeEventListener("keydown",k,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),x.jsx(cH,{...u,children:x.jsx(DQ,{scope:e,open:n,onOpenChange:g,content:c,onContentChange:h,children:x.jsx(IQ,{scope:e,onClose:C.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:a,children:r})})})};Hj.displayName=zf;var NQ="MenuAnchor",rC=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=nv(n);return x.jsx(dH,{...s,...r,ref:e})});rC.displayName=NQ;var sC="MenuPortal",[PQ,Qj]=Yl(sC,{forceMount:void 0}),Yj=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Xl(sC,e);return x.jsx(PQ,{scope:e,forceMount:n,children:x.jsx(Ff,{present:n||i.open,children:x.jsx(Ij,{asChild:!0,container:s,children:r})})})};Yj.displayName=sC;var Jr="MenuContent",[AQ,iC]=Yl(Jr),Xj=C.forwardRef((t,e)=>{const n=Qj(Jr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Xl(Jr,t.__scopeMenu),a=qf(Jr,t.__scopeMenu);return x.jsx(cf.Provider,{scope:t.__scopeMenu,children:x.jsx(Ff,{present:r||i.open,children:x.jsx(cf.Slot,{scope:t.__scopeMenu,children:a.modal?x.jsx(RQ,{...s,ref:e}):x.jsx(jQ,{...s,ref:e})})})})}),RQ=C.forwardRef((t,e)=>{const n=Xl(Jr,t.__scopeMenu),r=C.useRef(null),s=pr(e,r);return C.useEffect(()=>{const i=r.current;if(i)return VH(i)},[]),x.jsx(oC,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),jQ=C.forwardRef((t,e)=>{const n=Xl(Jr,t.__scopeMenu);return x.jsx(oC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),MQ=NH("MenuContent.ScrollLock"),oC=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEntryFocus:c,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:k,disableOutsideScroll:_,...S}=t,T=Xl(Jr,n),N=qf(Jr,n),A=nv(n),M=Gj(n),F=TQ(n),[z,W]=C.useState(null),R=C.useRef(null),D=pr(e,R,T.onContentChange),P=C.useRef(0),O=C.useRef(""),V=C.useRef(0),q=C.useRef(null),L=C.useRef("right"),Ee=C.useRef(0),Ae=_?Kj:C.Fragment,ye=_?{as:MQ,allowPinchZoom:!0}:void 0,ve=ne=>{var oe,G;const re=O.current+ne,pe=F().filter(Fe=>!Fe.disabled),me=document.activeElement,Re=(oe=pe.find(Fe=>Fe.ref.current===me))==null?void 0:oe.textValue,Ue=pe.map(Fe=>Fe.textValue),De=GQ(Ue,re,Re),qe=(G=pe.find(Fe=>Fe.textValue===De))==null?void 0:G.ref.current;(function Fe(pt){O.current=pt,window.clearTimeout(P.current),pt!==""&&(P.current=window.setTimeout(()=>Fe(""),1e3))})(re),qe&&setTimeout(()=>qe.focus())};C.useEffect(()=>()=>window.clearTimeout(P.current),[]),MW();const H=C.useCallback(ne=>{var oe,G;return L.current===((oe=q.current)==null?void 0:oe.side)&&QQ(ne,(G=q.current)==null?void 0:G.area)},[]);return x.jsx(AQ,{scope:n,searchRef:O,onItemEnter:C.useCallback(ne=>{H(ne)&&ne.preventDefault()},[H]),onItemLeave:C.useCallback(ne=>{var oe;H(ne)||((oe=R.current)==null||oe.focus(),W(null))},[H]),onTriggerLeave:C.useCallback(ne=>{H(ne)&&ne.preventDefault()},[H]),pointerGraceTimerRef:V,onPointerGraceIntentChange:C.useCallback(ne=>{q.current=ne},[]),children:x.jsx(Ae,{...ye,children:x.jsx(ij,{asChild:!0,trapped:s,onMountAutoFocus:et(i,ne=>{var oe;ne.preventDefault(),(oe=R.current)==null||oe.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:x.jsx(rj,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:k,children:x.jsx(DH,{asChild:!0,...M,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:z,onCurrentTabStopIdChange:W,onEntryFocus:et(c,ne=>{N.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(hH,{role:"menu","aria-orientation":"vertical","data-state":f4(T.open),"data-radix-menu-content":"",dir:N.dir,...A,...S,ref:D,style:{outline:"none",...S.style},onKeyDown:et(S.onKeyDown,ne=>{const oe=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,G=ne.ctrlKey||ne.altKey||ne.metaKey,re=ne.key.length===1;oe&&(ne.key==="Tab"&&ne.preventDefault(),!G&&re&&ve(ne.key));const pe=R.current;if(ne.target!==pe||!kQ.includes(ne.key))return;ne.preventDefault();const me=F().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);$j.includes(ne.key)&&me.reverse(),$Q(me)}),onBlur:et(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(P.current),O.current="")}),onPointerMove:et(t.onPointerMove,df(ne=>{const oe=ne.target,G=Ee.current!==ne.clientX;if(ne.currentTarget.contains(oe)&&G){const re=ne.clientX>Ee.current?"right":"left";L.current=re,Ee.current=ne.clientX}}))})})})})})})});Xj.displayName=Jr;var OQ="MenuGroup",aC=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Zn.div,{role:"group",...r,ref:e})});aC.displayName=OQ;var LQ="MenuLabel",Jj=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Zn.div,{...r,ref:e})});Jj.displayName=LQ;var Zg="MenuItem",H2="menu.itemSelect",rv=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=C.useRef(null),a=qf(Zg,t.__scopeMenu),u=iC(Zg,t.__scopeMenu),c=pr(e,i),h=C.useRef(!1),p=()=>{const g=i.current;if(!n&&g){const v=new CustomEvent(H2,{bubbles:!0,cancelable:!0});g.addEventListener(H2,k=>r==null?void 0:r(k),{once:!0}),ZR(g,v),v.defaultPrevented?h.current=!1:a.onClose()}};return x.jsx(Zj,{...s,ref:c,disabled:n,onClick:et(t.onClick,p),onPointerDown:g=>{var v;(v=t.onPointerDown)==null||v.call(t,g),h.current=!0},onPointerUp:et(t.onPointerUp,g=>{var v;h.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:et(t.onKeyDown,g=>{const v=u.searchRef.current!=="";n||v&&g.key===" "||$b.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});rv.displayName=Zg;var Zj=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=iC(Zg,n),u=Gj(n),c=C.useRef(null),h=pr(e,c),[p,g]=C.useState(!1),[v,k]=C.useState("");return C.useEffect(()=>{const _=c.current;_&&k((_.textContent??"").trim())},[i.children]),x.jsx(cf.ItemSlot,{scope:n,disabled:r,textValue:s??v,children:x.jsx(IH,{asChild:!0,...u,focusable:!r,children:x.jsx(Zn.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:h,onPointerMove:et(t.onPointerMove,df(_=>{r?a.onItemLeave(_):(a.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,df(_=>a.onItemLeave(_))),onFocus:et(t.onFocus,()=>g(!0)),onBlur:et(t.onBlur,()=>g(!1))})})})}),BQ="MenuCheckboxItem",e4=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return x.jsx(i4,{scope:t.__scopeMenu,checked:n,children:x.jsx(rv,{role:"menuitemcheckbox","aria-checked":ey(n)?"mixed":n,...s,ref:e,"data-state":uC(n),onSelect:et(s.onSelect,()=>r==null?void 0:r(ey(n)?!0:!n),{checkForDefaultPrevented:!1})})})});e4.displayName=BQ;var t4="MenuRadioGroup",[VQ,FQ]=Yl(t4,{value:void 0,onValueChange:()=>{}}),n4=C.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Hi(r);return x.jsx(VQ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:x.jsx(aC,{...s,ref:e})})});n4.displayName=t4;var r4="MenuRadioItem",s4=C.forwardRef((t,e)=>{const{value:n,...r}=t,s=FQ(r4,t.__scopeMenu),i=n===s.value;return x.jsx(i4,{scope:t.__scopeMenu,checked:i,children:x.jsx(rv,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":uC(i),onSelect:et(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});s4.displayName=r4;var lC="MenuItemIndicator",[i4,UQ]=Yl(lC,{checked:!1}),o4=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=UQ(lC,n);return x.jsx(Ff,{present:r||ey(i.checked)||i.checked===!0,children:x.jsx(Zn.span,{...s,ref:e,"data-state":uC(i.checked)})})});o4.displayName=lC;var zQ="MenuSeparator",a4=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Zn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});a4.displayName=zQ;var qQ="MenuArrow",l4=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=nv(n);return x.jsx(fH,{...s,...r,ref:e})});l4.displayName=qQ;var KQ="MenuSub",[cre,u4]=Yl(KQ),Eh="MenuSubTrigger",c4=C.forwardRef((t,e)=>{const n=Xl(Eh,t.__scopeMenu),r=qf(Eh,t.__scopeMenu),s=u4(Eh,t.__scopeMenu),i=iC(Eh,t.__scopeMenu),a=C.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:c}=i,h={__scopeMenu:t.__scopeMenu},p=C.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return C.useEffect(()=>p,[p]),C.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),c(null)}},[u,c]),x.jsx(rC,{asChild:!0,...h,children:x.jsx(Zj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":f4(n.open),...t,ref:Ql(e,s.onTriggerChange),onClick:g=>{var v;(v=t.onClick)==null||v.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,df(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:et(t.onPointerLeave,df(g=>{var v,k;p();const _=(v=n.content)==null?void 0:v.getBoundingClientRect();if(_){const S=(k=n.content)==null?void 0:k.dataset.side,T=S==="right",N=T?-5:5,A=_[T?"left":"right"],M=_[T?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+N,y:g.clientY},{x:A,y:_.top},{x:M,y:_.top},{x:M,y:_.bottom},{x:A,y:_.bottom}],side:S}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,g=>{var v;const k=i.searchRef.current!=="";t.disabled||k&&g.key===" "||EQ[r.dir].includes(g.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),g.preventDefault())})})})});c4.displayName=Eh;var d4="MenuSubContent",h4=C.forwardRef((t,e)=>{const n=Qj(Jr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Xl(Jr,t.__scopeMenu),a=qf(Jr,t.__scopeMenu),u=u4(d4,t.__scopeMenu),c=C.useRef(null),h=pr(e,c);return x.jsx(cf.Provider,{scope:t.__scopeMenu,children:x.jsx(Ff,{present:r||i.open,children:x.jsx(cf.Slot,{scope:t.__scopeMenu,children:x.jsx(oC,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:h,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;a.isUsingKeyboardRef.current&&((g=c.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:et(t.onFocusOutside,p=>{p.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,p=>{a.onClose(),p.preventDefault()}),onKeyDown:et(t.onKeyDown,p=>{var g;const v=p.currentTarget.contains(p.target),k=SQ[a.dir].includes(p.key);v&&k&&(i.onOpenChange(!1),(g=u.trigger)==null||g.focus(),p.preventDefault())})})})})})});h4.displayName=d4;function f4(t){return t?"open":"closed"}function ey(t){return t==="indeterminate"}function uC(t){return ey(t)?"indeterminate":t?"checked":"unchecked"}function $Q(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function WQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function GQ(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=WQ(t,Math.max(s,0));r.length===1&&(i=i.filter(u=>u!==n));const a=i.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return a!==n?a:void 0}function HQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const u=e[i],c=e[a],h=u.x,p=u.y,g=c.x,v=c.y;p>r!=v>r&&n<(g-h)*(r-p)/(v-p)+h&&(s=!s)}return s}function QQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return HQ(n,e)}function df(t){return e=>e.pointerType==="mouse"?t(e):void 0}var YQ=Hj,XQ=rC,JQ=Yj,ZQ=Xj,eY=aC,tY=Jj,nY=rv,rY=e4,sY=n4,iY=s4,oY=o4,aY=a4,lY=l4,uY=c4,cY=h4,sv="DropdownMenu",[dY]=Bf(sv,[Wj]),er=Wj(),[hY,p4]=dY(sv),m4=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:u=!0}=t,c=er(e),h=C.useRef(null),[p,g]=JR({prop:s,defaultProp:i??!1,onChange:a,caller:sv});return x.jsx(hY,{scope:e,triggerId:Vb(),triggerRef:h,contentId:Vb(),open:p,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(v=>!v),[g]),modal:u,children:x.jsx(YQ,{...c,open:p,onOpenChange:g,dir:r,modal:u,children:n})})};m4.displayName=sv;var g4="DropdownMenuTrigger",y4=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=p4(g4,n),a=er(n);return x.jsx(XQ,{asChild:!0,...a,children:x.jsx(Zn.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ql(e,i.triggerRef),onPointerDown:et(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:et(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});y4.displayName=g4;var fY="DropdownMenuPortal",v4=t=>{const{__scopeDropdownMenu:e,...n}=t,r=er(e);return x.jsx(JQ,{...r,...n})};v4.displayName=fY;var w4="DropdownMenuContent",b4=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=p4(w4,n),i=er(n),a=C.useRef(!1);return x.jsx(ZQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,u=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,u.preventDefault()}),onInteractOutside:et(t.onInteractOutside,u=>{const c=u.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0,p=c.button===2||h;(!s.modal||p)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});b4.displayName=w4;var pY="DropdownMenuGroup",mY=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return x.jsx(eY,{...s,...r,ref:e})});mY.displayName=pY;var gY="DropdownMenuLabel",x4=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return x.jsx(tY,{...s,...r,ref:e})});x4.displayName=gY;var yY="DropdownMenuItem",C4=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return x.jsx(nY,{...s,...r,ref:e})});C4.displayName=yY;var vY="DropdownMenuCheckboxItem",k4=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return x.jsx(rY,{...s,...r,ref:e})});k4.displayName=vY;var wY="DropdownMenuRadioGroup",bY=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return x.jsx(sY,{...s,...r,ref:e})});bY.displayName=wY;var xY="DropdownMenuRadioItem",E4=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return x.jsx(iY,{...s,...r,ref:e})});E4.displayName=xY;var CY="DropdownMenuItemIndicator",S4=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return x.jsx(oY,{...s,...r,ref:e})});S4.displayName=CY;var kY="DropdownMenuSeparator",T4=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return x.jsx(aY,{...s,...r,ref:e})});T4.displayName=kY;var EY="DropdownMenuArrow",SY=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return x.jsx(lY,{...s,...r,ref:e})});SY.displayName=EY;var TY="DropdownMenuSubTrigger",_4=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return x.jsx(uY,{...s,...r,ref:e})});_4.displayName=TY;var _Y="DropdownMenuSubContent",D4=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return x.jsx(cY,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D4.displayName=_Y;var DY=m4,IY=y4,NY=v4,I4=b4,N4=x4,P4=C4,A4=k4,R4=E4,j4=S4,M4=T4,O4=_4,L4=D4;const PY=DY,AY=IY,RY=C.forwardRef(({className:t,inset:e,children:n,...r},s)=>x.jsxs(O4,{ref:s,className:wt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,x.jsx(bK,{className:"ml-auto"})]}));RY.displayName=O4.displayName;const jY=C.forwardRef(({className:t,...e},n)=>x.jsx(L4,{ref:n,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));jY.displayName=L4.displayName;const B4=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(NY,{children:x.jsx(I4,{ref:r,sideOffset:e,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));B4.displayName=I4.displayName;const qr=C.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(P4,{ref:r,className:wt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));qr.displayName=P4.displayName;const MY=C.forwardRef(({className:t,children:e,checked:n,...r},s)=>x.jsxs(A4,{ref:s,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(j4,{children:x.jsx(gK,{className:"h-4 w-4"})})}),e]}));MY.displayName=A4.displayName;const OY=C.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(R4,{ref:r,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(j4,{children:x.jsx(TK,{className:"h-2 w-2 fill-current"})})}),e]}));OY.displayName=R4.displayName;const V4=C.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(N4,{ref:r,className:wt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));V4.displayName=N4.displayName;const og=C.forwardRef(({className:t,...e},n)=>x.jsx(M4,{ref:n,className:wt("-mx-1 my-1 h-px bg-muted",t),...e}));og.displayName=M4.displayName;function Es(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function zl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const F4=6048e5,LY=864e5;let BY={};function iv(){return BY}function hf(t,e){var n,r,s,i;const a=iv(),u=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??a.weekStartsOn??((i=(s=a.locale)==null?void 0:s.options)==null?void 0:i.weekStartsOn)??0,c=Es(t),h=c.getDay(),p=(h<u?7:0)+h-u;return c.setDate(c.getDate()-p),c.setHours(0,0,0,0),c}function ty(t){return hf(t,{weekStartsOn:1})}function U4(t){const e=Es(t),n=e.getFullYear(),r=zl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=ty(r),i=zl(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=ty(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Wb(t){const e=Es(t);return e.setHours(0,0,0,0),e}function Q2(t){const e=Es(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function VY(t,e){const n=Wb(t),r=Wb(e),s=+n-Q2(n),i=+r-Q2(r);return Math.round((s-i)/LY)}function FY(t){const e=U4(t),n=zl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ty(n)}function UY(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function zY(t){if(!UY(t)&&typeof t!="number")return!1;const e=Es(t);return!isNaN(Number(e))}function qY(t){const e=Es(t),n=zl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const KY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$Y=(t,e,n)=>{let r;const s=KY[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Cw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const WY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},HY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QY={date:Cw({formats:WY,defaultWidth:"full"}),time:Cw({formats:GY,defaultWidth:"full"}),dateTime:Cw({formats:HY,defaultWidth:"full"})},YY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XY=(t,e,n,r)=>YY[t];function ph(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):a;s=t.formattingValues[u]||t.formattingValues[a]}else{const a=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const JY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sX=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},iX={ordinalNumber:sX,era:ph({values:JY,defaultWidth:"wide"}),quarter:ph({values:ZY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ph({values:eX,defaultWidth:"wide"}),day:ph({values:tX,defaultWidth:"wide"}),dayPeriod:ph({values:nX,defaultWidth:"wide",formattingValues:rX,defaultFormattingWidth:"wide"})};function mh(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?aX(u,g=>g.test(a)):oX(u,g=>g.test(a));let h;h=t.valueCallback?t.valueCallback(c):c,h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(a.length);return{value:h,rest:p}}}function oX(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function aX(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function lX(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const u=e.slice(s.length);return{value:a,rest:u}}}const uX=/^(\d+)(th|st|nd|rd)?/i,cX=/\d+/i,dX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hX={any:[/^b/i,/^(a|c)/i]},fX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pX={any:[/1/i,/2/i,/3/i,/4/i]},mX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xX={ordinalNumber:lX({matchPattern:uX,parsePattern:cX,valueCallback:t=>parseInt(t,10)}),era:mh({matchPatterns:dX,defaultMatchWidth:"wide",parsePatterns:hX,defaultParseWidth:"any"}),quarter:mh({matchPatterns:fX,defaultMatchWidth:"wide",parsePatterns:pX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:mh({matchPatterns:mX,defaultMatchWidth:"wide",parsePatterns:gX,defaultParseWidth:"any"}),day:mh({matchPatterns:yX,defaultMatchWidth:"wide",parsePatterns:vX,defaultParseWidth:"any"}),dayPeriod:mh({matchPatterns:wX,defaultMatchWidth:"any",parsePatterns:bX,defaultParseWidth:"any"})},CX={code:"en-US",formatDistance:$Y,formatLong:QY,formatRelative:XY,localize:iX,match:xX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kX(t){const e=Es(t);return VY(e,qY(e))+1}function EX(t){const e=Es(t),n=+ty(e)-+FY(e);return Math.round(n/F4)+1}function z4(t,e){var n,r,s,i;const a=Es(t),u=a.getFullYear(),c=iv(),h=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??c.firstWeekContainsDate??((i=(s=c.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,p=zl(t,0);p.setFullYear(u+1,0,h),p.setHours(0,0,0,0);const g=hf(p,e),v=zl(t,0);v.setFullYear(u,0,h),v.setHours(0,0,0,0);const k=hf(v,e);return a.getTime()>=g.getTime()?u+1:a.getTime()>=k.getTime()?u:u-1}function SX(t,e){var n,r,s,i;const a=iv(),u=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??a.firstWeekContainsDate??((i=(s=a.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,c=z4(t,e),h=zl(t,0);return h.setFullYear(c,0,u),h.setHours(0,0,0,0),hf(h,e)}function TX(t,e){const n=Es(t),r=+hf(n,e)-+SX(n,e);return Math.round(r/F4)+1}function at(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Wo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return at(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):at(n+1,2)},d(t,e){return at(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return at(t.getHours()%12||12,e.length)},H(t,e){return at(t.getHours(),e.length)},m(t,e){return at(t.getMinutes(),e.length)},s(t,e){return at(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return at(s,e.length)}},rc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Y2={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Wo.y(t,e)},Y:function(t,e,n,r){const s=z4(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return at(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):at(i,e.length)},R:function(t,e){const n=U4(t);return at(n,e.length)},u:function(t,e){const n=t.getFullYear();return at(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return at(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return at(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Wo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return at(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=TX(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):at(s,e.length)},I:function(t,e,n){const r=EX(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):at(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Wo.d(t,e)},D:function(t,e,n){const r=kX(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):at(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return at(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return at(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return at(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=rc.noon:r===0?s=rc.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=rc.evening:r>=12?s=rc.afternoon:r>=4?s=rc.morning:s=rc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Wo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Wo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Wo.s(t,e)},S:function(t,e){return Wo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return J2(r);case"XXXX":case"XX":return ul(r);case"XXXXX":case"XXX":default:return ul(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return J2(r);case"xxxx":case"xx":return ul(r);case"xxxxx":case"xxx":default:return ul(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+X2(r,":");case"OOOO":default:return"GMT"+ul(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+X2(r,":");case"zzzz":default:return"GMT"+ul(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return at(r,e.length)},T:function(t,e,n){const r=t.getTime();return at(r,e.length)}};function X2(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+at(i,2)}function J2(t,e){return t%60===0?(t>0?"-":"+")+at(Math.abs(t)/60,2):ul(t,e)}function ul(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=at(Math.trunc(r/60),2),i=at(r%60,2);return n+s+e+i}const Z2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},q4=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},_X=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Z2(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Z2(r,e)).replace("{{time}}",q4(s,e))},DX={p:q4,P:_X},IX=/^D+$/,NX=/^Y+$/,PX=["D","DD","YY","YYYY"];function AX(t){return IX.test(t)}function RX(t){return NX.test(t)}function jX(t,e,n){const r=MX(t,e,n);if(console.warn(r),PX.includes(t))throw new RangeError(r)}function MX(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const OX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,LX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BX=/^'([^]*?)'?$/,VX=/''/g,FX=/[a-zA-Z]/;function UX(t,e,n){var r,s,i,a;const u=iv(),c=u.locale??CX,h=u.firstWeekContainsDate??((s=(r=u.locale)==null?void 0:r.options)==null?void 0:s.firstWeekContainsDate)??1,p=u.weekStartsOn??((a=(i=u.locale)==null?void 0:i.options)==null?void 0:a.weekStartsOn)??0,g=Es(t);if(!zY(g))throw new RangeError("Invalid time value");let v=e.match(LX).map(_=>{const S=_[0];if(S==="p"||S==="P"){const T=DX[S];return T(_,c.formatLong)}return _}).join("").match(OX).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const S=_[0];if(S==="'")return{isToken:!1,value:zX(_)};if(Y2[S])return{isToken:!0,value:_};if(S.match(FX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:_}});c.localize.preprocessor&&(v=c.localize.preprocessor(g,v));const k={firstWeekContainsDate:h,weekStartsOn:p,locale:c};return v.map(_=>{if(!_.isToken)return _.value;const S=_.value;(RX(S)||AX(S))&&jX(S,e,String(t));const T=Y2[S[0]];return T(g,S,c.localize,k)}).join("")}function zX(t){const e=t.match(BX);return e?e[1].replace(VX,"'"):t}class ag extends gn.Component{constructor(e){super(e),iS(this,"hardReload",()=>{window.location.reload(!0)}),iS(this,"clearCachesAndReload",async()=>{try{if("caches"in window){const n=await caches.keys();await Promise.all(n.map(r=>caches.delete(r)))}if("serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistrations();await Promise.all(n.map(r=>r.unregister()))}}catch(n){console.warn("Failed to clear caches or unregister SW",n)}finally{window.location.reload()}}),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ChunkErrorBoundary caught an error:",e,n)}render(){var e,n,r,s;if(this.state.hasError){const i=((e=this.state.error)==null?void 0:e.message)||"";return((n=this.state.error)==null?void 0:n.name)==="ChunkLoadError"||((r=this.state.error)==null?void 0:r.name)==="CSSChunkLoadError"||/Loading chunk|Failed to fetch dynamically imported module|Importing a module script failed/i.test(i)?x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Update available"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The app was updated. Please refresh to load the latest version."}),x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("button",{onClick:this.hardReload,className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"}),x.jsx("button",{onClick:this.clearCachesAndReload,className:"px-4 py-2 rounded-lg bg-gray-200",children:"Reset cache & reload"})]}),x.jsxs("details",{className:"mt-4 text-left text-xs text-gray-500",children:[x.jsx("summary",{children:"Details"}),x.jsx("pre",{className:"whitespace-pre-wrap break-words",children:((s=this.state.error)==null?void 0:s.stack)||i})]})]})}):x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"Try refreshing the page."}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"})]})})}return this.props.children}}const kw=gn.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_-DZaDo8HZ-Bd77omDN-BCrgyW6d-Bid0Wz6u.js"),[]),[]),[]),[]),[]),[]),[]),[]),[])),qX=gn.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC-i35konQI-CjlSaAQR-DWHXc9fM-DtYDpWHp.js"),__vite__mapDeps([0,1])),Lt([0,1])),Vt([0,1])),Ut([0,1])),qt([0,1])),$t([0,1])),Gt([0,1])),Qt([0,1])),Xt([0,1]))),KX=gn.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc-CAXKM_tn-BSUotW_a-C1AHqVwe-TSa7cqyv.js"),__vite__mapDeps([2,3])),Lt([2,3])),Vt([2,3])),Ut([2,3])),qt([2,3])),$t([2,3])),Gt([2,3])),Qt([2,3])),Xt([2,3])));function $X({children:t,currentPageName:e}){var n;const r=so(),[s,i]=C.useState(!1),{user:a,loading:u}=Hx(),[c,h]=C.useState(()=>localStorage.getItem("app.theme")==="dark");C.useEffect(()=>{const W=()=>{h(localStorage.getItem("app.theme")==="dark")};W(),window.addEventListener("storage",W);const R=setInterval(W,500);return()=>{window.removeEventListener("storage",W),clearInterval(R)}},[]),C.useEffect(()=>{const W=document.createElement("link");W.rel="manifest",W.href="/manifest.json",document.head.appendChild(W);const R=document.createElement("meta");R.name="theme-color",R.content=c?"#1e293b":"#9333ea",document.head.appendChild(R);const D=document.createElement("meta");D.name="apple-mobile-web-app-capable",D.content="yes",document.head.appendChild(D);const P=document.createElement("meta");P.name="apple-mobile-web-app-status-bar-style",P.content="default",document.head.appendChild(P);const O=document.createElement("meta");O.name="apple-mobile-web-app-title",O.content="Math Adventure",document.head.appendChild(O);const V=document.createElement("link");return V.rel="apple-touch-icon",document.head.appendChild(V),()=>{V.parentNode&&V.remove()}},[c]);const[p,g]=C.useState(0);C.useEffect(()=>{a!=null&&a.email&&g(0)},[a==null?void 0:a.email]);const v=UX(Wb(new Date),"yyyy-MM-dd"),{data:k=[]}=rK({queryKey:["dailyChallenges",v],initialData:[],enabled:!!a});if(e==="Landing")return x.jsx(x.Fragment,{children:t});if(e==="Home"&&!a)return x.jsx(x.Fragment,{children:t});if(!a)return u?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center max-w-md w-full",children:[x.jsx(bS,{size:"xl",variant:"circle",className:"mx-auto mb-6"}),x.jsx("h1",{className:"text-4xl font-extrabold text-white mb-3 drop-shadow-2xl",children:"Math Adventure"}),x.jsx("p",{className:"text-lg text-white mb-6 drop-shadow-lg",children:"Sign in or create an account to start."}),x.jsx(GR,{})]})});const _=k.some(W=>W.created_by===(a==null?void 0:a.email)),S=a?{avatar_skin_tone:a.avatar_skin_tone||"medium",avatar_hair_style:a.avatar_hair_style||"short",avatar_hair_color:a.avatar_hair_color||"brown",avatar_eyes:a.avatar_eyes||"normal",avatar_outfit:a.avatar_outfit||"casual",avatar_accessory:a.avatar_accessory||"none"}:null,T=a==null?void 0:a.active_pet,N=T?{id:T,name:"Pet",emoji:T==="dragon"?"":T==="owl"?"":T==="fox"?"":"",gradient:T==="dragon"?"from-red-400 to-orange-500":T==="owl"?"from-indigo-400 to-purple-500":T==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500",evolveLevel:5}:null,A=(a==null?void 0:a.subscription_tier)||"free",M=A!=="free",F=async()=>{const W=py(xs);await dB(W),localStorage.clear(),window.location.href="/"},z=({to:W,icon:R,label:D,badge:P,badgeColor:O="red",isDarkMode:V})=>{const q=r.pathname===nt(W);return x.jsxs(ft,{to:nt(W),onClick:()=>i(!1),className:`relative flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${q?"bg-purple-500 text-white shadow-lg":V?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[x.jsx(R,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:D}),P&&x.jsx($r,{className:`absolute -top-1 -right-1 bg-${O}-500 text-white text-xs px-1.5 py-0.5 ${O==="red"?"animate-pulse":""}`,children:P})]})};return x.jsxs("div",{className:`min-h-screen ${c?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[x.jsx(uW,{}),x.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${c?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),x.jsx("header",{className:`${c?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:x.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-2 md:py-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(ft,{to:nt("Home"),className:"flex items-center gap-3",children:[x.jsx(bS,{size:"md",variant:"circle"}),x.jsx("div",{children:x.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${c&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[a&&x.jsx(ft,{to:nt("Home"),className:"hidden md:inline-block",children:x.jsxs(ti,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold shadow-lg",children:[x.jsx(PR,{className:"w-4 h-4 mr-2"}),"Play Now"]})}),a&&x.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white px-3 py-2 rounded-xl shadow-md",children:[x.jsx(l2,{className:"w-4 h-4"}),x.jsx("span",{className:"font-bold text-sm",children:a.coins||0})]}),A!=="free"?x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs($r,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 px-3 py-1.5 cursor-pointer",children:[x.jsx(vl,{className:"w-3 h-3 mr-1"}),A==="family_teacher"?"Family":A==="premium_player"?"Premium":"Parent"]})}):x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs($r,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 px-3 py-1.5 cursor-pointer animate-pulse",children:[x.jsx(vl,{className:"w-3 h-3 mr-1"}),"Upgrade"]})}),a&&x.jsx("div",{className:"hidden lg:block",children:x.jsxs(PY,{children:[x.jsx(AY,{asChild:!0,children:x.jsx(ti,{variant:"ghost",className:`${c?"hover:bg-slate-700 text-gray-50":"hover:bg-purple-50 text-gray-900"} h-auto p-2`,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex items-center gap-1",children:x.jsx(ag,{children:x.jsxs(gn.Suspense,{fallback:x.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 animate-pulse"}),children:[S&&x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(kw,{avatarData:S,size:"small"})}),N&&x.jsx("div",{className:"scale-50 origin-center -ml-2",children:x.jsx(qX,{pet:N,experience:((n=a==null?void 0:a.pet_experience)==null?void 0:n[T])||0,size:"small"})})]})})}),x.jsxs("div",{className:"text-left",children:[x.jsx("p",{className:`text-sm font-semibold ${c?"text-gray-50":"text-gray-900"}`,children:a.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:a.email})]}),x.jsx(vK,{className:`w-4 h-4 ${c?"text-gray-300":"text-gray-500"}`})]})})}),x.jsxs(B4,{align:"end",className:`${c?"bg-slate-800 border-slate-700 text-gray-50":"bg-white"} w-56`,children:[x.jsx(V4,{children:x.jsxs("div",{className:"flex flex-col space-y-1",children:[x.jsx("p",{className:`text-sm font-medium ${c?"text-gray-50":"text-gray-900"}`,children:a.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:a.email})]})}),x.jsx(og,{className:c?"bg-slate-700":""}),x.jsx(qr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Avatar"),className:"cursor-pointer",children:[x.jsx(uw,{className:"w-4 h-4 mr-2"}),"View Profile"]})}),x.jsx(qr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Messages"),className:"cursor-pointer",children:[x.jsx(m2,{className:"w-4 h-4 mr-2"}),"Messages",p>0&&x.jsx($r,{className:"ml-auto bg-blue-500 text-white text-xs",children:p})]})}),x.jsx(qr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("DailyChallenge"),className:"cursor-pointer",children:[x.jsx(ow,{className:"w-4 h-4 mr-2"}),"Daily Challenge",!_&&x.jsx($r,{className:"ml-auto bg-red-500 text-white text-xs animate-pulse",children:"!"})]})}),x.jsx(qr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("AITutor"),className:"cursor-pointer",children:[x.jsx(tg,{className:"w-4 h-4 mr-2"}),"AI Tutor"]})}),x.jsx(qr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Progress"),className:"cursor-pointer",children:[x.jsx(pK,{className:"w-4 h-4 mr-2"}),"Progress & Stats"]})}),x.jsx(qr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Shop"),className:"cursor-pointer",children:[x.jsx(aw,{className:"w-4 h-4 mr-2"}),"Rewards Shop"]})}),x.jsx(qr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("ParentPortal"),className:"cursor-pointer",children:[x.jsx(d2,{className:"w-4 h-4 mr-2"}),"Parent Portal",(a==null?void 0:a.is_parent_mode)&&x.jsx($r,{className:"ml-2 bg-blue-500 text-white text-xs",children:"ON"})]})}),x.jsx(og,{className:c?"bg-slate-700":""}),x.jsx(qr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Settings"),className:"cursor-pointer",children:[x.jsx(g2,{className:"w-4 h-4 mr-2"}),"App Settings"]})}),x.jsx(qr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer",children:[x.jsx(PK,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})}),M&&(a==null?void 0:a.subscription_auto_renew)!==!1&&x.jsx(qr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer text-orange-600 focus:text-orange-600",children:[x.jsx(EK,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})}),x.jsx(og,{className:c?"bg-slate-700":""}),x.jsxs(qr,{onClick:F,className:`${c?"text-red-400 focus:bg-slate-700 focus:text-red-400":"text-red-600 focus:text-red-600"} cursor-pointer`,children:[x.jsx(p2,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),x.jsx(ti,{variant:"ghost",size:"icon",onClick:()=>i(!s),className:`lg:hidden ${c?"text-gray-50 hover:bg-slate-700":""}`,children:s?x.jsx($x,{className:"w-6 h-6"}):x.jsx(qK,{className:"w-6 h-6"})})]})]}),s&&x.jsxs("div",{className:`mt-4 pb-4 space-y-2 border-t pt-4 max-h-[calc(100vh-140px)] overflow-y-auto ${c?"border-slate-700":""}`,children:[a&&x.jsxs("div",{className:`${c?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx(gn.Suspense,{fallback:null,children:S&&x.jsx("div",{className:"scale-90 origin-center",children:x.jsx(kw,{avatarData:S,size:"small"})})}),x.jsxs("div",{children:[x.jsx("p",{className:`font-bold ${c?"text-gray-50":"text-gray-900"}`,children:a.full_name||"Player"}),x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:a.email})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs($r,{className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white",children:[x.jsx(l2,{className:"w-3 h-3 mr-1"}),a.coins||0," Coins"]}),A!=="free"&&x.jsxs($r,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[x.jsx(vl,{className:"w-3 h-3 mr-1"}),A==="family_teacher"?"Family":A==="premium_player"?"Premium":"Parent"]})]})]}),x.jsx(z,{to:"Home",icon:f2,label:"Home",isDarkMode:c}),x.jsx(z,{to:"DailyChallenge",icon:ow,label:"Daily Challenge",badge:_?null:"!",isDarkMode:c}),x.jsx(z,{to:"Progress",icon:Pb,label:"Progress",isDarkMode:c}),x.jsx(z,{to:"AITutor",icon:tg,label:"AI Tutor",isDarkMode:c}),x.jsx(z,{to:"Messages",icon:m2,label:"Messages",badge:p>0?p:null,badgeColor:"blue",isDarkMode:c}),x.jsx(z,{to:"Leaderboards",icon:cK,label:"Leaderboards",isDarkMode:c}),x.jsx(z,{to:"Shop",icon:aw,label:"Shop",isDarkMode:c}),x.jsx(z,{to:"TeamChallenges",icon:Ab,label:"Team Challenges",isDarkMode:c}),x.jsx(z,{to:"ParentPortal",icon:d2,label:"Parent Portal",badge:a!=null&&a.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:c}),x.jsx(z,{to:"Avatar",icon:uw,label:"Profile",isDarkMode:c}),x.jsx("div",{className:`pt-2 mt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Settings"),onClick:()=>i(!1),children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-gradient-to-r from-gray-700 to-gray-800 text-gray-50 hover:bg-gray-700":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[x.jsx(g2,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"App Settings"})]})})}),x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Subscription"),onClick:()=>i(!1),className:"w-full block",children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${A!=="free"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 text-white animate-pulse"}`,children:[x.jsx(vl,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:A!=="free"?"Manage Subscription":"Upgrade to Premium"})]})})}),a&&x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsxs("button",{onClick:()=>{i(!1),F()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[x.jsx(p2,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]})}),x.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${c?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:x.jsxs("div",{className:"grid grid-cols-5 gap-1 px-2 py-2",children:[x.jsxs(ft,{to:nt("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Home")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(f2,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),x.jsxs(ft,{to:nt("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("DailyChallenge")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(ow,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!_&&x.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),x.jsxs(ft,{to:nt("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("AITutor")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(tg,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),x.jsxs(ft,{to:nt("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Shop")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(aw,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),x.jsx(ft,{to:nt("Avatar"),className:`flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Avatar")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:S?x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(kw,{avatarData:S,size:"small"})}):x.jsx(uw,{className:"w-6 h-6"})})]})}),x.jsx(ag,{children:x.jsx(gn.Suspense,{fallback:null,children:x.jsx(KX,{})})}),x.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:x.jsx(ag,{children:x.jsx(gn.Suspense,{fallback:x.jsx("div",{className:"min-h-[40vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-3"}),x.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),children:t})})}),x.jsx("footer",{className:`${c?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:x.jsx("div",{className:"max-w-7xl mx-auto px-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),x.jsx("p",{className:`text-xs ${c?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[x.jsx(ft,{to:nt("PrivacyPolicy"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx(ft,{to:nt("Subscription"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}const WX=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));WX.displayName="Card";const GX=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex flex-col space-y-1.5 p-6",t),...e}));GX.displayName="CardHeader";const HX=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("font-semibold leading-none tracking-tight",t),...e}));HX.displayName="CardTitle";const QX=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm text-muted-foreground",t),...e}));QX.displayName="CardDescription";const YX=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("p-6 pt-0",t),...e}));YX.displayName="CardContent";const XX=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex items-center p-6 pt-0",t),...e}));XX.displayName="CardFooter";const K4=C.createContext({});function JX(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const cC=typeof window<"u",ZX=cC?C.useLayoutEffect:C.useEffect,dC=C.createContext(null);function hC(t,e){t.indexOf(e)===-1&&t.push(e)}function fC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Xi=(t,e,n)=>n>e?e:n<t?t:n;let pC=()=>{};const Ji={},$4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function W4(t){return typeof t=="object"&&t!==null}const G4=t=>/^0[^.\s]+$/u.test(t);function mC(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zr=t=>t,eJ=(t,e)=>n=>e(t(n)),Kf=(...t)=>t.reduce(eJ),ff=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class gC{constructor(){this.subscriptions=[]}add(e){return hC(this.subscriptions,e),()=>fC(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ri=t=>t*1e3,Yr=t=>t/1e3;function H4(t,e){return e?t*(1e3/e):0}const Q4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,tJ=1e-7,nJ=12;function rJ(t,e,n,r,s){let i,a,u=0;do a=e+(n-e)/2,i=Q4(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>tJ&&++u<nJ);return a}function $f(t,e,n,r){if(t===e&&n===r)return Zr;const s=i=>rJ(i,0,1,t,n);return i=>i===0||i===1?i:Q4(s(i),e,r)}const Y4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,X4=t=>e=>1-t(1-e),J4=$f(.33,1.53,.69,.99),yC=X4(J4),Z4=Y4(yC),eM=t=>(t*=2)<1?.5*yC(t):.5*(2-Math.pow(2,-10*(t-1))),vC=t=>1-Math.sin(Math.acos(t)),tM=X4(vC),nM=Y4(vC),sJ=$f(.42,0,1,1),iJ=$f(0,0,.58,1),rM=$f(.42,0,.58,1),oJ=t=>Array.isArray(t)&&typeof t[0]!="number",sM=t=>Array.isArray(t)&&typeof t[0]=="number",aJ={linear:Zr,easeIn:sJ,easeInOut:rM,easeOut:iJ,circIn:vC,circInOut:nM,circOut:tM,backIn:yC,backInOut:Z4,backOut:J4,anticipate:eM},lJ=t=>typeof t=="string",eD=t=>{if(sM(t)){pC(t.length===4);const[e,n,r,s]=t;return $f(e,n,r,s)}else if(lJ(t))return aJ[t];return t},jm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function uJ(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(h.schedule(p),t()),p(u)}const h={schedule:(p,g=!1,v=!1)=>{const k=v&&s?n:r;return g&&a.add(p),k.has(p)||k.add(p),p},cancel:p=>{r.delete(p),a.delete(p)},process:p=>{if(u=p,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,h.process(p))}};return h}const cJ=40;function iM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=jm.reduce((N,A)=>(N[A]=uJ(i),N),{}),{setup:u,read:c,resolveKeyframes:h,preUpdate:p,update:g,preRender:v,render:k,postRender:_}=a,S=()=>{const N=Ji.useManualTiming?s.timestamp:performance.now();n=!1,Ji.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(N-s.timestamp,cJ),1)),s.timestamp=N,s.isProcessing=!0,u.process(s),c.process(s),h.process(s),p.process(s),g.process(s),v.process(s),k.process(s),_.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},T=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:jm.reduce((N,A)=>{const M=a[A];return N[A]=(F,z=!1,W=!1)=>(n||T(),M.schedule(F,z,W)),N},{}),cancel:N=>{for(let A=0;A<jm.length;A++)a[jm[A]].cancel(N)},state:s,steps:a}}const{schedule:Ct,cancel:ma,state:In,steps:Ew}=iM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zr,!0);let lg;function dJ(){lg=void 0}const hr={now:()=>(lg===void 0&&hr.set(In.isProcessing||Ji.useManualTiming?In.timestamp:performance.now()),lg),set:t=>{lg=t,queueMicrotask(dJ)}},oM=t=>e=>typeof e=="string"&&e.startsWith(t),wC=oM("--"),hJ=oM("var(--"),bC=t=>hJ(t)?fJ.test(t.split("/*")[0].trim()):!1,fJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},pf={...Jc,transform:t=>Xi(0,1,t)},Mm={...Jc,default:1},Oh=t=>Math.round(t*1e5)/1e5,xC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pJ(t){return t==null}const mJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,CC=(t,e)=>n=>!!(typeof n=="string"&&mJ.test(n)&&n.startsWith(t)||e&&!pJ(n)&&Object.prototype.hasOwnProperty.call(n,e)),aM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,u]=r.match(xC);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},gJ=t=>Xi(0,255,t),Sw={...Jc,transform:t=>Math.round(gJ(t))},wl={test:CC("rgb","red"),parse:aM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Sw.transform(t)+", "+Sw.transform(e)+", "+Sw.transform(n)+", "+Oh(pf.transform(r))+")"};function yJ(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Gb={test:CC("#"),parse:yJ,transform:wl.transform},Wf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ho=Wf("deg"),si=Wf("%"),Oe=Wf("px"),vJ=Wf("vh"),wJ=Wf("vw"),tD={...si,parse:t=>si.parse(t)/100,transform:t=>si.transform(t*100)},cc={test:CC("hsl","hue"),parse:aM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+si.transform(Oh(e))+", "+si.transform(Oh(n))+", "+Oh(pf.transform(r))+")"},cn={test:t=>wl.test(t)||Gb.test(t)||cc.test(t),parse:t=>wl.test(t)?wl.parse(t):cc.test(t)?cc.parse(t):Gb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wl.transform(t):cc.transform(t),getAnimatableNone:t=>{const e=cn.parse(t);return e.alpha=0,cn.transform(e)}},bJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xJ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(xC))==null?void 0:e.length)||0)+(((n=t.match(bJ))==null?void 0:n.length)||0)>0}const lM="number",uM="color",CJ="var",kJ="var(",nD="${}",EJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(EJ,u=>(cn.test(u)?(r.color.push(i),s.push(uM),n.push(cn.parse(u))):u.startsWith(kJ)?(r.var.push(i),s.push(CJ),n.push(u)):(r.number.push(i),s.push(lM),n.push(parseFloat(u))),++i,nD)).split(nD);return{values:n,split:a,indexes:r,types:s}}function cM(t){return mf(t).values}function dM(t){const{split:e,types:n}=mf(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const u=n[a];u===lM?i+=Oh(s[a]):u===uM?i+=cn.transform(s[a]):i+=s[a]}return i}}const SJ=t=>typeof t=="number"?0:cn.test(t)?cn.getAnimatableNone(t):t;function TJ(t){const e=cM(t);return dM(t)(e.map(SJ))}const ga={test:xJ,parse:cM,createTransformer:dM,getAnimatableNone:TJ};function Tw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _J({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;s=Tw(c,u,t+1/3),i=Tw(c,u,t),a=Tw(c,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function ny(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,_w=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},DJ=[Gb,wl,cc],IJ=t=>DJ.find(e=>e.test(t));function rD(t){const e=IJ(t);if(!e)return!1;let n=e.parse(t);return e===cc&&(n=_J(n)),n}const sD=(t,e)=>{const n=rD(t),r=rD(e);if(!n||!r)return ny(t,e);const s={...n};return i=>(s.red=_w(n.red,r.red,i),s.green=_w(n.green,r.green,i),s.blue=_w(n.blue,r.blue,i),s.alpha=_t(n.alpha,r.alpha,i),wl.transform(s))},Hb=new Set(["none","hidden"]);function NJ(t,e){return Hb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function PJ(t,e){return n=>_t(t,e,n)}function kC(t){return typeof t=="number"?PJ:typeof t=="string"?bC(t)?ny:cn.test(t)?sD:jJ:Array.isArray(t)?hM:typeof t=="object"?cn.test(t)?sD:AJ:ny}function hM(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>kC(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function AJ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=kC(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function RJ(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],u=t.values[a]??0;n[s]=u,r[i]++}return n}const jJ=(t,e)=>{const n=ga.createTransformer(e),r=mf(t),s=mf(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Hb.has(t)&&!s.values.length||Hb.has(e)&&!r.values.length?NJ(t,e):Kf(hM(RJ(r,s),s.values),n):ny(t,e)};function fM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):kC(t)(t,e)}const MJ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ct.update(e,n),stop:()=>ma(e),now:()=>In.isProcessing?In.timestamp:hr.now()}},pM=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ry=2e4;function EC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ry;)e+=n,r=t.next(e);return e>=ry?1/0:e}function OJ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(EC(r),ry);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Yr(s)}}const LJ=5;function mM(t,e,n){const r=Math.max(e-LJ,0);return H4(n-t(r),e-r)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dw=.001;function BJ({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:r=Rt.mass}){let s,i,a=1-e;a=Xi(Rt.minDamping,Rt.maxDamping,a),t=Xi(Rt.minDuration,Rt.maxDuration,Yr(t)),a<1?(s=h=>{const p=h*a,g=p*t,v=p-n,k=Qb(h,a),_=Math.exp(-g);return Dw-v/k*_},i=h=>{const p=h*a*t,g=p*n+n,v=Math.pow(a,2)*Math.pow(h,2)*t,k=Math.exp(-p),_=Qb(Math.pow(h,2),a);return(-s(h)+Dw>0?-1:1)*((g-v)*k)/_}):(s=h=>{const p=Math.exp(-h*t),g=(h-n)*t+1;return-Dw+p*g},i=h=>{const p=Math.exp(-h*t),g=(n-h)*(t*t);return p*g});const u=5/t,c=FJ(s,i,u);if(t=ri(t),isNaN(c))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const h=Math.pow(c,2)*r;return{stiffness:h,damping:a*2*Math.sqrt(r*h),duration:t}}}const VJ=12;function FJ(t,e,n){let r=n;for(let s=1;s<VJ;s++)r=r-t(r)/e(r);return r}function Qb(t,e){return t*Math.sqrt(1-e*e)}const UJ=["duration","bounce"],zJ=["stiffness","damping","mass"];function iD(t,e){return e.some(n=>t[n]!==void 0)}function qJ(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!iD(t,zJ)&&iD(t,UJ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Xi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Rt.mass,stiffness:s,damping:i}}else{const n=BJ(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function sy(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:c,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:k}=qJ({...n,velocity:-Yr(n.velocity||0)}),_=v||0,S=h/(2*Math.sqrt(c*p)),T=a-i,N=Yr(Math.sqrt(c/p)),A=Math.abs(T)<5;r||(r=A?Rt.restSpeed.granular:Rt.restSpeed.default),s||(s=A?Rt.restDelta.granular:Rt.restDelta.default);let M;if(S<1){const z=Qb(N,S);M=W=>{const R=Math.exp(-S*N*W);return a-R*((_+S*N*T)/z*Math.sin(z*W)+T*Math.cos(z*W))}}else if(S===1)M=z=>a-Math.exp(-N*z)*(T+(_+N*T)*z);else{const z=N*Math.sqrt(S*S-1);M=W=>{const R=Math.exp(-S*N*W),D=Math.min(z*W,300);return a-R*((_+S*N*T)*Math.sinh(D)+z*T*Math.cosh(D))/z}}const F={calculatedDuration:k&&g||null,next:z=>{const W=M(z);if(k)u.done=z>=g;else{let R=z===0?_:0;S<1&&(R=z===0?ri(_):mM(M,z,W));const D=Math.abs(R)<=r,P=Math.abs(a-W)<=s;u.done=D&&P}return u.value=u.done?a:W,u},toString:()=>{const z=Math.min(EC(F),ry),W=pM(R=>F.next(z*R).value,z,30);return z+"ms "+W},toTransition:()=>{}};return F}sy.applyToOptions=t=>{const e=OJ(t,100,sy);return t.ease=e.ease,t.duration=ri(e.duration),t.type="keyframes",t};function Yb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:u,max:c,restDelta:h=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},k=D=>u!==void 0&&D<u||c!==void 0&&D>c,_=D=>u===void 0?c:c===void 0||Math.abs(u-D)<Math.abs(c-D)?u:c;let S=n*e;const T=g+S,N=a===void 0?T:a(T);N!==T&&(S=N-g);const A=D=>-S*Math.exp(-D/r),M=D=>N+A(D),F=D=>{const P=A(D),O=M(D);v.done=Math.abs(P)<=h,v.value=v.done?N:O};let z,W;const R=D=>{k(v.value)&&(z=D,W=sy({keyframes:[v.value,_(v.value)],velocity:mM(M,D,v.value),damping:s,stiffness:i,restDelta:h,restSpeed:p}))};return R(0),{calculatedDuration:null,next:D=>{let P=!1;return!W&&z===void 0&&(P=!0,F(D),R(D)),z!==void 0&&D>=z?W.next(D-z):(!P&&F(D),v)}}}function KJ(t,e,n){const r=[],s=n||Ji.mix||fM,i=t.length-1;for(let a=0;a<i;a++){let u=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Zr:e;u=Kf(c,u)}r.push(u)}return r}function $J(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(pC(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=KJ(e,r,s),c=u.length,h=p=>{if(a&&p<t[0])return e[0];let g=0;if(c>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=ff(t[g],t[g+1],p);return u[g](v)};return n?p=>h(Xi(t[0],t[i-1],p)):h}function WJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ff(0,e,r);t.push(_t(n,1,s))}}function GJ(t){const e=[0];return WJ(e,t.length-1),e}function HJ(t,e){return t.map(n=>n*e)}function QJ(t,e){return t.map(()=>e||rM).splice(0,t.length-1)}function Lh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=oJ(r)?r.map(eD):eD(r),i={done:!1,value:e[0]},a=HJ(n&&n.length===e.length?n:GJ(e),t),u=$J(a,e,{ease:Array.isArray(s)?s:QJ(e,s)});return{calculatedDuration:t,next:c=>(i.value=u(c),i.done=c>=t,i)}}const YJ=t=>t!==null;function SC(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(YJ),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const XJ={decay:Yb,inertia:Yb,tween:Lh,keyframes:Lh,spring:sy};function gM(t){typeof t.type=="string"&&(t.type=XJ[t.type])}class TC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const JJ=t=>t/100;class _C extends TC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==hr.now()&&this.tick(hr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;gM(e);const{type:n=Lh,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:u}=e;const c=n||Lh;c!==Lh&&typeof u[0]!="number"&&(this.mixKeyframes=Kf(JJ,fM(u[0],u[1])),u=[0,100]);const h=c({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=EC(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:k,type:_,onUpdate:S,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let M=this.currentTime,F=r;if(g){const D=Math.min(this.currentTime,s)/u;let P=Math.floor(D),O=D%1;!O&&D>=1&&(O=1),O===1&&P--,P=Math.min(P,g+1),P%2&&(v==="reverse"?(O=1-O,k&&(O-=k/u)):v==="mirror"&&(F=a)),M=Xi(0,1,O)*u}const z=A?{done:!1,value:p[0]}:F.next(M);i&&(z.value=i(z.value));let{done:W}=z;!A&&c!==null&&(W=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return R&&_!==Yb&&(z.value=SC(p,this.options,T,this.speed)),S&&S(z.value),R&&this.finish(),z}then(e,n){return this.finished.then(e,n)}get duration(){return Yr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yr(e)}get time(){return Yr(this.currentTime)}set time(e){var n;e=ri(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Yr(this.currentTime))}play(){var e,n;if(this.isStopped)return;const{driver:r=MJ,startTime:s}=this.options;this.driver||(this.driver=r(a=>this.tick(a))),(n=(e=this.options).onPlay)==null||n.call(e);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function ZJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const bl=t=>t*180/Math.PI,Xb=t=>{const e=bl(Math.atan2(t[1],t[0]));return Jb(e)},eZ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Xb,rotateZ:Xb,skewX:t=>bl(Math.atan(t[1])),skewY:t=>bl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Jb=t=>(t=t%360,t<0&&(t+=360),t),oD=Xb,aD=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lD=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),tZ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:aD,scaleY:lD,scale:t=>(aD(t)+lD(t))/2,rotateX:t=>Jb(bl(Math.atan2(t[6],t[5]))),rotateY:t=>Jb(bl(Math.atan2(-t[2],t[0]))),rotateZ:oD,rotate:oD,skewX:t=>bl(Math.atan(t[4])),skewY:t=>bl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Zb(t){return t.includes("scale")?1:0}function e1(t,e){if(!t||t==="none")return Zb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=tZ,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=eZ,s=u}if(!s)return Zb(e);const i=r[e],a=s[1].split(",").map(rZ);return typeof i=="function"?i(a):a[i]}const nZ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return e1(n,e)};function rZ(t){return parseFloat(t.trim())}const Zc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ed=new Set(Zc),uD=t=>t===Jc||t===Oe,sZ=new Set(["x","y","z"]),iZ=Zc.filter(t=>!sZ.has(t));function oZ(t){const e=[];return iZ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Tl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>e1(e,"x"),y:(t,{transform:e})=>e1(e,"y")};Tl.translateX=Tl.x;Tl.translateY=Tl.y;const _l=new Set;let t1=!1,n1=!1,r1=!1;function yM(){if(n1){const t=Array.from(_l).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=oZ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var u;(u=r.getValue(i))==null||u.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}n1=!1,t1=!1,_l.forEach(t=>t.complete(r1)),_l.clear()}function vM(){_l.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(n1=!0)})}function aZ(){r1=!0,vM(),yM(),r1=!1}class DC{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(_l.add(this),t1||(t1=!0,Ct.read(vM),Ct.resolveKeyframes(yM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}ZJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),_l.delete(this)}cancel(){this.state==="scheduled"&&(_l.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lZ=t=>t.startsWith("--");function uZ(t,e,n){lZ(e)?t.style.setProperty(e,n):t.style[e]=n}const cZ=mC(()=>window.ScrollTimeline!==void 0),dZ={};function hZ(t,e){const n=mC(t);return()=>dZ[e]??n()}const wM=hZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,cD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sh([0,.65,.55,1]),circOut:Sh([.55,0,1,.45]),backIn:Sh([.31,.01,.66,-.59]),backOut:Sh([.33,1.53,.69,.99])};function bM(t,e){if(t)return typeof t=="function"?wM()?pM(t,e):"ease-out":sM(t)?Sh(t):Array.isArray(t)?t.map(n=>bM(n,e)||cD.easeOut):cD[t]}function fZ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:u="easeOut",times:c}={},h=void 0){const p={[e]:n};c&&(p.offset=c);const g=bM(u,s);Array.isArray(g)&&(p.easing=g);const v={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),t.animate(p,v)}function xM(t){return typeof t=="function"&&"applyToOptions"in t}function pZ({type:t,...e}){return xM(t)&&wM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mZ extends TC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,pC(typeof e.type!="string");const h=pZ(e);this.animation=fZ(n,r,s,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=SC(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):uZ(n,r,p),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var e,n;const r=((n=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:n.call(e).duration)||0;return Yr(Number(r))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yr(e)}get time(){return Yr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ri(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&cZ()?(this.animation.timeline=e,Zr):n(this)}}const CM={anticipate:eM,backInOut:Z4,circInOut:nM};function gZ(t){return t in CM}function yZ(t){typeof t.ease=="string"&&gZ(t.ease)&&(t.ease=CM[t.ease])}const dD=10;class vZ extends mZ{constructor(e){yZ(e),gM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new _C({...a,autoplay:!1}),c=ri(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-dD).value,u.sample(c).value,dD),u.stop()}}const hD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ga.test(t)||t==="0")&&!t.startsWith("url("));function wZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function bZ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=hD(s,e),u=hD(i,e);return!a||!u?!1:wZ(t)||(n==="spring"||xM(n))&&r}function s1(t){t.duration=0,t.type="keyframes"}const xZ=new Set(["opacity","clipPath","filter","transform"]),CZ=mC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kZ(t){var e;const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:u}=t;if(!(((e=n==null?void 0:n.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=n.owner.getProps();return CZ()&&r&&xZ.has(r)&&(r!=="transform"||!h)&&!c&&!s&&i!=="mirror"&&a!==0&&u!=="inertia"}const EZ=40;class SZ extends TC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:u,name:c,motionValue:h,element:p,...g}){var v;super(),this.stop=()=>{var S,T;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=hr.now();const k={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:h,element:p,...g},_=(p==null?void 0:p.KeyframeResolver)||DC;this.keyframeResolver=new _(u,(S,T,N)=>this.onKeyframesResolved(S,T,k,!N),c,h,p),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:u,delay:c,isHandoff:h,onUpdate:p}=r;this.resolvedAt=hr.now(),bZ(e,i,a,u)||((Ji.instantAnimations||!c)&&(p==null||p(SC(e,r,n))),e[0]=e[e.length-1],s1(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>EZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!h&&kZ(g)?new vZ({...g,element:g.motionValue.owner.current}):new _C(g);v.finished.then(()=>this.notifyFinished()).catch(Zr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),aZ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const TZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _Z(t){const e=TZ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function kM(t,e,n=1){const[r,s]=_Z(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return $4(a)?parseFloat(a):a}return bC(s)?kM(s,e,n+1):s}function IC(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const EM=new Set(["width","height","top","left","right","bottom",...Zc]),DZ={test:t=>t==="auto",parse:t=>t},SM=t=>e=>e.test(t),TM=[Jc,Oe,si,Ho,wJ,vJ,DZ],fD=t=>TM.find(SM(t));function IZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||G4(t):!0}const NZ=new Set(["brightness","contrast","saturate","opacity"]);function PZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(xC)||[];if(!r)return t;const s=n.replace(r,"");let i=NZ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const AZ=/\b([a-z-]*)\(.*?\)/gu,i1={...ga,getAnimatableNone:t=>{const e=t.match(AZ);return e?e.map(PZ).join(" "):t}},pD={...Jc,transform:Math.round},RZ={rotate:Ho,rotateX:Ho,rotateY:Ho,rotateZ:Ho,scale:Mm,scaleX:Mm,scaleY:Mm,scaleZ:Mm,skew:Ho,skewX:Ho,skewY:Ho,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:pf,originX:tD,originY:tD,originZ:Oe},NC={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...RZ,zIndex:pD,fillOpacity:pf,strokeOpacity:pf,numOctaves:pD},jZ={...NC,color:cn,backgroundColor:cn,outlineColor:cn,fill:cn,stroke:cn,borderColor:cn,borderTopColor:cn,borderRightColor:cn,borderBottomColor:cn,borderLeftColor:cn,filter:i1,WebkitFilter:i1},_M=t=>jZ[t];function DM(t,e){let n=_M(t);return n!==i1&&(n=ga),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MZ=new Set(["auto","none","0"]);function OZ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!MZ.has(i)&&mf(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=DM(n,s)}class LZ extends DC{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),bC(h))){const p=kM(h,n.current);p!==void 0&&(e[c]=p),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!EM.has(r)||e.length!==2)return;const[s,i]=e,a=fD(s),u=fD(i);if(a!==u)if(uD(a)&&uD(u))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else Tl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||IZ(e[s]))&&r.push(s);r.length&&OZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,u=s[a];s[a]=Tl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([c,h])=>{n.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function BZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const IM=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function VZ(t){return W4(t)&&"offsetHeight"in t}const mD=30,FZ=t=>!isNaN(parseFloat(t));class UZ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=hr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=hr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=FZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gC);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mD)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mD);return H4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bc(t,e){return new UZ(t,e)}const{schedule:PC}=iM(queueMicrotask,!1),fs={x:!1,y:!1};function NM(){return fs.x||fs.y}function zZ(t){return t==="x"||t==="y"?fs[t]?null:(fs[t]=!0,()=>{fs[t]=!1}):fs.x||fs.y?null:(fs.x=fs.y=!0,()=>{fs.x=fs.y=!1})}function PM(t,e){const n=BZ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function gD(t){return!(t.pointerType==="touch"||NM())}function qZ(t,e,n={}){const[r,s,i]=PM(t,n),a=u=>{if(!gD(u))return;const{target:c}=u,h=e(c,u);if(typeof h!="function"||!c)return;const p=g=>{gD(g)&&(h(g),c.removeEventListener("pointerleave",p))};c.addEventListener("pointerleave",p,s)};return r.forEach(u=>{u.addEventListener("pointerenter",a,s)}),i}const AM=(t,e)=>e?t===e?!0:AM(t,e.parentElement):!1,AC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,KZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $Z(t){return KZ.has(t.tagName)||t.tabIndex!==-1}const ug=new WeakSet;function yD(t){return e=>{e.key==="Enter"&&t(e)}}function Iw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const WZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=yD(()=>{if(ug.has(n))return;Iw(n,"down");const s=yD(()=>{Iw(n,"up")}),i=()=>Iw(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function vD(t){return AC(t)&&!NM()}function GZ(t,e,n={}){const[r,s,i]=PM(t,n),a=u=>{const c=u.currentTarget;if(!vD(u))return;ug.add(c);const h=e(c,u),p=(k,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),ug.has(c)&&ug.delete(c),vD(k)&&typeof h=="function"&&h(k,{success:_})},g=k=>{p(k,c===window||c===document||n.useGlobalTarget||AM(c,k.target))},v=k=>{p(k,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",a,s),VZ(u)&&(u.addEventListener("focus",c=>WZ(c,s)),!$Z(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function RM(t){return W4(t)&&"ownerSVGElement"in t}function HZ(t){return RM(t)&&t.tagName==="svg"}const zn=t=>!!(t&&t.getVelocity),QZ=[...TM,cn,ga],YZ=t=>QZ.find(SM(t)),jM=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function XZ(t=!0){const e=C.useContext(dC);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=C.useId();C.useEffect(()=>{if(t)return s(i)},[t]);const a=C.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const MM=C.createContext({strict:!1}),wD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vc={};for(const t in wD)Vc[t]={isEnabled:e=>wD[t].some(n=>!!e[n])};function JZ(t){for(const e in t)Vc[e]={...Vc[e],...t[e]}}const ZZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function iy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ZZ.has(t)}let OM=t=>!iy(t);function eee(t){typeof t=="function"&&(OM=e=>e.startsWith("on")?!iy(e):t(e))}try{eee(require("@emotion/is-prop-valid").default)}catch{}function tee(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(OM(s)||n===!0&&iy(s)||!e&&!iy(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const ov=C.createContext({});function av(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gf(t){return typeof t=="string"||Array.isArray(t)}const RC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jC=["initial",...RC];function lv(t){return av(t.animate)||jC.some(e=>gf(t[e]))}function LM(t){return!!(lv(t)||t.variants)}function nee(t,e){if(lv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gf(n)?n:void 0,animate:gf(r)?r:void 0}}return t.inherit!==!1?e:{}}function ree(t){const{initial:e,animate:n}=nee(t,C.useContext(ov));return C.useMemo(()=>({initial:e,animate:n}),[bD(e),bD(n)])}function bD(t){return Array.isArray(t)?t.join(" "):t}const yf={};function see(t){for(const e in t)yf[e]=t[e],wC(e)&&(yf[e].isCSSVariable=!0)}function BM(t,{layout:e,layoutId:n}){return ed.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yf[t]||t==="opacity")}const iee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oee=Zc.length;function aee(t,e,n){let r="",s=!0;for(let i=0;i<oee;i++){const a=Zc[i],u=t[a];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(a.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const h=IM(u,NC[a]);if(!c){s=!1;const p=iee[a]||a;r+=`${p}(${h}) `}n&&(e[a]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function MC(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,u=!1;for(const c in e){const h=e[c];if(ed.has(c)){a=!0;continue}else if(wC(c)){s[c]=h;continue}else{const p=IM(h,NC[c]);c.startsWith("origin")?(u=!0,i[c]=p):r[c]=p}}if(e.transform||(a||n?r.transform=aee(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:h="50%",originZ:p=0}=i;r.transformOrigin=`${c} ${h} ${p}`}}const OC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VM(t,e,n){for(const r in e)!zn(e[r])&&!BM(r,n)&&(t[r]=e[r])}function lee({transformTemplate:t},e){return C.useMemo(()=>{const n=OC();return MC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function uee(t,e){const n=t.style||{},r={};return VM(r,n,t),Object.assign(r,lee(t,e)),r}function cee(t,e){const n={},r=uee(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const dee={offset:"stroke-dashoffset",array:"stroke-dasharray"},hee={offset:"strokeDashoffset",array:"strokeDasharray"};function fee(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?dee:hee;t[i.offset]=Oe.transform(-r);const a=Oe.transform(e),u=Oe.transform(n);t[i.array]=`${a} ${u}`}function FM(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...u},c,h,p){if(MC(t,u,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&fee(g,s,i,a,!1)}const UM=()=>({...OC(),attrs:{}}),zM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pee(t,e,n,r){const s=C.useMemo(()=>{const i=UM();return FM(i,e,zM(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};VM(i,t.style,t),s.style={...i,...s.style}}return s}const mee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LC(t){return typeof t!="string"||t.includes("-")?!1:!!(mee.indexOf(t)>-1||/[A-Z]/u.test(t))}function gee(t,e,n,{latestValues:r},s,i=!1){const a=(LC(t)?pee:cee)(e,r,s,t),u=tee(e,typeof t=="string",i),c=t!==C.Fragment?{...u,...a,ref:n}:{},{children:h}=e,p=C.useMemo(()=>zn(h)?h.get():h,[h]);return C.createElement(t,{...c,children:p})}function xD(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function BC(t,e,n,r){if(typeof e=="function"){const[s,i]=xD(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=xD(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function cg(t){return zn(t)?t.get():t}function yee({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:vee(n,r,s,t),renderState:e()}}function vee(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=cg(i[v]);let{initial:a,animate:u}=t;const c=lv(t),h=LM(t);e&&h&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const g=p?u:a;if(g&&typeof g!="boolean"&&!av(g)){const v=Array.isArray(g)?g:[g];for(let k=0;k<v.length;k++){const _=BC(t,v[k]);if(_){const{transitionEnd:S,transition:T,...N}=_;for(const A in N){let M=N[A];if(Array.isArray(M)){const F=p?M.length-1:0;M=M[F]}M!==null&&(s[A]=M)}for(const A in S)s[A]=S[A]}}}return s}const qM=t=>(e,n)=>{const r=C.useContext(ov),s=C.useContext(dC),i=()=>yee(t,e,r,s);return n?i():JX(i)};function VC(t,e,n){var r;const{style:s}=t,i={};for(const a in s)(zn(s[a])||e.style&&zn(e.style[a])||BM(a,t)||((r=n==null?void 0:n.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}const wee=qM({scrapeMotionValuesFromProps:VC,createRenderState:OC});function KM(t,e,n){const r=VC(t,e,n);for(const s in t)if(zn(t[s])||zn(e[s])){const i=Zc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const bee=qM({scrapeMotionValuesFromProps:KM,createRenderState:UM}),xee=Symbol.for("motionComponentSymbol");function dc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Cee(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):dc(n)&&(n.current=r))},[e])}const FC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kee="framerAppearId",$M="data-"+FC(kee),WM=C.createContext({});function Eee(t,e,n,r,s){var i,a;const{visualElement:u}=C.useContext(ov),c=C.useContext(MM),h=C.useContext(dC),p=C.useContext(jM).reducedMotion,g=C.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,k=C.useContext(WM);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&See(g.current,n,s,k);const _=C.useRef(!1);C.useInsertionEffect(()=>{v&&_.current&&v.update(n,h)});const S=n[$M],T=C.useRef(!!S&&!((i=window.MotionHandoffIsComplete)!=null&&i.call(window,S))&&((a=window.MotionHasOptimisedAnimation)==null?void 0:a.call(window,S)));return ZX(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),T.current&&v.animationState&&v.animationState.animateChanges())}),C.useEffect(()=>{v&&(!T.current&&v.animationState&&v.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,S)}),T.current=!1),v.enteringChildren=void 0)}),v}function See(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:u,layoutScroll:c,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:GM(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||u&&dc(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:c,layoutRoot:h})}function GM(t){if(t)return t.options.allowProjection!==!1?t.projection:GM(t.parent)}function Nw(t,{forwardMotionProps:e=!1}={},n,r){n&&JZ(n);const s=LC(t)?bee:wee;function i(u,c){let h;const p={...C.useContext(jM),...u,layoutId:Tee(u)},{isStatic:g}=p,v=ree(u),k=s(u,g);if(!g&&cC){_ee();const _=Dee(p);h=_.MeasureLayout,v.visualElement=Eee(t,k,p,r,_.ProjectionNode)}return x.jsxs(ov.Provider,{value:v,children:[h&&v.visualElement?x.jsx(h,{visualElement:v.visualElement,...p}):null,gee(t,u,Cee(k,v.visualElement,c),k,g,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=C.forwardRef(i);return a[xee]=t,a}function Tee({layoutId:t}){const e=C.useContext(K4).id;return e&&t!==void 0?e+"-"+t:t}function _ee(t,e){C.useContext(MM).strict}function Dee(t){const{drag:e,layout:n}=Vc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Iee(t,e){if(typeof Proxy>"u")return Nw;const n=new Map,r=(i,a)=>Nw(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,Nw(a,void 0,t,e)),n.get(a))})}function HM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Nee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Pee(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Pw(t){return t===void 0||t===1}function o1({scale:t,scaleX:e,scaleY:n}){return!Pw(t)||!Pw(e)||!Pw(n)}function cl(t){return o1(t)||QM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function QM(t){return CD(t.x)||CD(t.y)}function CD(t){return t&&t!=="0%"}function oy(t,e,n){const r=t-n,s=e*r;return n+s}function kD(t,e,n,r,s){return s!==void 0&&(t=oy(t,s,r)),oy(t,n,r)+e}function a1(t,e=0,n=1,r,s){t.min=kD(t.min,e,n,r,s),t.max=kD(t.max,e,n,r,s)}function YM(t,{x:e,y:n}){a1(t.x,e.translate,e.scale,e.originPoint),a1(t.y,n.translate,n.scale,n.originPoint)}const ED=.999999999999,SD=1.0000000000001;function Aee(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let u=0;u<s;u++){i=n[u],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,YM(t,a)),r&&cl(i.latestValues)&&fc(t,i.latestValues))}e.x<SD&&e.x>ED&&(e.x=1),e.y<SD&&e.y>ED&&(e.y=1)}function hc(t,e){t.min=t.min+e,t.max=t.max+e}function TD(t,e,n,r,s=.5){const i=_t(t.min,t.max,s);a1(t,e,n,i,r)}function fc(t,e){TD(t.x,e.x,e.scaleX,e.scale,e.originX),TD(t.y,e.y,e.scaleY,e.scale,e.originY)}function XM(t,e){return HM(Pee(t.getBoundingClientRect(),e))}function Ree(t,e,n){const r=XM(t,n),{scroll:s}=e;return s&&(hc(r.x,s.offset.x),hc(r.y,s.offset.y)),r}const _D=()=>({translate:0,scale:1,origin:0,originPoint:0}),pc=()=>({x:_D(),y:_D()}),DD=()=>({min:0,max:0}),on=()=>({x:DD(),y:DD()}),l1={current:null},JM={current:!1};function jee(){if(JM.current=!0,!!cC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>l1.current=t.matches;t.addEventListener("change",e),e()}else l1.current=!1}const Mee=new WeakMap;function Oee(t,e,n){for(const r in e){const s=e[r],i=n[r];if(zn(s))t.addValue(r,s);else if(zn(i))t.addValue(r,Bc(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Bc(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ID=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Lee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=DC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=hr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Ct.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=lv(n),this.isVariantNode=LM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const k=g[v];c[v]!==void 0&&zn(k)&&k.set(c[v])}}mount(e){var n;this.current=e,Mee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),JM.current||jee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:l1.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ma(this.notifyUpdate),ma(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ed.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vc){const n=Vc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ID.length;r++){const s=ID[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Oee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Bc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&($4(r)||G4(r))?r=parseFloat(r):!YZ(r)&&ga.test(n)&&(r=DM(e,n)),this.setBaseTarget(e,zn(r)?r.get():r)),zn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=BC(this.props,r,(n=this.presenceContext)==null?void 0:n.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!zn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){PC.render(this.render)}}class ZM extends Lee{constructor(){super(...arguments),this.KeyframeResolver=LZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function eO(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function Bee(t){return window.getComputedStyle(t)}class Vee extends ZM{constructor(){super(...arguments),this.type="html",this.renderInstance=eO}readValueFromInstance(e,n){var r;if(ed.has(n))return(r=this.projection)!=null&&r.isProjecting?Zb(n):nZ(e,n);{const s=Bee(e),i=(wC(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return XM(e,n)}build(e,n,r){MC(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return VC(e,n,r)}}const tO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fee(t,e,n,r){eO(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(tO.has(s)?s:FC(s),e.attrs[s])}class Uee extends ZM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ed.has(n)){const r=_M(n);return r&&r.default||0}return n=tO.has(n)?n:FC(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return KM(e,n,r)}build(e,n,r){FM(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Fee(e,n,r,s)}mount(e){this.isSVGTag=zM(e.tagName),super.mount(e)}}const zee=(t,e)=>LC(t)?new Uee(e):new Vee(e,{allowProjection:t!==C.Fragment});function Cc(t,e,n){const r=t.getProps();return BC(r,e,n!==void 0?n:r.custom,t)}const u1=t=>Array.isArray(t);function qee(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Bc(n))}function Kee(t){return u1(t)?t[t.length-1]||0:t}function $ee(t,e){const n=Cc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const u=Kee(i[a]);qee(t,a,u)}}function Wee(t){return!!(zn(t)&&t.add)}function c1(t,e){const n=t.getValue("willChange");if(Wee(n))return n.add(e);if(!n&&Ji.WillChange){const r=new Ji.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function nO(t){return t.props[$M]}const Gee=t=>t!==null;function Hee(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Gee),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const Qee={type:"spring",stiffness:500,damping:25,restSpeed:10},Yee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Xee={type:"keyframes",duration:.8},Jee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zee=(t,{keyframes:e})=>e.length>2?Xee:ed.has(t)?t.startsWith("scale")?Yee(e[1]):Qee:Jee;function ete({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:u,from:c,elapsed:h,...p}){return!!Object.keys(p).length}const UC=(t,e,n,r={},s,i)=>a=>{const u=IC(r,t)||{},c=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-ri(c);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:s};ete(u)||Object.assign(p,Zee(t,p)),p.duration&&(p.duration=ri(p.duration)),p.repeatDelay&&(p.repeatDelay=ri(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(s1(p),p.delay===0&&(g=!0)),(Ji.instantAnimations||Ji.skipAnimations)&&(g=!0,s1(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!i&&e.get()!==void 0){const v=Hee(p.keyframes,u);if(v!==void 0){Ct.update(()=>{p.onUpdate(v),p.onComplete()});return}}return u.isSync?new _C(p):new SZ(p)};function tte({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function rO(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...u}=e;r&&(i=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),v=u[p];if(v===void 0||h&&tte(h,p))continue;const k={delay:n,...IC(i||{},p)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===_&&!k.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const N=nO(t);if(N){const A=window.MotionHandoffAnimation(N,p,Ct);A!==null&&(k.startTime=A,S=!0)}}c1(t,p),g.start(UC(p,g,v,t.shouldReduceMotion&&EM.has(p)?{type:!1}:k,t,S));const T=g.animation;T&&c.push(T)}return a&&Promise.all(c).then(()=>{Ct.update(()=>{a&&$ee(t,a)})}),c}function sO(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),a=t.size,u=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:u-i*r}function d1(t,e,n={}){var r;const s=Cc(t,e,n.type==="exit"?(r=t.presenceContext)==null?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(rO(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=i;return nte(t,e,h,p,g,v,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,p]=c==="beforeChildren"?[a,u]:[u,a];return h().then(()=>p())}else return Promise.all([a(),u(n.delay)])}function nte(t,e,n=0,r=0,s=0,i=1,a){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(d1(c,e,{...a,delay:n+(typeof r=="function"?0:r)+sO(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function rte(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>d1(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=d1(t,e,n);else{const s=typeof e=="function"?Cc(t,e,n.custom):e;r=Promise.all(rO(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function iO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const ste=jC.length;function oO(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?oO(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ste;n++){const r=jC[n],s=t.props[r];(gf(s)||s===!1)&&(e[r]=s)}return e}const ite=[...RC].reverse(),ote=RC.length;function ate(t){return e=>Promise.all(e.map(({animation:n,options:r})=>rte(t,n,r)))}function lte(t){let e=ate(t),n=ND(),r=!0;const s=c=>(h,p)=>{var g;const v=Cc(t,p,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(v){const{transition:k,transitionEnd:_,...S}=v;h={...h,...S,..._}}return h};function i(c){e=c(t)}function a(c){const{props:h}=t,p=oO(t.parent)||{},g=[],v=new Set;let k={},_=1/0;for(let T=0;T<ote;T++){const N=ite[T],A=n[N],M=h[N]!==void 0?h[N]:p[N],F=gf(M),z=N===c?A.isActive:null;z===!1&&(_=T);let W=M===p[N]&&M!==h[N]&&F;if(W&&r&&t.manuallyAnimateOnMount&&(W=!1),A.protectedKeys={...k},!A.isActive&&z===null||!M&&!A.prevProp||av(M)||typeof M=="boolean")continue;const R=ute(A.prevProp,M);let D=R||N===c&&A.isActive&&!W&&F||T>_&&F,P=!1;const O=Array.isArray(M)?M:[M];let V=O.reduce(s(N),{});z===!1&&(V={});const{prevResolvedValues:q={}}=A,L={...q,...V},Ee=ye=>{D=!0,v.has(ye)&&(P=!0,v.delete(ye)),A.needsAnimating[ye]=!0;const ve=t.getValue(ye);ve&&(ve.liveStyle=!1)};for(const ye in L){const ve=V[ye],H=q[ye];if(k.hasOwnProperty(ye))continue;let ne=!1;u1(ve)&&u1(H)?ne=!iO(ve,H):ne=ve!==H,ne?ve!=null?Ee(ye):v.add(ye):ve!==void 0&&v.has(ye)?Ee(ye):A.protectedKeys[ye]=!0}A.prevProp=M,A.prevResolvedValues=V,A.isActive&&(k={...k,...V}),r&&t.blockInitialAnimation&&(D=!1);const Ae=W&&R;D&&(!Ae||P)&&g.push(...O.map(ye=>{const ve={type:N};if(typeof ye=="string"&&r&&!Ae&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,ne=Cc(H,ye);if(H.enteringChildren&&ne){const{delayChildren:oe}=ne.transition||{};ve.delay=sO(H.enteringChildren,t,oe)}}return{animation:ye,options:ve}}))}if(v.size){const T={};if(typeof h.initial!="boolean"){const N=Cc(t,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(T.transition=N.transition)}v.forEach(N=>{const A=t.getBaseTarget(N),M=t.getValue(N);M&&(M.liveStyle=!0),T[N]=A??null}),g.push({animation:T})}let S=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(g):Promise.resolve()}function u(c,h){var p;if(n[c].isActive===h)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(v=>{var k;return(k=v.animationState)==null?void 0:k.setActive(c,h)}),n[c].isActive=h;const g=a(c);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:a,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=ND()}}}function ute(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!iO(e,t):!1}function il(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ND(){return{animate:il(!0),whileInView:il(),whileHover:il(),whileTap:il(),whileDrag:il(),whileFocus:il(),exit:il()}}class xa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cte extends xa{constructor(e){super(e),e.animationState||(e.animationState=lte(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();av(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let dte=0;class hte extends xa{constructor(){super(...arguments),this.id=dte++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const fte={animation:{Feature:cte},exit:{Feature:hte}};function vf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Gf(t){return{point:{x:t.pageX,y:t.pageY}}}const pte=t=>e=>AC(e)&&t(e,Gf(e));function Bh(t,e,n,r){return vf(t,e,pte(n),r)}const aO=1e-4,mte=1-aO,gte=1+aO,lO=.01,yte=0-lO,vte=0+lO;function Qn(t){return t.max-t.min}function wte(t,e,n){return Math.abs(t-e)<=n}function PD(t,e,n,r=.5){t.origin=r,t.originPoint=_t(e.min,e.max,t.origin),t.scale=Qn(n)/Qn(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=mte&&t.scale<=gte||isNaN(t.scale))&&(t.scale=1),(t.translate>=yte&&t.translate<=vte||isNaN(t.translate))&&(t.translate=0)}function Vh(t,e,n,r){PD(t.x,e.x,n.x,r?r.originX:void 0),PD(t.y,e.y,n.y,r?r.originY:void 0)}function AD(t,e,n){t.min=n.min+e.min,t.max=t.min+Qn(e)}function bte(t,e,n){AD(t.x,e.x,n.x),AD(t.y,e.y,n.y)}function RD(t,e,n){t.min=e.min-n.min,t.max=t.min+Qn(e)}function Fh(t,e,n){RD(t.x,e.x,n.x),RD(t.y,e.y,n.y)}function Kr(t){return[t("x"),t("y")]}const uO=({current:t})=>t?t.ownerDocument.defaultView:null,jD=(t,e)=>Math.abs(t-e);function xte(t,e){const n=jD(t.x,e.x),r=jD(t.y,e.y);return Math.sqrt(n**2+r**2)}class cO{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Rw(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,_=xte(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!_)return;const{point:S}=v,{timestamp:T}=In;this.history.push({...S,timestamp:T});const{onStart:N,onMove:A}=this.handlers;k||(N&&N(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,v)},this.handlePointerMove=(v,k)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Aw(k,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(v,k)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Rw(v.type==="pointercancel"?this.lastMoveEventInfo:Aw(k,this.transformPagePoint),this.history);this.startEvent&&_&&_(v,N),S&&S(v,N)},!AC(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const u=Gf(e),c=Aw(u,this.transformPagePoint),{point:h}=c,{timestamp:p}=In;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Rw(c,this.history)),this.removeListeners=Kf(Bh(this.contextWindow,"pointermove",this.handlePointerMove),Bh(this.contextWindow,"pointerup",this.handlePointerUp),Bh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ma(this.updatePoint)}}function Aw(t,e){return e?{point:e(t.point)}:t}function MD(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rw({point:t},e){return{point:t,delta:MD(t,dO(e)),offset:MD(t,Cte(e)),velocity:kte(e,.1)}}function Cte(t){return t[0]}function dO(t){return t[t.length-1]}function kte(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=dO(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ri(e)));)n--;if(!r)return{x:0,y:0};const i=Yr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Ete(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_t(n,t,r.max):Math.min(t,n)),t}function OD(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ste(t,{top:e,left:n,bottom:r,right:s}){return{x:OD(t.x,n,s),y:OD(t.y,e,r)}}function LD(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Tte(t,e){return{x:LD(t.x,e.x),y:LD(t.y,e.y)}}function _te(t,e){let n=.5;const r=Qn(t),s=Qn(e);return s>r?n=ff(e.min,e.max-r,t.min):r>s&&(n=ff(t.min,t.max-s,e.min)),Xi(0,1,n)}function Dte(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const h1=.35;function Ite(t=h1){return t===!1?t=0:t===!0&&(t=h1),{x:BD(t,"left","right"),y:BD(t,"top","bottom")}}function BD(t,e,n){return{min:VD(t,e),max:VD(t,n)}}function VD(t,e){return typeof t=="number"?t:t[e]||0}const Nte=new WeakMap;class Pte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Gf(g).point)},a=(g,v)=>{const{drag:k,dragPropagation:_,onDragStart:S}=this.getProps();if(k&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zZ(k),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kr(N=>{let A=this.getAxisMotionValue(N).get()||0;if(si.test(A)){const{projection:M}=this.visualElement;if(M&&M.layout){const F=M.layout.layoutBox[N];F&&(A=Qn(F)*(parseFloat(A)/100))}}this.originPoint[N]=A}),S&&Ct.postRender(()=>S(g,v)),c1(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:k,dragDirectionLock:_,onDirectionLock:S,onDrag:T}=this.getProps();if(!k&&!this.openDragLock)return;const{offset:N}=v;if(_&&this.currentDirection===null){this.currentDirection=Ate(N),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,N),this.updateAxis("y",v.point,N),this.visualElement.render(),T&&T(g,v)},c=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Kr(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new cO(e,{onSessionStart:i,onStart:a,onMove:u,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:uO(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&Ct.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Om(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Ete(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,i=this.constraints;n&&dc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Ste(s.layoutBox,n):this.constraints=!1,this.elastic=Ite(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Kr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Dte(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Ree(r,s.root,this.visualElement.getTransformPagePoint());let a=Tte(s.layout.layoutBox,i);if(n){const u=n(Nee(a));this.hasMutatedConstraints=!!u,u&&(a=HM(u))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},h=Kr(p=>{if(!Om(p,n,this.currentDirection))return;let g=c&&c[p]||{};a&&(g={min:0,max:0});const v=s?200:1e6,k=s?40:1e7,_={type:"inertia",velocity:r?e[p]:0,bounceStiffness:v,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(p,_)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return c1(this.visualElement,e),r.start(UC(e,r,0,n,this.visualElement,!1))}stopAnimation(){Kr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Kr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Kr(n=>{const{drag:r}=this.getProps();if(!Om(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:u}=s.layout.layoutBox[n];i.set(e[n]-_t(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!dc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Kr(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const c=u.get();s[a]=_te({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kr(a=>{if(!Om(a,e,null))return;const u=this.getAxisMotionValue(a),{min:c,max:h}=this.constraints[a];u.set(_t(c,h,s[a]))})}addListeners(){if(!this.visualElement.current)return;Nte.set(this.visualElement,this);const e=this.visualElement.current,n=Bh(e,"pointerdown",c=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();dc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ct.read(r);const a=vf(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(Kr(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=c[p].translate,g.set(g.get()+c[p].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=h1,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:u}}}function Om(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ate(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Rte extends xa{constructor(e){super(e),this.removeGroupControls=Zr,this.removeListeners=Zr,this.controls=new Pte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const FD=t=>(e,n)=>{t&&Ct.postRender(()=>t(e,n))};class jte extends xa{constructor(){super(...arguments),this.removePointerDownListener=Zr}onPointerDown(e){this.session=new cO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:FD(e),onStart:FD(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Ct.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Bh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=UD(t,e.target.x),r=UD(t,e.target.y);return`${n}% ${r}%`}},Mte={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ga.parse(t);if(s.length>5)return r;const i=ga.createTransformer(t),a=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=u,s[1+a]/=c;const h=_t(u,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=h),typeof s[3+a]=="number"&&(s[3+a]/=h),i(s)}};let jw=!1;class Ote extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;see(Lte),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),jw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),dg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,jw=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Ct.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),PC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;jw=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hO(t){const[e,n]=XZ(),r=C.useContext(K4);return x.jsx(Ote,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(WM),isPresent:e,safeToRemove:n})}const Lte={borderRadius:{...gh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gh,borderTopRightRadius:gh,borderBottomLeftRadius:gh,borderBottomRightRadius:gh,boxShadow:Mte};function Bte(t,e,n){const r=zn(t)?t:Bc(t);return r.start(UC("",r,e,n)),r.animation}const Vte=(t,e)=>t.depth-e.depth;class Fte{constructor(){this.children=[],this.isDirty=!1}add(e){hC(this.children,e),this.isDirty=!0}remove(e){fC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Vte),this.isDirty=!1,this.children.forEach(e)}}function Ute(t,e){const n=hr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ma(r),t(i-e))};return Ct.setup(r,!0),()=>ma(r)}const fO=["TopLeft","TopRight","BottomLeft","BottomRight"],zte=fO.length,zD=t=>typeof t=="string"?parseFloat(t):t,qD=t=>typeof t=="number"||Oe.test(t);function qte(t,e,n,r,s,i){s?(t.opacity=_t(0,n.opacity??1,Kte(r)),t.opacityExit=_t(e.opacity??1,0,$te(r))):i&&(t.opacity=_t(e.opacity??1,n.opacity??1,r));for(let a=0;a<zte;a++){const u=`border${fO[a]}Radius`;let c=KD(e,u),h=KD(n,u);c===void 0&&h===void 0||(c||(c=0),h||(h=0),c===0||h===0||qD(c)===qD(h)?(t[u]=Math.max(_t(zD(c),zD(h),r),0),(si.test(h)||si.test(c))&&(t[u]+="%")):t[u]=h)}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,r))}function KD(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Kte=pO(0,.5,tM),$te=pO(.5,.95,Zr);function pO(t,e,n){return r=>r<t?0:r>e?1:n(ff(t,e,r))}function $D(t,e){t.min=e.min,t.max=e.max}function zr(t,e){$D(t.x,e.x),$D(t.y,e.y)}function WD(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function GD(t,e,n,r,s){return t-=e,t=oy(t,1/n,r),s!==void 0&&(t=oy(t,1/s,r)),t}function Wte(t,e=0,n=1,r=.5,s,i=t,a=t){if(si.test(e)&&(e=parseFloat(e),e=_t(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=_t(i.min,i.max,r);t===i&&(u-=e),t.min=GD(t.min,e,n,u,s),t.max=GD(t.max,e,n,u,s)}function HD(t,e,[n,r,s],i,a){Wte(t,e[n],e[r],e[s],e.scale,i,a)}const Gte=["x","scaleX","originX"],Hte=["y","scaleY","originY"];function QD(t,e,n,r){HD(t.x,e,Gte,n?n.x:void 0,r?r.x:void 0),HD(t.y,e,Hte,n?n.y:void 0,r?r.y:void 0)}function YD(t){return t.translate===0&&t.scale===1}function mO(t){return YD(t.x)&&YD(t.y)}function XD(t,e){return t.min===e.min&&t.max===e.max}function Qte(t,e){return XD(t.x,e.x)&&XD(t.y,e.y)}function JD(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function gO(t,e){return JD(t.x,e.x)&&JD(t.y,e.y)}function ZD(t){return Qn(t.x)/Qn(t.y)}function eI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Yte{constructor(){this.members=[]}add(e){hC(this.members,e),e.scheduleRender()}remove(e){if(fC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Xte(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:v,skewX:k,skewY:_}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),k&&(r+=`skewX(${k}deg) `),_&&(r+=`skewY(${_}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const Mw=["","X","Y","Z"],Jte=1e3;let Zte=0;function Ow(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function yO(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=nO(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ct,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&yO(r)}function vO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},a=e==null?void 0:e()){this.id=Zte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nne),this.nodes.forEach(one),this.nodes.forEach(ane),this.nodes.forEach(rne)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fte)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new gC),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const u=this.eventHandlers.get(i);u&&u.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=RM(i)&&!HZ(i),this.instance=i;const{layoutId:a,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||a)&&(this.isLayoutDirty=!0),t){let h,p=0;const g=()=>this.root.updateBlockedByResize=!1;Ct.read(()=>{p=window.innerWidth}),t(i,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,h&&h(),h=Ute(g,250),dg.hasAnimatedSinceResize&&(dg.hasAnimatedSinceResize=!1,this.nodes.forEach(rI)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||c.getDefaultTransition()||hne,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=c.getProps(),T=!this.targetLayout||!gO(this.targetLayout,v),N=!p&&g;if(this.options.layoutRoot||this.resumeFrom||N||p&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...IC(k,"layout"),onPlay:_,onComplete:S};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(h,N)}else p||rI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lne),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ine),this.nodes.forEach(ene),this.nodes.forEach(tne)):this.nodes.forEach(nI),this.clearAllSnapshots();const i=hr.now();In.delta=Xi(0,1e3/60,i-In.timestamp),In.timestamp=i,In.isProcessing=!0,Ew.update.process(In),Ew.preRender.process(In),Ew.render.process(In),In.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,PC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sne),this.sharedNodes.forEach(une)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qn(this.snapshot.measuredBox.x)&&!Qn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!mO(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;i&&this.instance&&(a||cl(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return i&&(u=this.removeTransform(u)),fne(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return on();const u=a.measureViewportBox();if(!((i=this.scroll)!=null&&i.wasRoot||this.path.some(pne))){const{scroll:c}=this.root;c&&(hc(u.x,c.offset.x),hc(u.y,c.offset.y))}return u}removeElementScroll(i){var a;const u=on();if(zr(u,i),(a=this.scroll)!=null&&a.wasRoot)return u;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&zr(u,i),hc(u.x,p.offset.x),hc(u.y,p.offset.y))}return u}applyTransform(i,a=!1){const u=on();zr(u,i);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&fc(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),cl(h.latestValues)&&fc(u,h.latestValues)}return cl(this.latestValues)&&fc(u,this.latestValues),u}removeTransform(i){const a=on();zr(a,i);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!cl(c.latestValues))continue;o1(c.latestValues)&&c.updateSnapshot();const h=on(),p=c.measurePageBox();zr(h,p),QD(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return cl(this.latestValues)&&QD(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==In.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(a=this.parent)!=null&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=In.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),Fh(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),zr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zr(this.target,this.layout.layoutBox),YM(this.target,this.targetDelta)):zr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),Fh(this.relativeTargetOrigin,this.target,g.target),zr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||o1(this.parent.latestValues)||QM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(i=this.parent)!=null&&i.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===In.timestamp&&(c=!1),c)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;zr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;Aee(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=on());const{target:k}=a;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(WD(this.prevProjectionDelta.x,this.projectionDelta.x),WD(this.prevProjectionDelta.y,this.projectionDelta.y)),Vh(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!eI(this.projectionDelta.x,this.prevProjectionDelta.x)||!eI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),i){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pc(),this.projectionDelta=pc(),this.projectionDeltaWithTransform=pc()}setAnimationOrigin(i,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},p=pc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=on(),v=u?u.source:void 0,k=this.layout?this.layout.source:void 0,_=v!==k,S=this.getStack(),T=!S||S.members.length<=1,N=!!(_&&!T&&this.options.crossfade===!0&&!this.path.some(dne));this.animationProgress=0;let A;this.mixTargetDelta=M=>{const F=M/1e3;sI(p.x,i.x,F),sI(p.y,i.y,F),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fh(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cne(this.relativeTarget,this.relativeTargetOrigin,g,F),A&&Qte(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=on()),zr(A,this.relativeTarget)),_&&(this.animationValues=h,qte(h,c,this.latestValues,F,N,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var a,u,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{dg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bc(0)),this.currentAnimation=Bte(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),i.onUpdate&&i.onUpdate(h)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=i;if(!(!a||!u||!c)){if(this!==i&&this.layout&&c&&wO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||on();const p=Qn(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+p;const g=Qn(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+g}zr(a,u),fc(a,h),Vh(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Yte),this.sharedNodes.get(i).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())==null?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())==null?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const c={};u.z&&Ow("z",i,c,this.animationValues);for(let h=0;h<Mw.length;h++)Ow(`rotate${Mw[h]}`,i,c,this.animationValues),Ow(`skew${Mw[h]}`,i,c,this.animationValues);i.render();for(const h in c)i.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);i.scheduleRender()}applyProjectionStyles(i,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=cg(a==null?void 0:a.pointerEvents)||"",i.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=cg(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!cl(this.latestValues)&&(i.transform=u?u({},""):"none",this.hasProjected=!1);return}i.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let p=Xte(this.projectionDeltaWithTransform,this.treeScale,h);u&&(p=u(h,p)),i.transform=p;const{x:g,y:v}=this.projectionDelta;i.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,c.animationValues?i.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:i.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const k in yf){if(h[k]===void 0)continue;const{correct:_,applyTo:S,isCSSVariable:T}=yf[k],N=p==="none"?h[k]:_(h[k],c);if(S){const A=S.length;for(let M=0;M<A;M++)i[S[M]]=N}else T?this.options.visualElement.renderState.vars[k]=N:i[k]=N}this.options.layoutId&&(i.pointerEvents=c===this?cg(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(tI),this.root.sharedNodes.clear()}}}function ene(t){t.updateLayout()}function tne(t){var e;const n=((e=t.resumeFrom)==null?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?Kr(g=>{const v=a?n.measuredBox[g]:n.layoutBox[g],k=Qn(v);v.min=r[g].min,v.max=v.min+k}):wO(i,n.layoutBox,r)&&Kr(g=>{const v=a?n.measuredBox[g]:n.layoutBox[g],k=Qn(r[g]);v.max=v.min+k,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+k)});const u=pc();Vh(u,r,n.layoutBox);const c=pc();a?Vh(c,t.applyTransform(s,!0),n.measuredBox):Vh(c,r,n.layoutBox);const h=!mO(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:k}=g;if(v&&k){const _=on();Fh(_,n.layoutBox,v.layoutBox);const S=on();Fh(S,r,k.layoutBox),gO(_,S)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=_,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function nne(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rne(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sne(t){t.clearSnapshot()}function tI(t){t.clearMeasurements()}function nI(t){t.isLayoutDirty=!1}function ine(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function rI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function one(t){t.resolveTargetDelta()}function ane(t){t.calcProjection()}function lne(t){t.resetSkewAndRotation()}function une(t){t.removeLeadSnapshot()}function sI(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iI(t,e,n,r){t.min=_t(e.min,n.min,r),t.max=_t(e.max,n.max,r)}function cne(t,e,n,r){iI(t.x,e.x,n.x,r),iI(t.y,e.y,n.y,r)}function dne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hne={duration:.45,ease:[.4,0,.1,1]},oI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),aI=oI("applewebkit/")&&!oI("chrome/")?Math.round:Zr;function lI(t){t.min=aI(t.min),t.max=aI(t.max)}function fne(t){lI(t.x),lI(t.y)}function wO(t,e,n){return t==="position"||t==="preserve-aspect"&&!wte(ZD(e),ZD(n),.2)}function pne(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const mne=vO({attachResizeListener:(t,e)=>vf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lw={current:void 0},bO=vO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lw.current){const t=new mne({});t.mount(window),t.setOptions({layoutScroll:!0}),Lw.current=t}return Lw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),gne={pan:{Feature:jte},drag:{Feature:Rte,ProjectionNode:bO,MeasureLayout:hO}};function uI(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ct.postRender(()=>i(e,Gf(e)))}class yne extends xa{mount(){const{current:e}=this.node;e&&(this.unmount=qZ(e,(n,r)=>(uI(this.node,r,"Start"),s=>uI(this.node,s,"End"))))}unmount(){}}class vne extends xa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kf(vf(this.node.current,"focus",()=>this.onFocus()),vf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cI(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ct.postRender(()=>i(e,Gf(e)))}class wne extends xa{mount(){const{current:e}=this.node;e&&(this.unmount=GZ(e,(n,r)=>(cI(this.node,r,"Start"),(s,{success:i})=>cI(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const f1=new WeakMap,Bw=new WeakMap,bne=t=>{const e=f1.get(t.target);e&&e(t)},xne=t=>{t.forEach(bne)};function Cne({root:t,...e}){const n=t||document;Bw.has(n)||Bw.set(n,{});const r=Bw.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(xne,{root:t,...e})),r[s]}function kne(t,e,n){const r=Cne(e);return f1.set(t,n),r.observe(t),()=>{f1.delete(t),r.unobserve(t)}}const Ene={some:0,all:1};class Sne extends xa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Ene[s]},u=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=h?p:g;v&&v(c)};return kne(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Tne(e,n))&&this.startObserver()}unmount(){}}function Tne({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _ne={inView:{Feature:Sne},tap:{Feature:wne},focus:{Feature:vne},hover:{Feature:yne}},Dne={layout:{ProjectionNode:bO,MeasureLayout:hO}},Ine={...fte,..._ne,...gne,...Dne},sn=Iee(Ine,zee);function p1(){const t=Mx(),{user:e,loading:n}=Hx(),[r,s]=gn.useState(!1);C.useEffect(()=>{!n&&e&&t(nt("Home"))},[e,n,t]);const i=()=>{e?t(nt("Home")):s(!0)};if(n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const a=[{icon:OK,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:tg,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:Pb,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:lw,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:Ab,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:YK,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],u=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],c=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],h=[{icon:Pb,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:lw,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:Ab,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:h2,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],p=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx(sn.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),x.jsx(sn.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),x.jsx(sn.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),x.jsx(sn.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),x.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:x.jsxs("div",{className:"text-center",children:[x.jsx(sn.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse overflow-hidden",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-24 h-24 object-contain transform -rotate-12"})}),x.jsx(sn.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),x.jsx(sn.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),x.jsx(sn.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),x.jsx(sn.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),x.jsxs(sn.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[x.jsxs($r,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 text-lg font-bold shadow-xl border-0 animate-pulse",children:[x.jsx(CK,{className:"w-5 h-5 mr-2"}),"7-Day FREE Trial - All Features!"]}),x.jsxs($r,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(h2,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),x.jsxs($r,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(PR,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),x.jsxs(sn.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[x.jsxs(ti,{onClick:i,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[x.jsx(GK,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),x.jsxs(ti,{onClick:()=>{var g;return(g=document.getElementById("features"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white bg-transparent hover:bg-white hover:text-purple-600 shadow-xl transition-all",children:["See What's Inside",x.jsx(lK,{className:"w-6 h-6 ml-2"})]})]}),x.jsx(sn.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:h.map((g,v)=>{const k=g.icon;return x.jsxs(sn.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[x.jsx(k,{className:`w-10 h-10 mx-auto mb-3 ${g.color}`}),x.jsx("div",{className:"text-3xl font-black text-gray-800",children:g.value}),x.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:g.label})]},v)})})]})}),x.jsxs("div",{style:{background:"linear-gradient(90deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",padding:"14px 0 12px 0",textAlign:"center",fontWeight:"bold",fontSize:"1.1rem",letterSpacing:"0.01em",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)",borderBottom:"2px solid #fff",borderRadius:8,margin:"0 auto 24px auto",maxWidth:900},className:"mx-auto mb-8",children:[x.jsx("span",{role:"img","aria-label":"lightbulb",style:{marginRight:8},children:""}),"Best Experience: ",x.jsx("span",{style:{fontWeight:700},children:"Math Adventure"})," works best on ",x.jsx("span",{style:{textDecoration:"underline"},children:"tablets"})," and ",x.jsx("span",{style:{textDecoration:"underline"},children:"desktop computers"})," for optimal gameplay and features."]}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),x.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:p.map((g,v)=>x.jsxs(sn.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[x.jsx("div",{className:"text-7xl mb-4",children:g.emoji}),x.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:g.name}),x.jsx("p",{className:"text-gray-700 font-semibold",children:g.desc})]},v))}),x.jsxs("div",{className:"mb-16",children:[x.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:u.map((g,v)=>x.jsxs(sn.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[x.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),x.jsx("div",{className:"font-bold text-sm text-gray-800",children:g.name}),x.jsx($r,{className:"mt-2 bg-purple-500 text-white text-xs",children:g.grade})]},v))})]})]})}),x.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((g,v)=>{const k=g.icon;return x.jsxs(sn.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[x.jsxs("div",{className:`h-32 bg-gradient-to-br ${g.gradient} flex items-center justify-center relative`,children:[x.jsx("div",{className:"text-7xl",children:g.emoji}),x.jsx("div",{className:"absolute top-3 right-3",children:x.jsx(k,{className:"w-10 h-10 text-white opacity-50"})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:g.title}),x.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:g.description})]})]},v)})})]})}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsxs(sn.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),x.jsxs(sn.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),x.jsxs(sn.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:c.map((g,v)=>x.jsxs(sn.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[x.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(g.rating)].map((k,_)=>x.jsx(lw,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},_))}),x.jsx("div",{className:"text-6xl mb-4",children:g.emoji}),x.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',g.text,'"']}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-lg text-gray-800",children:g.author}),x.jsx("p",{className:"text-sm text-gray-600 font-bold",children:g.role})]})]},v))})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[x.jsx(sn.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),x.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),x.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),x.jsxs(ti,{onClick:i,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[x.jsx($K,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),x.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),x.jsx("div",{className:"bg-gray-900 text-white py-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[x.jsx("div",{className:"mb-4 flex items-center justify-center",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-16 h-16 object-contain"})}),x.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),x.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),x.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[x.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:""}),x.jsx(GR,{onSuccess:()=>t(nt("Home"))})]})})]})}const xO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD-CfwVKCbF-DwKF90JC-DVsm7u2y-CMpDuxap.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12,13,14,15,16])),Lt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Vt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Ut([4,5,6,7,8,9,10,11,12,13,14,15,16])),qt([4,5,6,7,8,9,10,11,12,13,14,15,16])),$t([4,5,6,7,8,9,10,11,12,13,14,15,16])),Gt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Qt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Xt([4,5,6,7,8,9,10,11,12,13,14,15,16]))),CO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o-DlsB7OV4-CfhTL5-j-CxIqGyFn-DdR-i3xA.js"),__vite__mapDeps([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Lt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Vt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Ut([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),qt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),$t([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Gt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Qt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Xt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7]))),kO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk-DghFmtyw-DjB8J4yd-BQPqGAFS-BMS5rB_d.js"),__vite__mapDeps([27,7,5,9,28,10,29])),Lt([27,7,5,9,28,10,29])),Vt([27,7,5,9,28,10,29])),Ut([27,7,5,9,28,10,29])),qt([27,7,5,9,28,10,29])),$t([27,7,5,9,28,10,29])),Gt([27,7,5,9,28,10,29])),Qt([27,7,5,9,28,10,29])),Xt([27,7,5,9,28,10,29]))),EO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9-CbEJ5snd-CjkzqJFV-BjfMCE-B-BeKIiMxn.js"),__vite__mapDeps([30,18,31,32,33,34,14,0,1,35,23])),Lt([30,18,31,32,33,34,14,0,1,35,23])),Vt([30,18,31,32,33,34,14,0,1,35,23])),Ut([30,18,31,32,33,34,14,0,1,35,23])),qt([30,18,31,32,33,34,14,0,1,35,23])),$t([30,18,31,32,33,34,14,0,1,35,23])),Gt([30,18,31,32,33,34,14,0,1,35,23])),Qt([30,18,31,32,33,34,14,0,1,35,23])),Xt([30,18,31,32,33,34,14,0,1,35,23]))),SO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv-Bp24DiAJ-BrPJAgIo-xKg9mO9C-CdDc7fC8.js"),__vite__mapDeps([36,18,1,19,20,10,37,24,26,5,7])),Lt([36,18,1,19,20,10,37,24,26,5,7])),Vt([36,18,1,19,20,10,37,24,26,5,7])),Ut([36,18,1,19,20,10,37,24,26,5,7])),qt([36,18,1,19,20,10,37,24,26,5,7])),$t([36,18,1,19,20,10,37,24,26,5,7])),Gt([36,18,1,19,20,10,37,24,26,5,7])),Qt([36,18,1,19,20,10,37,24,26,5,7])),Xt([36,18,1,19,20,10,37,24,26,5,7]))),TO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr-Ffel_h2u-C8GXHf8T-CRzihMLV-BmWCbwfM.js"),__vite__mapDeps([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Lt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Vt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Ut([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),qt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),$t([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Gt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Qt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Xt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25]))),_O=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u-CCYcbo7R-Oj5x0VMM-BSvNq37_-Deemju-S.js"),__vite__mapDeps([45,18,32,0,1,14,29,25,16,7])),Lt([45,18,32,0,1,14,29,25,16,7])),Vt([45,18,32,0,1,14,29,25,16,7])),Ut([45,18,32,0,1,14,29,25,16,7])),qt([45,18,32,0,1,14,29,25,16,7])),$t([45,18,32,0,1,14,29,25,16,7])),Gt([45,18,32,0,1,14,29,25,16,7])),Qt([45,18,32,0,1,14,29,25,16,7])),Xt([45,18,32,0,1,14,29,25,16,7]))),DO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb-uuJZ4FGW-ruYVavqy-CE5JpoGq-QNPTbHv4.js"),__vite__mapDeps([46,18,32,47,9,7,12,10,37,44])),Lt([46,18,32,47,9,7,12,10,37,44])),Vt([46,18,32,47,9,7,12,10,37,44])),Ut([46,18,32,47,9,7,12,10,37,44])),qt([46,18,32,47,9,7,12,10,37,44])),$t([46,18,32,47,9,7,12,10,37,44])),Gt([46,18,32,47,9,7,12,10,37,44])),Qt([46,18,32,47,9,7,12,10,37,44])),Xt([46,18,32,47,9,7,12,10,37,44]))),IO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4-BmOdg69B-CPQ46To1-CSgifZb6-DW-e3jhE.js"),__vite__mapDeps([48,18,1,9,10])),Lt([48,18,1,9,10])),Vt([48,18,1,9,10])),Ut([48,18,1,9,10])),qt([48,18,1,9,10])),$t([48,18,1,9,10])),Gt([48,18,1,9,10])),Qt([48,18,1,9,10])),Xt([48,18,1,9,10]))),NO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f-MccA_3E3-DQhvjEee--Hurig4W-YHm3Nlfo.js"),__vite__mapDeps([49,18,6,23])),Lt([49,18,6,23])),Vt([49,18,6,23])),Ut([49,18,6,23])),qt([49,18,6,23])),$t([49,18,6,23])),Gt([49,18,6,23])),Qt([49,18,6,23])),Xt([49,18,6,23]))),PO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN-oTa863JD-0sbYUKBU-CCITiMP4-CRiRFW-a.js"),__vite__mapDeps([50,51,23,3,8])),Lt([50,51,23,3,8])),Vt([50,51,23,3,8])),Ut([50,51,23,3,8])),qt([50,51,23,3,8])),$t([50,51,23,3,8])),Gt([50,51,23,3,8])),Qt([50,51,23,3,8])),Xt([50,51,23,3,8]))),AO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv-Dzw5lkMP-MKYQRKjk-7a1SNiNN-DHN6QZTH.js"),__vite__mapDeps([52,51])),Lt([52,51])),Vt([52,51])),Ut([52,51])),qt([52,51])),$t([52,51])),Gt([52,51])),Qt([52,51])),Xt([52,51]))),RO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC-CpqL9fon-Cde4ofN_-CHxxW_Er-mJBEcUgq.js"),__vite__mapDeps([53,18,39,43,15,42])),Lt([53,18,39,43,15,42])),Vt([53,18,39,43,15,42])),Ut([53,18,39,43,15,42])),qt([53,18,39,43,15,42])),$t([53,18,39,43,15,42])),Gt([53,18,39,43,15,42])),Qt([53,18,39,43,15,42])),Xt([53,18,39,43,15,42]))),jO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb-t4dmRNZn-07iJlHeK-Bz_4ad50-ChVitlyf.js"),__vite__mapDeps([54,18,40,41,34,26,16,12,13,43,21,3,55])),Lt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Vt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Ut([54,18,40,41,34,26,16,12,13,43,21,3,55])),qt([54,18,40,41,34,26,16,12,13,43,21,3,55])),$t([54,18,40,41,34,26,16,12,13,43,21,3,55])),Gt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Qt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Xt([54,18,40,41,34,26,16,12,13,43,21,3,55]))),MO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7-Dcz3eR3L-8JW9s778-D0iRmiby-CU4GmIZK.js"),__vite__mapDeps([56,41,20,16,43,10,12,13,55,21,23,42])),Lt([56,41,20,16,43,10,12,13,55,21,23,42])),Vt([56,41,20,16,43,10,12,13,55,21,23,42])),Ut([56,41,20,16,43,10,12,13,55,21,23,42])),qt([56,41,20,16,43,10,12,13,55,21,23,42])),$t([56,41,20,16,43,10,12,13,55,21,23,42])),Gt([56,41,20,16,43,10,12,13,55,21,23,42])),Qt([56,41,20,16,43,10,12,13,55,21,23,42])),Xt([56,41,20,16,43,10,12,13,55,21,23,42]))),OO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q-BfTbXhxt-BVC_lLSA-BerRSVOV-ClerinlA.js"),__vite__mapDeps([57,23,14])),Lt([57,23,14])),Vt([57,23,14])),Ut([57,23,14])),qt([57,23,14])),$t([57,23,14])),Gt([57,23,14])),Qt([57,23,14])),Xt([57,23,14]))),LO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw-Cla6mJUP-D58jAMXH-B1gXMpXZ-CEAXSvxv.js"),__vite__mapDeps([58,32,10,22,15,7,24,1,9,28,25,14,11])),Lt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Vt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Ut([58,32,10,22,15,7,24,1,9,28,25,14,11])),qt([58,32,10,22,15,7,24,1,9,28,25,14,11])),$t([58,32,10,22,15,7,24,1,9,28,25,14,11])),Gt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Qt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Xt([58,32,10,22,15,7,24,1,9,28,25,14,11]))),BO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg-qnXeUsv8-CRQgaPIC-DpX4gqt2-LP07RJwo.js"),__vite__mapDeps([59,31,47,23])),Lt([59,31,47,23])),Vt([59,31,47,23])),Ut([59,31,47,23])),qt([59,31,47,23])),$t([59,31,47,23])),Gt([59,31,47,23])),Qt([59,31,47,23])),Xt([59,31,47,23]))),VO=C.lazy(()=>Jt(()=>Yt(()=>Ht(()=>Wt(()=>Kt(()=>zt(()=>Ft(()=>Bt(()=>Ot(()=>import("./Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499-NSoB4kZx-C1AH7B5I-CxZluI_D-VQPEy7Tq.js"),__vite__mapDeps([60,51])),Lt([60,51])),Vt([60,51])),Ut([60,51])),qt([60,51])),$t([60,51])),Gt([60,51])),Qt([60,51])),Xt([60,51]))),dI={Home:xO,Game:CO,Progress:kO,Avatar:EO,DailyChallenge:SO,ParentPortal:TO,Shop:_O,Leaderboards:DO,TeamChallenges:IO,Subscription:NO,GenerateIcons:PO,TestIconGeneration:AO,Landing:p1,Messages:RO,ColorByNumbers:jO,Settings:MO,PrivacyPolicy:OO,AITutor:LO,AdminTestAccount:BO,Subscribe:VO};function Nne(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(dI).find(n=>n.toLowerCase()===e.toLowerCase())||Object.keys(dI)[0]}const Pne=()=>x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})});function Ane(){const t=so(),e=Nne(t.pathname);return x.jsx($X,{currentPageName:e,children:x.jsx(ag,{children:x.jsx(C.Suspense,{fallback:x.jsx(Pne,{}),children:x.jsxs(F7,{children:[x.jsx(At,{path:"/",element:x.jsx(p1,{})}),x.jsx(At,{path:"/Home",element:x.jsx(xO,{})}),x.jsx(At,{path:"/Game",element:x.jsx(CO,{})}),x.jsx(At,{path:"/Progress",element:x.jsx(kO,{})}),x.jsx(At,{path:"/Avatar",element:x.jsx(EO,{})}),x.jsx(At,{path:"/DailyChallenge",element:x.jsx(SO,{})}),x.jsx(At,{path:"/ParentPortal",element:x.jsx(TO,{})}),x.jsx(At,{path:"/Shop",element:x.jsx(_O,{})}),x.jsx(At,{path:"/Leaderboards",element:x.jsx(DO,{})}),x.jsx(At,{path:"/TeamChallenges",element:x.jsx(IO,{})}),x.jsx(At,{path:"/Subscription",element:x.jsx(NO,{})}),x.jsx(At,{path:"/GenerateIcons",element:x.jsx(PO,{})}),x.jsx(At,{path:"/TestIconGeneration",element:x.jsx(AO,{})}),x.jsx(At,{path:"/Landing",element:x.jsx(p1,{})}),x.jsx(At,{path:"/Messages",element:x.jsx(RO,{})}),x.jsx(At,{path:"/ColorByNumbers",element:x.jsx(jO,{})}),x.jsx(At,{path:"/Settings",element:x.jsx(MO,{})}),x.jsx(At,{path:"/PrivacyPolicy",element:x.jsx(OO,{})}),x.jsx(At,{path:"/AITutor",element:x.jsx(LO,{})}),x.jsx(At,{path:"/AdminTestAccount",element:x.jsx(BO,{})}),x.jsx(At,{path:"/Subscribe",element:x.jsx(VO,{})})]})})})})}function Rne(){return x.jsx(uq,{children:x.jsx(Ane,{})})}const jne=20,Mne=1e6,Fi={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Vw=0;function One(){return Vw=(Vw+1)%Number.MAX_VALUE,Vw.toString()}const Fw=new Map,hI=t=>{if(Fw.has(t))return;const e=setTimeout(()=>{Fw.delete(t),Uh({type:Fi.REMOVE_TOAST,toastId:t})},Mne);Fw.set(t,e)},Lne=(t,e)=>{switch(e.type){case Fi.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,jne)};case Fi.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Fi.DISMISS_TOAST:{const{toastId:n}=e;return n?hI(n):t.toasts.forEach(r=>{hI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Fi.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},hg=[];let fg={toasts:[]};function Uh(t){fg=Lne(fg,t),hg.forEach(e=>{e(fg)})}function Bne({...t}){const e=One(),n=s=>Uh({type:Fi.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>Uh({type:Fi.DISMISS_TOAST,toastId:e});return Uh({type:Fi.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Vne(){const[t,e]=C.useState(fg);return C.useEffect(()=>(hg.push(e),()=>{const n=hg.indexOf(e);n>-1&&hg.splice(n,1)}),[t]),{...t,toast:Bne,dismiss:n=>Uh({type:Fi.DISMISS_TOAST,toastId:n})}}const FO=C.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));FO.displayName="ToastProvider";const UO=C.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));UO.displayName="ToastViewport";const Fne=Qy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zO=C.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,className:wt(Fne({variant:e}),t),...n}));zO.displayName="Toast";const Une=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Une.displayName="ToastAction";const qO=C.forwardRef(({className:t,...e},n)=>x.jsx("button",{ref:n,className:wt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx($x,{className:"h-4 w-4"})}));qO.displayName="ToastClose";const KO=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm font-semibold",t),...e}));KO.displayName="ToastTitle";const $O=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm opacity-90",t),...e}));$O.displayName="ToastDescription";function zne(){const{toasts:t}=Vne();return x.jsxs(FO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(zO,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(KO,{children:n}),r&&x.jsx($O,{children:r})]}),s,x.jsx(qO,{})]},e)}),x.jsx(UO,{})]})}function qne(){return x.jsxs(x.Fragment,{children:[x.jsx(Rne,{}),x.jsx(zne,{})]})}const Kne=new qq({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});SL.createRoot(document.getElementById("root")).render(x.jsx($q,{client:Kne,children:x.jsx(oW,{children:x.jsx(qne,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{GR as $,jM as A,Kq as B,C,Ab as D,CK as E,wt as F,JX as G,YX as H,PR as I,rK as J,XZ as K,d2 as L,gK as M,jy as N,UX as O,Pb as P,xs as Q,ws as R,Qr as S,PK as T,Kn as U,GX as V,ZX as W,Ye as X,bs as Y,ti as Z,Yne as _,K4 as a,Ql as a$,nre as a0,Mx as a1,iW as a2,Gne as a3,l2 as a4,f2 as a5,lK as a6,EK as a7,bK as a8,Qne as a9,_x as aA,Wne as aB,qy as aC,h2 as aD,m2 as aE,Es as aF,zl as aG,RR as aH,rH as aI,g1 as aJ,DA as aK,Vne as aL,VY as aM,TX as aN,lre as aO,ire as aP,Hne as aQ,Jne as aR,tre as aS,ore as aT,are as aU,rre as aV,VH as aW,Kj as aX,MW as aY,ij as aZ,ure as a_,_m as aa,aw as ab,An as ac,ere as ad,sre as ae,uw as af,ng as ag,zy as ah,ci as ai,Bf as aj,bj as ak,Vb as al,JR as am,cH as an,pr as ao,dH as ap,Zn as aq,et as ar,Ff as as,Ij as at,rj as au,hH as av,fH as aw,Zne as ax,g2 as ay,hf as az,Hx as b,tj as b0,ej as b1,vK as b2,ha as b3,Fx as b4,Hi as b5,cr as b6,Dq as b7,Lf as b8,Sb as b9,of as ba,Fq as bb,c2 as bc,$ne as bd,Pj as be,DH as bf,IH as bg,U$ as bh,Qy as bi,Xne as c,tg as d,lw as e,pK as f,vl as g,$r as h,ft as i,VZ as j,DK as k,nt as l,YR as m,sn as n,XR as o,cK as p,$x as q,HX as r,ow as s,gn as t,dC as u,YK as v,Wb as w,x,bS as y,WX as z};
